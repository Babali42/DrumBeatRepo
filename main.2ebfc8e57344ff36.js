"use strict";(self.webpackChunkDrumBeatRepo=self.webpackChunkDrumBeatRepo||[]).push([[792],{928:()=>{function ju(e,t,n,r,o,s,i){try{var a=e[s](i),c=a.value}catch(l){return void n(l)}a.done?t(c):Promise.resolve(c).then(r,o)}function Bo(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var s=e.apply(t,n);function i(c){ju(s,r,o,i,a,"next",c)}function a(c){ju(s,r,o,i,a,"throw",c)}i(void 0)})}}let vt=null,fp=1;const Ai=Symbol("SIGNAL");function ue(e){const t=vt;return vt=e,t}function q0(e){if((!Uu(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==fp)){if(!e.producerMustRecompute(e)&&!Nv(e))return e.dirty=!1,void(e.lastCleanEpoch=fp);e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=fp}}function Nv(e){rc(e);for(let t=0;t<e.producerNode.length;t++){const n=e.producerNode[t],r=e.producerLastReadVersion[t];if(r!==n.version||(q0(n),r!==n.version))return!0}return!1}function hp(e,t){if(function J0(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}(e),rc(e),1===e.liveConsumerNode.length)for(let r=0;r<e.producerNode.length;r++)hp(e.producerNode[r],e.producerIndexOfThis[r]);const n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){const r=e.liveConsumerIndexOfThis[t],o=e.liveConsumerNode[t];rc(o),o.producerIndexOfThis[r]=t}}function Uu(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function rc(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}let Z0=null;function ot(e){return"function"==typeof e}function Fv(e){const n=e(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const Pv=Fv(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,o)=>`${o+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function pp(e,t){if(e){const n=e.indexOf(t);0<=n&&e.splice(n,1)}}class wn{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(ot(r))try{r()}catch(s){t=s instanceof Pv?s.errors:[s]}const{_finalizers:o}=this;if(o){this._finalizers=null;for(const s of o)try{oT(s)}catch(i){t=t??[],i instanceof Pv?t=[...t,...i.errors]:t.push(i)}}if(t)throw new Pv(t)}}add(t){var n;if(t&&t!==this)if(this.closed)oT(t);else{if(t instanceof wn){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}}_hasParent(t){const{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){const{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&pp(n,t)}remove(t){const{_finalizers:n}=this;n&&pp(n,t),t instanceof wn&&t._removeParent(this)}}wn.EMPTY=(()=>{const e=new wn;return e.closed=!0,e})();const nT=wn.EMPTY;function rT(e){return e instanceof wn||e&&"closed"in e&&ot(e.remove)&&ot(e.add)&&ot(e.unsubscribe)}function oT(e){ot(e)?e():e.unsubscribe()}const ki={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},gp={setTimeout(e,t,...n){const{delegate:r}=gp;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){const{delegate:t}=gp;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function sT(e){gp.setTimeout(()=>{const{onUnhandledError:t}=ki;if(!t)throw e;t(e)})}function Lv(){}const sz=Vv("C",void 0,void 0);function Vv(e,t,n){return{kind:e,value:t,error:n}}let Ni=null;function mp(e){if(ki.useDeprecatedSynchronousErrorHandling){const t=!Ni;if(t&&(Ni={errorThrown:!1,error:null}),e(),t){const{errorThrown:n,error:r}=Ni;if(Ni=null,n)throw r}}else e()}class jv extends wn{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,rT(t)&&t.add(this)):this.destination=fz}static create(t,n,r){return new $u(t,n,r)}next(t){this.isStopped?Uv(function az(e){return Vv("N",e,void 0)}(t),this):this._next(t)}error(t){this.isStopped?Uv(function iz(e){return Vv("E",void 0,e)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Uv(sz,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const lz=Function.prototype.bind;function Bv(e,t){return lz.call(e,t)}class uz{constructor(t){this.partialObserver=t}next(t){const{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){_p(r)}}error(t){const{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){_p(r)}else _p(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){_p(n)}}}class $u extends jv{constructor(t,n,r){let o;if(super(),ot(t)||!t)o={next:t??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&ki.useDeprecatedNextContext?(s=Object.create(t),s.unsubscribe=()=>this.unsubscribe(),o={next:t.next&&Bv(t.next,s),error:t.error&&Bv(t.error,s),complete:t.complete&&Bv(t.complete,s)}):o=t}this.destination=new uz(o)}}function _p(e){ki.useDeprecatedSynchronousErrorHandling?function cz(e){ki.useDeprecatedSynchronousErrorHandling&&Ni&&(Ni.errorThrown=!0,Ni.error=e)}(e):sT(e)}function Uv(e,t){const{onStoppedNotification:n}=ki;n&&gp.setTimeout(()=>n(e,t))}const fz={closed:!0,next:Lv,error:function dz(e){throw e},complete:Lv},$v="function"==typeof Symbol&&Symbol.observable||"@@observable";function xi(e){return e}function iT(e){return 0===e.length?xi:1===e.length?e[0]:function(n){return e.reduce((r,o)=>o(r),n)}}let Xe=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,o){const s=function gz(e){return e&&e instanceof jv||function pz(e){return e&&ot(e.next)&&ot(e.error)&&ot(e.complete)}(e)&&rT(e)}(n)?n:new $u(n,r,o);return mp(()=>{const{operator:i,source:a}=this;s.add(i?i.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=aT(r))((o,s)=>{const i=new $u({next:a=>{try{n(a)}catch(c){s(c),i.unsubscribe()}},error:s,complete:o});this.subscribe(i)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[$v](){return this}pipe(...n){return iT(n)(this)}toPromise(n){return new(n=aT(n))((r,o)=>{let s;this.subscribe(i=>s=i,i=>o(i),()=>r(s))})}}return e.create=t=>new e(t),e})();function aT(e){var t;return null!==(t=e??ki.Promise)&&void 0!==t?t:Promise}const mz=Fv(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Kt=(()=>{class e extends Xe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new cT(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new mz}next(n){mp(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){mp(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){mp(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:o,observers:s}=this;return r||o?nT:(this.currentObservers=null,s.push(n),new wn(()=>{this.currentObservers=null,pp(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:o,isStopped:s}=this;r?n.error(o):s&&n.complete()}asObservable(){const n=new Xe;return n.source=this,n}}return e.create=(t,n)=>new cT(t,n),e})();class cT extends Kt{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,t)}error(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,t)}complete(){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===n||n.call(t)}_subscribe(t){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(t))&&void 0!==r?r:nT}}class Fn extends Kt{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){const{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}function lT(e){return ot(e?.lift)}function Ft(e){return t=>{if(lT(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Tt(e,t,n,r,o){return new _z(e,t,n,r,o)}class _z extends jv{constructor(t,n,r,o,s,i){super(t),this.onFinalize=s,this.shouldUnsubscribe=i,this._next=n?function(a){try{n(a)}catch(c){t.error(c)}}:super._next,this._error=o?function(a){try{o(a)}catch(c){t.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function ie(e,t){return Ft((n,r)=>{let o=0;n.subscribe(Tt(r,s=>{r.next(e.call(t,s,o++))}))})}class M extends Error{constructor(t,n){super(function oc(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}(t,n)),this.code=t}}function Uo(e){return{toString:e}.toString()}const ic="__parameters__";function cc(e,t,n){return Uo(()=>{const r=function Hv(e){return function(...n){if(e){const r=e(...n);for(const o in r)this[o]=r[o]}}}(t);function o(...s){if(this instanceof o)return r.apply(this,s),this;const i=new o(...s);return a.annotation=i,a;function a(c,l,u){const d=c.hasOwnProperty(ic)?c[ic]:Object.defineProperty(c,ic,{value:[]})[ic];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(i),c}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=e,o.annotationCls=o,o})}const xe=globalThis;function Le(e){for(let t in e)if(e[t]===Le)return t;throw Error("Could not find renamed property on target object.")}function yz(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function Pt(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(Pt).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function qv(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const vz=Le({__forward_ref__:Le});function Ke(e){return e.__forward_ref__=Ke,e.toString=function(){return Pt(this())},e}function X(e){return vp(e)?e():e}function vp(e){return"function"==typeof e&&e.hasOwnProperty(vz)&&e.__forward_ref__===Ke}function L(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Vr(e){return{providers:e.providers||[],imports:e.imports||[]}}function bp(e){return pT(e,Cp)||pT(e,gT)}function pT(e,t){return e.hasOwnProperty(t)?e[t]:null}function Ep(e){return e&&(e.hasOwnProperty(zv)||e.hasOwnProperty(Dz))?e[zv]:null}const Cp=Le({\u0275prov:Le}),zv=Le({\u0275inj:Le}),gT=Le({ngInjectableDef:Le}),Dz=Le({ngInjectorDef:Le});class P{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=L({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Yv(e){return e&&!!e.\u0275providers}const Hu=Le({\u0275cmp:Le}),Qv=Le({\u0275dir:Le}),Jv=Le({\u0275pipe:Le}),_T=Le({\u0275mod:Le}),$o=Le({\u0275fac:Le}),qu=Le({__NG_ELEMENT_ID__:Le}),yT=Le({__NG_ENV_ID__:Le});function ne(e){return"string"==typeof e?e:null==e?"":String(e)}function Zv(e,t){throw new M(-201,!1)}var pe=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(pe||{});let eb;function vT(){return eb}function Pn(e){const t=eb;return eb=e,t}function bT(e,t,n){const r=bp(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&pe.Optional?null:void 0!==t?t:void Zv()}const zu={},tb="__NG_DI_FLAG__",wp="ngTempTokenPath",Az=/\n/gm,ET="__source";let lc;function Ns(e){const t=lc;return lc=e,t}function xz(e,t=pe.Default){if(void 0===lc)throw new M(-203,!1);return null===lc?bT(e,void 0,t):lc.get(e,t&pe.Optional?null:void 0,t)}function j(e,t=pe.Default){return(vT()||xz)(X(e),t)}function N(e,t=pe.Default){return j(e,Sp(t))}function Sp(e){return typeof e>"u"||"number"==typeof e?e:(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function nb(e){const t=[];for(let n=0;n<e.length;n++){const r=X(e[n]);if(Array.isArray(r)){if(0===r.length)throw new M(900,!1);let o,s=pe.Default;for(let i=0;i<r.length;i++){const a=r[i],c=Fz(a);"number"==typeof c?-1===c?o=a.token:s|=c:o=a}t.push(j(o,s))}else t.push(j(r))}return t}function Wu(e,t){return e[tb]=t,e.prototype[tb]=t,e}function Fz(e){return e[tb]}const rb=Wu(cc("Optional"),8),ob=Wu(cc("SkipSelf"),4);function Fi(e,t){return e.hasOwnProperty($o)?e[$o]:null}function uc(e,t){e.forEach(n=>Array.isArray(n)?uc(n,t):t(n))}function wT(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Dp(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Xn(e,t,n){let r=dc(e,t);return r>=0?e[1|r]=n:(r=~r,function ST(e,t,n,r){let o=e.length;if(o==t)e.push(n,r);else if(1===o)e.push(r,e[0]),e[0]=n;else{for(o--,e.push(e[o-1],e[o]);o>t;)e[o]=e[o-2],o--;e[t]=n,e[t+1]=r}}(e,r,t,n)),r}function ib(e,t){const n=dc(e,t);if(n>=0)return e[1|n]}function dc(e,t){return function DT(e,t,n){let r=0,o=e.length>>n;for(;o!==r;){const s=r+(o-r>>1),i=e[s<<n];if(t===i)return s<<n;i>t?o=s:r=s+1}return~(o<<n)}(e,t,1)}const so={},De=[],Pi=new P(""),MT=new P("",-1),ab=new P("");class Ip{get(t,n=zu){if(n===zu){const r=new Error(`NullInjectorError: No provider for ${Pt(t)}!`);throw r.name="NullInjectorError",r}return n}}var Tp=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Tp||{}),jr=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(jr||{}),st=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(st||{});function $z(e,t,n){let r=e.length;for(;;){const o=e.indexOf(t,n);if(-1===o)return o;if(0===o||e.charCodeAt(o-1)<=32){const s=t.length;if(o+s===r||e.charCodeAt(o+s)<=32)return o}n=o+1}}function cb(e,t,n){let r=0;for(;r<n.length;){const o=n[r];if("number"==typeof o){if(0!==o)break;r++;const s=n[r++],i=n[r++],a=n[r++];e.setAttribute(t,i,a,s)}else{const s=o,i=n[++r];TT(s)?e.setProperty(t,s,i):e.setAttribute(t,s,i),r++}}return r}function IT(e){return 3===e||4===e||6===e}function TT(e){return 64===e.charCodeAt(0)}function Gu(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const o=t[r];"number"==typeof o?n=o:0===n||OT(e,n,o,null,-1===n||2===n?t[++r]:null)}}return e}function OT(e,t,n,r,o){let s=0,i=e.length;if(-1===t)i=-1;else for(;s<e.length;){const a=e[s++];if("number"==typeof a){if(a===t){i=-1;break}if(a>t){i=s-1;break}}}for(;s<e.length;){const a=e[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==o&&(e[s+1]=o));if(r===e[s+1])return void(e[s+2]=o)}s++,null!==r&&s++,null!==o&&s++}-1!==i&&(e.splice(i,0,t),s=i+1),e.splice(s++,0,n),null!==r&&e.splice(s++,0,r),null!==o&&e.splice(s++,0,o)}const RT="ng-template";function Hz(e,t,n,r){let o=0;if(r){for(;o<t.length&&"string"==typeof t[o];o+=2)if("class"===t[o]&&-1!==$z(t[o+1].toLowerCase(),n,0))return!0}else if(lb(e))return!1;if(o=t.indexOf(1,o),o>-1){let s;for(;++o<t.length&&"string"==typeof(s=t[o]);)if(s.toLowerCase()===n)return!0}return!1}function lb(e){return 4===e.type&&e.value!==RT}function qz(e,t,n){return t===(4!==e.type||n?e.value:RT)}function zz(e,t,n){let r=4;const o=e.attrs,s=null!==o?function Xz(e){for(let t=0;t<e.length;t++)if(IT(e[t]))return t;return e.length}(o):0;let i=!1;for(let a=0;a<t.length;a++){const c=t[a];if("number"!=typeof c){if(!i)if(4&r){if(r=2|1&r,""!==c&&!qz(e,c,n)||""===c&&1===t.length){if(Br(r))return!1;i=!0}}else if(8&r){if(null===o||!Hz(e,o,c,n)){if(Br(r))return!1;i=!0}}else{const l=t[++a],u=Wz(c,o,lb(e),n);if(-1===u){if(Br(r))return!1;i=!0;continue}if(""!==l){let d;if(d=u>s?"":o[u+1].toLowerCase(),2&r&&l!==d){if(Br(r))return!1;i=!0}}}}else{if(!i&&!Br(r)&&!Br(c))return!1;if(i&&Br(c))continue;i=!1,r=c|1&r}}return Br(r)||i}function Br(e){return!(1&e)}function Wz(e,t,n,r){if(null===t)return-1;let o=0;if(r||!n){let s=!1;for(;o<t.length;){const i=t[o];if(i===e)return o;if(3===i||6===i)s=!0;else{if(1===i||2===i){let a=t[++o];for(;"string"==typeof a;)a=t[++o];continue}if(4===i)break;if(0===i){o+=4;continue}}o+=s?1:2}return-1}return function Kz(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function AT(e,t,n=!1){for(let r=0;r<t.length;r++)if(zz(e,t[r],n))return!0;return!1}function kT(e,t){return e?":not("+t.trim()+")":t}function Qz(e){let t=e[0],n=1,r=2,o="",s=!1;for(;n<e.length;){let i=e[n];if("string"==typeof i)if(2&r){const a=e[++n];o+="["+i+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?o+="."+i:4&r&&(o+=" "+i);else""!==o&&!Br(i)&&(t+=kT(s,o),o=""),r=i,s=s||!Br(r);n++}return""!==o&&(t+=kT(s,o)),t}function Ho(e){return Uo(()=>{const t=xT(e),n={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Tp.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||jr.Emulated,styles:e.styles||De,_:null,schemas:e.schemas||null,tView:null,id:""};FT(n);const r=e.dependencies;return n.directiveDefs=Op(r,!1),n.pipeDefs=Op(r,!0),n.id=function rW(e){let t=0;const n=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const o of n)t=Math.imul(31,t)+o.charCodeAt(0)|0;return t+=2147483648,"c"+t}(n),n})}function eW(e){return he(e)||Lt(e)}function tW(e){return null!==e}function io(e){return Uo(()=>({type:e.type,bootstrap:e.bootstrap||De,declarations:e.declarations||De,imports:e.imports||De,exports:e.exports||De,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function NT(e,t){if(null==e)return so;const n={};for(const r in e)if(e.hasOwnProperty(r)){const o=e[r];let s,i,a=st.None;Array.isArray(o)?(a=o[0],s=o[1],i=o[2]??s):(s=o,i=o),t?(n[s]=a!==st.None?[r,a]:r,t[s]=i):n[s]=r}return n}function ee(e){return Uo(()=>{const t=xT(e);return FT(t),t})}function Vn(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function he(e){return e[Hu]||null}function Lt(e){return e[Qv]||null}function sn(e){return e[Jv]||null}function un(e,t){const n=e[_T]||null;if(!n&&!0===t)throw new Error(`Type ${Pt(e)} does not have '\u0275mod' property.`);return n}function xT(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||so,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||De,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:NT(e.inputs,t),outputs:NT(e.outputs),debugInfo:null}}function FT(e){e.features?.forEach(t=>t(e))}function Op(e,t){if(!e)return null;const n=t?sn:eW;return()=>("function"==typeof e?e():e).map(r=>n(r)).filter(tW)}function fc(e){return{\u0275providers:e}}function oW(...e){return{\u0275providers:ub(0,e),\u0275fromNgModule:!0}}function ub(e,...t){const n=[],r=new Set;let o;const s=i=>{n.push(i)};return uc(t,i=>{const a=i;Rp(a,s,[],r)&&(o||=[],o.push(a))}),void 0!==o&&PT(o,s),n}function PT(e,t){for(let n=0;n<e.length;n++){const{ngModule:r,providers:o}=e[n];db(o,s=>{t(s,r)})}}function Rp(e,t,n,r){if(!(e=X(e)))return!1;let o=null,s=Ep(e);const i=!s&&he(e);if(s||i){if(i&&!i.standalone)return!1;o=e}else{const c=e.ngModule;if(s=Ep(c),!s)return!1;o=c}const a=r.has(o);if(i){if(a)return!1;if(r.add(o),i.dependencies){const c="function"==typeof i.dependencies?i.dependencies():i.dependencies;for(const l of c)Rp(l,t,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let l;r.add(o);try{uc(s.imports,u=>{Rp(u,t,n,r)&&(l||=[],l.push(u))})}finally{}void 0!==l&&PT(l,t)}if(!a){const l=Fi(o)||(()=>new o);t({provide:o,useFactory:l,deps:De},o),t({provide:ab,useValue:o,multi:!0},o),t({provide:Pi,useValue:()=>j(o),multi:!0},o)}const c=s.providers;if(null!=c&&!a){const l=e;db(c,u=>{t(u,l)})}}}return o!==e&&void 0!==e.providers}function db(e,t){for(let n of e)Yv(n)&&(n=n.\u0275providers),Array.isArray(n)?db(n,t):t(n)}const sW=Le({provide:String,useValue:Le});function fb(e){return null!==e&&"object"==typeof e&&sW in e}function Li(e){return"function"==typeof e}const hb=new P(""),Ap={},aW={};let pb;function kp(){return void 0===pb&&(pb=new Ip),pb}class Kn{}class hc extends Kn{get destroyed(){return this._destroyed}constructor(t,n,r,o){super(),this.parent=n,this.source=r,this.scopes=o,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,mb(t,i=>this.processProvider(i)),this.records.set(MT,pc(void 0,this)),o.has("environment")&&this.records.set(Kn,pc(void 0,this));const s=this.records.get(hb);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(ab,De,pe.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const t=ue(null);try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ue(t)}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const n=Ns(this),r=Pn(void 0);try{return t()}finally{Ns(n),Pn(r)}}get(t,n=zu,r=pe.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(yT))return t[yT](this);r=Sp(r);const s=Ns(this),i=Pn(void 0);try{if(!(r&pe.SkipSelf)){let c=this.records.get(t);if(void 0===c){const l=function fW(e){return"function"==typeof e||"object"==typeof e&&e instanceof P}(t)&&bp(t);c=l&&this.injectableDefInScope(l)?pc(gb(t),Ap):null,this.records.set(t,c)}if(null!=c)return this.hydrate(t,c)}return(r&pe.Self?kp():this.parent).get(t,n=r&pe.Optional&&n===zu?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[wp]=a[wp]||[]).unshift(Pt(t)),s)throw a;return function Pz(e,t,n,r){const o=e[wp];throw t[ET]&&o.unshift(t[ET]),e.message=function Lz(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let o=Pt(t);if(Array.isArray(t))o=t.map(Pt).join(" -> ");else if("object"==typeof t){let s=[];for(let i in t)if(t.hasOwnProperty(i)){let a=t[i];s.push(i+":"+("string"==typeof a?JSON.stringify(a):Pt(a)))}o=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${o}]: ${e.replace(Az,"\n  ")}`}("\n"+e.message,o,n,r),e.ngTokenPath=o,e[wp]=null,e}(a,t,"R3InjectorError",this.source)}throw a}finally{Pn(i),Ns(s)}}resolveInjectorInitializers(){const t=ue(null),n=Ns(this),r=Pn(void 0);try{const s=this.get(Pi,De,pe.Self);for(const i of s)i()}finally{Ns(n),Pn(r),ue(t)}}toString(){const t=[],n=this.records;for(const r of n.keys())t.push(Pt(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new M(205,!1)}processProvider(t){let n=Li(t=X(t))?t:X(t&&t.provide);const r=function lW(e){return fb(e)?pc(void 0,e.useValue):pc(jT(e),Ap)}(t);if(!Li(t)&&!0===t.multi){let o=this.records.get(n);o||(o=pc(void 0,Ap,!0),o.factory=()=>nb(o.multi),this.records.set(n,o)),n=t,o.multi.push(t)}this.records.set(n,r)}hydrate(t,n){const r=ue(null);try{return n.value===Ap&&(n.value=aW,n.value=n.factory()),"object"==typeof n.value&&n.value&&function dW(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{ue(r)}}injectableDefInScope(t){if(!t.providedIn)return!1;const n=X(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){const n=this._onDestroyHooks.indexOf(t);-1!==n&&this._onDestroyHooks.splice(n,1)}}function gb(e){const t=bp(e),n=null!==t?t.factory:Fi(e);if(null!==n)return n;if(e instanceof P)throw new M(204,!1);if(e instanceof Function)return function cW(e){if(e.length>0)throw new M(204,!1);const n=function Sz(e){return e&&(e[Cp]||e[gT])||null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new M(204,!1)}function jT(e,t,n){let r;if(Li(e)){const o=X(e);return Fi(o)||gb(o)}if(fb(e))r=()=>X(e.useValue);else if(function VT(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...nb(e.deps||[]));else if(function LT(e){return!(!e||!e.useExisting)}(e))r=()=>j(X(e.useExisting));else{const o=X(e&&(e.useClass||e.provide));if(!function uW(e){return!!e.deps}(e))return Fi(o)||gb(o);r=()=>new o(...nb(e.deps))}return r}function pc(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function mb(e,t){for(const n of e)Array.isArray(n)?mb(n,t):n&&Yv(n)?mb(n.\u0275providers,t):t(n)}function qo(e,t){e instanceof hc&&e.assertNotDestroyed();const r=Ns(e),o=Pn(void 0);try{return t()}finally{Ns(r),Pn(o)}}const at=0,x=1,H=2,bt=3,Ur=4,dn=5,Yn=6,mc=7,Ye=8,Ot=9,$r=10,K=11,Ku=12,$T=13,_c=14,gt=15,Yu=16,yc=17,zo=18,Qu=19,HT=20,Fs=21,Fp=22,Vi=23,re=25,yb=1,ao=7,vc=9,Et=10;var vb=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(vb||{});function fn(e){return Array.isArray(e)&&"object"==typeof e[yb]}function hn(e){return Array.isArray(e)&&!0===e[yb]}function bb(e){return!!(4&e.flags)}function ji(e){return e.componentOffset>-1}function Lp(e){return!(1&~e.flags)}function Hr(e){return!!e.template}function Eb(e){return!!(512&e[H])}class DW{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function GT(e,t,n,r){null!==t?t.applyValueToInputSignal(t,r):e[n]=r}function mr(){return XT}function XT(e){return e.type.prototype.ngOnChanges&&(e.setInput=IW),MW}function MW(){const e=YT(this),t=e?.current;if(t){const n=e.previous;if(n===so)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function IW(e,t,n,r,o){const s=this.declaredInputs[r],i=YT(e)||function TW(e,t){return e[KT]=t}(e,{previous:so,current:null}),a=i.current||(i.current={}),c=i.previous,l=c[s];a[s]=new DW(l&&l.currentValue,n,c===so),GT(e,t,o,n)}mr.ngInherit=!0;const KT="__ngSimpleChanges__";function YT(e){return e[KT]||null}const co=function(e,t,n){};let ZT=!1;function je(e){for(;Array.isArray(e);)e=e[at];return e}function Zu(e,t){return je(t[e])}function Sn(e,t){return je(t[e.index])}function ed(e,t){return e.data[t]}function Qn(e,t){const n=t[e];return fn(n)?n:n[at]}function Mb(e){return!(128&~e[H])}function lo(e,t){return null==t?null:e[t]}function eO(e){e[yc]=0}function xW(e){1024&e[H]||(e[H]|=1024,Mb(e)&&td(e))}function Ib(e){return!!(9216&e[H]||e[Vi]?.dirty)}function Tb(e){e[$r].changeDetectionScheduler?.notify(1),Ib(e)?td(e):64&e[H]&&(function RW(){return ZT}()?(e[H]|=1024,td(e)):e[$r].changeDetectionScheduler?.notify())}function td(e){e[$r].changeDetectionScheduler?.notify();let t=Bi(e);for(;null!==t&&!(8192&t[H])&&(t[H]|=8192,Mb(t));)t=Bi(t)}function Vp(e,t){if(!(256&~e[H]))throw new M(911,!1);null===e[Fs]&&(e[Fs]=[]),e[Fs].push(t)}function Bi(e){const t=e[bt];return hn(t)?t[bt]:t}const Y={lFrame:uO(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function rO(){return Y.bindingsEnabled}function S(){return Y.lFrame.lView}function ge(){return Y.lFrame.tView}function Rb(e){return Y.lFrame.contextLView=e,e[Ye]}function Ab(e){return Y.lFrame.contextLView=null,e}function Ve(){let e=oO();for(;null!==e&&64===e.type;)e=e.parent;return e}function oO(){return Y.lFrame.currentTNode}function uo(e,t){const n=Y.lFrame;n.currentTNode=e,n.isParent=t}function kb(){return Y.lFrame.isParent}function Nb(){Y.lFrame.isParent=!1}function Dn(){const e=Y.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function qr(){return Y.lFrame.bindingIndex++}function zW(e,t){const n=Y.lFrame;n.bindingIndex=n.bindingRootIndex=e,xb(t)}function xb(e){Y.lFrame.currentDirectiveIndex=e}function jp(e){Y.lFrame.currentQueryIndex=e}function GW(e){const t=e[x];return 2===t.type?t.declTNode:1===t.type?e[dn]:null}function cO(e,t,n){if(n&pe.SkipSelf){let o=t,s=e;for(;!(o=o.parent,null!==o||n&pe.Host||(o=GW(s),null===o||(s=s[_c],10&o.type))););if(null===o)return!1;t=o,e=s}const r=Y.lFrame=lO();return r.currentTNode=t,r.lView=e,!0}function Lb(e){const t=lO(),n=e[x];Y.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function lO(){const e=Y.lFrame,t=null===e?null:e.child;return null===t?uO(e):t}function uO(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function dO(){const e=Y.lFrame;return Y.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const fO=dO;function Vb(){const e=dO();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function pn(){return Y.lFrame.selectedIndex}function Ui(e){Y.lFrame.selectedIndex=e}function Qe(){const e=Y.lFrame;return ed(e.tView,e.selectedIndex)}let pO=!0;function rd(){return pO}function fo(e){pO=e}function Bp(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const s=e.data[n].type.prototype,{ngAfterContentInit:i,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=s;i&&(e.contentHooks??=[]).push(-n,i),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),c&&(e.viewHooks??=[]).push(-n,c),l&&((e.viewHooks??=[]).push(n,l),(e.viewCheckHooks??=[]).push(n,l)),null!=u&&(e.destroyHooks??=[]).push(n,u)}}function Up(e,t,n){gO(e,t,3,n)}function $p(e,t,n,r){(3&e[H])===n&&gO(e,t,n,r)}function jb(e,t){let n=e[H];(3&n)===t&&(n&=16383,n+=1,e[H]=n)}function gO(e,t,n,r){const s=r??-1,i=t.length-1;let a=0;for(let c=void 0!==r?65535&e[yc]:0;c<i;c++)if("number"==typeof t[c+1]){if(a=t[c],null!=r&&a>=r)break}else t[c]<0&&(e[yc]+=65536),(a<s||-1==s)&&(eG(e,n,t,c),e[yc]=(4294901760&e[yc])+c+2),c++}function mO(e,t){co(4,e,t);const n=ue(null);try{t.call(e)}finally{ue(n),co(5,e,t)}}function eG(e,t,n,r){const o=n[r]<0,s=n[r+1],a=e[o?-n[r]:n[r]];o?e[H]>>14<e[yc]>>16&&(3&e[H])===t&&(e[H]+=16384,mO(a,s)):mO(a,s)}const Cc=-1;class od{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function Ub(e){return e!==Cc}function sd(e){return 32767&e}function id(e,t){let n=function sG(e){return e>>16}(e),r=t;for(;n>0;)r=r[_c],n--;return r}let $b=!0;function Hp(e){const t=$b;return $b=e,t}const _O=255,yO=5;let iG=0;const ho={};function qp(e,t){const n=vO(e,t);if(-1!==n)return n;const r=t[x];r.firstCreatePass&&(e.injectorIndex=t.length,Hb(r.data,e),Hb(t,null),Hb(r.blueprint,null));const o=zp(e,t),s=e.injectorIndex;if(Ub(o)){const i=sd(o),a=id(o,t),c=a[x].data;for(let l=0;l<8;l++)t[s+l]=a[i+l]|c[i+l]}return t[s+8]=o,s}function Hb(e,t){e.push(0,0,0,0,0,0,0,0,t)}function vO(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function zp(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,o=t;for(;null!==o;){if(r=MO(o),null===r)return Cc;if(n++,o=o[_c],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Cc}function qb(e,t,n){!function aG(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(qu)&&(r=n[qu]),null==r&&(r=n[qu]=iG++);const o=r&_O;t.data[e+(o>>yO)]|=1<<o}(e,t,n)}function bO(e,t,n){if(n&pe.Optional||void 0!==e)return e;Zv()}function EO(e,t,n,r){if(n&pe.Optional&&void 0===r&&(r=null),!(n&(pe.Self|pe.Host))){const o=e[Ot],s=Pn(void 0);try{return o?o.get(t,r,n&pe.Optional):bT(t,r,n&pe.Optional)}finally{Pn(s)}}return bO(r,0,n)}function CO(e,t,n,r=pe.Default,o){if(null!==e){if(2048&t[H]&&!(r&pe.Self)){const i=function fG(e,t,n,r,o){let s=e,i=t;for(;null!==s&&null!==i&&2048&i[H]&&!(512&i[H]);){const a=wO(s,i,n,r|pe.Self,ho);if(a!==ho)return a;let c=s.parent;if(!c){const l=i[HT];if(l){const u=l.get(n,ho,r);if(u!==ho)return u}c=MO(i),i=i[_c]}s=c}return o}(e,t,n,r,ho);if(i!==ho)return i}const s=wO(e,t,n,r,ho);if(s!==ho)return s}return EO(t,n,r,o)}function wO(e,t,n,r,o){const s=function uG(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(qu)?e[qu]:void 0;return"number"==typeof t?t>=0?t&_O:dG:t}(n);if("function"==typeof s){if(!cO(t,e,r))return r&pe.Host?bO(o,0,r):EO(t,n,r,o);try{let i;if(i=s(r),null!=i||r&pe.Optional)return i;Zv()}finally{fO()}}else if("number"==typeof s){let i=null,a=vO(e,t),c=Cc,l=r&pe.Host?t[gt][dn]:null;for((-1===a||r&pe.SkipSelf)&&(c=-1===a?zp(e,t):t[a+8],c!==Cc&&DO(r,!1)?(i=t[x],a=sd(c),t=id(c,t)):a=-1);-1!==a;){const u=t[x];if(SO(s,a,u.data)){const d=lG(a,t,n,i,r,l);if(d!==ho)return d}c=t[a+8],c!==Cc&&DO(r,t[x].data[a+8]===l)&&SO(s,a,t)?(i=u,a=sd(c),t=id(c,t)):a=-1}}return o}function lG(e,t,n,r,o,s){const i=t[x],a=i.data[e+8],u=function Wp(e,t,n,r,o){const s=e.providerIndexes,i=t.data,a=1048575&s,c=e.directiveStart,u=s>>20,f=o?a+u:e.directiveEnd;for(let p=r?a:a+u;p<f;p++){const g=i[p];if(p<c&&n===g||p>=c&&g.type===n)return p}if(o){const p=i[c];if(p&&Hr(p)&&p.type===n)return c}return null}(a,i,n,null==r?ji(a)&&$b:r!=i&&!!(3&a.type),o&pe.Host&&s===a);return null!==u?$i(t,i,u,a):ho}function $i(e,t,n,r){let o=e[n];const s=t.data;if(function tG(e){return e instanceof od}(o)){const i=o;i.resolving&&function Tz(e,t){throw t&&t.join(" > "),new M(-200,e)}(function Oe(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():ne(e)}(s[n]));const a=Hp(i.canSeeViewProviders);i.resolving=!0;const l=i.injectImpl?Pn(i.injectImpl):null;cO(e,r,pe.Default);try{o=e[n]=i.factory(void 0,s,e,r),t.firstCreatePass&&n>=r.directiveStart&&function ZW(e,t,n){const{ngOnChanges:r,ngOnInit:o,ngDoCheck:s}=t.type.prototype;if(r){const i=XT(t);(n.preOrderHooks??=[]).push(e,i),(n.preOrderCheckHooks??=[]).push(e,i)}o&&(n.preOrderHooks??=[]).push(0-e,o),s&&((n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s))}(n,s[n],t)}finally{null!==l&&Pn(l),Hp(a),i.resolving=!1,fO()}}return o}function SO(e,t,n){return!!(n[t+(e>>yO)]&1<<e)}function DO(e,t){return!(e&pe.Self||e&pe.Host&&t)}class jt{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return CO(this._tNode,this._lView,t,Sp(r),n)}}function dG(){return new jt(Ve(),S())}function Bt(e){return Uo(()=>{const t=e.prototype.constructor,n=t[$o]||zb(t),r=Object.prototype;let o=Object.getPrototypeOf(e.prototype).constructor;for(;o&&o!==r;){const s=o[$o]||zb(o);if(s&&s!==n)return s;o=Object.getPrototypeOf(o)}return s=>new s})}function zb(e){return vp(e)?()=>{const t=zb(X(e));return t&&t()}:Fi(e)}function MO(e){const t=e[x],n=t.type;return 2===n?t.declTNode:1===n?e[dn]:null}function AO(e,t=null,n=null,r){const o=kO(e,t,n,r);return o.resolveInjectorInitializers(),o}function kO(e,t=null,n=null,r,o=new Set){const s=[n||De,oW(e)];return r=r||("object"==typeof e?void 0:Pt(e)),new hc(s,t||kp(),r||null,o)}let jn=(()=>{class e{static{this.THROW_IF_NOT_FOUND=zu}static{this.NULL=new Ip}static create(n,r){if(Array.isArray(n))return AO({name:""},r,n,"");{const o=n.name??"";return AO({name:o},n.parent,n.providers,o)}}static{this.\u0275prov=L({token:e,providedIn:"any",factory:()=>j(MT)})}static{this.__NG_ELEMENT_ID__=-1}}return e})();function Gb(e){return e.ngOriginalError}class po{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&Gb(t);for(;n&&Gb(n);)n=Gb(n);return n||null}}const xO=new P("",{providedIn:"root",factory:()=>N(po).handleError.bind(void 0)});let Dc=(()=>{class e{static{this.__NG_ELEMENT_ID__=EG}static{this.__NG_ENV_ID__=n=>n}}return e})();class bG extends Dc{constructor(t){super(),this._lView=t}onDestroy(t){return Vp(this._lView,t),()=>function Ob(e,t){if(null===e[Fs])return;const n=e[Fs].indexOf(t);-1!==n&&e[Fs].splice(n,1)}(this._lView,t)}}function EG(){return new bG(S())}function CG(){return Mc(Ve(),S())}function Mc(e,t){return new Jn(Sn(e,t))}let Jn=(()=>{class e{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=CG}}return e})();function Xb(e){return t=>{setTimeout(e,void 0,t)}}const ct=class wG extends Kt{constructor(t=!1){super(),this.destroyRef=void 0,this.__isAsync=t,function BT(){return void 0!==vT()||null!=function Nz(){return lc}()}()&&(this.destroyRef=N(Dc,{optional:!0})??void 0)}emit(t){const n=ue(null);try{super.next(t)}finally{ue(n)}}subscribe(t,n,r){let o=t,s=n||(()=>null),i=r;if(t&&"object"==typeof t){const c=t;o=c.next?.bind(c),s=c.error?.bind(c),i=c.complete?.bind(c)}this.__isAsync&&(s=Xb(s),o&&(o=Xb(o)),i&&(i=Xb(i)));const a=super.subscribe({next:o,error:s,complete:i});return t instanceof wn&&t.add(a),a}};function Xp(e){return!(128&~e.flags)}const Yb=new Map;let MG=0;const Jb="__ngContext__";function gn(e,t){fn(t)?(e[Jb]=t[Qu],function TG(e){Yb.set(e[Qu],e)}(t)):e[Jb]=t}function WO(e){return XO(e[Ku])}function GO(e){return XO(e[Ur])}function XO(e){for(;null!==e&&!hn(e);)e=e[Ur];return e}let Zb;const Qp=new P("",{providedIn:"root",factory:()=>WG}),WG="ng",nR=new P(""),Xo=new P("",{providedIn:"platform",factory:()=>"unknown"}),eE=new P("",{providedIn:"root",factory:()=>function Ps(){if(void 0!==Zb)return Zb;if(typeof document<"u")return document;throw new M(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let rR=()=>null;function cE(e,t,n=!1){return rR(e,t,n)}const cR=new P("",{providedIn:"root",factory:()=>!1});class hR{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}const A4=/^>|^->|<!--|-->|--!>|<!-$/g,k4=/(<|>)/g,N4="\u200b$1\u200b";function TR(e){return e.ownerDocument.defaultView}function OR(e){return e.ownerDocument}function Zn(e){return e instanceof Function?e():e}var Vs=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Vs||{});let EE;function CE(e,t){return EE(e,t)}function kc(e,t,n,r,o){if(null!=r){let s,i=!1;hn(r)?s=r:fn(r)&&(i=!0,r=r[at]);const a=je(r);0===e&&null!==n?null==o?VR(t,n,a):Hi(t,n,a,o||null,!0):1===e&&null!==n?Hi(t,n,a,o||null,!0):2===e?function vd(e,t,n){const r=dg(e,t);r&&function Y4(e,t,n,r){e.removeChild(t,n,r)}(e,r,t,n)}(t,a,i):3===e&&t.destroyNode(a),null!=s&&function Z4(e,t,n,r,o){const s=n[ao];s!==je(n)&&kc(t,e,r,s,o);for(let a=Et;a<n.length;a++){const c=n[a];hg(c[x],c,e,t,r,s)}}(t,e,s,n,o)}}function SE(e,t){return e.createComment(function DR(e){return e.replace(A4,t=>t.replace(k4,N4))}(t))}function lg(e,t,n){return e.createElement(t,n)}function FR(e,t){t[$r].changeDetectionScheduler?.notify(1),hg(e,t,t[K],2,null,null)}function PR(e,t){const n=e[vc],r=n.indexOf(t);n.splice(r,1)}function _d(e,t){if(e.length<=Et)return;const n=Et+t,r=e[n];if(r){const o=r[Yu];null!==o&&o!==e&&PR(o,r),t>0&&(e[n-1][Ur]=r[Ur]);const s=Dp(e,Et+t);!function H4(e,t){FR(e,t),t[at]=null,t[dn]=null}(r[x],r);const i=s[zo];null!==i&&i.detachView(s[x]),r[bt]=null,r[Ur]=null,r[H]&=-129}return r}function ug(e,t){if(!(256&t[H])){const n=t[K];n.destroyNode&&hg(e,t,n,3,null,null),function z4(e){let t=e[Ku];if(!t)return DE(e[x],e);for(;t;){let n=null;if(fn(t))n=t[Ku];else{const r=t[Et];r&&(n=r)}if(!n){for(;t&&!t[Ur]&&t!==e;)fn(t)&&DE(t[x],t),t=t[bt];null===t&&(t=e),fn(t)&&DE(t[x],t),n=t&&t[Ur]}t=n}}(t)}}function DE(e,t){if(256&t[H])return;const n=ue(null);try{t[H]&=-129,t[H]|=256,t[Vi]&&function Y0(e){if(rc(e),Uu(e))for(let t=0;t<e.producerNode.length;t++)hp(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}(t[Vi]),function K4(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const o=t[n[r]];if(!(o instanceof od)){const s=n[r+1];if(Array.isArray(s))for(let i=0;i<s.length;i+=2){const a=o[s[i]],c=s[i+1];co(4,a,c);try{c.call(a)}finally{co(5,a,c)}}else{co(4,o,s);try{s.call(o)}finally{co(5,o,s)}}}}}(e,t),function X4(e,t){const n=e.cleanup,r=t[mc];if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const i=n[s+3];i>=0?r[i]():r[-i].unsubscribe(),s+=2}else n[s].call(r[n[s+1]]);null!==r&&(t[mc]=null);const o=t[Fs];if(null!==o){t[Fs]=null;for(let s=0;s<o.length;s++)(0,o[s])()}}(e,t),1===t[x].type&&t[K].destroy();const r=t[Yu];if(null!==r&&hn(t[bt])){r!==t[bt]&&PR(r,t);const o=t[zo];null!==o&&o.detachView(e)}!function OG(e){Yb.delete(e[Qu])}(t)}finally{ue(n)}}function ME(e,t,n){return function LR(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[at];{const{componentOffset:o}=r;if(o>-1){const{encapsulation:s}=e.data[r.directiveStart+o];if(s===jr.None||s===jr.Emulated)return null}return Sn(r,n)}}(e,t.parent,n)}function Hi(e,t,n,r,o){e.insertBefore(t,n,r,o)}function VR(e,t,n){e.appendChild(t,n)}function jR(e,t,n,r,o){null!==r?Hi(e,t,n,r,o):VR(e,t,n)}function dg(e,t){return e.parentNode(t)}let IE,$R=function UR(e,t,n){return 40&e.type?Sn(e,n):null};function fg(e,t,n,r){const o=ME(e,r,t),s=t[K],a=function BR(e,t,n){return $R(e,t,n)}(r.parent||t[dn],r,t);if(null!=o)if(Array.isArray(n))for(let c=0;c<n.length;c++)jR(s,o,n[c],a,!1);else jR(s,o,n,a,!1);void 0!==IE&&IE(s,r,t,n,o)}function yd(e,t){if(null!==t){const n=t.type;if(3&n)return Sn(t,e);if(4&n)return TE(-1,e[t.index]);if(8&n){const r=t.child;if(null!==r)return yd(e,r);{const o=e[t.index];return hn(o)?TE(-1,o):je(o)}}if(32&n)return CE(t,e)()||je(e[t.index]);{const r=qR(e,t);return null!==r?Array.isArray(r)?r[0]:yd(Bi(e[gt]),r):yd(e,t.next)}}return null}function qR(e,t){return null!==t?e[gt][dn].projection[t.projection]:null}function TE(e,t){const n=Et+e+1;if(n<t.length){const r=t[n],o=r[x].firstChild;if(null!==o)return yd(r,o)}return t[ao]}function OE(e,t,n,r,o,s,i){for(;null!=n;){const a=r[n.index],c=n.type;if(i&&0===t&&(a&&gn(je(a),r),n.flags|=2),32&~n.flags)if(8&c)OE(e,t,n.child,r,o,s,!1),kc(t,e,o,a,s);else if(32&c){const l=CE(n,r);let u;for(;u=l();)kc(t,e,o,u,s);kc(t,e,o,a,s)}else 16&c?WR(e,t,r,n,o,s):kc(t,e,o,a,s);n=i?n.projectionNext:n.next}}function hg(e,t,n,r,o,s){OE(n,r,e.firstChild,t,o,s,!1)}function WR(e,t,n,r,o,s){const i=n[gt],c=i[dn].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++)kc(t,e,o,c[l],s);else{let l=c;const u=i[bt];Xp(r)&&(l.flags|=128),OE(e,t,l,u,o,s,!0)}}function GR(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function XR(e,t,n){const{mergedAttrs:r,classes:o,styles:s}=n;null!==r&&cb(e,t,r),null!==o&&GR(e,t,o),null!==s&&function tX(e,t,n){e.setAttribute(t,"style",n)}(e,t,s)}const oe={};function Te(e=1){KR(ge(),S(),pn()+e,!1)}function KR(e,t,n,r){if(!r)if(3&~t[H]){const s=e.preOrderHooks;null!==s&&$p(t,s,0,n)}else{const s=e.preOrderCheckHooks;null!==s&&Up(t,s,n)}Ui(n)}function R(e,t=pe.Default){const n=S();return null===n?j(e,t):CO(Ve(),n,X(e),t)}function YR(e,t,n,r,o,s){const i=ue(null);try{let a=null;o&st.SignalBased&&(a=t[r][Ai]),null!==a&&void 0!==a.transformFn&&(s=a.transformFn(s)),o&st.HasDecoratorInputTransform&&(s=e.inputTransforms[r].call(t,s)),null!==e.setInput?e.setInput(t,a,s,n,r):GT(t,a,r,s)}finally{ue(i)}}function pg(e,t,n,r,o,s,i,a,c,l,u){const d=t.blueprint.slice();return d[at]=o,d[H]=204|r,(null!==l||e&&2048&e[H])&&(d[H]|=2048),eO(d),d[bt]=d[_c]=e,d[Ye]=n,d[$r]=i||e&&e[$r],d[K]=a||e&&e[K],d[Ot]=c||e&&e[Ot]||null,d[dn]=s,d[Qu]=function IG(){return MG++}(),d[Yn]=u,d[HT]=l,d[gt]=2==t.type?e[gt]:d,d}function Nc(e,t,n,r,o){let s=e.data[t];if(null===s)s=function RE(e,t,n,r,o){const s=oO(),i=kb(),c=e.data[t]=function uX(e,t,n,r,o,s){let i=t?t.injectorIndex:-1,a=0;return function Ec(){return null!==Y.skipHydrationRootTNode}()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:i,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:o,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,i?s:s&&s.parent,n,t,r,o);return null===e.firstChild&&(e.firstChild=c),null!==s&&(i?null==s.child&&null!==c.parent&&(s.child=c):null===s.next&&(s.next=c,c.prev=s)),c}(e,t,n,r,o),function qW(){return Y.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=r,s.attrs=o;const i=function nd(){const e=Y.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();s.injectorIndex=null===i?-1:i.injectorIndex}return uo(s,!0),s}function bd(e,t,n,r){if(0===n)return-1;const o=t.length;for(let s=0;s<n;s++)t.push(r),e.blueprint.push(r),e.data.push(null);return o}function QR(e,t,n,r,o){const s=pn(),i=2&r;try{Ui(-1),i&&t.length>re&&KR(e,t,re,!1),co(i?2:0,o),n(r,o)}finally{Ui(s),co(i?3:1,o)}}function AE(e,t,n){if(bb(t)){const r=ue(null);try{const s=t.directiveEnd;for(let i=t.directiveStart;i<s;i++){const a=e.data[i];a.contentQueries&&a.contentQueries(1,n[i],i)}}finally{ue(r)}}}function kE(e,t,n){rO()&&(function _X(e,t,n,r){const o=n.directiveStart,s=n.directiveEnd;ji(n)&&function SX(e,t,n){const r=Sn(t,e),o=JR(n);let i=16;n.signals?i=4096:n.onPush&&(i=64);const a=gg(e,pg(e,o,null,i,r,t,null,e[$r].rendererFactory.createRenderer(r,n),null,null,null));e[t.index]=a}(t,n,e.data[o+n.componentOffset]),e.firstCreatePass||qp(n,t),gn(r,t);const i=n.initialInputs;for(let a=o;a<s;a++){const c=e.data[a],l=$i(t,e,a,n);gn(l,t),null!==i&&DX(0,a-o,l,c,0,i),Hr(c)&&(Qn(n.index,t)[Ye]=$i(t,e,a,n))}}(e,t,n,Sn(n,t)),!(64&~n.flags)&&rA(e,t,n))}function NE(e,t,n=Sn){const r=t.localNames;if(null!==r){let o=t.index+1;for(let s=0;s<r.length;s+=2){const i=r[s+1],a=-1===i?n(t,e):e[i];e[o++]=a}}}function JR(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=xE(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function xE(e,t,n,r,o,s,i,a,c,l,u){const d=re+r,f=d+o,p=function oX(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:oe);return n}(d,f),g="function"==typeof l?l():l;return p[x]={type:e,blueprint:p,template:n,queries:null,viewQuery:a,declTNode:t,data:p.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof i?i():i,firstChild:null,schemas:c,consts:g,incompleteFirstPass:!1,ssrId:u}}let ZR=()=>null;function eA(e,t,n,r,o){for(let s in t){if(!t.hasOwnProperty(s))continue;const i=t[s];if(void 0===i)continue;r??={};let a,c=st.None;Array.isArray(i)?(a=i[0],c=i[1]):a=i;let l=s;if(null!==o){if(!o.hasOwnProperty(s))continue;l=o[s]}0===e?tA(r,n,l,a,c):tA(r,n,l,a)}return r}function tA(e,t,n,r,o){let s;e.hasOwnProperty(n)?(s=e[n]).push(t,r):s=e[n]=[t,r],void 0!==o&&s.push(o)}function Un(e,t,n,r,o,s,i,a){const c=Sn(t,n);let u,l=t.inputs;!a&&null!=l&&(u=l[r])?(jE(e,n,u,r,o),ji(t)&&function hX(e,t){const n=Qn(t,e);16&n[H]||(n[H]|=64)}(n,t.index)):3&t.type&&(r=function fX(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),o=null!=i?i(o,t.value||"",r):o,s.setProperty(c,r,o))}function FE(e,t,n,r){if(rO()){const o=null===r?null:{"":-1},s=function vX(e,t){const n=e.directiveRegistry;let r=null,o=null;if(n)for(let s=0;s<n.length;s++){const i=n[s];if(AT(t,i.selectors,!1))if(r||(r=[]),Hr(i))if(null!==i.findHostDirectiveDefs){const a=[];o=o||new Map,i.findHostDirectiveDefs(i,a,o),r.unshift(...a,i),PE(e,t,a.length)}else r.unshift(i),PE(e,t,0);else o=o||new Map,i.findHostDirectiveDefs?.(i,r,o),r.push(i)}return null===r?null:[r,o]}(e,n);let i,a;null===s?i=a=null:[i,a]=s,null!==i&&nA(e,t,n,i,o,a),o&&function bX(e,t,n){if(t){const r=e.localNames=[];for(let o=0;o<t.length;o+=2){const s=n[t[o+1]];if(null==s)throw new M(-301,!1);r.push(t[o],s)}}}(n,r,o)}n.mergedAttrs=Gu(n.mergedAttrs,n.attrs)}function nA(e,t,n,r,o,s){for(let l=0;l<r.length;l++)qb(qp(n,t),e,r[l].type);!function CX(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,r.length);for(let l=0;l<r.length;l++){const u=r[l];u.providersResolver&&u.providersResolver(u)}let i=!1,a=!1,c=bd(e,t,r.length,null);for(let l=0;l<r.length;l++){const u=r[l];n.mergedAttrs=Gu(n.mergedAttrs,u.hostAttrs),wX(e,n,t,c,u),EX(c,u,o),null!==u.contentQueries&&(n.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(n.flags|=64);const d=u.type.prototype;!i&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),i=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}!function dX(e,t,n){const o=t.directiveEnd,s=e.data,i=t.attrs,a=[];let c=null,l=null;for(let u=t.directiveStart;u<o;u++){const d=s[u],f=n?n.get(d):null,g=f?f.outputs:null;c=eA(0,d.inputs,u,c,f?f.inputs:null),l=eA(1,d.outputs,u,l,g);const m=null===c||null===i||lb(t)?null:MX(c,u,i);a.push(m)}null!==c&&(c.hasOwnProperty("class")&&(t.flags|=8),c.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=c,t.outputs=l}(e,n,s)}function rA(e,t,n){const r=n.directiveStart,o=n.directiveEnd,s=n.index,i=function WW(){return Y.lFrame.currentDirectiveIndex}();try{Ui(s);for(let a=r;a<o;a++){const c=e.data[a],l=t[a];xb(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&yX(c,l)}}finally{Ui(-1),xb(i)}}function yX(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function PE(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function EX(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;Hr(t)&&(n[""]=e)}}function wX(e,t,n,r,o){e.data[r]=o;const s=o.factory||(o.factory=Fi(o.type)),i=new od(s,Hr(o),R);e.blueprint[r]=i,n[r]=i,function gX(e,t,n,r,o){const s=o.hostBindings;if(s){let i=e.hostBindingOpCodes;null===i&&(i=e.hostBindingOpCodes=[]);const a=~t.index;(function mX(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(i)!=a&&i.push(a),i.push(n,r,s)}}(e,t,r,bd(e,n,o.hostVars,oe),o)}function go(e,t,n,r,o,s){const i=Sn(e,t);!function LE(e,t,n,r,o,s,i){if(null==s)e.removeAttribute(t,o,n);else{const a=null==i?ne(s):i(s,r||"",o);e.setAttribute(t,o,a,n)}}(t[K],i,s,e.value,n,r,o)}function DX(e,t,n,r,o,s){const i=s[t];if(null!==i)for(let a=0;a<i.length;)YR(r,n,i[a++],i[a++],i[a++],i[a++])}function MX(e,t,n){let r=null,o=0;for(;o<n.length;){const s=n[o];if(0!==s)if(5!==s){if("number"==typeof s)break;if(e.hasOwnProperty(s)){null===r&&(r=[]);const i=e[s];for(let a=0;a<i.length;a+=3)if(i[a]===t){r.push(s,i[a+1],i[a+2],n[o+1]);break}}o+=2}else o+=2;else o+=4}return r}function oA(e,t,n,r){return[e,!0,0,t,null,r,null,n,null,null]}function sA(e,t){const n=e.contentQueries;if(null!==n){const r=ue(null);try{for(let o=0;o<n.length;o+=2){const i=n[o+1];if(-1!==i){const a=e.data[i];jp(n[o]),a.contentQueries(2,t[i],i)}}}finally{ue(r)}}}function gg(e,t){return e[Ku]?e[$T][Ur]=t:e[Ku]=t,e[$T]=t,t}function VE(e,t,n){jp(0);const r=ue(null);try{t(e,n)}finally{ue(r)}}function mg(e,t){const n=e[Ot],r=n?n.get(po,null):null;r&&r.handleError(t)}function jE(e,t,n,r,o){for(let s=0;s<n.length;){const i=n[s++],a=n[s++],c=n[s++];YR(e.data[i],t[i],r,a,c,o)}}function IX(e,t){const n=Qn(t,e),r=n[x];!function TX(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(r,n);const o=n[at];null!==o&&null===n[Yn]&&(n[Yn]=cE(o,n[Ot])),BE(r,n,n[Ye])}function BE(e,t,n){Lb(t);try{const r=e.viewQuery;null!==r&&VE(1,r,n);const o=e.template;null!==o&&QR(e,t,o,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[zo]?.finishViewCreation(e),e.staticContentQueries&&sA(e,t),e.staticViewQueries&&VE(2,e.viewQuery,n);const s=e.components;null!==s&&function OX(e,t){for(let n=0;n<t.length;n++)IX(e,t[n])}(t,s)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[H]&=-5,Vb()}}function xc(e,t){return!t||null===t.firstChild||Xp(e)}function Cd(e,t,n,r=!0){const o=t[x];if(function W4(e,t,n,r){const o=Et+r,s=n.length;r>0&&(n[o-1][Ur]=t),r<s-Et?(t[Ur]=n[o],wT(n,Et+r,t)):(n.push(t),t[Ur]=null),t[bt]=n;const i=t[Yu];null!==i&&n!==i&&function G4(e,t){const n=e[vc];t[gt]!==t[bt][bt][gt]&&(e[H]|=vb.HasTransplantedViews),null===n?e[vc]=[t]:n.push(t)}(i,t);const a=t[zo];null!==a&&a.insertView(e),Tb(t),t[H]|=128}(o,t,e,n),r){const i=TE(n,e),a=t[K],c=dg(a,e[ao]);null!==c&&function q4(e,t,n,r,o,s){r[at]=o,r[dn]=t,hg(e,r,n,1,o,s)}(o,e[dn],a,t,c,i)}const s=t[Yn];null!==s&&null!==s.firstChild&&(s.firstChild=null)}function wd(e,t,n,r,o=!1){for(;null!==n;){const s=t[n.index];null!==s&&r.push(je(s)),hn(s)&&uA(s,r);const i=n.type;if(8&i)wd(e,t,n.child,r);else if(32&i){const a=CE(n,t);let c;for(;c=a();)r.push(c)}else if(16&i){const a=qR(t,n);if(Array.isArray(a))r.push(...a);else{const c=Bi(t[gt]);wd(c[x],c,a,r,!0)}}n=o?n.projectionNext:n.next}return r}function uA(e,t){for(let n=Et;n<e.length;n++){const r=e[n],o=r[x].firstChild;null!==o&&wd(r[x],r,o,t)}e[ao]!==e[at]&&t.push(e[ao])}let dA=[];const NX={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{},consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{td(e.lView)},consumerOnSignalRead(){this.lView[Vi]=this}},fA=100;function _g(e,t=!0,n=0){const r=e[$r],o=r.rendererFactory;o.begin?.();try{!function xX(e,t){$E(e,t);let n=0;for(;Ib(e);){if(n===fA)throw new M(103,!1);n++,$E(e,1)}}(e,n)}catch(i){throw t&&mg(e,i),i}finally{o.end?.(),r.inlineEffectRunner?.flush()}}function FX(e,t,n,r){const o=t[H];if(!(256&~o))return;t[$r].inlineEffectRunner?.flush(),Lb(t);let i=null,a=null;(function PX(e){return 2!==e.type})(e)&&(a=function RX(e){return e[Vi]??function AX(e){const t=dA.pop()??Object.create(NX);return t.lView=e,t}(e)}(t),i=function X0(e){return e&&(e.nextProducerIndex=0),ue(e)}(a));try{eO(t),function iO(e){return Y.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&QR(e,t,n,2,r);const c=!(3&~o);if(c){const d=e.preOrderCheckHooks;null!==d&&Up(t,d,null)}else{const d=e.preOrderHooks;null!==d&&$p(t,d,0,null),jb(t,0)}if(function LX(e){for(let t=WO(e);null!==t;t=GO(t)){if(!(t[H]&vb.HasTransplantedViews))continue;const n=t[vc];for(let r=0;r<n.length;r++){xW(n[r])}}}(t),hA(t,0),null!==e.contentQueries&&sA(e,t),c){const d=e.contentCheckHooks;null!==d&&Up(t,d)}else{const d=e.contentHooks;null!==d&&$p(t,d,1),jb(t,1)}!function rX(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const o=n[r];if(o<0)Ui(~o);else{const s=o,i=n[++r],a=n[++r];zW(i,s),a(2,t[s])}}}finally{Ui(-1)}}(e,t);const l=e.components;null!==l&&gA(t,l,0);const u=e.viewQuery;if(null!==u&&VE(2,u,r),c){const d=e.viewCheckHooks;null!==d&&Up(t,d)}else{const d=e.viewHooks;null!==d&&$p(t,d,2),jb(t,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[Fp]){for(const d of t[Fp])d();t[Fp]=null}t[H]&=-73}catch(c){throw td(t),c}finally{null!==a&&(function K0(e,t){if(ue(t),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(Uu(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)hp(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}(a,i),function kX(e){e.lView[Vi]!==e&&(e.lView=null,dA.push(e))}(a)),Vb()}}function hA(e,t){for(let n=WO(e);null!==n;n=GO(n))for(let r=Et;r<n.length;r++)pA(n[r],t)}function VX(e,t,n){pA(Qn(t,e),n)}function pA(e,t){Mb(e)&&$E(e,t)}function $E(e,t){const r=e[x],o=e[H],s=e[Vi];let i=!!(0===t&&16&o);if(i||=!!(64&o&&0===t),i||=!!(1024&o),i||=!(!s?.dirty||!Nv(s)),s&&(s.dirty=!1),e[H]&=-9217,i)FX(r,e,r.template,e[Ye]);else if(8192&o){hA(e,1);const a=r.components;null!==a&&gA(e,a,1)}}function gA(e,t,n){for(let r=0;r<t.length;r++)VX(e,t[r],n)}function Sd(e){for(e[$r].changeDetectionScheduler?.notify();e;){e[H]|=64;const t=Bi(e);if(Eb(e)&&!t)return e;e=t}return null}class Dd{get rootNodes(){const t=this._lView,n=t[x];return wd(n,t,n.firstChild,[])}constructor(t,n,r=!0){this._lView=t,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ye]}set context(t){this._lView[Ye]=t}get destroyed(){return!(256&~this._lView[H])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[bt];if(hn(t)){const n=t[8],r=n?n.indexOf(this):-1;r>-1&&(_d(t,r),Dp(n,r))}this._attachedToViewContainer=!1}ug(this._lView[x],this._lView)}onDestroy(t){Vp(this._lView,t)}markForCheck(){Sd(this._cdRefInjectingView||this._lView)}detach(){this._lView[H]&=-129}reattach(){Tb(this._lView),this._lView[H]|=128}detectChanges(){this._lView[H]|=1024,_g(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new M(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,FR(this._lView[x],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new M(902,!1);this._appRef=t,Tb(this._lView)}}let Qo=(()=>{class e{static{this.__NG_ELEMENT_ID__=UX}}return e})();const jX=Qo,BX=class extends jX{constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n)}createEmbeddedViewImpl(t,n,r){const o=function Ed(e,t,n,r){const o=ue(null);try{const s=t.tView,c=pg(e,s,n,4096&e[H]?4096:16,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null);c[Yu]=e[t.index];const u=e[zo];return null!==u&&(c[zo]=u.createEmbeddedView(s)),BE(s,c,n),c}finally{ue(o)}}(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:n,dehydratedView:r});return new Dd(o)}};function UX(){return function yg(e,t){return 4&e.type?new BX(t,e,Mc(e,t)):null}(Ve(),S())}class XE{}class d8{}class CA{}class h8{resolveComponentFactory(t){throw function f8(e){const t=Error(`No component factory found for ${Pt(e)}.`);return t.ngComponent=e,t}(t)}}let wg=(()=>{class e{static{this.NULL=new h8}}return e})();class SA{}let Jo=(()=>{class e{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function p8(){const e=S(),n=Qn(Ve().index,e);return(fn(n)?n:e)[K]}()}}return e})(),g8=(()=>{class e{static{this.\u0275prov=L({token:e,providedIn:"root",factory:()=>null})}}return e})();const KE={},DA=new Set;function MA(...e){}class Fe{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ct(!1),this.onMicrotaskEmpty=new ct(!1),this.onStable=new ct(!1),this.onError=new ct(!1),typeof Zone>"u")throw new M(908,!1);Zone.assertZonePatched();const o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!r&&n,o.shouldCoalesceRunChangeDetection=r,o.lastRequestAnimationFrameId=-1,o.nativeRequestAnimationFrame=function m8(){const e="function"==typeof xe.requestAnimationFrame;let t=xe[e?"requestAnimationFrame":"setTimeout"],n=xe[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&n){const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r);const o=n[Zone.__symbol__("OriginalDelegate")];o&&(n=o)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function v8(e){const t=()=>{!function y8(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(xe,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,QE(e),e.isCheckStableRunning=!0,YE(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),QE(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,o,s,i,a)=>{if(function b8(e){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0].data?.__ignore_ng_zone__}(a))return n.invokeTask(o,s,i,a);try{return IA(e),n.invokeTask(o,s,i,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||e.shouldCoalesceRunChangeDetection)&&t(),TA(e)}},onInvoke:(n,r,o,s,i,a,c)=>{try{return IA(e),n.invoke(o,s,i,a,c)}finally{e.shouldCoalesceRunChangeDetection&&t(),TA(e)}},onHasTask:(n,r,o,s)=>{n.hasTask(o,s),r===o&&("microTask"==s.change?(e._hasPendingMicrotasks=s.microTask,QE(e),YE(e)):"macroTask"==s.change&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,o,s)=>(n.handleError(o,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}(o)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Fe.isInAngularZone())throw new M(909,!1)}static assertNotInAngularZone(){if(Fe.isInAngularZone())throw new M(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,o){const s=this._inner,i=s.scheduleEventTask("NgZoneEvent: "+o,t,_8,MA,MA);try{return s.runTask(i,n,r)}finally{s.cancelTask(i)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const _8={};function YE(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function QE(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function IA(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function TA(e){e._nesting--,YE(e)}class OA{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ct,this.onMicrotaskEmpty=new ct,this.onStable=new ct,this.onError=new ct}run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,o){return t.apply(n,r)}}let Rd=(()=>{class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){const n=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const r of n)r()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static{this.\u0275prov=L({token:e,providedIn:"root",factory:()=>new e})}}return e})();function Dg(e,t,n){let r=n?e.styles:null,o=n?e.classes:null,s=0;if(null!==t)for(let i=0;i<t.length;i++){const a=t[i];"number"==typeof a?s=a:1==s?o=qv(o,a):2==s&&(r=qv(r,a+": "+t[++i]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=o:e.classesWithoutHost=o}class PA extends wg{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=he(t);return new Nd(n,this.ngModule)}}function LA(e){const t=[];for(const n in e){if(!e.hasOwnProperty(n))continue;const r=e[n];void 0!==r&&t.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return t}class Mg{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=Sp(r);const o=this.injector.get(t,KE,r);return o!==KE||n===KE?o:this.parentInjector.get(t,n,r)}}class Nd extends CA{get inputs(){const t=this.componentDef,n=t.inputTransforms,r=LA(t.inputs);if(null!==n)for(const o of r)n.hasOwnProperty(o.propName)&&(o.transform=n[o.propName]);return r}get outputs(){return LA(this.componentDef.outputs)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function Jz(e){return e.map(Qz).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,r,o){const s=ue(null);try{let i=(o=o||this.ngModule)instanceof Kn?o:o?.injector;i&&null!==this.componentDef.getStandaloneInjector&&(i=this.componentDef.getStandaloneInjector(i)||i);const a=i?new Mg(t,i):t,c=a.get(SA,null);if(null===c)throw new M(407,!1);const l=a.get(g8,null),f={rendererFactory:c,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:a.get(Rd,null),changeDetectionScheduler:a.get(XE,null)},p=c.createRenderer(null,this.componentDef),g=this.componentDef.selectors[0][0]||"div",m=r?function sX(e,t,n,r){const s=r.get(cR,!1)||n===jr.ShadowDom,i=e.selectRootElement(t,s);return function iX(e){ZR(e)}(i),i}(p,r,this.componentDef.encapsulation,a):lg(p,g,function M8(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(g));let y=512;this.componentDef.signals?y|=4096:this.componentDef.onPush||(y|=16);let b=null;null!==m&&(b=cE(m,a,!0));const C=xE(0,null,null,1,0,null,null,null,null,null,null),k=pg(null,C,null,y,null,null,f,p,a,null,b);let V,$;Lb(k);try{const fe=this.componentDef;let nt,rt=null;fe.findHostDirectiveDefs?(nt=[],rt=new Map,fe.findHostDirectiveDefs(fe,nt,rt),nt.push(fe)):nt=[fe];const w=function T8(e,t){const n=e[x],r=re;return e[r]=t,Nc(n,r,2,"#host",null)}(k,m),pr=function O8(e,t,n,r,o,s,i){const a=o[x];!function R8(e,t,n,r){for(const o of e)t.mergedAttrs=Gu(t.mergedAttrs,o.hostAttrs);null!==t.mergedAttrs&&(Dg(t,t.mergedAttrs,!0),null!==n&&XR(r,n,t))}(r,e,t,i);let c=null;null!==t&&(c=cE(t,o[Ot]));const l=s.rendererFactory.createRenderer(t,n);let u=16;n.signals?u=4096:n.onPush&&(u=64);const d=pg(o,JR(n),null,u,o[e.index],e,s,l,null,null,c);return a.firstCreatePass&&PE(a,e,r.length-1),gg(o,d),o[e.index]=d}(w,m,fe,nt,k,f,p);$=ed(C,re),m&&function k8(e,t,n,r){if(r)cb(e,n,["ng-version","17.3.12"]);else{const{attrs:o,classes:s}=function Zz(e){const t=[],n=[];let r=1,o=2;for(;r<e.length;){let s=e[r];if("string"==typeof s)2===o?""!==s&&t.push(s,e[++r]):8===o&&n.push(s);else{if(!Br(o))break;o=s}r++}return{attrs:t,classes:n}}(t.selectors[0]);o&&cb(e,n,o),s&&s.length>0&&GR(e,n,s.join(" "))}}(p,fe,m,r),void 0!==n&&function N8(e,t,n){const r=e.projection=[];for(let o=0;o<t.length;o++){const s=n[o];r.push(null!=s?Array.from(s):null)}}($,this.ngContentSelectors,n),V=function A8(e,t,n,r,o,s){const i=Ve(),a=o[x],c=Sn(i,o);nA(a,o,i,n,null,r);for(let u=0;u<n.length;u++)gn($i(o,a,i.directiveStart+u,i),o);rA(a,o,i),c&&gn(c,o);const l=$i(o,a,i.directiveStart+i.componentOffset,i);if(e[Ye]=o[Ye]=l,null!==s)for(const u of s)u(l,t);return AE(a,i,o),l}(pr,fe,nt,rt,k,[x8]),BE(C,k,null)}finally{Vb()}return new I8(this.componentType,V,Mc($,k),k,$)}finally{ue(s)}}}class I8 extends d8{constructor(t,n,r,o,s){super(),this.location=r,this._rootLView=o,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Dd(o,void 0,!1),this.componentType=t}setInput(t,n){const r=this._tNode.inputs;let o;if(null!==r&&(o=r[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;const s=this._rootLView;jE(s[x],s,o,t,n),this.previousInputValues.set(t,n),Sd(Qn(this._tNode.index,s))}}get injector(){return new jt(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function x8(){const e=Ve();Bp(S()[x],e)}let Wr=(()=>{class e{static{this.__NG_ELEMENT_ID__=F8}}return e})();function F8(){return function BA(e,t){let n;const r=t[e.index];return hn(r)?n=r:(n=oA(r,t,null,e),t[e.index]=n,gg(t,n)),UA(n,t,e,r),new VA(n,e,t)}(Ve(),S())}const P8=Wr,VA=class extends P8{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return Mc(this._hostTNode,this._hostLView)}get injector(){return new jt(this._hostTNode,this._hostLView)}get parentInjector(){const t=zp(this._hostTNode,this._hostLView);if(Ub(t)){const n=id(t,this._hostLView),r=sd(t);return new jt(n[x].data[r+8],n)}return new jt(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=jA(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-Et}createEmbeddedView(t,n,r){let o,s;"number"==typeof r?o=r:null!=r&&(o=r.index,s=r.injector);const a=t.createEmbeddedViewImpl(n||{},s,null);return this.insertImpl(a,o,xc(this._hostTNode,null)),a}createComponent(t,n,r,o,s){const i=t&&!function Xu(e){return"function"==typeof e}(t);let a;if(i)a=n;else{const g=n||{};a=g.index,r=g.injector,o=g.projectableNodes,s=g.environmentInjector||g.ngModuleRef}const c=i?t:new Nd(he(t)),l=r||this.parentInjector;if(!s&&null==c.ngModule){const m=(i?l:this.parentInjector).get(Kn,null);m&&(s=m)}he(c.componentType??{});const p=c.create(l,o,null,s);return this.insertImpl(p.hostView,a,xc(this._hostTNode,null)),p}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,r){const o=t._lView;if(function NW(e){return hn(e[bt])}(o)){const a=this.indexOf(t);if(-1!==a)this.detach(a);else{const c=o[bt],l=new VA(c,c[dn],c[bt]);l.detach(l.indexOf(t))}}const s=this._adjustIndex(n),i=this._lContainer;return Cd(i,o,s,r),t.attachToViewContainerRef(),wT(tC(i),s,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=jA(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),r=_d(this._lContainer,n);r&&(Dp(tC(this._lContainer),n),ug(r[x],r))}detach(t){const n=this._adjustIndex(t,-1),r=_d(this._lContainer,n);return r&&null!=Dp(tC(this._lContainer),n)?new Dd(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function jA(e){return e[8]}function tC(e){return e[8]||(e[8]=[])}let UA=function HA(e,t,n,r){if(e[ao])return;let o;o=8&n.type?je(r):function L8(e,t){const n=e[K],r=n.createComment(""),o=Sn(t,e);return Hi(n,dg(n,o),r,function Q4(e,t){return e.nextSibling(t)}(n,o),!1),r}(t,n),e[ao]=o},nC=()=>!1;function ZA(e){return function QA(e){return"function"==typeof e&&void 0!==e[Ai]}(e)&&"function"==typeof e.set}function Pe(e){let t=function uk(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const r=[e];for(;t;){let o;if(Hr(e))o=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new M(903,!1);o=t.\u0275dir}if(o){if(n){r.push(o);const i=e;i.inputs=Tg(e.inputs),i.inputTransforms=Tg(e.inputTransforms),i.declaredInputs=Tg(e.declaredInputs),i.outputs=Tg(e.outputs);const a=o.hostBindings;a&&a5(e,a);const c=o.viewQuery,l=o.contentQueries;if(c&&s5(e,c),l&&i5(e,l),r5(e,o),yz(e.outputs,o.outputs),Hr(o)&&o.data.animation){const u=e.data;u.animation=(u.animation||[]).concat(o.data.animation)}}const s=o.features;if(s)for(let i=0;i<s.length;i++){const a=s[i];a&&a.ngInherit&&a(e),a===Pe&&(n=!1)}}t=Object.getPrototypeOf(t)}!function o5(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){const o=e[r];o.hostVars=t+=o.hostVars,o.hostAttrs=Gu(o.hostAttrs,n=Gu(n,o.hostAttrs))}}(r)}function r5(e,t){for(const n in t.inputs){if(!t.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;const r=t.inputs[n];if(void 0!==r&&(e.inputs[n]=r,e.declaredInputs[n]=t.declaredInputs[n],null!==t.inputTransforms)){const o=Array.isArray(r)?r[0]:r;if(!t.inputTransforms.hasOwnProperty(o))continue;e.inputTransforms??={},e.inputTransforms[o]=t.inputTransforms[o]}}}function Tg(e){return e===so?{}:e===De?[]:e}function s5(e,t){const n=e.viewQuery;e.viewQuery=n?(r,o)=>{t(r,o),n(r,o)}:t}function i5(e,t){const n=e.contentQueries;e.contentQueries=n?(r,o,s)=>{t(r,o,s),n(r,o,s)}:t}function a5(e,t){const n=e.hostBindings;e.hostBindings=n?(r,o)=>{t(r,o),n(r,o)}:t}class zi{}class gk{}class dC extends zi{constructor(t,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new PA(this);const o=un(t);this._bootstrapComponents=Zn(o.bootstrap),this._r3Injector=kO(t,n,[{provide:zi,useValue:this},{provide:wg,useValue:this.componentFactoryResolver},...r],Pt(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class fC extends gk{constructor(t){super(),this.moduleType=t}create(t){return new dC(this.moduleType,t,[])}}class mk extends zi{constructor(t){super(),this.componentFactoryResolver=new PA(this),this.instance=null;const n=new hc([...t.providers,{provide:zi,useValue:this},{provide:wg,useValue:this.componentFactoryResolver}],t.parent||kp(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function hC(e,t,n=null){return new mk({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}let Us=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Fn(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Rg(e){return!!function pC(e){return null!==e&&("function"==typeof e||"object"==typeof e)}(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function Ct(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function Yt(e,t,n,r,o,s,i,a){const c=S(),l=ge(),u=e+re,d=l.firstCreatePass?function b5(e,t,n,r,o,s,i,a,c){const l=t.consts,u=Nc(t,e,4,i||null,lo(l,a));FE(t,n,u,lo(l,c)),Bp(t,u);const d=u.tView=xE(2,u,r,o,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,l,null);return null!==t.queries&&(t.queries.template(t,u),d.queries=t.queries.embeddedTView(u)),u}(u,l,c,t,n,r,o,s,i):l.data[u];uo(d,!1);const f=_k(l,c,d,e);rd()&&fg(l,c,f,d),gn(f,c);const p=oA(f,c,f,d);return c[u]=p,gg(c,p),function $A(e,t,n){return nC(e,t,n)}(p,d,c),Lp(d)&&kE(l,c,d),null!=i&&NE(c,d,a),Yt}let _k=function yk(e,t,n,r){return fo(!0),t[K].createComment("")};function yr(e,t,n,r){const o=S();return Ct(o,qr(),t)&&(ge(),go(Qe(),o,e,t,n,r)),yr}function qc(e,t,n,r){return Ct(e,qr(),n)?t+ne(n)+r:oe}function Lg(e,t){return e<<17|t<<2}function Hs(e){return e>>17&32767}function SC(e){return 2|e}function Xi(e){return(131068&e)>>2}function DC(e,t){return-131069&e|t<<2}function MC(e){return 1|e}function Kk(e,t,n,r){const o=e[n+1],s=null===t;let i=r?Hs(o):Xi(o),a=!1;for(;0!==i&&(!1===a||s);){const l=e[i+1];i6(e[i],t)&&(a=!0,e[i+1]=r?MC(l):SC(l)),i=r?Hs(l):Xi(l)}a&&(e[n+1]=r?SC(o):MC(o))}function i6(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&dc(e,t)>=0}function Be(e,t,n){const r=S();return Ct(r,qr(),t)&&Un(ge(),Qe(),r,e,t,r[K],n,!1),Be}function IC(e,t,n,r,o){const i=o?"class":"style";jE(e,n,t.inputs[i],i,r)}function qs(e,t,n){return Gr(e,t,n,!1),qs}function Zc(e,t){return Gr(e,t,null,!0),Zc}function Gr(e,t,n,r){const o=S(),s=ge(),i=function Go(e){const t=Y.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}(2);s.firstUpdatePass&&function rN(e,t,n,r){const o=e.data;if(null===o[n+1]){const s=o[pn()],i=function nN(e,t){return t>=e.expandoStartIndex}(e,n);(function aN(e,t){return!!(e.flags&(t?8:16))})(s,r)&&null===t&&!i&&(t=!1),t=function g6(e,t,n,r){const o=function Fb(e){const t=Y.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let s=r?t.residualClasses:t.residualStyles;if(null===o)0===(r?t.classBindings:t.styleBindings)&&(n=Bd(n=TC(null,e,t,n,r),t.attrs,r),s=null);else{const i=t.directiveStylingLast;if(-1===i||e[i]!==o)if(n=TC(o,e,t,n,r),null===s){let c=function m6(e,t,n){const r=n?t.classBindings:t.styleBindings;if(0!==Xi(r))return e[Hs(r)]}(e,t,r);void 0!==c&&Array.isArray(c)&&(c=TC(null,e,t,c[1],r),c=Bd(c,t.attrs,r),function _6(e,t,n,r){e[Hs(n?t.classBindings:t.styleBindings)]=r}(e,t,r,c))}else s=function y6(e,t,n){let r;const o=t.directiveEnd;for(let s=1+t.directiveStylingLast;s<o;s++)r=Bd(r,e[s].hostAttrs,n);return Bd(r,t.attrs,n)}(e,t,r)}return void 0!==s&&(r?t.residualClasses=s:t.residualStyles=s),n}(o,s,t,r),function o6(e,t,n,r,o,s){let i=s?t.classBindings:t.styleBindings,a=Hs(i),c=Xi(i);e[r]=n;let u,l=!1;if(Array.isArray(n)?(u=n[1],(null===u||dc(n,u)>0)&&(l=!0)):u=n,o)if(0!==c){const f=Hs(e[a+1]);e[r+1]=Lg(f,a),0!==f&&(e[f+1]=DC(e[f+1],r)),e[a+1]=function n6(e,t){return 131071&e|t<<17}(e[a+1],r)}else e[r+1]=Lg(a,0),0!==a&&(e[a+1]=DC(e[a+1],r)),a=r;else e[r+1]=Lg(c,0),0===a?a=r:e[c+1]=DC(e[c+1],r),c=r;l&&(e[r+1]=SC(e[r+1])),Kk(e,u,r,!0),Kk(e,u,r,!1),function s6(e,t,n,r,o){const s=o?e.residualClasses:e.residualStyles;null!=s&&"string"==typeof t&&dc(s,t)>=0&&(n[r+1]=MC(n[r+1]))}(t,u,e,r,s),i=Lg(a,c),s?t.classBindings=i:t.styleBindings=i}(o,s,t,n,i,r)}}(s,e,i,r),t!==oe&&Ct(o,i,t)&&function sN(e,t,n,r,o,s,i,a){if(!(3&t.type))return;const c=e.data,l=c[a+1],u=function r6(e){return!(1&~e)}(l)?iN(c,t,n,o,Xi(l),i):void 0;Vg(u)||(Vg(s)||function t6(e){return!(2&~e)}(l)&&(s=iN(c,null,n,o,a,i)),function eX(e,t,n,r,o){if(t)o?e.addClass(n,r):e.removeClass(n,r);else{let s=-1===r.indexOf("-")?void 0:Vs.DashCase;null==o?e.removeStyle(n,r,s):("string"==typeof o&&o.endsWith("!important")&&(o=o.slice(0,-10),s|=Vs.Important),e.setStyle(n,r,o,s))}}(r,i,Zu(pn(),n),o,s))}(s,s.data[pn()],o,o[K],e,o[i+1]=function C6(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=Pt(function Ls(e){return e instanceof hR?e.changingThisBreaksApplicationSecurity:e}(e)))),e}(t,n),r,i)}function TC(e,t,n,r,o){let s=null;const i=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<i&&(s=t[a],r=Bd(r,s.hostAttrs,o),s!==e);)a++;return null!==e&&(n.directiveStylingLast=a),r}function Bd(e,t,n){const r=n?1:2;let o=-1;if(null!==t)for(let s=0;s<t.length;s++){const i=t[s];"number"==typeof i?o=i:o===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Xn(e,i,!!n||t[++s]))}return void 0===e?null:e}function iN(e,t,n,r,o,s){const i=null===t;let a;for(;o>0;){const c=e[o],l=Array.isArray(c),u=l?c[1]:c,d=null===u;let f=n[o+1];f===oe&&(f=d?De:void 0);let p=d?ib(f,r):u===r?f:void 0;if(l&&!Vg(p)&&(p=ib(c,r)),Vg(p)&&(a=p,i))return a;const g=e[o+1];o=i?Hs(g):Xi(g)}if(null!==t){let c=s?t.residualClasses:t.residualStyles;null!=c&&(a=ib(c,r))}return a}function Vg(e){return void 0!==e}function be(e,t,n,r){const o=S(),s=ge(),i=re+e,a=o[K],c=s.firstCreatePass?function z6(e,t,n,r,o,s){const i=t.consts,c=Nc(t,e,2,r,lo(i,o));return FE(t,n,c,lo(i,s)),null!==c.attrs&&Dg(c,c.attrs,!1),null!==c.mergedAttrs&&Dg(c,c.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,c),c}(i,s,o,t,n,r):s.data[i],l=dN(s,o,c,a,t,e);o[i]=l;const u=Lp(c);return uo(c,!0),XR(a,l,c),!function Pd(e){return!(32&~e.flags)}(c)&&rd()&&fg(s,o,l,c),0===function FW(){return Y.lFrame.elementDepthCount}()&&gn(l,o),function PW(){Y.lFrame.elementDepthCount++}(),u&&(kE(s,o,c),AE(s,c,o)),null!==r&&NE(o,c),be}function me(){let e=Ve();kb()?Nb():(e=e.parent,uo(e,!1));const t=e;(function VW(e){return Y.skipHydrationRootTNode===e})(t)&&function $W(){Y.skipHydrationRootTNode=null}(),function LW(){Y.lFrame.elementDepthCount--}();const n=ge();return n.firstCreatePass&&(Bp(n,e),bb(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function rG(e){return!!(8&e.flags)}(t)&&IC(n,t,S(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function oG(e){return!!(16&e.flags)}(t)&&IC(n,t,S(),t.stylesWithoutHost,!1),me}function Mn(e,t,n,r){return be(e,t,n,r),me(),Mn}let dN=(e,t,n,r,o,s)=>(fo(!0),lg(r,o,function hO(){return Y.lFrame.currentNamespace}()));function zs(e,t,n){const r=S(),o=ge(),s=e+re,i=o.firstCreatePass?function X6(e,t,n,r,o){const s=t.consts,i=lo(s,r),a=Nc(t,e,8,"ng-container",i);return null!==i&&Dg(a,i,!0),FE(t,n,a,lo(s,o)),null!==t.queries&&t.queries.elementStart(t,a),a}(s,o,r,t,n):o.data[s];uo(i,!0);const a=hN(o,r,i,e);return r[s]=a,rd()&&fg(o,r,a,i),gn(a,r),Lp(i)&&(kE(o,r,i),AE(o,i,r)),null!=n&&NE(r,i),zs}function Ws(){let e=Ve();const t=ge();return kb()?Nb():(e=e.parent,uo(e,!1)),t.firstCreatePass&&(Bp(t,e),bb(e)&&t.queries.elementEnd(e)),Ws}let hN=(e,t,n,r)=>(fo(!0),SE(t[K],""));function NC(){return S()}const tl="en-US";let yN=tl;function lt(e,t,n,r){const o=S(),s=ge(),i=Ve();return PC(s,o,o[K],i,e,t,r),lt}function PC(e,t,n,r,o,s,i){const a=Lp(r),l=e.firstCreatePass&&function aA(e){return e.cleanup||(e.cleanup=[])}(e),u=t[Ye],d=function iA(e){return e[mc]||(e[mc]=[])}(t);let f=!0;if(3&r.type||i){const m=Sn(r,t),y=i?i(m):m,b=d.length,C=i?V=>i(je(V[r.index])):r.index;let k=null;if(!i&&a&&(k=function K7(e,t,n,r){const o=e.cleanup;if(null!=o)for(let s=0;s<o.length-1;s+=2){const i=o[s];if(i===n&&o[s+1]===r){const a=t[mc],c=o[s+2];return a.length>c?a[c]:null}"string"==typeof i&&(s+=2)}return null}(e,t,o,r.index)),null!==k)(k.__ngLastListenerFn__||k).__ngNextListenerFn__=s,k.__ngLastListenerFn__=s,f=!1;else{s=WN(r,t,u,s,!1);const V=n.listen(y,o,s);d.push(s,V),l&&l.push(o,C,b,b+1)}}else s=WN(r,t,u,s,!1);const p=r.outputs;let g;if(f&&null!==p&&(g=p[o])){const m=g.length;if(m)for(let y=0;y<m;y+=2){const $=t[g[y]][g[y+1]].subscribe(s),fe=d.length;d.push(s,$),l&&l.push(o,r.index,fe,-(fe+1))}}}function zN(e,t,n,r){const o=ue(null);try{return co(6,t,n),!1!==n(r)}catch(s){return mg(e,s),!1}finally{co(7,t,n),ue(o)}}function WN(e,t,n,r,o){return function s(i){if(i===Function)return r;Sd(e.componentOffset>-1?Qn(e.index,t):t);let c=zN(t,n,r,i),l=s.__ngNextListenerFn__;for(;l;)c=zN(t,n,l,i)&&c,l=l.__ngNextListenerFn__;return o&&!1===c&&i.preventDefault(),c}}function $t(e=1){return function XW(e){return(Y.lFrame.contextLView=function tO(e,t){for(;e>0;)t=t[_c],e--;return t}(e,Y.lFrame.contextLView))[Ye]}(e)}function Hg(e,t,n,r,o){const s=S(),i=qc(s,t,n,r);return i!==oe&&Un(ge(),Qe(),s,e,i,s[K],o,!1),Hg}function mn(e,t=""){const n=S(),r=ge(),o=e+re,s=r.firstCreatePass?Nc(r,o,1,t,null):r.data[o],i=px(r,n,s,t,e);n[o]=i,rd()&&fg(r,n,i,s),uo(s,!1)}let px=(e,t,n,r,o)=>(fo(!0),function wE(e,t){return e.createText(t)}(t[K],r));function Gd(e){return Yi("",e,""),Gd}function Yi(e,t,n){const r=S(),o=qc(r,e,t,n);return o!==oe&&function Yo(e,t,n){const r=Zu(t,e);!function xR(e,t,n){e.setValue(t,n)}(e[K],r,n)}(r,pn(),o),Yi}function LC(e,t,n){ZA(t)&&(t=t());const r=S();return Ct(r,qr(),t)&&Un(ge(),Qe(),r,e,t,r[K],n,!1),LC}function VC(e,t){const n=S(),r=ge(),o=Ve();return PC(r,n,n[K],o,e,t),VC}function jC(e,t,n,r,o){if(e=X(e),Array.isArray(e))for(let s=0;s<e.length;s++)jC(e[s],t,n,r,o);else{const s=ge(),i=S(),a=Ve();let c=Li(e)?e:X(e.provide);const l=jT(e),u=1048575&a.providerIndexes,d=a.directiveStart,f=a.providerIndexes>>20;if(Li(e)||!e.multi){const p=new od(l,o,R),g=UC(c,t,o?u:u+f,d);-1===g?(qb(qp(a,i),s,c),BC(s,e,t.length),t.push(c),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),n.push(p),i.push(p)):(n[g]=p,i[g]=p)}else{const p=UC(c,t,u+f,d),g=UC(c,t,u,u+f),y=g>=0&&n[g];if(o&&!y||!o&&!(p>=0&&n[p])){qb(qp(a,i),s,c);const b=function v9(e,t,n,r,o){const s=new od(e,n,R);return s.multi=[],s.index=t,s.componentProviders=0,Sx(s,o,r&&!n),s}(o?y9:_9,n.length,o,r,l);!o&&y&&(n[g].providerFactory=b),BC(s,e,t.length,0),t.push(c),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),n.push(b),i.push(b)}else BC(s,e,p>-1?p:g,Sx(n[o?g:p],l,!o&&r));!o&&r&&y&&n[g].componentProviders++}}}function BC(e,t,n,r){const o=Li(t),s=function iW(e){return!!e.useClass}(t);if(o||s){const c=(s?X(t.useClass):t).prototype.ngOnDestroy;if(c){const l=e.destroyHooks||(e.destroyHooks=[]);if(!o&&t.multi){const u=l.indexOf(n);-1===u?l.push(n,[r,c]):l[u+1].push(r,c)}else l.push(n,c)}}}function Sx(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function UC(e,t,n,r){for(let o=n;o<r;o++)if(t[o]===e)return o;return-1}function _9(e,t,n,r){return $C(this.multi,[])}function y9(e,t,n,r){const o=this.multi;let s;if(this.providerFactory){const i=this.providerFactory.componentProviders,a=$i(n,n[x],this.providerFactory.index,r);s=a.slice(0,i),$C(o,s);for(let c=i;c<a.length;c++)s.push(a[c])}else s=[],$C(o,s);return s}function $C(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function ut(e,t=[]){return n=>{n.providersResolver=(r,o)=>function m9(e,t,n){const r=ge();if(r.firstCreatePass){const o=Hr(e);jC(n,r.data,r.blueprint,o,!0),jC(t,r.data,r.blueprint,o,!1)}}(r,o?o(e):e,t)}}let b9=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=ub(0,n.type),o=r.length>0?hC([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,o)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=L({token:e,providedIn:"environment",factory:()=>new e(j(Kn))})}}return e})();function Qi(e){(function mo(e){DA.has(e)||(DA.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))})("NgStandalone"),e.getStandaloneInjector=t=>t.get(b9).getOrCreateStandaloneInjector(e)}function HC(e,t,n,r){return Mx(S(),Dn(),e,t,n,r)}function Mx(e,t,n,r,o,s){const i=t+n;return Ct(e,i,o)?function _o(e,t,n){return e[t]=n}(e,i+1,s?r.call(s,o):r(o)):function Xd(e,t){const n=e[t];return n===oe?void 0:n}(e,i+1)}function qC(e,t){const n=ge();let r;const o=e+re;n.firstCreatePass?(r=function k9(e,t){if(t)for(let n=t.length-1;n>=0;n--){const r=t[n];if(e===r.name)return r}}(t,n.pipeRegistry),n.data[o]=r,r.onDestroy&&(n.destroyHooks??=[]).push(o,r.onDestroy)):r=n.data[o];const s=r.factory||(r.factory=Fi(r.type)),a=Pn(R);try{const c=Hp(!1),l=s();return Hp(c),function r9(e,t,n,r){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=r}(n,S(),o,l),l}finally{Pn(a)}}function zC(e,t,n){const r=e+re,o=S(),s=function bc(e,t){return e[t]}(o,r);return function Kd(e,t){return e[x].data[t].pure}(o,r)?Mx(o,Dn(),t,s.transform,n,s):s.transform(n)}let Wx=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();const Qx=new P(""),Gg=new P("");let ZC,QC=(()=>{class e{constructor(n,r,o){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,ZC||(function RK(e){ZC=e}(o),o.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Fe.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb()}});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,o){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(i=>i.timeoutId!==s),n()},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:o})}whenStable(n,r,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,o),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,o){return[]}static{this.\u0275fac=function(r){return new(r||e)(j(Fe),j(JC),j(Gg))}}static{this.\u0275prov=L({token:e,factory:e.\u0275fac})}}return e})(),JC=(()=>{class e{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return ZC?.findTestabilityInTree(this,n,r)??null}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();function Zd(e){return!!e&&"function"==typeof e.then}function Jx(e){return!!e&&"function"==typeof e.subscribe}const AK=new P("");let ew=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=N(AK,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const o of this.appInits){const s=o();if(Zd(s))n.push(s);else if(Jx(s)){const i=new Promise((a,c)=>{s.subscribe({complete:a,error:c})});n.push(i)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(o=>{this.reject(o)}),0===n.length&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const tw=new P("");function tF(e,t){return Array.isArray(t)?t.reduce(tF,e):{...e,...t}}let Gs=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=N(xO),this.afterRenderEffectManager=N(Rd),this.externalTestViews=new Set,this.beforeRender=new Kt,this.afterTick=new Kt,this.componentTypes=[],this.components=[],this.isStable=N(Us).hasPendingTasks.pipe(ie(n=>!n)),this._injector=N(Kn)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const o=n instanceof CA;if(!this._injector.get(ew).done)throw!o&&function xs(e){const t=he(e)||Lt(e)||sn(e);return null!==t&&t.standalone}(n),new M(405,!1);let i;i=o?n:this._injector.get(wg).resolveComponentFactory(n),this.componentTypes.push(i.componentType);const a=function kK(e){return e.isBoundToModule}(i)?void 0:this._injector.get(zi),l=i.create(jn.NULL,[],r||i.selector,a),u=l.location.nativeElement,d=l.injector.get(Qx,null);return d?.registerApplication(u),l.onDestroy(()=>{this.detachView(l.hostView),Xg(this.components,l),d?.unregisterApplication(u)}),this._loadComponent(l),l}tick(){this._tick(!0)}_tick(n){if(this._runningTick)throw new M(101,!1);const r=ue(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(n)}catch(o){this.internalErrorHandler(o)}finally{this.afterTick.next(),this._runningTick=!1,ue(r)}}detectChangesInAttachedViews(n){let r=0;const o=this.afterRenderEffectManager;for(;;){if(r===fA)throw new M(103,!1);if(n){const s=0===r;this.beforeRender.next(s);for(let{_lView:i,notifyErrorHandler:a}of this._views)xK(i,s,a)}if(r++,o.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>nw(s))&&(o.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>nw(s))))break}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;Xg(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(tw,[]);[...this._bootstrapListeners,...r].forEach(o=>o(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Xg(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new M(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Xg(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}function xK(e,t,n){!t&&!nw(e)||function FK(e,t,n){let r;n?(r=0,e[H]|=1024):r=64&e[H]?0:1,_g(e,t,r)}(e,n,t)}function nw(e){return Ib(e)}class PK{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let LK=(()=>{class e{compileModuleSync(n){return new fC(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),s=Zn(un(n).declarations).reduce((i,a)=>{const c=he(a);return c&&i.push(new Nd(c)),i},[]);return new PK(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),BK=(()=>{class e{constructor(){this.zone=N(Fe),this.applicationRef=N(Gs)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function UK(){const e=N(Fe),t=N(po);return n=>e.runOutsideAngular(()=>t.handleError(n))}let HK=(()=>{class e{constructor(){this.subscription=new wn,this.initialized=!1,this.zone=N(Fe),this.pendingTasks=N(Us)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Fe.assertNotInAngularZone(),queueMicrotask(()=>{null!==n&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Fe.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const Zo=new P("",{providedIn:"root",factory:()=>N(Zo,pe.Optional|pe.SkipSelf)||function qK(){return typeof $localize<"u"&&$localize.locale||tl}()}),rw=new P("");let sF=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const o=function E8(e="zone.js",t){return"noop"===e?new OA:"zone.js"===e?new Fe(t):e}(r?.ngZone,function oF(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return o.run(()=>{const s=function p5(e,t,n){return new dC(e,t,n)}(n.moduleType,this.injector,function rF(e){return[{provide:Fe,useFactory:e},{provide:Pi,multi:!0,useFactory:()=>{const t=N(BK,{optional:!0});return()=>t.initialize()}},{provide:Pi,multi:!0,useFactory:()=>{const t=N(HK);return()=>{t.initialize()}}},{provide:xO,useFactory:UK}]}(()=>o)),i=s.injector.get(po,null);return o.runOutsideAngular(()=>{const a=o.onError.subscribe({next:c=>{i.handleError(c)}});s.onDestroy(()=>{Xg(this._modules,s),a.unsubscribe()})}),function eF(e,t,n){try{const r=n();return Zd(r)?r.catch(o=>{throw t.runOutsideAngular(()=>e.handleError(o)),o}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(i,o,()=>{const a=s.injector.get(ew);return a.runInitializers(),a.donePromise.then(()=>(function vN(e){"string"==typeof e&&(yN=e.toLowerCase().replace(/_/g,"-"))}(s.injector.get(Zo,tl)||tl),this._moduleDoBootstrap(s),s))})})}bootstrapModule(n,r=[]){const o=tF({},r);return function jK(e,t,n){const r=new fC(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,o))}_moduleDoBootstrap(n){const r=n.injector.get(Gs);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(o=>r.bootstrap(o));else{if(!n.instance.ngDoBootstrap)throw new M(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new M(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(rw,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(r){return new(r||e)(j(jn))}}static{this.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})(),Xs=null;const iF=new P("");function aF(e,t,n=[]){const r=`Platform: ${t}`,o=new P(r);return(s=[])=>{let i=ow();if(!i||i.injector.get(iF,!1)){const a=[...n,...s,{provide:o,useValue:!0}];e?e(a):function GK(e){if(Xs&&!Xs.get(iF,!1))throw new M(400,!1);(function Zx(){!function ez(e){Z0=e}(()=>{throw new M(600,!1)})})(),Xs=e;const t=e.get(sF);(function lF(e){e.get(nR,null)?.forEach(n=>n())})(e)}(function cF(e=[],t){return jn.create({name:t,providers:[{provide:hb,useValue:"platform"},{provide:rw,useValue:new Set([()=>Xs=null])},...e]})}(a,r))}return function XK(e){const t=ow();if(!t)throw new M(401,!1);return t}()}}function ow(){return Xs?.get(sF)??null}let ef=(()=>{class e{static{this.__NG_ELEMENT_ID__=YK}}return e})();function YK(e){return function QK(e,t,n){if(ji(e)&&!n){const r=Qn(e.index,t);return new Dd(r,r)}return 47&e.type?new Dd(t[gt],t):null}(Ve(),S(),!(16&~e))}class pF{constructor(){}supports(t){return Rg(t)}create(t){return new nY(t)}}const tY=(e,t)=>t;class nY{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||tY}forEachItem(t){let n;for(n=this._itHead;null!==n;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,o=0,s=null;for(;n||r;){const i=!r||n&&n.currentIndex<mF(r,o,s)?n:r,a=mF(i,o,s),c=i.currentIndex;if(i===r)o--,r=r._nextRemoved;else if(n=n._next,null==i.previousIndex)o++;else{s||(s=[]);const l=a-o,u=c-o;if(l!=u){for(let f=0;f<l;f++){const p=f<s.length?s[f]:s[f]=0,g=p+f;u<=g&&g<l&&(s[f]=p+1)}s[i.previousIndex]=u-l}}a!==c&&t(i,a,c)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)t(n)}diff(t){if(null==t&&(t=[]),!Rg(t))throw new M(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let o,s,i,n=this._itHead,r=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)s=t[a],i=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,i)?(r&&(n=this._verifyReinsertion(n,s,i,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,i,a),r=!0),n=n._next}else o=0,function y5(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Symbol.iterator]();let r;for(;!(r=n.next()).done;)t(r.value)}}(t,a=>{i=this._trackByFn(o,a),null!==n&&Object.is(n.trackById,i)?(r&&(n=this._verifyReinsertion(n,a,i,o)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,i,o),r=!0),n=n._next,o++}),this.length=o;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,o){let s;return null===t?s=this._itTail:(s=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,s,o)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(r,o))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,s,o)):t=this._addAfter(new rY(n,r),s,o),t}_verifyReinsertion(t,n,r,o){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?t=this._reinsertAfter(s,t._prev,o):t.currentIndex!=o&&(t.currentIndex=o,this._addToMoves(t,o)),t}_truncate(t){for(;null!==t;){const n=t._next;this._addToRemovals(this._unlink(t)),t=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const o=t._prevRemoved,s=t._nextRemoved;return null===o?this._removalsHead=s:o._nextRemoved=s,null===s?this._removalsTail=o:s._prevRemoved=o,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){const o=null===n?this._itHead:n._next;return t._next=o,t._prev=n,null===o?this._itTail=t:o._prev=t,null===n?this._itHead=t:n._next=t,null===this._linkedRecords&&(this._linkedRecords=new gF),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const n=t._prev,r=t._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new gF),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class rY{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class oY{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){const n=t._prevDup,r=t._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class gF{constructor(){this.map=new Map}put(t){const n=t.trackById;let r=this.map.get(n);r||(r=new oY,this.map.set(n,r)),r.add(t)}get(t,n){const o=this.map.get(t);return o?o.get(t,n):null}remove(t){const n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function mF(e,t,n){const r=e.previousIndex;if(null===r)return r;let o=0;return n&&r<n.length&&(o=n[r]),r+t+o}function yF(){return new lw([new pF])}let lw=(()=>{class e{static{this.\u0275prov=L({token:e,providedIn:"root",factory:yF})}constructor(n){this.factories=n}static create(n,r){if(null!=r){const o=r.factories.slice();n=n.concat(o)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||yF()),deps:[[e,new ob,new rb]]}}find(n){const r=this.factories.find(o=>o.supports(n));if(null!=r)return r;throw new M(901,!1)}}return e})();const lY=aF(null,"core",[]);let uY=(()=>{class e{constructor(n){}static{this.\u0275fac=function(r){return new(r||e)(j(Gs))}}static{this.\u0275mod=io({type:e})}static{this.\u0275inj=Vr({})}}return e})();function UF(e){const t=ue(null);try{return e()}finally{ue(t)}}let $F=null;function Ks(){return $F}class WY{}const vr=new P("");let HF=(()=>{class e{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=L({token:e,factory:()=>N(GY),providedIn:"platform"})}}return e})(),GY=(()=>{class e extends HF{constructor(){super(),this._doc=N(vr),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ks().getBaseHref(this._doc)}onPopState(n){const r=Ks().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=Ks().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,o){this._history.pushState(n,r,o)}replaceState(n,r,o){this._history.replaceState(n,r,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=L({token:e,factory:()=>new e,providedIn:"platform"})}}return e})();function qF(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function zF(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function Zi(e){return e&&"?"!==e[0]?"?"+e:e}let om=(()=>{class e{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=L({token:e,factory:()=>N(KY),providedIn:"root"})}}return e})();const XY=new P("");let KY=(()=>{class e extends om{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??N(vr).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return qF(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+Zi(this._platformLocation.search),o=this._platformLocation.hash;return o&&n?`${r}${o}`:r}pushState(n,r,o,s){const i=this.prepareExternalUrl(o+Zi(s));this._platformLocation.pushState(n,r,i)}replaceState(n,r,o,s){const i=this.prepareExternalUrl(o+Zi(s));this._platformLocation.replaceState(n,r,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||e)(j(HF),j(XY,8))}}static{this.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),rf=(()=>{class e{constructor(n){this._subject=new ct,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function JY(e){if(new RegExp("^(https?:)?//").test(e)){const[,n]=e.split(/\/\/[^\/]+/);return n}return e}(zF(WF(r))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Zi(r))}normalize(n){return e.stripTrailingSlash(function QY(e,t){if(!e||!t.startsWith(e))return t;const n=t.substring(e.length);return""===n||["/",";","?","#"].includes(n[0])?n:t}(this._basePath,WF(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",o=null){this._locationStrategy.pushState(o,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Zi(r)),o)}replaceState(n,r="",o=null){this._locationStrategy.replaceState(o,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Zi(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(o=>o(n,r))}subscribe(n,r,o){return this._subject.subscribe({next:n,error:r,complete:o})}static{this.normalizeQueryParams=Zi}static{this.joinWithSlash=qF}static{this.stripTrailingSlash=zF}static{this.\u0275fac=function(r){return new(r||e)(j(om))}}static{this.\u0275prov=L({token:e,factory:()=>function YY(){return new rf(j(om))}(),providedIn:"root"})}}return e})();function WF(e){return e.replace(/\/index.html$/,"")}function tP(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const r=n.indexOf("="),[o,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(o.trim()===t)return decodeURIComponent(s)}return null}const Ew=/\s+/,nP=[];let rP=(()=>{class e{constructor(n,r){this._ngEl=n,this._renderer=r,this.initialClasses=nP,this.stateMap=new Map}set klass(n){this.initialClasses=null!=n?n.trim().split(Ew):nP}set ngClass(n){this.rawClass="string"==typeof n?n.trim().split(Ew):n}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(const r of n)this._updateState(r,!0);else if(null!=n)for(const r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){const o=this.stateMap.get(n);void 0!==o?(o.enabled!==r&&(o.changed=!0,o.enabled=r),o.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const n of this.stateMap){const r=n[0],o=n[1];o.changed?(this._toggleClass(r,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),o.touched=!1}}_toggleClass(n,r){(n=n.trim()).length>0&&n.split(Ew).forEach(o=>{r?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}static{this.\u0275fac=function(r){return new(r||e)(R(Jn),R(Jo))}}static{this.\u0275dir=ee({type:e,selectors:[["","ngClass",""]],inputs:{klass:[st.None,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return e})();class LQ{constructor(t,n,r,o){this.$implicit=t,this.ngForOf=n,this.index=r,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let mm=(()=>{class e{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,o){this._viewContainer=n,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((o,s,i)=>{if(null==o.previousIndex)r.createEmbeddedView(this._template,new LQ(o.item,this._ngForOf,-1,-1),null===i?void 0:i);else if(null==i)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,i),sP(a,o)}});for(let o=0,s=r.length;o<s;o++){const a=r.get(o).context;a.index=o,a.count=s,a.ngForOf=this._ngForOf}n.forEachIdentityChange(o=>{sP(r.get(o.currentIndex),o)})}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||e)(R(Wr),R(Qo),R(lw))}}static{this.\u0275dir=ee({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return e})();function sP(e,t){e.context.$implicit=t.item}let _m=(()=>{class e{constructor(n,r){this._viewContainer=n,this._context=new VQ,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){iP("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){iP("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||e)(R(Wr),R(Qo))}}static{this.\u0275dir=ee({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return e})();class VQ{constructor(){this.$implicit=null,this.ngIf=null}}function iP(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${Pt(t)}'.`)}class $Q{createSubscription(t,n){return UF(()=>t.subscribe({next:n,error:r=>{throw r}}))}dispose(t){UF(()=>t.unsubscribe())}}class HQ{createSubscription(t,n){return t.then(n,r=>{throw r})}dispose(t){}}const qQ=new HQ,zQ=new $Q;let Sw=(()=>{class e{constructor(n){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){if(!this._obj){if(n)try{this.markForCheckOnValueUpdate=!1,this._subscribe(n)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,r=>this._updateLatestValue(n,r))}_selectStrategy(n){if(Zd(n))return qQ;if(Jx(n))return zQ;throw function Yr(e,t){return new M(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,r){n===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static{this.\u0275fac=function(r){return new(r||e)(R(ef,16))}}static{this.\u0275pipe=Vn({name:"async",type:e,pure:!1,standalone:!0})}}return e})(),lP=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=io({type:e})}static{this.\u0275inj=Vr({})}}return e})();const uP="browser";function dP(e){return e===uP}function fP(e){return"server"===e}class ym{}class BJ extends WY{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Tw extends BJ{static makeCurrent(){!function zY(e){$F??=e}(new Tw)}onAndCancel(t,n,r){return t.addEventListener(n,r),()=>{t.removeEventListener(n,r)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,n){return(n=n||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return"window"===n?window:"document"===n?t:"body"===n?t.body:null}getBaseHref(t){const n=function UJ(){return lf=lf||document.querySelector("base"),lf?lf.getAttribute("href"):null}();return null==n?null:function $J(e){return new URL(e,document.baseURI).pathname}(n)}resetBaseElement(){lf=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return tP(document.cookie,t)}}let lf=null,qJ=(()=>{class e{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=L({token:e,factory:e.\u0275fac})}}return e})();const Ow=new P("");let EP=(()=>{class e{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(o=>{o.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,o){return this._findPluginFor(r).addEventListener(n,r,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(s=>s.supports(n)),!r)throw new M(5101,!1);return this._eventNameToPlugin.set(n,r),r}static{this.\u0275fac=function(r){return new(r||e)(j(Ow),j(Fe))}}static{this.\u0275prov=L({token:e,factory:e.\u0275fac})}}return e})();class CP{constructor(t){this._doc=t}}const Rw="ng-app-id";let wP=(()=>{class e{constructor(n,r,o,s={}){this.doc=n,this.appId=r,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=fP(s),this.resetHostNodes()}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.elements?.forEach(o=>o.remove()),r.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${Rw}="${this.appId}"]`);if(n?.length){const r=new Map;return n.forEach(o=>{null!=o.textContent&&r.set(o.textContent,o)}),r}return null}changeUsageCount(n,r){const o=this.styleRef;if(o.has(n)){const s=o.get(n);return s.usage+=r,s.usage}return o.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){const o=this.styleNodesInDOM,s=o?.get(r);if(s?.parentNode===n)return o.delete(r),s.removeAttribute(Rw),s;{const i=this.doc.createElement("style");return this.nonce&&i.setAttribute("nonce",this.nonce),i.textContent=r,this.platformIsServer&&i.setAttribute(Rw,this.appId),n.appendChild(i),i}}addStyleToHost(n,r){const o=this.getStyleElement(n,r),s=this.styleRef,i=s.get(r)?.elements;i?i.push(o):s.set(r,{elements:[o],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||e)(j(vr),j(Qp),j(eE,8),j(Xo))}}static{this.\u0275prov=L({token:e,factory:e.\u0275fac})}}return e})();const Aw={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},kw=/%COMP%/g,XJ=new P("",{providedIn:"root",factory:()=>!0});function DP(e,t){return t.map(n=>n.replace(kw,e))}let MP=(()=>{class e{constructor(n,r,o,s,i,a,c,l=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=i,this.platformId=a,this.ngZone=c,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=fP(a),this.defaultRenderer=new Nw(n,i,c,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===jr.ShadowDom&&(r={...r,encapsulation:jr.Emulated});const o=this.getOrCreateRenderer(n,r);return o instanceof TP?o.applyToHost(n):o instanceof xw&&o.applyStyles(),o}getOrCreateRenderer(n,r){const o=this.rendererByCompId;let s=o.get(r.id);if(!s){const i=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case jr.Emulated:s=new TP(c,l,r,this.appId,u,i,a,d);break;case jr.ShadowDom:return new JJ(c,l,n,r,i,a,this.nonce,d);default:s=new xw(c,l,r,u,i,a,d)}o.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||e)(j(EP),j(wP),j(Qp),j(XJ),j(vr),j(Xo),j(Fe),j(eE))}}static{this.\u0275prov=L({token:e,factory:e.\u0275fac})}}return e})();class Nw{constructor(t,n,r,o){this.eventManager=t,this.doc=n,this.ngZone=r,this.platformIsServer=o,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t,n){return n?this.doc.createElementNS(Aw[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(IP(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(IP(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){t&&t.removeChild(n)}selectRootElement(t,n){let r="string"==typeof t?this.doc.querySelector(t):t;if(!r)throw new M(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,o){if(o){n=o+":"+n;const s=Aw[o];s?t.setAttributeNS(s,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){const o=Aw[r];o?t.removeAttributeNS(o,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,o){o&(Vs.DashCase|Vs.Important)?t.style.setProperty(n,r,o&Vs.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&Vs.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){null!=t&&(t[n]=r)}setValue(t,n){t.nodeValue=n}listen(t,n,r){if("string"==typeof t&&!(t=Ks().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${n}`);return this.eventManager.addEventListener(t,n,this.decoratePreventDefault(r))}decoratePreventDefault(t){return n=>{if("__ngUnwrap__"===n)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(n)):t(n))&&n.preventDefault()}}}function IP(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class JJ extends Nw{constructor(t,n,r,o,s,i,a,c){super(t,s,i,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=DP(o.id,o.styles);for(const u of l){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(this.nodeOrShadowRoot(t),n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class xw extends Nw{constructor(t,n,r,o,s,i,a,c){super(t,s,i,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=o,this.styles=c?DP(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class TP extends xw{constructor(t,n,r,o,s,i,a,c){const l=o+"-"+r.id;super(t,n,r,s,i,a,c,l),this.contentAttr=function KJ(e){return"_ngcontent-%COMP%".replace(kw,e)}(l),this.hostAttr=function YJ(e){return"_nghost-%COMP%".replace(kw,e)}(l)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){const r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}}let ZJ=(()=>{class e extends CP{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,o){return n.addEventListener(r,o,!1),()=>this.removeEventListener(n,r,o)}removeEventListener(n,r,o){return n.removeEventListener(r,o)}static{this.\u0275fac=function(r){return new(r||e)(j(vr))}}static{this.\u0275prov=L({token:e,factory:e.\u0275fac})}}return e})();const OP=["alt","control","meta","shift"],eZ={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},tZ={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let nZ=(()=>{class e extends CP{constructor(n){super(n)}supports(n){return null!=e.parseEventName(n)}addEventListener(n,r,o){const s=e.parseEventName(r),i=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ks().onAndCancel(n,s.domEventName,i))}static parseEventName(n){const r=n.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const s=e._normalizeKey(r.pop());let i="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),i="code."),OP.forEach(l=>{const u=r.indexOf(l);u>-1&&(r.splice(u,1),i+=l+".")}),i+=s,0!=r.length||0===s.length)return null;const c={};return c.domEventName=o,c.fullKey=i,c}static matchEventFullKeyCode(n,r){let o=eZ[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(o=n.code,s="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),OP.forEach(i=>{i!==o&&(0,tZ[i])(n)&&(s+=i+".")}),s+=o,s===r)}static eventCallback(n,r,o){return s=>{e.matchEventFullKeyCode(s,n)&&o.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}static{this.\u0275fac=function(r){return new(r||e)(j(vr))}}static{this.\u0275prov=L({token:e,factory:e.\u0275fac})}}return e})();const iZ=aF(lY,"browser",[{provide:Xo,useValue:uP},{provide:nR,useValue:function rZ(){Tw.makeCurrent()},multi:!0},{provide:vr,useFactory:function sZ(){return function zG(e){Zb=e}(document),document},deps:[]}]),aZ=new P(""),kP=[{provide:Gg,useClass:class HJ{addToWindow(t){xe.getAngularTestability=(r,o=!0)=>{const s=t.findTestabilityInTree(r,o);if(null==s)throw new M(5103,!1);return s},xe.getAllAngularTestabilities=()=>t.getAllTestabilities(),xe.getAllAngularRootElements=()=>t.getAllRootElements(),xe.frameworkStabilizers||(xe.frameworkStabilizers=[]),xe.frameworkStabilizers.push(r=>{const o=xe.getAllAngularTestabilities();let s=o.length;const i=function(){s--,0==s&&r()};o.forEach(a=>{a.whenStable(i)})})}findTestabilityInTree(t,n,r){return null==n?null:t.getTestability(n)??(r?Ks().isShadowRoot(n)?this.findTestabilityInTree(t,n.host,!0):this.findTestabilityInTree(t,n.parentElement,!0):null)}},deps:[]},{provide:Qx,useClass:QC,deps:[Fe,JC,Gg]},{provide:QC,useClass:QC,deps:[Fe,JC,Gg]}],NP=[{provide:hb,useValue:"root"},{provide:po,useFactory:function oZ(){return new po},deps:[]},{provide:Ow,useClass:ZJ,multi:!0,deps:[vr,Fe,Xo]},{provide:Ow,useClass:nZ,multi:!0,deps:[vr]},MP,wP,EP,{provide:SA,useExisting:MP},{provide:ym,useClass:qJ,deps:[]},[]];let cZ=(()=>{class e{constructor(n){}static withServerTransition(n){return{ngModule:e,providers:[{provide:Qp,useValue:n.appId}]}}static{this.\u0275fac=function(r){return new(r||e)(j(aZ,12))}}static{this.\u0275mod=io({type:e})}static{this.\u0275inj=Vr({providers:[...NP,...kP],imports:[lP,uY]})}}return e})(),lZ=(()=>{class e{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static{this.\u0275fac=function(r){return new(r||e)(j(vr))}}static{this.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function LP(e){return Array.isArray(e)?e:[e]}const{isArray:pZ}=Array,{getPrototypeOf:gZ,prototype:mZ,keys:_Z}=Object;function VP(e){if(1===e.length){const t=e[0];if(pZ(t))return{args:t,keys:null};if(function yZ(e){return e&&"object"==typeof e&&gZ(e)===mZ}(t)){const n=_Z(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}function Ys(e){return this instanceof Ys?(this.v=e,this):new Ys(e)}function $P(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=e[Symbol.asyncIterator];return t?t.call(e):(e=function Vw(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=e[s]&&function(i){return new Promise(function(a,c){!function o(s,i,a,c){Promise.resolve(c).then(function(l){s({value:l,done:a})},i)}(a,c,(i=e[s](i)).done,i.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const HP=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function qP(e){return ot(e?.then)}function zP(e){return ot(e[$v])}function WP(e){return Symbol.asyncIterator&&ot(e?.[Symbol.asyncIterator])}function GP(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const XP=function BZ(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function KP(e){return ot(e?.[XP])}function YP(e){return function UP(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,r=n.apply(e,t||[]),s=[];return o={},i("next"),i("throw"),i("return"),o[Symbol.asyncIterator]=function(){return this},o;function i(f){r[f]&&(o[f]=function(p){return new Promise(function(g,m){s.push([f,p,g,m])>1||a(f,p)})})}function a(f,p){try{!function c(f){f.value instanceof Ys?Promise.resolve(f.value.v).then(l,u):d(s[0][2],f)}(r[f](p))}catch(g){d(s[0][3],g)}}function l(f){a("next",f)}function u(f){a("throw",f)}function d(f,p){f(p),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const n=e.getReader();try{for(;;){const{value:r,done:o}=yield Ys(n.read());if(o)return yield Ys(void 0);yield yield Ys(r)}}finally{n.releaseLock()}})}function QP(e){return ot(e?.getReader)}function Qr(e){if(e instanceof Xe)return e;if(null!=e){if(zP(e))return function UZ(e){return new Xe(t=>{const n=e[$v]();if(ot(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(HP(e))return function $Z(e){return new Xe(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}(e);if(qP(e))return function HZ(e){return new Xe(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,sT)})}(e);if(WP(e))return JP(e);if(KP(e))return function qZ(e){return new Xe(t=>{for(const n of e)if(t.next(n),t.closed)return;t.complete()})}(e);if(QP(e))return function zZ(e){return JP(YP(e))}(e)}throw GP(e)}function JP(e){return new Xe(t=>{(function WZ(e,t){var n,r,o,s;return function jP(e,t,n,r){return new(n||(n=Promise))(function(s,i){function a(u){try{l(r.next(u))}catch(d){i(d)}}function c(u){try{l(r.throw(u))}catch(d){i(d)}}function l(u){u.done?s(u.value):function o(s){return s instanceof n?s:new n(function(i){i(s)})}(u.value).then(a,c)}l((r=r.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){try{for(n=$P(e);!(r=yield n.next()).done;)if(t.next(r.value),t.closed)return}catch(i){o={error:i}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(o)throw o.error}}t.complete()})})(e,t).catch(n=>t.error(n))})}function ns(e,t,n,r=0,o=!1){const s=t.schedule(function(){n(),o?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(s),!o)return s}function ZP(e,t=0){return Ft((n,r)=>{n.subscribe(Tt(r,o=>ns(r,e,()=>r.next(o),t),()=>ns(r,e,()=>r.complete(),t),o=>ns(r,e,()=>r.error(o),t)))})}function e1(e,t=0){return Ft((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function t1(e,t){if(!e)throw new Error("Iterable cannot be null");return new Xe(n=>{ns(n,t,()=>{const r=e[Symbol.asyncIterator]();ns(n,t,()=>{r.next().then(o=>{o.done?n.complete():n.next(o.value)})},0,!0)})})}function Qt(e,t){return t?function JZ(e,t){if(null!=e){if(zP(e))return function GZ(e,t){return Qr(e).pipe(e1(t),ZP(t))}(e,t);if(HP(e))return function KZ(e,t){return new Xe(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}(e,t);if(qP(e))return function XZ(e,t){return Qr(e).pipe(e1(t),ZP(t))}(e,t);if(WP(e))return t1(e,t);if(KP(e))return function YZ(e,t){return new Xe(n=>{let r;return ns(n,t,()=>{r=e[XP](),ns(n,t,()=>{let o,s;try{({value:o,done:s}=r.next())}catch(i){return void n.error(i)}s?n.complete():n.next(o)},0,!0)}),()=>ot(r?.return)&&r.return()})}(e,t);if(QP(e))return function QZ(e,t){return t1(YP(e),t)}(e,t)}throw GP(e)}(e,t):Qr(e)}const{isArray:ZZ}=Array;function n1(e){return ie(t=>function eee(e,t){return ZZ(t)?e(...t):e(t)}(e,t))}function r1(e){return e&&ot(e.schedule)}function jw(e){return e[e.length-1]}function o1(e){return ot(jw(e))?e.pop():void 0}function Cm(e){return r1(jw(e))?e.pop():void 0}function s1(e,t){return e.reduce((n,r,o)=>(n[r]=t[o],n),{})}function wm(...e){const t=Cm(e),n=o1(e),{args:r,keys:o}=VP(e);if(0===r.length)return Qt([],t);const s=new Xe(function tee(e,t,n=xi){return r=>{i1(t,()=>{const{length:o}=e,s=new Array(o);let i=o,a=o;for(let c=0;c<o;c++)i1(t,()=>{const l=Qt(e[c],t);let u=!1;l.subscribe(Tt(r,d=>{s[c]=d,u||(u=!0,a--),a||r.next(n(s.slice()))},()=>{--i||r.complete()}))},r)},r)}}(r,t,o?i=>s1(o,i):xi));return n?s.pipe(n1(n)):s}function i1(e,t,n){e?ns(n,e,t):t()}function Rn(e,t,n=1/0){return ot(t)?Rn((r,o)=>ie((s,i)=>t(r,s,o,i))(Qr(e(r,o))),n):("number"==typeof t&&(n=t),Ft((r,o)=>function nee(e,t,n,r,o,s,i,a){const c=[];let l=0,u=0,d=!1;const f=()=>{d&&!c.length&&!l&&t.complete()},p=m=>l<r?g(m):c.push(m),g=m=>{s&&t.next(m),l++;let y=!1;Qr(n(m,u++)).subscribe(Tt(t,b=>{o?.(b),s?p(b):t.next(b)},()=>{y=!0},void 0,()=>{if(y)try{for(l--;c.length&&l<r;){const b=c.shift();i?ns(t,i,()=>g(b)):g(b)}f()}catch(b){t.error(b)}}))};return e.subscribe(Tt(t,p,()=>{d=!0,f()})),()=>{a?.()}}(r,o,e,n)))}function Sm(...e){return function ree(){return function Bw(e=1/0){return Rn(xi,e)}(1)}()(Qt(e,Cm(e)))}const bo=new Xe(e=>e.complete());function Qs(e){return e<=0?()=>bo:Ft((t,n)=>{let r=0;t.subscribe(Tt(n,o=>{++r<=e&&(n.next(o),e<=r&&n.complete())}))})}function rs(e,t){return Ft((n,r)=>{let o=0;n.subscribe(Tt(r,s=>e.call(t,s,o++)&&r.next(s)))})}class iee extends wn{constructor(t,n){super()}schedule(t,n=0){return this}}const Dm={setInterval(e,t,...n){const{delegate:r}=Dm;return r?.setInterval?r.setInterval(e,t,...n):setInterval(e,t,...n)},clearInterval(e){const{delegate:t}=Dm;return(t?.clearInterval||clearInterval)(e)},delegate:void 0},Uw={now:()=>(Uw.delegate||Date).now(),delegate:void 0};class df{constructor(t,n=df.now){this.schedulerActionCtor=t,this.now=n}schedule(t,n=0,r){return new this.schedulerActionCtor(this,t).schedule(r,n)}}df.now=Uw.now;const a1=new class cee extends df{constructor(t,n=df.now){super(t,n),this.actions=[],this._active=!1}flush(t){const{actions:n}=this;if(this._active)return void n.push(t);let r;this._active=!0;do{if(r=t.execute(t.state,t.delay))break}while(t=n.shift());if(this._active=!1,r){for(;t=n.shift();)t.unsubscribe();throw r}}}(class aee extends iee{constructor(t,n){super(t,n),this.scheduler=t,this.work=n,this.pending=!1}schedule(t,n=0){var r;if(this.closed)return this;this.state=t;const o=this.id,s=this.scheduler;return null!=o&&(this.id=this.recycleAsyncId(s,o,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(t,n,r=0){return Dm.setInterval(t.flush.bind(t,this),r)}recycleAsyncId(t,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&Dm.clearInterval(n)}execute(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(t,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,n){let o,r=!1;try{this.work(t)}catch(s){r=!0,o=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),o}unsubscribe(){if(!this.closed){const{id:t,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,pp(r,this),null!=t&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,super.unsubscribe()}}}),lee=a1;function Mm(...e){const t=Cm(e);return Ft((n,r)=>{(t?Sm(e,n,t):Sm(e,n)).subscribe(r)})}function c1(e){return Ft((t,n)=>{Qr(e).subscribe(Tt(n,()=>n.complete(),Lv)),!n.closed&&t.subscribe(n)})}let $w;try{$w=typeof Intl<"u"&&Intl.v8BreakIterator}catch{$w=!1}let dee=(()=>{class e{constructor(n){this._platformId=n,this.isBrowser=this._platformId?dP(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!$w)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static{this.\u0275fac=function(r){return new(r||e)(j(Xo))}}static{this.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const u1=new Set;let ta,pee=(()=>{class e{constructor(n,r){this._platform=n,this._nonce=r,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):mee}matchMedia(n){return(this._platform.WEBKIT||this._platform.BLINK)&&function gee(e,t){if(!u1.has(e))try{ta||(ta=document.createElement("style"),t&&ta.setAttribute("nonce",t),ta.setAttribute("type","text/css"),document.head.appendChild(ta)),ta.sheet&&(ta.sheet.insertRule(`@media ${e} {body{ }}`,0),u1.add(e))}catch(n){console.error(n)}}(n,this._nonce),this._matchMedia(n)}static{this.\u0275fac=function(r){return new(r||e)(j(dee),j(eE,8))}}static{this.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function mee(e){return{matches:"all"===e||""===e,media:e,addListener:()=>{},removeListener:()=>{}}}let _ee=(()=>{class e{constructor(n,r){this._mediaMatcher=n,this._zone=r,this._queries=new Map,this._destroySubject=new Kt}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(n){return d1(LP(n)).some(o=>this._registerQuery(o).mql.matches)}observe(n){let s=wm(d1(LP(n)).map(i=>this._registerQuery(i).observable));return s=Sm(s.pipe(Qs(1)),s.pipe(function see(e){return rs((t,n)=>e<=n)}(1),function uee(e,t=a1){return Ft((n,r)=>{let o=null,s=null,i=null;const a=()=>{if(o){o.unsubscribe(),o=null;const l=s;s=null,r.next(l)}};function c(){const l=i+e,u=t.now();if(u<l)return o=this.schedule(void 0,l-u),void r.add(o);a()}n.subscribe(Tt(r,l=>{s=l,i=t.now(),o||(o=t.schedule(c,e),r.add(o))},()=>{a(),r.complete()},void 0,()=>{s=o=null}))})}(0))),s.pipe(ie(i=>{const a={matches:!1,breakpoints:{}};return i.forEach(({matches:c,query:l})=>{a.matches=a.matches||c,a.breakpoints[l]=c}),a}))}_registerQuery(n){if(this._queries.has(n))return this._queries.get(n);const r=this._mediaMatcher.matchMedia(n),s={observable:new Xe(i=>{const a=c=>this._zone.run(()=>i.next(c));return r.addListener(a),()=>{r.removeListener(a)}}).pipe(Mm(r),ie(({matches:i})=>({query:n,matches:i})),c1(this._destroySubject)),mql:r};return this._queries.set(n,s),s}static{this.\u0275fac=function(r){return new(r||e)(j(pee),j(Fe))}}static{this.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function d1(e){return e.map(t=>t.split(",")).reduce((t,n)=>t.concat(n)).map(t=>t.trim())}const qw=new P("IManageGenres");var na=function(e){return e.LIGHT="light",e.DARK="dark",e}(na||{});let vee=(()=>{class e{constructor(n){this.document=n,this.currentMode=na.LIGHT,this.modeChangedSubject=new Fn(this.currentMode),this.modeChanged$=this.modeChangedSubject.asObservable(),this.init()}updateCurrentMode(n){this.currentMode=n,this.modeChangedSubject.next(this.currentMode)}init(){const n=window.matchMedia("(prefers-color-scheme: dark)");let r=na.LIGHT;r=n.matches?na.DARK:na.LIGHT,this.updateCurrentMode(r),this.document.body.classList.add(this.currentMode)}static{this.\u0275fac=function(r){return new(r||e)(j(vr))}}static{this.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function te(...e){return Qt(e,Cm(e))}const pf=Fv(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function f1(e){return new Xe(t=>{Qr(e()).subscribe(t)})}function Tm(e,t){const n=ot(e)?e:()=>e,r=o=>o.error(n());return new Xe(t?o=>t.schedule(r,0,o):r)}function zw(){return Ft((e,t)=>{let n=null;e._refCount++;const r=Tt(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(n=null);const o=e._connection,s=n;n=null,o&&(!s||o===s)&&o.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}class h1 extends Xe{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,lT(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new wn;const n=this.getSubject();t.add(this.source.subscribe(Tt(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=wn.EMPTY)}return t}refCount(){return zw()(this)}}function Cr(e,t){return Ft((n,r)=>{let o=null,s=0,i=!1;const a=()=>i&&!o&&r.complete();n.subscribe(Tt(r,c=>{o?.unsubscribe();let l=0;const u=s++;Qr(e(c,u)).subscribe(o=Tt(r,d=>r.next(t?t(c,d,u,l++):d),()=>{o=null,a()}))},()=>{i=!0,a()}))})}function Om(e){return Ft((t,n)=>{let r=!1;t.subscribe(Tt(n,o=>{r=!0,n.next(o)},()=>{r||n.next(e),n.complete()}))})}function p1(e=Eee){return Ft((t,n)=>{let r=!1;t.subscribe(Tt(n,o=>{r=!0,n.next(o)},()=>r?n.complete():n.error(e())))})}function Eee(){return new pf}function os(e,t){const n=arguments.length>=2;return r=>r.pipe(e?rs((o,s)=>e(o,s,r)):xi,Qs(1),n?Om(t):p1(()=>new pf))}function ra(e,t){return ot(t)?Rn(e,t,1):Rn(e,1)}function _n(e,t,n){const r=ot(e)||t||n?{next:e,error:t,complete:n}:e;return r?Ft((o,s)=>{var i;null===(i=r.subscribe)||void 0===i||i.call(r);let a=!0;o.subscribe(Tt(s,c=>{var l;null===(l=r.next)||void 0===l||l.call(r,c),s.next(c)},()=>{var c;a=!1,null===(c=r.complete)||void 0===c||c.call(r),s.complete()},c=>{var l;a=!1,null===(l=r.error)||void 0===l||l.call(r,c),s.error(c)},()=>{var c,l;a&&(null===(c=r.unsubscribe)||void 0===c||c.call(r)),null===(l=r.finalize)||void 0===l||l.call(r)}))}):xi}function cl(e){return Ft((t,n)=>{let s,r=null,o=!1;r=t.subscribe(Tt(n,void 0,void 0,i=>{s=Qr(e(i,cl(e)(t))),r?(r.unsubscribe(),r=null,s.subscribe(n)):o=!0})),o&&(r.unsubscribe(),r=null,s.subscribe(n))})}function Ww(e){return e<=0?()=>bo:Ft((t,n)=>{let r=[];t.subscribe(Tt(n,o=>{r.push(o),e<r.length&&r.shift()},()=>{for(const o of r)n.next(o);n.complete()},void 0,()=>{r=null}))})}function ll(e){return Ft((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}const ae="primary",gf=Symbol("RouteTitle");class Mee{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function ul(e){return new Mee(e)}function Iee(e,t,n){const r=n.path.split("/");if(r.length>e.length||"full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;const o={};for(let s=0;s<r.length;s++){const i=r[s],a=e[s];if(i.startsWith(":"))o[i.substring(1)]=a;else if(i!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:o}}function Eo(e,t){const n=e?Gw(e):void 0,r=t?Gw(t):void 0;if(!n||!r||n.length!=r.length)return!1;let o;for(let s=0;s<n.length;s++)if(o=n[s],!g1(e[o],t[o]))return!1;return!0}function Gw(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function g1(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const n=[...e].sort(),r=[...t].sort();return n.every((o,s)=>r[s]===o)}return e===t}function m1(e){return e.length>0?e[e.length-1]:null}function Js(e){return function bee(e){return!!e&&(e instanceof Xe||ot(e.lift)&&ot(e.subscribe))}(e)?e:Zd(e)?Qt(Promise.resolve(e)):te(e)}const Oee={exact:function v1(e,t,n){if(!oa(e.segments,t.segments)||!Rm(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!e.children[r]||!v1(e.children[r],t.children[r],n))return!1;return!0},subset:b1},_1={exact:function Ree(e,t){return Eo(e,t)},subset:function Aee(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>g1(e[n],t[n]))},ignored:()=>!0};function y1(e,t,n){return Oee[n.paths](e.root,t.root,n.matrixParams)&&_1[n.queryParams](e.queryParams,t.queryParams)&&!("exact"===n.fragment&&e.fragment!==t.fragment)}function b1(e,t,n){return E1(e,t,t.segments,n)}function E1(e,t,n,r){if(e.segments.length>n.length){const o=e.segments.slice(0,n.length);return!(!oa(o,n)||t.hasChildren()||!Rm(o,n,r))}if(e.segments.length===n.length){if(!oa(e.segments,n)||!Rm(e.segments,n,r))return!1;for(const o in t.children)if(!e.children[o]||!b1(e.children[o],t.children[o],r))return!1;return!0}{const o=n.slice(0,e.segments.length),s=n.slice(e.segments.length);return!!(oa(e.segments,o)&&Rm(e.segments,o,r)&&e.children[ae])&&E1(e.children[ae],t,s,r)}}function Rm(e,t,n){return t.every((r,o)=>_1[n](e[o].parameters,r.parameters))}class dl{constructor(t=new Ue([],{}),n={},r=null){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=ul(this.queryParams),this._queryParamMap}toString(){return xee.serialize(this)}}class Ue{constructor(t,n){this.segments=t,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Am(this)}}class mf{constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap??=ul(this.parameters),this._parameterMap}toString(){return S1(this)}}function oa(e,t){return e.length===t.length&&e.every((n,r)=>n.path===t[r].path)}let fl=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=L({token:e,factory:()=>new Xw,providedIn:"root"})}}return e})();class Xw{parse(t){const n=new zee(t);return new dl(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){const n=`/${_f(t.root,!0)}`,r=function Lee(e){const t=Object.entries(e).map(([n,r])=>Array.isArray(r)?r.map(o=>`${km(n)}=${km(o)}`).join("&"):`${km(n)}=${km(r)}`).filter(n=>n);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${n}${r}${"string"==typeof t.fragment?`#${function Fee(e){return encodeURI(e)}(t.fragment)}`:""}`}}const xee=new Xw;function Am(e){return e.segments.map(t=>S1(t)).join("/")}function _f(e,t){if(!e.hasChildren())return Am(e);if(t){const n=e.children[ae]?_f(e.children[ae],!1):"",r=[];return Object.entries(e.children).forEach(([o,s])=>{o!==ae&&r.push(`${o}:${_f(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function Nee(e,t){let n=[];return Object.entries(e.children).forEach(([r,o])=>{r===ae&&(n=n.concat(t(o,r)))}),Object.entries(e.children).forEach(([r,o])=>{r!==ae&&(n=n.concat(t(o,r)))}),n}(e,(r,o)=>o===ae?[_f(e.children[ae],!1)]:[`${o}:${_f(r,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[ae]?`${Am(e)}/${n[0]}`:`${Am(e)}/(${n.join("//")})`}}function C1(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function km(e){return C1(e).replace(/%3B/gi,";")}function Kw(e){return C1(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Nm(e){return decodeURIComponent(e)}function w1(e){return Nm(e.replace(/\+/g,"%20"))}function S1(e){return`${Kw(e.path)}${function Pee(e){return Object.entries(e).map(([t,n])=>`;${Kw(t)}=${Kw(n)}`).join("")}(e.parameters)}`}const Vee=/^[^\/()?;#]+/;function Yw(e){const t=e.match(Vee);return t?t[0]:""}const jee=/^[^\/()?;=#]+/,Uee=/^[^=?&#]+/,Hee=/^[^&#]+/;class zee{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ue([],{}):new Ue([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[ae]=new Ue(t,n)),r}parseSegment(){const t=Yw(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new M(4009,!1);return this.capture(t),new mf(Nm(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const n=function Bee(e){const t=e.match(jee);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=Yw(this.remaining);o&&(r=o,this.capture(r))}t[Nm(n)]=Nm(r)}parseQueryParam(t){const n=function $ee(e){const t=e.match(Uee);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=function qee(e){const t=e.match(Hee);return t?t[0]:""}(this.remaining);i&&(r=i,this.capture(r))}const o=w1(n),s=w1(r);if(t.hasOwnProperty(o)){let i=t[o];Array.isArray(i)||(i=[i],t[o]=i),i.push(s)}else t[o]=s}parseParens(t){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Yw(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new M(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=ae);const i=this.parseChildren();n[s]=1===Object.keys(i).length?i[ae]:new Ue([],i),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new M(4011,!1)}}function D1(e){return e.segments.length>0?new Ue([],{[ae]:e}):e}function M1(e){const t={};for(const[r,o]of Object.entries(e.children)){const s=M1(o);if(r===ae&&0===s.segments.length&&s.hasChildren())for(const[i,a]of Object.entries(s.children))t[i]=a;else(s.segments.length>0||s.hasChildren())&&(t[r]=s)}return function Wee(e){if(1===e.numberOfChildren&&e.children[ae]){const t=e.children[ae];return new Ue(e.segments.concat(t.segments),t.children)}return e}(new Ue(e.segments,t))}function hl(e){return e instanceof dl}function I1(e){let t;const o=D1(function n(s){const i={};for(const c of s.children){const l=n(c);i[c.outlet]=l}const a=new Ue(s.url,i);return s===e&&(t=a),a}(e.root));return t??o}function T1(e,t,n,r){let o=e;for(;o.parent;)o=o.parent;if(0===t.length)return Qw(o,o,o,n,r);const s=function Xee(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new R1(!0,0,e);let t=0,n=!1;const r=e.reduce((o,s,i)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([c,l])=>{a[c]="string"==typeof l?l.split("/"):l}),[...o,{outlets:a}]}if(s.segmentPath)return[...o,s.segmentPath]}return"string"!=typeof s?[...o,s]:0===i?(s.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?n=!0:".."===a?t++:""!=a&&o.push(a))}),o):[...o,s]},[]);return new R1(n,t,r)}(t);if(s.toRoot())return Qw(o,o,new Ue([],{}),n,r);const i=function Kee(e,t,n){if(e.isAbsolute)return new Fm(t,!0,0);if(!n)return new Fm(t,!1,NaN);if(null===n.parent)return new Fm(n,!0,0);const r=xm(e.commands[0])?0:1;return function Yee(e,t,n){let r=e,o=t,s=n;for(;s>o;){if(s-=o,r=r.parent,!r)throw new M(4005,!1);o=r.segments.length}return new Fm(r,!1,o-s)}(n,n.segments.length-1+r,e.numberOfDoubleDots)}(s,o,e),a=i.processChildren?vf(i.segmentGroup,i.index,s.commands):A1(i.segmentGroup,i.index,s.commands);return Qw(o,i.segmentGroup,a,n,r)}function xm(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function yf(e){return"object"==typeof e&&null!=e&&e.outlets}function Qw(e,t,n,r,o){let i,s={};r&&Object.entries(r).forEach(([c,l])=>{s[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`}),i=e===t?n:O1(e,t,n);const a=D1(M1(i));return new dl(a,s,o)}function O1(e,t,n){const r={};return Object.entries(e.children).forEach(([o,s])=>{r[o]=s===t?n:O1(s,t,n)}),new Ue(e.segments,r)}class R1{constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&xm(r[0]))throw new M(4003,!1);const o=r.find(yf);if(o&&o!==m1(r))throw new M(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Fm{constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}}function A1(e,t,n){if(e??=new Ue([],{}),0===e.segments.length&&e.hasChildren())return vf(e,t,n);const r=function Jee(e,t,n){let r=0,o=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;o<e.segments.length;){if(r>=n.length)return s;const i=e.segments[o],a=n[r];if(yf(a))break;const c=`${a}`,l=r<n.length-1?n[r+1]:null;if(o>0&&void 0===c)break;if(c&&l&&"object"==typeof l&&void 0===l.outlets){if(!N1(c,l,i))return s;r+=2}else{if(!N1(c,{},i))return s;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(e,t,n),o=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const s=new Ue(e.segments.slice(0,r.pathIndex),{});return s.children[ae]=new Ue(e.segments.slice(r.pathIndex),e.children),vf(s,0,o)}return r.match&&0===o.length?new Ue(e.segments,{}):r.match&&!e.hasChildren()?Jw(e,t,n):r.match?vf(e,0,o):Jw(e,t,n)}function vf(e,t,n){if(0===n.length)return new Ue(e.segments,{});{const r=function Qee(e){return yf(e[0])?e[0].outlets:{[ae]:e}}(n),o={};if(Object.keys(r).some(s=>s!==ae)&&e.children[ae]&&1===e.numberOfChildren&&0===e.children[ae].segments.length){const s=vf(e.children[ae],t,n);return new Ue(e.segments,s.children)}return Object.entries(r).forEach(([s,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(o[s]=A1(e.children[s],t,i))}),Object.entries(e.children).forEach(([s,i])=>{void 0===r[s]&&(o[s]=i)}),new Ue(e.segments,o)}}function Jw(e,t,n){const r=e.segments.slice(0,t);let o=0;for(;o<n.length;){const s=n[o];if(yf(s)){const c=Zee(s.outlets);return new Ue(r,c)}if(0===o&&xm(n[0])){r.push(new mf(e.segments[t].path,k1(n[0]))),o++;continue}const i=yf(s)?s.outlets[ae]:`${s}`,a=o<n.length-1?n[o+1]:null;i&&a&&xm(a)?(r.push(new mf(i,k1(a))),o+=2):(r.push(new mf(i,{})),o++)}return new Ue(r,{})}function Zee(e){const t={};return Object.entries(e).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(t[n]=Jw(new Ue([],{}),0,r))}),t}function k1(e){const t={};return Object.entries(e).forEach(([n,r])=>t[n]=`${r}`),t}function N1(e,t,n){return e==n.path&&Eo(t,n.parameters)}const bf="imperative";var Ee=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(Ee||{});class Co{constructor(t,n){this.id=t,this.url=n}}class Zw extends Co{constructor(t,n,r="imperative",o=null){super(t,n),this.type=Ee.NavigationStart,this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class sa extends Co{constructor(t,n,r){super(t,n),this.urlAfterRedirects=r,this.type=Ee.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var nr=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(nr||{}),eS=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(eS||{});class pl extends Co{constructor(t,n,r,o){super(t,n),this.reason=r,this.code=o,this.type=Ee.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ef extends Co{constructor(t,n,r,o){super(t,n),this.reason=r,this.code=o,this.type=Ee.NavigationSkipped}}class Pm extends Co{constructor(t,n,r,o){super(t,n),this.error=r,this.target=o,this.type=Ee.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class x1 extends Co{constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o,this.type=Ee.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ete extends Co{constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o,this.type=Ee.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class tte extends Co{constructor(t,n,r,o,s){super(t,n),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=s,this.type=Ee.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class nte extends Co{constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o,this.type=Ee.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rte extends Co{constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o,this.type=Ee.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ote{constructor(t){this.route=t,this.type=Ee.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ste{constructor(t){this.route=t,this.type=Ee.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ite{constructor(t){this.snapshot=t,this.type=Ee.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ate{constructor(t){this.snapshot=t,this.type=Ee.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class cte{constructor(t){this.snapshot=t,this.type=Ee.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class lte{constructor(t){this.snapshot=t,this.type=Ee.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class tS{}class nS{constructor(t){this.url=t}}class ute{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Cf,this.attachRef=null}}let Cf=(()=>{class e{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const o=this.getOrCreateContext(n);o.outlet=r,this.contexts.set(n,o)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new ute,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();class F1{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){const n=rS(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){const n=rS(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){const n=oS(t,this._root);return n.length<2?[]:n[n.length-2].children.map(o=>o.value).filter(o=>o!==t)}pathFromRoot(t){return oS(t,this._root).map(n=>n.value)}}function rS(e,t){if(e===t.value)return t;for(const n of t.children){const r=rS(e,n);if(r)return r}return null}function oS(e,t){if(e===t.value)return[t];for(const n of t.children){const r=oS(e,n);if(r.length)return r.unshift(t),r}return[]}class Jr{constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}}function gl(e){const t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}class P1 extends F1{constructor(t,n){super(t),this.snapshot=n,aS(this,t)}toString(){return this.snapshot.toString()}}function L1(e){const t=function dte(e){const s=new iS([],{},{},"",{},ae,e,null,{});return new V1("",new Jr(s,[]))}(e),n=new Fn([new mf("",{})]),r=new Fn({}),o=new Fn({}),s=new Fn({}),i=new Fn(""),a=new ia(n,r,s,i,o,ae,e,t.root);return a.snapshot=t.root,new P1(new Jr(a,[]),t)}class ia{constructor(t,n,r,o,s,i,a,c){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=o,this.dataSubject=s,this.outlet=i,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(ie(l=>l[gf]))??te(void 0),this.url=t,this.params=n,this.queryParams=r,this.fragment=o,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ie(t=>ul(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ie(t=>ul(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function sS(e,t,n="emptyOnly"){let r;const{routeConfig:o}=e;return r=null===t||"always"!==n&&""!==o?.path&&(t.component||t.routeConfig?.loadComponent)?{params:{...e.params},data:{...e.data},resolve:{...e.data,...e._resolvedData??{}}}:{params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.data,...o?.data,...e._resolvedData}},o&&B1(o)&&(r.resolve[gf]=o.title),r}class iS{get title(){return this.data?.[gf]}constructor(t,n,r,o,s,i,a,c,l){this.url=t,this.params=n,this.queryParams=r,this.fragment=o,this.data=s,this.outlet=i,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=ul(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=ul(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class V1 extends F1{constructor(t,n){super(n),this.url=t,aS(this,n)}toString(){return j1(this._root)}}function aS(e,t){t.value._routerState=e,t.children.forEach(n=>aS(e,n))}function j1(e){const t=e.children.length>0?` { ${e.children.map(j1).join(", ")} } `:"";return`${e.value}${t}`}function cS(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,Eo(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),Eo(t.params,n.params)||e.paramsSubject.next(n.params),function Tee(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!Eo(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.urlSubject.next(n.url),Eo(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function lS(e,t){const n=Eo(e.params,t.params)&&function kee(e,t){return oa(e,t)&&e.every((n,r)=>Eo(n.parameters,t[r].parameters))}(e.url,t.url);return n&&!(!e.parent!=!t.parent)&&(!e.parent||lS(e.parent,t.parent))}function B1(e){return"string"==typeof e.title||null===e.title}let uS=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=ae,this.activateEvents=new ct,this.deactivateEvents=new ct,this.attachEvents=new ct,this.detachEvents=new ct,this.parentContexts=N(Cf),this.location=N(Wr),this.changeDetector=N(ef),this.environmentInjector=N(Kn),this.inputBinder=N(Lm,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:o}=n.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new M(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new M(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new M(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new M(4013,!1);this._activatedRoute=n;const o=this.location,i=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new dS(n,a,o.injector);this.activated=o.createComponent(i,{index:o.length,injector:c,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275dir=ee({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[mr]})}}return e})();class dS{__ngOutletInjector(t){return new dS(this.route,this.childContexts,t)}constructor(t,n,r){this.route=t,this.childContexts=n,this.parent=r}get(t,n){return t===ia?this.route:t===Cf?this.childContexts:this.parent.get(t,n)}}const Lm=new P("");function wf(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=t.value;const o=function hte(e,t,n){return t.children.map(r=>{for(const o of n.children)if(e.shouldReuseRoute(r.value,o.value.snapshot))return wf(e,r,o);return wf(e,r)})}(e,t,n);return new Jr(r,o)}{if(e.shouldAttach(t.value)){const s=e.retrieve(t.value);if(null!==s){const i=s.route;return i.value._futureSnapshot=t.value,i.children=t.children.map(a=>wf(e,a)),i}}const r=function pte(e){return new ia(new Fn(e.url),new Fn(e.params),new Fn(e.queryParams),new Fn(e.fragment),new Fn(e.data),e.outlet,e.component,e)}(t.value),o=t.children.map(s=>wf(e,s));return new Jr(r,o)}}const $1="ngNavigationCancelingError";function H1(e,t){const{redirectTo:n,navigationBehaviorOptions:r}=hl(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,o=q1(!1,nr.Redirect);return o.url=n,o.navigationBehaviorOptions=r,o}function q1(e,t){const n=new Error(`NavigationCancelingError: ${e||""}`);return n[$1]=!0,n.cancellationCode=t,n}function z1(e){return!!e&&e[$1]}let W1=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=Ho({type:e,selectors:[["ng-component"]],standalone:!0,features:[Qi],decls:1,vars:0,template:function(r,o){1&r&&Mn(0,"router-outlet")},dependencies:[uS],encapsulation:2})}}return e})();function fS(e){const t=e.children&&e.children.map(fS),n=t?{...e,children:t}:{...e};return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==ae&&(n.component=W1),n}function wo(e){return e.outlet||ae}function Sf(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){const n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class Cte{constructor(t,n,r,o,s){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=o,this.inputBindingEnabled=s}activate(t){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),cS(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){const o=gl(n);t.children.forEach(s=>{const i=s.value.outlet;this.deactivateRoutes(s,o[i],r),delete o[i]}),Object.values(o).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(t,n,r){const o=t.value,s=n?n.value:null;if(o===s)if(o.component){const i=r.getContext(o.outlet);i&&this.deactivateChildRoutes(t,n,i.children)}else this.deactivateChildRoutes(t,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){const r=n.getContext(t.value.outlet),o=r&&t.value.component?r.children:n,s=gl(t);for(const i of Object.values(s))this.deactivateRouteAndItsChildren(i,o);if(r&&r.outlet){const i=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:i,route:t,contexts:a})}}deactivateRouteAndOutlet(t,n){const r=n.getContext(t.value.outlet),o=r&&t.value.component?r.children:n,s=gl(t);for(const i of Object.values(s))this.deactivateRouteAndItsChildren(i,o);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,n,r){const o=gl(n);t.children.forEach(s=>{this.activateRoutes(s,o[s.value.outlet],r),this.forwardEvent(new lte(s.value.snapshot))}),t.children.length&&this.forwardEvent(new ate(t.value.snapshot))}activateRoutes(t,n,r){const o=t.value,s=n?n.value:null;if(cS(o),o===s)if(o.component){const i=r.getOrCreateContext(o.outlet);this.activateChildRoutes(t,n,i.children)}else this.activateChildRoutes(t,n,r);else if(o.component){const i=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const a=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),i.children.onOutletReAttached(a.contexts),i.attachRef=a.componentRef,i.route=a.route.value,i.outlet&&i.outlet.attach(a.componentRef,a.route.value),cS(a.route.value),this.activateChildRoutes(t,null,i.children)}else{const a=Sf(o.snapshot);i.attachRef=null,i.route=o,i.injector=a,i.outlet&&i.outlet.activateWith(o,i.injector),this.activateChildRoutes(t,null,i.children)}}else this.activateChildRoutes(t,null,r)}}class G1{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Vm{constructor(t,n){this.component=t,this.route=n}}function wte(e,t,n){const r=e._root;return Df(r,t?t._root:null,n,[r.value])}function ml(e,t){const n=Symbol(),r=t.get(e,n);return r===n?"function"!=typeof e||function wz(e){return null!==bp(e)}(e)?t.get(e):e:r}function Df(e,t,n,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=gl(t);return e.children.forEach(i=>{(function Dte(e,t,n,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=e.value,i=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(i&&s.routeConfig===i.routeConfig){const c=function Mte(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!oa(e.url,t.url);case"pathParamsOrQueryParamsChange":return!oa(e.url,t.url)||!Eo(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!lS(e,t)||!Eo(e.queryParams,t.queryParams);default:return!lS(e,t)}}(i,s,s.routeConfig.runGuardsAndResolvers);c?o.canActivateChecks.push(new G1(r)):(s.data=i.data,s._resolvedData=i._resolvedData),Df(e,t,s.component?a?a.children:null:n,r,o),c&&a&&a.outlet&&a.outlet.isActivated&&o.canDeactivateChecks.push(new Vm(a.outlet.component,i))}else i&&Mf(t,a,o),o.canActivateChecks.push(new G1(r)),Df(e,null,s.component?a?a.children:null:n,r,o)})(i,s[i.value.outlet],n,r.concat([i.value]),o),delete s[i.value.outlet]}),Object.entries(s).forEach(([i,a])=>Mf(a,n.getContext(i),o)),o}function Mf(e,t,n){const r=gl(e),o=e.value;Object.entries(r).forEach(([s,i])=>{Mf(i,o.component?t?t.children.getContext(s):null:t,n)}),n.canDeactivateChecks.push(new Vm(o.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,o))}function If(e){return"function"==typeof e}function X1(e){return e instanceof pf||"EmptyError"===e?.name}const jm=Symbol("INITIAL_VALUE");function _l(){return Cr(e=>wm(e.map(t=>t.pipe(Qs(1),Mm(jm)))).pipe(ie(t=>{for(const n of t)if(!0!==n){if(n===jm)return jm;if(!1===n||n instanceof dl)return n}return!0}),rs(t=>t!==jm),Qs(1)))}function K1(e){return function hz(...e){return iT(e)}(_n(t=>{if(hl(t))throw H1(0,t)}),ie(t=>!0===t))}class hS{constructor(t){this.segmentGroup=t||null}}class pS extends Error{constructor(t){super(),this.urlTree=t}}function yl(e){return Tm(new hS(e))}class zte{constructor(t,n){this.urlSerializer=t,this.urlTree=n}lineralizeSegments(t,n){let r=[],o=n.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return te(r);if(o.numberOfChildren>1||!o.children[ae])return Tm(new M(4e3,!1));o=o.children[ae]}}applyRedirectCommands(t,n,r){const o=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,r);if(n.startsWith("/"))throw new pS(o);return o}applyRedirectCreateUrlTree(t,n,r,o){const s=this.createSegmentGroup(t,n.root,r,o);return new dl(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){const r={};return Object.entries(t).forEach(([o,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);r[o]=n[a]}else r[o]=s}),r}createSegmentGroup(t,n,r,o){const s=this.createSegments(t,n.segments,r,o);let i={};return Object.entries(n.children).forEach(([a,c])=>{i[a]=this.createSegmentGroup(t,c,r,o)}),new Ue(s,i)}createSegments(t,n,r,o){return n.map(s=>s.path.startsWith(":")?this.findPosParam(t,s,o):this.findOrReturn(s,r))}findPosParam(t,n,r){const o=r[n.path.substring(1)];if(!o)throw new M(4001,!1);return o}findOrReturn(t,n){let r=0;for(const o of n){if(o.path===t.path)return n.splice(r),o;r++}return t}}const gS={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Wte(e,t,n,r,o){const s=mS(e,t,n);return s.matched?(r=function mte(e,t){return e.providers&&!e._injector&&(e._injector=hC(e.providers,t,`Route: ${e.path}`)),e._injector??t}(t,r),function $te(e,t,n,r){const o=t.canMatch;return o&&0!==o.length?te(o.map(i=>{const a=ml(i,e);return Js(function kte(e){return e&&If(e.canMatch)}(a)?a.canMatch(t,n):qo(e,()=>a(t,n)))})).pipe(_l(),K1()):te(!0)}(r,t,n).pipe(ie(i=>!0===i?s:{...gS}))):te(s)}function mS(e,t,n){if("**"===t.path)return function Gte(e){return{matched:!0,parameters:e.length>0?m1(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}(n);if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{...gS}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const o=(t.matcher||Iee)(n,e,t);if(!o)return{...gS};const s={};Object.entries(o.posParams??{}).forEach(([a,c])=>{s[a]=c.path});const i=o.consumed.length>0?{...s,...o.consumed[o.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:o.consumed,remainingSegments:n.slice(o.consumed.length),parameters:i,positionalParamSegments:o.posParams??{}}}function Y1(e,t,n,r){return n.length>0&&function Yte(e,t,n){return n.some(r=>Bm(e,t,r)&&wo(r)!==ae)}(e,n,r)?{segmentGroup:new Ue(t,Kte(r,new Ue(n,e.children))),slicedSegments:[]}:0===n.length&&function Qte(e,t,n){return n.some(r=>Bm(e,t,r))}(e,n,r)?{segmentGroup:new Ue(e.segments,Xte(e,n,r,e.children)),slicedSegments:n}:{segmentGroup:new Ue(e.segments,e.children),slicedSegments:n}}function Xte(e,t,n,r){const o={};for(const s of n)if(Bm(e,t,s)&&!r[wo(s)]){const i=new Ue([],{});o[wo(s)]=i}return{...r,...o}}function Kte(e,t){const n={};n[ae]=t;for(const r of e)if(""===r.path&&wo(r)!==ae){const o=new Ue([],{});n[wo(r)]=o}return n}function Bm(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path}class ene{}class rne{constructor(t,n,r,o,s,i,a){this.injector=t,this.configLoader=n,this.rootComponentType=r,this.config=o,this.urlTree=s,this.paramsInheritanceStrategy=i,this.urlSerializer=a,this.applyRedirects=new zte(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(t){return new M(4002,`'${t.segmentGroup}'`)}recognize(){const t=Y1(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(ie(n=>{const r=new iS([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ae,this.rootComponentType,null,{}),o=new Jr(r,n),s=new V1("",o),i=function Gee(e,t,n=null,r=null){return T1(I1(e),t,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return i.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(i),this.inheritParamsAndData(s._root,null),{state:s,tree:i}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t,ae).pipe(cl(r=>{if(r instanceof pS)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof hS?this.noMatchError(r):r}))}inheritParamsAndData(t,n){const r=t.value,o=sS(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(o.params),r.data=Object.freeze(o.data),t.children.forEach(s=>this.inheritParamsAndData(s,r))}processSegmentGroup(t,n,r,o){return 0===r.segments.length&&r.hasChildren()?this.processChildren(t,n,r):this.processSegment(t,n,r,r.segments,o,!0).pipe(ie(s=>s instanceof Jr?[s]:[]))}processChildren(t,n,r){const o=[];for(const s of Object.keys(r.children))"primary"===s?o.unshift(s):o.push(s);return Qt(o).pipe(ra(s=>{const i=r.children[s],a=function bte(e,t){const n=e.filter(r=>wo(r)===t);return n.push(...e.filter(r=>wo(r)!==t)),n}(n,s);return this.processSegmentGroup(t,a,i,s)}),function wee(e,t){return Ft(function Cee(e,t,n,r,o){return(s,i)=>{let a=n,c=t,l=0;s.subscribe(Tt(i,u=>{const d=l++;c=a?e(c,u,d):(a=!0,u),r&&i.next(c)},o&&(()=>{a&&i.next(c),i.complete()})))}}(e,t,arguments.length>=2,!0))}((s,i)=>(s.push(...i),s)),Om(null),function See(e,t){const n=arguments.length>=2;return r=>r.pipe(e?rs((o,s)=>e(o,s,r)):xi,Ww(1),n?Om(t):p1(()=>new pf))}(),Rn(s=>{if(null===s)return yl(r);const i=Q1(s);return function one(e){e.sort((t,n)=>t.value.outlet===ae?-1:n.value.outlet===ae?1:t.value.outlet.localeCompare(n.value.outlet))}(i),te(i)}))}processSegment(t,n,r,o,s,i){return Qt(n).pipe(ra(a=>this.processSegmentAgainstRoute(a._injector??t,n,a,r,o,s,i).pipe(cl(c=>{if(c instanceof hS)return te(null);throw c}))),os(a=>!!a),cl(a=>{if(X1(a))return function Zte(e,t,n){return 0===t.length&&!e.children[n]}(r,o,s)?te(new ene):yl(r);throw a}))}processSegmentAgainstRoute(t,n,r,o,s,i,a){return function Jte(e,t,n,r){return!!(wo(e)===r||r!==ae&&Bm(t,n,e))&&mS(t,e,n).matched}(r,o,s,i)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,o,r,s,i):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,o,n,r,s,i):yl(o):yl(o)}expandSegmentAgainstRouteUsingRedirect(t,n,r,o,s,i){const{matched:a,consumedSegments:c,positionalParamSegments:l,remainingSegments:u}=mS(n,o,s);if(!a)return yl(n);o.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const d=this.applyRedirects.applyRedirectCommands(c,o.redirectTo,l);return this.applyRedirects.lineralizeSegments(o,d).pipe(Rn(f=>this.processSegment(t,r,n,f.concat(u),i,!1)))}matchSegmentAgainstRoute(t,n,r,o,s){const i=Wte(n,r,o,t);return"**"===r.path&&(n.children={}),i.pipe(Cr(a=>a.matched?this.getChildConfig(t=r._injector??t,r,o).pipe(Cr(({routes:c})=>{const l=r._loadedInjector??t,{consumedSegments:u,remainingSegments:d,parameters:f}=a,p=new iS(u,f,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function ine(e){return e.data||{}}(r),wo(r),r.component??r._loadedComponent??null,r,function ane(e){return e.resolve||{}}(r)),{segmentGroup:g,slicedSegments:m}=Y1(n,u,d,c);if(0===m.length&&g.hasChildren())return this.processChildren(l,c,g).pipe(ie(b=>null===b?null:new Jr(p,b)));if(0===c.length&&0===m.length)return te(new Jr(p,[]));const y=wo(r)===s;return this.processSegment(l,c,g,m,y?ae:s,!0).pipe(ie(b=>new Jr(p,b instanceof Jr?[b]:[])))})):yl(n)))}getChildConfig(t,n,r){return n.children?te({routes:n.children,injector:t}):n.loadChildren?void 0!==n._loadedRoutes?te({routes:n._loadedRoutes,injector:n._loadedInjector}):function Ute(e,t,n,r){const o=t.canLoad;return void 0===o||0===o.length?te(!0):te(o.map(i=>{const a=ml(i,e);return Js(function Tte(e){return e&&If(e.canLoad)}(a)?a.canLoad(t,n):qo(e,()=>a(t,n)))})).pipe(_l(),K1())}(t,n,r).pipe(Rn(o=>o?this.configLoader.loadChildren(t,n).pipe(_n(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function qte(e){return Tm(q1(!1,nr.GuardRejected))}())):te({routes:[],injector:t})}}function sne(e){const t=e.value.routeConfig;return t&&""===t.path}function Q1(e){const t=[],n=new Set;for(const r of e){if(!sne(r)){t.push(r);continue}const o=t.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==o?(o.children.push(...r.children),n.add(o)):t.push(r)}for(const r of n){const o=Q1(r.children);t.push(new Jr(r.value,o))}return t.filter(r=>!n.has(r))}function J1(e){const t=e.children.map(n=>J1(n)).flat();return[e,...t]}function _S(e){return Cr(t=>{const n=e(t);return n?Qt(n).pipe(ie(()=>t)):te(t)})}let Z1=(()=>{class e{buildTitle(n){let r,o=n.root;for(;void 0!==o;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(s=>s.outlet===ae);return r}getResolvedTitleForRoute(n){return n.data[gf]}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=L({token:e,factory:()=>N(hne),providedIn:"root"})}}return e})(),hne=(()=>{class e extends Z1{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||e)(j(lZ))}}static{this.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const Tf=new P("",{providedIn:"root",factory:()=>({})}),Um=new P("");let eL=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=N(LK)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return te(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=Js(n.loadComponent()).pipe(ie(tL),_n(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),ll(()=>{this.componentLoaders.delete(n)})),o=new h1(r,()=>new Kt).pipe(zw());return this.componentLoaders.set(n,o),o}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return te({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=function pne(e,t,n,r){return Js(e.loadChildren()).pipe(ie(tL),Rn(o=>o instanceof gk||Array.isArray(o)?te(o):Qt(t.compileModuleAsync(o))),ie(o=>{r&&r(e);let s,i,a=!1;return Array.isArray(o)?(i=o,!0):(s=o.create(n).injector,i=s.get(Um,[],{optional:!0,self:!0}).flat()),{routes:i.map(fS),injector:s}}))}(r,this.compiler,n,this.onLoadEndListener).pipe(ll(()=>{this.childrenLoaders.delete(r)})),i=new h1(s,()=>new Kt).pipe(zw());return this.childrenLoaders.set(r,i),i}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function tL(e){return function gne(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let yS=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=L({token:e,factory:()=>N(mne),providedIn:"root"})}}return e})(),mne=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const nL=new P("");let $m=(()=>{class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Kt,this.transitionAbortSubject=new Kt,this.configLoader=N(eL),this.environmentInjector=N(Kn),this.urlSerializer=N(fl),this.rootContexts=N(Cf),this.location=N(rf),this.inputBindingEnabled=null!==N(Lm,{optional:!0}),this.titleStrategy=N(Z1),this.options=N(Tf,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=N(yS),this.createViewTransition=N(nL,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>te(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=o=>this.events.next(new ste(o)),this.configLoader.onLoadStartListener=o=>this.events.next(new ote(o))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n,r,o){return this.transitions=new Fn({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:bf,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(rs(s=>0!==s.id),ie(s=>({...s,extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Cr(s=>{let i=!1,a=!1;return te(s).pipe(Cr(c=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",nr.SupersededByNewNavigation),bo;this.currentTransition=s,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const l=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!l&&"reload"!==(c.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const d="";return this.events.next(new Ef(c.id,this.urlSerializer.serialize(c.rawUrl),d,eS.IgnoredSameUrlNavigation)),c.resolve(null),bo}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return te(c).pipe(Cr(d=>{const f=this.transitions?.getValue();return this.events.next(new Zw(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),f!==this.transitions?.getValue()?bo:Promise.resolve(d)}),function cne(e,t,n,r,o,s){return Rn(i=>function tne(e,t,n,r,o,s,i="emptyOnly"){return new rne(e,t,n,r,o,i,s).recognize()}(e,t,n,r,i.extractedUrl,o,s).pipe(ie(({state:a,tree:c})=>({...i,targetSnapshot:a,urlAfterRedirects:c}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),_n(d=>{s.targetSnapshot=d.targetSnapshot,s.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:d.urlAfterRedirects};const f=new x1(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){const{id:d,extractedUrl:f,source:p,restoredState:g,extras:m}=c,y=new Zw(d,this.urlSerializer.serialize(f),p,g);this.events.next(y);const b=L1(this.rootComponentType).snapshot;return this.currentTransition=s={...c,targetSnapshot:b,urlAfterRedirects:f,extras:{...m,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=f,te(s)}{const d="";return this.events.next(new Ef(c.id,this.urlSerializer.serialize(c.extractedUrl),d,eS.IgnoredByUrlHandlingStrategy)),c.resolve(null),bo}}),_n(c=>{const l=new ete(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),ie(c=>(this.currentTransition=s={...c,guards:wte(c.targetSnapshot,c.currentSnapshot,this.rootContexts)},s)),function Nte(e,t){return Rn(n=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:s,canDeactivateChecks:i}}=n;return 0===i.length&&0===s.length?te({...n,guardsResult:!0}):function xte(e,t,n,r){return Qt(e).pipe(Rn(o=>function Bte(e,t,n,r,o){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return s&&0!==s.length?te(s.map(a=>{const c=Sf(t)??o,l=ml(a,c);return Js(function Ate(e){return e&&If(e.canDeactivate)}(l)?l.canDeactivate(e,t,n,r):qo(c,()=>l(e,t,n,r))).pipe(os())})).pipe(_l()):te(!0)}(o.component,o.route,n,t,r)),os(o=>!0!==o,!0))}(i,r,o,e).pipe(Rn(a=>a&&function Ite(e){return"boolean"==typeof e}(a)?function Fte(e,t,n,r){return Qt(t).pipe(ra(o=>Sm(function Lte(e,t){return null!==e&&t&&t(new ite(e)),te(!0)}(o.route.parent,r),function Pte(e,t){return null!==e&&t&&t(new cte(e)),te(!0)}(o.route,r),function jte(e,t,n){const r=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(i=>function Ste(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(i)).filter(i=>null!==i).map(i=>f1(()=>te(i.guards.map(c=>{const l=Sf(i.node)??n,u=ml(c,l);return Js(function Rte(e){return e&&If(e.canActivateChild)}(u)?u.canActivateChild(r,e):qo(l,()=>u(r,e))).pipe(os())})).pipe(_l())));return te(s).pipe(_l())}(e,o.path,n),function Vte(e,t,n){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return te(!0);const o=r.map(s=>f1(()=>{const i=Sf(t)??n,a=ml(s,i);return Js(function Ote(e){return e&&If(e.canActivate)}(a)?a.canActivate(t,e):qo(i,()=>a(t,e))).pipe(os())}));return te(o).pipe(_l())}(e,o.route,n))),os(o=>!0!==o,!0))}(r,s,e,t):te(a)),ie(a=>({...n,guardsResult:a})))})}(this.environmentInjector,c=>this.events.next(c)),_n(c=>{if(s.guardsResult=c.guardsResult,hl(c.guardsResult))throw H1(0,c.guardsResult);const l=new tte(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(l)}),rs(c=>!!c.guardsResult||(this.cancelNavigationTransition(c,"",nr.GuardRejected),!1)),_S(c=>{if(c.guards.canActivateChecks.length)return te(c).pipe(_n(l=>{const u=new nte(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),Cr(l=>{let u=!1;return te(l).pipe(function lne(e,t){return Rn(n=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=n;if(!o.length)return te(n);const s=new Set(o.map(c=>c.route)),i=new Set;for(const c of s)if(!i.has(c))for(const l of J1(c))i.add(l);let a=0;return Qt(i).pipe(ra(c=>s.has(c)?function une(e,t,n,r){const o=e.routeConfig,s=e._resolve;return void 0!==o?.title&&!B1(o)&&(s[gf]=o.title),function dne(e,t,n,r){const o=Gw(e);if(0===o.length)return te({});const s={};return Qt(o).pipe(Rn(i=>function fne(e,t,n,r){const o=Sf(t)??r,s=ml(e,o);return Js(s.resolve?s.resolve(t,n):qo(o,()=>s(t,n)))}(e[i],t,n,r).pipe(os(),_n(a=>{s[i]=a}))),Ww(1),function Dee(e){return ie(()=>e)}(s),cl(i=>X1(i)?bo:Tm(i)))}(s,e,t,r).pipe(ie(i=>(e._resolvedData=i,e.data=sS(e,e.parent,n).resolve,null)))}(c,r,e,t):(c.data=sS(c,c.parent,e).resolve,te(void 0))),_n(()=>a++),Ww(1),Rn(c=>a===i.size?te(n):bo))})}(this.paramsInheritanceStrategy,this.environmentInjector),_n({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(l,"",nr.NoDataFromResolver)}}))}),_n(l=>{const u=new rte(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}))}),_S(c=>{const l=u=>{const d=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(u.routeConfig).pipe(_n(f=>{u.component=f}),ie(()=>{})));for(const f of u.children)d.push(...l(f));return d};return wm(l(c.targetSnapshot.root)).pipe(Om(null),Qs(1))}),_S(()=>this.afterPreactivation()),Cr(()=>{const{currentSnapshot:c,targetSnapshot:l}=s,u=this.createViewTransition?.(this.environmentInjector,c.root,l.root);return u?Qt(u).pipe(ie(()=>s)):te(s)}),ie(c=>{const l=function fte(e,t,n){const r=wf(e,t._root,n?n._root:void 0);return new P1(r,t)}(n.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=s={...c,targetRouterState:l},this.currentNavigation.targetRouterState=l,s}),_n(()=>{this.events.next(new tS)}),((e,t,n,r)=>ie(o=>(new Cte(t,o.targetRouterState,o.currentRouterState,n,r).activate(e),o)))(this.rootContexts,n.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),Qs(1),_n({next:c=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new sa(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{i=!0}}),c1(this.transitionAbortSubject.pipe(_n(c=>{throw c}))),ll(()=>{!i&&!a&&this.cancelNavigationTransition(s,"",nr.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),cl(c=>{if(a=!0,z1(c))this.events.next(new pl(s.id,this.urlSerializer.serialize(s.extractedUrl),c.message,c.cancellationCode)),function gte(e){return z1(e)&&hl(e.url)}(c)?this.events.next(new nS(c.url)):s.resolve(!1);else{this.events.next(new Pm(s.id,this.urlSerializer.serialize(s.extractedUrl),c,s.targetSnapshot??void 0));try{s.resolve(n.errorHandler(c))}catch(l){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(l)}}return bo}))}))}cancelNavigationTransition(n,r,o){const s=new pl(n.id,this.urlSerializer.serialize(n.extractedUrl),r,o);this.events.next(s),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function vne(e){return e!==bf}let bne=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=L({token:e,factory:()=>N(Cne),providedIn:"root"})}}return e})();class Ene{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}}let Cne=(()=>{class e extends Ene{static{this.\u0275fac=(()=>{let n;return function(o){return(n||(n=Bt(e)))(o||e)}})()}static{this.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),oL=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=L({token:e,factory:()=>N(wne),providedIn:"root"})}}return e})(),wne=(()=>{class e extends oL{constructor(){super(...arguments),this.location=N(rf),this.urlSerializer=N(fl),this.options=N(Tf,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=N(yS),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new dl,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=L1(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{"popstate"===r.type&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof Zw)this.stateMemento=this.createStateMemento();else if(n instanceof Ef)this.rawUrlTree=r.initialUrl;else if(n instanceof x1){if("eager"===this.urlUpdateStrategy&&!r.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(o,r)}}else n instanceof tS?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,"deferred"===this.urlUpdateStrategy&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r))):n instanceof pl&&(n.code===nr.GuardRejected||n.code===nr.NoDataFromResolver)?this.restoreHistory(r):n instanceof Pm?this.restoreHistory(r,!0):n instanceof sa&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){const o=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl){const i={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(o,"",i)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(o,"",s)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===n.finalUrl&&0===s&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static{this.\u0275fac=(()=>{let n;return function(o){return(n||(n=Bt(e)))(o||e)}})()}static{this.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var Of=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(Of||{});function Sne(e){throw e}const Dne={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Mne={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let So=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=N(Wx),this.stateManager=N(oL),this.options=N(Tf,{optional:!0})||{},this.pendingTasks=N(Us),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=N($m),this.urlSerializer=N(fl),this.location=N(rf),this.urlHandlingStrategy=N(yS),this._events=new Kt,this.errorHandler=this.options.errorHandler||Sne,this.navigated=!1,this.routeReuseStrategy=N(bne),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=N(Um,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!N(Lm,{optional:!0}),this.eventsSubscription=new wn,this.isNgZoneEnabled=N(Fe)instanceof Fe&&Fe.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const n=this.navigationTransitions.events.subscribe(r=>{try{const o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(null!==o&&null!==s)if(this.stateManager.handleRouterEvent(r,s),r instanceof pl&&r.code!==nr.Redirect&&r.code!==nr.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof sa)this.navigated=!0;else if(r instanceof nS){const i=this.urlHandlingStrategy.merge(r.url,o.currentRawUrl),a={info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||vne(o.source)};this.scheduleNavigation(i,bf,null,a,{resolve:o.resolve,reject:o.reject,promise:o.promise})}(function Tne(e){return!(e instanceof tS||e instanceof nS)})(r)&&this._events.next(r)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),bf,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,o){const s={replaceUrl:!0},i=o?.navigationId?o:null;if(o){const c={...o};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(s.state=c)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,i,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(fS),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){const{relativeTo:o,queryParams:s,fragment:i,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:i;let d,u=null;switch(a){case"merge":u={...this.currentUrlTree.queryParams,...s};break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=s||null}null!==u&&(u=this.removeEmptyProps(u));try{d=I1(o?o.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),d=this.currentUrlTree.root}return T1(d,n,u,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){const o=hl(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,bf,null,r)}navigate(n,r={skipLocationChange:!1}){return function Ine(e){for(let t=0;t<e.length;t++)if(null==e[t])throw new M(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let o;if(o=!0===r?{...Dne}:!1===r?{...Mne}:r,hl(n))return y1(this.currentUrlTree,n,o);const s=this.parseUrl(n);return y1(this.currentUrlTree,s,o)}removeEmptyProps(n){return Object.entries(n).reduce((r,[o,s])=>(null!=s&&(r[o]=s),r),{})}scheduleNavigation(n,r,o,s,i){if(this.disposed)return Promise.resolve(!1);let a,c,l;i?(a=i.resolve,c=i.reject,l=i.promise):l=new Promise((d,f)=>{a=d,c=f});const u=this.pendingTasks.add();return function sL(e,t){e.events.pipe(rs(n=>n instanceof sa||n instanceof pl||n instanceof Pm||n instanceof Ef),ie(n=>n instanceof sa||n instanceof Ef?Of.COMPLETE:n instanceof pl&&(n.code===nr.Redirect||n.code===nr.SupersededByNewNavigation)?Of.REDIRECTING:Of.FAILED),rs(n=>n!==Of.REDIRECTING),Qs(1)).subscribe(()=>{t()})}(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(d=>Promise.reject(d))}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const bS=new P("");function Nne(e,...t){return fc([{provide:Um,multi:!0,useValue:e},[],{provide:ia,useFactory:aL,deps:[So]},{provide:tw,multi:!0,useFactory:cL},t.map(n=>n.\u0275providers)])}function aL(e){return e.routerState.root}function cL(){const e=N(jn);return t=>{const n=e.get(Gs);if(t!==n.components[0])return;const r=e.get(So),o=e.get(lL);1===e.get(ES)&&r.initialNavigation(),e.get(uL,null,pe.Optional)?.setUpPreloading(),e.get(bS,null,pe.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}const lL=new P("",{factory:()=>new Kt}),ES=new P("",{providedIn:"root",factory:()=>1}),uL=new P("");function fL(e=0,t,n=lee){let r=-1;return null!=t&&(r1(t)?n=t:r=t),new Xe(o=>{let s=function Lne(e){return e instanceof Date&&!isNaN(e)}(e)?+e-n.now():e;s<0&&(s=0);let i=0;return n.schedule(function(){o.closed||(o.next(i++),0<=r?this.schedule(void 0,r):o.complete())},s)})}class Vne extends Kt{constructor(t=1/0,n=1/0,r=Uw){super(),this._bufferSize=t,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,n)}next(t){const{isStopped:n,_buffer:r,_infiniteTimeWindow:o,_timestampProvider:s,_windowTime:i}=this;n||(r.push(t),!o&&r.push(s.now()+i)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const n=this._innerSubscribe(t),{_infiniteTimeWindow:r,_buffer:o}=this,s=o.slice();for(let i=0;i<s.length&&!t.closed;i+=r?1:2)t.next(s[i]);return this._checkFinalizedStatuses(t),n}_trimBuffer(){const{_bufferSize:t,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:o}=this,s=(o?1:2)*t;if(t<1/0&&s<r.length&&r.splice(0,r.length-s),!o){const i=n.now();let a=0;for(let c=1;c<r.length&&r[c]<=i;c+=2)a=c;a&&r.splice(0,a+1)}}}function CS(e,t,...n){if(!0===t)return void e();if(!1===t)return;const r=new $u({next:()=>{r.unsubscribe(),e()}});return t(...n).subscribe(r)}function Une(e,t){if(1&e&&(be(0,"div",3),Mn(1,"div",4),me()),2&e){const n=$t(2);Te(),qs("width",n.diameter)("height",n.diameter)}}function $ne(e,t){if(1&e&&Mn(0,"div",5),2&e){const n=$t().ngIf,r=$t();qs("background",r.color)("height",r.height)("width",n+"%")}}function Hne(e,t){if(1&e&&(zs(0),Yt(1,Une,2,4,"div",1)(2,$ne,1,6,"div",2),Ws()),2&e){const n=$t();Te(),Be("ngIf",n.includeSpinner),Te(),Be("ngIf",n.includeBar)}}function qne(e,t){if(1&e&&(be(0,"div",3),Mn(1,"div",4),me()),2&e){const n=$t(2);Te(),qs("width",n.diameter)("height",n.diameter)}}function zne(e,t){if(1&e&&Mn(0,"div",5),2&e){const n=$t().ngIf,r=$t();qs("background",r.color)("height",r.height)("width",n+"%")}}function Wne(e,t){if(1&e&&(zs(0),Yt(1,qne,2,4,"div",1)(2,zne,1,6,"div",2),Ws()),2&e){const n=$t();Te(),Be("ngIf",n.includeSpinner),Te(),Be("ngIf",n.includeBar)}}class Xne{constructor(t={}){this.config=t,this.state={action:null,value:0,initialValue:0},this.requests=null,this.disabled=!1,this.stream$=new Kt,this._value$=null,this.timer$=n=>{let r=te(n);switch(n.action){case"start":case"increment":case"set":"start"===n.action&&0===this.config.latencyThreshold&&0===n.value&&(n.value=n.initialValue),this.requests>0&&(r=fL(this.config.latencyThreshold,250).pipe(ie(o=>({...n,value:0===o?this.state.value||n.initialValue:this._increment()}))));break;case"complete":case"stop":r=0===n.value?te({...n}):fL(0,500).pipe(Qs(2),ie(o=>({value:0===o?100:0})))}return r.pipe(ie(o=>({...o,action:"set"})),_n(o=>this.next(o,!1)))},this.config={latencyThreshold:0,...t}}get value$(){return this._value$?this._value$:this._value$=this.stream$.pipe(Mm(this.state),Cr(t=>this.timer$(t)),function Bne(e,t,n){let r,o=!1;return e&&"object"==typeof e?({bufferSize:r=1/0,windowTime:t=1/0,refCount:o=!1,scheduler:n}=e):r=e??1/0,function jne(e={}){const{connector:t=(()=>new Kt),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:o=!0}=e;return s=>{let i,a,c,l=0,u=!1,d=!1;const f=()=>{a?.unsubscribe(),a=void 0},p=()=>{f(),i=c=void 0,u=d=!1},g=()=>{const m=i;p(),m?.unsubscribe()};return Ft((m,y)=>{l++,!d&&!u&&f();const b=c=c??t();y.add(()=>{l--,0===l&&!d&&!u&&(a=CS(g,o))}),b.subscribe(y),!i&&l>0&&(i=new $u({next:C=>b.next(C),error:C=>{d=!0,f(),a=CS(p,n,C),b.error(C)},complete:()=>{u=!0,f(),a=CS(p,r),b.complete()}}),Qr(m).subscribe(i))})(s)}}({connector:()=>new Vne(r,t,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}(),ie(t=>t.value))}start(t=2){this.disabled||this.next({action:"start",initialValue:t})}stop(){this.next({action:"stop"})}complete(){this.next({action:"complete"})}disable(){this.disabled=!0}set(t){this.next({action:"set",value:t})}increment(t=0){this.next({action:"increment",value:t})}next(t,n=!0){switch(t.action){case"start":this.requests=(this.requests||0)+1;break;case"complete":if(this.requests=(this.requests||1)-1,this.requests>0)return;break;case"stop":this.requests=0;break;case"increment":t.value=this._increment(t.value)}this.state={...this.state,action:null,...t},n&&this.stream$.next(this.state)}_increment(t=0){const n=this.state.value;return n>=99&&(t=0),0===t&&(t=n>=0&&n<25?3*Math.random()+3:n>=25&&n<65?3*Math.random():n>=65&&n<90?2*Math.random():n>=90&&n<99?.5:0),t+n}}const hL=new P("LOADING_BAR_CONFIG");let wS=(()=>{class e{get progress$(){return this.value$}constructor(n,r={},o){this.platformId=n,this.config=r,this.zone=o,this.refs={},this.streams$=new Kt,this.value$=this.streams$.pipe(Mm(null),Cr(()=>wm(Object.keys(this.refs).map(s=>this.refs[s].value$))),function Kne(e){return e?t=>new Xe(n=>t.subscribe(r=>e.run(()=>n.next(r)),r=>e.run(()=>n.error(r)),()=>e.run(()=>n.complete()))):t=>t}(this.zone),ie(s=>Math.max(0,...s)))}start(n=2){this.useRef().start(n)}set(n){this.useRef().set(n)}increment(n){this.useRef().increment(n)}complete(){this.useRef().complete()}stop(){this.useRef().stop()}useRef(n="default"){return this.refs[n]||(this.refs[n]=new Xne(this.config),this.streams$.next(),dP(this.platformId)||this.refs[n].disable()),this.refs[n]}static{this.\u0275fac=function(r){return new(r||e)(j(Xo),j(hL,8),j(Fe,8))}}static{this.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Yne=(()=>{class e{get value$(){return this.ref?this.loader.useRef(this.ref).value$:this.loader.value$}constructor(n){this.loader=n,this.includeSpinner=!0,this.includeBar=!0,this.fixed=!0,this.color="#29d"}static{this.\u0275fac=function(r){return new(r||e)(R(wS))}}static{this.\u0275cmp=Ho({type:e,selectors:[["ngx-loading-bar"]],hostVars:3,hostBindings:function(r,o){2&r&&(yr("fixed",o.fixed),qs("color",o.color))},inputs:{includeSpinner:"includeSpinner",includeBar:"includeBar",fixed:"fixed",color:"color",value:"value",ref:"ref",height:"height",diameter:"diameter"},standalone:!0,features:[Qi],decls:2,vars:3,consts:[[4,"ngIf"],["class","ngx-spinner",4,"ngIf"],["class","ngx-bar",3,"background","height","width",4,"ngIf"],[1,"ngx-spinner"],[1,"ngx-spinner-icon"],[1,"ngx-bar"]],template:function(r,o){1&r&&(Yt(0,Hne,3,2,"ng-container",0),qC(1,"async")),2&r&&Be("ngIf",null!=o.value?o.value:zC(1,1,o.value$))},dependencies:[Sw,_m],styles:["[_nghost-%COMP%]{position:relative;display:block;pointer-events:none}[_nghost-%COMP%]   .ngx-spinner[_ngcontent-%COMP%]{transition:.35s linear all;display:block;position:absolute;top:5px;left:0}[_nghost-%COMP%]   .ngx-spinner[_ngcontent-%COMP%]   .ngx-spinner-icon[_ngcontent-%COMP%]{width:14px;height:14px;border:solid 2px transparent;border-top-color:inherit;border-left-color:inherit;border-radius:50%;animation:_ngcontent-%COMP%_loading-bar-spinner .4s linear infinite}[_nghost-%COMP%]   .ngx-bar[_ngcontent-%COMP%]{transition:width .35s;position:absolute;top:0;left:0;width:100%;height:2px;border-bottom-right-radius:1px;border-top-right-radius:1px}[dir=rtl]   [_nghost-%COMP%]   .ngx-bar[_ngcontent-%COMP%]{right:0;left:unset}[fixed=true][_nghost-%COMP%]{z-index:10002}[fixed=true][_nghost-%COMP%]   .ngx-bar[_ngcontent-%COMP%]{position:fixed}[fixed=true][_nghost-%COMP%]   .ngx-spinner[_ngcontent-%COMP%]{position:fixed;top:10px;left:10px}[dir=rtl]   [fixed=true][_nghost-%COMP%]   .ngx-spinner[_ngcontent-%COMP%]{right:10px;left:unset}@keyframes _ngcontent-%COMP%_loading-bar-spinner{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"],changeDetection:0})}}return e})(),Qne=(()=>{class e extends Yne{static{this.\u0275fac=(()=>{let n;return function(o){return(n||(n=Bt(e)))(o||e)}})()}static{this.\u0275cmp=Ho({type:e,selectors:[["ngx-loading-bar"]],hostVars:3,hostBindings:function(r,o){2&r&&(yr("fixed",o.fixed),qs("color",o.color))},features:[Pe],decls:2,vars:3,consts:[[4,"ngIf"],["class","ngx-spinner",4,"ngIf"],["class","ngx-bar",3,"background","height","width",4,"ngIf"],[1,"ngx-spinner"],[1,"ngx-spinner-icon"],[1,"ngx-bar"]],template:function(r,o){1&r&&(Yt(0,Wne,3,2,"ng-container",0),qC(1,"async")),2&r&&Be("ngIf",null!=o.value?o.value:zC(1,1,o.value$))},dependencies:[_m,Sw],styles:["[_nghost-%COMP%]{position:relative;display:block;pointer-events:none}[_nghost-%COMP%]   .ngx-spinner[_ngcontent-%COMP%]{transition:.35s linear all;display:block;position:absolute;top:5px;left:0}[_nghost-%COMP%]   .ngx-spinner[_ngcontent-%COMP%]   .ngx-spinner-icon[_ngcontent-%COMP%]{width:14px;height:14px;border:solid 2px transparent;border-top-color:inherit;border-left-color:inherit;border-radius:50%;animation:_ngcontent-%COMP%_loading-bar-spinner .4s linear infinite}[_nghost-%COMP%]   .ngx-bar[_ngcontent-%COMP%]{transition:width .35s;position:absolute;top:0;left:0;width:100%;height:2px;border-bottom-right-radius:1px;border-top-right-radius:1px}[dir=rtl]   [_nghost-%COMP%]   .ngx-bar[_ngcontent-%COMP%]{right:0;left:unset}[fixed=true][_nghost-%COMP%]{z-index:10002}[fixed=true][_nghost-%COMP%]   .ngx-bar[_ngcontent-%COMP%]{position:fixed}[fixed=true][_nghost-%COMP%]   .ngx-spinner[_ngcontent-%COMP%]{position:fixed;top:10px;left:10px}[dir=rtl]   [fixed=true][_nghost-%COMP%]   .ngx-spinner[_ngcontent-%COMP%]{right:10px;left:unset}@keyframes _ngcontent-%COMP%_loading-bar-spinner{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"],changeDetection:0})}}return e})(),Jne=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=io({type:e})}static{this.\u0275inj=Vr({imports:[lP]})}}return e})();const pL=e=>({selected:e});function Zne(e,t){if(1&e){const n=NC();be(0,"button",9),lt("click",function(){const o=Rb(n).$implicit;return Ab($t(3).selectGenre(o))}),mn(1),me()}if(2&e){const n=t.$implicit,r=$t(3);Be("ngClass",HC(2,pL,n.label==r.selectedGenre.label)),Te(),Yi(" ",n.label," ")}}function ere(e,t){if(1&e&&(be(0,"section",7)(1,"h2"),mn(2,"Genre"),me(),Yt(3,Zne,2,4,"button",8),me()),2&e){const n=$t(2);Te(3),Be("ngForOf",n.musicGenres)}}function tre(e,t){if(1&e){const n=NC();be(0,"button",9),lt("click",function(){const o=Rb(n).$implicit;return Ab($t(3).selectBeat(o))}),mn(1),me()}if(2&e){const n=t.$implicit,r=$t(3);Be("ngClass",HC(2,pL,n.id==r.selectedBeat.id)),Te(),Yi(" ",n.label," ")}}function nre(e,t){if(1&e&&(be(0,"section",10)(1,"h2"),mn(2),me(),Yt(3,tre,2,4,"button",8),me()),2&e){const n=$t(2);Te(2),Yi("",n.selectedGenre.label," beats"),Te(),Be("ngForOf",n.selectedGenre.beats)}}function rre(e,t){if(1&e&&(zs(0),be(1,"main",1)(2,"nav",2),Mn(3,"img",3),Yt(4,ere,4,1,"section",4)(5,nre,4,2,"section",5),me(),be(6,"section",6),Mn(7,"router-outlet"),me()(),Ws()),2&e){const n=$t();Te(4),Be("ngIf",0!=n.musicGenres.length),Te(),Be("ngIf",0!=n.musicGenres.length)}}function ore(e,t){1&e&&(zs(0),be(1,"main",11)(2,"section",6),Mn(3,"router-outlet"),me()(),Ws())}function sre(e,t){1&e&&Mn(0,"img",18)}function ire(e,t){1&e&&Mn(0,"img",19)}function are(e,t){if(1&e&&(zs(0),be(1,"header",12),Mn(2,"img",13),me(),be(3,"div",14),Yt(4,sre,1,0,"img",15)(5,ire,1,0,"img",16),me(),be(6,"div",17)(7,"h1"),mn(8,"Only available in landscape mode"),me(),be(9,"h3"),mn(10,"Turn your device!"),me()(),Ws()),2&e){const n=$t();Te(4),Be("ngIf",n.mode==n.Mode.LIGHT),Te(),Be("ngIf",n.mode==n.Mode.DARK)}}let cre=(()=>{class e{constructor(n,r,o,s){this.responsive=n,this._genresManager=r,this.modeToggleService=o,this.router=s,this.isMobileDisplay=!0,this.selectedGenre={},this.selectedBeat={},this.musicGenres=[],this.isPortrait=!1,this.isLandscape=!1,this.mode=na.LIGHT,this.Mode=na,this.modeToggleService.modeChanged$.subscribe(i=>this.mode=i),this.checkOrientation()}ngOnInit(){this.responsive.observe(["(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)"]).subscribe(n=>{this.isMobileDisplay=!n.matches}),this._genresManager.getGenres().then(n=>{this.musicGenres=n,this.selectGenre(this.musicGenres[0])}).catch(n=>{console.log(n)})}selectGenre(n){this.selectedGenre=n,this.selectBeat(this.selectedGenre.beats[0])}selectBeat(n){this.selectedBeat=n,this.navigateToBeat(n).then(r=>console.log("Navigation success:",r)).catch(r=>console.error("Navigation error:",r))}navigateToBeat(n){return this.router.navigate([""],{queryParams:{genre:this.selectedGenre.label,beat:n.id},queryParamsHandling:"merge",replaceUrl:!0})}onOrientationChange(n){this.checkOrientation()}checkOrientation(){const n=window.screen.orientation.angle;this.isPortrait=0===n||180===n,this.isLandscape=90===n||-90===n}static{this.\u0275fac=function(r){return new(r||e)(R(_ee),R(qw),R(vee),R(So))}}static{this.\u0275cmp=Ho({type:e,selectors:[["app-root"]],hostBindings:function(r,o){1&r&&lt("orientationchange",function(i){return o.onOrientationChange(i)},0,TR)},decls:4,vars:3,consts:[[4,"ngIf"],[1,"flex","app-container"],[1,"flex","column","left-menu"],["src","./assets/images/title.svg","id","title-image","alt","Website Title"],["class","flex menu genre",4,"ngIf"],["class","flex menu",4,"ngIf"],[1,"flex","content"],[1,"flex","menu","genre"],["class","button pointer",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"button","pointer",3,"click","ngClass"],[1,"flex","menu"],[1,"app-container"],[1,"header-mobile","mt-40","mb-40"],["src","./assets/images/title-mobile.svg","alt","Website Title",1,"title-image-mobile"],[1,"portrait-to-landscape"],["src","./assets/images/light/orientation.png","class","portrait-to-landscape-image","alt","Portrait to landscape image",4,"ngIf"],["src","./assets/images/dark/orientation.png","class","portrait-to-landscape-image","alt","Portrait to landscape image",4,"ngIf"],[1,"ml-10"],["src","./assets/images/light/orientation.png","alt","Portrait to landscape image",1,"portrait-to-landscape-image"],["src","./assets/images/dark/orientation.png","alt","Portrait to landscape image",1,"portrait-to-landscape-image"]],template:function(r,o){1&r&&(Mn(0,"ngx-loading-bar"),Yt(1,rre,8,2,"ng-container",0)(2,ore,4,0,"ng-container",0)(3,are,11,2,"ng-container",0)),2&r&&(Te(),Be("ngIf",!o.isMobileDisplay),Te(),Be("ngIf",o.isMobileDisplay&&o.isLandscape),Te(),Be("ngIf",o.isMobileDisplay&&o.isPortrait))},dependencies:[rP,mm,_m,Qne,uS],styles:['html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%;margin:0}[_ngcontent-%COMP%]:root{font-family:Inter,sans-serif;font-feature-settings:"liga" 1,"calt" 1,"ss01" on}@supports (font-variation-settings: normal){[_ngcontent-%COMP%]:root{font-family:InterVariable,sans-serif}}a[_ngcontent-%COMP%]{all:unset}h3[_ngcontent-%COMP%]{margin:0}button[_ngcontent-%COMP%]{font-family:inherit;font-size:100%;line-height:1.15;margin:0;overflow:visible;text-transform:none;-webkit-appearance:button}.flex[_ngcontent-%COMP%]{display:flex}.mt-40[_ngcontent-%COMP%]{margin-top:40px}.mb-40[_ngcontent-%COMP%]{margin-bottom:40px}.mb-10[_ngcontent-%COMP%]{margin-bottom:10px}.ml-10[_ngcontent-%COMP%]{margin-left:10px}body.dark[_ngcontent-%COMP%]{--backgroundColor: #2e2e2e;--textColor: white;--borderColor: white;--menuButtonColor: #CC71FA;--gridHighLightColor: #474747;background-color:var(--backgroundColor);color:var(--textColor)}body.light[_ngcontent-%COMP%]{--backgroundColor: white;--textColor: black;--borderColor: black;--menuButtonColor: #70F1FA;--gridHighLightColor: #e8e8e8;background-color:var(--backgroundColor);color:var(--textColor)}.app-container[_ngcontent-%COMP%]{height:100%}.menu[_ngcontent-%COMP%]{flex-direction:column;justify-content:flex-start;align-items:flex-start}.menu.genre[_ngcontent-%COMP%]{justify-content:flex-end}.menu[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{border-radius:5px;width:90%;padding:5px;background-color:var(--backgroundColor);border:none;text-align:left;color:var(--textColor)}.menu[_ngcontent-%COMP%]   .button.selected[_ngcontent-%COMP%]{background-color:var(--menuButtonColor);border:solid 1px var(--borderColor)}.menu[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:hover:not(.selected){background-color:#cecece}.content[_ngcontent-%COMP%]{flex:1;justify-content:center;align-items:center;overflow:auto;height:100%}.header[_ngcontent-%COMP%]{width:240px;font-size:30px}.column[_ngcontent-%COMP%]{flex-direction:column}.left-menu[_ngcontent-%COMP%]{padding:10px;justify-content:space-between;margin-bottom:150px}.nowrap[_ngcontent-%COMP%]{white-space:nowrap}.header-mobile[_ngcontent-%COMP%]{font-size:30px;width:100%;text-align:center}.pointer[_ngcontent-%COMP%]{cursor:pointer}#title-image[_ngcontent-%COMP%]{width:150px;aspect-ratio:1}.title-image-mobile[_ngcontent-%COMP%]{width:300px}.portrait-to-landscape[_ngcontent-%COMP%]{justify-content:center;display:flex;flex-direction:row;margin:50px}.portrait-to-landscape[_ngcontent-%COMP%]   .portrait-to-landscape-image[_ngcontent-%COMP%]{width:100px}.beat-name[_ngcontent-%COMP%]{height:40px;text-align:center;vertical-align:middle;width:200px;min-width:200px;font-size:20px}.bpm[_ngcontent-%COMP%]{height:40px;text-align:center;vertical-align:middle;width:120px;min-width:120px;font-size:20px}.corner[_ngcontent-%COMP%]{position:absolute;width:75px;aspect-ratio:1;clip-path:polygon(0 100%,0 0,100% 100%,0 100%)}']})}}return e})();class Hm{}class Rf{}class rr{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?"string"==typeof t?this.lazyInit=()=>{this.headers=new Map,t.split("\n").forEach(n=>{const r=n.indexOf(":");if(r>0){const o=n.slice(0,r),s=o.toLowerCase(),i=n.slice(r+1).trim();this.maybeSetNormalizedName(o,s),this.headers.has(s)?this.headers.get(s).push(i):this.headers.set(s,[i])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const n=this.headers.get(t.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,n){return this.clone({name:t,value:n,op:"a"})}set(t,n){return this.clone({name:t,value:n,op:"s"})}delete(t,n){return this.clone({name:t,value:n,op:"d"})}maybeSetNormalizedName(t,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,t)}init(){this.lazyInit&&(this.lazyInit instanceof rr?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(n=>{this.headers.set(n,t.headers.get(n)),this.normalizedNames.set(n,t.normalizedNames.get(n))})}clone(t){const n=new rr;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof rr?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}applyUpdate(t){const n=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(t.name,n);const o=("a"===t.op?this.headers.get(n):void 0)||[];o.push(...r),this.headers.set(n,o);break;case"d":const s=t.value;if(s){let i=this.headers.get(n);if(!i)return;i=i.filter(a=>-1===s.indexOf(a)),0===i.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,i)}else this.headers.delete(n),this.normalizedNames.delete(n)}}setHeaderEntries(t,n){const r=(Array.isArray(n)?n:[n]).map(s=>s.toString()),o=t.toLowerCase();this.headers.set(o,r),this.maybeSetNormalizedName(t,o)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>t(this.normalizedNames.get(n),this.headers.get(n)))}}class lre{encodeKey(t){return gL(t)}encodeValue(t){return gL(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const dre=/%(\d[a-f0-9])/gi,fre={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function gL(e){return encodeURIComponent(e).replace(dre,(t,n)=>fre[n]??t)}function qm(e){return`${e}`}class ss{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new lre,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function ure(e,t){const n=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(o=>{const s=o.indexOf("="),[i,a]=-1==s?[t.decodeKey(o),""]:[t.decodeKey(o.slice(0,s)),t.decodeValue(o.slice(s+1))],c=n.get(i)||[];c.push(a),n.set(i,c)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(n=>{const r=t.fromObject[n],o=Array.isArray(r)?r.map(qm):[qm(r)];this.map.set(n,o)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const n=this.map.get(t);return n?n[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,n){return this.clone({param:t,value:n,op:"a"})}appendAll(t){const n=[];return Object.keys(t).forEach(r=>{const o=t[r];Array.isArray(o)?o.forEach(s=>{n.push({param:r,value:s,op:"a"})}):n.push({param:r,value:o,op:"a"})}),this.clone(n)}set(t,n){return this.clone({param:t,value:n,op:"s"})}delete(t,n){return this.clone({param:t,value:n,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const n=this.encoder.encodeKey(t);return this.map.get(t).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const n=new ss({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(t),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const n=("a"===t.op?this.map.get(t.param):void 0)||[];n.push(qm(t.value)),this.map.set(t.param,n);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let r=this.map.get(t.param)||[];const o=r.indexOf(qm(t.value));-1!==o&&r.splice(o,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class hre{constructor(){this.map=new Map}set(t,n){return this.map.set(t,n),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function mL(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function _L(e){return typeof Blob<"u"&&e instanceof Blob}function yL(e){return typeof FormData<"u"&&e instanceof FormData}class Af{constructor(t,n,r,o){let s;if(this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function pre(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==r?r:null,s=o):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new rr,this.context??=new hre,this.params){const i=this.params.toString();if(0===i.length)this.urlWithParams=n;else{const a=n.indexOf("?");this.urlWithParams=n+(-1===a?"?":a<n.length-1?"&":"")+i}}else this.params=new ss,this.urlWithParams=n}serializeBody(){return null===this.body?null:"string"==typeof this.body||mL(this.body)||_L(this.body)||yL(this.body)||function gre(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}(this.body)?this.body:this.body instanceof ss?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||yL(this.body)?null:_L(this.body)?this.body.type||null:mL(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ss?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const n=t.method||this.method,r=t.url||this.url,o=t.responseType||this.responseType,s=t.transferCache??this.transferCache,i=void 0!==t.body?t.body:this.body,a=t.withCredentials??this.withCredentials,c=t.reportProgress??this.reportProgress;let l=t.headers||this.headers,u=t.params||this.params;const d=t.context??this.context;return void 0!==t.setHeaders&&(l=Object.keys(t.setHeaders).reduce((f,p)=>f.set(p,t.setHeaders[p]),l)),t.setParams&&(u=Object.keys(t.setParams).reduce((f,p)=>f.set(p,t.setParams[p]),u)),new Af(n,r,i,{params:u,headers:l,context:d,reportProgress:c,responseType:o,withCredentials:a,transferCache:s})}}var Zs=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(Zs||{});class SS{constructor(t,n=kf.Ok,r="OK"){this.headers=t.headers||new rr,this.status=void 0!==t.status?t.status:n,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class zm extends SS{constructor(t={}){super(t),this.type=Zs.ResponseHeader}clone(t={}){return new zm({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class ei extends SS{constructor(t={}){super(t),this.type=Zs.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new ei({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class vl extends SS{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}var kf=function(e){return e[e.Continue=100]="Continue",e[e.SwitchingProtocols=101]="SwitchingProtocols",e[e.Processing=102]="Processing",e[e.EarlyHints=103]="EarlyHints",e[e.Ok=200]="Ok",e[e.Created=201]="Created",e[e.Accepted=202]="Accepted",e[e.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",e[e.NoContent=204]="NoContent",e[e.ResetContent=205]="ResetContent",e[e.PartialContent=206]="PartialContent",e[e.MultiStatus=207]="MultiStatus",e[e.AlreadyReported=208]="AlreadyReported",e[e.ImUsed=226]="ImUsed",e[e.MultipleChoices=300]="MultipleChoices",e[e.MovedPermanently=301]="MovedPermanently",e[e.Found=302]="Found",e[e.SeeOther=303]="SeeOther",e[e.NotModified=304]="NotModified",e[e.UseProxy=305]="UseProxy",e[e.Unused=306]="Unused",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect",e[e.BadRequest=400]="BadRequest",e[e.Unauthorized=401]="Unauthorized",e[e.PaymentRequired=402]="PaymentRequired",e[e.Forbidden=403]="Forbidden",e[e.NotFound=404]="NotFound",e[e.MethodNotAllowed=405]="MethodNotAllowed",e[e.NotAcceptable=406]="NotAcceptable",e[e.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",e[e.RequestTimeout=408]="RequestTimeout",e[e.Conflict=409]="Conflict",e[e.Gone=410]="Gone",e[e.LengthRequired=411]="LengthRequired",e[e.PreconditionFailed=412]="PreconditionFailed",e[e.PayloadTooLarge=413]="PayloadTooLarge",e[e.UriTooLong=414]="UriTooLong",e[e.UnsupportedMediaType=415]="UnsupportedMediaType",e[e.RangeNotSatisfiable=416]="RangeNotSatisfiable",e[e.ExpectationFailed=417]="ExpectationFailed",e[e.ImATeapot=418]="ImATeapot",e[e.MisdirectedRequest=421]="MisdirectedRequest",e[e.UnprocessableEntity=422]="UnprocessableEntity",e[e.Locked=423]="Locked",e[e.FailedDependency=424]="FailedDependency",e[e.TooEarly=425]="TooEarly",e[e.UpgradeRequired=426]="UpgradeRequired",e[e.PreconditionRequired=428]="PreconditionRequired",e[e.TooManyRequests=429]="TooManyRequests",e[e.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",e[e.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",e[e.InternalServerError=500]="InternalServerError",e[e.NotImplemented=501]="NotImplemented",e[e.BadGateway=502]="BadGateway",e[e.ServiceUnavailable=503]="ServiceUnavailable",e[e.GatewayTimeout=504]="GatewayTimeout",e[e.HttpVersionNotSupported=505]="HttpVersionNotSupported",e[e.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",e[e.InsufficientStorage=507]="InsufficientStorage",e[e.LoopDetected=508]="LoopDetected",e[e.NotExtended=510]="NotExtended",e[e.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",e}(kf||{});function DS(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,transferCache:e.transferCache}}let vL=(()=>{class e{constructor(n){this.handler=n}request(n,r,o={}){let s;if(n instanceof Af)s=n;else{let c,l;c=o.headers instanceof rr?o.headers:new rr(o.headers),o.params&&(l=o.params instanceof ss?o.params:new ss({fromObject:o.params})),s=new Af(n,r,void 0!==o.body?o.body:null,{headers:c,context:o.context,params:l,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache})}const i=te(s).pipe(ra(c=>this.handler.handle(c)));if(n instanceof Af||"events"===o.observe)return i;const a=i.pipe(rs(c=>c instanceof ei));switch(o.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(ie(c=>{if(null!==c.body&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return a.pipe(ie(c=>{if(null!==c.body&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return a.pipe(ie(c=>{if(null!==c.body&&"string"!=typeof c.body)throw new Error("Response is not a string.");return c.body}));default:return a.pipe(ie(c=>c.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:(new ss).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,o={}){return this.request("PATCH",n,DS(o,r))}post(n,r,o={}){return this.request("POST",n,DS(o,r))}put(n,r,o={}){return this.request("PUT",n,DS(o,r))}static{this.\u0275fac=function(r){return new(r||e)(j(Hm))}}static{this.\u0275prov=L({token:e,factory:e.\u0275fac})}}return e})();function EL(e,t){return t(e)}function bre(e,t){return(n,r)=>t.intercept(n,{handle:o=>e(o,r)})}const CL=new P(""),Nf=new P(""),wL=new P(""),SL=new P("");function Cre(){let e=null;return(t,n)=>{null===e&&(e=(N(CL,{optional:!0})??[]).reduceRight(bre,EL));const r=N(Us),o=r.add();return e(t,n).pipe(ll(()=>r.remove(o)))}}let DL=(()=>{class e extends Hm{constructor(n,r){super(),this.backend=n,this.injector=r,this.chain=null,this.pendingTasks=N(Us);const o=N(SL,{optional:!0});this.backend=o??n}handle(n){if(null===this.chain){const o=Array.from(new Set([...this.injector.get(Nf),...this.injector.get(wL,[])]));this.chain=o.reduceRight((s,i)=>function Ere(e,t,n){return(r,o)=>qo(n,()=>t(r,s=>e(s,o)))}(s,i,this.injector),EL)}const r=this.pendingTasks.add();return this.chain(n,o=>this.backend.handle(o)).pipe(ll(()=>this.pendingTasks.remove(r)))}static{this.\u0275fac=function(r){return new(r||e)(j(Rf),j(Kn))}}static{this.\u0275prov=L({token:e,factory:e.\u0275fac})}}return e})();const Ire=/^\)\]\}',?\n/;let TS=(()=>{class e{constructor(n){this.xhrFactory=n}handle(n){if("JSONP"===n.method)throw new M(-2800,!1);const r=this.xhrFactory;return(r.\u0275loadImpl?Qt(r.\u0275loadImpl()):te(null)).pipe(Cr(()=>new Xe(s=>{const i=r.build();if(i.open(n.method,n.urlWithParams),n.withCredentials&&(i.withCredentials=!0),n.headers.forEach((m,y)=>i.setRequestHeader(m,y.join(","))),n.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){const m=n.detectContentTypeHeader();null!==m&&i.setRequestHeader("Content-Type",m)}if(n.responseType){const m=n.responseType.toLowerCase();i.responseType="json"!==m?m:"text"}const a=n.serializeBody();let c=null;const l=()=>{if(null!==c)return c;const m=i.statusText||"OK",y=new rr(i.getAllResponseHeaders()),b=function Tre(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(i)||n.url;return c=new zm({headers:y,status:i.status,statusText:m,url:b}),c},u=()=>{let{headers:m,status:y,statusText:b,url:C}=l(),k=null;y!==kf.NoContent&&(k=typeof i.response>"u"?i.responseText:i.response),0===y&&(y=k?kf.Ok:0);let V=y>=200&&y<300;if("json"===n.responseType&&"string"==typeof k){const $=k;k=k.replace(Ire,"");try{k=""!==k?JSON.parse(k):null}catch(fe){k=$,V&&(V=!1,k={error:fe,text:k})}}V?(s.next(new ei({body:k,headers:m,status:y,statusText:b,url:C||void 0})),s.complete()):s.error(new vl({error:k,headers:m,status:y,statusText:b,url:C||void 0}))},d=m=>{const{url:y}=l(),b=new vl({error:m,status:i.status||0,statusText:i.statusText||"Unknown Error",url:y||void 0});s.error(b)};let f=!1;const p=m=>{f||(s.next(l()),f=!0);let y={type:Zs.DownloadProgress,loaded:m.loaded};m.lengthComputable&&(y.total=m.total),"text"===n.responseType&&i.responseText&&(y.partialText=i.responseText),s.next(y)},g=m=>{let y={type:Zs.UploadProgress,loaded:m.loaded};m.lengthComputable&&(y.total=m.total),s.next(y)};return i.addEventListener("load",u),i.addEventListener("error",d),i.addEventListener("timeout",d),i.addEventListener("abort",d),n.reportProgress&&(i.addEventListener("progress",p),null!==a&&i.upload&&i.upload.addEventListener("progress",g)),i.send(a),s.next({type:Zs.Sent}),()=>{i.removeEventListener("error",d),i.removeEventListener("abort",d),i.removeEventListener("load",u),i.removeEventListener("timeout",d),n.reportProgress&&(i.removeEventListener("progress",p),null!==a&&i.upload&&i.upload.removeEventListener("progress",g)),i.readyState!==i.DONE&&i.abort()}})))}static{this.\u0275fac=function(r){return new(r||e)(j(ym))}}static{this.\u0275prov=L({token:e,factory:e.\u0275fac})}}return e})();const OS=new P(""),IL=new P("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),TL=new P("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class OL{}let Are=(()=>{class e{constructor(n,r,o){this.doc=n,this.platform=r,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=tP(n,this.cookieName),this.lastCookieString=n),this.lastToken}static{this.\u0275fac=function(r){return new(r||e)(j(vr),j(Xo),j(IL))}}static{this.\u0275prov=L({token:e,factory:e.\u0275fac})}}return e})();function kre(e,t){const n=e.url.toLowerCase();if(!N(OS)||"GET"===e.method||"HEAD"===e.method||n.startsWith("http://")||n.startsWith("https://"))return t(e);const r=N(OL).getToken(),o=N(TL);return null!=r&&!e.headers.has(o)&&(e=e.clone({headers:e.headers.set(o,r)})),t(e)}var ti=function(e){return e[e.Interceptors=0]="Interceptors",e[e.LegacyInterceptors=1]="LegacyInterceptors",e[e.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",e[e.NoXsrfProtection=3]="NoXsrfProtection",e[e.JsonpSupport=4]="JsonpSupport",e[e.RequestsMadeViaParent=5]="RequestsMadeViaParent",e[e.Fetch=6]="Fetch",e}(ti||{});function aa(e,t){return{\u0275kind:e,\u0275providers:t}}function Nre(...e){const t=[vL,TS,DL,{provide:Hm,useExisting:DL},{provide:Rf,useExisting:TS},{provide:Nf,useValue:kre,multi:!0},{provide:OS,useValue:!0},{provide:OL,useClass:Are}];for(const n of e)t.push(...n.\u0275providers);return fc(t)}const RL=new P("");let Fre=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=io({type:e})}static{this.\u0275inj=Vr({providers:[Nre(aa(ti.LegacyInterceptors,[{provide:RL,useFactory:Cre},{provide:Nf,useExisting:RL,multi:!0}]))]})}}return e})();const $re={100:{code:100,text:"Continue",description:'"The initial part of a request has been received and has not yet been rejected by the server."',spec_title:"RFC7231#6.2.1",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.2.1"},101:{code:101,text:"Switching Protocols",description:'"The server understands and is willing to comply with the client\'s request, via the Upgrade header field, for a change in the application protocol being used on this connection."',spec_title:"RFC7231#6.2.2",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.2.2"},200:{code:200,text:"OK",description:'"The request has succeeded."',spec_title:"RFC7231#6.3.1",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.3.1"},201:{code:201,text:"Created",description:'"The request has been fulfilled and has resulted in one or more new resources being created."',spec_title:"RFC7231#6.3.2",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.3.2"},202:{code:202,text:"Accepted",description:'"The request has been accepted for processing, but the processing has not been completed."',spec_title:"RFC7231#6.3.3",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.3.3"},203:{code:203,text:"Non-Authoritative Information",description:'"The request was successful but the enclosed payload has been modified from that of the origin server\'s 200 (OK) response by a transforming proxy."',spec_title:"RFC7231#6.3.4",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.3.4"},204:{code:204,text:"No Content",description:'"The server has successfully fulfilled the request and that there is no additional content to send in the response payload body."',spec_title:"RFC7231#6.3.5",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.3.5"},205:{code:205,text:"Reset Content",description:'"The server has fulfilled the request and desires that the user agent reset the "document view", which caused the request to be sent, to its original state as received from the origin server."',spec_title:"RFC7231#6.3.6",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.3.6"},206:{code:206,text:"Partial Content",description:'"The server is successfully fulfilling a range request for the target resource by transferring one or more parts of the selected representation that correspond to the satisfiable ranges found in the requests\'s Range header field."',spec_title:"RFC7233#4.1",spec_href:"https://tools.ietf.org/html/rfc7233#section-4.1"},300:{code:300,text:"Multiple Choices",description:'"The target resource has more than one representation, each with its own more specific identifier, and information about the alternatives is being provided so that the user (or user agent) can select a preferred representation by redirecting its request to one or more of those identifiers."',spec_title:"RFC7231#6.4.1",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.4.1"},301:{code:301,text:"Moved Permanently",description:'"The target resource has been assigned a new permanent URI and any future references to this resource ought to use one of the enclosed URIs."',spec_title:"RFC7231#6.4.2",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.4.2"},302:{code:302,text:"Found",description:'"The target resource resides temporarily under a different URI."',spec_title:"RFC7231#6.4.3",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.4.3"},303:{code:303,text:"See Other",description:'"The server is redirecting the user agent to a different resource, as indicated by a URI in the Location header field, that is intended to provide an indirect response to the original request."',spec_title:"RFC7231#6.4.4",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.4.4"},304:{code:304,text:"Not Modified",description:'"A conditional GET request has been received and would have resulted in a 200 (OK) response if it were not for the fact that the condition has evaluated to false."',spec_title:"RFC7232#4.1",spec_href:"https://tools.ietf.org/html/rfc7232#section-4.1"},305:{code:305,text:"Use Proxy",description:"*deprecated*",spec_title:"RFC7231#6.4.5",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.4.5"},307:{code:307,text:"Temporary Redirect",description:'"The target resource resides temporarily under a different URI and the user agent MUST NOT change the request method if it performs an automatic redirection to that URI."',spec_title:"RFC7231#6.4.7",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.4.7"},400:{code:400,text:"Bad Request",description:'"The server cannot or will not process the request because the received syntax is invalid, nonsensical, or exceeds some limitation on what the server is willing to process."',spec_title:"RFC7231#6.5.1",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.1"},401:{code:401,text:"Unauthorized",description:'"The request has not been applied because it lacks valid authentication credentials for the target resource."',spec_title:"RFC7235#6.3.1",spec_href:"https://tools.ietf.org/html/rfc7235#section-3.1"},402:{code:402,text:"Payment Required",description:"*reserved*",spec_title:"RFC7231#6.5.2",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.2"},403:{code:403,text:"Forbidden",description:'"The server understood the request but refuses to authorize it."',spec_title:"RFC7231#6.5.3",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.3"},404:{code:404,text:"Not Found",description:'"The origin server did not find a current representation for the target resource or is not willing to disclose that one exists."',spec_title:"RFC7231#6.5.4",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.4"},405:{code:405,text:"Method Not Allowed",description:'"The method specified in the request-line is known by the origin server but not supported by the target resource."',spec_title:"RFC7231#6.5.5",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.5"},406:{code:406,text:"Not Acceptable",description:'"The target resource does not have a current representation that would be acceptable to the user agent, according to the proactive negotiation header fields received in the request, and the server is unwilling to supply a default representation."',spec_title:"RFC7231#6.5.6",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.6"},407:{code:407,text:"Proxy Authentication Required",description:'"The client needs to authenticate itself in order to use a proxy."',spec_title:"RFC7231#6.3.2",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.3.2"},408:{code:408,text:"Request Timeout",description:'"The server did not receive a complete request message within the time that it was prepared to wait."',spec_title:"RFC7231#6.5.7",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.7"},409:{code:409,text:"Conflict",description:'"The request could not be completed due to a conflict with the current state of the resource."',spec_title:"RFC7231#6.5.8",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.8"},410:{code:410,text:"Gone",description:'"Access to the target resource is no longer available at the origin server and that this condition is likely to be permanent."',spec_title:"RFC7231#6.5.9",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.9"},411:{code:411,text:"Length Required",description:'"The server refuses to accept the request without a defined Content-Length."',spec_title:"RFC7231#6.5.10",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.10"},412:{code:412,text:"Precondition Failed",description:'"One or more preconditions given in the request header fields evaluated to false when tested on the server."',spec_title:"RFC7232#4.2",spec_href:"https://tools.ietf.org/html/rfc7232#section-4.2"},413:{code:413,text:"Payload Too Large",description:'"The server is refusing to process a request because the request payload is larger than the server is willing or able to process."',spec_title:"RFC7231#6.5.11",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.11"},414:{code:414,text:"URI Too Long",description:'"The server is refusing to service the request because the request-target is longer than the server is willing to interpret."',spec_title:"RFC7231#6.5.12",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.12"},415:{code:415,text:"Unsupported Media Type",description:'"The origin server is refusing to service the request because the payload is in a format not supported by the target resource for this method."',spec_title:"RFC7231#6.5.13",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.13"},416:{code:416,text:"Range Not Satisfiable",description:'"None of the ranges in the request\'s Range header field overlap the current extent of the selected resource or that the set of ranges requested has been rejected due to invalid ranges or an excessive request of small or overlapping ranges."',spec_title:"RFC7233#4.4",spec_href:"https://tools.ietf.org/html/rfc7233#section-4.4"},417:{code:417,text:"Expectation Failed",description:'"The expectation given in the request\'s Expect header field could not be met by at least one of the inbound servers."',spec_title:"RFC7231#6.5.14",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.14"},418:{code:418,text:"I'm a teapot",description:'"1988 April Fools Joke. Returned by tea pots requested to brew coffee."',spec_title:"RFC 2324",spec_href:"https://tools.ietf.org/html/rfc2324"},426:{code:426,text:"Upgrade Required",description:'"The server refuses to perform the request using the current protocol but might be willing to do so after the client upgrades to a different protocol."',spec_title:"RFC7231#6.5.15",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.15"},500:{code:500,text:"Internal Server Error",description:'"The server encountered an unexpected condition that prevented it from fulfilling the request."',spec_title:"RFC7231#6.6.1",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.6.1"},501:{code:501,text:"Not Implemented",description:'"The server does not support the functionality required to fulfill the request."',spec_title:"RFC7231#6.6.2",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.6.2"},502:{code:502,text:"Bad Gateway",description:'"The server, while acting as a gateway or proxy, received an invalid response from an inbound server it accessed while attempting to fulfill the request."',spec_title:"RFC7231#6.6.3",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.6.3"},503:{code:503,text:"Service Unavailable",description:'"The server is currently unable to handle the request due to a temporary overload or scheduled maintenance, which will likely be alleviated after some delay."',spec_title:"RFC7231#6.6.4",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.6.4"},504:{code:504,text:"Gateway Time-out",description:'"The server, while acting as a gateway or proxy, did not receive a timely response from an upstream server it needed to access in order to complete the request."',spec_title:"RFC7231#6.6.5",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.6.5"},505:{code:505,text:"HTTP Version Not Supported",description:'"The server does not support, or refuses to support, the protocol version that was used in the request message."',spec_title:"RFC7231#6.6.6",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.6.6"},102:{code:102,text:"Processing",description:'"An interim response to inform the client that the server has accepted the complete request, but has not yet completed it."',spec_title:"RFC5218#10.1",spec_href:"https://tools.ietf.org/html/rfc2518#section-10.1"},207:{code:207,text:"Multi-Status",description:'"Status for multiple independent operations."',spec_title:"RFC5218#10.2",spec_href:"https://tools.ietf.org/html/rfc2518#section-10.2"},226:{code:226,text:"IM Used",description:'"The server has fulfilled a GET request for the resource, and the response is a representation of the result of one or more instance-manipulations applied to the current instance."',spec_title:"RFC3229#10.4.1",spec_href:"https://tools.ietf.org/html/rfc3229#section-10.4.1"},308:{code:308,text:"Permanent Redirect",description:'"The target resource has been assigned a new permanent URI and any future references to this resource SHOULD use one of the returned URIs. [...] This status code is similar to 301 Moved Permanently (Section 7.3.2 of rfc7231), except that it does not allow rewriting the request method from POST to GET."',spec_title:"RFC7238",spec_href:"https://tools.ietf.org/html/rfc7238"},422:{code:422,text:"Unprocessable Entity",description:'"The server understands the content type of the request entity (hence a 415(Unsupported Media Type) status code is inappropriate), and the syntax of the request entity is correct (thus a 400 (Bad Request) status code is inappropriate) but was unable to process the contained instructions."',spec_title:"RFC5218#10.3",spec_href:"https://tools.ietf.org/html/rfc2518#section-10.3"},423:{code:423,text:"Locked",description:'"The source or destination resource of a method is locked."',spec_title:"RFC5218#10.4",spec_href:"https://tools.ietf.org/html/rfc2518#section-10.4"},424:{code:424,text:"Failed Dependency",description:'"The method could not be performed on the resource because the requested action depended on another action and that action failed."',spec_title:"RFC5218#10.5",spec_href:"https://tools.ietf.org/html/rfc2518#section-10.5"},428:{code:428,text:"Precondition Required",description:'"The origin server requires the request to be conditional."',spec_title:"RFC6585#3",spec_href:"https://tools.ietf.org/html/rfc6585#section-3"},429:{code:429,text:"Too Many Requests",description:'"The user has sent too many requests in a given amount of time ("rate limiting")."',spec_title:"RFC6585#4",spec_href:"https://tools.ietf.org/html/rfc6585#section-4"},431:{code:431,text:"Request Header Fields Too Large",description:'"The server is unwilling to process the request because its header fields are too large."',spec_title:"RFC6585#5",spec_href:"https://tools.ietf.org/html/rfc6585#section-5"},451:{code:451,text:"Unavailable For Legal Reasons",description:'"The server is denying access to the resource in response to a legal demand."',spec_title:"draft-ietf-httpbis-legally-restricted-status",spec_href:"https://tools.ietf.org/html/draft-ietf-httpbis-legally-restricted-status"},506:{code:506,text:"Variant Also Negotiates",description:'"The server has an internal configuration error: the chosen variant resource is configured to engage in transparent content negotiation itself, and is therefore not a proper end point in the negotiation process."',spec_title:"RFC2295#8.1",spec_href:"https://tools.ietf.org/html/rfc2295#section-8.1"},507:{code:507,text:"Insufficient Storage",description:'The method could not be performed on the resource because the server is unable to store the representation needed to successfully complete the request."',spec_title:"RFC5218#10.6",spec_href:"https://tools.ietf.org/html/rfc2518#section-10.6"},511:{code:511,text:"Network Authentication Required",description:'"The client needs to authenticate to gain network access."',spec_title:"RFC6585#6",spec_href:"https://tools.ietf.org/html/rfc6585#section-6"}};class RS{}class zre{}let Gm=(()=>{class e{constructor(n={}){Object.assign(this,{caseSensitiveSearch:!1,dataEncapsulation:!1,delay:500,delete404:!1,passThruUnknownUrl:!1,post204:!0,post409:!1,put204:!0,put404:!1,apiBase:void 0,host:void 0,rootPath:void 0},n)}static{this.\u0275fac=function(r){return new(r||e)(j(zre))}}static{this.\u0275prov=L({token:e,factory:e.\u0275fac})}}return e})();class Xre{constructor(t,n={}){this.inMemDbService=t,this.config=new Gm,this.db={},this.requestInfoUtils=this.getRequestInfoUtils();const r=this.getLocation("/");this.config.host=r.host,this.config.rootPath=r.path,Object.assign(this.config,n)}get dbReady(){return this.dbReadySubject||(this.dbReadySubject=new Fn(!1),this.resetDb()),this.dbReadySubject.asObservable().pipe(os(t=>t))}handleRequest(t){return this.dbReady.pipe(ra(()=>this.handleRequest_(t)))}handleRequest_(t){const n=t.urlWithParams?t.urlWithParams:t.url,r=this.bind("parseRequestUrl"),o=r&&r(n,this.requestInfoUtils)||this.parseRequestUrl(n),s=o.collectionName,i=this.db[s],a={req:t,apiBase:o.apiBase,collection:i,collectionName:s,headers:this.createHeaders({"Content-Type":"application/json"}),id:this.parseId(i,s,o.id),method:this.getRequestMethod(t),query:o.query,resourceUrl:o.resourceUrl,url:n,utils:this.requestInfoUtils};let c;if(/commands\/?$/i.test(a.apiBase))return this.commands(a);const l=this.bind(a.method);if(l){const u=l(a);if(u)return u}return this.db[s]?this.createResponse$(()=>this.collectionHandler(a)):this.config.passThruUnknownUrl?this.getPassThruBackend().handle(t):(c=this.createErrorResponseOptions(n,404,`Collection '${s}' not found`),this.createResponse$(()=>c))}addDelay(t){const n=this.config.delay;return 0===n?t:function Ure(e,t){return new Xe(n=>{let r=!1,o=!1;const s=e.subscribe(i=>{o=!0,setTimeout(()=>{n.next(i),r&&n.complete()},t)},i=>setTimeout(()=>n.error(i),t),()=>{r=!0,o||n.complete()});return()=>s.unsubscribe()})}(t,n||500)}applyQuery(t,n){const r=[],o=this.config.caseSensitiveSearch?void 0:"i";n.forEach((i,a)=>{i.forEach(c=>r.push({name:a,rx:new RegExp(decodeURI(c),o)}))});const s=r.length;return s?t.filter(i=>{let a=!0,c=s;for(;a&&c;){c-=1;const l=r[c];a=l.rx.test(i[l.name])}return a}):t}bind(t){const n=this.inMemDbService[t];return n?n.bind(this.inMemDbService):void 0}bodify(t){return this.config.dataEncapsulation?{data:t}:t}clone(t){return JSON.parse(JSON.stringify(t))}collectionHandler(t){let n;switch(t.method){case"get":n=this.get(t);break;case"post":n=this.post(t);break;case"put":n=this.put(t);break;case"delete":n=this.delete(t);break;default:n=this.createErrorResponseOptions(t.url,405,"Method not allowed")}const r=this.bind("responseInterceptor");return r?r(n,t):n}commands(t){const n=t.collectionName.toLowerCase(),r=t.method;let o={url:t.url};switch(n){case"resetdb":return o.status=204,this.resetDb(t).pipe(ra(()=>this.createResponse$(()=>o,!1)));case"config":if("get"===r)o.status=200,o.body=this.clone(this.config);else{const s=this.getJsonBody(t.req);Object.assign(this.config,s),this.passThruBackend=void 0,o.status=204}break;default:o=this.createErrorResponseOptions(t.url,500,`Unknown command "${n}"`)}return this.createResponse$(()=>o,!1)}createErrorResponseOptions(t,n,r){return{body:{error:`${r}`},url:t,headers:this.createHeaders({"Content-Type":"application/json"}),status:n}}createResponse$(t,n=!0){const r=this.createResponseOptions$(t);let o=this.createResponse$fromResponseOptions$(r);return n?this.addDelay(o):o}createResponseOptions$(t){return new Xe(n=>{let r;try{r=t()}catch(s){r=this.createErrorResponseOptions("",500,`${s.message||s}`)}const o=r.status;try{r.statusText=null!=o?function Hre(e){return $re[e+""].text||"Unknown Status"}(o):void 0}catch{}return null!=o&&function qre(e){return e>=200&&e<300}(o)?(n.next(r),n.complete()):n.error(r),()=>{}})}delete({collection:t,collectionName:n,headers:r,id:o,url:s}){return null==o?this.createErrorResponseOptions(s,404,`Missing "${n}" id`):{headers:r,status:this.removeById(t,o)||!this.config.delete404?204:404}}findById(t,n){return t.find(r=>r.id===n)}genId(t,n){const r=this.bind("genId");if(r){const o=r(t,n);if(null!=o)return o}return this.genIdDefault(t,n)}genIdDefault(t,n){if(!this.isCollectionIdNumeric(t,n))throw new Error(`Collection '${n}' id type is non-numeric or unknown. Can only generate numeric ids.`);let r=0;return t.reduce((o,s)=>{r=Math.max(r,"number"==typeof s.id?s.id:r)},void 0),r+1}get({collection:t,collectionName:n,headers:r,id:o,query:s,url:i}){let a=t;return null!=o&&""!==o?a=this.findById(t,o):s&&(a=this.applyQuery(t,s)),a?{body:this.bodify(this.clone(a)),headers:r,status:200}:this.createErrorResponseOptions(i,404,`'${n}' with id='${o}' not found`)}getLocation(t){if(!t.startsWith("http")){const n=typeof document>"u"?void 0:document,r=n?n.location.protocol+"//"+n.location.host:"http://fake";t=t.startsWith("/")?r+t:r+"/"+t}return function Wre(e){const n=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(e),r={source:"",protocol:"",authority:"",userInfo:"",user:"",password:"",host:"",port:"",relative:"",path:"",directory:"",file:"",query:"",anchor:""},o=Object.keys(r);let s=o.length;for(;s--;)r[o[s]]=n&&n[s]||"";return r}(t)}getPassThruBackend(){return this.passThruBackend?this.passThruBackend:this.passThruBackend=this.createPassThruBackend()}getRequestInfoUtils(){return{createResponse$:this.createResponse$.bind(this),findById:this.findById.bind(this),isCollectionIdNumeric:this.isCollectionIdNumeric.bind(this),getConfig:()=>this.config,getDb:()=>this.db,getJsonBody:this.getJsonBody.bind(this),getLocation:this.getLocation.bind(this),getPassThruBackend:this.getPassThruBackend.bind(this),parseRequestUrl:this.parseRequestUrl.bind(this)}}indexOf(t,n){return t.findIndex(r=>r.id===n)}parseId(t,n,r){if(!this.isCollectionIdNumeric(t,n))return r;const o=parseFloat(r);return isNaN(o)?r:o}isCollectionIdNumeric(t,n){return!(!t||!t[0])&&"number"==typeof t[0].id}parseRequestUrl(t){try{const n=this.getLocation(t);let r=(this.config.rootPath||"").length,o="";n.host!==this.config.host&&(r=1,o=n.protocol+"//"+n.host+"/");const i=n.path.substring(r).split("/");let c,a=0;null==this.config.apiBase?c=i[a++]:(c=function Gre(e){return e.replace(/\/$/,"")}(this.config.apiBase.trim()),a=c?c.split("/").length:0),c+="/";let l=i[a++];l=l&&l.split(".")[0];return{apiBase:c,collectionName:l,id:i[a++],query:this.createQueryMap(n.query),resourceUrl:o+c+l+"/"}}catch(n){throw new Error(`unable to parse url '${t}'; original error: ${n.message}`)}}post({collection:t,collectionName:n,headers:r,id:o,req:s,resourceUrl:i,url:a}){const c=this.clone(this.getJsonBody(s));if(null==c.id)try{c.id=o||this.genId(t,n)}catch(d){const f=d.message||"";return/id type is non-numeric/.test(f)?this.createErrorResponseOptions(a,422,f):this.createErrorResponseOptions(a,500,`Failed to generate new id for '${n}'`)}if(o&&o!==c.id)return this.createErrorResponseOptions(a,400,"Request id does not match item.id");const l=this.indexOf(t,o=c.id),u=this.bodify(c);return-1===l?(t.push(c),r.set("Location",i+"/"+o),{headers:r,body:u,status:201}):this.config.post409?this.createErrorResponseOptions(a,409,`'${n}' item with id='${o} exists and may not be updated with POST; use PUT instead.`):(t[l]=c,this.config.post204?{headers:r,status:204}:{headers:r,body:u,status:200})}put({collection:t,collectionName:n,headers:r,id:o,req:s,url:i}){const a=this.clone(this.getJsonBody(s));if(null==a.id)return this.createErrorResponseOptions(i,404,`Missing '${n}' id`);if(o&&o!==a.id)return this.createErrorResponseOptions(i,400,`Request for '${n}' id does not match item.id`);const c=this.indexOf(t,o=a.id),l=this.bodify(a);return c>-1?(t[c]=a,this.config.put204?{headers:r,status:204}:{headers:r,body:l,status:200}):this.config.put404?this.createErrorResponseOptions(i,404,`'${n}' item with id='${o} not found and may not be created with PUT; use POST instead.`):(t.push(a),{headers:r,body:l,status:201})}removeById(t,n){const r=this.indexOf(t,n);return r>-1&&(t.splice(r,1),!0)}resetDb(t){this.dbReadySubject&&this.dbReadySubject.next(!1);const n=this.inMemDbService.createDb(t);return(n instanceof Xe?n:"function"==typeof n.then?Qt(n):te(n)).pipe(os()).subscribe(o=>{this.db=o,this.dbReadySubject&&this.dbReadySubject.next(!0)}),this.dbReady}}let Kre=(()=>{class e extends Xre{constructor(n,r,o){super(n,r),this.xhrFactory=o}handle(n){try{return this.handleRequest(n)}catch(r){const s=this.createErrorResponseOptions(n.url,500,`${r.message||r}`);return this.createResponse$(()=>s)}}getJsonBody(n){return n.body}getRequestMethod(n){return(n.method||"get").toLowerCase()}createHeaders(n){return new rr(n)}createQueryMap(n){const r=new Map;if(n){const o=new ss({fromString:n});o.keys().forEach(s=>r.set(s,o.getAll(s)||[]))}return r}createResponse$fromResponseOptions$(n){return n.pipe(ie(r=>new ei(r)))}createPassThruBackend(){try{return new TS(this.xhrFactory)}catch(n){throw n.message="Cannot create passThru404 backend; "+(n.message||""),n}}static{this.\u0275fac=function(r){return new(r||e)(j(RS),j(Gm,8),j(ym))}}static{this.\u0275prov=L({token:e,factory:e.\u0275fac})}}return e})();function Yre(e,t,n){return new Kre(e,t,n)}let Qre=(()=>{class e{static forRoot(n,r){return{ngModule:e,providers:[{provide:RS,useClass:n},{provide:Gm,useValue:r},{provide:Rf,useFactory:Yre,deps:[RS,Gm,ym]}]}}static forFeature(n,r){return e.forRoot(n,r)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=io({type:e})}static{this.\u0275inj=Vr({})}}return e})(),Jre=(()=>{class e{createDb(){const n={id:"metal",label:"Metal",bpm:180,tracks:[{name:"Snare",fileName:"metal/snare.mp3",steps:"____X_______X___".split("").map(w=>"X"===w)},{name:"Hats",fileName:"metal/crash.mp3",steps:"X___X___X___X___".split("").map(w=>"X"===w)},{name:"Kick",fileName:"metal/kick.mp3",steps:"XXXXXXXXXXXXXXXX".split("").map(w=>"X"===w)}]},r={id:"techno",label:"4 on the floor",bpm:128,tracks:[{name:"Snare",fileName:"techno/snare.wav",steps:"____X_______X___".split("").map(w=>"X"===w)},{name:"Hats",fileName:"techno/hat.wav",steps:"X_X_X_X_X_X_X_X_".split("").map(w=>"X"===w)},{name:"Kick",fileName:"techno/kick.wav",steps:"X   X   X   X   ".split("").map(w=>"X"===w)}]},o={id:"rock-beat",label:"Rock",bpm:145,tracks:[{name:"Snare",fileName:"metal/snare.mp3",steps:"    X       X   ".split("").map(w=>"X"===w)},{name:"Hats",fileName:"metal/hat.mp3",steps:"X   X   X   X   ".split("").map(w=>"X"===w)},{name:"Kick",fileName:"metal/kick.mp3",steps:"X       X       ".split("").map(w=>"X"===w)}]},s={id:"rock-beat-variation",label:"Rock variation",bpm:145,tracks:[{name:"Snare",fileName:"metal/snare.mp3",steps:"    X       X   ".split("").map(w=>"X"===w)},{name:"Crash",fileName:"metal/crash.mp3",steps:"X   X   X   X   ".split("").map(w=>"X"===w)},{name:"Kick",fileName:"metal/kick.mp3",steps:"X       X       ".split("").map(w=>"X"===w)}]},i={id:"psytrance",label:"Psytrance",bpm:135,tracks:[{name:"Closed hats",fileName:"psytrance/closed-hat.wav",steps:"X   X   X   X   ".split("").map(w=>"X"===w)},{name:"Open hats",fileName:"psytrance/open-hat.wav",steps:"  X   X   X   X ".split("").map(w=>"X"===w)},{name:"Snare",fileName:"psytrance/snare.wav",steps:"    X       X   ".split("").map(w=>"X"===w)},{name:"Kick",fileName:"psytrance/kick.wav",steps:"X   X   X   X   ".split("").map(w=>"X"===w)},{name:"Bass",fileName:"psytrance/bass.wav",steps:" XXX XXX XXX XXX".split("").map(w=>"X"===w)}]},a={id:"off-beat-techno-clap",label:"OffBeat clap",bpm:128,tracks:[{name:"Clap",fileName:"gabber/clap.wav",steps:"    X      XX       X      XX   ".split("").map(w=>"X"===w)},{name:"Hats",fileName:"techno/hat.wav",steps:"  X   X   X   X   X   X   X   X ".split("").map(w=>"X"===w)},{name:"Kick",fileName:"techno/kick.wav",steps:"X   X   X   X   X   X   X   X   ".split("").map(w=>"X"===w)}]},c={id:"jersey-club",label:"Jersey club",bpm:140,tracks:[{name:"Bed squeak (low)",fileName:"jersey-club/squeak_low.mp3",steps:"X       X       ".split("").map(w=>"X"===w)},{name:"Bed squeak (high)",fileName:"jersey-club/squeak_high.mp3",steps:"    X       X   ".split("").map(w=>"X"===w)},{name:"Snare",fileName:"jersey-club/snare.mp3",steps:"X   X   X  X  X ".split("").map(w=>"X"===w)},{name:"Kick",fileName:"jersey-club/kick.mp3",steps:"X   X   X  X  X ".split("").map(w=>"X"===w)}]},l={id:"half-time-groove",label:"Half time groove",bpm:145,tracks:[{name:"Snare",fileName:"metal/snare.mp3",steps:"        X       ".split("").map(w=>"X"===w)},{name:"Crash",fileName:"metal/crash.mp3",steps:"X   X   X   X   ".split("").map(w=>"X"===w)},{name:"Kick",fileName:"metal/kick.mp3",steps:"X               ".split("").map(w=>"X"===w)}]},u={id:"garage",label:"Garage",bpm:130,tracks:[{name:"Snare",fileName:"techno/snare.wav",steps:"    X       X   ".split("").map(w=>"X"===w)},{name:"Hats",fileName:"techno/hat.wav",steps:"  X   X   X   X ".split("").map(w=>"X"===w)},{name:"Kick",fileName:"techno/kick.wav",steps:"X           X   ".split("").map(w=>"X"===w)}]},d={id:"gabber",label:"Gabber",bpm:200,tracks:[{name:"Crash Cymbal",fileName:"gabber/crash.wav",steps:"                               X".split("").map(w=>"X"===w)},{name:"Open HiHats",fileName:"gabber/open-hihat.wav",steps:"X X X X X X X X X X X X X X X X ".split("").map(w=>"X"===w)},{name:"Clap",fileName:"gabber/clap.wav",steps:"X   X   X   X   X   X   X   X   ".split("").map(w=>"X"===w)},{name:"Kick",fileName:"gabber/kick.wav",steps:"X   X   X   X   X   X   X   X   ".split("").map(w=>"X"===w)}]},f={id:"ebm",label:"EBM",bpm:120,tracks:[{name:"Clap",fileName:"ebm/clap.wav",steps:[" "," ","X"," ","X"," ","X"," "," "," ","X"," "," "," ","X","X"," "," ","X","X","X","X"," "," "," ","X"," ","X"," "," ","X"," "].map(w=>"X"===w)},{name:"Open High-Hat",fileName:"ebm/open-hihat.wav",steps:[" "," ","X"," "," "," ","X"," "," "," ","X"," "," "," ","X"," "," "," ","X"," "," "," ","X"," "," "," ","X"," "," "," ","X"," "].map(w=>"X"===w)},{name:"Closed High-Hat",fileName:"ebm/closed-hihat.wav",steps:["X","X"," "," ","X","X"," "," ","X","X"," "," ","X","X"," "," ","X","X"," "," ","X","X"," "," ","X","X"," "," ","X","X"," "," "].map(w=>"X"===w)},{name:"Snare",fileName:"ebm/snare.wav",steps:"    X       X       X       X XX".split("").map(w=>"X"===w)},{name:"Kick",fileName:"ebm/kick.wav",steps:"X   X   X   X   X   X   X   X   ".split("").map(w=>"X"===w)}]},p={id:"dub",label:"Dub",bpm:140,tracks:[{name:"Kick",fileName:"dub/kick.wav",steps:"X_______X_______X_______X_______X_______X_______X_______X_______".split("").map(w=>"X"===w)},{name:"Sub Bass",fileName:"dub/sub.wav",steps:["X"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","X"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","X"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","X"," "," "," "," "," "," "," ","X"," "," "," "," "," "," "," "].map(w=>"X"===w)},{name:"Skank",fileName:"dub/skank.wav",steps:"____X_______X_______X_______X_______X_______X_______X_______X___".split("").map(w=>"X"===w)},{name:"Snare",fileName:"dub/snare.wav",steps:[" "," "," "," "," "," "," "," ","X"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","X"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","X"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","X"," ","X"," "," "," "," "," "].map(w=>"X"===w)},{name:"Arpeggio",fileName:"dub/arpeggio_si.wav",steps:"____X_______X_______X_______X_______X_______X_______X_______X___".split("").map(w=>"X"===w)},{name:"Closed Hat",fileName:"dub/closed-hat.wav",steps:[" "," "," "," ","X"," ","X"," "," "," "," "," ","X"," "," "," "," "," "," "," ","X","X","X"," "," "," "," "," ","X"," "," "," "," "," "," "," ","X"," ","X"," "," "," "," "," ","X","X"," "," "," "," "," "," ","X"," ","X"," "," "," "," "," ","X"," ","X","X"].map(w=>"X"===w)},{name:"Bass",fileName:"dub/bass.wav",steps:"X                                         X                     ".split("").map(w=>"X"===w)}]},g={id:"blast-beat",label:"Blast beat",bpm:180,tracks:[{name:"Snare",fileName:"metal/snare.mp3",steps:"_X_X_X_X_X_X_X_X".split("").map(w=>"X"===w)},{name:"Hats",fileName:"metal/hat.mp3",steps:"X_X_X_X_X_X_X_X_".split("").map(w=>"X"===w)},{name:"Kick",fileName:"metal/kick.mp3",steps:"X_X_X_X_X_X_X_X_".split("").map(w=>"X"===w)}]},m={id:"breakcore",label:"Breakcore",bpm:180,tracks:[{name:"Snare (accent)",fileName:"techno/snare.wav",steps:"    X        X  ".split("").map(w=>"X"===w)},{name:"Snare (main)",fileName:"drum-n-bass/snare.wav",steps:"    X  X X   X  ".split("").map(w=>"X"===w)},{name:"Hats",fileName:"techno/hat.wav",steps:"XXXXXXXXXXXXXXXX".split("").map(w=>"X"===w)},{name:"Kick",fileName:"techno/kick.wav",steps:"X X       XX    ".split("").map(w=>"X"===w)}]},y={id:"drum-n-bass",label:"Drum & bass",bpm:170,tracks:[{name:"Snare",fileName:"drum-n-bass/snare.wav",steps:"    X       X   ".split("").map(w=>"X"===w)},{name:"Hats",fileName:"drum-n-bass/hat.wav",steps:"XXXXXXXXXXXXXXXX".split("").map(w=>"X"===w)},{name:"Kick",fileName:"drum-n-bass/kick.wav",steps:"X         X     ".split("").map(w=>"X"===w)}]},b={id:"dancehall-standard",label:"Standard dancehall",bpm:105,tracks:[{name:"Hats",fileName:"techno/hat.wav",steps:"XXXXXXXXXXXXXXXX".split("").map(w=>"X"===w)},{name:"Snare",fileName:"techno/snare.wav",steps:"      X       X ".split("").map(w=>"X"===w)},{name:"Kick",fileName:"techno/kick.wav",steps:"X  X  X X  X  X ".split("").map(w=>"X"===w)}]},C={id:"dancehall-reggaeton",label:"Reggaeton",bpm:105,tracks:[{name:"Hats",fileName:"techno/hat.wav",steps:"XXXXXXXXXXXXXXXX".split("").map(w=>"X"===w)},{name:"Snare",fileName:"techno/snare.wav",steps:"   X  X    X  X ".split("").map(w=>"X"===w)},{name:"Kick",fileName:"techno/kick.wav",steps:"X   X   X   X   ".split("").map(w=>"X"===w)}]},k={id:"dancehall-modern",label:"Modern dancehall",bpm:105,tracks:[{name:"Hats",fileName:"techno/hat.wav",steps:"XXXXXXXXXXXXXXXX".split("").map(w=>"X"===w)},{name:"Rim",fileName:"techno/snare.wav",steps:"   X  X     X   ".split("").map(w=>"X"===w)},{name:"Kick",fileName:"techno/kick.wav",steps:"X         X     ".split("").map(w=>"X"===w)}]};return{genres:[{label:"Techno",beats:[r,d,a]},{label:"Garage",beats:[u,y]},{label:"Breakbeat",beats:[c,m]},{label:"Dancehall",beats:[C,b,k]},{label:"Trance",beats:[i]},{label:"Dub",beats:[p]},{label:"Indus",beats:[f]},{label:"Metal",beats:[n,l,o,s,g]},{label:"Punk",beats:[{id:"punk-beat-quarter-note-groove",label:"Quarter note groove",bpm:170,tracks:[{name:"Hats",fileName:"metal/hat.mp3",steps:"X___X___X___X___".split("").map(w=>"X"===w)},{name:"Snare",fileName:"metal/snare.mp3",steps:"____X_______X___".split("").map(w=>"X"===w)},{name:"Kick",fileName:"metal/kick.mp3",steps:"X_______X_______".split("").map(w=>"X"===w)}]},{id:"punk-beat-quarter-note-groove-variation",label:"Quarter note groove variation",bpm:170,tracks:[{name:"Hats",fileName:"metal/hat.mp3",steps:"X___X___X___X___".split("").map(w=>"X"===w)},{name:"Snare",fileName:"metal/snare.mp3",steps:"____X_______X___".split("").map(w=>"X"===w)},{name:"Kick",fileName:"metal/kick.mp3",steps:"X_X_____X_X_____".split("").map(w=>"X"===w)}]},{id:"punk-beat-eight-note-fill",label:"Eight note fill",bpm:170,tracks:[{name:"Hats",fileName:"metal/hat.mp3",steps:"X_X_X_X_X_X_X_X_".split("").map(w=>"X"===w)},{name:"Snare",fileName:"metal/snare.mp3",steps:"____X_______X___".split("").map(w=>"X"===w)},{name:"Kick",fileName:"metal/kick.mp3",steps:"X_X___X_X_X_____".split("").map(w=>"X"===w)}]}]}],beats:[k,b,C,y,m,g,p,f,n,r,o,s,i,a,c,l,u,d]}}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const Zre={sixteen:16,thirty_two:32,sixty_four:64};class eoe{getAudioBuffer(t){return Bo(function*(){const n=new Request(`assets/sounds/${t}`),o=yield(yield fetch(n)).arrayBuffer();return yield(new AudioContext).decodeAudioData(o).then(s=>s)})()}}let toe=(()=>{class e{getRenderedBuffer(n,r,o,s){var i=this;return Bo(function*(){const a=i.getTickLength(o),c=new OfflineAudioContext(1,2*s*a*44100,44100);return n.forEach(l=>{i.getDuplicatedTrackSteps(l).forEach((d,f)=>{if(!d)return;const p=r.find(y=>y.fileName===l.fileName).sample,g=c.createBufferSource();g.buffer=p,g.connect(c.destination),g.start(f*a)})}),c.oncomplete=l=>l.renderedBuffer,yield c.startRendering()})()}getDuplicatedTrackSteps(n){const r=[...n.steps];return r.push(...n.steps),r}getTickLength(n){return 60/n/4}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Xm=(()=>{class e{static{this.maxBpm=300}static{this.minBpm=30}constructor(n,r){this.soundGeneratorService=n,this.loader=r,this.bpm=120,this.isPlaying=!1,this.index=0,this.samples=[],this.tracks=[],this.stepNumber=16,this.audioFilesService=new eoe,this.loopBuffer=null,this.context=new AudioContext,this.playbackSource=new AudioBufferSourceNode(this.context)}playPause(){var n=this;return Bo(function*(){n.isPlaying=!n.isPlaying,n.isPlaying?(n.loopBuffer||(n.loopBuffer=yield n.soundGeneratorService.getRenderedBuffer(n.tracks,n.samples,n.bpm,n.stepNumber)),n.play()):n.pause()})()}pause(){this.playbackSource.stop(this.context.currentTime),this.reset()}playSound(n){const r=this.context.createBufferSource();r.buffer=n,r.connect(this.context.destination),r.loop=!0,r.loopStart=r.buffer.duration/2,r.loopEnd=r.buffer.duration;const o=this.context.currentTime;r.start();const s=()=>{this.index=Math.trunc(1e3*(this.context.currentTime-o)/this.getMillisStepFromBpm()%this.stepNumber),this.isPlaying&&requestAnimationFrame(s)};s(),this.playbackSource.buffer&&this.playbackSource.stop(this.context.currentTime),this.playbackSource=r}getMillisStepFromBpm(){let r=6e4/this.bpm/4;return r=Math.min(r,1e3),r=Math.max(r,10),r}reset(){this.isPlaying=!1,this.index=0}resetLoopBuffer(){this.loopBuffer=null}setBpm(n){this.bpm=n}setTracks(n){this.tracks=n;const r=n.map(o=>o.fileName);this.loadTracks(r)}loadTracks(n){this.loader.start(),n.forEach(o=>this.samples.push({fileName:o}));const r=this.samples.map(o=>this.audioFilesService.getAudioBuffer(o.fileName).then(s=>o.sample=s));Promise.all(r).then(()=>this.loader.complete()).catch(()=>this.loader.complete())}setStepNumber(n){this.stepNumber=n}generateLoopBuffer(){var n=this;return Bo(function*(){n.loopBuffer=yield n.soundGeneratorService.getRenderedBuffer(n.tracks,n.samples,n.bpm,n.stepNumber)})()}play(){this.loopBuffer&&this.playSound(this.loopBuffer)}static{this.\u0275fac=function(r){return new(r||e)(j(toe),j(wS))}}static{this.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),noe=(()=>{class e{constructor(){this.maxBpm=Xm.maxBpm,this.minBpm=Xm.minBpm,this.bpm=Xm.minBpm,this.bpmChange=new ct}incrementBpm(){this.updateBpm(Math.min(this.bpm+1,this.maxBpm))}decrementBpm(){this.updateBpm(Math.max(this.bpm-1,this.minBpm))}updateNumber(n){let o=Number(n.target.value);o=Math.min(o,this.maxBpm),o=Math.max(o,this.minBpm),this.updateBpm(o)}updateBpm(n){this.bpm=n,this.bpmChange.emit(this.bpm)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=Ho({type:e,selectors:[["app-bpm-input"]],inputs:{bpm:"bpm"},outputs:{bpmChange:"bpmChange"},standalone:!0,features:[Qi],decls:4,vars:1,consts:[[1,"number-control"],[1,"number-left",3,"click"],["type","number","name","number",1,"number-quantity",3,"change","value"],[1,"number-right",3,"click"]],template:function(r,o){1&r&&(be(0,"div",0)(1,"div",1),lt("click",function(){return o.decrementBpm()}),me(),be(2,"input",2),lt("change",function(i){return o.updateNumber(i)}),me(),be(3,"div",3),lt("click",function(){return o.incrementBpm()}),me()()),2&r&&(Te(2),Be("value",o.bpm))},styles:['.number-control[_ngcontent-%COMP%]{display:flex;align-items:center}.number-control[_ngcontent-%COMP%]   .number-left[_ngcontent-%COMP%]:before, .number-control[_ngcontent-%COMP%]   .number-right[_ngcontent-%COMP%]:after{content:attr(data-content);background-color:var(--backgroundColor);display:flex;align-items:center;justify-content:center;border:1px solid var(--borderColor);width:20px;color:var(--textColor);cursor:pointer}.number-control[_ngcontent-%COMP%]   .number-left[_ngcontent-%COMP%]:before{content:"-"}.number-control[_ngcontent-%COMP%]   .number-right[_ngcontent-%COMP%]:after{content:"+"}.number-control[_ngcontent-%COMP%]   .number-quantity[_ngcontent-%COMP%]{padding:.25rem;width:50px;height:12px;-moz-appearance:textfield;border:0;border-top:1px solid var(--borderColor);border-bottom:1px solid var(--borderColor);background-color:var(--backgroundColor);color:var(--textColor)}']})}}return e})(),VL=(()=>{class e{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static{this.\u0275fac=function(r){return new(r||e)(R(Jo),R(Jn))}}static{this.\u0275dir=ee({type:e})}}return e})(),ca=(()=>{class e extends VL{static{this.\u0275fac=(()=>{let n;return function(o){return(n||(n=Bt(e)))(o||e)}})()}static{this.\u0275dir=ee({type:e,features:[Pe]})}}return e})();const Mo=new P(""),soe={provide:Mo,useExisting:Ke(()=>AS),multi:!0},aoe=new P("");let AS=(()=>{class e extends VL{constructor(n,r,o){super(n,r),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function ioe(){const e=Ks()?Ks().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static{this.\u0275fac=function(r){return new(r||e)(R(Jo),R(Jn),R(aoe,8))}}static{this.\u0275dir=ee({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,o){1&r&&lt("input",function(i){return o._handleInput(i.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(i){return o._compositionEnd(i.target.value)})},features:[ut([soe]),Pe]})}}return e})();const yn=new P(""),ri=new P("");function KL(e){return null!=e}function YL(e){return Zd(e)?Qt(e):e}function QL(e){let t={};return e.forEach(n=>{t=null!=n?{...t,...n}:t}),0===Object.keys(t).length?null:t}function JL(e,t){return t.map(n=>n(e))}function ZL(e){return e.map(t=>function loe(e){return!e.validate}(t)?t:n=>t.validate(n))}function kS(e){return null!=e?function e2(e){if(!e)return null;const t=e.filter(KL);return 0==t.length?null:function(n){return QL(JL(n,t))}}(ZL(e)):null}function NS(e){return null!=e?function t2(e){if(!e)return null;const t=e.filter(KL);return 0==t.length?null:function(n){return function roe(...e){const t=o1(e),{args:n,keys:r}=VP(e),o=new Xe(s=>{const{length:i}=n;if(!i)return void s.complete();const a=new Array(i);let c=i,l=i;for(let u=0;u<i;u++){let d=!1;Qr(n[u]).subscribe(Tt(s,f=>{d||(d=!0,l--),a[u]=f},()=>c--,void 0,()=>{(!c||!d)&&(l||s.next(r?s1(r,a):a),s.complete())}))}});return t?o.pipe(n1(t)):o}(JL(n,t).map(YL)).pipe(ie(QL))}}(ZL(e)):null}function n2(e,t){return null===e?[t]:Array.isArray(e)?[...e,t]:[e,t]}function xS(e){return e?Array.isArray(e)?e:[e]:[]}function Ym(e,t){return Array.isArray(e)?e.includes(t):e===t}function s2(e,t){const n=xS(t);return xS(e).forEach(o=>{Ym(n,o)||n.push(o)}),n}function i2(e,t){return xS(t).filter(n=>!Ym(e,n))}class a2{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=kS(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=NS(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,n){return!!this.control&&this.control.hasError(t,n)}getError(t,n){return this.control?this.control.getError(t,n):null}}class An extends a2{get formDirective(){return null}get path(){return null}}class oi extends a2{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class c2{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let l2=(()=>{class e extends c2{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||e)(R(oi,2))}}static{this.\u0275dir=ee({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,o){2&r&&Zc("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[Pe]})}}return e})();const xf="VALID",Jm="INVALID",bl="PENDING",Ff="DISABLED";function Zm(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class jS{constructor(t,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===xf}get invalid(){return this.status===Jm}get pending(){return this.status==bl}get disabled(){return this.status===Ff}get enabled(){return this.status!==Ff}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(s2(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(s2(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(i2(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(i2(t,this._rawAsyncValidators))}hasValidator(t){return Ym(this._rawValidators,t)}hasAsyncValidator(t){return Ym(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=bl,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const n=this._parentMarkedDirty(t.onlySelf);this.status=Ff,this.errors=null,this._forEachChild(r=>{r.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){const n=this._parentMarkedDirty(t.onlySelf);this.status=xf,this._forEachChild(r=>{r.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===xf||this.status===bl)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ff:xf}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=bl,this._hasOwnPendingAsyncValidator=!0;const n=YL(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(!1!==n.emitEvent)}get(t){let n=t;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,o)=>r&&r._find(o),this)}getError(t,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new ct,this.statusChanges=new ct}_calculateStatus(){return this._allControlsDisabled()?Ff:this.errors?Jm:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(bl)?bl:this._anyControlsHaveStatus(Jm)?Jm:xf}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Zm(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function poe(e){return Array.isArray(e)?kS(e):e||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function goe(e){return Array.isArray(e)?NS(e):e||null}(this._rawAsyncValidators)}}const El=new P("CallSetDisabledState",{providedIn:"root",factory:()=>e_}),e_="always";function Pf(e,t,n=e_){(function US(e,t){const n=function r2(e){return e._rawValidators}(e);null!==t.validator?e.setValidators(n2(n,t.validator)):"function"==typeof n&&e.setValidators([n]);const r=function o2(e){return e._rawAsyncValidators}(e);null!==t.asyncValidator?e.setAsyncValidators(n2(r,t.asyncValidator)):"function"==typeof r&&e.setAsyncValidators([r]);const o=()=>e.updateValueAndValidity();r_(t._rawValidators,o),r_(t._rawAsyncValidators,o)})(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||"always"===n)&&t.valueAccessor.setDisabledState?.(e.disabled),function yoe(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&h2(e,t)})}(e,t),function boe(e,t){const n=(r,o)=>{t.valueAccessor.writeValue(r),o&&t.viewToModelUpdate(r)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}(e,t),function voe(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&h2(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),function _oe(e,t){if(t.valueAccessor.setDisabledState){const n=r=>{t.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}(e,t)}function r_(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function h2(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function m2(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}function _2(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}Promise.resolve();const y2=class extends jS{constructor(t=null,n,r){super(function LS(e){return(Zm(e)?e.validators:e)||null}(n),function VS(e,t){return(Zm(t)?t.asyncValidators:e)||null}(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Zm(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=_2(t)?t.value:t)}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){m2(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){m2(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){_2(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},Toe={provide:oi,useExisting:Ke(()=>WS)},E2=Promise.resolve();let WS=(()=>{class e extends oi{constructor(n,r,o,s,i,a){super(),this._changeDetectorRef=i,this.callSetDisabledState=a,this.control=new y2,this._registered=!1,this.name="",this.update=new ct,this._parent=n,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=function qS(e,t){if(!t)return null;let n,r,o;return Array.isArray(t),t.forEach(s=>{s.constructor===AS?n=s:function woe(e){return Object.getPrototypeOf(e.constructor)===ca}(s)?r=s:o=s}),o||r||n||null}(0,s)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){const r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),function HS(e,t){if(!e.hasOwnProperty("model"))return!1;const n=e.model;return!!n.isFirstChange()||!Object.is(t,n.currentValue)}(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Pf(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){E2.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){const r=n.isDisabled.currentValue,o=0!==r&&function sl(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}(r);E2.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?function t_(e,t){return[...t.path,e]}(n,this._parent):[n]}static{this.\u0275fac=function(r){return new(r||e)(R(An,9),R(yn,10),R(ri,10),R(Mo,10),R(ef,8),R(El,8))}}static{this.\u0275dir=ee({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[st.None,"disabled","isDisabled"],model:[st.None,"ngModel","model"],options:[st.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[ut([Toe]),Pe,mr]})}}return e})();const joe={provide:Mo,useExisting:Ke(()=>s_),multi:!0};function O2(e,t){return null==e?`${t}`:(t&&"object"==typeof t&&(t="Object"),`${e}: ${t}`.slice(0,50))}let s_=(()=>{class e extends ca{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;const o=O2(this._getOptionId(n),n);this.setProperty("value",o)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){const r=function Boe(e){return e.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static{this.\u0275fac=(()=>{let n;return function(o){return(n||(n=Bt(e)))(o||e)}})()}static{this.\u0275dir=ee({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,o){1&r&&lt("change",function(i){return o.onChange(i.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[ut([joe]),Pe]})}}return e})(),R2=(()=>{class e{constructor(n,r,o){this._element=n,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(n){null!=this._select&&(this._select._optionMap.set(this.id,n),this._setElementValue(O2(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||e)(R(Jn),R(Jo),R(s_,9))}}static{this.\u0275dir=ee({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return e})();const Uoe={provide:Mo,useExisting:Ke(()=>YS),multi:!0};function A2(e,t){return null==e?`${t}`:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${e}: ${t}`.slice(0,50))}let YS=(()=>{class e extends ca{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){let r;if(this.value=n,Array.isArray(n)){const o=n.map(s=>this._getOptionId(s));r=(s,i)=>{s._setSelected(o.indexOf(i.toString())>-1)}}else r=(o,s)=>{o._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{const o=[],s=r.selectedOptions;if(void 0!==s){const i=s;for(let a=0;a<i.length;a++){const l=this._getOptionValue(i[a].value);o.push(l)}}else{const i=r.options;for(let a=0;a<i.length;a++){const c=i[a];if(c.selected){const l=this._getOptionValue(c.value);o.push(l)}}}this.value=o,n(o)}}_registerOption(n){const r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){const r=function $oe(e){return e.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static{this.\u0275fac=(()=>{let n;return function(o){return(n||(n=Bt(e)))(o||e)}})()}static{this.\u0275dir=ee({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,o){1&r&&lt("change",function(i){return o.onChange(i.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[ut([Uoe]),Pe]})}}return e})(),k2=(()=>{class e{constructor(n,r,o){this._element=n,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){null!=this._select&&(this._value=n,this._setElementValue(A2(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(A2(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||e)(R(Jn),R(Jo),R(YS,9))}}static{this.\u0275dir=ee({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return e})(),Qoe=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=io({type:e})}static{this.\u0275inj=Vr({})}}return e})(),$2=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:El,useValue:n.callSetDisabledState??e_}]}}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=io({type:e})}static{this.\u0275inj=Vr({imports:[Qoe]})}}return e})();function Zoe(e,t){if(1&e&&(be(0,"option",3),mn(1),me()),2&e){const n=t.$implicit;Be("value",n),Te(),Gd(n)}}let ese=(()=>{class e{constructor(){this.elements=[],this.selectedElement="",this.placeHolder="",this.selectChange=new ct}onSelectChange(){this.selectChange.emit(this.selectedElement)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=Ho({type:e,selectors:[["app-select-input"]],inputs:{elements:"elements",selectedElement:"selectedElement",placeHolder:"placeHolder"},outputs:{selectChange:"selectChange"},standalone:!0,features:[Qi],decls:4,vars:3,consts:[[3,"ngModelChange","change","ngModel"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(r,o){1&r&&(be(0,"select",0),VC("ngModelChange",function(i){return function wx(e,t){const n=ZA(e);return n&&e.set(t),n}(o.selectedElement,i)||(o.selectedElement=i),i}),lt("change",function(){return o.onSelectChange()}),be(1,"option",1),mn(2),me(),Yt(3,Zoe,2,2,"option",2),me()),2&r&&(LC("ngModel",o.selectedElement),Te(2),Gd(o.placeHolder),Te(),Be("ngForOf",o.elements))},dependencies:[$2,R2,k2,s_,l2,WS,mm],styles:["select[_ngcontent-%COMP%]{border-color:var(--borderColor);background-color:var(--backgroundColor);color:var(--textColor)}"]})}}return e})();function tse(e,t){if(1&e&&(be(0,"h3",14),mn(1),me()),2&e){const n=t.$implicit;Te(),Gd(n.name)}}function nse(e,t){if(1&e&&Mn(0,"div",17),2&e){const n=t.$implicit,r=t.index,o=$t(2);Zc("active",n)("current",r===o.soundService.index)("highlight",o.Math.floor(r/4)%2==0)}}function rse(e,t){if(1&e&&(be(0,"article")(1,"div",15),Yt(2,nse,1,6,"div",16),me()()),2&e){const n=t.$implicit,r=$t();Te(),Zc("sixteen-steps",n.steps.length==r.StepLengths.sixteen)("thirty-two-steps",n.steps.length==r.StepLengths.thirty_two)("sixty-four-steps",n.steps.length==r.StepLengths.sixty_four),Te(),Be("ngForOf",n.steps)}}let ose=(()=>{class e{constructor(n,r,o){this._genresManager=n,this.soundService=r,this.route=o,this.beat={},this.genre={},this.genresLabel=[],this.selectedGenreLabel="",this.beats=[],this.selectedBeatLabel="",this.genres=[],this.StepLengths=Zre,this.Math=Math,this.beatBehaviourSubject=new Kt}ngOnInit(){this._genresManager.getGenres().then(n=>{this.genres=n,this.genresLabel=n.map(r=>r.label),this.route.queryParamMap.subscribe(r=>{this.selectGenre(n,r.get("genre"),r.get("beat"))})}).catch(n=>{console.log(n)}),this.beatBehaviourSubject.subscribe(n=>{this.soundService.isPlaying&&this.soundService.pause(),this.soundService.reset(),this.soundService.resetLoopBuffer(),this.soundService.setBpm(n.bpm),this.soundService.setTracks(n.tracks),this.soundService.setStepNumber(n.tracks[0].steps.length)})}toggleIsPlaying(){this.soundService.playPause().then(()=>{},()=>{})}handleKeyboardEvent(n){"Space"==n.code&&this.toggleIsPlaying()}selectGenre(n,r,o){const s=r?n.find(a=>a.label===r):n[0];if(!s)return;this.genre=s,this.selectedGenreLabel=s.label,this.beats=s.beats.map(a=>a.label);const i=o?s.beats.find(a=>a.id===o):s.beats[0];this.selectBeat(i)}selectBeat(n){null!=n&&(this.beat=n,this.beatBehaviourSubject.next(this.beat),this.selectedBeatLabel=this.beat.label)}changeBeatBpm(n){const r=this.soundService.isPlaying;this.soundService.setBpm(n),this.soundService.generateLoopBuffer().then(()=>{r&&this.soundService.play()},()=>{})}genreChange(n){this.selectGenre(this.genres,n,null)}beatChange(n){const r=this.genres.find(o=>o.label===this.selectedGenreLabel)?.beats.find(o=>o.label===n);this.selectBeat(r)}static{this.\u0275fac=function(r){return new(r||e)(R(qw),R(Xm),R(ia))}}static{this.\u0275cmp=Ho({type:e,selectors:[["sequencer"]],hostBindings:function(r,o){1&r&&lt("keydown",function(i){return o.handleKeyboardEvent(i)},0,OR)},standalone:!0,features:[Qi],decls:23,vars:10,consts:[["id","main-container"],[1,"play-button-container","flex"],[1,"play-pause-button","pointer",3,"click"],[1,"sequencer-header"],[1,"label"],[1,"small"],["placeHolder","Choose genre",3,"selectChange","elements","selectedElement"],[3,"selectChange","elements","selectedElement","placeHolder"],[1,"flex","label",2,"align-items","center","gap","5px","margin-top","2px"],[3,"bpmChange","bpm"],[1,"tracks-name"],["class","track-name",4,"ngFor","ngForOf"],[1,"tracks-container"],[4,"ngFor","ngForOf"],[1,"track-name"],["id","track"],["class","step",3,"active","current","highlight",4,"ngFor","ngForOf"],[1,"step"]],template:function(r,o){1&r&&(be(0,"div",0)(1,"div",1)(2,"button",2),lt("click",function(){return o.toggleIsPlaying()}),mn(3),me()(),be(4,"div",3)(5,"div",4)(6,"span",5),mn(7,"Genre : "),me(),be(8,"app-select-input",6),lt("selectChange",function(i){return o.genreChange(i)}),me()(),be(9,"div",4)(10,"span",5),mn(11,"Beat : "),me(),be(12,"app-select-input",7),lt("selectChange",function(i){return o.beatChange(i)}),me()(),be(13,"div",8)(14,"span",5),mn(15,"Tempo : "),me(),be(16,"app-bpm-input",9),lt("bpmChange",function(i){return o.changeBeatBpm(i)}),me(),be(17,"span",5),mn(18," bpm"),me()()(),be(19,"div",10),Yt(20,tse,2,1,"h3",11),me(),be(21,"section",12),Yt(22,rse,3,7,"article",13),me()()),2&r&&(Te(3),Yi(" ",o.soundService.isPlaying?"\u23f8":"\u25b6"," "),Te(5),Be("elements",o.genresLabel)("selectedElement",o.selectedGenreLabel),Te(4),Hg("placeHolder","Choose ",o.selectedGenreLabel," beat"),Be("elements",o.beats)("selectedElement",o.selectedBeatLabel),Te(4),Be("bpm",o.beat.bpm),Te(4),Be("ngForOf",o.beat.tracks),Te(2),Be("ngForOf",o.beat.tracks))},dependencies:[mm,noe,ese],styles:['html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%;margin:0}[_ngcontent-%COMP%]:root{font-family:Inter,sans-serif;font-feature-settings:"liga" 1,"calt" 1,"ss01" on}@supports (font-variation-settings: normal){[_ngcontent-%COMP%]:root{font-family:InterVariable,sans-serif}}a[_ngcontent-%COMP%]{all:unset}h3[_ngcontent-%COMP%]{margin:0}button[_ngcontent-%COMP%]{font-family:inherit;font-size:100%;line-height:1.15;margin:0;overflow:visible;text-transform:none;-webkit-appearance:button}.flex[_ngcontent-%COMP%]{display:flex}.mt-40[_ngcontent-%COMP%]{margin-top:40px}.mb-40[_ngcontent-%COMP%]{margin-bottom:40px}.mb-10[_ngcontent-%COMP%]{margin-bottom:10px}.ml-10[_ngcontent-%COMP%]{margin-left:10px}body.dark[_ngcontent-%COMP%]{--backgroundColor: #2e2e2e;--textColor: white;--borderColor: white;--menuButtonColor: #CC71FA;--gridHighLightColor: #474747;background-color:var(--backgroundColor);color:var(--textColor)}body.light[_ngcontent-%COMP%]{--backgroundColor: white;--textColor: black;--borderColor: black;--menuButtonColor: #70F1FA;--gridHighLightColor: #e8e8e8;background-color:var(--backgroundColor);color:var(--textColor)}#main-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:max-content auto;gap:10px}.sequencer-grid[_ngcontent-%COMP%]{flex-direction:column}#track[_ngcontent-%COMP%]{display:grid;grid-template-rows:repeat(1,1fr);gap:4px}#track[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]{height:40px;width:40px;background-color:var(--backgroundColor);border-radius:4px;border:1px solid var(--borderColor)}#track[_ngcontent-%COMP%]   .current[_ngcontent-%COMP%]{background:repeating-linear-gradient(-45deg,var(--backgroundColor),var(--backgroundColor) 10px,var(--textColor) 5px,var(--textColor) 15px)}#track[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%], #track[_ngcontent-%COMP%]   .active.highlight[_ngcontent-%COMP%]{background-color:#cc71fa}#track[_ngcontent-%COMP%]   .active.current[_ngcontent-%COMP%], #track[_ngcontent-%COMP%]   .active.highlight.current[_ngcontent-%COMP%]{background:repeating-linear-gradient(-45deg,#CC71FA,#CC71FA 10px,var(--backgroundColor) 5px,var(--backgroundColor) 15px)}#track[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%]{background:var(--gridHighLightColor)}#track[_ngcontent-%COMP%]   .current.highlight[_ngcontent-%COMP%]{background:repeating-linear-gradient(-45deg,var(--gridHighLightColor),var(--gridHighLightColor) 10px,var(--textColor) 5px,var(--textColor) 15px)}.sixteen-steps[_ngcontent-%COMP%]{grid-template-columns:repeat(16,1fr)}.thirty-two-steps[_ngcontent-%COMP%]{grid-template-columns:repeat(32,1fr)}.sixty-four-steps[_ngcontent-%COMP%]{grid-template-columns:repeat(64,1fr)}.tracks-container[_ngcontent-%COMP%]{grid-column-start:2;grid-row-start:2;display:grid;grid-template-columns:auto;gap:4px;overflow-x:auto}.tracks-name[_ngcontent-%COMP%]{margin-top:10px;grid-column-start:1;grid-row-start:2}.tracks-name[_ngcontent-%COMP%]   .track-name[_ngcontent-%COMP%]{white-space:nowrap;height:44px}.sequencer-header[_ngcontent-%COMP%]{grid-column-start:2;grid-row-start:1}.sequencer-header[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{vertical-align:bottom}.sequencer-header[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]   .small[_ngcontent-%COMP%]{font-size:small}.sequencer-header[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]   .large[_ngcontent-%COMP%]{font-size:large;font-weight:700}.sequencer-header[_ngcontent-%COMP%]   div[_ngcontent-%COMP%] + div[_ngcontent-%COMP%]{margin-top:3px}.play-button-container[_ngcontent-%COMP%]{grid-column-start:1;grid-row-start:1;justify-content:center;align-items:center}.play-button-container[_ngcontent-%COMP%]   .play-pause-button[_ngcontent-%COMP%]{height:40px;width:40px;min-width:40px;background-color:var(--backgroundColor);color:var(--textColor);font-size:20px;border:none}']})}}return e})();const h=function(e,t){if("function"==typeof e)return function(){return e(arguments)?t.apply(this,arguments):n=>t(n,...arguments)};switch(e){case 0:case 1:throw new RangeError(`Invalid arity ${e}`);case 2:return function(n,r){return arguments.length>=2?t(n,r):function(o){return t(o,n)}};case 3:return function(n,r,o){return arguments.length>=3?t(n,r,o):function(s){return t(s,n,r)}};case 4:return function(n,r,o,s){return arguments.length>=4?t(n,r,o,s):function(i){return t(i,n,r,o)}};case 5:return function(n,r,o,s,i){return arguments.length>=5?t(n,r,o,s,i):function(a){return t(a,n,r,o,s)}};default:return function(){if(arguments.length>=e)return t.apply(this,arguments);const n=arguments;return function(r){return t(r,...n)}}}},Se=e=>e,i_=e=>()=>e,Vf=i_(!0),is=i_(!1),H2=i_(void 0),a_=H2;function _(e,t,n,r,o,s,i,a,c){switch(arguments.length){case 1:return e;case 2:return t(e);case 3:return n(t(e));case 4:return r(n(t(e)));case 5:return o(r(n(t(e))));case 6:return s(o(r(n(t(e)))));case 7:return i(s(o(r(n(t(e))))));case 8:return a(i(s(o(r(n(t(e)))))));case 9:return c(a(i(s(o(r(n(t(e))))))));default:{let l=arguments[0];for(let u=1;u<arguments.length;u++)l=arguments[u](l);return l}}}const c_=()=>"3.12.0",JS=Symbol.for(`effect/GlobalValue/globalStoreId/${c_()}`);JS in globalThis||(globalThis[JS]=new Map);const ZS=globalThis[JS],_e=(e,t)=>(ZS.has(e)||ZS.set(e,t()),ZS.get(e)),jf=e=>"number"==typeof e,ua=e=>"function"==typeof e,l_=e=>(e=>"object"==typeof e&&null!==e)(e)||ua(e),W=h(2,(e,t)=>l_(e)&&t in e),u_=h(2,(e,t)=>W(e,"_tag")&&e._tag===t),Cl=e=>null==e,Bf=e=>`BUG: ${e} - please report an issue at https://github.com/Effect-TS/effect/issues`;Symbol;class Uf{self;called=!1;constructor(t){this.self=t}next(t){return this.called?{value:t,done:!0}:(this.called=!0,{value:this.self,done:!1})}return(t){return{value:t,done:!0}}throw(t){throw t}[Symbol.iterator](){return new Uf(this.self)}}class pse{_state;constructor(t,n,r,o){return Cl(n)&&Cl(t)?(n=4294967295*Math.random()>>>0,t=0):Cl(n)&&(n=t,t=0),Cl(o)&&Cl(r)?(o=this._state?this._state[3]:4150755663,r=this._state?this._state[2]:335903614):Cl(o)&&(o=r,r=0),this._state=new Int32Array([0,0,r>>>0,(1|(o||0))>>>0]),this._next(),Y2(this._state,this._state[0],this._state[1],t>>>0,n>>>0),this._next(),this}getState(){return[this._state[0],this._state[1],this._state[2],this._state[3]]}setState(t){this._state[0]=t[0],this._state[1]=t[1],this._state[2]=t[2],this._state[3]=1|t[3]}integer(t){return Math.round(this.number()*Number.MAX_SAFE_INTEGER)%t}number(){return(1*(67108863&this._next())*134217728+1*(134217727&this._next()))/9007199254740992}_next(){const t=this._state[0]>>>0,n=this._state[1]>>>0;(function gse(e,t,n,r,o){let s=(n>>>16)*(65535&o)>>>0,i=(65535&n)*(o>>>16)>>>0,a=(65535&n)*(65535&o)>>>0,c=(n>>>16)*(o>>>16)+((i>>>16)+(s>>>16))>>>0;i=i<<16>>>0,a=a+i>>>0,a>>>0<i>>>0&&(c=c+1>>>0),s=s<<16>>>0,a=a+s>>>0,a>>>0<s>>>0&&(c=c+1>>>0),c=c+Math.imul(n,r)>>>0,c=c+Math.imul(t,o)>>>0,e[0]=c,e[1]=a})(this._state,t,n,1481765933,1284865837),Y2(this._state,this._state[0],this._state[1],this._state[2],this._state[3]);let r=t>>>18,o=(n>>>18|t<<14)>>>0;r=(r^t)>>>0,o=(o^n)>>>0;const s=(o>>>27|r<<5)>>>0,i=t>>>27;return(s>>>i|s<<((-i>>>0&31)>>>0))>>>0}}function Y2(e,t,n,r,o){let s=t+r>>>0;const i=n+o>>>0;i>>>0<n>>>0&&(s=s+1|0),e[0]=s,e[1]=i}const nD=Symbol.for("effect/Utils/YieldWrap");class $f{#e;constructor(t){this.#e=t}[nD](){return this.#e}}const Jt=_e("effect/Utils/isStructuralRegion",()=>({enabled:!1,tester:void 0})),Zt=(e=>{const t={[e]:n=>n()};return function(n){return t[e](n)}})("effect_internal_function"),rD=_e(Symbol.for("effect/Hash/randomHashCache"),()=>new WeakMap),Q=Symbol.for("effect/Hash"),B=e=>{if(!0===Jt.enabled)return 0;switch(typeof e){case"number":return oD(e);case"bigint":return dt(e.toString(10));case"boolean":case"symbol":return dt(String(e));case"string":return dt(e);case"undefined":return dt("undefined");case"function":case"object":return null===e?dt("null"):e instanceof Date?B(e.toISOString()):_se(e)?e[Q]():d_(e);default:throw new Error(`BUG: unhandled typeof ${typeof e} - please report an issue at https://github.com/Effect-TS/effect/issues`)}},d_=e=>(rD.has(e)||rD.set(e,oD(Math.floor(Math.random()*Number.MAX_SAFE_INTEGER))),rD.get(e)),se=e=>t=>53*t^e,f_=e=>3221225471&e|e>>>1&1073741824,_se=e=>W(e,Q),oD=e=>{if(e!=e||e===1/0)return 0;let t=0|e;for(t!==e&&(t^=4294967295*e);e>4294967295;)t^=e/=4294967295;return f_(t)},dt=e=>{let t=5381,n=e.length;for(;n;)t=33*t^e.charCodeAt(--n);return f_(t)},J2=e=>((e,t)=>{let n=12289;for(let r=0;r<t.length;r++)n^=_(dt(t[r]),se(B(e[t[r]])));return f_(n)})(e,Object.keys(e)),da=e=>{let t=6151;for(let n=0;n<e.length;n++)t=_(t,se(B(e[n])));return f_(t)},He=function(){if(1===arguments.length){const n=arguments[0];return function(r){return Object.defineProperty(n,Q,{value:()=>r,enumerable:!1}),r}}const t=arguments[1];return Object.defineProperty(arguments[0],Q,{value:()=>t,enumerable:!1}),t},J=Symbol.for("effect/Equal");function U(){return 1===arguments.length?e=>h_(e,arguments[0]):h_(arguments[0],arguments[1])}function h_(e,t){if(e===t)return!0;const n=typeof e;if(n!==typeof t)return!1;if("object"===n||"function"===n){if(null!==e&&null!==t){if(Hf(e)&&Hf(t))return!(B(e)!==B(t)||!e[J](t))||!(!Jt.enabled||!Jt.tester)&&Jt.tester(e,t);if(e instanceof Date&&t instanceof Date)return e.toISOString()===t.toISOString()}if(Jt.enabled){if(Array.isArray(e)&&Array.isArray(t))return e.length===t.length&&e.every((r,o)=>h_(r,t[o]));if(Object.getPrototypeOf(e)===Object.prototype&&Object.getPrototypeOf(e)===Object.prototype){const r=Object.keys(e),o=Object.keys(t);if(r.length===o.length){for(const s of r)if(!(s in t)||!h_(e[s],t[s]))return!!Jt.tester&&Jt.tester(e,t);return!0}}return!!Jt.tester&&Jt.tester(e,t)}}return!(!Jt.enabled||!Jt.tester)&&Jt.tester(e,t)}const Hf=e=>W(e,J),sD=()=>U,qe=Symbol.for("nodejs.util.inspect.custom"),it=e=>{try{if(W(e,"toJSON")&&ua(e.toJSON)&&0===e.toJSON.length)return e.toJSON();if(Array.isArray(e))return e.map(it)}catch{return{}}return bse(e)},mt=e=>JSON.stringify(e,null,2),wl=(e,t=2)=>{if("string"==typeof e)return e;try{return"object"==typeof e?iD(e,t):String(e)}catch{return String(e)}},iD=(e,t)=>{let n=[];const r=JSON.stringify(e,(o,s)=>"object"==typeof s&&null!==s?n.includes(s)?void 0:n.push(s)&&(void 0!==fa.fiberRefs&&Z2(s)?s[aD](fa.fiberRefs):s):s,t);return n=void 0,r},aD=Symbol.for("effect/Inspectable/Redactable"),Z2=e=>"object"==typeof e&&null!==e&&aD in e,fa=_e("effect/Inspectable/redactableState",()=>({fiberRefs:void 0})),bse=e=>Z2(e)&&void 0!==fa.fiberRefs?e[aD](fa.fiberRefs):e,z=(e,t)=>{switch(t.length){case 0:return e;case 1:return t[0](e);case 2:return t[1](t[0](e));case 3:return t[2](t[1](t[0](e)));case 4:return t[3](t[2](t[1](t[0](e))));case 5:return t[4](t[3](t[2](t[1](t[0](e)))));case 6:return t[5](t[4](t[3](t[2](t[1](t[0](e))))));case 7:return t[6](t[5](t[4](t[3](t[2](t[1](t[0](e)))))));case 8:return t[7](t[6](t[5](t[4](t[3](t[2](t[1](t[0](e))))))));case 9:return t[8](t[7](t[6](t[5](t[4](t[3](t[2](t[1](t[0](e)))))))));default:{let n=e;for(let r=0,o=t.length;r<o;r++)n=t[r](n);return n}}},qf="Async",p_="Commit",ze="Failure",g_="OnFailure",m_="OnSuccess",__="OnSuccessAndFailure",We="Success",ha="UpdateRuntimeFlags",y_="While",zf="Iterator",tV="WithRuntime",v_="Yield",cD="RevertFlags",nV=Symbol.for("effect/Effect"),rV=Symbol.for("effect/Stream"),oV=Symbol.for("effect/Sink"),sV=Symbol.for("effect/Channel"),Sl={_R:e=>e,_E:e=>e,_A:e=>e,_V:c_()},Wf={[nV]:Sl,[rV]:Sl,[oV]:{_A:e=>e,_In:e=>e,_L:e=>e,_E:e=>e,_R:e=>e},[sV]:{_Env:e=>e,_InErr:e=>e,_InElem:e=>e,_InDone:e=>e,_OutErr:e=>e,_OutElem:e=>e,_OutDone:e=>e},[J](e){return this===e},[Q](){return He(this,d_(this))},[Symbol.iterator](){return new Uf(new $f(this))},pipe(){return z(this,arguments)}},b_={[Q](){return He(this,J2(this))},[J](e){const t=Object.keys(this),n=Object.keys(e);if(t.length!==n.length)return!1;for(const r of t)if(!(r in e)||!U(this[r],e[r]))return!1;return!0}},cs={...Wf,_op:p_},lD={...cs,...b_},Sse=function(){function e(){}return e.prototype=cs,e}(),iV=Symbol.for("effect/Option"),aV={...Wf,[iV]:{_A:e=>e},[qe](){return this.toJSON()},toString(){return mt(this.toJSON())}},Mse=Object.assign(Object.create(aV),{_tag:"Some",_op:"Some",[J](e){return uD(e)&&cV(e)&&U(this.value,e.value)},[Q](){return He(this,se(B(this._tag))(B(this.value)))},toJSON(){return{_id:"Option",_tag:this._tag,value:it(this.value)}}}),Ise=B("None"),Tse=Object.assign(Object.create(aV),{_tag:"None",_op:"None",[J]:e=>uD(e)&&dD(e),[Q]:()=>Ise,toJSON(){return{_id:"Option",_tag:this._tag}}}),uD=e=>W(e,iV),dD=e=>"None"===e._tag,cV=e=>"Some"===e._tag,E_=Object.create(Tse),Gf=e=>{const t=Object.create(Mse);return t.value=e,t},fD=Symbol.for("effect/Context/Tag"),Xf=Symbol.for("effect/Context/Reference"),hD={...Wf,_op:"Tag",[Symbol.for("effect/STM")]:Sl,[fD]:{_Service:e=>e,_Identifier:e=>e},toString(){return mt(this.toJSON())},toJSON(){return{_id:"Tag",key:this.key,stack:this.stack}},[qe](){return this.toJSON()},of:e=>e,context(e){return uV(this,e)}},Ose={...hD,[Xf]:Xf},pD=Symbol.for("effect/Context"),Nse={[pD]:{_Services:e=>e},[J](e){if(lV(e)&&this.unsafeMap.size===e.unsafeMap.size){for(const t of this.unsafeMap.keys())if(!e.unsafeMap.has(t)||!U(this.unsafeMap.get(t),e.unsafeMap.get(t)))return!1;return!0}return!1},[Q](){return He(this,oD(this.unsafeMap.size))},pipe(){return z(this,arguments)},toString(){return mt(this.toJSON())},toJSON(){return{_id:"Context",services:Array.from(this.unsafeMap).map(it)}},[qe](){return this.toJSON()}},Io=e=>{const t=Object.create(Nse);return t.unsafeMap=e,t},lV=e=>W(e,pD),Pse=Io(new Map),uV=(e,t)=>Io(new Map([[e.key,t]])),Vse=h(3,(e,t,n)=>{const r=new Map(e.unsafeMap);return r.set(t.key,n),Io(r)}),mD=_e("effect/Context/defaultValueCache",()=>new Map),C_=e=>{if(mD.has(e.key))return mD.get(e.key);const t=e.defaultValue();return mD.set(e.key,t),t},dV=h(2,(e,t)=>{if(!e.unsafeMap.has(t.key)){if(Xf in t)return C_(t);throw(e=>{const t=new Error("Service not found"+(e.key?`: ${String(e.key)}`:""));if(e.stack){const n=e.stack.split("\n");if(n.length>2){const r=n[2].match(/at (.*)/);r&&(t.message=t.message+` (defined at ${r[1]})`)}}if(t.stack){const n=t.stack.split("\n");n.splice(1,3),t.stack=n.join("\n")}return t})(t)}return e.unsafeMap.get(t.key)}),pa=e=>{const t=Error.stackTraceLimit;Error.stackTraceLimit=2;const n=new Error;Error.stackTraceLimit=t;const r=Object.create(hD);return Object.defineProperty(r,"stack",{get:()=>n.stack}),r.key=e,r},ga=()=>Pse,qt=Vse,To=dV,w_=dV,si=h(2,(e,t)=>e.unsafeMap.has(t.key)?Gf(e.unsafeMap.get(t.key)):(e=>W(e,Xf))(t)?Gf(C_(t)):E_),Kf=h(2,(e,t)=>{const n=new Map(e.unsafeMap);for(const[r,o]of t.unsafeMap)n.set(r,o);return Io(n)}),S_=()=>(e,t)=>{const n=Error.stackTraceLimit;Error.stackTraceLimit=2;const r=new Error;function o(){}return Error.stackTraceLimit=n,Object.setPrototypeOf(o,Ose),o.key=e,o.defaultValue=t.defaultValue,Object.defineProperty(o,"stack",{get:()=>r.stack}),o},_D=Symbol.for("effect/Either"),fV={...Wf,[_D]:{_R:e=>e},[qe](){return this.toJSON()},toString(){return mt(this.toJSON())}},Kse=Object.assign(Object.create(fV),{_tag:"Right",_op:"Right",[J](e){return yD(e)&&bD(e)&&U(this.right,e.right)},[Q](){return se(B(this._tag))(B(this.right))},toJSON(){return{_id:"Either",_tag:this._tag,right:it(this.right)}}}),Yse=Object.assign(Object.create(fV),{_tag:"Left",_op:"Left",[J](e){return yD(e)&&vD(e)&&U(this.left,e.left)},[Q](){return se(B(this._tag))(B(this.left))},toJSON(){return{_id:"Either",_tag:this._tag,left:it(this.left)}}}),yD=e=>W(e,_D),vD=e=>"Left"===e._tag,bD=e=>"Right"===e._tag,Dt=e=>{const t=Object.create(Kse);return t.right=e,t},or=e=>{const t=Object.create(Yse);return t.left=e,t},sr=vD,Yf=bD,_V=h(2,(e,{onLeft:t,onRight:n})=>sr(e)?t(e.left):n(e.right))({onLeft:Se,onRight:Se}),Dl=e=>(t,n)=>t===n||e(t,n),sie=h(2,(e,t)=>Dl((n,r)=>e(t(n),t(r)))),bV=e=>e.length>0,I=()=>E_,A=Gf,Ce=dD,de=cV,ir=h(2,(e,{onNone:t,onSome:n})=>Ce(e)?t():n(e.value)),ar=h(2,(e,t)=>Ce(e)?t():e.value),cie=h(2,(e,t)=>Ce(e)?A(t()):e),Ml=e=>null==e?I():A(e),cr=ar(H2),EV=h(2,(e,t)=>{if(de(e))return e.value;throw t()})(()=>new Error("getOrThrow called on a None")),Il=h(2,(e,t)=>Ce(e)?I():A(t(e.value))),ED=h(2,(e,t)=>Ce(e)?I():t(e.value)),die=(e=>h(2,(t,n)=>!Ce(t)&&e(t.value,n)))(sD()),ii=(Symbol,e=>(t,n)=>t===n?0:e(t,n)),SV=ii((e,t)=>e<t?-1:1),DV=h(2,(e,t)=>ii((n,r)=>e(t(n),t(r)))),IV=e=>h(2,(t,n)=>1===e(t,n)),Tie=(...e)=>e,CD=e=>new Array(e),ce=e=>Array.isArray(e)?e:Array.from(e),D_=h(2,(e,t)=>[t,...e]),Rie=h(2,(e,t)=>[...e,t]),kV=h(2,(e,t)=>ce(e).concat(ce(t))),kie=bV,an=bV,NV=(e,t)=>e<0||e>=t.length,xie=h(2,(e,t)=>{const n=Math.floor(t);return NV(n,e)?I():A(e[n])}),xV=h(2,(e,t)=>{const n=Math.floor(t);if(NV(n,e))throw new Error(`Index ${n} out of bounds`);return e[n]}),Qf=xie(0),Hn=xV(0),wD=e=>e[e.length-1],ai=e=>e.slice(1),Lie=h(2,(e,t)=>zie(e,((e,t)=>{let n=0;for(const r of e){if(!t(r,n))break;n++}return n})(e,t))),Vie=h(2,(e,t)=>{const n=ce(e);return n.slice(((e,t)=>Math.floor(Math.min(Math.max(0,e),t.length)))(t,n),n.length)}),PV=e=>Array.from(e).reverse(),Jf=h(2,(e,t)=>{const n=Array.from(e);return n.sort(t),n}),LV=h(2,(e,t)=>Hie(e,t,Tie)),Hie=h(3,(e,t,n)=>{const r=ce(e),o=ce(t);if(an(r)&&an(o)){const s=[n(Hn(r),Hn(o))],i=Math.min(r.length,o.length);for(let a=1;a<i;a++)s[a]=n(r[a],o[a]);return s}return[]}),VV=sD(),zie=h(2,(e,t)=>{const n=Array.from(e),r=Math.floor(t);return an(n)?r>=1?Wie(n,r):[[],n]:[n,[]]}),Wie=h(2,(e,t)=>{const n=Math.max(1,Math.floor(t));return n>=e.length?[Gie(e),[]]:[D_(e.slice(1,n),Hn(e)),e.slice(n)]}),Gie=e=>e.slice(),Xie=h(3,(e,t,n)=>{const r=ce(e),o=ce(t);return an(r)?an(o)?$V(n)(kV(r,o)):r:o}),Ol=h(2,(e,t)=>Xie(e,t,VV)),wr=e=>[e],Rl=h(2,(e,t)=>e.map(t)),jV=h(2,(e,t)=>{if((e=>0===e.length)(e))return[];const n=[];for(let r=0;r<e.length;r++){const o=t(e[r],r);for(let s=0;s<o.length;s++)n.push(o[s])}return n})(Se),ma=h(3,(e,t,n)=>ce(e).reduce((r,o,s)=>n(r,o,s),t)),UV=(e,t)=>{const n=[];let o,r=e;for(;de(o=t(r));){const[s,i]=o.value;n.push(s),r=i}return n},DD=e=>Dl((t,n)=>{if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(!e(t[r],n[r]))return!1;return!0}),$V=h(2,(e,t)=>{const n=ce(e);if(an(n)){const r=[Hn(n)],o=ai(n);for(const s of o)r.every(i=>!t(s,i))&&r.push(s);return r}return[]}),Jie=e=>$V(e,sD()),_a=h(2,(e,t)=>ce(e).join(t)),HV=Symbol.for("effect/Chunk"),qV=[],eae=(e=>Dl((t,n)=>t.length===n.length&&qn(t).every((r,o)=>e(r,Ro(n,o)))))(U),tae={[HV]:{_A:e=>e},toString(){return mt(this.toJSON())},toJSON(){return{_id:"Chunk",values:qn(this).map(it)}},[qe](){return this.toJSON()},[J](e){return zV(e)&&eae(this,e)},[Q](){return He(this,da(qn(this)))},[Symbol.iterator](){switch(this.backing._tag){case"IArray":return this.backing.array[Symbol.iterator]();case"IEmpty":return qV[Symbol.iterator]();default:return qn(this)[Symbol.iterator]()}},pipe(){return z(this,arguments)}},kt=e=>{const t=Object.create(tae);switch(t.backing=e,e._tag){case"IEmpty":t.length=0,t.depth=0,t.left=t,t.right=t;break;case"IConcat":t.length=e.left.length+e.right.length,t.depth=1+Math.max(e.left.depth,e.right.depth),t.left=e.left,t.right=e.right;break;case"IArray":t.length=e.array.length,t.depth=0,t.left=Oo,t.right=Oo;break;case"ISingleton":t.length=1,t.depth=0,t.left=Oo,t.right=Oo;break;case"ISlice":t.length=e.length,t.depth=e.chunk.depth+1,t.left=Oo,t.right=Oo}return t},zV=e=>W(e,HV),Oo=kt({_tag:"IEmpty"}),cn=()=>Oo,MD=(...e)=>1===e.length?zt(e[0]):nae(e),zt=e=>kt({_tag:"ISingleton",a:e}),Al=e=>zV(e)?e:kt({_tag:"IArray",array:ce(e)}),ID=(e,t,n)=>{switch(e.backing._tag){case"IArray":!function Zie(e,t,n,r,o){for(let s=t;s<Math.min(e.length,t+o);s++)n[r+s-t]=e[s]}(e.backing.array,0,t,n,e.length);break;case"IConcat":ID(e.left,t,n),ID(e.right,t,n+e.left.length);break;case"ISingleton":t[n]=e.backing.a;break;case"ISlice":{let r=0,o=n;for(;r<e.length;)t[o]=Ro(e,r),r+=1,o+=1;break}}},qn=e=>{switch(e.backing._tag){case"IEmpty":return qV;case"IArray":return e.backing.array;default:{const t=new Array(e.length);return ID(e,t,0),e.backing={_tag:"IArray",array:t},e.left=Oo,e.right=Oo,e.depth=0,t}}},li=e=>{switch(e.backing._tag){case"IEmpty":case"ISingleton":return e;case"IArray":return kt({_tag:"IArray",array:PV(e.backing.array)});case"IConcat":return kt({_tag:"IConcat",left:li(e.backing.right),right:li(e.backing.left)});case"ISlice":return lr(PV(qn(e)))}},lr=e=>kt({_tag:"IArray",array:e}),nae=e=>lr(e),Ro=h(2,(e,t)=>{switch(e.backing._tag){case"IEmpty":throw new Error("Index out of bounds");case"ISingleton":if(0!==t)throw new Error("Index out of bounds");return e.backing.a;case"IArray":if(t>=e.length||t<0)throw new Error("Index out of bounds");return e.backing.array[t];case"IConcat":return t<e.left.length?Ro(e.left,t):Ro(e.right,t-e.left.length);case"ISlice":return Ro(e.backing.chunk,t+e.backing.offset)}}),GV=h(2,(e,t)=>Sr(e,zt(t))),ft=h(2,(e,t)=>Sr(zt(t),e)),Zf=h(2,(e,t)=>{if(t<=0)return e;if(t>=e.length)return Oo;switch(e.backing._tag){case"ISlice":return kt({_tag:"ISlice",chunk:e.backing.chunk,offset:e.backing.offset+t,length:e.backing.length-t});case"IConcat":return t>e.left.length?Zf(e.right,t-e.left.length):kt({_tag:"IConcat",left:Zf(e.left,t),right:e.right});default:return kt({_tag:"ISlice",chunk:e,offset:t,length:e.length-t})}}),Sr=h(2,(e,t)=>{if("IEmpty"===e.backing._tag)return t;if("IEmpty"===t.backing._tag)return e;const n=t.depth-e.depth;if(Math.abs(n)<=1)return kt({_tag:"IConcat",left:e,right:t});if(n<-1){if(e.left.depth>=e.right.depth){const r=Sr(e.right,t);return kt({_tag:"IConcat",left:e.left,right:r})}{const r=Sr(e.right.right,t);if(r.depth===e.depth-3){const o=kt({_tag:"IConcat",left:e.right.left,right:r});return kt({_tag:"IConcat",left:e.left,right:o})}{const o=kt({_tag:"IConcat",left:e.left,right:e.right.left});return kt({_tag:"IConcat",left:o,right:r})}}}if(t.right.depth>=t.left.depth){const r=Sr(e,t.left);return kt({_tag:"IConcat",left:r,right:t.right})}{const r=Sr(e,t.left.left);if(r.depth===t.depth-3){const o=kt({_tag:"IConcat",left:r,right:t.left.right});return kt({_tag:"IConcat",left:o,right:t.right})}{const o=kt({_tag:"IConcat",left:t.left.right,right:t.right});return kt({_tag:"IConcat",left:r,right:o})}}}),XV=e=>0===e.length,_t=e=>e.length>0,YV=e=>Ro(e,0),Me=YV,ht=e=>Zf(e,1),TD=Symbol.for("effect/Duration"),QV=BigInt(0),JV=BigInt(24),I_=BigInt(60),OD=BigInt(1e3),ZV=BigInt(1e6),RD=BigInt(1e9),ej=/^(-?\d+(?:\.\d+)?)\s+(nanos?|micros?|millis?|seconds?|minutes?|hours?|days?|weeks?)$/,vn=e=>{if(nj(e))return e;if(jf(e))return eh(e);if((e=>"bigint"==typeof e)(e))return T_(e);if(Array.isArray(e)){if(2===e.length&&jf(e[0])&&jf(e[1]))return T_(BigInt(e[0])*RD+BigInt(e[1]))}else if((e=>"string"==typeof e)(e)){ej.lastIndex=0;const t=ej.exec(e);if(t){const[n,r,o]=t,s=Number(r);switch(o){case"nano":case"nanos":return T_(BigInt(r));case"micro":case"micros":return cae(BigInt(r));case"milli":case"millis":return eh(s);case"second":case"seconds":return rj(s);case"minute":case"minutes":return lae(s);case"hour":case"hours":return uae(s);case"day":case"days":return dae(s);case"week":case"weeks":return fae(s)}}}throw new Error("Invalid DurationInput")},tj={_tag:"Millis",millis:0},sae={_tag:"Infinity"},iae={[TD]:TD,[Q](){return He(this,J2(this.value))},[J](e){return nj(e)&&_ae(this,e)},toString(){return`Duration(${sj(this)})`},toJSON(){switch(this.value._tag){case"Millis":return{_id:"Duration",_tag:"Millis",millis:this.value.millis};case"Nanos":return{_id:"Duration",_tag:"Nanos",hrtime:pae(this)};case"Infinity":return{_id:"Duration",_tag:"Infinity"}}},[qe](){return this.toJSON()},pipe(){return z(this,arguments)}},ls=e=>{const t=Object.create(iae);return t.value=jf(e)?isNaN(e)||e<=0?tj:Number.isFinite(e)?Number.isInteger(e)?{_tag:"Millis",millis:e}:{_tag:"Nanos",nanos:BigInt(Math.round(1e6*e))}:sae:e<=QV?tj:{_tag:"Nanos",nanos:e},t},nj=e=>W(e,TD),aae=ls(0),T_=e=>ls(e),cae=e=>ls(e*OD),eh=e=>ls(e),rj=e=>ls(1e3*e),lae=e=>ls(6e4*e),uae=e=>ls(36e5*e),dae=e=>ls(864e5*e),fae=e=>ls(6048e5*e),kl=e=>Nl(e,{onMillis:t=>t,onNanos:t=>Number(t)/1e6}),pae=e=>{const t=vn(e);switch(t.value._tag){case"Infinity":return[1/0,0];case"Nanos":return[Number(t.value.nanos/RD),Number(t.value.nanos%RD)];case"Millis":return[Math.floor(t.value.millis/1e3),Math.round(t.value.millis%1e3*1e6)]}},Nl=h(2,(e,t)=>{const n=vn(e);switch(n.value._tag){case"Nanos":return t.onNanos(n.value.nanos);case"Infinity":return t.onMillis(1/0);case"Millis":return t.onMillis(n.value.millis)}}),oj=h(3,(e,t,n)=>{const r=vn(e),o=vn(t);if("Infinity"===r.value._tag||"Infinity"===o.value._tag)return n.onMillis(kl(r),kl(o));if("Nanos"===r.value._tag||"Nanos"===o.value._tag){const s="Nanos"===r.value._tag?r.value.nanos:BigInt(Math.round(1e6*r.value.millis)),i="Nanos"===o.value._tag?o.value.nanos:BigInt(Math.round(1e6*o.value.millis));return n.onNanos(s,i)}return n.onMillis(r.value.millis,o.value.millis)}),mae=h(2,(e,t)=>oj(e,t,{onMillis:(n,r)=>n>=r,onNanos:(n,r)=>n>=r})),_ae=h(2,(e,t)=>((e,t)=>oj(e,t,{onMillis:(n,r)=>n===r,onNanos:(n,r)=>n===r}))(vn(e),vn(t))),sj=e=>{const t=vn(e);if("Infinity"===t.value._tag)return"Infinity";const n=(e=>{const t=vn(e);if("Infinity"===t.value._tag)return{days:1/0,hours:1/0,minutes:1/0,seconds:1/0,millis:1/0,nanos:1/0};const n=(e=>{const t=vn(e);switch(t.value._tag){case"Infinity":throw new Error("Cannot convert infinite duration to nanos");case"Nanos":return t.value.nanos;case"Millis":return BigInt(Math.round(1e6*t.value.millis))}})(t),r=n/ZV,o=r/OD,s=o/I_,i=s/I_;return{days:Number(i/JV),hours:Number(i%JV),minutes:Number(s%I_),seconds:Number(o%I_),millis:Number(r%OD),nanos:Number(n%ZV)}})(t),r=[];return 0!==n.days&&r.push(`${n.days}d`),0!==n.hours&&r.push(`${n.hours}h`),0!==n.minutes&&r.push(`${n.minutes}m`),0!==n.seconds&&r.push(`${n.seconds}s`),0!==n.millis&&r.push(`${n.millis}ms`),0!==n.nanos&&r.push(`${n.nanos}ns`),r.join(" ")},AD=Math.pow(2,5),vae=AD-1,bae=AD/2,Eae=AD/4;function xl(e,t){return t>>>e&vae}function Fl(e){return 1<<e}function ij(e,t){return function Cae(e){return e=(e=(858993459&(e-=e>>1&1431655765))+(e>>2&858993459))+(e>>4)&252645135,127&(e+=e>>8)+(e>>16)}(e&t-1)}const wae=(e,t)=>({value:e,previous:t});function Pl(e,t,n,r){let o=r;if(!e){const s=r.length;o=new Array(s);for(let i=0;i<s;++i)o[i]=r[i]}return o[t]=n,o}function aj(e,t,n){const r=n.length-1;let o=0,s=0,i=n;if(e)o=s=t;else for(i=new Array(r);o<t;)i[s++]=n[o++];for(++o;o<=r;)i[s++]=n[o++];return e&&(i.length=r),i}class ui{_tag="EmptyNode";modify(t,n,r,o,s,i){const a=r(I());return Ce(a)?new ui:(++i.value,new va(t,o,s,a))}}function Zr(e){return u_(e,"EmptyNode")}function O_(e,t){return!Zr(e)&&t===e.edit}class va{edit;hash;key;value;_tag="LeafNode";constructor(t,n,r,o){this.edit=t,this.hash=n,this.key=r,this.value=o}modify(t,n,r,o,s,i){if(U(s,this.key)){const c=r(this.value);return c===this.value?this:Ce(c)?(--i.value,new ui):O_(this,t)?(this.value=c,this):new va(t,o,s,c)}const a=r(I());return Ce(a)?this:(++i.value,cj(t,n,this.hash,this,o,new va(t,o,s,a)))}}class kD{edit;hash;children;_tag="CollisionNode";constructor(t,n,r){this.edit=t,this.hash=n,this.children=r}modify(t,n,r,o,s,i){if(o===this.hash){const c=O_(this,t),l=this.updateCollisionList(c,t,this.hash,this.children,r,s,i);return l===this.children?this:l.length>1?new kD(t,this.hash,l):l[0]}const a=r(I());return Ce(a)?this:(++i.value,cj(t,n,this.hash,this,o,new va(t,o,s,a)))}updateCollisionList(t,n,r,o,s,i,a){const c=o.length;for(let u=0;u<c;++u){const d=o[u];if("key"in d&&U(i,d.key)){const f=d.value,p=s(f);return p===f?o:Ce(p)?(--a.value,aj(t,u,o)):Pl(t,u,new va(n,r,i,p),o)}}const l=s(I());return Ce(l)?o:(++a.value,Pl(t,c,new va(n,r,i,l),o))}}class Ll{edit;mask;children;_tag="IndexedNode";constructor(t,n,r){this.edit=t,this.mask=n,this.children=r}modify(t,n,r,o,s,i){const a=this.mask,c=this.children,l=xl(n,o),u=Fl(l),d=ij(a,u),f=a&u,p=O_(this,t);if(!f){const C=(new ui).modify(t,n+5,r,o,s,i);return C?c.length>=bae?function Iae(e,t,n,r,o){const s=[];let i=r,a=0;for(let c=0;i;++c)1&i&&(s[c]=o[a++]),i>>>=1;return s[t]=n,new ND(e,a+1,s)}(t,l,C,a,c):new Ll(t,a|u,function Sae(e,t,n,r){const o=r.length;if(e){let c=o;for(;c>=t;)r[c--]=r[c];return r[t]=n,r}let s=0,i=0;const a=new Array(o+1);for(;s<t;)a[i++]=r[s++];for(a[t]=n;s<o;)a[++i]=r[s++];return a}(p,d,C,c)):this}const g=c[d],m=g.modify(t,n+5,r,o,s,i);if(g===m)return this;let b,y=a;if(Zr(m)){if(y&=~u,!y)return new ui;if(c.length<=2&&function Dae(e){return Zr(e)||"LeafNode"===e._tag||"CollisionNode"===e._tag}(c[1^d]))return c[1^d];b=aj(p,d,c)}else b=Pl(p,d,m,c);return p?(this.mask=y,this.children=b,this):new Ll(t,y,b)}}class ND{edit;size;children;_tag="ArrayNode";constructor(t,n,r){this.edit=t,this.size=n,this.children=r}modify(t,n,r,o,s,i){let a=this.size;const c=this.children,l=xl(n,o),u=c[l],d=(u||new ui).modify(t,n+5,r,o,s,i);if(u===d)return this;const f=O_(this,t);let p;if(Zr(u)&&!Zr(d))++a,p=Pl(f,l,d,c);else if(!Zr(u)&&Zr(d)){if(--a,a<=Eae)return function Mae(e,t,n,r){const o=new Array(t-1);let s=0,i=0;for(let a=0,c=r.length;a<c;++a)if(a!==n){const l=r[a];l&&!Zr(l)&&(o[s++]=l,i|=1<<a)}return new Ll(e,i,o)}(t,a,l,c);p=Pl(f,l,new ui,c)}else p=Pl(f,l,d,c);return f?(this.size=a,this.children=p,this):new ND(t,a,p)}}function Tae(e,t,n,r,o,s){if(n===o)return new kD(e,n,[s,r]);const i=xl(t,n),a=xl(t,o);if(i===a)return c=>new Ll(e,Fl(i)|Fl(a),[c]);{const c=i<a?[r,s]:[s,r];return new Ll(e,Fl(i)|Fl(a),c)}}function cj(e,t,n,r,o,s){let i,a=t;for(;;){const c=Tae(e,a,n,r,o,s);if("function"!=typeof c){let l=c;for(;null!=i;)l=i.value(l),i=i.previous;return l}i=wae(c,i),a+=5}}const lj="effect/HashMap",R_=Symbol.for(lj),Oae={[R_]:R_,[Symbol.iterator](){return new Vl(this,(e,t)=>[e,t])},[Q](){let e=B(lj);for(const t of this)e^=_(B(t[0]),se(B(t[1])));return He(this,e)},[J](e){if(hj(e)){if(e._size!==this._size)return!1;for(const t of this){const n=_(e,jl(t[0],B(t[0])));if(Ce(n))return!1;if(!U(t[1],n.value))return!1}return!0}return!1},toString(){return mt(this.toJSON())},toJSON(){return{_id:"HashMap",values:Array.from(this).map(it)}},[qe](){return this.toJSON()},pipe(){return z(this,arguments)}},xD=(e,t,n,r)=>{const o=Object.create(Oae);return o._editable=e,o._edit=t,o._root=n,o._size=r,o};class Vl{map;f;v;constructor(t,n){this.map=t,this.f=n,this.v=uj(this.map._root,this.f,void 0)}next(){if(Ce(this.v))return{done:!0,value:void 0};const t=this.v.value;return this.v=A_(t.cont),{done:!1,value:t.value}}[Symbol.iterator](){return new Vl(this.map,this.f)}}const A_=e=>e?dj(e[0],e[1],e[2],e[3],e[4]):I(),uj=(e,t,n=void 0)=>{switch(e._tag){case"LeafNode":return de(e.value)?A({value:t(e.key,e.value.value),cont:n}):A_(n);case"CollisionNode":case"ArrayNode":case"IndexedNode":{const r=e.children;return dj(r.length,r,0,t,n)}default:return A_(n)}},dj=(e,t,n,r,o)=>{for(;n<e;){const s=t[n++];if(s&&!Zr(s))return uj(s,r,[e,t,n,r,o])}return A_(o)},Rae=xD(!1,0,new ui,0),ba=()=>Rae,hj=e=>W(e,R_),Nae=h(2,(e,t)=>jl(e,t,B(t))),jl=h(3,(e,t,n)=>{let r=e._root,o=0;for(;;)switch(r._tag){case"LeafNode":return U(t,r.key)?r.value:I();case"CollisionNode":if(n===r.hash){const s=r.children;for(let i=0,a=s.length;i<a;++i){const c=s[i];if("key"in c&&U(t,c.key))return c.value}}return I();case"IndexedNode":{const i=Fl(xl(o,n));if(r.mask&i){r=r.children[ij(r.mask,i)],o+=5;break}return I()}case"ArrayNode":if(r=r.children[xl(o,n)],r){o+=5;break}return I();default:return I()}}),pj=h(2,(e,t)=>de(jl(e,t,B(t)))),us=h(3,(e,t,n)=>x_(e,t,()=>A(n))),Pae=h(3,(e,t,n)=>e._editable?(e._root=t,e._size=n,e):t===e._root?e:xD(e._editable,e._edit,t,n)),FD=e=>new Vl(e,t=>t),k_=e=>e._size,th=e=>xD(!0,e._edit+1,e._root,e._size),N_=e=>(e._editable=!1,e),x_=h(3,(e,t,n)=>gj(e,t,B(t),n)),gj=h(4,(e,t,n,r)=>{const o={value:e._size},s=e._root.modify(e._editable?e._edit:NaN,0,r,n,t,o);return _(e,Pae(s,o.value))}),F_=h(2,(e,t)=>x_(e,t,I)),$ae=h(2,(e,t)=>rh(e,ba(),(n,r,o)=>us(n,o,t(r,o)))),P_=h(2,(e,t)=>rh(e,void 0,(n,r,o)=>t(r,o))),rh=h(3,(e,t,n)=>{const r=e._root;if("LeafNode"===r._tag)return de(r.value)?n(t,r.value.value,r.key):t;if("EmptyNode"===r._tag)return t;const o=[r.children];let s;for(;s=o.pop();)for(let i=0,a=s.length;i<a;){const c=s[i++];c&&!Zr(c)&&("LeafNode"===c._tag?de(c.value)&&(t=n(t,c.value.value,c.key)):o.push(c.children))}return t}),_j="effect/HashSet",L_=Symbol.for(_j),Gae={[L_]:L_,[Symbol.iterator](){return FD(this._keyMap)},[Q](){return He(this,se(B(this._keyMap))(B(_j)))},[J](e){return!!yj(e)&&k_(this._keyMap)===k_(e._keyMap)&&U(this._keyMap,e._keyMap)},toString(){return mt(this.toJSON())},toJSON(){return{_id:"HashSet",values:Array.from(this).map(it)}},[qe](){return this.toJSON()},pipe(){return z(this,arguments)}},oh=e=>{const t=Object.create(Gae);return t._keyMap=e,t},yj=e=>W(e,L_),Xae=oh(ba()),Ao=()=>Xae,Bl=h(2,(e,t)=>pj(e._keyMap,t)),Ul=e=>oh(th(e._keyMap)),$l=e=>(e._keyMap._editable=!1,e),Ea=h(2,(e,t)=>{const n=Ul(e);return t(n),$l(n)}),Dr=h(2,(e,t)=>e._keyMap._editable?(us(t,!0)(e._keyMap),e):oh(us(t,!0)(e._keyMap))),LD=h(2,(e,t)=>e._keyMap._editable?(F_(t)(e._keyMap),e):oh(F_(t)(e._keyMap))),Zae=h(2,(e,t)=>Ea(e,n=>{for(const r of t)LD(n,r)})),tce=h(2,(e,t)=>Ea(Ao(),n=>{V_(e,r=>Dr(n,r));for(const r of t)Dr(n,r)})),V_=h(2,(e,t)=>P_(e._keyMap,(n,r)=>t(r))),di=Ao,j_=(...e)=>{const t=Ul(Ao());for(const n of e)Dr(t,n);return $l(t)},cce=Bl,sh=e=>k_(e._keyMap),ih=Dr,Cj=LD,wj=Zae,Hl=tce,ah=h(3,(e,t,n)=>rh(e._keyMap,t,(r,o,s)=>n(r,s))),Sj=Symbol.for("effect/MutableRef"),uce={[Sj]:Sj,toString(){return mt(this.toJSON())},toJSON(){return{_id:"MutableRef",current:it(this.current)}},[qe](){return this.toJSON()},pipe(){return z(this,arguments)}},ch=e=>{const t=Object.create(uce);return t.current=e,t},ds=e=>e.current,lh=h(2,(e,t)=>(e.current=t,e)),B_="effect/FiberId",fi=Symbol.for(B_),hi="None",uh="Runtime",dce=dt(`${B_}-${hi}`);class fce{[fi]=fi;_tag=hi;id=-1;startTimeMillis=-1;[Q](){return dce}[J](t){return U_(t)&&t._tag===hi}toString(){return mt(this.toJSON())}toJSON(){return{_id:"FiberId",_tag:this._tag}}[qe](){return this.toJSON()}}class jD{id;startTimeMillis;[fi]=fi;_tag=uh;constructor(t,n){this.id=t,this.startTimeMillis=n}[Q](){return He(this,dt(`${B_}-${this._tag}-${this.id}-${this.startTimeMillis}`))}[J](t){return U_(t)&&t._tag===uh&&this.id===t.id&&this.startTimeMillis===t.startTimeMillis}toString(){return mt(this.toJSON())}toJSON(){return{_id:"FiberId",_tag:this._tag,id:this.id,startTimeMillis:this.startTimeMillis}}[qe](){return this.toJSON()}}const BD=new fce,U_=e=>W(e,fi),$_=e=>{switch(e._tag){case hi:return di();case uh:return j_(e.id);case"Composite":return _($_(e.left),Hl($_(e.right)))}},Oj=_e(Symbol.for("effect/Fiber/Id/_fiberCounter"),()=>ch(0)),HD=e=>Array.from($_(e)).map(n=>`#${n}`).join(","),ko=BD,wce=HD,kj=()=>{const e=ds(Oj);return _(Oj,lh(e+1)),new jD(e,Date.now())},H_=ba,Dce=e=>{const t=th(ba());for(const n of e)us(t,n[0],n[1]);return N_(t)},q_=Nae,No=us,Nj=FD,xj=k_,Oce=x_,Rce=$ae,z_=rh,hh=Symbol.for("effect/List"),zD=e=>ce(e),kce=(e=>sie(DD(e),zD))(U),Nce={[hh]:hh,_tag:"Cons",toString(){return mt(this.toJSON())},toJSON(){return{_id:"List",_tag:"Cons",values:zD(this).map(it)}},[qe](){return this.toJSON()},[J](e){return Fj(e)&&this._tag===e._tag&&kce(this,e)},[Q](){return He(this,da(zD(this)))},[Symbol.iterator](){let e=!1,t=this;return{next(){if(e)return this.return();if("Nil"===t._tag)return e=!0,this.return();const n=t.head;return t=t.tail,{done:e,value:n}},return:n=>(e||(e=!0),{done:!0,value:n})}},pipe(){return z(this,arguments)}},fs=(e,t)=>{const n=Object.create(Nce);return n.head=e,n.tail=t,n},xce=dt("Nil"),Fce={[hh]:hh,_tag:"Nil",toString(){return mt(this.toJSON())},toJSON:()=>({_id:"List",_tag:"Nil"}),[qe](){return this.toJSON()},[Q]:()=>xce,[J](e){return Fj(e)&&this._tag===e._tag},[Symbol.iterator]:()=>({next:()=>({done:!0,value:void 0})}),pipe(){return z(this,arguments)}},hs=Object.create(Fce),Fj=e=>W(e,hh),Mt=e=>"Nil"===e._tag,WD=e=>"Cons"===e._tag,Ca=(e,t)=>fs(e,t),wa=()=>hs,GD=e=>fs(e,hs),Vce=h(2,(e,t)=>jce(t,e)),XD=h(2,(e,t)=>Ca(t,e)),jce=h(2,(e,t)=>{if(Mt(e))return t;if(Mt(t))return e;{const n=fs(t.head,e);let r=n,o=t.tail;for(;!Mt(o);){const s=fs(o.head,e);r.tail=s,r=s,o=o.tail}return n}}),Hce=h(3,(e,t,n)=>{let r=t,o=e;for(;!Mt(o);)r=n(r,o.head),o=o.tail;return r}),qce=e=>{let t=wa(),n=e;for(;!Mt(n);)t=XD(t,n.head),n=n.tail;return t},ql=function(){function e(t){t&&Object.assign(this,t)}return e.prototype=b_,e}();function Bj(e){return e}const gh={...ql.prototype,[Symbol.for("effect/DifferContextPatch")]:{_Value:Bj,_Patch:Bj}},ole=Object.create(Object.assign(Object.create(gh),{_tag:"Empty"})),Uj=()=>ole,sle=Object.assign(Object.create(gh),{_tag:"AndThen"}),ale=Object.assign(Object.create(gh),{_tag:"AddService"}),cle=(e,t)=>{const n=Object.create(ale);return n.key=e,n.service=t,n},lle=Object.assign(Object.create(gh),{_tag:"RemoveService"}),ule=e=>{const t=Object.create(lle);return t.key=e,t},dle=Object.assign(Object.create(gh),{_tag:"UpdateService"}),fle=(e,t)=>{const n=Object.create(dle);return n.key=e,n.update=t,n},X_=h(2,(e,t)=>((e,t)=>{const n=Object.create(sle);return n.first=e,n.second=t,n})(e,t)),ple=h(2,(e,t)=>{if("Empty"===e._tag)return t;let n=!1,r=zt(e);const o=new Map(t.unsafeMap);for(;_t(r);){const i=Me(r),a=ht(r);switch(i._tag){case"Empty":r=a;break;case"AddService":o.set(i.key,i.service),r=a;break;case"AndThen":r=ft(ft(a,i.second),i.first);break;case"RemoveService":o.delete(i.key),r=a;break;case"UpdateService":o.set(i.key,i.update(o.get(i.key))),n=!0,r=a}}if(!n)return Io(o);const s=new Map;for(const[i]of t.unsafeMap)o.has(i)&&(s.set(i,o.get(i)),o.delete(i));for(const[i,a]of o)s.set(i,a);return Io(s)});function JD(e){return e}const Y_={...ql.prototype,[Symbol.for("effect/DifferHashSetPatch")]:{_Value:JD,_Key:JD,_Patch:JD}},Mle=Object.create(Object.assign(Object.create(Y_),{_tag:"Empty"})),zj=()=>Mle,Ile=Object.assign(Object.create(Y_),{_tag:"AndThen"}),Ole=Object.assign(Object.create(Y_),{_tag:"Add"}),Rle=e=>{const t=Object.create(Ole);return t.value=e,t},Ale=Object.assign(Object.create(Y_),{_tag:"Remove"}),ZD=h(2,(e,t)=>((e,t)=>{const n=Object.create(Ile);return n.first=e,n.second=t,n})(e,t)),xle=h(2,(e,t)=>{if("Empty"===e._tag)return t;let n=t,r=zt(e);for(;_t(r);){const o=Me(r),s=ht(r);switch(o._tag){case"Empty":r=s;break;case"AndThen":r=ft(o.first)(ft(o.second)(s));break;case"Add":n=ih(o.value)(n),r=s;break;case"Remove":n=Cj(o.value)(n),r=s}}return n});function Xj(e){return e}const _h={...ql.prototype,[Symbol.for("effect/DifferReadonlyArrayPatch")]:{_Value:Xj,_Patch:Xj}},Kle=Object.create(Object.assign(Object.create(_h),{_tag:"Empty"})),Kj=()=>Kle,Yle=Object.assign(Object.create(_h),{_tag:"AndThen"}),Jle=Object.assign(Object.create(_h),{_tag:"Append"}),eue=Object.assign(Object.create(_h),{_tag:"Slice"}),nue=Object.assign(Object.create(_h),{_tag:"Update"}),rue=(e,t)=>{const n=Object.create(nue);return n.index=e,n.patch=t,n},Q_=h(2,(e,t)=>((e,t)=>{const n=Object.create(Yle);return n.first=e,n.second=t,n})(e,t)),sue=h(3,(e,t,n)=>{if("Empty"===e._tag)return t;let r=t.slice(),o=wr(e);for(;kie(o);){const s=Hn(o),i=ai(o);switch(s._tag){case"Empty":o=i;break;case"AndThen":i.unshift(s.first,s.second),o=i;break;case"Append":for(const a of s.values)r.push(a);o=i;break;case"Slice":r=r.slice(s.from,s.until),o=i;break;case"Update":r[s.index]=n.patch(s.patch,r[s.index]),o=i}}return r}),iue={[Symbol.for("effect/Differ")]:{_P:Se,_V:Se}},eo=e=>{const t=Object.create(iue);return t.empty=e.empty,t.diff=e.diff,t.combine=e.combine,t.patch=e.patch,t},Jj=()=>eo({empty:zj(),combine:(e,t)=>ZD(t)(e),diff:(e,t)=>((e,t)=>{const[n,r]=ah([e,zj()],([o,s],i)=>cce(i)(o)?[Cj(i)(o),s]:[o,ZD(Rle(i))(s)])(t);return ah(r,(o,s)=>ZD((e=>{const t=Object.create(Ale);return t.value=e,t})(s))(o))(n)})(e,t),patch:(e,t)=>xle(t)(e)}),Zj=e=>eo({empty:Kj(),combine:(t,n)=>Q_(t,n),diff:(t,n)=>(e=>{let t=0,n=Kj();for(;t<e.oldValue.length&&t<e.newValue.length;){const s=e.differ.diff(e.oldValue[t],e.newValue[t]);U(s,e.differ.empty)||(n=Q_(n,rue(t,s))),t+=1}return t<e.oldValue.length&&(n=Q_(n,((e,t)=>{const n=Object.create(eue);return n.from=0,n.until=t,n})(0,t))),t<e.newValue.length&&(n=Q_(n,(e=>{const t=Object.create(Jle);return t.values=e,t})(Vie(t)(e.newValue)))),n})({oldValue:t,newValue:n,differ:e}),patch:(t,n)=>sue(t,n,e)}),nM=()=>eB((e,t)=>t),eB=e=>eo({empty:Se,combine:(t,n)=>t===Se?n:n===Se?t:r=>n(t(r)),diff:(t,n)=>U(t,n)?Se:i_(n),patch:(t,n)=>e(n,t(n))}),Mr=e=>255&e,Ir=e=>e>>8&255,ps=(e,t)=>(255&e)+((t&e&255)<<8),nB=ps(0,0),_ue=h(2,(e,t)=>ps(Mr(e)&~t,Ir(e))),oB=h(2,(e,t)=>e|t),Cue=h(2,(e,t)=>e|t),ms=e=>ty(e)&&!Sue(e),ty=e=>Sa(e,1),Sa=h(2,(e,t)=>!!(e&t)),aB=(...e)=>e.reduce((t,n)=>t|n,0),wue=aB(0),cB=e=>Sa(e,4),Sue=e=>Sa(e,16),_s=h(2,(e,t)=>ps(e^t,t)),Da=h(2,(e,t)=>e&((e=>~e>>>0&255)(Mr(t))|Ir(t))|Mr(t)&Ir(t)),fB=eo({empty:nB,diff:(e,t)=>_s(e,t),combine:(e,t)=>oB(t)(e),patch:(e,t)=>Da(t,e)}),pB=e=>ps(e,0),gB=_ue,Wl="Die",Gl="Empty",Xl="Fail",Kl="Interrupt",Yl="Parallel",Ql="Sequential",mB="effect/Cause",_B=Symbol.for(mB),Jl={[_B]:{_E:e=>e},[Q](){return _(B(mB),se(B(Fue(this))),He(this))},[J](e){return yB(e)&&xue(this,e)},pipe(){return z(this,arguments)},toJSON(){switch(this._tag){case"Empty":return{_id:"Cause",_tag:this._tag};case"Die":return{_id:"Cause",_tag:this._tag,defect:it(this.defect)};case"Interrupt":return{_id:"Cause",_tag:this._tag,fiberId:this.fiberId.toJSON()};case"Fail":return{_id:"Cause",_tag:this._tag,failure:it(this.error)};case"Sequential":case"Parallel":return{_id:"Cause",_tag:this._tag,left:it(this.left),right:it(this.right)}}},toString(){return bh(this)},[qe](){return this.toJSON()}},Tr=(()=>{const e=Object.create(Jl);return e._tag=Gl,e})(),ys=e=>{const t=Object.create(Jl);return t._tag=Xl,t.error=e,t},ln=e=>{const t=Object.create(Jl);return t._tag=Wl,t.defect=e,t},ur=e=>{const t=Object.create(Jl);return t._tag=Kl,t.fiberId=e,t},en=(e,t)=>{const n=Object.create(Jl);return n._tag=Yl,n.left=e,n.right=t,n},pt=(e,t)=>{const n=Object.create(Jl);return n._tag=Ql,n.left=e,n.right=t,n},yB=e=>W(e,_B),iM=e=>ny(void 0,Vue)(e),Zl=e=>{const t=(e=>eu(e,t=>t._tag===Xl?A(t.error):I()))(e);switch(t._tag){case"None":return Dt(e);case"Some":return or(t.value)}},Oue=e=>eu(e,t=>t._tag===Kl?A(t.fiberId):I()),DB=e=>Ma(e,{onEmpty:Tr,onFail:()=>Tr,onDie:t=>ln(t),onInterrupt:t=>ur(t),onSequential:pt,onParallel:en}),xue=(e,t)=>{let n=zt(e),r=zt(t);for(;_t(n)&&_t(r);){const[o,s]=_(Me(n),tu([di(),cn()],([c,l],u)=>{const[d,f]=aM(u);return A([_(c,Hl(d)),_(l,Sr(f))])})),[i,a]=_(Me(r),tu([di(),cn()],([c,l],u)=>{const[d,f]=aM(u);return A([_(c,Hl(d)),_(l,Sr(f))])}));if(!U(o,i))return!1;n=s,r=a}return!0},Fue=e=>Pue(zt(e),cn()),Pue=(e,t)=>{for(;;){const[n,r]=_(e,ma([di(),cn()],([s,i],a)=>{const[c,l]=aM(a);return[_(s,Hl(c)),_(i,Sr(l))]})),o=sh(n)>0?_(t,ft(n)):t;if(XV(r))return li(o);e=r,t=o}throw new Error(Bf("Cause.flattenCauseLoop"))},eu=h(2,(e,t)=>{const n=[e];for(;n.length>0;){const r=n.pop(),o=t(r);switch(o._tag){case"None":switch(r._tag){case Ql:case Yl:n.push(r.right),n.push(r.left)}break;case"Some":return o}}return I()}),aM=e=>{let t=e;const n=[];let r=di(),o=cn();for(;void 0!==t;)switch(t._tag){case Gl:if(0===n.length)return[r,o];t=n.pop();break;case Xl:if(r=ih(r,MD(t._tag,t.error)),0===n.length)return[r,o];t=n.pop();break;case Wl:if(r=ih(r,MD(t._tag,t.defect)),0===n.length)return[r,o];t=n.pop();break;case Kl:if(r=ih(r,MD(t._tag,t.fiberId)),0===n.length)return[r,o];t=n.pop();break;case Ql:switch(t.left._tag){case Gl:t=t.right;break;case Ql:t=pt(t.left.left,pt(t.left.right,t.right));break;case Yl:t=en(pt(t.left.left,t.right),pt(t.left.right,t.right));break;default:o=ft(o,t.right),t=t.left}break;case Yl:n.push(t.right),t=t.left}throw new Error(Bf("Cause.evaluateCauseLoop"))},Vue={emptyCase:Vf,failCase:is,dieCase:is,interruptCase:Vf,sequentialCase:(e,t,n)=>t&&n,parallelCase:(e,t,n)=>t&&n},TB="SequentialCase",OB="ParallelCase",Ma=h(2,(e,{onDie:t,onEmpty:n,onFail:r,onInterrupt:o,onParallel:s,onSequential:i})=>ny(e,void 0,{emptyCase:()=>n,failCase:(a,c)=>r(c),dieCase:(a,c)=>t(c),interruptCase:(a,c)=>o(c),sequentialCase:(a,c,l)=>i(c,l),parallelCase:(a,c,l)=>s(c,l)})),tu=h(3,(e,t,n)=>{let r=t,o=e;const s=[];for(;void 0!==o;){const i=n(r,o);switch(r=de(i)?i.value:r,o._tag){case Ql:case Yl:s.push(o.right),o=o.left;break;default:o=void 0}void 0===o&&s.length>0&&(o=s.pop())}return r}),ny=h(3,(e,t,n)=>{const r=[e],o=[];for(;r.length>0;){const i=r.pop();switch(i._tag){case Gl:o.push(Dt(n.emptyCase(t)));break;case Xl:o.push(Dt(n.failCase(t,i.error)));break;case Wl:o.push(Dt(n.dieCase(t,i.defect)));break;case Kl:o.push(Dt(n.interruptCase(t,i.fiberId)));break;case Ql:r.push(i.right),r.push(i.left),o.push(or({_tag:TB}));break;case Yl:r.push(i.right),r.push(i.left),o.push(or({_tag:OB}))}}const s=[];for(;o.length>0;){const i=o.pop();switch(i._tag){case"Left":switch(i.left._tag){case TB:{const a=s.pop(),c=s.pop(),l=n.sequentialCase(t,a,c);s.push(l);break}case OB:{const a=s.pop(),c=s.pop(),l=n.parallelCase(t,a,c);s.push(l);break}}break;case"Right":s.push(i.right)}}if(0===s.length)throw new Error("BUG: Cause.reduceWithContext - please report an issue at https://github.com/Effect-TS/effect/issues");return s.pop()}),bh=(e,t)=>iM(e)?"All fibers interrupted without errors.":kB(e).map(function(n){return!0!==t?.renderErrorCause||void 0===n.cause?n.stack:`${n.stack} {\n${RB(n.cause,"  ")}\n}`}).join("\n"),RB=(e,t)=>{const n=e.stack.split("\n");let r=`${t}[cause]: ${n[0]}`;for(let o=1,s=n.length;o<s;o++)r+=`\n${t}${n[o]}`;return e.cause&&(r+=` {\n${RB(e.cause,`${t}  `)}\n${t}}`),r};class ry extends globalThis.Error{span=void 0;constructor(t){const n="object"==typeof t&&null!==t,r=Error.stackTraceLimit;Error.stackTraceLimit=1,super(jue(t),n&&"cause"in t&&typeof t.cause<"u"?{cause:new ry(t.cause)}:void 0),""===this.message&&(this.message="An error has occurred"),Error.stackTraceLimit=r,this.name=t instanceof Error?t.name:"Error",n&&(AB in t&&(this.span=t[AB]),Object.keys(t).forEach(o=>{o in this||(this[o]=t[o])})),this.stack=Uue(`${this.name}: ${this.message}`,t instanceof Error&&t.stack?t.stack:"",this.span)}}const jue=e=>{if("string"==typeof e)return e;if("object"==typeof e&&null!==e&&e instanceof Error)return e.message;try{if(W(e,"toString")&&ua(e.toString)&&e.toString!==Object.prototype.toString&&e.toString!==globalThis.Array.prototype.toString)return e.toString()}catch{}return iD(e)},Bue=/\((.*)\)/g,oy=_e("effect/Tracer/spanToTrace",()=>new WeakMap),Uue=(e,t,n)=>{const r=[e],o=t.startsWith(e)?t.slice(e.length).split("\n"):t.split("\n");for(let s=1;s<o.length&&!o[s].includes("Generator.next");s++){if(o[s].includes("effect_internal_function")){r.pop();break}r.push(o[s].replace(/at .*effect_instruction_i.*\((.*)\)/,"at $1").replace(/EffectPrimitive\.\w+/,"<anonymous>"))}if(n){let s=n,i=0;for(;s&&"Span"===s._tag&&i<10;){const a=oy.get(s);if("function"==typeof a){const c=a();if("string"==typeof c){const l=c.matchAll(Bue);let u=!1;for(const[,d]of l)u=!0,r.push(`    at ${s.name} (${d})`);u||r.push(`    at ${s.name} (${c.replace(/^at /,"")})`)}else r.push(`    at ${s.name}`)}else r.push(`    at ${s.name}`);s=cr(s.parent),i++}}return r.join("\n")},AB=Symbol.for("effect/SpanAnnotation"),kB=e=>ny(e,void 0,{emptyCase:()=>[],dieCase:(t,n)=>[new ry(n)],failCase:(t,n)=>[new ry(n)],interruptCase:()=>[],parallelCase:(t,n,r)=>[...n,...r],sequentialCase:(t,n,r)=>[...n,...r]}),nu="Pending",NB=Symbol.for("effect/Deferred"),$ue={_E:e=>e,_A:e=>e},Hue=e=>({_tag:nu,joiners:e});class Ch{self;called=!1;constructor(t){this.self=t}next(t){return this.called?{value:t,done:!0}:(this.called=!0,{value:this.self,done:!1})}return(t){return{value:t,done:!0}}throw(t){throw t}[Symbol.iterator](){return new Ch(this.self)}}const cM=Symbol.for("effect/EffectError"),ru=(e,t)=>{const n=new It("Blocked");return n.effect_instruction_i0=e,n.effect_instruction_i1=t,n},Ia=Symbol.for("effect/Effect");class Wue{patch;op;_op=cD;constructor(t,n){this.patch=t,this.op=n}}class It{_op;effect_instruction_i0=void 0;effect_instruction_i1=void 0;effect_instruction_i2=void 0;trace=void 0;[Ia]=Sl;constructor(t){this._op=t}[J](t){return this===t}[Q](){return He(this,d_(this))}pipe(){return z(this,arguments)}toJSON(){return{_id:"Effect",_op:this._op,effect_instruction_i0:it(this.effect_instruction_i0),effect_instruction_i1:it(this.effect_instruction_i1),effect_instruction_i2:it(this.effect_instruction_i2)}}toString(){return mt(this.toJSON())}[qe](){return this.toJSON()}[Symbol.iterator](){return new Ch(new $f(this))}}class PB{_op;effect_instruction_i0=void 0;effect_instruction_i1=void 0;effect_instruction_i2=void 0;trace=void 0;[Ia]=Sl;constructor(t){this._op=t,this._tag=t}[J](t){return _y(t)&&"Failure"===t._op&&U(this.effect_instruction_i0,t.effect_instruction_i0)}[Q](){return _(dt(this._tag),se(B(this.effect_instruction_i0)),He(this))}get cause(){return this.effect_instruction_i0}pipe(){return z(this,arguments)}toJSON(){return{_id:"Exit",_tag:this._op,cause:this.cause.toJSON()}}toString(){return mt(this.toJSON())}[qe](){return this.toJSON()}[Symbol.iterator](){return new Ch(new $f(this))}}class LB{_op;effect_instruction_i0=void 0;effect_instruction_i1=void 0;effect_instruction_i2=void 0;trace=void 0;[Ia]=Sl;constructor(t){this._op=t,this._tag=t}[J](t){return _y(t)&&"Success"===t._op&&U(this.effect_instruction_i0,t.effect_instruction_i0)}[Q](){return _(dt(this._tag),se(B(this.effect_instruction_i0)),He(this))}get value(){return this.effect_instruction_i0}pipe(){return z(this,arguments)}toJSON(){return{_id:"Exit",_tag:this._op,value:it(this.value)}}toString(){return mt(this.toJSON())}[qe](){return this.toJSON()}[Symbol.iterator](){return new Ch(new $f(this))}}const Ge=e=>W(e,Ia),we=e=>{const t=new It(tV);return t.effect_instruction_i0=e,t},VB=h(3,(e,t,n)=>nn(r=>v(e,o=>v(Nt(q(()=>r(t(o)))),s=>q(()=>n(o,s)).pipe(xt({onFailure:i=>{switch(s._tag){case ze:return ye(pt(s.effect_instruction_i0,i));case We:return ye(i)}},onSuccess:()=>s})))))),yt=h(2,(e,t)=>v(e,()=>D(t))),tn=e=>yt(e,void 0),sy=function(){const e=new It(p_);switch(arguments.length){case 2:e.effect_instruction_i0=arguments[0],e.commit=arguments[1];break;case 3:e.effect_instruction_i0=arguments[0],e.effect_instruction_i1=arguments[1],e.commit=arguments[2];break;case 4:e.effect_instruction_i0=arguments[0],e.effect_instruction_i1=arguments[1],e.effect_instruction_i2=arguments[2],e.commit=arguments[3];break;default:throw new Error(Bf("you're not supposed to end up here"))}return e},wh=(e,t=ko)=>{const n=new It(qf);let r;return n.effect_instruction_i0=o=>{r=e(o)},n.effect_instruction_i1=t,Na(n,o=>Ge(r)?r:Z)},iy=(e,t=ko)=>q(()=>wh(e,t)),to=(e,t=ko)=>sy(e,function(){let n,r;function o(c){n?n(c):void 0===r&&(r=c)}const s=new It(qf);let i,a;return s.effect_instruction_i0=c=>{n=c,r&&c(r)},s.effect_instruction_i1=t,1!==this.effect_instruction_i0.length?(a=new AbortController,i=Zt(()=>this.effect_instruction_i0(o,a.signal))):i=Zt(()=>this.effect_instruction_i0(o)),i||a?Na(s,c=>(a&&a.abort(),i??Z)):s}),Oa=h(2,(e,t)=>bn(e,{onFailure:t,onSuccess:D})),ay=Symbol.for("effect/SpanAnnotation"),cy=Symbol.for("effect/OriginalAnnotation"),uM=(e,t)=>de(t)?new Proxy(e,{has:(n,r)=>r===ay||r===cy||r in n,get:(n,r)=>r===ay?t.value:r===cy?e:n[r]}):e,Ra=e=>l_(e)&&!(ay in e)?we(t=>ye(ln(uM(e,VM(t))))):ye(ln(e)),Sh=e=>Mh(()=>ln(new bde(e))),Aa=e=>bn(e,{onFailure:t=>D(or(t)),onSuccess:t=>D(Dt(t))}),Nt=e=>dM(e,{onFailure:ve,onSuccess:Ie}),le=e=>l_(e)&&!(ay in e)?we(t=>ye(ys(uM(e,VM(t))))):ye(ys(e)),Or=e=>v(T(e),le),ye=e=>{const t=new PB(ze);return t.effect_instruction_i0=e,t},Mh=e=>v(T(e),ye),ou=we(e=>D(e.id())),vs=e=>we(t=>e(t.id())),v=h(2,(e,t)=>{const n=new It(m_);return n.effect_instruction_i0=e,n.effect_instruction_i1=t,n}),jB=e=>{const t=new It("OnStep");return t.effect_instruction_i0=e,t},Rr=e=>v(e,Se),dM=h(2,(e,t)=>xt(e,{onFailure:n=>D(t.onFailure(n)),onSuccess:n=>D(t.onSuccess(n))})),xt=h(2,(e,t)=>{const n=new It(__);return n.effect_instruction_i0=e,n.effect_instruction_i1=t.onFailure,n.effect_instruction_i2=t.onSuccess,n}),bn=h(2,(e,t)=>xt(e,{onFailure:n=>{if((e=>li(tu(e,cn(),(t,n)=>n._tag===Wl?A(_(t,ft(n.defect))):I())))(n).length>0)return ye((e=>Ma(e,{onEmpty:Tr,onFail:t=>ln(t),onDie:t=>ln(t),onInterrupt:t=>ur(t),onSequential:(t,n)=>pt(t,n),onParallel:(t,n)=>en(t,n)}))(n));const o=(e=>li(tu(e,cn(),(t,n)=>n._tag===Xl?A(_(t,ft(n.error))):I())))(n);return o.length>0?t.onFailure(YV(o)):ye(n)},onSuccess:t.onSuccess})),zn=h(2,(e,t)=>q(()=>{const n=ce(e),r=CD(n.length);let o=0;return yt(dy({while:()=>o<n.length,body:()=>t(n[o],o),step:s=>{r[o++]=s}}),r)})),xo=h(2,(e,t)=>q(()=>{const n=ce(e);let r=0;return dy({while:()=>r<n.length,body:()=>t(n[r],r),step:()=>{r++}})})),ka=e=>{const t=new It(ha);return t.effect_instruction_i0=(e=>ps(e,e))(1),t.effect_instruction_i1=()=>e,t},F=h(2,(e,t)=>v(e,n=>T(()=>t(n)))),fM=h(2,(e,t)=>bn(e,{onFailure:n=>Or(()=>t.onFailure(n)),onSuccess:n=>T(()=>t.onSuccess(n))})),Th=h(2,(e,t)=>xt(e,{onFailure:n=>{const r=Zl(n);switch(r._tag){case"Left":return Or(()=>t(r.left));case"Right":return ye(r.right)}},onSuccess:D})),no=h(2,(e,t)=>nn(n=>xt(n(e),{onFailure:r=>{const o=ve(r);return xt(t(o),{onFailure:s=>ve(pt(r,s)),onSuccess:()=>o})},onSuccess:r=>{const o=Ie(r);return ke(t(o),o)}}))),Na=h(2,(e,t)=>no(e,by({onFailure:n=>iM(n)?tn(t((e=>tu(e,di(),(t,n)=>n._tag===Kl?A(_(t,ih(n.fiberId))):I()))(n))):Z,onSuccess:()=>Z}))),D=e=>{const t=new LB(We);return t.effect_instruction_i0=e,t},q=e=>{const t=new It(p_);return t.commit=e,t},T=e=>{const t=new It("Sync");return t.effect_instruction_i0=e,t},xa=h(e=>3===e.length||2===e.length&&!(l_(e[1])&&"onlyEffect"in e[1]),(e,t)=>v(e,n=>{const r="function"==typeof t?t(n):t;return Ge(r)?yt(r,n):(e=>W(e,"then")&&ua(e.then))(r)?wh(o=>{r.then(s=>o(D(n)),s=>o(le(new ja(s))))}):D(n)})),Fa=e=>{const t=new It(ha);return t.effect_instruction_i0=pB(1),t.effect_instruction_i1=()=>e,t},nn=e=>sy(e,function(){const t=new It(ha);return t.effect_instruction_i0=pB(1),t.effect_instruction_i1=n=>ty(n)?Zt(()=>this.effect_instruction_i0(ka)):Zt(()=>this.effect_instruction_i0(Fa)),t}),Z=D(void 0),dy=e=>{const t=new It(y_);return t.effect_instruction_i0=e.while,t.effect_instruction_i1=e.body,t.effect_instruction_i2=e.step,t},Pa=e=>{const t=new It(v_);return typeof e?.priority<"u"?rU(t,e.priority):t},fy=h(2,(e,t)=>v(e,n=>F(t,r=>[n,r]))),Ah=h(2,(e,t)=>v(e,n=>yt(t,n))),ke=h(2,(e,t)=>v(e,()=>t)),ro=h(2,(e,t)=>v(e.interruptAsFork(t),()=>e.await)),gM={_tag:"Info",syslog:6,label:"INFO",ordinal:2e4,pipe(){return z(this,arguments)}},mM={_tag:"Debug",syslog:7,label:"DEBUG",ordinal:1e4,pipe(){return z(this,arguments)}},ide=Symbol.for("effect/FiberRef"),ade={_A:e=>e},Fo=e=>we(t=>Ie(t.getFiberRef(e))),Ar=h(2,(e,t)=>v(Fo(e),t)),iu=h(2,(e,t)=>JB(e,()=>[void 0,t])),JB=h(2,(e,t)=>we(n=>{const[r,o]=t(n.getFiberRef(e));return n.setFiberRef(e,o),D(r)})),En=h(3,(e,t,n)=>VB(Ah(Fo(t),iu(t,n)),()=>e,r=>iu(t,r))),Wt=(e,t)=>au(e,{differ:nM(),fork:t?.fork??Se,join:t?.join}),tU=e=>{const t=eo({empty:Uj(),combine:(e,t)=>X_(t)(e),diff:(e,t)=>((e,t)=>{const n=new Map(e.unsafeMap);let r=Uj();for(const[o,s]of t.unsafeMap.entries())if(n.has(o)){const i=n.get(o);n.delete(o),U(i,s)||(r=X_(fle(o,()=>s))(r))}else n.delete(o),r=X_(cle(o,s))(r);for(const[o]of n.entries())r=X_(ule(o))(r);return r})(e,t),patch:(e,t)=>ple(t)(e)});return au(e,{differ:t,fork:t.empty})},au=(e,t)=>({...cs,[ide]:ade,initial:e,commit(){return Fo(this)},diff:(r,o)=>t.differ.diff(r,o),combine:(r,o)=>t.differ.combine(r,o),patch:r=>o=>t.differ.patch(r,o),fork:t.fork,join:t.join??((r,o)=>o)}),pde=e=>au(e,{differ:fB,fork:fB.empty}),Po=_e(Symbol.for("effect/FiberRef/currentContext"),()=>tU(ga())),cu=_e(Symbol.for("effect/FiberRef/currentSchedulingPriority"),()=>Wt(0)),_M=_e(Symbol.for("effect/FiberRef/currentMaxOpsBeforeYield"),()=>Wt(2048)),kh=_e(Symbol.for("effect/FiberRef/currentLogAnnotation"),()=>Wt(H_())),gde=_e(Symbol.for("effect/FiberRef/currentLogLevel"),()=>Wt(gM)),nU=_e(Symbol.for("effect/FiberRef/currentLogSpan"),()=>Wt(wa())),rU=h(2,(e,t)=>En(e,cu,t)),sU=_e(Symbol.for("effect/FiberRef/currentUnhandledErrorLogLevel"),()=>Wt(A(mM))),lu=_e(Symbol.for("effect/FiberRef/currentMetricLabels"),()=>(e=>{const t=Zj(nM());return au([],{differ:t,fork:t.empty})})()),py=_e(Symbol.for("effect/FiberRef/currentForkScopeOverride"),()=>Wt(I(),{fork:()=>I(),join:(e,t)=>e})),Nh=_e(Symbol.for("effect/FiberRef/currentInterruptedCause"),()=>Wt(Tr,{fork:()=>Tr,join:(e,t)=>e})),cU=function(){class e extends globalThis.Error{commit(){return le(this)}toJSON(){return{...this}}[qe](){return this.toString!==globalThis.Error.prototype.toString?this.stack?`${this.toString()}\n${this.stack.split("\n").slice(1).join("\n")}`:this.toString():"Bun"in globalThis?bh(ys(this),{renderErrorCause:!0}):this}}return Object.assign(e.prototype,lD),e}(),Va=(e,t)=>{class n extends cU{_tag=t}return Object.assign(n.prototype,e),n.prototype.name=t,n},wM=Symbol.for("effect/Cause/errors/RuntimeException"),bde=Va({[wM]:wM},"RuntimeException"),SM=Symbol.for("effect/Cause/errors/InterruptedException"),MM=Symbol.for("effect/Cause/errors/NoSuchElement"),gi=Va({[MM]:MM},"NoSuchElementException"),RM=Symbol.for("effect/Cause/errors/UnknownException"),ja=function(){class e extends cU{cause;_tag="UnknownException";error;constructor(n,r){super(r??"An unknown error occurred",{cause:n}),this.cause=n,this.error=n}}return Object.assign(e.prototype,{[RM]:RM,name:"UnknownException"}),e}(),_y=e=>Ge(e)&&"_tag"in e&&("Success"===e._tag||"Failure"===e._tag),Ba=(e,t)=>Hde(e,t?.parallel?en:pt),Ua=e=>ve(ys(e)),ve=e=>{const t=new PB(ze);return t.effect_instruction_i0=e,t},vy=h(2,(e,t)=>{switch(e._tag){case ze:return ve(e.effect_instruction_i0);case We:return Ie(t(e.effect_instruction_i0))}}),by=h(2,(e,{onFailure:t,onSuccess:n})=>{switch(e._tag){case ze:return t(e.effect_instruction_i0);case We:return n(e.effect_instruction_i0)}}),Ie=e=>{const t=new LB(We);return t.effect_instruction_i0=e,t},fr=Ie(void 0),Lo=h(3,(e,t,{onFailure:n,onSuccess:r})=>{switch(e._tag){case ze:switch(t._tag){case We:return ve(e.effect_instruction_i0);case ze:return ve(n(e.effect_instruction_i0,t.effect_instruction_i0))}case We:switch(t._tag){case We:return Ie(r(e.effect_instruction_i0,t.effect_instruction_i0));case ze:return ve(t.effect_instruction_i0)}}}),Hde=(e,t)=>{const n=Al(e);return _t(n)?_(ht(n),ma(_(Me(n),vy(zt)),(r,o)=>_(r,Lo(o,{onSuccess:(s,i)=>_(s,ft(i)),onFailure:t}))),vy(li),vy(r=>qn(r)),A):I()},NM=e=>({...cs,[NB]:$ue,state:ch(Hue([])),commit(){return kr(this)},blockingOn:e}),kr=e=>iy(t=>{const n=ds(e.state);switch(n._tag){case"Done":return t(n.effect);case nu:return n.joiners.push(t),efe(e,t)}},e.blockingOn),FM=(e,t)=>{const n=ds(e.state);if(n._tag===nu){lh(e.state,(e=>({_tag:"Done",effect:e}))(t));for(let r=0,o=n.joiners.length;r<o;r++)n.joiners[r](t)}},efe=(e,t)=>T(()=>{const n=ds(e.state);if(n._tag===nu){const r=n.joiners.indexOf(t);r>=0&&n.joiners.splice(r,1)}}),VM=e=>{const t=e.currentSpan;return void 0!==t&&"Span"===t._tag?A(t):I()},jM=Symbol.for("effect/Clock"),Es=pa("effect/Clock"),mU={unsafeSchedule(e,t){const n=kl(t);if(n>2147483647)return is;let r=!1;const o=setTimeout(()=>{r=!0,e()},n);return()=>(clearTimeout(o),!r)}},_U=function(){const e=BigInt(1e6);if(typeof performance>"u")return()=>BigInt(Date.now())*e;if("number"==typeof performance.timeOrigin&&0===performance.timeOrigin)return()=>BigInt(Math.round(1e6*performance.now()));const t=BigInt(Date.now())*e-BigInt(Math.round(1e6*performance.now()));return()=>t+BigInt(Math.round(1e6*performance.now()))}(),sfe=function(){const e="object"==typeof process&&"hrtime"in process&&"function"==typeof process.hrtime.bigint?process.hrtime:void 0;if(!e)return _U;const t=_U()-e.bigint();return()=>t+e.bigint()}();class ife{[jM]=jM;unsafeCurrentTimeMillis(){return Date.now()}unsafeCurrentTimeNanos(){return sfe()}currentTimeMillis=T(()=>this.unsafeCurrentTimeMillis());currentTimeNanos=T(()=>this.unsafeCurrentTimeNanos());scheduler(){return D(mU)}sleep(t){return to(n=>{const r=mU.unsafeSchedule(()=>n(Z),t);return tn(T(r))})}}const yU=()=>new ife,yi=SV,EU="InvalidData",CU="MissingData",wU="SourceUnavailable",SU="Unsupported",BM=Symbol.for("effect/ConfigError"),fu={_tag:"ConfigError",[BM]:BM},DU=(e,t)=>{const n=Object.create(fu);return n._op="And",n.left=e,n.right=t,Object.defineProperty(n,"toString",{enumerable:!1,value(){return`${this.left} and ${this.right}`}}),n},MU=(e,t)=>{const n=Object.create(fu);return n._op="Or",n.left=e,n.right=t,Object.defineProperty(n,"toString",{enumerable:!1,value(){return`${this.left} or ${this.right}`}}),n},cfe=(e,t,n={pathDelim:"."})=>{const r=Object.create(fu);return r._op=EU,r.path=e,r.message=t,Object.defineProperty(r,"toString",{enumerable:!1,value(){return`(Invalid data at ${_(this.path,_a(n.pathDelim))}: "${this.message}")`}}),r},$a=(e,t,n={pathDelim:"."})=>{const r=Object.create(fu);return r._op=CU,r.path=e,r.message=t,Object.defineProperty(r,"toString",{enumerable:!1,value(){return`(Missing data at ${_(this.path,_a(n.pathDelim))}: "${this.message}")`}}),r},lfe=(e,t,n,r={pathDelim:"."})=>{const o=Object.create(fu);return o._op=wU,o.path=e,o.message=t,o.cause=n,Object.defineProperty(o,"toString",{enumerable:!1,value(){return`(Source unavailable at ${_(this.path,_a(r.pathDelim))}: "${this.message}")`}}),o},ufe=(e,t,n={pathDelim:"."})=>{const r=Object.create(fu);return r._op=SU,r.path=e,r.message=t,Object.defineProperty(r,"toString",{enumerable:!1,value(){return`(Unsupported operation at ${_(this.path,_a(n.pathDelim))}: "${this.message}")`}}),r},Ha=h(2,(e,t)=>{switch(e._op){case"And":return DU(Ha(e.left,t),Ha(e.right,t));case"Or":return MU(Ha(e.left,t),Ha(e.right,t));case EU:return cfe([...t,...e.path],e.message);case CU:return $a([...t,...e.path],e.message);case wU:return lfe([...t,...e.path],e.message,e.cause);case SU:return ufe([...t,...e.path],e.message)}}),hfe={_tag:"Empty"},UM=h(2,(e,t)=>{let n=GD(t),r=e;for(;WD(n);){const o=n.head;switch(o._tag){case"Empty":n=n.tail;break;case"AndThen":n=Ca(o.first,Ca(o.second,n.tail));break;case"MapName":r=Rl(r,o.f),n=n.tail;break;case"Nested":r=D_(r,o.name),n=n.tail;break;case"Unnested":if(!_(Qf(r),die(o.name)))return or($a(r,`Expected ${o.name} to be in path in ConfigProvider#unnested`));r=ai(r),n=n.tail}}return Dt(r)}),Cy=(e,t)=>[...e,...t],IU=Symbol.for("effect/ConfigProvider"),wy=pa("effect/ConfigProvider"),TU=Symbol.for("effect/ConfigProviderFlat"),Dfe=e=>({[IU]:IU,pipe(){return z(this,arguments)},...e}),Mfe=e=>{const{pathDelim:t,seqDelim:n}=Object.assign({},{pathDelim:"_",seqDelim:","},e),s=()=>typeof process<"u"&&"env"in process&&"object"==typeof process.env?process.env:{};return(e=>Dfe({load:t=>v(xr(e,[],t,!1),n=>ir(Qf(n),{onNone:()=>le($a([],`Expected a single value having structure: ${t}`)),onSome:D})),flattened:e}))((e=>({[TU]:TU,patch:e.patch,load:(t,n,r=!0)=>e.load(t,n,r),enumerateChildren:e.enumerateChildren}))({load:(c,l,u=!0)=>{const d=(c=>_(c,_a(t)))(c),f=s();return _(d in f?A(f[d]):I(),Th(()=>$a(c,`Expected ${d} to exist in the process context`)),v(g=>RU(g,c,l,n,u)))},enumerateChildren:c=>T(()=>{const l=s(),f=Object.keys(l).map(p=>(c=>c.split(t))(p.toUpperCase())).filter(p=>{for(let g=0;g<c.length;g++){const m=_(c,xV(g)),y=p[g];if(void 0===y||m!==y)return!1}return!0}).flatMap(p=>p.slice(c.length,c.length+1));return(e=>{const t=Ul(Ao());for(const n of e)Dr(t,n);return $l(t)})(f)}),patch:hfe}))},xr=(e,t,n,r)=>{const o=n;switch(o._tag){case"Constant":return D(wr(o.value));case"Described":return q(()=>xr(e,t,o.config,r));case"Fail":return le($a(t,o.message));case"Fallback":return _(q(()=>xr(e,t,o.first,r)),Oa(s=>o.condition(s)?_(xr(e,t,o.second,r),Oa(i=>le(MU(s,i)))):le(s)));case"Lazy":return q(()=>xr(e,t,o.config(),r));case"MapOrFail":return q(()=>_(xr(e,t,o.original,r),v(zn(s=>_(o.mapOrFail(s),Th(Ha(((e,t)=>{let n=t;if("Nested"===n._tag){const r=e.slice();for(;"Nested"===n._tag;)r.push(n.name),n=n.config;return r}return e})(t,o.original))))))));case"Nested":return q(()=>xr(e,Cy(t,wr(o.name)),o.config,r));case"Primitive":return _(UM(t,e.patch),v(s=>_(e.load(s,o,r),v(i=>{if(0===i.length){const a=_((e=>an(e)?A(wD(e)):I())(s),ar(()=>"<n/a>"));return le($a([],`Expected ${o.description} with name ${a}`))}return D(i)}))));case"Sequence":return _(UM(t,e.patch),v(s=>_(e.enumerateChildren(s),v(Nfe),v(i=>0===i.length?q(()=>F(xr(e,t,o.config,!0),wr)):_(zn(i,a=>xr(e,Rie(t,`[${a}]`),o.config,!0)),F(a=>{const c=jV(a);return wr(0===c.length?[]:c)}))))));case"HashMap":return q(()=>_(UM(t,e.patch),v(s=>_(e.enumerateChildren(s),v(i=>_(i,zn(a=>xr(e,Cy(s,wr(a)),o.valueConfig,r)),F(a=>0===a.length?wr(H_()):_(kfe(a),Rl(c=>Dce(LV(ce(i),c)))))))))));case"ZipWith":return q(()=>_(xr(e,t,o.left,r),Aa,v(s=>_(xr(e,t,o.right,r),Aa,v(i=>{if(sr(s)&&sr(i))return le(DU(s.left,i.left));if(sr(s)&&Yf(i))return le(s.left);if(Yf(s)&&sr(i))return le(i.left);if(Yf(s)&&Yf(i)){const a=_(t,_a(".")),c=Rfe(t,a),[l,u]=((e,t,n,r)=>{const o=UV(n.length,c=>c>=r.length?I():A([e(c),c+1])),s=UV(r.length,c=>c>=n.length?I():A([t(c),c+1]));return[Cy(n,o),Cy(r,s)]})(c,c,_(s.right,Rl(Dt)),_(i.right,Rl(Dt)));return _(l,LV(u),zn(([d,f])=>_(fy(d,f),F(([p,g])=>o.zip(p,g)))))}throw new Error("BUG: ConfigProvider.fromFlatLoop - please report an issue at https://github.com/Effect-TS/effect/issues")})))))}},Rfe=(e,t)=>n=>or($a(e,`The element at index ${n} in a sequence at path "${t}" was missing`)),RU=(e,t,n,r,o)=>o?_(((e,t)=>e.split(new RegExp(`\\s*${(e=>e.replace(/[/\\^$*+?.()|[\]{}]/g,"\\$&"))(t)}\\s*`)))(e,r),zn(s=>n.parse(s.trim())),Th(Ha(t))):_(n.parse(e),fM({onFailure:Ha(t),onSuccess:wr})),kfe=e=>Object.keys(e[0]).map(t=>e.map(n=>n[t])),Nfe=e=>_(zn(e,Pfe),fM({onFailure:()=>[],onSuccess:Jf(yi)}),Aa,F(_V)),Ffe=/^(\[(\d+)\])$/,Pfe=e=>{const t=e.match(Ffe);if(null!==t){const n=t[2];return _(void 0!==n&&n.length>0?A(n):I(),ED(AU))}return I()},AU=e=>{const t=Number.parseInt(e);return Number.isNaN(t)?I():A(t)},kU=Symbol.for("effect/Console"),hu=pa("effect/Console"),Hfe={[kU]:kU,assert:(e,...t)=>T(()=>{console.assert(e,...t)}),clear:T(()=>{console.clear()}),count:e=>T(()=>{console.count(e)}),countReset:e=>T(()=>{console.countReset(e)}),debug:(...e)=>T(()=>{console.debug(...e)}),dir:(e,t)=>T(()=>{console.dir(e,t)}),dirxml:(...e)=>T(()=>{console.dirxml(...e)}),error:(...e)=>T(()=>{console.error(...e)}),group:e=>T(e?.collapsed?()=>console.groupCollapsed(e?.label):()=>console.group(e?.label)),groupEnd:T(()=>{console.groupEnd()}),info:(...e)=>T(()=>{console.info(...e)}),log:(...e)=>T(()=>{console.log(...e)}),table:(e,t)=>T(()=>{console.table(e,t)}),time:e=>T(()=>console.time(e)),timeEnd:e=>T(()=>console.timeEnd(e)),timeLog:(e,...t)=>T(()=>{console.timeLog(e,...t)}),trace:(...e)=>T(()=>{console.trace(...e)}),warn:(...e)=>T(()=>{console.warn(...e)}),unsafe:console},NU=Symbol.for("effect/Random"),Dy=pa("effect/Random");class qfe{seed;[NU]=NU;PRNG;constructor(t){this.seed=t,this.PRNG=new pse(t)}get next(){return T(()=>this.PRNG.number())}get nextBoolean(){return F(this.next,t=>t>.5)}get nextInt(){return T(()=>this.PRNG.integer(Number.MAX_SAFE_INTEGER))}nextRange(t,n){return F(this.next,r=>(n-t)*r+t)}nextIntBetween(t,n){return T(()=>this.PRNG.integer(n-t)+t)}shuffle(t){return zfe(t,n=>this.nextIntBetween(0,n))}}const zfe=(e,t)=>q(()=>_(T(()=>Array.from(e)),v(n=>{const r=[];for(let o=n.length;o>=2;o-=1)r.push(o);return _(r,xo(o=>_(t(o),F(s=>Wfe(n,o-1,s)))),yt(Al(n)))}))),Wfe=(e,t,n)=>{const r=e[t];return e[t]=e[n],e[n]=r,e},Gfe=e=>new qfe(B(e)),$M=Symbol.for("effect/Tracer"),xU=e=>({[$M]:$M,...e}),qa=pa("effect/Tracer"),Cs=pa("effect/ParentSpan"),FU=function(){return function(n){let r="";for(let o=0;o<n;o++)r+="abcdef0123456789".charAt(Math.floor(16*Math.random()));return r}}();class Xfe{name;parent;context;links;startTime;kind;_tag="Span";spanId;traceId="native";sampled=!0;status;attributes;events=[];constructor(t,n,r,o,s,i){this.name=t,this.parent=n,this.context=r,this.links=o,this.startTime=s,this.kind=i,this.status={_tag:"Started",startTime:s},this.attributes=new Map,this.traceId="Some"===n._tag?n.value.traceId:FU(32),this.spanId=FU(16)}end(t,n){this.status={_tag:"Ended",endTime:t,exit:n,startTime:this.status.startTime}}attribute(t,n){this.attributes.set(t,n)}event(t,n,r){this.events.push([t,n,r??{}])}}const Kfe=xU({span:(e,t,n,r,o,s)=>new Xfe(e,t,n,r,o,s),context:e=>e()}),Qfe=_(ga(),qt(Es,yU()),qt(hu,Hfe),qt(Dy,Gfe(Math.random())),qt(wy,Mfe()),qt(qa,Kfe)),Gt=_e(Symbol.for("effect/DefaultServices/currentServices"),()=>tU(Qfe)),che=Wf,lhe=Sse;class Oy extends lhe{}const gu={_tag:"Sequential"};const YM=Symbol.for("effect/FiberRefs");class vi{locals;[YM]=YM;constructor(t){this.locals=t}pipe(){return z(this,arguments)}}const $U=h(3,(e,t,n)=>{const r=new Map(e.locals);return n.locals.forEach((o,s)=>{const i=o[0][1];if(!o[0][0][J](t)){if(!r.has(s)){if(U(i,s.initial))return;return void r.set(s,[[t,s.join(s.initial,i)]])}const a=r.get(s),[c,l]=((e,t,n,r=!1)=>{const o=e;let c,s=t,i=n,a=r;for(;void 0===c;)if(an(s)&&an(i)){const l=Hn(s)[0],u=ai(s),d=Hn(i)[0],f=Hn(i)[1],p=ai(i);l.startTimeMillis<d.startTimeMillis?(i=p,a=!0):l.startTimeMillis>d.startTimeMillis?s=u:l.id<d.id?(i=p,a=!0):l.id>d.id?s=u:c=[f,a]}else c=[o.initial,!0];return c})(s,a,o);if(l){const u=s.diff(c,i),d=a[0][1],f=s.join(d,s.patch(u)(d));if(!U(d,f)){let p;const g=a[0][0];p=g[J](t)?[[g,f],...a.slice(1)]:[[t,f],...a],r.set(s,p)}}}}),new vi(r)}),HU=h(2,(e,t)=>{const n=new Map;return qU(e,n,t),new vi(n)}),qU=(e,t,n)=>{e.locals.forEach((r,o)=>{const s=r[0][1],i=o.patch(o.fork)(s);U(s,i)?t.set(o,r):t.set(o,[[n,i],...r])})},QM=h(2,(e,t)=>{const n=new Map(e.locals);return n.delete(t),new vi(n)}),WU=h(2,(e,t)=>e.locals.has(t)?A(Hn(e.locals.get(t))[1]):I()),mu=h(2,(e,t)=>_(WU(e,t),ar(()=>t.initial))),Ry=h(2,(e,{fiberId:t,fiberRef:n,value:r})=>{if(0===e.locals.size)return new vi(new Map([[n,[[t,r]]]]));const o=new Map(e.locals);return JM(o,t,n,r),new vi(o)}),JM=(e,t,n,r)=>{const o=e.get(n)??[];let s;if(an(o)){const[i,a]=Hn(o);if(i[J](t)){if(U(a,r))return;s=[[t,r],...o.slice(1)]}else s=[[t,r],...o]}else s=[[t,r]];e.set(n,s)},yhe=mu,Ehe=h(2,(e,{entries:t,forkAs:n})=>{if(0===e.locals.size)return new vi(new Map(t));const r=new Map(e.locals);return void 0!==n&&qU(e,r,n),t.forEach(([o,s])=>{1===s.length?JM(r,s[0][0],o,s[0][1]):s.forEach(([i,a])=>{JM(r,i,o,a)})}),new vi(r)}),Che=function phe(){return function UU(e){return new vi(e)}(new Map)},JU="AndThen",ZU={_tag:"Empty"},Ay=h(2,(e,t)=>({_tag:JU,first:e,second:t})),jh=(e,t)=>{const n=new Map(e.locals);let r=ZU;for(const[o,s]of t.locals.entries()){const i=Hn(s)[1],a=n.get(o);if(void 0!==a){const c=Hn(a)[1];U(c,i)||(r=Ay({_tag:"Update",fiberRef:o,patch:o.diff(c,i)})(r))}else r=Ay({_tag:"Add",fiberRef:o,value:i})(r);n.delete(o)}for(const[o]of n.entries())r=Ay({_tag:"Remove",fiberRef:o})(r);return r},Bh=h(3,(e,t,n)=>{let r=n,o=wr(e);for(;an(o);){const s=Hn(o),i=ai(o);switch(s._tag){case"Empty":o=i;break;case"Add":r=Ry(r,{fiberId:t,fiberRef:s.fiberRef,value:s.value}),o=i;break;case"Remove":r=QM(r,s.fiberRef),o=i;break;case"Update":{const a=mu(r,s.fiberRef);r=Ry(r,{fiberId:t,fiberRef:s.fiberRef,value:s.fiberRef.patch(s.patch)(a)}),o=i;break}case JU:o=D_(s.first)(D_(s.second)(i))}}return r}),ky="effect/FiberStatus",bi=Symbol.for(ky),Ny="Done",eI="Running",tI="Suspended",whe=dt(`${ky}-${Ny}`);class She{[bi]=bi;_tag=Ny;[Q](){return whe}[J](t){return xy(t)&&t._tag===Ny}}class Dhe{runtimeFlags;[bi]=bi;_tag=eI;constructor(t){this.runtimeFlags=t}[Q](){return _(B(ky),se(B(this._tag)),se(B(this.runtimeFlags)),He(this))}[J](t){return xy(t)&&t._tag===eI&&this.runtimeFlags===t.runtimeFlags}}class Mhe{runtimeFlags;blockingOn;[bi]=bi;_tag=tI;constructor(t,n){this.runtimeFlags=t,this.blockingOn=n}[Q](){return _(B(ky),se(B(this._tag)),se(B(this.runtimeFlags)),se(B(this.blockingOn)),He(this))}[J](t){return xy(t)&&t._tag===tI&&this.runtimeFlags===t.runtimeFlags&&U(this.blockingOn,t.blockingOn)}}const xy=e=>W(e,bi),Nhe=new She,t$=e=>new Dhe(e),i$=gM,Bhe=IV(_(yi,DV(e=>e.ordinal))),l$=Symbol.for("effect/Micro"),Fy=Symbol.for("effect/Micro/MicroExit"),nI=Symbol.for("effect/Micro/MicroCause"),$he={_E:Se};class rI extends globalThis.Error{_tag;traces;[nI];constructor(t,n,r){const o=`MicroCause.${t}`;let s,i,a;if(n instanceof globalThis.Error){s=`(${o}) ${n.name}`,i=n.message;const c=i.split("\n").length;a=n.stack?`(${o}) ${n.stack.split("\n").slice(0,c+3).join("\n")}`:`${s}: ${i}`}else s=o,i=wl(n,0),a=`${s}: ${i}`;r.length>0&&(a+=`\n    ${r.join("\n    ")}`),super(i),this._tag=t,this.traces=r,this[nI]=$he,this.name=s,this.stack=a}pipe(){return z(this,arguments)}toString(){return this.stack}[qe](){return this.stack}}class qhe extends rI{defect;constructor(t,n=[]){super("Die",t,n),this.defect=t}}class Whe extends rI{constructor(t=[]){super("Interrupt","interrupted",t)}}const Ghe=(e=[])=>new Whe(e),d$=e=>"Interrupt"===e._tag,f$=Symbol.for("effect/Micro/MicroFiber"),Khe={_A:Se,_E:Se};class h${context;interruptible;[f$];_stack=[];_observers=[];_exit;_children;currentOpCount=0;constructor(t,n=!0){this.context=t,this.interruptible=n,this[f$]=Khe}getRef(t){return((e,t)=>e.unsafeMap.has(t.key)?e.unsafeMap.get(t.key):C_(t))(this.context,t)}addObserver(t){return this._exit?(t(this._exit),a_):(this._observers.push(t),()=>{const n=this._observers.indexOf(t);n>=0&&this._observers.splice(n,1)})}_interrupted=!1;unsafeInterrupt(){this._exit||(this._interrupted=!0,this.interruptible&&this.evaluate(cI))}unsafePoll(){return this._exit}evaluate(t){if(this._exit)return;if(void 0!==this._yielded){const o=this._yielded;this._yielded=void 0,o()}const n=this.runLoop(t);if(n===vu)return;const r=oI.interruptChildren&&oI.interruptChildren(this);if(void 0!==r)return this.evaluate(kn(r,()=>n));this._exit=n;for(let o=0;o<this._observers.length;o++)this._observers[o](n);this._observers.length=0}runLoop(t){let n=!1,r=t;this.currentOpCount=0;try{for(;;){if(this.currentOpCount++,!n&&this.getRef(jy).shouldYield(this)){n=!0;const o=r;r=kn(epe,()=>o)}if(r=r[sI](this),r===vu){const o=this._yielded;return Fy in o?(this._yielded=void 0,o):vu}}}catch(o){return W(r,sI)?Eu(o):Eu(`MicroFiber.runLoop: Not a valid effect: ${String(r)}`)}}getCont(t){for(;;){const n=this._stack.pop();if(!n)return;const r=n[Py]&&n[Py](this);if(r)return{[t]:r};if(n[t])return n}}_yielded=void 0;yieldWith(t){return this._yielded=t,vu}children(){return this._children??=new Set}}const oI=_e("effect/Micro/fiberMiddleware",()=>({interruptChildren:void 0})),g$=Symbol.for("effect/Micro/identifier"),Ne=Symbol.for("effect/Micro/args"),sI=Symbol.for("effect/Micro/evaluate"),ws=Symbol.for("effect/Micro/successCont"),yu=Symbol.for("effect/Micro/failureCont"),Py=Symbol.for("effect/Micro/ensureCont"),vu=Symbol.for("effect/Micro/Yield"),Jhe={...che,_op:"Micro",[l$]:{_A:Se,_E:Se,_R:Se},pipe(){return z(this,arguments)},[Symbol.iterator](){return new Uf(new $f(this))},toJSON(){return{_id:"Micro",op:this[g$],...Ne in this?{args:this[Ne]}:void 0}},toString(){return mt(this)},[qe](){return mt(this)}};function Zhe(e){return Eu("Micro.evaluate: Not implemented")}const Uh=e=>({...Jhe,[g$]:e.op,[sI]:e.eval??Zhe,[ws]:e.contA,[yu]:e.contE,[Py]:e.ensure}),Ss=e=>{const t=Uh(e);return function(){const n=Object.create(t);return n[Ne]=!1===e.single?arguments:arguments[0],n}},m$=e=>{const t={...Uh(e),[Fy]:Fy,_tag:e.op,get[e.prop](){return this[Ne]},toJSON(){return{_id:"MicroExit",_tag:e.op,[e.prop]:this[Ne]}},[J](n){return cpe(n)&&n._tag===e.op&&U(this[Ne],n[Ne])},[Q](){return He(this,se(dt(e.op))(B(this[Ne])))}};return function(n){const r=Object.create(t);return r[Ne]=n,r[ws]=void 0,r[yu]=void 0,r[Py]=void 0,r}},Xt=m$({op:"Success",prop:"value",eval(e){const t=e.getCont(ws);return t?t[ws](this[Ne],e):e.yieldWith(this)}}),Ei=m$({op:"Failure",prop:"cause",eval(e){let t=e.getCont(yu);for(;d$(this[Ne])&&t&&e.interruptible;)t=e.getCont(yu);return t?t[yu](this[Ne],e):e.yieldWith(this)}}),epe=Ss({op:"Yield",eval(e){let t=!1;return e.getRef(jy).scheduleTask(()=>{t||e.evaluate(Wa)},this[Ne]??0),e.yieldWith(()=>{t=!0})}})(0),wi=Xt(void 0),oo=Ss({op:"WithMicroFiber",eval(e){return this[Ne](e)}}),kn=h(2,(e,t)=>{const n=Object.create(ipe);return n[Ne]=e,n[ws]=t,n}),ipe=Uh({op:"OnSuccess",eval(e){return e._stack.push(this),this[Ne]}}),cpe=e=>W(e,Fy),Vy=Xt,Hh=Ei,cI=Hh(Ghe()),Eu=e=>Hh(((e,t=[])=>new qhe(e,t))(e)),Wa=Vy(void 0),upe="setImmediate"in globalThis?globalThis.setImmediate:e=>setTimeout(e,0);class uI{tasks=[];running=!1;scheduleTask(t,n){this.tasks.push(t),this.running||(this.running=!0,upe(this.afterScheduled))}afterScheduled=()=>{this.running=!1,this.runTasks()};runTasks(){const t=this.tasks;this.tasks=[];for(let n=0,r=t.length;n<r;n++)t[n]()}shouldYield(t){return t.currentOpCount>=t.getRef(gpe)}flush(){for(;this.tasks.length>0;)this.runTasks()}}const dpe=h(2,(e,t)=>oo(n=>{const r=n.context;return n.context=t(r),b$(e,()=>(n.context=r,wi))})),hpe=h(2,(e,t)=>dpe(e,Kf(t)));class gpe extends(S_()("effect/Micro/currentMaxOpsBeforeYield",{defaultValue:()=>2048})){}class jy extends(S_()("effect/Micro/currentScheduler",{defaultValue:()=>new uI})){}const bpe=h(2,(e,t)=>{const n=Object.create(Epe);return n[Ne]=e,n[ws]=t.onSuccess,n[yu]=t.onFailure,n}),Epe=Uh({op:"OnSuccessAndFailure",eval(e){return e._stack.push(this),this[Ne]}}),b$=h(2,(e,t)=>C$(n=>bpe(n(e),{onFailure:r=>kn(t(Hh(r)),()=>Ei(r)),onSuccess:r=>kn(t(Vy(r)),()=>Xt(r))}))),Uy=Ss({op:"SetInterruptible",ensure(e){if(e.interruptible=this[Ne],e._interrupted&&e.interruptible)return()=>cI}}),pI=e=>oo(t=>t.interruptible?e:(t.interruptible=!0,t._stack.push(Uy(!1)),t._interrupted?cI:e)),C$=e=>oo(t=>t.interruptible?(t.interruptible=!1,t._stack.push(Uy(!0)),e(pI)):e(Se));class Hy{buckets=[];scheduleTask(t,n){const r=this.buckets.length;let o,s=0;for(;s<r&&this.buckets[s][0]<=n;s++)o=this.buckets[s];o&&o[0]===n?o[1].push(t):s===r?this.buckets.push([n,[t]]):this.buckets.splice(s,0,[n,[t]])}}class Wpe{maxNextTickBeforeTimer;running=!1;tasks=new Hy;constructor(t){this.maxNextTickBeforeTimer=t}starveInternal(t){const n=this.tasks.buckets;this.tasks.buckets=[];for(const[r,o]of n)for(let s=0;s<o.length;s++)o[s]();0===this.tasks.buckets.length?this.running=!1:this.starve(t)}starve(t=0){t>=this.maxNextTickBeforeTimer?setTimeout(()=>this.starveInternal(0),0):Promise.resolve(void 0).then(()=>this.starveInternal(t+1))}shouldYield(t){return t.currentOpCount>t.getFiberRef(_M)&&t.getFiberRef(cu)}scheduleTask(t,n){this.tasks.scheduleTask(t,n),this.running||(this.running=!0,this.starve())}}const Wh=_e(Symbol.for("effect/Scheduler/defaultScheduler"),()=>new Wpe(2048)),zy=_e(Symbol.for("effect/FiberRef/currentScheduler"),()=>Wt(Wh)),bI=(e,t)=>({_tag:"Par",left:e,right:t}),Gh=(e,t)=>({_tag:"Seq",left:e,right:t}),Zpe=e=>{let t=e,n=O$(),r=wa(),o=wa();for(;;)switch(t._tag){case"Empty":if(Mt(r))return[n,o];t=r.head,r=r.tail;break;case"Par":r=Ca(t.right,r),t=t.left;break;case"Seq":{const s=t.left,i=t.right;switch(s._tag){case"Empty":t=i;break;case"Par":{const c=s.right;t=bI(Gh(s.left,i),Gh(c,i));break}case"Seq":t=Gh(s.left,Gh(s.right,i));break;case"Single":t=s,o=Ca(i,o)}break}case"Single":if(n=ige(n,t),Mt(r))return[n,o];t=r.head,r=r.tail}throw new Error("BUG: BlockedRequests.step - please report an issue at https://github.com/Effect-TS/effect/issues")},ege=(e,t)=>{if(Mt(e))return GD(wI(t));if(cge(t))return e;const n=pge(e.head),r=lge(t);return 1===n.length&&1===r.length&&U(n[0],r[0])?Ca(hge(e.head,wI(t)),e.tail):Ca(wI(t),e)},oge=Symbol.for("effect/RequestBlock/RequestBlockParallel"),sge={_R:e=>e};class Wy{map;[oge]=sge;constructor(t){this.map=t}}const O$=()=>new Wy(H_()),ige=(e,t)=>new Wy(Oce(e.map,t.dataSource,n=>cie(Il(n,GV(t.blockedRequest)),()=>zt(t.blockedRequest)))),age=(e,t)=>new Wy(z_(e.map,t.map,(n,r,o)=>No(n,o,ir(q_(n,o),{onNone:()=>r,onSome:s=>Sr(r,s)})))),cge=e=>(e=>e&&Zr(e._root))(e.map),lge=e=>Array.from(Nj(e.map)),wI=e=>fge(Rce(e.map,t=>zt(t))),uge=Symbol.for("effect/RequestBlock/RequestBlockSequential"),dge={_R:e=>e};class R${map;[uge]=dge;constructor(t){this.map=t}}const fge=e=>new R$(e),hge=(e,t)=>new R$(z_(t.map,e.map,(n,r,o)=>No(n,o,ir(q_(n,o),{onNone:()=>cn(),onSome:s=>Sr(s,r)})))),pge=e=>Array.from(Nj(e.map)),SI=_e(Symbol.for("effect/FiberRef/currentRequestMap"),()=>Wt(new Map)),Cge=e=>t=>`${t.label.replace(/[\s="]/g,"_")}=${e-t.startTime}ms`,N$="effect/MetricLabel",MI=Symbol.for(N$);class Ige{key;value;[MI]=MI;_hash;constructor(t,n){this.key=t,this.value=n,this._hash=dt(N$+this.key+this.value)}[Q](){return this._hash}[J](t){return Tge(t)&&this.key===t.key&&this.value===t.value}pipe(){return z(this,arguments)}}const Xy=(e,t)=>new Ige(e,t),Tge=e=>W(e,MI),FI="InterruptSignal",PI="Stateful",LI="Resume",VI="YieldNow",jI=e=>({_tag:FI,cause:e}),nv=e=>({_tag:PI,onFiber:e}),wu=e=>({_tag:LI,effect:e}),rv=Symbol.for("effect/FiberScope");class w_e{[rv]=rv;fiberId=ko;roots=new Set;add(t,n){this.roots.add(n),n.addObserver(()=>{this.roots.delete(n)})}}class S_e{fiberId;parent;[rv]=rv;constructor(t,n){this.fiberId=t,this.parent=n}add(t,n){this.parent.tell(nv(r=>{r.addChild(n),n.addObserver(()=>{r.removeChild(n)})}))}}const Su=_e(Symbol.for("effect/FiberScope/Global"),()=>new w_e),Du=Symbol.for("effect/Fiber"),ov={_E:e=>e,_A:e=>e},BI=Symbol.for("effect/Fiber"),Nn=e=>Ah(Rr(e.await),e.inheritAll),Di="effect/FiberCurrent",av=Symbol.for("effect/Logger"),qI={_Message:e=>e,_Output:e=>e},Ya=e=>({[av]:qI,log:e,pipe(){return z(this,arguments)}}),X_e=Ya(({annotations:e,cause:t,date:n,fiberId:r,logLevel:o,message:s,spans:i})=>{const a=n.getTime();let l=[`timestamp=${n.toISOString()}`,`level=${o.label}`,`fiber=${HD(r)}`].join(" ");const u=(e=>Array.isArray(e)?e:[e])(s);for(let d=0;d<u.length;d++){const f=wl(u[d]);f.length>0&&(l+=" message=",l=zI(f,l))}if(null!=t&&"Empty"!==t._tag&&(l+=" cause=",l=zI(bh(t,{renderErrorCause:!0}),l)),WD(i)){l+=" ";let d=!0;for(const f of i)d?d=!1:l+=" ",l+=_(f,Cge(a))}if(xj(e)>0){l+=" ";let d=!0;for(const[f,p]of e)d?d=!1:l+=" ",l+=vH(f),l+="=",l=zI(wl(p),l)}return l}),yH=/^[^\s"=]+$/,zI=(e,t)=>t+(e.match(yH)?e:(e=>`"${e.replace(/\\([\s\S])|(")/g,"\\$1$2")}"`)(e)),vH=e=>e.replace(/[\s="]/g,"_"),EH="object"==typeof process&&null!==process&&"object"==typeof process.stdout&&null!==process.stdout,Iu=(EH&&process,EH||globalThis,Symbol.for("effect/MetricKeyType")),wH="effect/MetricKeyType/Counter",WI=Symbol.for(wH),GI=Symbol.for("effect/MetricKeyType/Frequency"),XI=Symbol.for("effect/MetricKeyType/Gauge"),MH="effect/MetricKeyType/Histogram",KI=Symbol.for(MH),YI=Symbol.for("effect/MetricKeyType/Summary"),Yh={_In:e=>e,_Out:e=>e};class iye{incremental;bigint;[Iu]=Yh;[WI]=WI;constructor(t,n){this.incremental=t,this.bigint=n,this._hash=dt(wH)}_hash;[Q](){return this._hash}[J](t){return TH(t)}pipe(){return z(this,arguments)}}class dye{boundaries;[Iu]=Yh;[KI]=KI;constructor(t){this.boundaries=t,this._hash=_(dt(MH),se(B(this.boundaries)))}_hash;[Q](){return this._hash}[J](t){return AH(t)&&U(this.boundaries,t.boundaries)}pipe(){return z(this,arguments)}}const TH=e=>W(e,WI),AH=e=>W(e,KI),NH=Symbol.for("effect/MetricKey"),gye={_Type:e=>e},mye=DD(U);class Tu{name;keyType;description;tags;[NH]=gye;constructor(t,n,r,o=[]){this.name=t,this.keyType=n,this.description=r,this.tags=o,this._hash=_(dt(this.name+this.description),se(B(this.keyType)),se(da(this.tags)))}_hash;[Q](){return this._hash}[J](t){return _ye(t)&&this.name===t.name&&U(this.keyType,t.keyType)&&U(this.description,t.description)&&mye(this.tags,t.tags)}pipe(){return z(this,arguments)}}const _ye=e=>W(e,NH),bye=h(2,(e,t)=>0===t.length?e:new Tu(e.name,e.keyType,e.description,Ol(e.tags,t))),xH=Symbol.for("effect/MutableHashMap"),Eye={[xH]:xH,[Symbol.iterator](){return new QI(this)},toString(){return mt(this.toJSON())},toJSON(){return{_id:"MutableHashMap",values:Array.from(this).map(it)}},[qe](){return this.toJSON()},pipe(){return z(this,arguments)}};class QI{self;referentialIterator;bucketIterator;constructor(t){this.self=t,this.referentialIterator=t.referential[Symbol.iterator]()}next(){if(void 0!==this.bucketIterator)return this.bucketIterator.next();const t=this.referentialIterator.next();return t.done?(this.bucketIterator=new Cye(this.self.buckets.values()),this.next()):t}[Symbol.iterator](){return new QI(this.self)}}class Cye{backing;constructor(t){this.backing=t}currentBucket;next(){if(void 0===this.currentBucket){const n=this.backing.next();if(n.done)return n;this.currentBucket=n.value[Symbol.iterator]()}const t=this.currentBucket.next();return t.done?(this.currentBucket=void 0,this.next()):t}}const Qh=()=>{const e=Object.create(Eye);return e.referential=new Map,e.buckets=new Map,e.bucketsSize=0,e},rn=h(2,(e,t)=>{if(!1===Hf(t))return e.referential.has(t)?A(e.referential.get(t)):I();const n=t[Q](),r=e.buckets.get(n);return void 0===r?I():Sye(e,r,t)}),Sye=(e,t,n,r=!1)=>{for(let o=0,s=t.length;o<s;o++)if(n[J](t[o][0])){const i=t[o][1];return r&&(t.splice(o,1),e.bucketsSize--),A(i)}return I()},Ds=h(2,(e,t)=>de(rn(e,t))),Pr=h(3,(e,t,n)=>{if(!1===Hf(t))return e.referential.set(t,n),e;const r=t[Q](),o=e.buckets.get(r);return void 0===o?(e.buckets.set(r,[[t,n]]),e.bucketsSize++,e):(FH(e,o,t),o.push([t,n]),e.bucketsSize++,e)}),FH=(e,t,n)=>{for(let r=0,o=t.length;r<o;r++)if(n[J](t[r][0]))return t.splice(r,1),void e.bucketsSize--},Ru=Symbol.for("effect/MetricState"),PH="effect/MetricState/Counter",ZI=Symbol.for(PH),LH="effect/MetricState/Frequency",e0=Symbol.for(LH),VH="effect/MetricState/Gauge",t0=Symbol.for(VH),jH="effect/MetricState/Histogram",n0=Symbol.for(jH),BH="effect/MetricState/Summary",r0=Symbol.for(BH),Jh={_A:e=>e};class Dye{count;[Ru]=Jh;[ZI]=ZI;constructor(t){this.count=t}[Q](){return _(B(PH),se(B(this.count)),He(this))}[J](t){return Pye(t)&&this.count===t.count}pipe(){return z(this,arguments)}}const Mye=DD(U);class Iye{occurrences;[Ru]=Jh;[e0]=e0;constructor(t){this.occurrences=t}_hash;[Q](){return _(dt(LH),se(da(ce(this.occurrences.entries()))),He(this))}[J](t){return Lye(t)&&Mye(ce(this.occurrences.entries()),ce(t.occurrences.entries()))}pipe(){return z(this,arguments)}}class Tye{value;[Ru]=Jh;[t0]=t0;constructor(t){this.value=t}[Q](){return _(B(VH),se(B(this.value)),He(this))}[J](t){return Vye(t)&&this.value===t.value}pipe(){return z(this,arguments)}}class Oye{buckets;count;min;max;sum;[Ru]=Jh;[n0]=n0;constructor(t,n,r,o,s){this.buckets=t,this.count=n,this.min=r,this.max=o,this.sum=s}[Q](){return _(B(jH),se(B(this.buckets)),se(B(this.count)),se(B(this.min)),se(B(this.max)),se(B(this.sum)),He(this))}[J](t){return jye(t)&&U(this.buckets,t.buckets)&&this.count===t.count&&this.min===t.min&&this.max===t.max&&this.sum===t.sum}pipe(){return z(this,arguments)}}class Rye{error;quantiles;count;min;max;sum;[Ru]=Jh;[r0]=r0;constructor(t,n,r,o,s,i){this.error=t,this.quantiles=n,this.count=r,this.min=o,this.max=s,this.sum=i}[Q](){return _(B(BH),se(B(this.error)),se(B(this.quantiles)),se(B(this.count)),se(B(this.min)),se(B(this.max)),se(B(this.sum)),He(this))}[J](t){return Bye(t)&&this.error===t.error&&U(this.quantiles,t.quantiles)&&this.count===t.count&&this.min===t.min&&this.max===t.max&&this.sum===t.sum}pipe(){return z(this,arguments)}}const Pye=e=>W(e,ZI),Lye=e=>W(e,e0),Vye=e=>W(e,t0),jye=e=>W(e,n0),Bye=e=>W(e,r0),Uye=Symbol.for("effect/MetricHook"),$ye={_In:e=>e,_Out:e=>e},Zh=e=>({[Uye]:$ye,pipe(){return z(this,arguments)},...e}),UH=BigInt(0),Xye=(e,t,n)=>{const r=n.length;if(!an(t))return[];const o=t[0],s=t.slice(1),i=$H(e,r,I(),0,o,n),a=wr(i);return s.forEach(c=>{a.push($H(e,r,i.value,i.consumed,c,i.rest))}),Rl(a,c=>[c.quantile,c.value])},$H=(e,t,n,r,o,s)=>{let i=e,a=t,c=n,l=r,u=o,d=s,f=e,p=t,g=n,m=r,y=o,b=s;for(;;){if(!an(d))return{quantile:u,value:I(),consumed:l,rest:[]};if(1===u)return{quantile:u,value:A(wD(d)),consumed:l+d.length,rest:[]};const C=Lie(d,nt=>nt<=d[0]),k=u*a,V=i/2*k,$=l+C[0].length,fe=Math.abs($-k);if($<k-V)f=i,p=a,g=Qf(d),m=$,y=u,b=C[1],i=f,a=p,c=g,l=m,u=y,d=b;else{if($>k+V)return{quantile:u,value:c,consumed:l,rest:d};switch(c._tag){case"None":f=i,p=a,g=Qf(d),m=$,y=u,b=C[1],i=f,a=p,c=g,l=m,u=y,d=b;continue;case"Some":if(fe<Math.abs(k-c.value)){f=i,p=a,g=Qf(d),m=$,y=u,b=C[1],i=f,a=p,c=g,l=m,u=y,d=b;continue}return{quantile:u,value:A(c.value),consumed:l,rest:d}}}}throw new Error("BUG: MetricHook.resolveQuantiles - please report an issue at https://github.com/Effect-TS/effect/issues")},HH=Symbol.for("effect/MetricPair"),qH={_Type:e=>e},Kye=(e,t)=>({[HH]:qH,metricKey:e,metricState:t,pipe(){return z(this,arguments)}}),zH=Symbol.for("effect/MetricRegistry");class Yye{[zH]=zH;map=Qh();snapshot(){const t=[];for(const[n,r]of this.map)t.push(Kye(n,r.get()));return t}get(t){const n=_(this.map,rn(t),cr);if(null==n){if(TH(t.keyType))return this.getCounter(t);if(W(t.keyType,XI))return this.getGauge(t);if((e=>W(e,GI))(t.keyType))return this.getFrequency(t);if(AH(t.keyType))return this.getHistogram(t);if((e=>W(e,YI))(t.keyType))return this.getSummary(t);throw new Error("BUG: MetricRegistry.get - unknown MetricKeyType - please report an issue at https://github.com/Effect-TS/effect/issues")}return n}getCounter(t){let n=_(this.map,rn(t),cr);if(null==n){const r=(e=>{let t=e.keyType.bigint?UH:0;const n=e.keyType.incremental?e.keyType.bigint?o=>o>=UH:o=>o>=0:o=>!0,r=o=>{n(o)&&(t+=o)};return Zh({get:()=>(e=>new Dye(e))(t),update:r,modify:r})})(t);_(this.map,Ds(t))||_(this.map,Pr(t,r)),n=r}return n}getFrequency(t){let n=_(this.map,rn(t),cr);if(null==n){const r=(e=>{const t=new Map;for(const r of e.keyType.preregisteredWords)t.set(r,0);const n=r=>{const o=t.get(r)??0;t.set(r,o+1)};return Zh({get:()=>(e=>new Iye(e))(t),update:n,modify:n})})(t);_(this.map,Ds(t))||_(this.map,Pr(t,r)),n=r}return n}getGauge(t){let n=_(this.map,rn(t),cr);if(null==n){const r=((e,t)=>{let n=t;return Zh({get:()=>(e=>new Tye(e))(n),update:r=>{n=r},modify:r=>{n+=r}})})(0,t.keyType.bigint?BigInt(0):0);_(this.map,Ds(t))||_(this.map,Pr(t,r)),n=r}return n}getHistogram(t){let n=_(this.map,rn(t),cr);if(null==n){const r=(e=>{const t=e.keyType.boundaries.values,n=t.length,r=new Uint32Array(n+1),o=new Float32Array(n);let s=0,i=0,a=Number.MAX_VALUE,c=Number.MIN_VALUE;_(t,Jf(yi),Rl((d,f)=>{o[f]=d}));const l=d=>{let f=0,p=n;for(;f!==p;){const g=Math.floor(f+(p-f)/2);d<=o[g]?p=g:f=g,p===f+1&&(d<=o[f]?p=f:f=p)}r[f]=r[f]+1,s+=1,i+=d,d<a&&(a=d),d>c&&(c=d)},u=()=>{const d=CD(n);let f=0;for(let p=0;p<n;p++)f+=r[p],d[p]=[o[p],f];return d};return Zh({get:()=>(e=>new Oye(e.buckets,e.count,e.min,e.max,e.sum))({buckets:u(),count:s,min:a,max:c,sum:i}),update:l,modify:l})})(t);_(this.map,Ds(t))||_(this.map,Pr(t,r)),n=r}return n}getSummary(t){let n=_(this.map,rn(t),cr);if(null==n){const r=(e=>{const{error:t,maxAge:n,maxSize:r,quantiles:o}=e.keyType,s=_(o,Jf(yi)),i=CD(r);let a=0,c=0,l=0,u=Number.MAX_VALUE,d=Number.MIN_VALUE;const f=g=>{const m=[];let y=0;for(;y!==r-1;){const b=i[y];if(null!=b){const[C,k]=b,V=eh(g-C);mae(V,aae)&&V<=n&&m.push(k)}y+=1}return Xye(t,s,Jf(m,yi))},p=(g,m)=>{r>0&&(a+=1,i[a%r]=[m,g]),c+=1,l+=g,g<u&&(u=g),g>d&&(d=g)};return Zh({get:()=>(e=>new Rye(e.error,e.quantiles,e.count,e.min,e.max,e.sum))({error:t,quantiles:f(Date.now()),count:c,min:u,max:d,sum:l}),update:([g,m])=>p(g,m),modify:([g,m])=>p(g,m)})})(t);_(this.map,Ds(t))||_(this.map,Pr(t,r)),n=r}return n}}const Jye=Symbol.for("effect/Metric"),Zye={_Type:e=>e,_In:e=>e,_Out:e=>e},o0=_e(Symbol.for("effect/Metric/globalMetricRegistry"),()=>new Yye),cv=function(e,t,n,r){const o=Object.assign(s=>xa(s,i=>WH(o,i)),{[Jye]:Zye,keyType:e,unsafeUpdate:t,unsafeValue:n,unsafeModify:r,register(){return this.unsafeValue([]),this},pipe(){return z(this,arguments)}});return o},lv=(e,t)=>ep(((e,t)=>new Tu(e,(e=>new iye(e?.incremental??!1,e?.bigint??!1))(t),Ml(t?.description)))(e,t)),ep=e=>{let t;const n=new WeakMap,r=o=>{if(0===o.length)return void 0!==t||(t=o0.get(e)),t;let s=n.get(o);return void 0!==s||(s=o0.get(bye(e,o)),n.set(o,s)),s};return cv(e.keyType,(o,s)=>r(s).update(o),o=>r(o).get(),(o,s)=>r(s).modify(o))},a0=(e,t,n)=>ep(((e,t,n)=>new Tu(e,(e=>new dye(e))(t),Ml(n)))(e,t,n)),c0=h(3,(e,t,n)=>nve(e,[Xy(t,n)])),nve=h(2,(e,t)=>cv(e.keyType,(n,r)=>e.unsafeUpdate(n,Ol(t,r)),n=>e.unsafeValue(Ol(t,n)),(n,r)=>e.unsafeModify(n,Ol(t,r)))),WH=h(2,(e,t)=>Ar(lu,n=>T(()=>e.unsafeUpdate(t,n)))),GH="effect/MetricBoundaries",l0=Symbol.for(GH);class ove{values;[l0]=l0;constructor(t){this.values=t,this._hash=_(dt(GH),se(da(this.values)))}_hash;[Q](){return this._hash}[J](t){return sve(t)&&U(this.values,t.values)}pipe(){return z(this,arguments)}}const sve=e=>W(e,l0),XH=e=>{const t=_(e,kV(zt(Number.POSITIVE_INFINITY)),Jie);return new ove(t)},ive=e=>_(((e,t)=>{const n=Math.max(1,Math.floor(e)),r=new Array(n);for(let o=0;o<n;o++)r[o]=t(o);return r})(e.count-1,t=>e.start*Math.pow(e.factor,t)),lr,XH),Qa=h(2,(e,t)=>Ar(SI,n=>T(()=>{if(n.has(e)){const r=n.get(e);r.state.completed||(r.state.completed=!0,FM(r.result,t))}}))),Au=Symbol.for("effect/Supervisor"),tp={_T:e=>e};class ku{underlying;value0;[Au]=tp;constructor(t,n){this.underlying=t,this.value0=n}get value(){return this.value0}onStart(t,n,r,o){this.underlying.onStart(t,n,r,o)}onEnd(t,n){this.underlying.onEnd(t,n)}onEffect(t,n){this.underlying.onEffect(t,n)}onSuspend(t){this.underlying.onSuspend(t)}onResume(t){this.underlying.onResume(t)}map(t){return new ku(this,_(this.value,F(t)))}zip(t){return new Nu(this,t)}}class Nu{left;right;_tag="Zip";[Au]=tp;constructor(t,n){this.left=t,this.right=n}get value(){return fy(this.left.value,this.right.value)}onStart(t,n,r,o){this.left.onStart(t,n,r,o),this.right.onStart(t,n,r,o)}onEnd(t,n){this.left.onEnd(t,n),this.right.onEnd(t,n)}onEffect(t,n){this.left.onEffect(t,n),this.right.onEffect(t,n)}onSuspend(t){this.left.onSuspend(t),this.right.onSuspend(t)}onResume(t){this.left.onResume(t),this.right.onResume(t)}map(t){return new ku(this,_(this.value,F(t)))}zip(t){return new Nu(this,t)}}const QH=e=>W(e,Au)&&u_(e,"Zip");class _ve{effect;[Au]=tp;constructor(t){this.effect=t}get value(){return this.effect}onStart(t,n,r,o){}onEnd(t,n){}onEffect(t,n){}onSuspend(t){}onResume(t){}map(t){return new ku(this,_(this.value,F(t)))}zip(t){return new Nu(this,t)}onRun(t,n){return t()}}const uv=_e("effect/Supervisor/none",()=>new _ve(Z)),ZH="AddSupervisor",e3="RemoveSupervisor",t3="AndThen",np={_tag:"Empty"},dv=(e,t)=>({_tag:t3,first:e,second:t}),f0=(e,t)=>U(e,t)?uv:QH(e)?f0(e.left,t).zip(f0(e.right,t)):e,fv=e=>U(e,uv)?di():QH(e)?_(fv(e.left),Hl(fv(e.right))):j_(e),Sve=eo({empty:np,patch:(e,t)=>((e,t)=>{let n=e,r=t;for(;_t(r);){const o=Me(r);switch(o._tag){case"Empty":r=ht(r);break;case ZH:n=n.zip(o.supervisor),r=ht(r);break;case e3:n=f0(n,o.supervisor),r=ht(r);break;case t3:r=ft(o.first)(ft(o.second)(ht(r)))}}return n})(t,zt(e)),combine:dv,diff:(e,t)=>{if(U(e,t))return np;const n=fv(e),r=fv(t),o=_(r,wj(n),ah(np,(i,a)=>dv(i,{_tag:ZH,supervisor:a}))),s=_(n,wj(r),ah(np,(i,a)=>dv(i,{_tag:e3,supervisor:a})));return dv(o,s)}}),Dve=lv("effect_fiber_started",{incremental:!0}),n3=lv("effect_fiber_active"),Mve=lv("effect_fiber_successes",{incremental:!0}),Ive=lv("effect_fiber_failures",{incremental:!0}),Tve=c0(a0("effect_fiber_lifetimes",ive({start:.5,factor:2,count:35})),"time_unit","milliseconds"),rp="Continue",Rve={_E:e=>e,_A:e=>e},hv=e=>{throw new Error(`BUG: FiberRuntime - ${wl(e)} - please report an issue at https://github.com/Effect-TS/effect/issues`)},Ms=Symbol.for("effect/internal/fiberRuntime/YieldedOp"),Is=_e("effect/internal/fiberRuntime/yieldedOpChannel",()=>({currentOp:null})),op={[m_]:(e,t,n)=>Zt(()=>t.effect_instruction_i1(n)),OnStep:(e,t,n)=>Ie(Ie(n)),[__]:(e,t,n)=>Zt(()=>t.effect_instruction_i2(n)),[cD]:(e,t,n)=>(e.patchRuntimeFlags(e.currentRuntimeFlags,t.patch),ms(e.currentRuntimeFlags)&&e.isInterrupted()?ve(e.getInterruptedCause()):Ie(n)),[y_]:(e,t,n)=>(Zt(()=>t.effect_instruction_i2(n)),Zt(()=>t.effect_instruction_i0())?(e.pushStack(t),Zt(()=>t.effect_instruction_i1())):Z),[zf]:(e,t,n)=>{const r=Zt(()=>t.effect_instruction_i0.next(n));return r.done?Ie(r.value):(e.pushStack(t),function Q2(e){if("object"==typeof e&&null!==e&&nD in e)return e[nD]();throw new Error(Bf("yieldWrapGet"))}(r.value))}},Ave={[FI]:(e,t,n,r)=>(e.processNewInterruptSignal(r.cause),ms(t)?ve(r.cause):n),[LI]:(e,t,n,r)=>{throw new Error("It is illegal to have multiple concurrent run loops in a single fiber")},[PI]:(e,t,n,r)=>(r.onFiber(e,t$(t)),n),[VI]:(e,t,n,r)=>v(Pa(),()=>n)};class o3 extends Oy{[Du]=ov;[BI]=Rve;_fiberRefs;_fiberId;_queue=new Array;_children=null;_observers=new Array;_running=!1;_stack=[];_asyncInterruptor=null;_asyncBlockingOn=null;_exitValue=null;_steps=[];_isYielding=!1;currentRuntimeFlags;currentOpCount=0;currentSupervisor;currentScheduler;currentTracer;currentSpan;currentContext;currentDefaultServices;constructor(t,n,r){if(super(),this.currentRuntimeFlags=r,this._fiberId=t,this._fiberRefs=n,cB(r)){const o=this.getFiberRef(lu);Dve.unsafeUpdate(1,o),n3.unsafeUpdate(1,o)}this.refreshRefCache()}commit(){return Nn(this)}id(){return this._fiberId}resume(t){this.tell(wu(t))}get status(){return this.ask((t,n)=>n)}get runtimeFlags(){return this.ask((t,n)=>n._tag===Ny?t.currentRuntimeFlags:n.runtimeFlags)}scope(){return new S_e((e=this).id(),e);var e}get children(){return this.ask(t=>Array.from(t.getChildren()))}getChildren(){return null===this._children&&(this._children=new Set),this._children}getInterruptedCause(){return this.getFiberRef(Nh)}fiberRefs(){return this.ask(t=>t.getFiberRefs())}ask(t){return q(()=>{const n=NM(this._fiberId);return this.tell(nv((r,o)=>{FM(n,T(()=>t(r,o)))})),kr(n)})}tell(t){this._queue.push(t),this._running||(this._running=!0,this.drainQueueLaterOnExecutor())}get await(){return to(t=>{const n=r=>t(D(r));return this.tell(nv((r,o)=>{null!==r._exitValue?n(this._exitValue):r.addObserver(n)})),T(()=>this.tell(nv((r,o)=>{r.removeObserver(n)})))},this.id())}get inheritAll(){return we((t,n)=>{const r=t.id(),o=t.getFiberRefs(),s=n.runtimeFlags,i=this.getFiberRefs(),a=$U(o,r,i);t.setFiberRefs(a);const c=t.getFiberRef(y3);return(e=>{const t=new It(ha);return t.effect_instruction_i0=e,t.effect_instruction_i1=void 0,t})(_(_s(s,c),gB(1),gB(16)))})}get poll(){return T(()=>Ml(this._exitValue))}unsafePoll(){return this._exitValue}interruptAsFork(t){return T(()=>this.tell(jI(ur(t))))}unsafeInterruptAsFork(t){this.tell(jI(ur(t)))}addObserver(t){null!==this._exitValue?t(this._exitValue):this._observers.push(t)}removeObserver(t){this._observers=this._observers.filter(n=>n!==t)}getFiberRefs(){return this.setFiberRef(y3,this.currentRuntimeFlags),this._fiberRefs}unsafeDeleteFiberRef(t){this._fiberRefs=QM(this._fiberRefs,t)}getFiberRef(t){return this._fiberRefs.locals.has(t)?this._fiberRefs.locals.get(t)[0][1]:t.initial}setFiberRef(t,n){this._fiberRefs=Ry(this._fiberRefs,{fiberId:this._fiberId,fiberRef:t,value:n}),this.refreshRefCache()}refreshRefCache(){this.currentDefaultServices=this.getFiberRef(Gt),this.currentTracer=this.currentDefaultServices.unsafeMap.get(qa.key),this.currentSupervisor=this.getFiberRef(v3),this.currentScheduler=this.getFiberRef(zy),this.currentContext=this.getFiberRef(Po),this.currentSpan=this.currentContext.unsafeMap.get(Cs.key)}setFiberRefs(t){this._fiberRefs=t,this.refreshRefCache()}addChild(t){this.getChildren().add(t)}removeChild(t){this.getChildren().delete(t)}transferChildren(t){const n=this._children;if(this._children=null,null!==n&&n.size>0)for(const r of n)null===r._exitValue&&t.add(this.currentRuntimeFlags,r)}drainQueueOnCurrentThread(){let t=!0;for(;t;){let n=rp;const r=globalThis[Di];globalThis[Di]=this;try{for(;n===rp;)n=0===this._queue.length?"Done":this.evaluateMessageWhileSuspended(this._queue.splice(0,1)[0])}finally{this._running=!1,globalThis[Di]=r}this._queue.length>0&&!this._running?(this._running=!0,"Yield"===n?(this.drainQueueLaterOnExecutor(),t=!1):t=!0):t=!1}}drainQueueLaterOnExecutor(){this.currentScheduler.scheduleTask(this.run,this.getFiberRef(cu))}drainQueueWhileRunning(t,n){let r=n;for(;this._queue.length>0;){const o=this._queue.splice(0,1)[0];r=Ave[o._tag](this,t,r,o)}return r}isInterrupted(){return!((e=this.getFiberRef(Nh))._tag===Gl||tu(e,!0,(t,n)=>{switch(n._tag){case Gl:return A(t);case Wl:case Xl:case Kl:return A(!1);default:return I()}}));var e}addInterruptedCause(t){const n=this.getFiberRef(Nh);this.setFiberRef(Nh,pt(n,t))}processNewInterruptSignal(t){this.addInterruptedCause(t),this.sendInterruptSignalToAllChildren()}sendInterruptSignalToAllChildren(){if(null===this._children||0===this._children.size)return!1;let t=!1;for(const n of this._children)n.tell(jI(ur(this.id()))),t=!0;return t}interruptAllChildren(){if(this.sendInterruptSignalToAllChildren()){const t=this._children.values();this._children=null;let n=!1;return dy({while:()=>!n,body:()=>{const o=t.next();return o.done?T(()=>{n=!0}):tn(o.value.await)},step:()=>{}})}return null}reportExitValue(t){if(cB(this.currentRuntimeFlags)){const n=this.getFiberRef(lu),r=this.id().startTimeMillis,o=Date.now();switch(Tve.unsafeUpdate(o-r,n),n3.unsafeUpdate(-1,n),t._tag){case We:Mve.unsafeUpdate(1,n);break;case ze:Ive.unsafeUpdate(1,n)}}if("Failure"===t._tag){const n=this.getFiberRef(sU);!iM(t.cause)&&"Some"===n._tag&&this.log("Fiber terminated with an unhandled error",t.cause,n)}}setExitValue(t){this._exitValue=t,this.reportExitValue(t);for(let n=this._observers.length-1;n>=0;n--)this._observers[n](t);this._observers=[]}getLoggers(){return this.getFiberRef(Lve)}log(t,n,r){const o=de(r)?r.value:this.getFiberRef(gde),s=this.getFiberRef(Nve);if(Bhe(s,o))return;const i=this.getFiberRef(nU),a=this.getFiberRef(kh),c=this.getLoggers(),l=this.getFiberRefs();if(sh(c)>0){const u=To(this.getFiberRef(Gt),Es),d=new Date(u.unsafeCurrentTimeMillis());((e,t)=>{const n=fa.fiberRefs;fa.fiberRefs=e;try{return t()}finally{fa.fiberRefs=n}})(l,()=>{for(const f of c)f.log({fiberId:this.id(),logLevel:o,message:t,cause:n,context:l,spans:i,annotations:a,date:d})})}}evaluateMessageWhileSuspended(t){switch(t._tag){case VI:return"Yield";case FI:return this.processNewInterruptSignal(t.cause),null!==this._asyncInterruptor&&(this._asyncInterruptor(ve(t.cause)),this._asyncInterruptor=null),rp;case LI:return this._asyncInterruptor=null,this._asyncBlockingOn=null,this.evaluateEffect(t.effect),rp;case PI:return t.onFiber(this,null!==this._exitValue?Nhe:((e,t)=>new Mhe(e,t))(this.currentRuntimeFlags,this._asyncBlockingOn)),rp;default:return hv(t)}}evaluateEffect(t){this.currentSupervisor.onResume(this);try{let n=ms(this.currentRuntimeFlags)&&this.isInterrupted()?ve(this.getInterruptedCause()):t;for(;null!==n;){const o=this.runLoop(n);if(o===Ms){const s=Is.currentOp;Is.currentOp=null,s._op===v_?Sa(this.currentRuntimeFlags,32)?(this.tell({_tag:VI}),this.tell(wu(fr)),n=null):n=fr:s._op===qf&&(n=null)}else{this.currentRuntimeFlags=_(this.currentRuntimeFlags,Cue(16));const s=this.interruptAllChildren();null!==s?n=v(s,()=>o):(0===this._queue.length?this.setExitValue(o):this.tell(wu(o)),n=null)}}}finally{this.currentSupervisor.onSuspend(this)}}start(t){if(this._running)this.tell(wu(t));else{this._running=!0;const n=globalThis[Di];globalThis[Di]=this;try{this.evaluateEffect(t)}finally{this._running=!1,globalThis[Di]=n,this._queue.length>0&&this.drainQueueLaterOnExecutor()}}}startFork(t){this.tell(wu(t))}patchRuntimeFlags(t,n){const r=Da(t,n);return globalThis[Di]=this,this.currentRuntimeFlags=r,r}initiateAsync(t,n){let r=!1;const o=s=>{r||(r=!0,this.tell(wu(s)))};ms(t)&&(this._asyncInterruptor=o);try{n(o)}catch(s){o(ye(ln(s)))}}pushStack(t){this._stack.push(t),"OnStep"===t._op&&this._steps.push({refs:this.getFiberRefs(),flags:this.currentRuntimeFlags})}popStack(){const t=this._stack.pop();if(t)return"OnStep"===t._op&&this._steps.pop(),t}getNextSuccessCont(){let t=this.popStack();for(;t;){if(t._op!==g_)return t;t=this.popStack()}}getNextFailCont(){let t=this.popStack();for(;t;){if(t._op!==m_&&t._op!==y_&&t._op!==zf)return t;t=this.popStack()}}Tag(t){return T(()=>w_(this.currentContext,t))}Left(t){return le(t.left)}None(t){return le(new gi)}Right(t){return Ie(t.right)}Some(t){return Ie(t.value)}Micro(t){return wh(n=>{let r=n;const o=((e,t)=>{const n=new h$(jy.context(t?.scheduler??new uI));if(n.evaluate(e),t?.signal)if(t.signal.aborted)n.unsafeInterrupt();else{const r=()=>n.unsafeInterrupt();t.signal.addEventListener("abort",r,{once:!0}),n.addObserver(()=>t.signal.removeEventListener("abort",r))}return n})(hpe(t,this.currentContext));return o.addObserver(s=>{if("Success"===s._tag)return r(Ie(s.value));switch(s.cause._tag){case"Interrupt":return r(ve(ur(ko)));case"Fail":return r(le(s.cause.error));case"Die":return r(Ra(s.cause.defect))}}),wh(s=>{r=i=>{s(Z)},o.unsafeInterrupt()})})}Sync(t){const n=Zt(()=>t.effect_instruction_i0()),r=this.getNextSuccessCont();return void 0!==r?(r._op in op||hv(r),op[r._op](this,r,n)):(Is.currentOp=Ie(n),Ms)}[We](t){const n=t,r=this.getNextSuccessCont();return void 0!==r?(r._op in op||hv(r),op[r._op](this,r,n.effect_instruction_i0)):(Is.currentOp=n,Ms)}[ze](t){const n=t.effect_instruction_i0,r=this.getNextFailCont();if(void 0===r)return Is.currentOp=ve(n),Ms;switch(r._op){case g_:case __:return ms(this.currentRuntimeFlags)&&this.isInterrupted()?ve(DB(n)):Zt(()=>r.effect_instruction_i1(n));case"OnStep":return ms(this.currentRuntimeFlags)&&this.isInterrupted()?ve(DB(n)):Ie(ve(n));case cD:return this.patchRuntimeFlags(this.currentRuntimeFlags,r.patch),ms(this.currentRuntimeFlags)&&this.isInterrupted()?ve(pt(n,this.getInterruptedCause())):ve(n);default:hv(r)}}[tV](t){return Zt(()=>t.effect_instruction_i0(this,t$(this.currentRuntimeFlags)))}Blocked(t){const n=this.getFiberRefs(),r=this.currentRuntimeFlags;if(this._steps.length>0){const o=[],s=this._steps[this._steps.length-1];let i=this.popStack();for(;i&&"OnStep"!==i._op;)o.push(i),i=this.popStack();this.setFiberRefs(s.refs),this.currentRuntimeFlags=s.flags;const a=jh(s.refs,n),c=_s(s.flags,r);return Ie(ru(t.effect_instruction_i0,we(l=>{for(;o.length>0;)l.pushStack(o.pop());return l.setFiberRefs(Bh(l.id(),l.getFiberRefs())(a)),l.currentRuntimeFlags=Da(c)(l.currentRuntimeFlags),t.effect_instruction_i1})))}return nn(o=>v(Fu((e=>{const t=new It("RunBlocked");return t.effect_instruction_i0=e,t})(t.effect_instruction_i0)),()=>o(t.effect_instruction_i1)))}RunBlocked(t){return xo((e=>{let t=GD(e),n=wa();for(;;){const[r,o]=Hce(t,[O$(),wa()],([s,i],a)=>{const[c,l]=Zpe(a);return[age(s,c),Vce(i,l)]});if(n=ege(n,r),Mt(o))return qce(n);t=o}throw new Error("BUG: BlockedRequests.flatten - please report an issue at https://github.com/Effect-TS/effect/issues")})(t.effect_instruction_i0),t=>Ja((e=>Array.from(e.map))(t),([n,r])=>{const o=new Map,s=[];for(const a of r){s.push(qn(a));for(const c of a)o.set(c.request,c)}const i=s.flat();return En(D3(n.runAll(s),i,()=>i.forEach(a=>{a.listeners.interrupted=!0})),SI,o)},!1,!1))}[ha](t){const n=t.effect_instruction_i0,r=this.currentRuntimeFlags,o=Da(r,n);if(ms(o)&&this.isInterrupted())return ve(this.getInterruptedCause());if(this.patchRuntimeFlags(this.currentRuntimeFlags,n),t.effect_instruction_i1){const s=_s(o,r);return this.pushStack(new Wue(s,t)),Zt(()=>t.effect_instruction_i1(r))}return fr}[m_](t){return this.pushStack(t),t.effect_instruction_i0}OnStep(t){return this.pushStack(t),t.effect_instruction_i0}[g_](t){return this.pushStack(t),t.effect_instruction_i0}[__](t){return this.pushStack(t),t.effect_instruction_i0}[qf](t){return this._asyncBlockingOn=t.effect_instruction_i1,this.initiateAsync(this.currentRuntimeFlags,t.effect_instruction_i0),Is.currentOp=t,Ms}[v_](t){return this._isYielding=!1,Is.currentOp=t,Ms}[y_](t){const r=t.effect_instruction_i1;return(0,t.effect_instruction_i0)()?(this.pushStack(t),r()):fr}[zf](t){return op[zf](this,t,void 0)}[p_](t){return Zt(()=>t.commit())}runLoop(t){let n=t;for(this.currentOpCount=0;;){if(2&this.currentRuntimeFlags&&this.currentSupervisor.onEffect(this,n),this._queue.length>0&&(n=this.drainQueueWhileRunning(this.currentRuntimeFlags,n)),!this._isYielding){this.currentOpCount+=1;const r=this.currentScheduler.shouldYield(this);if(!1!==r){this._isYielding=!0,this.currentOpCount=0;const o=n;n=v(Pa({priority:r}),()=>o)}}try{if(n=this.currentTracer.context(()=>"3.12.0"!==n[Ia]._V?Sh(`Cannot execute an Effect versioned ${n[Ia]._V} with a Runtime of version 3.12.0`):this[n._op](n),this),n===Ms){const r=Is.currentOp;return r._op===v_||r._op===qf?Ms:(Is.currentOp=null,r._op===We||r._op===ze?r:ve(ln(r)))}}catch(r){n=n!==Ms&&!W(n,"_op")||!(n._op in this)?Sh(`Not a valid effect: ${wl(n)}`):W(r,cM)?ve(r.cause):W(r,SM)?ve(pt(ln(r),ur(ko))):Ra(r)}}}run=()=>{this.drainQueueOnCurrentThread()}}const Nve=_e("effect/FiberRef/currentMinimumLogLevel",()=>Wt(i$)),Fve=_e(Symbol.for("effect/Logger/defaultLogger"),()=>{return e=X_e,Ya(t=>{const n=yhe(t.context,Gt);To(n,hu).unsafe.log(e.log(t))});var e}),Pve=_e(Symbol.for("effect/Logger/tracerLogger"),()=>Ya(({annotations:e,cause:t,context:n,fiberId:r,logLevel:o,message:s})=>{const i=si(mu(n,Po),Cs);if("None"===i._tag||"ExternalSpan"===i.value._tag)return;const a=w_(mu(n,Gt),Es),c={};for(const[l,u]of e)c[l]=u;c["effect.fiberId"]=wce(r),c["effect.logLevel"]=o.label,null!==t&&"Empty"!==t._tag&&(c["effect.cause"]=bh(t,{renderErrorCause:!0})),i.value.event(wl(Array.isArray(s)?s[0]:s),a.unsafeCurrentTimeNanos(),c)})),Lve=_e(Symbol.for("effect/FiberRef/currentLoggers"),()=>(e=>{const t=Jj();return au(e,{differ:t,fork:t.empty})})(j_(Fve,Pve))),Ja=(e,t,n,r,o)=>nn(s=>(e=>we(t=>{const r=_(t.getFiberRef(py),ar(()=>t.scope()));return e(En(py,A(r)))}))(i=>we(a=>{let c=Array.from(e).reverse(),l=c.length;if(0===l)return Z;let u=0,d=!1;const f=o?Math.min(c.length,o):c.length,p=new Set,g=new Array,y=new Array,b=new Array,C=new Array,k=()=>{const rt=g.filter(({exit:w})=>"Failure"===w._tag).sort((w,pr)=>w.index<pr.index?-1:w.index===pr.index?0:1).map(({exit:w})=>w);return 0===rt.length&&rt.push(fr),rt},V=(rt,w=!1)=>{const pr=Fa(i(rt)),xn=Yve(pr,a,a.currentRuntimeFlags,Su);return a.currentScheduler.scheduleTask(()=>{w&&xn.unsafeInterruptAsFork(a.id()),xn.resume(pr)},0),xn},$=()=>{r||(l-=c.length,c=[]),d=!0,p.forEach(rt=>{rt.currentScheduler.scheduleTask(()=>{rt.unsafeInterruptAsFork(a.id())},0)})},fe=n?jB:Nt,nt=V(to(rt=>{const w=(xn,Vo)=>{"Blocked"===xn._op?C.push(xn):(g.push({index:Vo,exit:xn}),"Failure"===xn._op&&!d&&$())},pr=()=>{if(c.length>0){const xn=c.pop();let Vo=u++;const Rv=()=>{const gr=c.pop();return Vo=u++,v(Pa(),()=>v(fe(s(t(gr,Vo))),nc))},nc=gr=>c.length>0&&(w(gr,Vo),c.length>0)?Rv():D(gr),Av=v(fe(s(t(xn,Vo))),nc),jo=V(Av);y.push(jo),p.add(jo),d&&jo.currentScheduler.scheduleTask(()=>{jo.unsafeInterruptAsFork(a.id())},0),jo.addObserver(gr=>{let up;if(up="Failure"===gr._op?gr:gr.effect_instruction_i0,b.push(jo),p.delete(jo),w(up,Vo),g.length===l)rt(D(ar(Ba(k(),{parallel:!0}),()=>fr)));else if(C.length+g.length===l){const H0=C.map(dp=>dp.effect_instruction_i0).reduce(bI);rt(D(ru(H0,Ja([ar(Ba(k(),{parallel:!0}),()=>fr),...C.map(dp=>dp.effect_instruction_i1)],dp=>dp,n,!0,o))))}else pr()})}};for(let xn=0;xn<f;xn++)pr()}));return tn(no(Rr(s(Nn(nt))),by({onFailure:()=>{$();const rt=C.length+1,w=Math.min("number"==typeof o?o:C.length,C.length),pr=Array.from(C);return to(xn=>{const Vo=[];let Rv=0,nc=0;const Av=(gr,up)=>H0=>{Vo[gr]=H0,Rv++,Rv===rt&&xn(EV(Ba(Vo,{parallel:!0}))),pr.length>0&&up&&jo()},jo=()=>{V(pr.pop(),!0).addObserver(Av(nc,!0)),nc++};nt.addObserver(Av(nc,!1)),nc++;for(let gr=0;gr<w;gr++)jo()})},onSuccess:()=>zn(b,rt=>rt.inheritAll)})))}))),Fu=e=>Qve(e,Su),Yve=(e,t,n,r=null)=>_v(e,t,n,r),_v=(e,t,n,r=null)=>{const o=kj(),s=t.getFiberRefs(),i=HU(s,o),a=new o3(o,i,n),c=mu(i,Po),l=a.currentSupervisor;return l.onStart(c,e,A(t),a),a.addObserver(d=>l.onEnd(d,a)),(null!==r?r:_(t.getFiberRef(py),ar(()=>t.scope()))).add(n,a),a},Qve=(e,t)=>we((n,r)=>D(((e,t,n,r=null)=>{const o=_v(e,t,n,r);return o.resume(e),o})(e,n,r.runtimeFlags,t))),ybe=e=>au(e,{differ:Sve,fork:np}),y3=pde(wue),v3=ybe(uv),D3=(e,t,n)=>vs(r=>v(v(Fu(ka(e)),o=>to(s=>{const i=t.map(l=>l.listeners.count),a=()=>{i.every(l=>0===l)&&t.every(l=>"Pending"===l.result.state.current._tag||!("Done"!==l.result.state.current._tag||!_y(l.result.state.current.effect)||"Failure"!==l.result.state.current.effect._tag||!(e=>de(Oue(e)))(l.result.state.current.effect.cause)))&&(c.forEach(l=>l()),n?.(),s((e=>v(ou,t=>_(e,ro(t))))(o)))};o.addObserver(l=>{c.forEach(u=>u()),s(l)});const c=t.map((l,u)=>{const d=f=>{i[u]=f,a()};return l.listeners.addObserver(d),()=>l.listeners.removeObserver(d)});return a(),T(()=>{c.forEach(l=>l())})})),()=>q(()=>{const o=t.flatMap(s=>s.state.completed?[]:[s]);return xo(o,s=>Qa(s.request,(e=>ve(ur(e)))(r)))}))),pCe=(e,t)=>e.close(t),gCe=(e,t)=>e.fork(t),Iv=e=>(t,n)=>{const r=kj(),o=[[Po,[[r,e.context]]]];n?.scheduler&&o.push([zy,[[r,n.scheduler]]]);let s=Ehe(e.fiberRefs,{entries:o,forkAs:r});n?.updateRefs&&(s=n.updateRefs(s,r));const i=new o3(r,s,e.runtimeFlags);let a=t;n?.scope&&(a=v(gCe(n.scope,gu),l=>ke(((e,t)=>e.addFinalizer(()=>tn(t)))(l,vs(u=>U(u,i.id())?Z:ro(i,u))),no(t,u=>pCe(l,u)))));const c=i.currentSupervisor;return c!==uv&&(c.onStart(e.context,a,I(),i),i.addObserver(l=>c.onEnd(l,i))),Su.add(e.runtimeFlags,i),!1===n?.immediate?i.resume(a):i.start(a),i};Error;const Tv=Symbol.for("effect/Runtime/FiberFailure"),P0=Symbol.for("effect/Runtime/FiberFailure/Cause");class vCe extends Error{[Tv];[P0];constructor(t){super(),this[Tv]=Tv,this[P0]=t;const n=kB(t);if(n.length>0){const r=n[0];this.name=r.name,this.message=r.message,this.stack=r.stack}this.name=`(FiberFailure) ${this.name}`,(void 0===this.message||0===this.message.length)&&(this.message="An error has occurred")}toJSON(){return{_id:"FiberFailure",cause:this[P0].toJSON()}}toString(){return"(FiberFailure) "+(this.stack??this.message)}[qe](){return this.toString()}}const bCe=e=>(t,n)=>mq(e)(t,n).then(r=>{switch(r._tag){case We:return r.effect_instruction_i0;case ze:throw(e=>{const t=Error.stackTraceLimit;Error.stackTraceLimit=0;const n=new vCe(e);return Error.stackTraceLimit=t,n})(r.effect_instruction_i0)}}),mq=e=>(t,n)=>new Promise(r=>{const o=(e=>{const t=e;switch(t._op){case"Failure":case"Success":return t;case"Left":return Ua(t.left);case"Right":return Ie(t.right);case"Some":return Ie(t.value);case"None":return Ua(gi())}})(t);o&&r(o);const s=Iv(e)(t);s.addObserver(i=>{r(i)}),void 0!==n?.signal&&(n.signal.aborted?s.unsafeInterruptAsFork(s.id()):n.signal.addEventListener("abort",()=>{s.unsafeInterruptAsFork(s.id())},{once:!0}))});class _q{context;runtimeFlags;fiberRefs;constructor(t,n,r){this.context=t,this.runtimeFlags=n,this.fiberRefs=r}pipe(){return z(this,arguments)}}const SCe=bCe((e=>new _q(e.context,e.runtimeFlags,e.fiberRefs))({context:ga(),runtimeFlags:aB(1,32,4),fiberRefs:Che()}));Symbol;Symbol;const Ewe=e=>{let t,n;return"function"==typeof e?t=e:(t=e.try,n=e.catch),to(t.length>=1?(r,o)=>{try{t(o).then(s=>r(Ie(s)),s=>r(n?Or(()=>n(s)):le(new ja(s))))}catch(s){r(n?Or(()=>n(s)):le(new ja(s)))}}:r=>{try{t().then(o=>r(Ie(o)),o=>r(n?Or(()=>n(o)):le(new ja(o))))}catch(o){r(n?Or(()=>n(o)):le(new ja(o)))}})},Cwe=SCe;let Dwe=(()=>{class e{constructor(n){this.http=n,this.genresUrl="api/genres"}getGenres(){const n=Ewe({try:()=>function Swe(e,t){const n="object"==typeof t;return new Promise((r,o)=>{let i,s=!1;e.subscribe({next:a=>{i=a,s=!0},error:o,complete:()=>{s?r(i):n?r(t.defaultValue):o(new pf)}})})}(this.http.get(this.genresUrl)),catch:()=>new Error("Can't get genres")});return Cwe(n)}static{this.\u0275fac=function(r){return new(r||e)(j(vL))}}static{this.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Mwe=(()=>{class e{constructor(n){this.loader=n}intercept(n,r){return this.loader.start(),r.handle(n).pipe(ll(()=>this.loader.complete()))}static{this.\u0275fac=function(r){return new(r||e)(j(wS))}}static{this.\u0275prov=L({token:e,factory:e.\u0275fac})}}return e})();const Iwe=[{path:"",component:ose},{path:"add-beat",component:(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=Ho({type:e,selectors:[["app-beat-creator"]],standalone:!0,features:[Qi],decls:2,vars:0,template:function(r,o){1&r&&(be(0,"p"),mn(1,"Welcome to the beat creator, Let us make some music ! \u{1f3b6}\u{1f3b6}"),me())}})}}return e})()}];let Twe=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=io({type:e,bootstrap:[cre]})}static{this.\u0275inj=Vr({providers:[{provide:qw,useClass:Dwe},{provide:CL,useClass:Mwe,multi:!0},Nne(Iwe)],imports:[cZ,Fre,Jne,$2,Qre.forRoot(Jre,{dataEncapsulation:!1})]})}}return e})();iZ().bootstrapModule(Twe).catch(e=>console.error(e))}},ju=>{ju(ju.s=928)}]);