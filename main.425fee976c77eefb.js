"use strict";(self.webpackChunkDrumBeatRepo=self.webpackChunkDrumBeatRepo||[]).push([[792],{35:()=>{function td(e,t){return Object.is(e,t)}let _t=null,_c=!1,yc=1;const Br=Symbol("SIGNAL");function de(e){const t=_t;return _t=e,t}const Rp={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function fb(e){if(_c)throw new Error("");if(null===_t)return;_t.consumerOnSignalRead(e);const t=_t.nextProducerIndex++;kp(_t),t<_t.producerNode.length&&_t.producerNode[t]!==e&&nd(_t)&&Ap(_t.producerNode[t],_t.producerIndexOfThis[t]),_t.producerNode[t]!==e&&(_t.producerNode[t]=e,_t.producerIndexOfThis[t]=nd(_t)?UT(e,_t,t):0),_t.producerLastReadVersion[t]=e.version}function LT(e){if((!nd(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==yc)){if(!e.producerMustRecompute(e)&&!pb(e))return e.dirty=!1,void(e.lastCleanEpoch=yc);e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=yc}}function VT(e){if(void 0===e.liveConsumerNode)return;const t=_c;_c=!0;try{for(const n of e.liveConsumerNode)n.dirty||BT(n)}finally{_c=t}}function jT(){return!1!==_t?.consumerAllowSignalWrites}function BT(e){e.dirty=!0,VT(e),e.consumerMarkedDirty?.(e)}function Op(e){return e&&(e.nextProducerIndex=0),de(e)}function hb(e,t){if(de(t),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(nd(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)Ap(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function pb(e){kp(e);for(let t=0;t<e.producerNode.length;t++){const n=e.producerNode[t],r=e.producerLastReadVersion[t];if(r!==n.version||(LT(n),r!==n.version))return!0}return!1}function gb(e){if(kp(e),nd(e))for(let t=0;t<e.producerNode.length;t++)Ap(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function UT(e,t,n){if($T(e),0===e.liveConsumerNode.length&&HT(e))for(let r=0;r<e.producerNode.length;r++)e.producerIndexOfThis[r]=UT(e.producerNode[r],e,r);return e.liveConsumerIndexOfThis.push(n),e.liveConsumerNode.push(t)-1}function Ap(e,t){if($T(e),1===e.liveConsumerNode.length&&HT(e))for(let r=0;r<e.producerNode.length;r++)Ap(e.producerNode[r],e.producerIndexOfThis[r]);const n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){const r=e.liveConsumerIndexOfThis[t],o=e.liveConsumerNode[t];kp(o),o.producerIndexOfThis[r]=t}}function nd(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function kp(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function $T(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function HT(e){return void 0!==e.producerNode}const mb=Symbol("UNSET"),_b=Symbol("COMPUTING"),Np=Symbol("ERRORED"),IW={...Rp,value:mb,dirty:!0,error:null,equal:td,producerMustRecompute:e=>e.value===mb||e.value===_b,producerRecomputeValue(e){if(e.value===_b)throw new Error("Detected cycle in computations.");const t=e.value;e.value=_b;const n=Op(e);let r;try{r=e.computation()}catch(o){r=Np,e.error=o}finally{hb(e,n)}t!==mb&&t!==Np&&r!==Np&&e.equal(t,r)?e.value=t:(e.value=r,e.version++)}};let qT=function TW(){throw new Error};function zT(){qT()}let xp=null;function WT(e,t){jT()||zT(),e.equal(e.value,t)||(e.value=t,function NW(e){e.version++,function DW(){yc++}(),VT(e),xp?.()}(e))}const kW={...Rp,equal:td,value:void 0};function tt(e){return"function"==typeof e}function yb(e){const n=e(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const vb=yb(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,o)=>`${o+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function Fp(e,t){if(e){const n=e.indexOf(t);0<=n&&e.splice(n,1)}}class dn{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(tt(r))try{r()}catch(s){t=s instanceof vb?s.errors:[s]}const{_finalizers:o}=this;if(o){this._finalizers=null;for(const s of o)try{ZT(s)}catch(i){t=t??[],i instanceof vb?t=[...t,...i.errors]:t.push(i)}}if(t)throw new vb(t)}}add(t){var n;if(t&&t!==this)if(this.closed)ZT(t);else{if(t instanceof dn){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}}_hasParent(t){const{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){const{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&Fp(n,t)}remove(t){const{_finalizers:n}=this;n&&Fp(n,t),t instanceof dn&&t._removeParent(this)}}dn.EMPTY=(()=>{const e=new dn;return e.closed=!0,e})();const XT=dn.EMPTY;function KT(e){return e instanceof dn||e&&"closed"in e&&tt(e.remove)&&tt(e.add)&&tt(e.unsubscribe)}function ZT(e){tt(e)?e():e.unsubscribe()}const Pi={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Pp={setTimeout(e,t,...n){const{delegate:r}=Pp;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){const{delegate:t}=Pp;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function YT(e){Pp.setTimeout(()=>{const{onUnhandledError:t}=Pi;if(!t)throw e;t(e)})}function bb(){}const FW=Eb("C",void 0,void 0);function Eb(e,t,n){return{kind:e,value:t,error:n}}let Li=null;function Lp(e){if(Pi.useDeprecatedSynchronousErrorHandling){const t=!Li;if(t&&(Li={errorThrown:!1,error:null}),e(),t){const{errorThrown:n,error:r}=Li;if(Li=null,n)throw r}}else e()}class Cb extends dn{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,KT(t)&&t.add(this)):this.destination=$W}static create(t,n,r){return new rd(t,n,r)}next(t){this.isStopped?Sb(function LW(e){return Eb("N",e,void 0)}(t),this):this._next(t)}error(t){this.isStopped?Sb(function PW(e){return Eb("E",void 0,e)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Sb(FW,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const jW=Function.prototype.bind;function wb(e,t){return jW.call(e,t)}class BW{constructor(t){this.partialObserver=t}next(t){const{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){Vp(r)}}error(t){const{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){Vp(r)}else Vp(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){Vp(n)}}}class rd extends Cb{constructor(t,n,r){let o;if(super(),tt(t)||!t)o={next:t??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Pi.useDeprecatedNextContext?(s=Object.create(t),s.unsubscribe=()=>this.unsubscribe(),o={next:t.next&&wb(t.next,s),error:t.error&&wb(t.error,s),complete:t.complete&&wb(t.complete,s)}):o=t}this.destination=new BW(o)}}function Vp(e){Pi.useDeprecatedSynchronousErrorHandling?function VW(e){Pi.useDeprecatedSynchronousErrorHandling&&Li&&(Li.errorThrown=!0,Li.error=e)}(e):YT(e)}function Sb(e,t){const{onStoppedNotification:n}=Pi;n&&Pp.setTimeout(()=>n(e,t))}const $W={closed:!0,next:bb,error:function UW(e){throw e},complete:bb},Db="function"==typeof Symbol&&Symbol.observable||"@@observable";function Vi(e){return e}function QT(e){return 0===e.length?Vi:1===e.length?e[0]:function(n){return e.reduce((r,o)=>o(r),n)}}let Ge=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,o){const s=function zW(e){return e&&e instanceof Cb||function qW(e){return e&&tt(e.next)&&tt(e.error)&&tt(e.complete)}(e)&&KT(e)}(n)?n:new rd(n,r,o);return Lp(()=>{const{operator:i,source:a}=this;s.add(i?i.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=JT(r))((o,s)=>{const i=new rd({next:a=>{try{n(a)}catch(c){s(c),i.unsubscribe()}},error:s,complete:o});this.subscribe(i)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[Db](){return this}pipe(...n){return QT(n)(this)}toPromise(n){return new(n=JT(n))((r,o)=>{let s;this.subscribe(i=>s=i,i=>o(i),()=>r(s))})}}return e.create=t=>new e(t),e})();function JT(e){var t;return null!==(t=e??Pi.Promise)&&void 0!==t?t:Promise}const WW=yb(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Nt=(()=>{class e extends Ge{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new eR(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new WW}next(n){Lp(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){Lp(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Lp(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:o,observers:s}=this;return r||o?XT:(this.currentObservers=null,s.push(n),new dn(()=>{this.currentObservers=null,Fp(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:o,isStopped:s}=this;r?n.error(o):s&&n.complete()}asObservable(){const n=new Ge;return n.source=this,n}}return e.create=(t,n)=>new eR(t,n),e})();class eR extends Nt{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,t)}error(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,t)}complete(){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===n||n.call(t)}_subscribe(t){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(t))&&void 0!==r?r:XT}}class xn extends Nt{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){const{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}function tR(e){return tt(e?.lift)}function xt(e){return t=>{if(tR(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Dt(e,t,n,r,o){return new GW(e,t,n,r,o)}class GW extends Cb{constructor(t,n,r,o,s,i){super(t),this.onFinalize=s,this.shouldUnsubscribe=i,this._next=n?function(a){try{n(a)}catch(c){t.error(c)}}:super._next,this._error=o?function(a){try{o(a)}catch(c){t.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function se(e,t){return xt((n,r)=>{let o=0;n.subscribe(Dt(r,s=>{r.next(e.call(t,s,o++))}))})}class M extends Error{constructor(t,n){super(function vc(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}(t,n)),this.code=t}}function Ho(e){return{toString:e}.toString()}const Ec="__parameters__";function wc(e,t,n){return Ho(()=>{const r=function Mb(e){return function(...n){if(e){const r=e(...n);for(const o in r)this[o]=r[o]}}}(t);function o(...s){if(this instanceof o)return r.apply(this,s),this;const i=new o(...s);return a.annotation=i,a;function a(c,l,u){const d=c.hasOwnProperty(Ec)?c[Ec]:Object.defineProperty(c,Ec,{value:[]})[Ec];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(i),c}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=e,o.annotationCls=o,o})}const nt=globalThis;function Le(e){for(let t in e)if(e[t]===Le)return t;throw Error("Could not find renamed property on target object.")}function XW(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function Ft(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(Ft).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function Ib(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const KW=Le({__forward_ref__:Le});function Xe(e){return e.__forward_ref__=Xe,e.toString=function(){return Ft(this())},e}function K(e){return Bp(e)?e():e}function Bp(e){return"function"==typeof e&&e.hasOwnProperty(KW)&&e.__forward_ref__===Xe}function L(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function co(e){return{providers:e.providers||[],imports:e.imports||[]}}function Up(e){return iR(e,Hp)||iR(e,aR)}function iR(e,t){return e.hasOwnProperty(t)?e[t]:null}function $p(e){return e&&(e.hasOwnProperty(Tb)||e.hasOwnProperty(t4))?e[Tb]:null}const Hp=Le({\u0275prov:Le}),Tb=Le({\u0275inj:Le}),aR=Le({ngInjectableDef:Le}),t4=Le({ngInjectorDef:Le});class P{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=L({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Nb(e){return e&&!!e.\u0275providers}const od=Le({\u0275cmp:Le}),xb=Le({\u0275dir:Le}),Fb=Le({\u0275pipe:Le}),lR=Le({\u0275mod:Le}),qo=Le({\u0275fac:Le}),sd=Le({__NG_ELEMENT_ID__:Le}),uR=Le({__NG_ENV_ID__:Le});function re(e){return"string"==typeof e?e:null==e?"":String(e)}function Pb(e,t){throw new M(-201,!1)}var ge=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(ge||{});let Lb;function dR(){return Lb}function Fn(e){const t=Lb;return Lb=e,t}function fR(e,t,n){const r=Up(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&ge.Optional?null:void 0!==t?t:void Pb()}const id={},Vb="__NG_DI_FLAG__",qp="ngTempTokenPath",a4=/\n/gm,hR="__source";let Sc;function Ls(e){const t=Sc;return Sc=e,t}function u4(e,t=ge.Default){if(void 0===Sc)throw new M(-203,!1);return null===Sc?fR(e,void 0,t):Sc.get(e,t&ge.Optional?null:void 0,t)}function j(e,t=ge.Default){return(dR()||u4)(K(e),t)}function I(e,t=ge.Default){return j(e,zp(t))}function zp(e){return typeof e>"u"||"number"==typeof e?e:(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function jb(e){const t=[];for(let n=0;n<e.length;n++){const r=K(e[n]);if(Array.isArray(r)){if(0===r.length)throw new M(900,!1);let o,s=ge.Default;for(let i=0;i<r.length;i++){const a=r[i],c=d4(a);"number"==typeof c?-1===c?o=a.token:s|=c:o=a}t.push(j(o,s))}else t.push(j(r))}return t}function ad(e,t){return e[Vb]=t,e.prototype[Vb]=t,e}function d4(e){return e[Vb]}const Bb=ad(wc("Optional"),8),Ub=ad(wc("SkipSelf"),4);function ji(e,t){return e.hasOwnProperty(qo)?e[qo]:null}function Dc(e,t){e.forEach(n=>Array.isArray(n)?Dc(n,t):t(n))}function gR(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Wp(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Gn(e,t,n){let r=Mc(e,t);return r>=0?e[1|r]=n:(r=~r,function mR(e,t,n,r){let o=e.length;if(o==t)e.push(n,r);else if(1===o)e.push(r,e[0]),e[0]=n;else{for(o--,e.push(e[o-1],e[o]);o>t;)e[o]=e[o-2],o--;e[t]=n,e[t+1]=r}}(e,r,t,n)),r}function Hb(e,t){const n=Mc(e,t);if(n>=0)return e[1|n]}function Mc(e,t){return function _R(e,t,n){let r=0,o=e.length>>n;for(;o!==r;){const s=r+(o-r>>1),i=e[s<<n];if(t===i)return s<<n;i>t?o=s:r=s+1}return~(o<<n)}(e,t,1)}const lo={},Se=[],uo=new P(""),yR=new P("",-1),qb=new P("");class Xp{get(t,n=id){if(n===id){const r=new Error(`NullInjectorError: No provider for ${Ft(t)}!`);throw r.name="NullInjectorError",r}return n}}var Kp=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Kp||{}),Ur=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Ur||{}),Vs=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(Vs||{});function y4(e,t,n){let r=e.length;for(;;){const o=e.indexOf(t,n);if(-1===o)return o;if(0===o||e.charCodeAt(o-1)<=32){const s=t.length;if(o+s===r||e.charCodeAt(o+s)<=32)return o}n=o+1}}function zb(e,t,n){let r=0;for(;r<n.length;){const o=n[r];if("number"==typeof o){if(0!==o)break;r++;const s=n[r++],i=n[r++],a=n[r++];e.setAttribute(t,i,a,s)}else{const s=o,i=n[++r];bR(s)?e.setProperty(t,s,i):e.setAttribute(t,s,i),r++}}return r}function vR(e){return 3===e||4===e||6===e}function bR(e){return 64===e.charCodeAt(0)}function cd(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const o=t[r];"number"==typeof o?n=o:0===n||ER(e,n,o,null,-1===n||2===n?t[++r]:null)}}return e}function ER(e,t,n,r,o){let s=0,i=e.length;if(-1===t)i=-1;else for(;s<e.length;){const a=e[s++];if("number"==typeof a){if(a===t){i=-1;break}if(a>t){i=s-1;break}}}for(;s<e.length;){const a=e[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==o&&(e[s+1]=o));if(r===e[s+1])return void(e[s+2]=o)}s++,null!==r&&s++,null!==o&&s++}-1!==i&&(e.splice(i,0,t),s=i+1),e.splice(s++,0,n),null!==r&&e.splice(s++,0,r),null!==o&&e.splice(s++,0,o)}const CR="ng-template";function v4(e,t,n,r){let o=0;if(r){for(;o<t.length&&"string"==typeof t[o];o+=2)if("class"===t[o]&&-1!==y4(t[o+1].toLowerCase(),n,0))return!0}else if(Wb(e))return!1;if(o=t.indexOf(1,o),o>-1){let s;for(;++o<t.length&&"string"==typeof(s=t[o]);)if(s.toLowerCase()===n)return!0}return!1}function Wb(e){return 4===e.type&&e.value!==CR}function b4(e,t,n){return t===(4!==e.type||n?e.value:CR)}function E4(e,t,n){let r=4;const o=e.attrs,s=null!==o?function S4(e){for(let t=0;t<e.length;t++)if(vR(e[t]))return t;return e.length}(o):0;let i=!1;for(let a=0;a<t.length;a++){const c=t[a];if("number"!=typeof c){if(!i)if(4&r){if(r=2|1&r,""!==c&&!b4(e,c,n)||""===c&&1===t.length){if($r(r))return!1;i=!0}}else if(8&r){if(null===o||!v4(e,o,c,n)){if($r(r))return!1;i=!0}}else{const l=t[++a],u=C4(c,o,Wb(e),n);if(-1===u){if($r(r))return!1;i=!0;continue}if(""!==l){let d;if(d=u>s?"":o[u+1].toLowerCase(),2&r&&l!==d){if($r(r))return!1;i=!0}}}}else{if(!i&&!$r(r)&&!$r(c))return!1;if(i&&$r(c))continue;i=!1,r=c|1&r}}return $r(r)||i}function $r(e){return!(1&e)}function C4(e,t,n,r){if(null===t)return-1;let o=0;if(r||!n){let s=!1;for(;o<t.length;){const i=t[o];if(i===e)return o;if(3===i||6===i)s=!0;else{if(1===i||2===i){let a=t[++o];for(;"string"==typeof a;)a=t[++o];continue}if(4===i)break;if(0===i){o+=4;continue}}o+=s?1:2}return-1}return function D4(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function wR(e,t,n=!1){for(let r=0;r<t.length;r++)if(E4(e,t[r],n))return!0;return!1}function SR(e,t){return e?":not("+t.trim()+")":t}function I4(e){let t=e[0],n=1,r=2,o="",s=!1;for(;n<e.length;){let i=e[n];if("string"==typeof i)if(2&r){const a=e[++n];o+="["+i+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?o+="."+i:4&r&&(o+=" "+i);else""!==o&&!$r(i)&&(t+=SR(s,o),o=""),r=i,s=s||!$r(r);n++}return""!==o&&(t+=SR(s,o)),t}function zo(e){return Ho(()=>{const t=MR(e),n={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Kp.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Ur.Emulated,styles:e.styles||Se,_:null,schemas:e.schemas||null,tView:null,id:""};IR(n);const r=e.dependencies;return n.directiveDefs=Zp(r,!1),n.pipeDefs=Zp(r,!0),n.id=function N4(e){let t=0;const n=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const o of n)t=Math.imul(31,t)+o.charCodeAt(0)|0;return t+=2147483648,"c"+t}(n),n})}function O4(e){return pe(e)||Pt(e)}function A4(e){return null!==e}function Wo(e){return Ho(()=>({type:e.type,bootstrap:e.bootstrap||Se,declarations:e.declarations||Se,imports:e.imports||Se,exports:e.exports||Se,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function DR(e,t){if(null==e)return lo;const n={};for(const r in e)if(e.hasOwnProperty(r)){const o=e[r];let s,i,a=Vs.None;Array.isArray(o)?(a=o[0],s=o[1],i=o[2]??s):(s=o,i=o),t?(n[s]=a!==Vs.None?[r,a]:r,t[s]=i):n[s]=r}return n}function te(e){return Ho(()=>{const t=MR(e);return IR(t),t})}function Ln(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function pe(e){return e[od]||null}function Pt(e){return e[xb]||null}function rn(e){return e[Fb]||null}function fn(e,t){const n=e[lR]||null;if(!n&&!0===t)throw new Error(`Type ${Ft(e)} does not have '\u0275mod' property.`);return n}function MR(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||lo,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||Se,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:DR(e.inputs,t),outputs:DR(e.outputs),debugInfo:null}}function IR(e){e.features?.forEach(t=>t(e))}function Zp(e,t){if(!e)return null;const n=t?rn:O4;return()=>("function"==typeof e?e():e).map(r=>n(r)).filter(A4)}function Ic(e){return{\u0275providers:e}}function x4(...e){return{\u0275providers:Gb(0,e),\u0275fromNgModule:!0}}function Gb(e,...t){const n=[],r=new Set;let o;const s=i=>{n.push(i)};return Dc(t,i=>{const a=i;Yp(a,s,[],r)&&(o||=[],o.push(a))}),void 0!==o&&TR(o,s),n}function TR(e,t){for(let n=0;n<e.length;n++){const{ngModule:r,providers:o}=e[n];Xb(o,s=>{t(s,r)})}}function Yp(e,t,n,r){if(!(e=K(e)))return!1;let o=null,s=$p(e);const i=!s&&pe(e);if(s||i){if(i&&!i.standalone)return!1;o=e}else{const c=e.ngModule;if(s=$p(c),!s)return!1;o=c}const a=r.has(o);if(i){if(a)return!1;if(r.add(o),i.dependencies){const c="function"==typeof i.dependencies?i.dependencies():i.dependencies;for(const l of c)Yp(l,t,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let l;r.add(o);try{Dc(s.imports,u=>{Yp(u,t,n,r)&&(l||=[],l.push(u))})}finally{}void 0!==l&&TR(l,t)}if(!a){const l=ji(o)||(()=>new o);t({provide:o,useFactory:l,deps:Se},o),t({provide:qb,useValue:o,multi:!0},o),t({provide:uo,useValue:()=>j(o),multi:!0},o)}const c=s.providers;if(null!=c&&!a){const l=e;Xb(c,u=>{t(u,l)})}}}return o!==e&&void 0!==e.providers}function Xb(e,t){for(let n of e)Nb(n)&&(n=n.\u0275providers),Array.isArray(n)?Xb(n,t):t(n)}const F4=Le({provide:String,useValue:Le});function Kb(e){return null!==e&&"object"==typeof e&&F4 in e}function Bi(e){return"function"==typeof e}const Zb=new P(""),Qp={},L4={};let Yb;function Jp(){return void 0===Yb&&(Yb=new Xp),Yb}class Vn{}class Tc extends Vn{get destroyed(){return this._destroyed}constructor(t,n,r,o){super(),this.parent=n,this.source=r,this.scopes=o,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Jb(t,i=>this.processProvider(i)),this.records.set(yR,Rc(void 0,this)),o.has("environment")&&this.records.set(Vn,Rc(void 0,this));const s=this.records.get(Zb);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(qb,Se,ge.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const t=de(null);try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),de(t)}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const n=Ls(this),r=Fn(void 0);try{return t()}finally{Ls(n),Fn(r)}}get(t,n=id,r=ge.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(uR))return t[uR](this);r=zp(r);const s=Ls(this),i=Fn(void 0);try{if(!(r&ge.SkipSelf)){let c=this.records.get(t);if(void 0===c){const l=function $4(e){return"function"==typeof e||"object"==typeof e&&e instanceof P}(t)&&Up(t);c=l&&this.injectableDefInScope(l)?Rc(Qb(t),Qp):null,this.records.set(t,c)}if(null!=c)return this.hydrate(t,c)}return(r&ge.Self?Jp():this.parent).get(t,n=r&ge.Optional&&n===id?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[qp]=a[qp]||[]).unshift(Ft(t)),s)throw a;return function f4(e,t,n,r){const o=e[qp];throw t[hR]&&o.unshift(t[hR]),e.message=function h4(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let o=Ft(t);if(Array.isArray(t))o=t.map(Ft).join(" -> ");else if("object"==typeof t){let s=[];for(let i in t)if(t.hasOwnProperty(i)){let a=t[i];s.push(i+":"+("string"==typeof a?JSON.stringify(a):Ft(a)))}o=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${o}]: ${e.replace(a4,"\n  ")}`}("\n"+e.message,o,n,r),e.ngTokenPath=o,e[qp]=null,e}(a,t,"R3InjectorError",this.source)}throw a}finally{Fn(i),Ls(s)}}resolveInjectorInitializers(){const t=de(null),n=Ls(this),r=Fn(void 0);try{const s=this.get(uo,Se,ge.Self);for(const i of s)i()}finally{Ls(n),Fn(r),de(t)}}toString(){const t=[],n=this.records;for(const r of n.keys())t.push(Ft(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new M(205,!1)}processProvider(t){let n=Bi(t=K(t))?t:K(t&&t.provide);const r=function j4(e){return Kb(e)?Rc(void 0,e.useValue):Rc(AR(e),Qp)}(t);if(!Bi(t)&&!0===t.multi){let o=this.records.get(n);o||(o=Rc(void 0,Qp,!0),o.factory=()=>jb(o.multi),this.records.set(n,o)),n=t,o.multi.push(t)}this.records.set(n,r)}hydrate(t,n){const r=de(null);try{return n.value===Qp&&(n.value=L4,n.value=n.factory()),"object"==typeof n.value&&n.value&&function U4(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{de(r)}}injectableDefInScope(t){if(!t.providedIn)return!1;const n=K(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){const n=this._onDestroyHooks.indexOf(t);-1!==n&&this._onDestroyHooks.splice(n,1)}}function Qb(e){const t=Up(e),n=null!==t?t.factory:ji(e);if(null!==n)return n;if(e instanceof P)throw new M(204,!1);if(e instanceof Function)return function V4(e){if(e.length>0)throw new M(204,!1);const n=function e4(e){return e&&(e[Hp]||e[aR])||null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new M(204,!1)}function AR(e,t,n){let r;if(Bi(e)){const o=K(e);return ji(o)||Qb(o)}if(Kb(e))r=()=>K(e.useValue);else if(function OR(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...jb(e.deps||[]));else if(function RR(e){return!(!e||!e.useExisting)}(e))r=()=>j(K(e.useExisting));else{const o=K(e&&(e.useClass||e.provide));if(!function B4(e){return!!e.deps}(e))return ji(o)||Qb(o);r=()=>new o(...jb(e.deps))}return r}function Rc(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function Jb(e,t){for(const n of e)Array.isArray(n)?Jb(n,t):n&&Nb(n)?Jb(n.\u0275providers,t):t(n)}function Go(e,t){e instanceof Tc&&e.assertNotDestroyed();const r=Ls(e),o=Fn(void 0);try{return t()}finally{Ls(r),Fn(o)}}const ot=0,x=1,q=2,Mt=3,Hr=4,on=5,Cn=6,Ac=7,Ke=8,It=9,fo=10,Z=11,ud=12,xR=13,kc=14,st=15,Ui=16,Nc=17,Xo=18,xc=19,FR=20,Bs=21,tg=22,pr=23,U=25,nE=1,ho=7,Fc=9,yt=10;var rg=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(rg||{});function Vt(e){return Array.isArray(e)&&"object"==typeof e[nE]}function hn(e){return Array.isArray(e)&&!0===e[nE]}function rE(e){return!!(4&e.flags)}function $i(e){return e.componentOffset>-1}function og(e){return!(1&~e.flags)}function qr(e){return!!e.template}function fd(e){return!!(512&e[q])}class eG{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function BR(e,t,n,r){null!==t?t.applyValueToInputSignal(t,r):e[n]=r}function gr(){return UR}function UR(e){return e.type.prototype.ngOnChanges&&(e.setInput=nG),tG}function tG(){const e=HR(this),t=e?.current;if(t){const n=e.previous;if(n===lo)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function nG(e,t,n,r,o){const s=this.declaredInputs[r],i=HR(e)||function rG(e,t){return e[$R]=t}(e,{previous:lo,current:null}),a=i.current||(i.current={}),c=i.previous,l=c[s];a[s]=new eG(l&&l.currentValue,n,c===lo),BR(e,t,o,n)}gr.ngInherit=!0;const $R="__ngSimpleChanges__";function HR(e){return e[$R]||null}const po=function(e,t,n){},qR="svg";function De(e){for(;Array.isArray(e);)e=e[ot];return e}function hd(e,t){return De(t[e])}function wn(e,t){return De(t[e.index])}function pd(e,t){return e.data[t]}function Xn(e,t){const n=t[e];return Vt(n)?n:n[ot]}function cE(e){return!(128&~e[q])}function mr(e,t){return null==t?null:e[t]}function WR(e){e[Nc]=0}function GR(e){1024&e[q]||(e[q]|=1024,cE(e)&&ig(e))}function sg(e){return!!(9216&e[q]||e[pr]?.dirty)}function lE(e){e[fo].changeDetectionScheduler?.notify(8),64&e[q]&&(e[q]|=1024),sg(e)&&ig(e)}function ig(e){e[fo].changeDetectionScheduler?.notify(0);let t=Ko(e);for(;null!==t&&!(8192&t[q])&&(t[q]|=8192,cE(t));)t=Ko(t)}function ag(e,t){if(!(256&~e[q]))throw new M(911,!1);null===e[Bs]&&(e[Bs]=[]),e[Bs].push(t)}function Ko(e){const t=e[Mt];return hn(t)?t[Mt]:t}const Y={lFrame:cO(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let KR=!1;function ZR(){return Y.bindingsEnabled}function S(){return Y.lFrame.lView}function fe(){return Y.lFrame.tView}function Ve(){let e=JR();for(;null!==e&&64===e.type;)e=e.parent;return e}function JR(){return Y.lFrame.currentTNode}function zr(e,t){const n=Y.lFrame;n.currentTNode=e,n.isParent=t}function fE(){return Y.lFrame.isParent}function hE(){Y.lFrame.isParent=!1}function nO(){return KR}function rO(e){KR=e}function Wr(){return Y.lFrame.bindingIndex++}function _G(e,t){const n=Y.lFrame;n.bindingIndex=n.bindingRootIndex=e,pE(t)}function pE(e){Y.lFrame.currentDirectiveIndex=e}function lg(e){Y.lFrame.currentQueryIndex=e}function vG(e){const t=e[x];return 2===t.type?t.declTNode:1===t.type?e[on]:null}function iO(e,t,n){if(n&ge.SkipSelf){let o=t,s=e;for(;!(o=o.parent,null!==o||n&ge.Host||(o=vG(s),null===o||(s=s[kc],10&o.type))););if(null===o)return!1;t=o,e=s}const r=Y.lFrame=aO();return r.currentTNode=t,r.lView=e,!0}function _E(e){const t=aO(),n=e[x];Y.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function aO(){const e=Y.lFrame,t=null===e?null:e.child;return null===t?cO(e):t}function cO(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function lO(){const e=Y.lFrame;return Y.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const uO=lO;function yE(){const e=lO();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function sn(){return Y.lFrame.selectedIndex}function zi(e){Y.lFrame.selectedIndex=e}function Ze(){const e=Y.lFrame;return pd(e.tView,e.selectedIndex)}let pO=!0;function md(){return pO}function go(e){pO=e}function ug(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const s=e.data[n].type.prototype,{ngAfterContentInit:i,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=s;i&&(e.contentHooks??=[]).push(-n,i),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),c&&(e.viewHooks??=[]).push(-n,c),l&&((e.viewHooks??=[]).push(n,l),(e.viewCheckHooks??=[]).push(n,l)),null!=u&&(e.destroyHooks??=[]).push(n,u)}}function dg(e,t,n){gO(e,t,3,n)}function fg(e,t,n,r){(3&e[q])===n&&gO(e,t,n,r)}function vE(e,t){let n=e[q];(3&n)===t&&(n&=16383,n+=1,e[q]=n)}function gO(e,t,n,r){const s=r??-1,i=t.length-1;let a=0;for(let c=void 0!==r?65535&e[Nc]:0;c<i;c++)if("number"==typeof t[c+1]){if(a=t[c],null!=r&&a>=r)break}else t[c]<0&&(e[Nc]+=65536),(a<s||-1==s)&&(SG(e,n,t,c),e[Nc]=(4294901760&e[Nc])+c+2),c++}function mO(e,t){po(4,e,t);const n=de(null);try{t.call(e)}finally{de(n),po(5,e,t)}}function SG(e,t,n,r){const o=n[r]<0,s=n[r+1],a=e[o?-n[r]:n[r]];o?e[q]>>14<e[Nc]>>16&&(3&e[q])===t&&(e[q]+=16384,mO(a,s)):mO(a,s)}const Pc=-1;class _d{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}const EE={};class Wi{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=zp(r);const o=this.injector.get(t,EE,r);return o!==EE||n===EE?o:this.parentInjector.get(t,n,r)}}function CE(e){return e!==Pc}function yd(e){return 32767&e}function vd(e,t){let n=function RG(e){return e>>16}(e),r=t;for(;n>0;)r=r[kc],n--;return r}let wE=!0;function hg(e){const t=wE;return wE=e,t}const yO=255,vO=5;let AG=0;const mo={};function pg(e,t){const n=bO(e,t);if(-1!==n)return n;const r=t[x];r.firstCreatePass&&(e.injectorIndex=t.length,SE(r.data,e),SE(t,null),SE(r.blueprint,null));const o=gg(e,t),s=e.injectorIndex;if(CE(o)){const i=yd(o),a=vd(o,t),c=a[x].data;for(let l=0;l<8;l++)t[s+l]=a[i+l]|c[i+l]}return t[s+8]=o,s}function SE(e,t){e.push(0,0,0,0,0,0,0,0,t)}function bO(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function gg(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,o=t;for(;null!==o;){if(r=IO(o),null===r)return Pc;if(n++,o=o[kc],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Pc}function DE(e,t,n){!function kG(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(sd)&&(r=n[sd]),null==r&&(r=n[sd]=AG++);const o=r&yO;t.data[e+(o>>vO)]|=1<<o}(e,t,n)}function EO(e,t,n){if(n&ge.Optional||void 0!==e)return e;Pb()}function CO(e,t,n,r){if(n&ge.Optional&&void 0===r&&(r=null),!(n&(ge.Self|ge.Host))){const o=e[It],s=Fn(void 0);try{return o?o.get(t,r,n&ge.Optional):fR(t,r,n&ge.Optional)}finally{Fn(s)}}return EO(r,0,n)}function wO(e,t,n,r=ge.Default,o){if(null!==e){if(2048&t[q]&&!(r&ge.Self)){const i=function LG(e,t,n,r,o){let s=e,i=t;for(;null!==s&&null!==i&&2048&i[q]&&!(512&i[q]);){const a=SO(s,i,n,r|ge.Self,mo);if(a!==mo)return a;let c=s.parent;if(!c){const l=i[FR];if(l){const u=l.get(n,mo,r);if(u!==mo)return u}c=IO(i),i=i[kc]}s=c}return o}(e,t,n,r,mo);if(i!==mo)return i}const s=SO(e,t,n,r,mo);if(s!==mo)return s}return CO(t,n,r,o)}function SO(e,t,n,r,o){const s=function FG(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(sd)?e[sd]:void 0;return"number"==typeof t?t>=0?t&yO:PG:t}(n);if("function"==typeof s){if(!iO(t,e,r))return r&ge.Host?EO(o,0,r):CO(t,n,r,o);try{let i;if(i=s(r),null!=i||r&ge.Optional)return i;Pb()}finally{uO()}}else if("number"==typeof s){let i=null,a=bO(e,t),c=Pc,l=r&ge.Host?t[st][on]:null;for((-1===a||r&ge.SkipSelf)&&(c=-1===a?gg(e,t):t[a+8],c!==Pc&&MO(r,!1)?(i=t[x],a=yd(c),t=vd(c,t)):a=-1);-1!==a;){const u=t[x];if(DO(s,a,u.data)){const d=xG(a,t,n,i,r,l);if(d!==mo)return d}c=t[a+8],c!==Pc&&MO(r,t[x].data[a+8]===l)&&DO(s,a,t)?(i=u,a=yd(c),t=vd(c,t)):a=-1}}return o}function xG(e,t,n,r,o,s){const i=t[x],a=i.data[e+8],u=function mg(e,t,n,r,o){const s=e.providerIndexes,i=t.data,a=1048575&s,c=e.directiveStart,u=s>>20,f=o?a+u:e.directiveEnd;for(let h=r?a:a+u;h<f;h++){const g=i[h];if(h<c&&n===g||h>=c&&g.type===n)return h}if(o){const h=i[c];if(h&&qr(h)&&h.type===n)return c}return null}(a,i,n,null==r?$i(a)&&wE:r!=i&&!!(3&a.type),o&ge.Host&&s===a);return null!==u?Gi(t,i,u,a):mo}function Gi(e,t,n,r){let o=e[n];const s=t.data;if(function DG(e){return e instanceof _d}(o)){const i=o;i.resolving&&function o4(e,t){throw t&&t.join(" > "),new M(-200,e)}(function Re(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():re(e)}(s[n]));const a=hg(i.canSeeViewProviders);i.resolving=!0;const l=i.injectImpl?Fn(i.injectImpl):null;iO(e,r,ge.Default);try{o=e[n]=i.factory(void 0,s,e,r),t.firstCreatePass&&n>=r.directiveStart&&function wG(e,t,n){const{ngOnChanges:r,ngOnInit:o,ngDoCheck:s}=t.type.prototype;if(r){const i=UR(t);(n.preOrderHooks??=[]).push(e,i),(n.preOrderCheckHooks??=[]).push(e,i)}o&&(n.preOrderHooks??=[]).push(0-e,o),s&&((n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s))}(n,s[n],t)}finally{null!==l&&Fn(l),hg(a),i.resolving=!1,uO()}}return o}function DO(e,t,n){return!!(n[t+(e>>vO)]&1<<e)}function MO(e,t){return!(e&ge.Self||e&ge.Host&&t)}class jt{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return wO(this._tNode,this._lView,t,zp(r),n)}}function PG(){return new jt(Ve(),S())}function Bt(e){return Ho(()=>{const t=e.prototype.constructor,n=t[qo]||ME(t),r=Object.prototype;let o=Object.getPrototypeOf(e.prototype).constructor;for(;o&&o!==r;){const s=o[qo]||ME(o);if(s&&s!==n)return s;o=Object.getPrototypeOf(o)}return s=>new s})}function ME(e){return Bp(e)?()=>{const t=ME(K(e));return t&&t()}:ji(e)}function IO(e){const t=e[x],n=t.type;return 2===n?t.declTNode:1===n?e[on]:null}function kO(e,t=null,n=null,r){const o=NO(e,t,n,r);return o.resolveInjectorInitializers(),o}function NO(e,t=null,n=null,r,o=new Set){const s=[n||Se,x4(e)];return r=r||("object"==typeof e?void 0:Ft(e)),new Tc(s,t||Jp(),r||null,o)}class an{static{this.THROW_IF_NOT_FOUND=id}static{this.NULL=new Xp}static create(t,n){if(Array.isArray(t))return kO({name:""},n,t,"");{const r=t.name??"";return kO({name:r},t.parent,t.providers,r)}}static{this.\u0275prov=L({token:an,providedIn:"any",factory:()=>j(yR)})}static{this.__NG_ELEMENT_ID__=-1}}new P("").__NG_ELEMENT_ID__=e=>{const t=Ve();if(null===t)throw new M(204,!1);if(2&t.type)return t.value;if(e&ge.Optional)return null;throw new M(204,!1)};function TE(e){return e.ngOriginalError}const FO=!0;let Ed=(()=>{class e{static{this.__NG_ELEMENT_ID__=GG}static{this.__NG_ENV_ID__=n=>n}}return e})();class WG extends Ed{constructor(t){super(),this._lView=t}onDestroy(t){return ag(this._lView,t),()=>function uE(e,t){if(null===e[Bs])return;const n=e[Bs].indexOf(t);-1!==n&&e[Bs].splice(n,1)}(this._lView,t)}}function GG(){return new WG(S())}let Qo=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new xn(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=L({token:e,providedIn:"root",factory:()=>new e})}}return e})();const it=class XG extends Nt{constructor(t=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=t,function kR(){return void 0!==dR()||null!=function l4(){return Sc}()}()&&(this.destroyRef=I(Ed,{optional:!0})??void 0,this.pendingTasks=I(Qo,{optional:!0})??void 0)}emit(t){const n=de(null);try{super.next(t)}finally{de(n)}}subscribe(t,n,r){let o=t,s=n||(()=>null),i=r;if(t&&"object"==typeof t){const c=t;o=c.next?.bind(c),s=c.error?.bind(c),i=c.complete?.bind(c)}this.__isAsync&&(s=this.wrapInTimeout(s),o&&(o=this.wrapInTimeout(o)),i&&(i=this.wrapInTimeout(i)));const a=super.subscribe({next:o,error:s,complete:i});return t instanceof dn&&t.add(a),a}wrapInTimeout(t){return n=>{const r=this.pendingTasks?.add();setTimeout(()=>{t(n),void 0!==r&&this.pendingTasks?.remove(r)})}}};function yg(...e){}function PO(e){let t,n;function r(){e=yg;try{void 0!==n&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(n),void 0!==t&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),r()}),"function"==typeof requestAnimationFrame&&(n=requestAnimationFrame(()=>{e(),r()})),()=>r()}function LO(e){return queueMicrotask(()=>e()),()=>{e=yg}}const RE="isAngularZone",vg=RE+"_ID";let KG=0;class Oe{constructor(t){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new it(!1),this.onMicrotaskEmpty=new it(!1),this.onStable=new it(!1),this.onError=new it(!1);const{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:o=!1,scheduleInRootZone:s=FO}=t;if(typeof Zone>"u")throw new M(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!o&&r,i.shouldCoalesceRunChangeDetection=o,i.callbackScheduled=!1,i.scheduleInRootZone=s,function QG(e){const t=()=>{!function YG(e){function t(){PO(()=>{e.callbackScheduled=!1,AE(e),e.isCheckStableRunning=!0,OE(e),e.isCheckStableRunning=!1})}e.isCheckStableRunning||e.callbackScheduled||(e.callbackScheduled=!0,e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),AE(e))}(e)},n=KG++;e._inner=e._inner.fork({name:"angular",properties:{[RE]:!0,[vg]:n,[vg+n]:!0},onInvokeTask:(r,o,s,i,a,c)=>{if(function JG(e){return BO(e,"__ignore_ng_zone__")}(c))return r.invokeTask(s,i,a,c);try{return VO(e),r.invokeTask(s,i,a,c)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===i.type||e.shouldCoalesceRunChangeDetection)&&t(),jO(e)}},onInvoke:(r,o,s,i,a,c,l)=>{try{return VO(e),r.invoke(s,i,a,c,l)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!function e8(e){return BO(e,"__scheduler_tick__")}(c)&&t(),jO(e)}},onHasTask:(r,o,s,i)=>{r.hasTask(s,i),o===s&&("microTask"==i.change?(e._hasPendingMicrotasks=i.microTask,AE(e),OE(e)):"macroTask"==i.change&&(e.hasPendingMacrotasks=i.macroTask))},onHandleError:(r,o,s,i)=>(r.handleError(s,i),e.runOutsideAngular(()=>e.onError.emit(i)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(RE)}static assertInAngularZone(){if(!Oe.isInAngularZone())throw new M(909,!1)}static assertNotInAngularZone(){if(Oe.isInAngularZone())throw new M(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,o){const s=this._inner,i=s.scheduleEventTask("NgZoneEvent: "+o,t,ZG,yg,yg);try{return s.runTask(i,n,r)}finally{s.cancelTask(i)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const ZG={};function OE(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function AE(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&!0===e.callbackScheduled)}function VO(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function jO(e){e._nesting--,OE(e)}class kE{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new it,this.onMicrotaskEmpty=new it,this.onStable=new it,this.onError=new it}run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,o){return t.apply(n,r)}}function BO(e,t){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0]?.data?.[t]}class _o{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&TE(t);for(;n&&TE(n);)n=TE(n);return n||null}}const n8=new P("",{providedIn:"root",factory:()=>{const e=I(Oe),t=I(_o);return n=>e.runOutsideAngular(()=>t.handleError(n))}});function r8(){return jc(Ve(),S())}function jc(e,t){return new Kn(wn(e,t))}let Kn=(()=>{class e{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=r8}}return e})();function wd(e){return!(128&~e.flags)}const FE=new Map;let i8=0;function PE(e){FE.delete(e[xc])}const bg="__ngContext__";function pn(e,t){Vt(t)?(e[bg]=t[xc],function c8(e){FE.set(e[xc],e)}(t)):e[bg]=t}function QO(e){return eA(e[ud])}function JO(e){return eA(e[Hr])}function eA(e){for(;null!==e&&!hn(e);)e=e[Hr];return e}let VE;const Uc=new P("",{providedIn:"root",factory:()=>D8}),D8="ng",cA=new P(""),yo=new P("",{providedIn:"platform",factory:()=>"unknown"}),jE=new P("",{providedIn:"root",factory:()=>function Us(){if(void 0!==VE)return VE;if(typeof document<"u")return document;throw new M(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let lA=()=>null;function WE(e,t,n=!1){return lA(e,t,n)}const _A=new P("",{providedIn:"root",factory:()=>!1});class wA{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}const uX=/^>|^->|<!--|-->|--!>|<!-$/g,dX=/(<|>)/g,fX="\u200b$1\u200b";function BA(e){return e.ownerDocument.defaultView}function UA(e){return e.ownerDocument}function Zn(e){return e instanceof Function?e():e}var Hs=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Hs||{});let sC;function iC(e,t){return sC(e,t)}function Gc(e,t,n,r,o){if(null!=r){let s,i=!1;hn(r)?s=r:Vt(r)&&(i=!0,r=r[ot]);const a=De(r);0===e&&null!==n?null==o?ZA(t,n,a):Ki(t,n,a,o||null,!0):1===e&&null!==n?Ki(t,n,a,o||null,!0):2===e?function xd(e,t,n){e.removeChild(null,t,n)}(t,a,i):3===e&&t.destroyNode(a),null!=s&&function OX(e,t,n,r,o){const s=n[ho];s!==De(n)&&Gc(t,e,r,s,o);for(let a=yt;a<n.length;a++){const c=n[a];Pg(c[x],c,e,t,r,s)}}(t,e,s,n,o)}}function cC(e,t){return e.createComment(function PA(e){return e.replace(uX,t=>t.replace(dX,fX))}(t))}function Ng(e,t,n){return e.createElement(t,n)}function GA(e,t){t[fo].changeDetectionScheduler?.notify(9),Pg(e,t,t[Z],2,null,null)}function XA(e,t){const n=e[Fc],r=t[Mt];(Vt(r)||t[st]!==r[Mt][st])&&(e[q]|=rg.HasTransplantedViews),null===n?e[Fc]=[t]:n.push(t)}function lC(e,t){const n=e[Fc],r=n.indexOf(t);n.splice(r,1)}function Nd(e,t){if(e.length<=yt)return;const n=yt+t,r=e[n];if(r){const o=r[Ui];null!==o&&o!==e&&lC(o,r),t>0&&(e[n-1][Hr]=r[Hr]);const s=Wp(e,yt+t);!function CX(e,t){GA(e,t),t[ot]=null,t[on]=null}(r[x],r);const i=s[Xo];null!==i&&i.detachView(s[x]),r[Mt]=null,r[Hr]=null,r[q]&=-129}return r}function xg(e,t){if(!(256&t[q])){const n=t[Z];n.destroyNode&&Pg(e,t,n,3,null,null),function SX(e){let t=e[ud];if(!t)return uC(e[x],e);for(;t;){let n=null;if(Vt(t))n=t[ud];else{const r=t[yt];r&&(n=r)}if(!n){for(;t&&!t[Hr]&&t!==e;)Vt(t)&&uC(t[x],t),t=t[Mt];null===t&&(t=e),Vt(t)&&uC(t[x],t),n=t&&t[Hr]}t=n}}(t)}}function uC(e,t){if(256&t[q])return;const n=de(null);try{t[q]&=-129,t[q]|=256,t[pr]&&gb(t[pr]),function IX(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const o=t[n[r]];if(!(o instanceof _d)){const s=n[r+1];if(Array.isArray(s))for(let i=0;i<s.length;i+=2){const a=o[s[i]],c=s[i+1];po(4,a,c);try{c.call(a)}finally{po(5,a,c)}}else{po(4,o,s);try{s.call(o)}finally{po(5,o,s)}}}}}(e,t),function MX(e,t){const n=e.cleanup,r=t[Ac];if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const i=n[s+3];i>=0?r[i]():r[-i].unsubscribe(),s+=2}else n[s].call(r[n[s+1]]);null!==r&&(t[Ac]=null);const o=t[Bs];if(null!==o){t[Bs]=null;for(let s=0;s<o.length;s++)(0,o[s])()}}(e,t),1===t[x].type&&t[Z].destroy();const r=t[Ui];if(null!==r&&hn(t[Mt])){r!==t[Mt]&&lC(r,t);const o=t[Xo];null!==o&&o.detachView(e)}PE(t)}finally{de(n)}}function dC(e,t,n){return function KA(e,t,n){let r=t;for(;null!==r&&168&r.type;)r=(t=r).parent;if(null===r)return n[ot];{const{componentOffset:o}=r;if(o>-1){const{encapsulation:s}=e.data[r.directiveStart+o];if(s===Ur.None||s===Ur.Emulated)return null}return wn(r,n)}}(e,t.parent,n)}function Ki(e,t,n,r,o){e.insertBefore(t,n,r,o)}function ZA(e,t,n){e.appendChild(t,n)}function YA(e,t,n,r,o){null!==r?Ki(e,t,n,r,o):ZA(e,t,n)}function fC(e,t){return e.parentNode(t)}let hC,ek=function JA(e,t,n){return 40&e.type?wn(e,n):null};function Fg(e,t,n,r){const o=dC(e,r,t),s=t[Z],a=function QA(e,t,n){return ek(e,t,n)}(r.parent||t[on],r,t);if(null!=o)if(Array.isArray(n))for(let c=0;c<n.length;c++)YA(s,o,n[c],a,!1);else YA(s,o,n,a,!1);void 0!==hC&&hC(s,r,t,n,o)}function Zi(e,t){if(null!==t){const n=t.type;if(3&n)return wn(t,e);if(4&n)return pC(-1,e[t.index]);if(8&n){const r=t.child;if(null!==r)return Zi(e,r);{const o=e[t.index];return hn(o)?pC(-1,o):De(o)}}if(128&n)return Zi(e,t.next);if(32&n)return iC(t,e)()||De(e[t.index]);{const r=nk(e,t);return null!==r?Array.isArray(r)?r[0]:Zi(Ko(e[st]),r):Zi(e,t.next)}}return null}function nk(e,t){return null!==t?e[st][on].projection[t.projection]:null}function pC(e,t){const n=yt+e+1;if(n<t.length){const r=t[n],o=r[x].firstChild;if(null!==o)return Zi(r,o)}return t[ho]}function gC(e,t,n,r,o,s,i){for(;null!=n;){if(128===n.type){n=n.next;continue}const a=r[n.index],c=n.type;if(i&&0===t&&(a&&pn(De(a),r),n.flags|=2),32&~n.flags)if(8&c)gC(e,t,n.child,r,o,s,!1),Gc(t,e,o,a,s);else if(32&c){const l=iC(n,r);let u;for(;u=l();)Gc(t,e,o,u,s);Gc(t,e,o,a,s)}else 16&c?ok(e,t,r,n,o,s):Gc(t,e,o,a,s);n=i?n.projectionNext:n.next}}function Pg(e,t,n,r,o,s){gC(n,r,e.firstChild,t,o,s,!1)}function ok(e,t,n,r,o,s){const i=n[st],c=i[on].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++)Gc(t,e,o,c[l],s);else{let l=c;const u=i[Mt];wd(r)&&(l.flags|=128),gC(e,t,l,u,o,s,!0)}}function sk(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function ik(e,t,n){const{mergedAttrs:r,classes:o,styles:s}=n;null!==r&&zb(e,t,r),null!==o&&sk(e,t,o),null!==s&&function kX(e,t,n){e.setAttribute(t,"style",n)}(e,t,s)}const oe={};function Ye(e=1){ak(fe(),S(),sn()+e,!1)}function ak(e,t,n,r){if(!r)if(3&~t[q]){const s=e.preOrderHooks;null!==s&&fg(t,s,0,n)}else{const s=e.preOrderCheckHooks;null!==s&&dg(t,s,n)}zi(n)}function k(e,t=ge.Default){const n=S();return null===n?j(e,t):wO(Ve(),n,K(e),t)}function ck(e,t,n,r,o,s){const i=de(null);try{let a=null;o&Vs.SignalBased&&(a=t[r][Br]),null!==a&&void 0!==a.transformFn&&(s=a.transformFn(s)),o&Vs.HasDecoratorInputTransform&&(s=e.inputTransforms[r].call(t,s)),null!==e.setInput?e.setInput(t,a,s,n,r):BR(t,a,r,s)}finally{de(i)}}function Lg(e,t,n,r,o,s,i,a,c,l,u){const d=t.blueprint.slice();return d[ot]=o,d[q]=204|r,(null!==l||e&&2048&e[q])&&(d[q]|=2048),WR(d),d[Mt]=d[kc]=e,d[Ke]=n,d[fo]=i||e&&e[fo],d[Z]=a||e&&e[Z],d[It]=c||e&&e[It]||null,d[on]=s,d[xc]=function a8(){return i8++}(),d[Cn]=u,d[FR]=l,d[st]=2==t.type?e[st]:d,d}function Yi(e,t,n,r,o){let s=e.data[t];if(null===s)s=function mC(e,t,n,r,o){const s=JR(),i=fE(),c=e.data[t]=function UX(e,t,n,r,o,s){let i=t?t.injectorIndex:-1,a=0;return function qi(){return null!==Y.skipHydrationRootTNode}()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:i,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:o,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,i?s:s&&s.parent,n,t,r,o);return null===e.firstChild&&(e.firstChild=c),null!==s&&(i?null==s.child&&null!==c.parent&&(s.child=c):null===s.next&&(s.next=c,c.prev=s)),c}(e,t,n,r,o),function mG(){return Y.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=r,s.attrs=o;const i=function gd(){const e=Y.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();s.injectorIndex=null===i?-1:i.injectorIndex}return zr(s,!0),s}function Fd(e,t,n,r){if(0===n)return-1;const o=t.length;for(let s=0;s<n;s++)t.push(r),e.blueprint.push(r),e.data.push(null);return o}function lk(e,t,n,r,o){const s=sn(),i=2&r;try{zi(-1),i&&t.length>U&&ak(e,t,U,!1),po(i?2:0,o),n(r,o)}finally{zi(s),po(i?3:1,o)}}function _C(e,t,n){if(rE(t)){const r=de(null);try{const s=t.directiveEnd;for(let i=t.directiveStart;i<s;i++){const a=e.data[i];a.contentQueries&&a.contentQueries(1,n[i],i)}}finally{de(r)}}}function yC(e,t,n){ZR()&&(function XX(e,t,n,r){const o=n.directiveStart,s=n.directiveEnd;$i(n)&&function t5(e,t,n){const r=wn(t,e),o=uk(n);let i=16;n.signals?i=4096:n.onPush&&(i=64);const a=Vg(e,Lg(e,o,null,i,r,t,null,e[fo].rendererFactory.createRenderer(r,n),null,null,null));e[t.index]=a}(t,n,e.data[o+n.componentOffset]),e.firstCreatePass||pg(n,t),pn(r,t);const i=n.initialInputs;for(let a=o;a<s;a++){const c=e.data[a],l=Gi(t,e,a,n);pn(l,t),null!==i&&n5(0,a-o,l,c,0,i),qr(c)&&(Xn(n.index,t)[Ke]=Gi(t,e,a,n))}}(e,t,n,wn(n,t)),!(64&~n.flags)&&gk(e,t,n))}function vC(e,t,n=wn){const r=t.localNames;if(null!==r){let o=t.index+1;for(let s=0;s<r.length;s+=2){const i=r[s+1],a=-1===i?n(t,e):e[i];e[o++]=a}}}function uk(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=bC(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function bC(e,t,n,r,o,s,i,a,c,l,u){const d=U+r,f=d+o,h=function FX(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:oe);return n}(d,f),g="function"==typeof l?l():l;return h[x]={type:e,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:t,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof i?i():i,firstChild:null,schemas:c,consts:g,incompleteFirstPass:!1,ssrId:u}}let dk=()=>null;function fk(e,t,n,r,o){for(let s in t){if(!t.hasOwnProperty(s))continue;const i=t[s];if(void 0===i)continue;r??={};let a,c=Vs.None;Array.isArray(i)?(a=i[0],c=i[1]):a=i;let l=s;if(null!==o){if(!o.hasOwnProperty(s))continue;l=o[s]}0===e?hk(r,n,l,a,c):hk(r,n,l,a)}return r}function hk(e,t,n,r,o){let s;e.hasOwnProperty(n)?(s=e[n]).push(t,r):s=e[n]=[t,r],void 0!==o&&s.push(o)}function Bn(e,t,n,r,o,s,i,a){const c=wn(t,n);let u,l=t.inputs;!a&&null!=l&&(u=l[r])?(DC(e,n,u,r,o),$i(t)&&function qX(e,t){const n=Xn(t,e);16&n[q]||(n[q]|=64)}(n,t.index)):3&t.type&&(r=function HX(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),o=null!=i?i(o,t.value||"",r):o,s.setProperty(c,r,o))}function EC(e,t,n,r){if(ZR()){const o=null===r?null:{"":-1},s=function ZX(e,t){const n=e.directiveRegistry;let r=null,o=null;if(n)for(let s=0;s<n.length;s++){const i=n[s];if(wR(t,i.selectors,!1))if(r||(r=[]),qr(i))if(null!==i.findHostDirectiveDefs){const a=[];o=o||new Map,i.findHostDirectiveDefs(i,a,o),r.unshift(...a,i),CC(e,t,a.length)}else r.unshift(i),CC(e,t,0);else o=o||new Map,i.findHostDirectiveDefs?.(i,r,o),r.push(i)}return null===r?null:[r,o]}(e,n);let i,a;null===s?i=a=null:[i,a]=s,null!==i&&pk(e,t,n,i,o,a),o&&function YX(e,t,n){if(t){const r=e.localNames=[];for(let o=0;o<t.length;o+=2){const s=n[t[o+1]];if(null==s)throw new M(-301,!1);r.push(t[o],s)}}}(n,r,o)}n.mergedAttrs=cd(n.mergedAttrs,n.attrs)}function pk(e,t,n,r,o,s){for(let l=0;l<r.length;l++)DE(pg(n,t),e,r[l].type);!function JX(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,r.length);for(let l=0;l<r.length;l++){const u=r[l];u.providersResolver&&u.providersResolver(u)}let i=!1,a=!1,c=Fd(e,t,r.length,null);for(let l=0;l<r.length;l++){const u=r[l];n.mergedAttrs=cd(n.mergedAttrs,u.hostAttrs),e5(e,n,t,c,u),QX(c,u,o),null!==u.contentQueries&&(n.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(n.flags|=64);const d=u.type.prototype;!i&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),i=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}!function $X(e,t,n){const o=t.directiveEnd,s=e.data,i=t.attrs,a=[];let c=null,l=null;for(let u=t.directiveStart;u<o;u++){const d=s[u],f=n?n.get(d):null,g=f?f.outputs:null;c=fk(0,d.inputs,u,c,f?f.inputs:null),l=fk(1,d.outputs,u,l,g);const m=null===c||null===i||Wb(t)?null:r5(c,u,i);a.push(m)}null!==c&&(c.hasOwnProperty("class")&&(t.flags|=8),c.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=c,t.outputs=l}(e,n,s)}function gk(e,t,n){const r=n.directiveStart,o=n.directiveEnd,s=n.index,i=function yG(){return Y.lFrame.currentDirectiveIndex}();try{zi(s);for(let a=r;a<o;a++){const c=e.data[a],l=t[a];pE(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&KX(c,l)}}finally{zi(-1),pE(i)}}function KX(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function CC(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function QX(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;qr(t)&&(n[""]=e)}}function e5(e,t,n,r,o){e.data[r]=o;const s=o.factory||(o.factory=ji(o.type)),i=new _d(s,qr(o),k);e.blueprint[r]=i,n[r]=i,function WX(e,t,n,r,o){const s=o.hostBindings;if(s){let i=e.hostBindingOpCodes;null===i&&(i=e.hostBindingOpCodes=[]);const a=~t.index;(function GX(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(i)!=a&&i.push(a),i.push(n,r,s)}}(e,t,r,Fd(e,n,o.hostVars,oe),o)}function vo(e,t,n,r,o,s){const i=wn(e,t);!function wC(e,t,n,r,o,s,i){if(null==s)e.removeAttribute(t,o,n);else{const a=null==i?re(s):i(s,r||"",o);e.setAttribute(t,o,a,n)}}(t[Z],i,s,e.value,n,r,o)}function n5(e,t,n,r,o,s){const i=s[t];if(null!==i)for(let a=0;a<i.length;)ck(r,n,i[a++],i[a++],i[a++],i[a++])}function r5(e,t,n){let r=null,o=0;for(;o<n.length;){const s=n[o];if(0!==s)if(5!==s){if("number"==typeof s)break;if(e.hasOwnProperty(s)){null===r&&(r=[]);const i=e[s];for(let a=0;a<i.length;a+=3)if(i[a]===t){r.push(s,i[a+1],i[a+2],n[o+1]);break}}o+=2}else o+=2;else o+=4}return r}function mk(e,t,n,r){return[e,!0,0,t,null,r,null,n,null,null]}function _k(e,t){const n=e.contentQueries;if(null!==n){const r=de(null);try{for(let o=0;o<n.length;o+=2){const i=n[o+1];if(-1!==i){const a=e.data[i];lg(n[o]),a.contentQueries(2,t[i],i)}}}finally{de(r)}}}function Vg(e,t){return e[ud]?e[xR][Hr]=t:e[ud]=t,e[xR]=t,t}function SC(e,t,n){lg(0);const r=de(null);try{t(e,n)}finally{de(r)}}function jg(e,t){const n=e[It],r=n?n.get(_o,null):null;r&&r.handleError(t)}function DC(e,t,n,r,o){for(let s=0;s<n.length;){const i=n[s++],a=n[s++],c=n[s++];ck(e.data[i],t[i],r,a,c,o)}}function o5(e,t){const n=Xn(t,e),r=n[x];!function s5(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(r,n);const o=n[ot];null!==o&&null===n[Cn]&&(n[Cn]=WE(o,n[It])),MC(r,n,n[Ke])}function MC(e,t,n){_E(t);try{const r=e.viewQuery;null!==r&&SC(1,r,n);const o=e.template;null!==o&&lk(e,t,o,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[Xo]?.finishViewCreation(e),e.staticContentQueries&&_k(e,t),e.staticViewQueries&&SC(2,e.viewQuery,n);const s=e.components;null!==s&&function i5(e,t){for(let n=0;n<t.length;n++)o5(e,t[n])}(t,s)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[q]&=-5,yE()}}function Qi(e,t){return!t||null===t.firstChild||wd(e)}function Pd(e,t,n,r,o=!1){for(;null!==n;){if(128===n.type){n=o?n.projectionNext:n.next;continue}const s=t[n.index];null!==s&&r.push(De(s)),hn(s)&&Ck(s,r);const i=n.type;if(8&i)Pd(e,t,n.child,r);else if(32&i){const a=iC(n,t);let c;for(;c=a();)r.push(c)}else if(16&i){const a=nk(t,n);if(Array.isArray(a))r.push(...a);else{const c=Ko(t[st]);Pd(c[x],c,a,r,!0)}}n=o?n.projectionNext:n.next}return r}function Ck(e,t){for(let n=yt;n<e.length;n++){const r=e[n],o=r[x].firstChild;null!==o&&Pd(r[x],r,o,t)}e[ho]!==e[ot]&&t.push(e[ho])}let wk=[];const u5={...Rp,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{ig(e.lView)},consumerOnSignalRead(){this.lView[pr]=this}},f5={...Rp,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{let t=Ko(e.lView);for(;t&&!Sk(t[x]);)t=Ko(t);t&&GR(t)},consumerOnSignalRead(){this.lView[pr]=this}};function Sk(e){return 2!==e.type}const h5=100;function Bg(e,t=!0,n=0){const r=e[fo],o=r.rendererFactory;o.begin?.();try{!function p5(e,t){const n=nO();try{rO(!0),TC(e,t);let r=0;for(;sg(e);){if(r===h5)throw new M(103,!1);r++,TC(e,1)}}finally{rO(n)}}(e,n)}catch(i){throw t&&jg(e,i),i}finally{o.end?.(),r.inlineEffectRunner?.flush()}}function g5(e,t,n,r){const o=t[q];if(!(256&~o))return;t[fo].inlineEffectRunner?.flush(),_E(t);let a=!0,c=null,l=null;Sk(e)?(l=function a5(e){return e[pr]??function c5(e){const t=wk.pop()??Object.create(u5);return t.lView=e,t}(e)}(t),c=Op(l)):null===function PT(){return _t}()?(a=!1,l=function d5(e){const t=e[pr]??Object.create(f5);return t.lView=e,t}(t),c=Op(l)):t[pr]&&(gb(t[pr]),t[pr]=null);try{WR(t),function oO(e){return Y.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&lk(e,t,n,2,r);const u=!(3&~o);if(u){const h=e.preOrderCheckHooks;null!==h&&dg(t,h,null)}else{const h=e.preOrderHooks;null!==h&&fg(t,h,0,null),vE(t,0)}if(function m5(e){for(let t=QO(e);null!==t;t=JO(t)){if(!(t[q]&rg.HasTransplantedViews))continue;const n=t[Fc];for(let r=0;r<n.length;r++)GR(n[r])}}(t),Mk(t,0),null!==e.contentQueries&&_k(e,t),u){const h=e.contentCheckHooks;null!==h&&dg(t,h)}else{const h=e.contentHooks;null!==h&&fg(t,h,1),vE(t,1)}!function xX(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const o=n[r];if(o<0)zi(~o);else{const s=o,i=n[++r],a=n[++r];_G(i,s),a(2,t[s])}}}finally{zi(-1)}}(e,t);const d=e.components;null!==d&&Tk(t,d,0);const f=e.viewQuery;if(null!==f&&SC(2,f,r),u){const h=e.viewCheckHooks;null!==h&&dg(t,h)}else{const h=e.viewHooks;null!==h&&fg(t,h,2),vE(t,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[tg]){for(const h of t[tg])h();t[tg]=null}t[q]&=-73}catch(u){throw ig(t),u}finally{null!==l&&(hb(l,c),a&&function l5(e){e.lView[pr]!==e&&(e.lView=null,wk.push(e))}(l)),yE()}}function Mk(e,t){for(let n=QO(e);null!==n;n=JO(n))for(let r=yt;r<n.length;r++)Ik(n[r],t)}function _5(e,t,n){Ik(Xn(t,e),n)}function Ik(e,t){cE(e)&&TC(e,t)}function TC(e,t){const r=e[x],o=e[q],s=e[pr];let i=!!(0===t&&16&o);if(i||=!!(64&o&&0===t),i||=!!(1024&o),i||=!(!s?.dirty||!pb(s)),i||=!1,s&&(s.dirty=!1),e[q]&=-9217,i)g5(r,e,r.template,e[Ke]);else if(8192&o){Mk(e,1);const a=r.components;null!==a&&Tk(e,a,1)}}function Tk(e,t,n){for(let r=0;r<t.length;r++)_5(e,t[r],n)}function Ld(e,t){const n=nO()?64:1088;for(e[fo].changeDetectionScheduler?.notify(t);e;){e[q]|=n;const r=Ko(e);if(fd(e)&&!r)return e;e=r}return null}class Vd{get rootNodes(){const t=this._lView,n=t[x];return Pd(n,t,n.firstChild,[])}constructor(t,n,r=!0){this._lView=t,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ke]}set context(t){this._lView[Ke]=t}get destroyed(){return!(256&~this._lView[q])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[Mt];if(hn(t)){const n=t[8],r=n?n.indexOf(this):-1;r>-1&&(Nd(t,r),Wp(n,r))}this._attachedToViewContainer=!1}xg(this._lView[x],this._lView)}onDestroy(t){ag(this._lView,t)}markForCheck(){Ld(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[q]&=-129}reattach(){lE(this._lView),this._lView[q]|=128}detectChanges(){this._lView[q]|=1024,Bg(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new M(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const t=fd(this._lView),n=this._lView[Ui];null!==n&&!t&&lC(n,this._lView),GA(this._lView[x],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new M(902,!1);this._appRef=t;const n=fd(this._lView),r=this._lView[Ui];null!==r&&!n&&XA(r,this._lView),lE(this._lView)}}let ts=(()=>{class e{static{this.__NG_ELEMENT_ID__=b5}}return e})();const y5=ts,v5=class extends y5{constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n)}createEmbeddedViewImpl(t,n,r){const o=function Xc(e,t,n,r){const o=de(null);try{const s=t.tView,c=Lg(e,s,n,4096&e[q]?4096:16,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null);c[Ui]=e[t.index];const u=e[Xo];return null!==u&&(c[Xo]=u.createEmbeddedView(s)),MC(s,c,n),c}finally{de(o)}}(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:n,dehydratedView:r});return new Vd(o)}};function b5(){return function Ug(e,t){return 4&e.type?new v5(t,e,jc(e,t)):null}(Ve(),S())}class Yc{}const Wd=new P("",{providedIn:"root",factory:()=>!1}),Zk=new P(""),jC=new P("");class f6{}class Yk{}class p6{resolveComponentFactory(t){throw function h6(e){const t=Error(`No component factory found for ${Ft(e)}.`);return t.ngComponent=e,t}(t)}}class Gg{static{this.NULL=new p6}}class BC{}let ns=(()=>{class e{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function g6(){const e=S(),n=Xn(Ve().index,e);return(Vt(n)?n:e)[Z]}()}}return e})(),m6=(()=>{class e{static{this.\u0275prov=L({token:e,providedIn:"root",factory:()=>null})}}return e})();function Kg(e,t,n){let r=n?e.styles:null,o=n?e.classes:null,s=0;if(null!==t)for(let i=0;i<t.length;i++){const a=t[i];"number"==typeof a?s=a:1==s?o=Ib(o,a):2==s&&(r=Ib(r,a+": "+t[++i]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=o:e.classesWithoutHost=o}class tN extends Gg{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=pe(t);return new Kd(n,this.ngModule)}}function nN(e,t){const n=[];for(const r in e){if(!e.hasOwnProperty(r))continue;const o=e[r];if(void 0===o)continue;const s=Array.isArray(o),i=s?o[0]:o;n.push(t?{propName:i,templateName:r,isSignal:!!((s?o[1]:Vs.None)&Vs.SignalBased)}:{propName:i,templateName:r})}return n}class Kd extends Yk{get inputs(){const t=this.componentDef,n=t.inputTransforms,r=nN(t.inputs,!0);if(null!==n)for(const o of r)n.hasOwnProperty(o.propName)&&(o.transform=n[o.propName]);return r}get outputs(){return nN(this.componentDef.outputs,!1)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function T4(e){return e.map(I4).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,r,o){const s=de(null);try{let i=(o=o||this.ngModule)instanceof Vn?o:o?.injector;i&&null!==this.componentDef.getStandaloneInjector&&(i=this.componentDef.getStandaloneInjector(i)||i);const a=i?new Wi(t,i):t,c=a.get(BC,null);if(null===c)throw new M(407,!1);const d={rendererFactory:c,sanitizer:a.get(m6,null),inlineEffectRunner:null,changeDetectionScheduler:a.get(Yc,null)},f=c.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",g=r?function PX(e,t,n,r){const s=r.get(_A,!1)||n===Ur.ShadowDom,i=e.selectRootElement(t,s);return function LX(e){dk(e)}(i),i}(f,r,this.componentDef.encapsulation,a):Ng(f,h,function v6(e){const t=e.toLowerCase();return"svg"===t?qR:"math"===t?"math":null}(h));let m=512;this.componentDef.signals?m|=4096:this.componentDef.onPush||(m|=16);let y=null;null!==g&&(y=WE(g,a,!0));const w=bC(0,null,null,1,0,null,null,null,null,null,null),v=Lg(null,w,null,m,null,null,d,f,a,null,y);_E(v);let N,V,H=null;try{const ae=this.componentDef;let Pe,C=null;ae.findHostDirectiveDefs?(Pe=[],C=new Map,ae.findHostDirectiveDefs(ae,Pe,C),Pe.push(ae)):Pe=[ae];const En=function E6(e,t){const n=e[x],r=U;return e[r]=t,Yi(n,r,2,"#host",null)}(v,g);H=function C6(e,t,n,r,o,s,i){const a=o[x];!function w6(e,t,n,r){for(const o of e)t.mergedAttrs=cd(t.mergedAttrs,o.hostAttrs);null!==t.mergedAttrs&&(Kg(t,t.mergedAttrs,!0),null!==n&&ik(r,n,t))}(r,e,t,i);let c=null;null!==t&&(c=WE(t,o[It]));const l=s.rendererFactory.createRenderer(t,n);let u=16;n.signals?u=4096:n.onPush&&(u=64);const d=Lg(o,uk(n),null,u,o[e.index],e,s,l,null,null,c);return a.firstCreatePass&&CC(a,e,r.length-1),Vg(o,d),o[e.index]=d}(En,g,ae,Pe,v,d,f),V=pd(w,U),g&&function D6(e,t,n,r){if(r)zb(e,n,["ng-version","18.2.13"]);else{const{attrs:o,classes:s}=function R4(e){const t=[],n=[];let r=1,o=2;for(;r<e.length;){let s=e[r];if("string"==typeof s)2===o?""!==s&&t.push(s,e[++r]):8===o&&n.push(s);else{if(!$r(o))break;o=s}r++}return{attrs:t,classes:n}}(t.selectors[0]);o&&zb(e,n,o),s&&s.length>0&&sk(e,n,s.join(" "))}}(f,ae,g,r),void 0!==n&&function M6(e,t,n){const r=e.projection=[];for(let o=0;o<t.length;o++){const s=n[o];r.push(null!=s?Array.from(s):null)}}(V,this.ngContentSelectors,n),N=function S6(e,t,n,r,o,s){const i=Ve(),a=o[x],c=wn(i,o);pk(a,o,i,n,null,r);for(let u=0;u<n.length;u++)pn(Gi(o,a,i.directiveStart+u,i),o);gk(a,o,i),c&&pn(c,o);const l=Gi(o,a,i.directiveStart+i.componentOffset,i);if(e[Ke]=o[Ke]=l,null!==s)for(const u of s)u(l,t);return _C(a,i,o),l}(H,ae,Pe,C,v,[I6]),MC(w,v,null)}catch(ae){throw null!==H&&PE(H),PE(v),ae}finally{yE()}return new b6(this.componentType,N,jc(V,v),v,V)}finally{de(s)}}}class b6 extends f6{constructor(t,n,r,o,s){super(),this.location=r,this._rootLView=o,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Vd(o,void 0,!1),this.componentType=t}setInput(t,n){const r=this._tNode.inputs;let o;if(null!==r&&(o=r[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;const s=this._rootLView;DC(s[x],s,o,t,n),this.previousInputValues.set(t,n),Ld(Xn(this._tNode.index,s),1)}}get injector(){return new jt(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function I6(){const e=Ve();ug(S()[x],e)}let Gr=(()=>{class e{static{this.__NG_ELEMENT_ID__=T6}}return e})();function T6(){return function sN(e,t){let n;const r=t[e.index];return hn(r)?n=r:(n=mk(r,t,null,e),t[e.index]=n,Vg(t,n)),iN(n,t,e,r),new rN(n,e,t)}(Ve(),S())}const R6=Gr,rN=class extends R6{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return jc(this._hostTNode,this._hostLView)}get injector(){return new jt(this._hostTNode,this._hostLView)}get parentInjector(){const t=gg(this._hostTNode,this._hostLView);if(CE(t)){const n=vd(t,this._hostLView),r=yd(t);return new jt(n[x].data[r+8],n)}return new jt(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=oN(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-yt}createEmbeddedView(t,n,r){let o,s;"number"==typeof r?o=r:null!=r&&(o=r.index,s=r.injector);const a=t.createEmbeddedViewImpl(n||{},s,null);return this.insertImpl(a,o,Qi(this._hostTNode,null)),a}createComponent(t,n,r,o,s){const i=t&&!function ld(e){return"function"==typeof e}(t);let a;if(i)a=n;else{const g=n||{};a=g.index,r=g.injector,o=g.projectableNodes,s=g.environmentInjector||g.ngModuleRef}const c=i?t:new Kd(pe(t)),l=r||this.parentInjector;if(!s&&null==c.ngModule){const m=(i?l:this.parentInjector).get(Vn,null);m&&(s=m)}pe(c.componentType??{});const h=c.create(l,o,null,s);return this.insertImpl(h.hostView,a,Qi(this._hostTNode,null)),h}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,r){const o=t._lView;if(function aG(e){return hn(e[Mt])}(o)){const a=this.indexOf(t);if(-1!==a)this.detach(a);else{const c=o[Mt],l=new rN(c,c[on],c[Mt]);l.detach(l.indexOf(t))}}const s=this._adjustIndex(n),i=this._lContainer;return function Kc(e,t,n,r=!0){const o=t[x];if(function DX(e,t,n,r){const o=yt+r,s=n.length;r>0&&(n[o-1][Hr]=t),r<s-yt?(t[Hr]=n[o],gR(n,yt+r,t)):(n.push(t),t[Hr]=null),t[Mt]=n;const i=t[Ui];null!==i&&n!==i&&XA(i,t);const a=t[Xo];null!==a&&a.insertView(e),lE(t),t[q]|=128}(o,t,e,n),r){const i=pC(n,e),a=t[Z],c=fC(a,e[ho]);null!==c&&function wX(e,t,n,r,o,s){r[ot]=o,r[on]=t,Pg(e,r,n,1,o,s)}(o,e[on],a,t,c,i)}const s=t[Cn];null!==s&&null!==s.firstChild&&(s.firstChild=null)}(i,o,s,r),t.attachToViewContainerRef(),gR(HC(i),s,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=oN(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),r=Nd(this._lContainer,n);r&&(Wp(HC(this._lContainer),n),xg(r[x],r))}detach(t){const n=this._adjustIndex(t,-1),r=Nd(this._lContainer,n);return r&&null!=Wp(HC(this._lContainer),n)?new Vd(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function oN(e){return e[8]}function HC(e){return e[8]||(e[8]=[])}let iN=function cN(e,t,n,r){if(e[ho])return;let o;o=8&n.type?De(r):function O6(e,t){const n=e[Z],r=n.createComment(""),o=wn(t,e);return Ki(n,fC(n,o),r,function TX(e,t){return e.nextSibling(t)}(n,o),!1),r}(t,n),e[ho]=o},qC=()=>!1;const mN=new Set;function Dn(e){mN.has(e)||(mN.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}function Qc(e,t){Dn("NgSignals");const n=function OW(e){const t=Object.create(kW);t.value=e;const n=()=>(fb(t),t.value);return n[Br]=t,n}(e),r=n[Br];return t?.equal&&(r.equal=t.equal),n.set=o=>WT(r,o),n.update=o=>function AW(e,t){jT()||zT(),WT(e,t(e.value))}(r,o),n.asReadonly=yN.bind(n),n}function yN(){const e=this[Br];if(void 0===e.readonlyFn){const t=()=>this();t[Br]=e,e.readonlyFn=t}return e.readonlyFn}function vN(e){return function _N(e){return"function"==typeof e&&void 0!==e[Br]}(e)&&"function"==typeof e.set}function Fe(e){let t=function ON(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const r=[e];for(;t;){let o;if(qr(e))o=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new M(903,!1);o=t.\u0275dir}if(o){if(n){r.push(o);const i=e;i.inputs=Yg(e.inputs),i.inputTransforms=Yg(e.inputTransforms),i.declaredInputs=Yg(e.declaredInputs),i.outputs=Yg(e.outputs);const a=o.hostBindings;a&&J6(e,a);const c=o.viewQuery,l=o.contentQueries;if(c&&Y6(e,c),l&&Q6(e,l),K6(e,o),XW(e.outputs,o.outputs),qr(o)&&o.data.animation){const u=e.data;u.animation=(u.animation||[]).concat(o.data.animation)}}const s=o.features;if(s)for(let i=0;i<s.length;i++){const a=s[i];a&&a.ngInherit&&a(e),a===Fe&&(n=!1)}}t=Object.getPrototypeOf(t)}!function Z6(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){const o=e[r];o.hostVars=t+=o.hostVars,o.hostAttrs=cd(o.hostAttrs,n=cd(n,o.hostAttrs))}}(r)}function K6(e,t){for(const n in t.inputs){if(!t.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;const r=t.inputs[n];if(void 0!==r&&(e.inputs[n]=r,e.declaredInputs[n]=t.declaredInputs[n],null!==t.inputTransforms)){const o=Array.isArray(r)?r[0]:r;if(!t.inputTransforms.hasOwnProperty(o))continue;e.inputTransforms??={},e.inputTransforms[o]=t.inputTransforms[o]}}}function Yg(e){return e===lo?{}:e===Se?[]:e}function Y6(e,t){const n=e.viewQuery;e.viewQuery=n?(r,o)=>{t(r,o),n(r,o)}:t}function Q6(e,t){const n=e.contentQueries;e.contentQueries=n?(r,o,s)=>{t(r,o,s),n(r,o,s)}:t}function J6(e,t){const n=e.hostBindings;e.hostBindings=n?(r,o)=>{t(r,o),n(r,o)}:t}class ta{}class PN{}class ew extends ta{constructor(t,n,r,o=!0){super(),this.ngModuleType=t,this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new tN(this);const s=fn(t);this._bootstrapComponents=Zn(s.bootstrap),this._r3Injector=NO(t,n,[{provide:ta,useValue:this},{provide:Gg,useValue:this.componentFactoryResolver},...r],Ft(t),new Set(["environment"])),o&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class tw extends PN{constructor(t){super(),this.moduleType=t}create(t){return new ew(this.moduleType,t,[])}}class LN extends ta{constructor(t){super(),this.componentFactoryResolver=new tN(this),this.instance=null;const n=new Tc([...t.providers,{provide:ta,useValue:this},{provide:Gg,useValue:this.componentFactoryResolver}],t.parent||Jp(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function nw(e,t,n=null){return new LN({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}function Qg(e){return!!function rw(e){return null!==e&&("function"==typeof e||"object"==typeof e)}(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function vt(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function Qd(e,t,n,r,o,s,i,a,c,l){const u=n+U,d=t.firstCreatePass?function d7(e,t,n,r,o,s,i,a,c){const l=t.consts,u=Yi(t,e,4,i||null,a||null);EC(t,n,u,mr(l,c)),ug(t,u);const d=u.tView=bC(2,u,r,o,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,l,null);return null!==t.queries&&(t.queries.template(t,u),d.queries=t.queries.embeddedTView(u)),u}(u,t,e,r,o,s,i,a,c):t.data[u];zr(d,!1);const f=VN(t,e,d,n);md()&&Fg(t,e,f,d),pn(f,e);const h=mk(f,e,f,d);return e[u]=h,Vg(e,h),function aN(e,t,n){return qC(e,t,n)}(h,d,e),og(d)&&yC(t,e,d),null!=c&&vC(e,d,l),d}function yr(e,t,n,r,o,s,i,a){const c=S(),l=fe();return Qd(c,l,e,t,n,r,o,mr(l.consts,s),i,a),yr}let VN=function jN(e,t,n,r){return go(!0),t[Z].createComment("")};var nl=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(nl||{});let zN=(()=>{class e{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=L({token:e,providedIn:"root",factory:()=>new e})}}return e})();class tf{constructor(){this.ngZone=I(Oe),this.scheduler=I(Yc),this.errorHandler=I(_o,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[nl.EarlyRead,nl.Write,nl.MixedReadWrite,nl.Read]}execute(){this.executing=!0;for(const t of tf.PHASES)for(const n of this.sequences)if(!n.erroredOrDestroyed&&n.hooks[t])try{n.pipelinedValue=this.ngZone.runOutsideAngular(()=>n.hooks[t](n.pipelinedValue))}catch(r){n.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(const t of this.sequences)t.afterRun(),t.once&&(this.sequences.delete(t),t.destroy());for(const t of this.deferredRegistrations)this.sequences.add(t);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(t){this.executing?this.deferredRegistrations.add(t):(this.sequences.add(t),this.scheduler.notify(6))}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}static{this.\u0275prov=L({token:tf,providedIn:"root",factory:()=>new tf})}}function vr(e,t,n,r){const o=S();return vt(o,Wr(),t)&&(fe(),vo(Ze(),o,e,t,n,r)),vr}function ll(e,t,n,r){return vt(e,Wr(),n)?t+re(n)+r:oe}function sm(e,t){return e<<17|t<<2}function Gs(e){return e>>17&32767}function gw(e){return 2|e}function oa(e){return(131068&e)>>2}function mw(e,t){return-131069&e|t<<2}function _w(e){return 1|e}function vx(e,t,n,r){const o=e[n+1],s=null===t;let i=r?Gs(o):oa(o),a=!1;for(;0!==i&&(!1===a||s);){const l=e[i+1];J7(e[i],t)&&(a=!0,e[i+1]=r?_w(l):gw(l)),i=r?Gs(l):oa(l)}a&&(e[n+1]=r?gw(o):_w(o))}function J7(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&Mc(e,t)>=0}function gt(e,t,n){const r=S();return vt(r,Wr(),t)&&Bn(fe(),Ze(),r,e,t,r[Z],n,!1),gt}function yw(e,t,n,r,o){const i=o?"class":"style";DC(e,n,t.inputs[i],i,r)}function Xs(e,t,n){return Xr(e,t,n,!1),Xs}function sa(e,t){return Xr(e,t,null,!0),sa}function Xr(e,t,n,r){const o=S(),s=fe(),i=function Yo(e){const t=Y.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}(2);s.firstUpdatePass&&function Ix(e,t,n,r){const o=e.data;if(null===o[n+1]){const s=o[sn()],i=function Mx(e,t){return t>=e.expandoStartIndex}(e,n);(function Ax(e,t){return!!(e.flags&(t?8:16))})(s,r)&&null===t&&!i&&(t=!1),t=function c9(e,t,n,r){const o=function gE(e){const t=Y.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let s=r?t.residualClasses:t.residualStyles;if(null===o)0===(r?t.classBindings:t.styleBindings)&&(n=rf(n=vw(null,e,t,n,r),t.attrs,r),s=null);else{const i=t.directiveStylingLast;if(-1===i||e[i]!==o)if(n=vw(o,e,t,n,r),null===s){let c=function l9(e,t,n){const r=n?t.classBindings:t.styleBindings;if(0!==oa(r))return e[Gs(r)]}(e,t,r);void 0!==c&&Array.isArray(c)&&(c=vw(null,e,t,c[1],r),c=rf(c,t.attrs,r),function u9(e,t,n,r){e[Gs(n?t.classBindings:t.styleBindings)]=r}(e,t,r,c))}else s=function d9(e,t,n){let r;const o=t.directiveEnd;for(let s=1+t.directiveStylingLast;s<o;s++)r=rf(r,e[s].hostAttrs,n);return rf(r,t.attrs,n)}(e,t,r)}return void 0!==s&&(r?t.residualClasses=s:t.residualStyles=s),n}(o,s,t,r),function Y7(e,t,n,r,o,s){let i=s?t.classBindings:t.styleBindings,a=Gs(i),c=oa(i);e[r]=n;let u,l=!1;if(Array.isArray(n)?(u=n[1],(null===u||Mc(n,u)>0)&&(l=!0)):u=n,o)if(0!==c){const f=Gs(e[a+1]);e[r+1]=sm(f,a),0!==f&&(e[f+1]=mw(e[f+1],r)),e[a+1]=function K7(e,t){return 131071&e|t<<17}(e[a+1],r)}else e[r+1]=sm(a,0),0!==a&&(e[a+1]=mw(e[a+1],r)),a=r;else e[r+1]=sm(c,0),0===a?a=r:e[c+1]=mw(e[c+1],r),c=r;l&&(e[r+1]=gw(e[r+1])),vx(e,u,r,!0),vx(e,u,r,!1),function Q7(e,t,n,r,o){const s=o?e.residualClasses:e.residualStyles;null!=s&&"string"==typeof t&&Mc(s,t)>=0&&(n[r+1]=_w(n[r+1]))}(t,u,e,r,s),i=sm(a,c),s?t.classBindings=i:t.styleBindings=i}(o,s,t,n,i,r)}}(s,e,i,r),t!==oe&&vt(o,i,t)&&function Rx(e,t,n,r,o,s,i,a){if(!(3&t.type))return;const c=e.data,l=c[a+1],u=function Z7(e){return!(1&~e)}(l)?Ox(c,t,n,o,oa(l),i):void 0;im(u)||(im(s)||function X7(e){return!(2&~e)}(l)&&(s=Ox(c,null,n,o,a,i)),function AX(e,t,n,r,o){if(t)o?e.addClass(n,r):e.removeClass(n,r);else{let s=-1===r.indexOf("-")?void 0:Hs.DashCase;null==o?e.removeStyle(n,r,s):("string"==typeof o&&o.endsWith("!important")&&(o=o.slice(0,-10),s|=Hs.Important),e.setStyle(n,r,o,s))}}(r,i,hd(sn(),n),o,s))}(s,s.data[sn()],o,o[Z],e,o[i+1]=function g9(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=Ft(function $s(e){return e instanceof wA?e.changingThisBreaksApplicationSecurity:e}(e)))),e}(t,n),r,i)}function vw(e,t,n,r,o){let s=null;const i=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<i&&(s=t[a],r=rf(r,s.hostAttrs,o),s!==e);)a++;return null!==e&&(n.directiveStylingLast=a),r}function rf(e,t,n){const r=n?1:2;let o=-1;if(null!==t)for(let s=0;s<t.length;s++){const i=t[s];"number"==typeof i?o=i:o===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Gn(e,i,!!n||t[++s]))}return void 0===e?null:e}function Ox(e,t,n,r,o,s){const i=null===t;let a;for(;o>0;){const c=e[o],l=Array.isArray(c),u=l?c[1]:c,d=null===u;let f=n[o+1];f===oe&&(f=d?Se:void 0);let h=d?Hb(f,r):u===r?f:void 0;if(l&&!im(h)&&(h=Hb(c,r)),im(h)&&(a=h,i))return a;const g=e[o+1];o=i?Gs(g):oa(g)}if(null!==t){let c=s?t.residualClasses:t.residualStyles;null!=c&&(a=Hb(c,r))}return a}function im(e){return void 0!==e}function ve(e,t,n,r){const o=S(),s=fe(),i=U+e,a=o[Z],c=s.firstCreatePass?function V9(e,t,n,r,o,s){const i=t.consts,c=Yi(t,e,2,r,mr(i,o));return EC(t,n,c,mr(i,s)),null!==c.attrs&&Kg(c,c.attrs,!1),null!==c.mergedAttrs&&Kg(c,c.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,c),c}(i,s,o,t,n,r):s.data[i],l=Fx(s,o,c,a,t,e);o[i]=l;const u=og(c);return zr(c,!0),ik(a,l,c),!function el(e){return!(32&~e.flags)}(c)&&md()&&Fg(s,o,l,c),0===function cG(){return Y.lFrame.elementDepthCount}()&&pn(l,o),function lG(){Y.lFrame.elementDepthCount++}(),u&&(yC(s,o,c),_C(s,c,o)),null!==r&&vC(o,c),ve}function Te(){let e=Ve();fE()?hE():(e=e.parent,zr(e,!1));const t=e;(function dG(e){return Y.skipHydrationRootTNode===e})(t)&&function gG(){Y.skipHydrationRootTNode=null}(),function uG(){Y.lFrame.elementDepthCount--}();const n=fe();return n.firstCreatePass&&(ug(n,e),rE(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function IG(e){return!!(8&e.flags)}(t)&&yw(n,t,S(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function TG(e){return!!(16&e.flags)}(t)&&yw(n,t,S(),t.stylesWithoutHost,!1),Te}function Xt(e,t,n,r){return ve(e,t,n,r),Te(),Xt}let Fx=(e,t,n,r,o,s)=>(go(!0),Ng(r,o,function hO(){return Y.lFrame.currentNamespace}()));function Ks(e,t,n){const r=S(),o=fe(),s=e+U,i=o.firstCreatePass?function U9(e,t,n,r,o){const s=t.consts,i=mr(s,r),a=Yi(t,e,8,"ng-container",i);return null!==i&&Kg(a,i,!0),EC(t,n,a,mr(s,o)),null!==t.queries&&t.queries.elementStart(t,a),a}(s,o,r,t,n):o.data[s];zr(i,!0);const a=Lx(o,r,i,e);return r[s]=a,md()&&Fg(o,r,a,i),pn(a,r),og(i)&&(yC(o,r,i),_C(o,i,r)),null!=n&&vC(r,i),Ks}function Zs(){let e=Ve();const t=fe();return fE()?hE():(e=e.parent,zr(e,!1)),t.firstCreatePass&&(ug(t,e),rE(e)&&t.queries.elementEnd(e)),Zs}let Lx=(e,t,n,r)=>(go(!0),cC(t[Z],""));const cm="en-US";let Hx=cm,aF=(e,t,n)=>{};function ft(e,t,n,r){const o=S(),s=fe(),i=Ve();return Dw(s,o,o[Z],i,e,t,r),ft}function Dw(e,t,n,r,o,s,i){const a=og(r),l=e.firstCreatePass&&function vk(e){return e.cleanup??=[]}(e),u=t[Ke],d=function yk(e){return e[Ac]??=[]}(t);let f=!0;if(3&r.type||i){const m=wn(r,t),y=i?i(m):m,w=d.length,v=i?V=>i(De(V[r.index])):r.index;let N=null;if(!i&&a&&(N=function xK(e,t,n,r){const o=e.cleanup;if(null!=o)for(let s=0;s<o.length-1;s+=2){const i=o[s];if(i===n&&o[s+1]===r){const a=t[Ac],c=o[s+2];return a.length>c?a[c]:null}"string"==typeof i&&(s+=2)}return null}(e,t,o,r.index)),null!==N)(N.__ngLastListenerFn__||N).__ngNextListenerFn__=s,N.__ngLastListenerFn__=s,f=!1;else{s=dF(r,t,u,s),aF(m,o,s);const V=n.listen(y,o,s);d.push(s,V),l&&l.push(o,v,w,w+1)}}else s=dF(r,t,u,s);const h=r.outputs;let g;if(f&&null!==h&&(g=h[o])){const m=g.length;if(m)for(let y=0;y<m;y+=2){const H=t[g[y]][g[y+1]].subscribe(s),ae=d.length;d.push(s,H),l&&l.push(o,r.index,ae,-(ae+1))}}}function uF(e,t,n,r){const o=de(null);try{return po(6,t,n),!1!==n(r)}catch(s){return jg(e,s),!1}finally{po(7,t,n),de(o)}}function dF(e,t,n,r){return function o(s){if(s===Function)return r;Ld(e.componentOffset>-1?Xn(e.index,t):t,5);let a=uF(t,n,r,s),c=o.__ngNextListenerFn__;for(;c;)a=uF(t,n,c,s)&&a,c=c.__ngNextListenerFn__;return a}}function Jn(e=1){return function bG(e){return(Y.lFrame.contextLView=function XR(e,t){for(;e>0;)t=t[kc],e--;return t}(e,Y.lFrame.contextLView))[Ke]}(e)}function fm(e,t,n,r,o){const s=S(),i=ll(s,t,n,r);return i!==oe&&Bn(fe(),Ze(),s,e,i,s[Z],o,!1),fm}function br(e,t=""){const n=S(),r=fe(),o=e+U,s=r.firstCreatePass?Yi(r,o,1,t,null):r.data[o],i=NF(r,n,s,t,e);n[o]=i,md()&&Fg(r,n,i,s),zr(s,!1)}let NF=(e,t,n,r,o)=>(go(!0),function aC(e,t){return e.createText(t)}(t[Z],r));function hm(e){return df("",e,""),hm}function df(e,t,n){const r=S(),o=ll(r,e,t,n);return o!==oe&&function es(e,t,n){const r=hd(t,e);!function WA(e,t,n){e.setValue(t,n)}(e[Z],r,n)}(r,sn(),o),df}function Iw(e,t,n){vN(t)&&(t=t());const r=S();return vt(r,Wr(),t)&&Bn(fe(),Ze(),r,e,t,r[Z],n,!1),Iw}function Tw(e,t){const n=S(),r=fe(),o=Ve();return Dw(r,n,n[Z],o,e,t),Tw}function Rw(e,t,n,r,o){if(e=K(e),Array.isArray(e))for(let s=0;s<e.length;s++)Rw(e[s],t,n,r,o);else{const s=fe(),i=S(),a=Ve();let c=Bi(e)?e:K(e.provide);const l=AR(e),u=1048575&a.providerIndexes,d=a.directiveStart,f=a.providerIndexes>>20;if(Bi(e)||!e.multi){const h=new _d(l,o,k),g=Aw(c,t,o?u:u+f,d);-1===g?(DE(pg(a,i),s,c),Ow(s,e,t.length),t.push(c),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),n.push(h),i.push(h)):(n[g]=h,i[g]=h)}else{const h=Aw(c,t,u+f,d),g=Aw(c,t,u,u+f),y=g>=0&&n[g];if(o&&!y||!o&&!(h>=0&&n[h])){DE(pg(a,i),s,c);const w=function iZ(e,t,n,r,o){const s=new _d(e,n,k);return s.multi=[],s.index=t,s.componentProviders=0,zF(s,o,r&&!n),s}(o?sZ:oZ,n.length,o,r,l);!o&&y&&(n[g].providerFactory=w),Ow(s,e,t.length,0),t.push(c),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),n.push(w),i.push(w)}else Ow(s,e,h>-1?h:g,zF(n[o?g:h],l,!o&&r));!o&&r&&y&&n[g].componentProviders++}}}function Ow(e,t,n,r){const o=Bi(t),s=function P4(e){return!!e.useClass}(t);if(o||s){const c=(s?K(t.useClass):t).prototype.ngOnDestroy;if(c){const l=e.destroyHooks||(e.destroyHooks=[]);if(!o&&t.multi){const u=l.indexOf(n);-1===u?l.push(n,[r,c]):l[u+1].push(r,c)}else l.push(n,c)}}}function zF(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Aw(e,t,n,r){for(let o=n;o<r;o++)if(t[o]===e)return o;return-1}function oZ(e,t,n,r){return kw(this.multi,[])}function sZ(e,t,n,r){const o=this.multi;let s;if(this.providerFactory){const i=this.providerFactory.componentProviders,a=Gi(n,n[x],this.providerFactory.index,r);s=a.slice(0,i),kw(o,s);for(let c=i;c<a.length;c++)s.push(a[c])}else s=[],kw(o,s);return s}function kw(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function at(e,t=[]){return n=>{n.providersResolver=(r,o)=>function rZ(e,t,n){const r=fe();if(r.firstCreatePass){const o=qr(e);Rw(n,r.data,r.blueprint,o,!0),Rw(t,r.data,r.blueprint,o,!1)}}(r,o?o(e):e,t)}}let aZ=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=Gb(0,n.type),o=r.length>0?nw([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,o)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=L({token:e,providedIn:"environment",factory:()=>new e(j(Vn))})}}return e})();function aa(e){Dn("NgStandalone"),e.getStandaloneInjector=t=>t.get(aZ).getOrCreateStandaloneInjector(e)}function XF(e,t,n,r,o,s){const i=t+n;return vt(e,i,o)?function bo(e,t,n){return e[t]=n}(e,i+1,s?r.call(s,o):r(o)):function ff(e,t){const n=e[t];return n===oe?void 0:n}(e,i+1)}function Nw(e,t){const n=fe();let r;const o=e+U;n.firstCreatePass?(r=function EZ(e,t){if(t)for(let n=t.length-1;n>=0;n--){const r=t[n];if(e===r.name)return r}}(t,n.pipeRegistry),n.data[o]=r,r.onDestroy&&(n.destroyHooks??=[]).push(o,r.onDestroy)):r=n.data[o];const s=r.factory||(r.factory=ji(r.type)),a=Fn(k);try{const c=hg(!1),l=s();return hg(c),function Mw(e,t,n,r){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=r}(n,S(),o,l),l}finally{Fn(a)}}function xw(e,t,n){const r=e+U,o=S(),s=function Hi(e,t){return e[t]}(o,r);return function hf(e,t){return e[x].data[t].pure}(o,r)?XF(o,function Sn(){const e=Y.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}(),t,s.transform,n,s):s.transform(n)}let pP=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();const vP=new P(""),ym=new P("");let $w,Bw=(()=>{class e{constructor(n,r,o){this._ngZone=n,this.registry=r,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,$w||(function vY(e){$w=e}(o),o.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Oe.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb()}});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,o){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(i=>i.timeoutId!==s),n()},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:o})}whenStable(n,r,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,o),this._runCallbacksIfReady()}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,o){return[]}static{this.\u0275fac=function(r){return new(r||e)(j(Oe),j(Uw),j(ym))}}static{this.\u0275prov=L({token:e,factory:e.\u0275fac})}}return e})(),Uw=(()=>{class e{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return $w?.findTestabilityInTree(this,n,r)??null}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();function _f(e){return!!e&&"function"==typeof e.then}function bP(e){return!!e&&"function"==typeof e.subscribe}const bY=new P("");let EP=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=I(bY,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const o of this.appInits){const s=o();if(_f(s))n.push(s);else if(bP(s)){const i=new Promise((a,c)=>{s.subscribe({complete:a,error:c})});n.push(i)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(o=>{this.reject(o)}),0===n.length&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const vm=new P("");function wP(e,t){return Array.isArray(t)?t.reduce(wP,e):{...e,...t}}let wo=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=I(n8),this.afterRenderManager=I(zN),this.zonelessEnabled=I(Wd),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new Nt,this.afterTick=new Nt,this.componentTypes=[],this.components=[],this.isStable=I(Qo).hasPendingTasks.pipe(se(n=>!n)),this._injector=I(Vn)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:o=>{o&&r()}})}).finally(()=>{n.unsubscribe()})}get injector(){return this._injector}bootstrap(n,r){const o=n instanceof Yk;if(!this._injector.get(EP).done)throw!o&&function js(e){const t=pe(e)||Pt(e)||rn(e);return null!==t&&t.standalone}(n),new M(405,!1);let i;i=o?n:this._injector.get(Gg).resolveComponentFactory(n),this.componentTypes.push(i.componentType);const a=function EY(e){return e.isBoundToModule}(i)?void 0:this._injector.get(ta),l=i.create(an.NULL,[],r||i.selector,a),u=l.location.nativeElement,d=l.injector.get(vP,null);return d?.registerApplication(u),l.onDestroy(()=>{this.detachView(l.hostView),bm(this.components,l),d?.unregisterApplication(u)}),this._loadComponent(l),l}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new M(101,!1);const n=de(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,de(n),this.afterTick.next()}}synchronize(){let n=null;this._injector.destroyed||(n=this._injector.get(BC,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;0!==this.dirtyFlags&&r++<10;)this.synchronizeOnce(n)}synchronizeOnce(n){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,7&this.dirtyFlags){const r=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:o,notifyErrorHandler:s}of this._views)SY(o,s,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),7&this.dirtyFlags)return}else n?.begin?.(),n?.end?.();8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:n})=>sg(n))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;bm(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(vm,[]);[...this._bootstrapListeners,...r].forEach(o=>o(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>bm(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new M(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function bm(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}function SY(e,t,n,r){(n||sg(e))&&Bg(e,t,n&&!r?0:1)}class DY{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let MY=(()=>{class e{compileModuleSync(n){return new tw(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),s=Zn(fn(n).declarations).reduce((i,a)=>{const c=pe(a);return c&&i.push(new Kd(c)),i},[]);return new DY(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),RY=(()=>{class e{constructor(){this.zone=I(Oe),this.changeDetectionScheduler=I(Yc),this.applicationRef=I(wo)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Hw({ngZoneFactory:e,ignoreChangesOutsideZone:t,scheduleInRootZone:n}){return e??=()=>new Oe({...qw(),scheduleInRootZone:n}),[{provide:Oe,useFactory:e},{provide:uo,multi:!0,useFactory:()=>{const r=I(RY,{optional:!0});return()=>r.initialize()}},{provide:uo,multi:!0,useFactory:()=>{const r=I(AY);return()=>{r.initialize()}}},!0===t?{provide:Zk,useValue:!0}:[],{provide:jC,useValue:n??FO}]}function qw(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}let AY=(()=>{class e{constructor(){this.subscription=new dn,this.initialized=!1,this.zone=I(Oe),this.pendingTasks=I(Qo)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Oe.assertNotInAngularZone(),queueMicrotask(()=>{null!==n&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Oe.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),yf=(()=>{class e{constructor(){this.appRef=I(wo),this.taskService=I(Qo),this.ngZone=I(Oe),this.zonelessEnabled=I(Wd),this.disableScheduling=I(Zk,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new dn,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(vg):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(I(jC,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof kE||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&5===n)return;switch(n){case 0:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 7:this.appRef.deferredDirtyFlags|=8;break;default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;const r=this.useMicrotaskScheduler?LO:PO;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>r(()=>this.tick())):this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(vg+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,LO(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const Ys=new P("",{providedIn:"root",factory:()=>I(Ys,ge.Optional|ge.SkipSelf)||function kY(){return typeof $localize<"u"&&$localize.locale||cm}()}),Cm=new P("");function wm(e){return!e.moduleRef}let OP=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const o=r?.scheduleInRootZone,i=r?.ignoreChangesOutsideZone,a=[Hw({ngZoneFactory:()=>function t8(e="zone.js",t){return"noop"===e?new kE:"zone.js"===e?new Oe(t):e}(r?.ngZone,{...qw({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}),scheduleInRootZone:o}),ignoreChangesOutsideZone:i}),{provide:Yc,useExisting:yf}],c=function i7(e,t,n){return new ew(e,t,n,!1)}(n.moduleType,this.injector,a);return function RP(e){const t=wm(e)?e.r3Injector:e.moduleRef.injector,n=t.get(Oe);return n.run(()=>{wm(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();const r=t.get(_o,null);let o;if(n.runOutsideAngular(()=>{o=n.onError.subscribe({next:s=>{r.handleError(s)}})}),wm(e)){const s=()=>t.destroy(),i=e.platformInjector.get(Cm);i.add(s),t.onDestroy(()=>{o.unsubscribe(),i.delete(s)})}else{const s=()=>e.moduleRef.destroy(),i=e.platformInjector.get(Cm);i.add(s),e.moduleRef.onDestroy(()=>{bm(e.allPlatformModules,e.moduleRef),o.unsubscribe(),i.delete(s)})}return function wY(e,t,n){try{const r=n();return _f(r)?r.catch(o=>{throw t.runOutsideAngular(()=>e.handleError(o)),o}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(r,n,()=>{const s=t.get(EP);return s.runInitializers(),s.donePromise.then(()=>{if(function Z9(e){"string"==typeof e&&(Hx=e.toLowerCase().replace(/_/g,"-"))}(t.get(Ys,cm)||cm),wm(e)){const a=t.get(wo);return void 0!==e.rootComponent&&a.bootstrap(e.rootComponent),a}return function VY(e,t){const n=e.injector.get(wo);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>n.bootstrap(r));else{if(!e.instance.ngDoBootstrap)throw new M(-403,!1);e.instance.ngDoBootstrap(n)}t.push(e)}(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}({moduleRef:c,allPlatformModules:this._modules,platformInjector:this.injector})}bootstrapModule(n,r=[]){const o=wP({},r);return function TY(e,t,n){const r=new tw(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,o))}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new M(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(Cm,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(r){return new(r||e)(j(an))}}static{this.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})(),Qs=null;const AP=new P("");function kP(e,t,n=[]){const r=`Platform: ${t}`,o=new P(r);return(s=[])=>{let i=Ww();if(!i||i.injector.get(AP,!1)){const a=[...n,...s,{provide:o,useValue:!0}];e?e(a):function jY(e){if(Qs&&!Qs.get(AP,!1))throw new M(400,!1);(function CP(){!function RW(e){qT=e}(()=>{throw new M(600,!1)})})(),Qs=e;const t=e.get(OP);(function xP(e){e.get(cA,null)?.forEach(n=>n())})(e)}(function NP(e=[],t){return an.create({name:t,providers:[{provide:Zb,useValue:"platform"},{provide:Cm,useValue:new Set([()=>Qs=null])},...e]})}(a,r))}return function BY(){const t=Ww();if(!t)throw new M(401,!1);return t}()}}function Ww(){return Qs?.get(OP)??null}let vf=(()=>{class e{static{this.__NG_ELEMENT_ID__=$Y}}return e})();function $Y(e){return function HY(e,t,n){if($i(e)&&!n){const r=Xn(e.index,t);return new Vd(r,r)}return 175&e.type?new Vd(t[st],t):null}(Ve(),S(),!(16&~e))}class jP{constructor(){}supports(t){return Qg(t)}create(t){return new XY(t)}}const GY=(e,t)=>t;class XY{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||GY}forEachItem(t){let n;for(n=this._itHead;null!==n;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,o=0,s=null;for(;n||r;){const i=!r||n&&n.currentIndex<UP(r,o,s)?n:r,a=UP(i,o,s),c=i.currentIndex;if(i===r)o--,r=r._nextRemoved;else if(n=n._next,null==i.previousIndex)o++;else{s||(s=[]);const l=a-o,u=c-o;if(l!=u){for(let f=0;f<l;f++){const h=f<s.length?s[f]:s[f]=0,g=h+f;u<=g&&g<l&&(s[f]=h+1)}s[i.previousIndex]=u-l}}a!==c&&t(i,a,c)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)t(n)}diff(t){if(null==t&&(t=[]),!Qg(t))throw new M(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let o,s,i,n=this._itHead,r=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)s=t[a],i=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,i)?(r&&(n=this._verifyReinsertion(n,s,i,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,i,a),r=!0),n=n._next}else o=0,function l7(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Symbol.iterator]();let r;for(;!(r=n.next()).done;)t(r.value)}}(t,a=>{i=this._trackByFn(o,a),null!==n&&Object.is(n.trackById,i)?(r&&(n=this._verifyReinsertion(n,a,i,o)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,i,o),r=!0),n=n._next,o++}),this.length=o;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,o){let s;return null===t?s=this._itTail:(s=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,s,o)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(r,o))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,s,o)):t=this._addAfter(new KY(n,r),s,o),t}_verifyReinsertion(t,n,r,o){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?t=this._reinsertAfter(s,t._prev,o):t.currentIndex!=o&&(t.currentIndex=o,this._addToMoves(t,o)),t}_truncate(t){for(;null!==t;){const n=t._next;this._addToRemovals(this._unlink(t)),t=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const o=t._prevRemoved,s=t._nextRemoved;return null===o?this._removalsHead=s:o._nextRemoved=s,null===s?this._removalsTail=o:s._prevRemoved=o,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){const o=null===n?this._itHead:n._next;return t._next=o,t._prev=n,null===o?this._itTail=t:o._prev=t,null===n?this._itHead=t:n._next=t,null===this._linkedRecords&&(this._linkedRecords=new BP),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const n=t._prev,r=t._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new BP),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class KY{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class ZY{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){const n=t._prevDup,r=t._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class BP{constructor(){this.map=new Map}put(t){const n=t.trackById;let r=this.map.get(n);r||(r=new ZY,this.map.set(n,r)),r.add(t)}get(t,n){const o=this.map.get(t);return o?o.get(t,n):null}remove(t){const n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function UP(e,t,n){const r=e.previousIndex;if(null===r)return r;let o=0;return n&&r<n.length&&(o=n[r]),r+t+o}function HP(){return new Yw([new jP])}let Yw=(()=>{class e{static{this.\u0275prov=L({token:e,providedIn:"root",factory:HP})}constructor(n){this.factories=n}static create(n,r){if(null!=r){const o=r.factories.slice();n=n.concat(o)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||HP()),deps:[[e,new Ub,new Bb]]}}find(n){const r=this.factories.find(o=>o.supports(n));if(null!=r)return r;throw new M(901,!1)}}return e})();const tQ=kP(null,"core",[]);let nQ=(()=>{class e{constructor(n){}static{this.\u0275fac=function(r){return new(r||e)(j(wo))}}static{this.\u0275mod=Wo({type:e})}static{this.\u0275inj=co({})}}return e})();function wf(e,t){Dn("NgSignals");const n=function MW(e){const t=Object.create(IW);t.computation=e;const n=()=>{if(LT(t),fb(t),t.value===Np)throw t.error;return t.value};return n[Br]=t,n}(e);return t?.equal&&(n[Br].equal=t.equal),n}function So(e){const t=de(null);try{return e()}finally{de(t)}}let h1=null;function Js(){return h1}class BQ{}const Er=new P("");let eS=(()=>{class e{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=L({token:e,factory:()=>I(UQ),providedIn:"platform"})}}return e})(),UQ=(()=>{class e extends eS{constructor(){super(),this._doc=I(Er),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Js().getBaseHref(this._doc)}onPopState(n){const r=Js().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=Js().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,o){this._history.pushState(n,r,o)}replaceState(n,r,o){this._history.replaceState(n,r,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=L({token:e,factory:()=>new e,providedIn:"platform"})}}return e})();function tS(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function p1(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function rs(e){return e&&"?"!==e[0]?"?"+e:e}let Cl=(()=>{class e{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=L({token:e,factory:()=>I($Q),providedIn:"root"})}}return e})();const g1=new P("");let $Q=(()=>{class e extends Cl{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??I(Er).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return tS(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+rs(this._platformLocation.search),o=this._platformLocation.hash;return o&&n?`${r}${o}`:r}pushState(n,r,o,s){const i=this.prepareExternalUrl(o+rs(s));this._platformLocation.pushState(n,r,i)}replaceState(n,r,o,s){const i=this.prepareExternalUrl(o+rs(s));this._platformLocation.replaceState(n,r,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||e)(j(eS),j(g1,8))}}static{this.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),HQ=(()=>{class e extends Cl{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){const r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=tS(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,o,s){let i=this.prepareExternalUrl(o+rs(s));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(n,r,i)}replaceState(n,r,o,s){let i=this.prepareExternalUrl(o+rs(s));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||e)(j(eS),j(g1,8))}}static{this.\u0275prov=L({token:e,factory:e.\u0275fac})}}return e})(),Sf=(()=>{class e{constructor(n){this._subject=new it,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function WQ(e){if(new RegExp("^(https?:)?//").test(e)){const[,n]=e.split(/\/\/[^\/]+/);return n}return e}(p1(m1(r))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+rs(r))}normalize(n){return e.stripTrailingSlash(function zQ(e,t){if(!e||!t.startsWith(e))return t;const n=t.substring(e.length);return""===n||["/",";","?","#"].includes(n[0])?n:t}(this._basePath,m1(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",o=null){this._locationStrategy.pushState(o,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+rs(r)),o)}replaceState(n,r="",o=null){this._locationStrategy.replaceState(o,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+rs(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(o=>o(n,r))}subscribe(n,r,o){return this._subject.subscribe({next:n,error:r,complete:o})}static{this.normalizeQueryParams=rs}static{this.joinWithSlash=tS}static{this.stripTrailingSlash=p1}static{this.\u0275fac=function(r){return new(r||e)(j(Cl))}}static{this.\u0275prov=L({token:e,factory:()=>function qQ(){return new Sf(j(Cl))}(),providedIn:"root"})}}return e})();function m1(e){return e.replace(/\/index.html$/,"")}function D1(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const r=n.indexOf("="),[o,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(o.trim()===t)return decodeURIComponent(s)}return null}class kJ{constructor(t,n,r,o){this.$implicit=t,this.ngForOf=n,this.index=r,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let fS=(()=>{class e{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,o){this._viewContainer=n,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((o,s,i)=>{if(null==o.previousIndex)r.createEmbeddedView(this._template,new kJ(o.item,this._ngForOf,-1,-1),null===i?void 0:i);else if(null==i)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,i),T1(a,o)}});for(let o=0,s=r.length;o<s;o++){const a=r.get(o).context;a.index=o,a.count=s,a.ngForOf=this._ngForOf}n.forEachIdentityChange(o=>{T1(r.get(o.currentIndex),o)})}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||e)(k(Gr),k(ts),k(Yw))}}static{this.\u0275dir=te({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return e})();function T1(e,t){e.context.$implicit=t.item}let qm=(()=>{class e{constructor(n,r){this._viewContainer=n,this._context=new NJ,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){R1("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){R1("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||e)(k(Gr),k(ts))}}static{this.\u0275dir=te({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return e})();class NJ{constructor(){this.$implicit=null,this.ngIf=null}}function R1(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${Ft(t)}'.`)}class PJ{createSubscription(t,n){return So(()=>t.subscribe({next:n,error:r=>{throw r}}))}dispose(t){So(()=>t.unsubscribe())}}class LJ{createSubscription(t,n){return t.then(n,r=>{throw r})}dispose(t){}}const VJ=new LJ,jJ=new PJ;let gS=(()=>{class e{constructor(n){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){if(!this._obj){if(n)try{this.markForCheckOnValueUpdate=!1,this._subscribe(n)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,r=>this._updateLatestValue(n,r))}_selectStrategy(n){if(_f(n))return VJ;if(bP(n))return jJ;throw function Yr(e,t){return new M(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,r){n===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static{this.\u0275fac=function(r){return new(r||e)(k(vf,16))}}static{this.\u0275pipe=Ln({name:"async",type:e,pure:!1,standalone:!0})}}return e})(),k1=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=Wo({type:e})}static{this.\u0275inj=co({})}}return e})();const N1="browser";function x1(e){return e===N1}function F1(e){return"server"===e}class zm{}class kee extends BQ{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ES extends kee{static makeCurrent(){!function jQ(e){h1??=e}(new ES)}onAndCancel(t,n,r){return t.addEventListener(n,r),()=>{t.removeEventListener(n,r)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.remove()}createElement(t,n){return(n=n||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return"window"===n?window:"document"===n?t:"body"===n?t.body:null}getBaseHref(t){const n=function Nee(){return Tf=Tf||document.querySelector("base"),Tf?Tf.getAttribute("href"):null}();return null==n?null:function xee(e){return new URL(e,document.baseURI).pathname}(n)}resetBaseElement(){Tf=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return D1(document.cookie,t)}}let Tf=null,Pee=(()=>{class e{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=L({token:e,factory:e.\u0275fac})}}return e})();const CS=new P("");let W1=(()=>{class e{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(o=>{o.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,o){return this._findPluginFor(r).addEventListener(n,r,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(s=>s.supports(n)),!r)throw new M(5101,!1);return this._eventNameToPlugin.set(n,r),r}static{this.\u0275fac=function(r){return new(r||e)(j(CS),j(Oe))}}static{this.\u0275prov=L({token:e,factory:e.\u0275fac})}}return e})();class G1{constructor(t){this._doc=t}}const wS="ng-app-id";let X1=(()=>{class e{constructor(n,r,o,s={}){this.doc=n,this.appId=r,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=F1(s),this.resetHostNodes()}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.elements?.forEach(o=>o.remove()),r.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${wS}="${this.appId}"]`);if(n?.length){const r=new Map;return n.forEach(o=>{null!=o.textContent&&r.set(o.textContent,o)}),r}return null}changeUsageCount(n,r){const o=this.styleRef;if(o.has(n)){const s=o.get(n);return s.usage+=r,s.usage}return o.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){const o=this.styleNodesInDOM,s=o?.get(r);if(s?.parentNode===n)return o.delete(r),s.removeAttribute(wS),s;{const i=this.doc.createElement("style");return this.nonce&&i.setAttribute("nonce",this.nonce),i.textContent=r,this.platformIsServer&&i.setAttribute(wS,this.appId),n.appendChild(i),i}}addStyleToHost(n,r){const o=this.getStyleElement(n,r),s=this.styleRef,i=s.get(r)?.elements;i?i.push(o):s.set(r,{elements:[o],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||e)(j(Er),j(Uc),j(jE,8),j(yo))}}static{this.\u0275prov=L({token:e,factory:e.\u0275fac})}}return e})();const SS={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},DS=/%COMP%/g,Bee=new P("",{providedIn:"root",factory:()=>!0});function Z1(e,t){return t.map(n=>n.replace(DS,e))}let Y1=(()=>{class e{constructor(n,r,o,s,i,a,c,l=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=i,this.platformId=a,this.ngZone=c,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=F1(a),this.defaultRenderer=new MS(n,i,c,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Ur.ShadowDom&&(r={...r,encapsulation:Ur.Emulated});const o=this.getOrCreateRenderer(n,r);return o instanceof J1?o.applyToHost(n):o instanceof IS&&o.applyStyles(),o}getOrCreateRenderer(n,r){const o=this.rendererByCompId;let s=o.get(r.id);if(!s){const i=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case Ur.Emulated:s=new J1(c,l,r,this.appId,u,i,a,d);break;case Ur.ShadowDom:return new qee(c,l,n,r,i,a,this.nonce,d);default:s=new IS(c,l,r,u,i,a,d)}o.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||e)(j(W1),j(X1),j(Uc),j(Bee),j(Er),j(yo),j(Oe),j(jE))}}static{this.\u0275prov=L({token:e,factory:e.\u0275fac})}}return e})();class MS{constructor(t,n,r,o){this.eventManager=t,this.doc=n,this.ngZone=r,this.platformIsServer=o,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t,n){return n?this.doc.createElementNS(SS[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(Q1(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(Q1(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){n.remove()}selectRootElement(t,n){let r="string"==typeof t?this.doc.querySelector(t):t;if(!r)throw new M(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,o){if(o){n=o+":"+n;const s=SS[o];s?t.setAttributeNS(s,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){const o=SS[r];o?t.removeAttributeNS(o,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,o){o&(Hs.DashCase|Hs.Important)?t.style.setProperty(n,r,o&Hs.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&Hs.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){null!=t&&(t[n]=r)}setValue(t,n){t.nodeValue=n}listen(t,n,r){if("string"==typeof t&&!(t=Js().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${n}`);return this.eventManager.addEventListener(t,n,this.decoratePreventDefault(r))}decoratePreventDefault(t){return n=>{if("__ngUnwrap__"===n)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(n)):t(n))&&n.preventDefault()}}}function Q1(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class qee extends MS{constructor(t,n,r,o,s,i,a,c){super(t,s,i,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=Z1(o.id,o.styles);for(const u of l){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(null,n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class IS extends MS{constructor(t,n,r,o,s,i,a,c){super(t,s,i,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=o,this.styles=c?Z1(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class J1 extends IS{constructor(t,n,r,o,s,i,a,c){const l=o+"-"+r.id;super(t,n,r,s,i,a,c,l),this.contentAttr=function Uee(e){return"_ngcontent-%COMP%".replace(DS,e)}(l),this.hostAttr=function $ee(e){return"_nghost-%COMP%".replace(DS,e)}(l)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){const r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}}let zee=(()=>{class e extends G1{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,o){return n.addEventListener(r,o,!1),()=>this.removeEventListener(n,r,o)}removeEventListener(n,r,o){return n.removeEventListener(r,o)}static{this.\u0275fac=function(r){return new(r||e)(j(Er))}}static{this.\u0275prov=L({token:e,factory:e.\u0275fac})}}return e})();const eL=["alt","control","meta","shift"],Wee={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Gee={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let Xee=(()=>{class e extends G1{constructor(n){super(n)}supports(n){return null!=e.parseEventName(n)}addEventListener(n,r,o){const s=e.parseEventName(r),i=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Js().onAndCancel(n,s.domEventName,i))}static parseEventName(n){const r=n.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const s=e._normalizeKey(r.pop());let i="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),i="code."),eL.forEach(l=>{const u=r.indexOf(l);u>-1&&(r.splice(u,1),i+=l+".")}),i+=s,0!=r.length||0===s.length)return null;const c={};return c.domEventName=o,c.fullKey=i,c}static matchEventFullKeyCode(n,r){let o=Wee[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(o=n.code,s="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),eL.forEach(i=>{i!==o&&(0,Gee[i])(n)&&(s+=i+".")}),s+=o,s===r)}static eventCallback(n,r,o){return s=>{e.matchEventFullKeyCode(s,n)&&o.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}static{this.\u0275fac=function(r){return new(r||e)(j(Er))}}static{this.\u0275prov=L({token:e,factory:e.\u0275fac})}}return e})();const Qee=kP(tQ,"browser",[{provide:yo,useValue:N1},{provide:cA,useValue:function Kee(){ES.makeCurrent()},multi:!0},{provide:Er,useFactory:function Yee(){return function S8(e){VE=e}(document),document},deps:[]}]),Jee=new P(""),rL=[{provide:ym,useClass:class Fee{addToWindow(t){nt.getAngularTestability=(r,o=!0)=>{const s=t.findTestabilityInTree(r,o);if(null==s)throw new M(5103,!1);return s},nt.getAllAngularTestabilities=()=>t.getAllTestabilities(),nt.getAllAngularRootElements=()=>t.getAllRootElements(),nt.frameworkStabilizers||(nt.frameworkStabilizers=[]),nt.frameworkStabilizers.push(r=>{const o=nt.getAllAngularTestabilities();let s=o.length;const i=function(){s--,0==s&&r()};o.forEach(a=>{a.whenStable(i)})})}findTestabilityInTree(t,n,r){return null==n?null:t.getTestability(n)??(r?Js().isShadowRoot(n)?this.findTestabilityInTree(t,n.host,!0):this.findTestabilityInTree(t,n.parentElement,!0):null)}},deps:[]},{provide:vP,useClass:Bw,deps:[Oe,Uw,ym]},{provide:Bw,useClass:Bw,deps:[Oe,Uw,ym]}],oL=[{provide:Zb,useValue:"root"},{provide:_o,useFactory:function Zee(){return new _o},deps:[]},{provide:CS,useClass:zee,multi:!0,deps:[Er,Oe,yo]},{provide:CS,useClass:Xee,multi:!0,deps:[Er]},Y1,X1,W1,{provide:BC,useExisting:Y1},{provide:zm,useClass:Pee,deps:[]},[]];let ete=(()=>{class e{constructor(n){}static withServerTransition(n){return{ngModule:e,providers:[{provide:Uc,useValue:n.appId}]}}static{this.\u0275fac=function(r){return new(r||e)(j(Jee,12))}}static{this.\u0275mod=Wo({type:e})}static{this.\u0275inj=co({providers:[...oL,...rL],imports:[k1,nQ]})}}return e})(),tte=(()=>{class e{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static{this.\u0275fac=function(r){return new(r||e)(j(Er))}}static{this.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function aL(e){return Array.isArray(e)?e:[e]}const{isArray:ite}=Array,{getPrototypeOf:ate,prototype:cte,keys:lte}=Object;function cL(e){if(1===e.length){const t=e[0];if(ite(t))return{args:t,keys:null};if(function ute(e){return e&&"object"==typeof e&&ate(e)===cte}(t)){const n=lte(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}function ei(e){return this instanceof ei?(this.v=e,this):new ei(e)}function fL(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=e[Symbol.asyncIterator];return t?t.call(e):(e=function AS(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=e[s]&&function(i){return new Promise(function(a,c){!function o(s,i,a,c){Promise.resolve(c).then(function(l){s({value:l,done:a})},i)}(a,c,(i=e[s](i)).done,i.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const hL=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function pL(e){return tt(e?.then)}function gL(e){return tt(e[Db])}function mL(e){return Symbol.asyncIterator&&tt(e?.[Symbol.asyncIterator])}function _L(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const yL=function kte(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function vL(e){return tt(e?.[yL])}function bL(e){return function dL(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,r=n.apply(e,t||[]),s=[];return o={},a("next"),a("throw"),a("return",function i(h){return function(g){return Promise.resolve(g).then(h,d)}}),o[Symbol.asyncIterator]=function(){return this},o;function a(h,g){r[h]&&(o[h]=function(m){return new Promise(function(y,w){s.push([h,m,y,w])>1||c(h,m)})},g&&(o[h]=g(o[h])))}function c(h,g){try{!function l(h){h.value instanceof ei?Promise.resolve(h.value.v).then(u,d):f(s[0][2],h)}(r[h](g))}catch(m){f(s[0][3],m)}}function u(h){c("next",h)}function d(h){c("throw",h)}function f(h,g){h(g),s.shift(),s.length&&c(s[0][0],s[0][1])}}(this,arguments,function*(){const n=e.getReader();try{for(;;){const{value:r,done:o}=yield ei(n.read());if(o)return yield ei(void 0);yield yield ei(r)}}finally{n.releaseLock()}})}function EL(e){return tt(e?.getReader)}function Qr(e){if(e instanceof Ge)return e;if(null!=e){if(gL(e))return function Nte(e){return new Ge(t=>{const n=e[Db]();if(tt(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(hL(e))return function xte(e){return new Ge(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}(e);if(pL(e))return function Fte(e){return new Ge(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,YT)})}(e);if(mL(e))return CL(e);if(vL(e))return function Pte(e){return new Ge(t=>{for(const n of e)if(t.next(n),t.closed)return;t.complete()})}(e);if(EL(e))return function Lte(e){return CL(bL(e))}(e)}throw _L(e)}function CL(e){return new Ge(t=>{(function Vte(e,t){var n,r,o,s;return function lL(e,t,n,r){return new(n||(n=Promise))(function(s,i){function a(u){try{l(r.next(u))}catch(d){i(d)}}function c(u){try{l(r.throw(u))}catch(d){i(d)}}function l(u){u.done?s(u.value):function o(s){return s instanceof n?s:new n(function(i){i(s)})}(u.value).then(a,c)}l((r=r.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){try{for(n=fL(e);!(r=yield n.next()).done;)if(t.next(r.value),t.closed)return}catch(i){o={error:i}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(o)throw o.error}}t.complete()})})(e,t).catch(n=>t.error(n))})}function is(e,t,n,r=0,o=!1){const s=t.schedule(function(){n(),o?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(s),!o)return s}function wL(e,t=0){return xt((n,r)=>{n.subscribe(Dt(r,o=>is(r,e,()=>r.next(o),t),()=>is(r,e,()=>r.complete(),t),o=>is(r,e,()=>r.error(o),t)))})}function SL(e,t=0){return xt((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function DL(e,t){if(!e)throw new Error("Iterable cannot be null");return new Ge(n=>{is(n,t,()=>{const r=e[Symbol.asyncIterator]();is(n,t,()=>{r.next().then(o=>{o.done?n.complete():n.next(o.value)})},0,!0)})})}function Kt(e,t){return t?function qte(e,t){if(null!=e){if(gL(e))return function jte(e,t){return Qr(e).pipe(SL(t),wL(t))}(e,t);if(hL(e))return function Ute(e,t){return new Ge(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}(e,t);if(pL(e))return function Bte(e,t){return Qr(e).pipe(SL(t),wL(t))}(e,t);if(mL(e))return DL(e,t);if(vL(e))return function $te(e,t){return new Ge(n=>{let r;return is(n,t,()=>{r=e[yL](),is(n,t,()=>{let o,s;try{({value:o,done:s}=r.next())}catch(i){return void n.error(i)}s?n.complete():n.next(o)},0,!0)}),()=>tt(r?.return)&&r.return()})}(e,t);if(EL(e))return function Hte(e,t){return DL(bL(e),t)}(e,t)}throw _L(e)}(e,t):Qr(e)}const{isArray:zte}=Array;function ML(e){return se(t=>function Wte(e,t){return zte(t)?e(...t):e(t)}(e,t))}function IL(e){return e&&tt(e.schedule)}function kS(e){return e[e.length-1]}function TL(e){return tt(kS(e))?e.pop():void 0}function Zm(e){return IL(kS(e))?e.pop():void 0}function RL(e,t){return e.reduce((n,r,o)=>(n[r]=t[o],n),{})}function Ym(...e){const t=Zm(e),n=TL(e),{args:r,keys:o}=cL(e);if(0===r.length)return Kt([],t);const s=new Ge(function Gte(e,t,n=Vi){return r=>{OL(t,()=>{const{length:o}=e,s=new Array(o);let i=o,a=o;for(let c=0;c<o;c++)OL(t,()=>{const l=Kt(e[c],t);let u=!1;l.subscribe(Dt(r,d=>{s[c]=d,u||(u=!0,a--),a||r.next(n(s.slice()))},()=>{--i||r.complete()}))},r)},r)}}(r,t,o?i=>RL(o,i):Vi));return n?s.pipe(ML(n)):s}function OL(e,t,n){e?is(n,e,t):t()}function Rn(e,t,n=1/0){return tt(t)?Rn((r,o)=>se((s,i)=>t(r,s,o,i))(Qr(e(r,o))),n):("number"==typeof t&&(n=t),xt((r,o)=>function Xte(e,t,n,r,o,s,i,a){const c=[];let l=0,u=0,d=!1;const f=()=>{d&&!c.length&&!l&&t.complete()},h=m=>l<r?g(m):c.push(m),g=m=>{s&&t.next(m),l++;let y=!1;Qr(n(m,u++)).subscribe(Dt(t,w=>{o?.(w),s?h(w):t.next(w)},()=>{y=!0},void 0,()=>{if(y)try{for(l--;c.length&&l<r;){const w=c.shift();i?is(t,i,()=>g(w)):g(w)}f()}catch(w){t.error(w)}}))};return e.subscribe(Dt(t,h,()=>{d=!0,f()})),()=>{a?.()}}(r,o,e,n)))}function Qm(...e){return function Kte(){return function NS(e=1/0){return Rn(Vi,e)}(1)}()(Kt(e,Zm(e)))}const Do=new Ge(e=>e.complete());function ti(e){return e<=0?()=>Do:xt((t,n)=>{let r=0;t.subscribe(Dt(n,o=>{++r<=e&&(n.next(o),e<=r&&n.complete())}))})}function as(e,t){return xt((n,r)=>{let o=0;n.subscribe(Dt(r,s=>e.call(t,s,o++)&&r.next(s)))})}class Qte extends dn{constructor(t,n){super()}schedule(t,n=0){return this}}const Jm={setInterval(e,t,...n){const{delegate:r}=Jm;return r?.setInterval?r.setInterval(e,t,...n):setInterval(e,t,...n)},clearInterval(e){const{delegate:t}=Jm;return(t?.clearInterval||clearInterval)(e)},delegate:void 0},xS={now:()=>(xS.delegate||Date).now(),delegate:void 0};class Rf{constructor(t,n=Rf.now){this.schedulerActionCtor=t,this.now=n}schedule(t,n=0,r){return new this.schedulerActionCtor(this,t).schedule(r,n)}}Rf.now=xS.now;const AL=new class ene extends Rf{constructor(t,n=Rf.now){super(t,n),this.actions=[],this._active=!1}flush(t){const{actions:n}=this;if(this._active)return void n.push(t);let r;this._active=!0;do{if(r=t.execute(t.state,t.delay))break}while(t=n.shift());if(this._active=!1,r){for(;t=n.shift();)t.unsubscribe();throw r}}}(class Jte extends Qte{constructor(t,n){super(t,n),this.scheduler=t,this.work=n,this.pending=!1}schedule(t,n=0){var r;if(this.closed)return this;this.state=t;const o=this.id,s=this.scheduler;return null!=o&&(this.id=this.recycleAsyncId(s,o,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(t,n,r=0){return Jm.setInterval(t.flush.bind(t,this),r)}recycleAsyncId(t,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&Jm.clearInterval(n)}execute(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(t,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,n){let o,r=!1;try{this.work(t)}catch(s){r=!0,o=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),o}unsubscribe(){if(!this.closed){const{id:t,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Fp(r,this),null!=t&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,super.unsubscribe()}}}),tne=AL;function e_(...e){const t=Zm(e);return xt((n,r)=>{(t?Qm(e,n,t):Qm(e,n)).subscribe(r)})}function kL(e){return xt((t,n)=>{Qr(e).subscribe(Dt(n,()=>n.complete(),bb)),!n.closed&&t.subscribe(n)})}let FS;try{FS=typeof Intl<"u"&&Intl.v8BreakIterator}catch{FS=!1}let rne=(()=>{class e{constructor(n){this._platformId=n,this.isBrowser=this._platformId?x1(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!FS)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static{this.\u0275fac=function(r){return new(r||e)(j(yo))}}static{this.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const xL=new Set;let da,ine=(()=>{class e{constructor(n,r){this._platform=n,this._nonce=r,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):cne}matchMedia(n){return(this._platform.WEBKIT||this._platform.BLINK)&&function ane(e,t){if(!xL.has(e))try{da||(da=document.createElement("style"),t&&da.setAttribute("nonce",t),da.setAttribute("type","text/css"),document.head.appendChild(da)),da.sheet&&(da.sheet.insertRule(`@media ${e} {body{ }}`,0),xL.add(e))}catch(n){console.error(n)}}(n,this._nonce),this._matchMedia(n)}static{this.\u0275fac=function(r){return new(r||e)(j(rne),j(jE,8))}}static{this.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function cne(e){return{matches:"all"===e||""===e,media:e,addListener:()=>{},removeListener:()=>{}}}let lne=(()=>{class e{constructor(n,r){this._mediaMatcher=n,this._zone=r,this._queries=new Map,this._destroySubject=new Nt}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(n){return FL(aL(n)).some(o=>this._registerQuery(o).mql.matches)}observe(n){let s=Ym(FL(aL(n)).map(i=>this._registerQuery(i).observable));return s=Qm(s.pipe(ti(1)),s.pipe(function Yte(e){return as((t,n)=>e<=n)}(1),function nne(e,t=AL){return xt((n,r)=>{let o=null,s=null,i=null;const a=()=>{if(o){o.unsubscribe(),o=null;const l=s;s=null,r.next(l)}};function c(){const l=i+e,u=t.now();if(u<l)return o=this.schedule(void 0,l-u),void r.add(o);a()}n.subscribe(Dt(r,l=>{s=l,i=t.now(),o||(o=t.schedule(c,e),r.add(o))},()=>{a(),r.complete()},void 0,()=>{s=o=null}))})}(0))),s.pipe(se(i=>{const a={matches:!1,breakpoints:{}};return i.forEach(({matches:c,query:l})=>{a.matches=a.matches||c,a.breakpoints[l]=c}),a}))}_registerQuery(n){if(this._queries.has(n))return this._queries.get(n);const r=this._mediaMatcher.matchMedia(n),s={observable:new Ge(i=>{const a=c=>this._zone.run(()=>i.next(c));return r.addListener(a),()=>{r.removeListener(a)}}).pipe(e_(r),se(({matches:i})=>({query:n,matches:i})),kL(this._destroySubject)),mql:r};return this._queries.set(n,s),s}static{this.\u0275fac=function(r){return new(r||e)(j(ine),j(Oe))}}static{this.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function FL(e){return e.map(t=>t.split(",")).reduce((t,n)=>t.concat(n)).map(t=>t.trim())}var fa=function(e){return e.LIGHT="light",e.DARK="dark",e}(fa||{});let dne=(()=>{class e{constructor(n){this.document=n,this.currentMode=fa.LIGHT,this.modeChangedSubject=new xn(this.currentMode),this.modeChanged$=this.modeChangedSubject.asObservable(),this.init()}updateCurrentMode(n){this.currentMode=n,this.modeChangedSubject.next(this.currentMode)}init(){const n=window.matchMedia("(prefers-color-scheme: dark)");let r=fa.LIGHT;r=n.matches?fa.DARK:fa.LIGHT,this.updateCurrentMode(r),this.document.body.classList.add(this.currentMode)}static{this.\u0275fac=function(r){return new(r||e)(j(Er))}}static{this.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function ne(...e){return Kt(e,Zm(e))}function PL(e=0,t,n=tne){let r=-1;return null!=t&&(IL(t)?n=t:r=t),new Ge(o=>{let s=function fne(e){return e instanceof Date&&!isNaN(e)}(e)?+e-n.now():e;s<0&&(s=0);let i=0;return n.schedule(function(){o.closed||(o.next(i++),0<=r?this.schedule(void 0,r):o.complete())},s)})}function gn(e,t,n){const r=tt(e)||t||n?{next:e,error:t,complete:n}:e;return r?xt((o,s)=>{var i;null===(i=r.subscribe)||void 0===i||i.call(r);let a=!0;o.subscribe(Dt(s,c=>{var l;null===(l=r.next)||void 0===l||l.call(r,c),s.next(c)},()=>{var c;a=!1,null===(c=r.complete)||void 0===c||c.call(r),s.complete()},c=>{var l;a=!1,null===(l=r.error)||void 0===l||l.call(r,c),s.error(c)},()=>{var c,l;a&&(null===(c=r.unsubscribe)||void 0===c||c.call(r)),null===(l=r.finalize)||void 0===l||l.call(r)}))}):Vi}function Sr(e,t){return xt((n,r)=>{let o=null,s=0,i=!1;const a=()=>i&&!o&&r.complete();n.subscribe(Dt(r,c=>{o?.unsubscribe();let l=0;const u=s++;Qr(e(c,u)).subscribe(o=Dt(r,d=>r.next(t?t(c,d,u,l++):d),()=>{o=null,a()}))},()=>{i=!0,a()}))})}class hne extends Nt{constructor(t=1/0,n=1/0,r=xS){super(),this._bufferSize=t,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,n)}next(t){const{isStopped:n,_buffer:r,_infiniteTimeWindow:o,_timestampProvider:s,_windowTime:i}=this;n||(r.push(t),!o&&r.push(s.now()+i)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const n=this._innerSubscribe(t),{_infiniteTimeWindow:r,_buffer:o}=this,s=o.slice();for(let i=0;i<s.length&&!t.closed;i+=r?1:2)t.next(s[i]);return this._checkFinalizedStatuses(t),n}_trimBuffer(){const{_bufferSize:t,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:o}=this,s=(o?1:2)*t;if(t<1/0&&s<r.length&&r.splice(0,r.length-s),!o){const i=n.now();let a=0;for(let c=1;c<r.length&&r[c]<=i;c+=2)a=c;a&&r.splice(0,a+1)}}}function LS(e,t,...n){if(!0===t)return void e();if(!1===t)return;const r=new rd({next:()=>{r.unsubscribe(),e()}});return t(...n).subscribe(r)}function mne(e,t){if(1&e&&(ve(0,"div",3),Xt(1,"div",4),Te()),2&e){const n=Jn(2);Ye(),Xs("width",n.diameter)("height",n.diameter)}}function _ne(e,t){if(1&e&&Xt(0,"div",5),2&e){const n=Jn().ngIf,r=Jn();Xs("background",r.color)("height",r.height)("width",n+"%")}}function yne(e,t){if(1&e&&(Ks(0),yr(1,mne,2,4,"div",1)(2,_ne,1,6,"div",2),Zs()),2&e){const n=Jn();Ye(),gt("ngIf",n.includeSpinner),Ye(),gt("ngIf",n.includeBar)}}function vne(e,t){if(1&e&&(ve(0,"div",3),Xt(1,"div",4),Te()),2&e){const n=Jn(2);Ye(),Xs("width",n.diameter)("height",n.diameter)}}function bne(e,t){if(1&e&&Xt(0,"div",5),2&e){const n=Jn().ngIf,r=Jn();Xs("background",r.color)("height",r.height)("width",n+"%")}}function Ene(e,t){if(1&e&&(Ks(0),yr(1,vne,2,4,"div",1)(2,bne,1,6,"div",2),Zs()),2&e){const n=Jn();Ye(),gt("ngIf",n.includeSpinner),Ye(),gt("ngIf",n.includeBar)}}class wne{constructor(t={}){this.config=t,this.state={action:null,value:0,initialValue:0},this.requests=null,this.disabled=!1,this.stream$=new Nt,this._value$=null,this.timer$=n=>{let r=ne(n);switch(n.action){case"start":case"increment":case"set":"start"===n.action&&0===this.config.latencyThreshold&&0===n.value&&(n.value=n.initialValue),this.requests>0&&(r=PL(this.config.latencyThreshold,250).pipe(se(o=>({...n,value:0===o?this.state.value||n.initialValue:this._increment()}))));break;case"complete":case"stop":r=0===n.value?ne({...n}):PL(0,500).pipe(ti(2),se(o=>({value:0===o?100:0})))}return r.pipe(se(o=>({...o,action:"set"})),gn(o=>this.next(o,!1)))},this.config={latencyThreshold:0,...t}}get value$(){return this._value$?this._value$:this._value$=this.stream$.pipe(e_(this.state),Sr(t=>this.timer$(t)),function gne(e,t,n){let r,o=!1;return e&&"object"==typeof e?({bufferSize:r=1/0,windowTime:t=1/0,refCount:o=!1,scheduler:n}=e):r=e??1/0,function pne(e={}){const{connector:t=()=>new Nt,resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:o=!0}=e;return s=>{let i,a,c,l=0,u=!1,d=!1;const f=()=>{a?.unsubscribe(),a=void 0},h=()=>{f(),i=c=void 0,u=d=!1},g=()=>{const m=i;h(),m?.unsubscribe()};return xt((m,y)=>{l++,!d&&!u&&f();const w=c=c??t();y.add(()=>{l--,0===l&&!d&&!u&&(a=LS(g,o))}),w.subscribe(y),!i&&l>0&&(i=new rd({next:v=>w.next(v),error:v=>{d=!0,f(),a=LS(h,n,v),w.error(v)},complete:()=>{u=!0,f(),a=LS(h,r),w.complete()}}),Qr(m).subscribe(i))})(s)}}({connector:()=>new hne(r,t,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}(),se(t=>t.value))}start(t=2){this.disabled||this.next({action:"start",initialValue:t})}stop(){this.next({action:"stop"})}complete(){this.next({action:"complete"})}disable(){this.disabled=!0}set(t){this.next({action:"set",value:t})}increment(t=0){this.next({action:"increment",value:t})}next(t,n=!0){switch(t.action){case"start":this.requests=(this.requests||0)+1;break;case"complete":if(this.requests=(this.requests||1)-1,this.requests>0)return;break;case"stop":this.requests=0;break;case"increment":t.value=this._increment(t.value)}this.state={...this.state,action:null,...t},n&&this.stream$.next(this.state)}_increment(t=0){const n=this.state.value;return n>=99&&(t=0),0===t&&(t=n>=0&&n<25?3*Math.random()+3:n>=25&&n<65?3*Math.random():n>=65&&n<90?2*Math.random():n>=90&&n<99?.5:0),t+n}}const LL=new P("LOADING_BAR_CONFIG");let VS=(()=>{class e{get progress$(){return this.value$}constructor(n,r={},o){this.platformId=n,this.config=r,this.zone=o,this.refs={},this.streams$=new Nt,this.value$=this.streams$.pipe(e_(null),Sr(()=>Ym(Object.keys(this.refs).map(s=>this.refs[s].value$))),function Sne(e){return e?t=>new Ge(n=>t.subscribe(r=>e.run(()=>n.next(r)),r=>e.run(()=>n.error(r)),()=>e.run(()=>n.complete()))):t=>t}(this.zone),se(s=>Math.max(0,...s)))}start(n=2){this.useRef().start(n)}set(n){this.useRef().set(n)}increment(n){this.useRef().increment(n)}complete(){this.useRef().complete()}stop(){this.useRef().stop()}useRef(n="default"){return this.refs[n]||(this.refs[n]=new wne(this.config),this.streams$.next(),x1(this.platformId)||this.refs[n].disable()),this.refs[n]}static{this.\u0275fac=function(r){return new(r||e)(j(yo),j(LL,8),j(Oe,8))}}static{this.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Dne=(()=>{class e{get value$(){return this.ref?this.loader.useRef(this.ref).value$:this.loader.value$}constructor(n){this.loader=n,this.includeSpinner=!0,this.includeBar=!0,this.fixed=!0,this.color="#29d"}static{this.\u0275fac=function(r){return new(r||e)(k(VS))}}static{this.\u0275cmp=zo({type:e,selectors:[["ngx-loading-bar"]],hostVars:3,hostBindings:function(r,o){2&r&&(vr("fixed",o.fixed),Xs("color",o.color))},inputs:{includeSpinner:"includeSpinner",includeBar:"includeBar",fixed:"fixed",color:"color",value:"value",ref:"ref",height:"height",diameter:"diameter"},standalone:!0,features:[aa],decls:2,vars:3,consts:[[4,"ngIf"],["class","ngx-spinner",4,"ngIf"],["class","ngx-bar",3,"background","height","width",4,"ngIf"],[1,"ngx-spinner"],[1,"ngx-spinner-icon"],[1,"ngx-bar"]],template:function(r,o){1&r&&(yr(0,yne,3,2,"ng-container",0),Nw(1,"async")),2&r&&gt("ngIf",null!=o.value?o.value:xw(1,1,o.value$))},dependencies:[gS,qm],styles:["[_nghost-%COMP%]{position:relative;display:block;pointer-events:none}[_nghost-%COMP%]   .ngx-spinner[_ngcontent-%COMP%]{transition:.35s linear all;display:block;position:absolute;top:5px;left:0}[_nghost-%COMP%]   .ngx-spinner[_ngcontent-%COMP%]   .ngx-spinner-icon[_ngcontent-%COMP%]{width:14px;height:14px;border:solid 2px transparent;border-top-color:inherit;border-left-color:inherit;border-radius:50%;animation:_ngcontent-%COMP%_loading-bar-spinner .4s linear infinite}[_nghost-%COMP%]   .ngx-bar[_ngcontent-%COMP%]{transition:width .35s;position:absolute;top:0;left:0;width:100%;height:2px;border-bottom-right-radius:1px;border-top-right-radius:1px}[dir=rtl]   [_nghost-%COMP%]   .ngx-bar[_ngcontent-%COMP%]{right:0;left:unset}[fixed=true][_nghost-%COMP%]{z-index:10002}[fixed=true][_nghost-%COMP%]   .ngx-bar[_ngcontent-%COMP%]{position:fixed}[fixed=true][_nghost-%COMP%]   .ngx-spinner[_ngcontent-%COMP%]{position:fixed;top:10px;left:10px}[dir=rtl]   [fixed=true][_nghost-%COMP%]   .ngx-spinner[_ngcontent-%COMP%]{right:10px;left:unset}@keyframes _ngcontent-%COMP%_loading-bar-spinner{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"],changeDetection:0})}}return e})(),Mne=(()=>{class e extends Dne{static{this.\u0275fac=(()=>{let n;return function(o){return(n||(n=Bt(e)))(o||e)}})()}static{this.\u0275cmp=zo({type:e,selectors:[["ngx-loading-bar"]],hostVars:3,hostBindings:function(r,o){2&r&&(vr("fixed",o.fixed),Xs("color",o.color))},features:[Fe],decls:2,vars:3,consts:[[4,"ngIf"],["class","ngx-spinner",4,"ngIf"],["class","ngx-bar",3,"background","height","width",4,"ngIf"],[1,"ngx-spinner"],[1,"ngx-spinner-icon"],[1,"ngx-bar"]],template:function(r,o){1&r&&(yr(0,Ene,3,2,"ng-container",0),Nw(1,"async")),2&r&&gt("ngIf",null!=o.value?o.value:xw(1,1,o.value$))},dependencies:[qm,gS],styles:["[_nghost-%COMP%]{position:relative;display:block;pointer-events:none}[_nghost-%COMP%]   .ngx-spinner[_ngcontent-%COMP%]{transition:.35s linear all;display:block;position:absolute;top:5px;left:0}[_nghost-%COMP%]   .ngx-spinner[_ngcontent-%COMP%]   .ngx-spinner-icon[_ngcontent-%COMP%]{width:14px;height:14px;border:solid 2px transparent;border-top-color:inherit;border-left-color:inherit;border-radius:50%;animation:_ngcontent-%COMP%_loading-bar-spinner .4s linear infinite}[_nghost-%COMP%]   .ngx-bar[_ngcontent-%COMP%]{transition:width .35s;position:absolute;top:0;left:0;width:100%;height:2px;border-bottom-right-radius:1px;border-top-right-radius:1px}[dir=rtl]   [_nghost-%COMP%]   .ngx-bar[_ngcontent-%COMP%]{right:0;left:unset}[fixed=true][_nghost-%COMP%]{z-index:10002}[fixed=true][_nghost-%COMP%]   .ngx-bar[_ngcontent-%COMP%]{position:fixed}[fixed=true][_nghost-%COMP%]   .ngx-spinner[_ngcontent-%COMP%]{position:fixed;top:10px;left:10px}[dir=rtl]   [fixed=true][_nghost-%COMP%]   .ngx-spinner[_ngcontent-%COMP%]{right:10px;left:unset}@keyframes _ngcontent-%COMP%_loading-bar-spinner{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"],changeDetection:0})}}return e})(),Ine=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=Wo({type:e})}static{this.\u0275inj=co({imports:[k1]})}}return e})();const kf=yb(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function VL(e){return new Ge(t=>{Qr(e()).subscribe(t)})}function n_(e,t){const n=tt(e)?e:()=>e,r=o=>o.error(n());return new Ge(t?o=>t.schedule(r,0,o):r)}function jS(){return xt((e,t)=>{let n=null;e._refCount++;const r=Dt(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(n=null);const o=e._connection,s=n;n=null,o&&(!s||o===s)&&o.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}class jL extends Ge{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,tR(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new dn;const n=this.getSubject();t.add(this.source.subscribe(Dt(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=dn.EMPTY)}return t}refCount(){return jS()(this)}}function r_(e){return xt((t,n)=>{let r=!1;t.subscribe(Dt(n,o=>{r=!0,n.next(o)},()=>{r||n.next(e),n.complete()}))})}function BL(e=Rne){return xt((t,n)=>{let r=!1;t.subscribe(Dt(n,o=>{r=!0,n.next(o)},()=>r?n.complete():n.error(e())))})}function Rne(){return new kf}function cs(e,t){const n=arguments.length>=2;return r=>r.pipe(e?as((o,s)=>e(o,s,r)):Vi,ti(1),n?r_(t):BL(()=>new kf))}function ha(e,t){return tt(t)?Rn(e,t,1):Rn(e,1)}function Ml(e){return xt((t,n)=>{let s,r=null,o=!1;r=t.subscribe(Dt(n,void 0,void 0,i=>{s=Qr(e(i,Ml(e)(t))),r?(r.unsubscribe(),r=null,s.subscribe(n)):o=!0})),o&&(r.unsubscribe(),r=null,s.subscribe(n))})}function BS(e){return e<=0?()=>Do:xt((t,n)=>{let r=[];t.subscribe(Dt(n,o=>{r.push(o),e<r.length&&r.shift()},()=>{for(const o of r)n.next(o);n.complete()},void 0,()=>{r=null}))})}function Il(e){return xt((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}const ce="primary",Nf=Symbol("RouteTitle");class xne{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Tl(e){return new xne(e)}function Fne(e,t,n){const r=n.path.split("/");if(r.length>e.length||"full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;const o={};for(let s=0;s<r.length;s++){const i=r[s],a=e[s];if(":"===i[0])o[i.substring(1)]=a;else if(i!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:o}}function Mo(e,t){const n=e?US(e):void 0,r=t?US(t):void 0;if(!n||!r||n.length!=r.length)return!1;let o;for(let s=0;s<n.length;s++)if(o=n[s],!UL(e[o],t[o]))return!1;return!0}function US(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function UL(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const n=[...e].sort(),r=[...t].sort();return n.every((o,s)=>r[s]===o)}return e===t}function $L(e){return e.length>0?e[e.length-1]:null}function ni(e){return function Tne(e){return!!e&&(e instanceof Ge||tt(e.lift)&&tt(e.subscribe))}(e)?e:_f(e)?Kt(Promise.resolve(e)):ne(e)}const Lne={exact:function zL(e,t,n){if(!ga(e.segments,t.segments)||!o_(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!e.children[r]||!zL(e.children[r],t.children[r],n))return!1;return!0},subset:WL},HL={exact:function Vne(e,t){return Mo(e,t)},subset:function jne(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>UL(e[n],t[n]))},ignored:()=>!0};function qL(e,t,n){return Lne[n.paths](e.root,t.root,n.matrixParams)&&HL[n.queryParams](e.queryParams,t.queryParams)&&!("exact"===n.fragment&&e.fragment!==t.fragment)}function WL(e,t,n){return GL(e,t,t.segments,n)}function GL(e,t,n,r){if(e.segments.length>n.length){const o=e.segments.slice(0,n.length);return!(!ga(o,n)||t.hasChildren()||!o_(o,n,r))}if(e.segments.length===n.length){if(!ga(e.segments,n)||!o_(e.segments,n,r))return!1;for(const o in t.children)if(!e.children[o]||!WL(e.children[o],t.children[o],r))return!1;return!0}{const o=n.slice(0,e.segments.length),s=n.slice(e.segments.length);return!!(ga(e.segments,o)&&o_(e.segments,o,r)&&e.children[ce])&&GL(e.children[ce],t,s,r)}}function o_(e,t,n){return t.every((r,o)=>HL[n](e[o].parameters,r.parameters))}class pa{constructor(t=new je([],{}),n={},r=null){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Tl(this.queryParams),this._queryParamMap}toString(){return $ne.serialize(this)}}class je{constructor(t,n){this.segments=t,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return i_(this)}}class xf{constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap??=Tl(this.parameters),this._parameterMap}toString(){return ZL(this)}}function ga(e,t){return e.length===t.length&&e.every((n,r)=>n.path===t[r].path)}let Rl=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=L({token:e,factory:()=>new s_,providedIn:"root"})}}return e})();class s_{parse(t){const n=new Jne(t);return new pa(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){const n=`/${Ff(t.root,!0)}`,r=function zne(e){const t=Object.entries(e).map(([n,r])=>Array.isArray(r)?r.map(o=>`${a_(n)}=${a_(o)}`).join("&"):`${a_(n)}=${a_(r)}`).filter(n=>n);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${n}${r}${"string"==typeof t.fragment?`#${function Hne(e){return encodeURI(e)}(t.fragment)}`:""}`}}const $ne=new s_;function i_(e){return e.segments.map(t=>ZL(t)).join("/")}function Ff(e,t){if(!e.hasChildren())return i_(e);if(t){const n=e.children[ce]?Ff(e.children[ce],!1):"",r=[];return Object.entries(e.children).forEach(([o,s])=>{o!==ce&&r.push(`${o}:${Ff(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function Une(e,t){let n=[];return Object.entries(e.children).forEach(([r,o])=>{r===ce&&(n=n.concat(t(o,r)))}),Object.entries(e.children).forEach(([r,o])=>{r!==ce&&(n=n.concat(t(o,r)))}),n}(e,(r,o)=>o===ce?[Ff(e.children[ce],!1)]:[`${o}:${Ff(r,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[ce]?`${i_(e)}/${n[0]}`:`${i_(e)}/(${n.join("//")})`}}function XL(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function a_(e){return XL(e).replace(/%3B/gi,";")}function $S(e){return XL(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function c_(e){return decodeURIComponent(e)}function KL(e){return c_(e.replace(/\+/g,"%20"))}function ZL(e){return`${$S(e.path)}${function qne(e){return Object.entries(e).map(([t,n])=>`;${$S(t)}=${$S(n)}`).join("")}(e.parameters)}`}const Wne=/^[^\/()?;#]+/;function HS(e){const t=e.match(Wne);return t?t[0]:""}const Gne=/^[^\/()?;=#]+/,Kne=/^[^=?&#]+/,Yne=/^[^&#]+/;class Jne{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new je([],{}):new je([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[ce]=new je(t,n)),r}parseSegment(){const t=HS(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new M(4009,!1);return this.capture(t),new xf(c_(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const n=function Xne(e){const t=e.match(Gne);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=HS(this.remaining);o&&(r=o,this.capture(r))}t[c_(n)]=c_(r)}parseQueryParam(t){const n=function Zne(e){const t=e.match(Kne);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=function Qne(e){const t=e.match(Yne);return t?t[0]:""}(this.remaining);i&&(r=i,this.capture(r))}const o=KL(n),s=KL(r);if(t.hasOwnProperty(o)){let i=t[o];Array.isArray(i)||(i=[i],t[o]=i),i.push(s)}else t[o]=s}parseParens(t){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=HS(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new M(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=ce);const i=this.parseChildren();n[s]=1===Object.keys(i).length?i[ce]:new je([],i),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new M(4011,!1)}}function YL(e){return e.segments.length>0?new je([],{[ce]:e}):e}function QL(e){const t={};for(const[r,o]of Object.entries(e.children)){const s=QL(o);if(r===ce&&0===s.segments.length&&s.hasChildren())for(const[i,a]of Object.entries(s.children))t[i]=a;else(s.segments.length>0||s.hasChildren())&&(t[r]=s)}return function ere(e){if(1===e.numberOfChildren&&e.children[ce]){const t=e.children[ce];return new je(e.segments.concat(t.segments),t.children)}return e}(new je(e.segments,t))}function ma(e){return e instanceof pa}function JL(e){let t;const o=YL(function n(s){const i={};for(const c of s.children){const l=n(c);i[c.outlet]=l}const a=new je(s.url,i);return s===e&&(t=a),a}(e.root));return t??o}function e2(e,t,n,r){let o=e;for(;o.parent;)o=o.parent;if(0===t.length)return qS(o,o,o,n,r);const s=function nre(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new n2(!0,0,e);let t=0,n=!1;const r=e.reduce((o,s,i)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([c,l])=>{a[c]="string"==typeof l?l.split("/"):l}),[...o,{outlets:a}]}if(s.segmentPath)return[...o,s.segmentPath]}return"string"!=typeof s?[...o,s]:0===i?(s.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?n=!0:".."===a?t++:""!=a&&o.push(a))}),o):[...o,s]},[]);return new n2(n,t,r)}(t);if(s.toRoot())return qS(o,o,new je([],{}),n,r);const i=function rre(e,t,n){if(e.isAbsolute)return new u_(t,!0,0);if(!n)return new u_(t,!1,NaN);if(null===n.parent)return new u_(n,!0,0);const r=l_(e.commands[0])?0:1;return function ore(e,t,n){let r=e,o=t,s=n;for(;s>o;){if(s-=o,r=r.parent,!r)throw new M(4005,!1);o=r.segments.length}return new u_(r,!1,o-s)}(n,n.segments.length-1+r,e.numberOfDoubleDots)}(s,o,e),a=i.processChildren?Lf(i.segmentGroup,i.index,s.commands):r2(i.segmentGroup,i.index,s.commands);return qS(o,i.segmentGroup,a,n,r)}function l_(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Pf(e){return"object"==typeof e&&null!=e&&e.outlets}function qS(e,t,n,r,o){let i,s={};r&&Object.entries(r).forEach(([c,l])=>{s[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`}),i=e===t?n:t2(e,t,n);const a=YL(QL(i));return new pa(a,s,o)}function t2(e,t,n){const r={};return Object.entries(e.children).forEach(([o,s])=>{r[o]=s===t?n:t2(s,t,n)}),new je(e.segments,r)}class n2{constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&l_(r[0]))throw new M(4003,!1);const o=r.find(Pf);if(o&&o!==$L(r))throw new M(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class u_{constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}}function r2(e,t,n){if(e??=new je([],{}),0===e.segments.length&&e.hasChildren())return Lf(e,t,n);const r=function ire(e,t,n){let r=0,o=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;o<e.segments.length;){if(r>=n.length)return s;const i=e.segments[o],a=n[r];if(Pf(a))break;const c=`${a}`,l=r<n.length-1?n[r+1]:null;if(o>0&&void 0===c)break;if(c&&l&&"object"==typeof l&&void 0===l.outlets){if(!s2(c,l,i))return s;r+=2}else{if(!s2(c,{},i))return s;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(e,t,n),o=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const s=new je(e.segments.slice(0,r.pathIndex),{});return s.children[ce]=new je(e.segments.slice(r.pathIndex),e.children),Lf(s,0,o)}return r.match&&0===o.length?new je(e.segments,{}):r.match&&!e.hasChildren()?zS(e,t,n):r.match?Lf(e,0,o):zS(e,t,n)}function Lf(e,t,n){if(0===n.length)return new je(e.segments,{});{const r=function sre(e){return Pf(e[0])?e[0].outlets:{[ce]:e}}(n),o={};if(Object.keys(r).some(s=>s!==ce)&&e.children[ce]&&1===e.numberOfChildren&&0===e.children[ce].segments.length){const s=Lf(e.children[ce],t,n);return new je(e.segments,s.children)}return Object.entries(r).forEach(([s,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(o[s]=r2(e.children[s],t,i))}),Object.entries(e.children).forEach(([s,i])=>{void 0===r[s]&&(o[s]=i)}),new je(e.segments,o)}}function zS(e,t,n){const r=e.segments.slice(0,t);let o=0;for(;o<n.length;){const s=n[o];if(Pf(s)){const c=are(s.outlets);return new je(r,c)}if(0===o&&l_(n[0])){r.push(new xf(e.segments[t].path,o2(n[0]))),o++;continue}const i=Pf(s)?s.outlets[ce]:`${s}`,a=o<n.length-1?n[o+1]:null;i&&a&&l_(a)?(r.push(new xf(i,o2(a))),o+=2):(r.push(new xf(i,{})),o++)}return new je(r,{})}function are(e){const t={};return Object.entries(e).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(t[n]=zS(new je([],{}),0,r))}),t}function o2(e){const t={};return Object.entries(e).forEach(([n,r])=>t[n]=`${r}`),t}function s2(e,t,n){return e==n.path&&Mo(t,n.parameters)}const Vf="imperative";var be=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(be||{});class Io{constructor(t,n){this.id=t,this.url=n}}class WS extends Io{constructor(t,n,r="imperative",o=null){super(t,n),this.type=be.NavigationStart,this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class _a extends Io{constructor(t,n,r){super(t,n),this.urlAfterRedirects=r,this.type=be.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var tr=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(tr||{}),GS=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(GS||{});class ya extends Io{constructor(t,n,r,o){super(t,n),this.reason=r,this.code=o,this.type=be.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class jf extends Io{constructor(t,n,r,o){super(t,n),this.reason=r,this.code=o,this.type=be.NavigationSkipped}}class XS extends Io{constructor(t,n,r,o){super(t,n),this.error=r,this.target=o,this.type=be.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class i2 extends Io{constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o,this.type=be.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class cre extends Io{constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o,this.type=be.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class lre extends Io{constructor(t,n,r,o,s){super(t,n),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=s,this.type=be.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ure extends Io{constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o,this.type=be.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class dre extends Io{constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o,this.type=be.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fre{constructor(t){this.route=t,this.type=be.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class hre{constructor(t){this.route=t,this.type=be.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class pre{constructor(t){this.snapshot=t,this.type=be.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gre{constructor(t){this.snapshot=t,this.type=be.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mre{constructor(t){this.snapshot=t,this.type=be.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _re{constructor(t){this.snapshot=t,this.type=be.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class KS{}class d_{constructor(t,n){this.url=t,this.navigationBehaviorOptions=n}}function Jr(e){return e.outlet||ce}function Bf(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){const n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class wre{get injector(){return Bf(this.route?.snapshot)??this.rootInjector}set injector(t){}constructor(t){this.rootInjector=t,this.outlet=null,this.route=null,this.children=new Uf(this.rootInjector),this.attachRef=null}}let Uf=(()=>{class e{constructor(n){this.rootInjector=n,this.contexts=new Map}onChildOutletCreated(n,r){const o=this.getOrCreateContext(n);o.outlet=r,this.contexts.set(n,o)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new wre(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static{this.\u0275fac=function(r){return new(r||e)(j(Vn))}}static{this.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();class a2{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){const n=ZS(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){const n=ZS(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){const n=YS(t,this._root);return n.length<2?[]:n[n.length-2].children.map(o=>o.value).filter(o=>o!==t)}pathFromRoot(t){return YS(t,this._root).map(n=>n.value)}}function ZS(e,t){if(e===t.value)return t;for(const n of t.children){const r=ZS(e,n);if(r)return r}return null}function YS(e,t){if(e===t.value)return[t];for(const n of t.children){const r=YS(e,n);if(r.length)return r.unshift(t),r}return[]}class eo{constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}}function Ol(e){const t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}class c2 extends a2{constructor(t,n){super(t),this.snapshot=n,QS(this,t)}toString(){return this.snapshot.toString()}}function l2(e){const t=function Sre(e){const s=new h_([],{},{},"",{},ce,e,null,{});return new u2("",new eo(s,[]))}(e),n=new xn([new xf("",{})]),r=new xn({}),o=new xn({}),s=new xn({}),i=new xn(""),a=new va(n,r,s,i,o,ce,e,t.root);return a.snapshot=t.root,new c2(new eo(a,[]),t)}class va{constructor(t,n,r,o,s,i,a,c){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=o,this.dataSubject=s,this.outlet=i,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(se(l=>l[Nf]))??ne(void 0),this.url=t,this.params=n,this.queryParams=r,this.fragment=o,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(se(t=>Tl(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(se(t=>Tl(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function f_(e,t,n="emptyOnly"){let r;const{routeConfig:o}=e;return r=null===t||"always"!==n&&""!==o?.path&&(t.component||t.routeConfig?.loadComponent)?{params:{...e.params},data:{...e.data},resolve:{...e.data,...e._resolvedData??{}}}:{params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.data,...o?.data,...e._resolvedData}},o&&f2(o)&&(r.resolve[Nf]=o.title),r}class h_{get title(){return this.data?.[Nf]}constructor(t,n,r,o,s,i,a,c,l){this.url=t,this.params=n,this.queryParams=r,this.fragment=o,this.data=s,this.outlet=i,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Tl(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Tl(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class u2 extends a2{constructor(t,n){super(n),this.url=t,QS(this,n)}toString(){return d2(this._root)}}function QS(e,t){t.value._routerState=e,t.children.forEach(n=>QS(e,n))}function d2(e){const t=e.children.length>0?` { ${e.children.map(d2).join(", ")} } `:"";return`${e.value}${t}`}function JS(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,Mo(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),Mo(t.params,n.params)||e.paramsSubject.next(n.params),function Pne(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!Mo(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.urlSubject.next(n.url),Mo(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function eD(e,t){const n=Mo(e.params,t.params)&&function Bne(e,t){return ga(e,t)&&e.every((n,r)=>Mo(n.parameters,t[r].parameters))}(e.url,t.url);return n&&!(!e.parent!=!t.parent)&&(!e.parent||eD(e.parent,t.parent))}function f2(e){return"string"==typeof e.title||null===e.title}let tD=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=ce,this.activateEvents=new it,this.deactivateEvents=new it,this.attachEvents=new it,this.detachEvents=new it,this.parentContexts=I(Uf),this.location=I(Gr),this.changeDetector=I(vf),this.inputBinder=I(p_,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:o}=n.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new M(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new M(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new M(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new M(4013,!1);this._activatedRoute=n;const o=this.location,i=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new nD(n,a,o.injector);this.activated=o.createComponent(i,{index:o.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275dir=te({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[gr]})}}return e})();class nD{__ngOutletInjector(t){return new nD(this.route,this.childContexts,t)}constructor(t,n,r){this.route=t,this.childContexts=n,this.parent=r}get(t,n){return t===va?this.route:t===Uf?this.childContexts:this.parent.get(t,n)}}const p_=new P("");function $f(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=t.value;const o=function Mre(e,t,n){return t.children.map(r=>{for(const o of n.children)if(e.shouldReuseRoute(r.value,o.value.snapshot))return $f(e,r,o);return $f(e,r)})}(e,t,n);return new eo(r,o)}{if(e.shouldAttach(t.value)){const s=e.retrieve(t.value);if(null!==s){const i=s.route;return i.value._futureSnapshot=t.value,i.children=t.children.map(a=>$f(e,a)),i}}const r=function Ire(e){return new va(new xn(e.url),new xn(e.params),new xn(e.queryParams),new xn(e.fragment),new xn(e.data),e.outlet,e.component,e)}(t.value),o=t.children.map(s=>$f(e,s));return new eo(r,o)}}class rD{constructor(t,n){this.redirectTo=t,this.navigationBehaviorOptions=n}}const p2="ngNavigationCancelingError";function g_(e,t){const{redirectTo:n,navigationBehaviorOptions:r}=ma(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,o=g2(!1,tr.Redirect);return o.url=n,o.navigationBehaviorOptions=r,o}function g2(e,t){const n=new Error(`NavigationCancelingError: ${e||""}`);return n[p2]=!0,n.cancellationCode=t,n}function m2(e){return!!e&&e[p2]}class Ore{constructor(t,n,r,o,s){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=o,this.inputBindingEnabled=s}activate(t){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),JS(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){const o=Ol(n);t.children.forEach(s=>{const i=s.value.outlet;this.deactivateRoutes(s,o[i],r),delete o[i]}),Object.values(o).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(t,n,r){const o=t.value,s=n?n.value:null;if(o===s)if(o.component){const i=r.getContext(o.outlet);i&&this.deactivateChildRoutes(t,n,i.children)}else this.deactivateChildRoutes(t,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){const r=n.getContext(t.value.outlet),o=r&&t.value.component?r.children:n,s=Ol(t);for(const i of Object.values(s))this.deactivateRouteAndItsChildren(i,o);if(r&&r.outlet){const i=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:i,route:t,contexts:a})}}deactivateRouteAndOutlet(t,n){const r=n.getContext(t.value.outlet),o=r&&t.value.component?r.children:n,s=Ol(t);for(const i of Object.values(s))this.deactivateRouteAndItsChildren(i,o);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,n,r){const o=Ol(n);t.children.forEach(s=>{this.activateRoutes(s,o[s.value.outlet],r),this.forwardEvent(new _re(s.value.snapshot))}),t.children.length&&this.forwardEvent(new gre(t.value.snapshot))}activateRoutes(t,n,r){const o=t.value,s=n?n.value:null;if(JS(o),o===s)if(o.component){const i=r.getOrCreateContext(o.outlet);this.activateChildRoutes(t,n,i.children)}else this.activateChildRoutes(t,n,r);else if(o.component){const i=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const a=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),i.children.onOutletReAttached(a.contexts),i.attachRef=a.componentRef,i.route=a.route.value,i.outlet&&i.outlet.attach(a.componentRef,a.route.value),JS(a.route.value),this.activateChildRoutes(t,null,i.children)}else i.attachRef=null,i.route=o,i.outlet&&i.outlet.activateWith(o,i.injector),this.activateChildRoutes(t,null,i.children)}else this.activateChildRoutes(t,null,r)}}class _2{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class m_{constructor(t,n){this.component=t,this.route=n}}function Are(e,t,n){const r=e._root;return Hf(r,t?t._root:null,n,[r.value])}function Al(e,t){const n=Symbol(),r=t.get(e,n);return r===n?"function"!=typeof e||function JW(e){return null!==Up(e)}(e)?t.get(e):e:r}function Hf(e,t,n,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=Ol(t);return e.children.forEach(i=>{(function Nre(e,t,n,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=e.value,i=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(i&&s.routeConfig===i.routeConfig){const c=function xre(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!ga(e.url,t.url);case"pathParamsOrQueryParamsChange":return!ga(e.url,t.url)||!Mo(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!eD(e,t)||!Mo(e.queryParams,t.queryParams);default:return!eD(e,t)}}(i,s,s.routeConfig.runGuardsAndResolvers);c?o.canActivateChecks.push(new _2(r)):(s.data=i.data,s._resolvedData=i._resolvedData),Hf(e,t,s.component?a?a.children:null:n,r,o),c&&a&&a.outlet&&a.outlet.isActivated&&o.canDeactivateChecks.push(new m_(a.outlet.component,i))}else i&&qf(t,a,o),o.canActivateChecks.push(new _2(r)),Hf(e,null,s.component?a?a.children:null:n,r,o)})(i,s[i.value.outlet],n,r.concat([i.value]),o),delete s[i.value.outlet]}),Object.entries(s).forEach(([i,a])=>qf(a,n.getContext(i),o)),o}function qf(e,t,n){const r=Ol(e),o=e.value;Object.entries(r).forEach(([s,i])=>{qf(i,o.component?t?t.children.getContext(s):null:t,n)}),n.canDeactivateChecks.push(new m_(o.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,o))}function zf(e){return"function"==typeof e}function y2(e){return e instanceof kf||"EmptyError"===e?.name}const __=Symbol("INITIAL_VALUE");function kl(){return Sr(e=>Ym(e.map(t=>t.pipe(ti(1),e_(__)))).pipe(se(t=>{for(const n of t)if(!0!==n){if(n===__)return __;if(!1===n||Ure(n))return n}return!0}),as(t=>t!==__),ti(1)))}function Ure(e){return ma(e)||e instanceof rD}function v2(e){return function HW(...e){return QT(e)}(gn(t=>{if("boolean"!=typeof t)throw g_(0,t)}),se(t=>!0===t))}class oD{constructor(t){this.segmentGroup=t||null}}class y_ extends Error{constructor(t){super(),this.urlTree=t}}function Nl(e){return n_(new oD(e))}class eoe{constructor(t,n){this.urlSerializer=t,this.urlTree=n}lineralizeSegments(t,n){let r=[],o=n.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return ne(r);if(o.numberOfChildren>1||!o.children[ce])return n_(new M(4e3,!1));o=o.children[ce]}}applyRedirectCommands(t,n,r,o,s){if("string"!=typeof n){const a=n,{queryParams:c,fragment:l,routeConfig:u,url:d,outlet:f,params:h,data:g,title:m}=o,y=Go(s,()=>a({params:h,data:g,queryParams:c,fragment:l,routeConfig:u,url:d,outlet:f,title:m}));if(y instanceof pa)throw new y_(y);n=y}const i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,r);if("/"===n[0])throw new y_(i);return i}applyRedirectCreateUrlTree(t,n,r,o){const s=this.createSegmentGroup(t,n.root,r,o);return new pa(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){const r={};return Object.entries(t).forEach(([o,s])=>{if("string"==typeof s&&":"===s[0]){const a=s.substring(1);r[o]=n[a]}else r[o]=s}),r}createSegmentGroup(t,n,r,o){const s=this.createSegments(t,n.segments,r,o);let i={};return Object.entries(n.children).forEach(([a,c])=>{i[a]=this.createSegmentGroup(t,c,r,o)}),new je(s,i)}createSegments(t,n,r,o){return n.map(s=>":"===s.path[0]?this.findPosParam(t,s,o):this.findOrReturn(s,r))}findPosParam(t,n,r){const o=r[n.path.substring(1)];if(!o)throw new M(4001,!1);return o}findOrReturn(t,n){let r=0;for(const o of n){if(o.path===t.path)return n.splice(r),o;r++}return t}}const sD={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function toe(e,t,n,r,o){const s=b2(e,t,n);return s.matched?(r=function yre(e,t){return e.providers&&!e._injector&&(e._injector=nw(e.providers,t,`Route: ${e.path}`)),e._injector??t}(t,r),function Yre(e,t,n,r){const o=t.canMatch;return o&&0!==o.length?ne(o.map(i=>{const a=Al(i,e);return ni(function Bre(e){return e&&zf(e.canMatch)}(a)?a.canMatch(t,n):Go(e,()=>a(t,n)))})).pipe(kl(),v2()):ne(!0)}(r,t,n).pipe(se(i=>!0===i?s:{...sD}))):ne(s)}function b2(e,t,n){if("**"===t.path)return function noe(e){return{matched:!0,parameters:e.length>0?$L(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}(n);if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{...sD}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const o=(t.matcher||Fne)(n,e,t);if(!o)return{...sD};const s={};Object.entries(o.posParams??{}).forEach(([a,c])=>{s[a]=c.path});const i=o.consumed.length>0?{...s,...o.consumed[o.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:o.consumed,remainingSegments:n.slice(o.consumed.length),parameters:i,positionalParamSegments:o.posParams??{}}}function E2(e,t,n,r){return n.length>0&&function soe(e,t,n){return n.some(r=>v_(e,t,r)&&Jr(r)!==ce)}(e,n,r)?{segmentGroup:new je(t,ooe(r,new je(n,e.children))),slicedSegments:[]}:0===n.length&&function ioe(e,t,n){return n.some(r=>v_(e,t,r))}(e,n,r)?{segmentGroup:new je(e.segments,roe(e,n,r,e.children)),slicedSegments:n}:{segmentGroup:new je(e.segments,e.children),slicedSegments:n}}function roe(e,t,n,r){const o={};for(const s of n)if(v_(e,t,s)&&!r[Jr(s)]){const i=new je([],{});o[Jr(s)]=i}return{...r,...o}}function ooe(e,t){const n={};n[ce]=t;for(const r of e)if(""===r.path&&Jr(r)!==ce){const o=new je([],{});n[Jr(r)]=o}return n}function v_(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path}class coe{}class doe{constructor(t,n,r,o,s,i,a){this.injector=t,this.configLoader=n,this.rootComponentType=r,this.config=o,this.urlTree=s,this.paramsInheritanceStrategy=i,this.urlSerializer=a,this.applyRedirects=new eoe(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(t){return new M(4002,`'${t.segmentGroup}'`)}recognize(){const t=E2(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(se(({children:n,rootSnapshot:r})=>{const o=new eo(r,n),s=new u2("",o),i=function tre(e,t,n=null,r=null){return e2(JL(e),t,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return i.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(i),{state:s,tree:i}}))}match(t){const n=new h_([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),ce,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,ce,n).pipe(se(r=>({children:r,rootSnapshot:n})),Ml(r=>{if(r instanceof y_)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof oD?this.noMatchError(r):r}))}processSegmentGroup(t,n,r,o,s){return 0===r.segments.length&&r.hasChildren()?this.processChildren(t,n,r,s):this.processSegment(t,n,r,r.segments,o,!0,s).pipe(se(i=>i instanceof eo?[i]:[]))}processChildren(t,n,r,o){const s=[];for(const i of Object.keys(r.children))"primary"===i?s.unshift(i):s.push(i);return Kt(s).pipe(ha(i=>{const a=r.children[i],c=function Cre(e,t){const n=e.filter(r=>Jr(r)===t);return n.push(...e.filter(r=>Jr(r)!==t)),n}(n,i);return this.processSegmentGroup(t,c,a,i,o)}),function Ane(e,t){return xt(function One(e,t,n,r,o){return(s,i)=>{let a=n,c=t,l=0;s.subscribe(Dt(i,u=>{const d=l++;c=a?e(c,u,d):(a=!0,u),r&&i.next(c)},o&&(()=>{a&&i.next(c),i.complete()})))}}(e,t,arguments.length>=2,!0))}((i,a)=>(i.push(...a),i)),r_(null),function kne(e,t){const n=arguments.length>=2;return r=>r.pipe(e?as((o,s)=>e(o,s,r)):Vi,BS(1),n?r_(t):BL(()=>new kf))}(),Rn(i=>{if(null===i)return Nl(r);const a=C2(i);return function foe(e){e.sort((t,n)=>t.value.outlet===ce?-1:n.value.outlet===ce?1:t.value.outlet.localeCompare(n.value.outlet))}(a),ne(a)}))}processSegment(t,n,r,o,s,i,a){return Kt(n).pipe(ha(c=>this.processSegmentAgainstRoute(c._injector??t,n,c,r,o,s,i,a).pipe(Ml(l=>{if(l instanceof oD)return ne(null);throw l}))),cs(c=>!!c),Ml(c=>{if(y2(c))return function aoe(e,t,n){return 0===t.length&&!e.children[n]}(r,o,s)?ne(new coe):Nl(r);throw c}))}processSegmentAgainstRoute(t,n,r,o,s,i,a,c){return Jr(r)===i||i!==ce&&v_(o,s,r)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,o,r,s,i,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,o,n,r,s,i,c):Nl(o):Nl(o)}expandSegmentAgainstRouteUsingRedirect(t,n,r,o,s,i,a){const{matched:c,parameters:l,consumedSegments:u,positionalParamSegments:d,remainingSegments:f}=b2(n,o,s);if(!c)return Nl(n);"string"==typeof o.redirectTo&&"/"===o.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const h=new h_(s,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,w2(o),Jr(o),o.component??o._loadedComponent??null,o,S2(o)),g=f_(h,a,this.paramsInheritanceStrategy);h.params=Object.freeze(g.params),h.data=Object.freeze(g.data);const m=this.applyRedirects.applyRedirectCommands(u,o.redirectTo,d,h,t);return this.applyRedirects.lineralizeSegments(o,m).pipe(Rn(y=>this.processSegment(t,r,n,y.concat(f),i,!1,a)))}matchSegmentAgainstRoute(t,n,r,o,s,i){const a=toe(n,r,o,t);return"**"===r.path&&(n.children={}),a.pipe(Sr(c=>c.matched?this.getChildConfig(t=r._injector??t,r,o).pipe(Sr(({routes:l})=>{const u=r._loadedInjector??t,{parameters:d,consumedSegments:f,remainingSegments:h}=c,g=new h_(f,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,w2(r),Jr(r),r.component??r._loadedComponent??null,r,S2(r)),m=f_(g,i,this.paramsInheritanceStrategy);g.params=Object.freeze(m.params),g.data=Object.freeze(m.data);const{segmentGroup:y,slicedSegments:w}=E2(n,f,h,l);if(0===w.length&&y.hasChildren())return this.processChildren(u,l,y,g).pipe(se(N=>new eo(g,N)));if(0===l.length&&0===w.length)return ne(new eo(g,[]));const v=Jr(r)===s;return this.processSegment(u,l,y,w,v?ce:s,!0,g).pipe(se(N=>new eo(g,N instanceof eo?[N]:[])))})):Nl(n)))}getChildConfig(t,n,r){return n.children?ne({routes:n.children,injector:t}):n.loadChildren?void 0!==n._loadedRoutes?ne({routes:n._loadedRoutes,injector:n._loadedInjector}):function Zre(e,t,n,r){const o=t.canLoad;return void 0===o||0===o.length?ne(!0):ne(o.map(i=>{const a=Al(i,e);return ni(function Pre(e){return e&&zf(e.canLoad)}(a)?a.canLoad(t,n):Go(e,()=>a(t,n)))})).pipe(kl(),v2())}(t,n,r).pipe(Rn(o=>o?this.configLoader.loadChildren(t,n).pipe(gn(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function Jre(){return n_(g2(!1,tr.GuardRejected))}())):ne({routes:[],injector:t})}}function hoe(e){const t=e.value.routeConfig;return t&&""===t.path}function C2(e){const t=[],n=new Set;for(const r of e){if(!hoe(r)){t.push(r);continue}const o=t.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==o?(o.children.push(...r.children),n.add(o)):t.push(r)}for(const r of n){const o=C2(r.children);t.push(new eo(r.value,o))}return t.filter(r=>!n.has(r))}function w2(e){return e.data||{}}function S2(e){return e.resolve||{}}function D2(e){const t=e.children.map(n=>D2(n)).flat();return[e,...t]}function iD(e){return Sr(t=>{const n=e(t);return n?Kt(n).pipe(se(()=>t)):ne(t)})}let M2=(()=>{class e{buildTitle(n){let r,o=n.root;for(;void 0!==o;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(s=>s.outlet===ce);return r}getResolvedTitleForRoute(n){return n.data[Nf]}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=L({token:e,factory:()=>I(voe),providedIn:"root"})}}return e})(),voe=(()=>{class e extends M2{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||e)(j(tte))}}static{this.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const Wf=new P("",{providedIn:"root",factory:()=>({})});let I2=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=zo({type:e,selectors:[["ng-component"]],standalone:!0,features:[aa],decls:1,vars:0,template:function(r,o){1&r&&Xt(0,"router-outlet")},dependencies:[tD],encapsulation:2})}}return e})();function aD(e){const t=e.children&&e.children.map(aD),n=t?{...e,children:t}:{...e};return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==ce&&(n.component=I2),n}const b_=new P("");let T2=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=I(MY)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return ne(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=ni(n.loadComponent()).pipe(se(R2),gn(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),Il(()=>{this.componentLoaders.delete(n)})),o=new jL(r,()=>new Nt).pipe(jS());return this.componentLoaders.set(n,o),o}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return ne({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=function boe(e,t,n,r){return ni(e.loadChildren()).pipe(se(R2),Rn(o=>o instanceof PN||Array.isArray(o)?ne(o):Kt(t.compileModuleAsync(o))),se(o=>{r&&r(e);let s,i,a=!1;return Array.isArray(o)?(i=o,!0):(s=o.create(n).injector,i=s.get(b_,[],{optional:!0,self:!0}).flat()),{routes:i.map(aD),injector:s}}))}(r,this.compiler,n,this.onLoadEndListener).pipe(Il(()=>{this.childrenLoaders.delete(r)})),i=new jL(s,()=>new Nt).pipe(jS());return this.childrenLoaders.set(r,i),i}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function R2(e){return function Eoe(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let cD=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=L({token:e,factory:()=>I(Coe),providedIn:"root"})}}return e})(),Coe=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const O2=new P(""),k2=new P("");let E_=(()=>{class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Nt,this.transitionAbortSubject=new Nt,this.configLoader=I(T2),this.environmentInjector=I(Vn),this.urlSerializer=I(Rl),this.rootContexts=I(Uf),this.location=I(Sf),this.inputBindingEnabled=null!==I(p_,{optional:!0}),this.titleStrategy=I(M2),this.options=I(Wf,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=I(cD),this.createViewTransition=I(O2,{optional:!0}),this.navigationErrorHandler=I(k2,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>ne(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=o=>this.events.next(new hre(o)),this.configLoader.onLoadStartListener=o=>this.events.next(new fre(o))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n,r,o){return this.transitions=new xn({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Vf,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(as(s=>0!==s.id),se(s=>({...s,extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Sr(s=>{let i=!1,a=!1;return ne(s).pipe(Sr(c=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",tr.SupersededByNewNavigation),Do;this.currentTransition=s,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,targetBrowserUrl:"string"==typeof c.extras.browserUrl?this.urlSerializer.parse(c.extras.browserUrl):c.extras.browserUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const l=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!l&&"reload"!==(c.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const d="";return this.events.next(new jf(c.id,this.urlSerializer.serialize(c.rawUrl),d,GS.IgnoredSameUrlNavigation)),c.resolve(!1),Do}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return ne(c).pipe(Sr(d=>{const f=this.transitions?.getValue();return this.events.next(new WS(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),f!==this.transitions?.getValue()?Do:Promise.resolve(d)}),function poe(e,t,n,r,o,s){return Rn(i=>function loe(e,t,n,r,o,s,i="emptyOnly"){return new doe(e,t,n,r,o,i,s).recognize()}(e,t,n,r,i.extractedUrl,o,s).pipe(se(({state:a,tree:c})=>({...i,targetSnapshot:a,urlAfterRedirects:c}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),gn(d=>{s.targetSnapshot=d.targetSnapshot,s.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:d.urlAfterRedirects};const f=new i2(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){const{id:d,extractedUrl:f,source:h,restoredState:g,extras:m}=c,y=new WS(d,this.urlSerializer.serialize(f),h,g);this.events.next(y);const w=l2(this.rootComponentType).snapshot;return this.currentTransition=s={...c,targetSnapshot:w,urlAfterRedirects:f,extras:{...m,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=f,ne(s)}{const d="";return this.events.next(new jf(c.id,this.urlSerializer.serialize(c.extractedUrl),d,GS.IgnoredByUrlHandlingStrategy)),c.resolve(!1),Do}}),gn(c=>{const l=new cre(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),se(c=>(this.currentTransition=s={...c,guards:Are(c.targetSnapshot,c.currentSnapshot,this.rootContexts)},s)),function $re(e,t){return Rn(n=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:s,canDeactivateChecks:i}}=n;return 0===i.length&&0===s.length?ne({...n,guardsResult:!0}):function Hre(e,t,n,r){return Kt(e).pipe(Rn(o=>function Kre(e,t,n,r,o){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return s&&0!==s.length?ne(s.map(a=>{const c=Bf(t)??o,l=Al(a,c);return ni(function jre(e){return e&&zf(e.canDeactivate)}(l)?l.canDeactivate(e,t,n,r):Go(c,()=>l(e,t,n,r))).pipe(cs())})).pipe(kl()):ne(!0)}(o.component,o.route,n,t,r)),cs(o=>!0!==o,!0))}(i,r,o,e).pipe(Rn(a=>a&&function Fre(e){return"boolean"==typeof e}(a)?function qre(e,t,n,r){return Kt(t).pipe(ha(o=>Qm(function Wre(e,t){return null!==e&&t&&t(new pre(e)),ne(!0)}(o.route.parent,r),function zre(e,t){return null!==e&&t&&t(new mre(e)),ne(!0)}(o.route,r),function Xre(e,t,n){const r=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(i=>function kre(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(i)).filter(i=>null!==i).map(i=>VL(()=>ne(i.guards.map(c=>{const l=Bf(i.node)??n,u=Al(c,l);return ni(function Vre(e){return e&&zf(e.canActivateChild)}(u)?u.canActivateChild(r,e):Go(l,()=>u(r,e))).pipe(cs())})).pipe(kl())));return ne(s).pipe(kl())}(e,o.path,n),function Gre(e,t,n){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return ne(!0);const o=r.map(s=>VL(()=>{const i=Bf(t)??n,a=Al(s,i);return ni(function Lre(e){return e&&zf(e.canActivate)}(a)?a.canActivate(t,e):Go(i,()=>a(t,e))).pipe(cs())}));return ne(o).pipe(kl())}(e,o.route,n))),cs(o=>!0!==o,!0))}(r,s,e,t):ne(a)),se(a=>({...n,guardsResult:a})))})}(this.environmentInjector,c=>this.events.next(c)),gn(c=>{if(s.guardsResult=c.guardsResult,c.guardsResult&&"boolean"!=typeof c.guardsResult)throw g_(0,c.guardsResult);const l=new lre(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(l)}),as(c=>!!c.guardsResult||(this.cancelNavigationTransition(c,"",tr.GuardRejected),!1)),iD(c=>{if(c.guards.canActivateChecks.length)return ne(c).pipe(gn(l=>{const u=new ure(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),Sr(l=>{let u=!1;return ne(l).pipe(function goe(e,t){return Rn(n=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=n;if(!o.length)return ne(n);const s=new Set(o.map(c=>c.route)),i=new Set;for(const c of s)if(!i.has(c))for(const l of D2(c))i.add(l);let a=0;return Kt(i).pipe(ha(c=>s.has(c)?function moe(e,t,n,r){const o=e.routeConfig,s=e._resolve;return void 0!==o?.title&&!f2(o)&&(s[Nf]=o.title),function _oe(e,t,n,r){const o=US(e);if(0===o.length)return ne({});const s={};return Kt(o).pipe(Rn(i=>function yoe(e,t,n,r){const o=Bf(t)??r,s=Al(e,o);return ni(s.resolve?s.resolve(t,n):Go(o,()=>s(t,n)))}(e[i],t,n,r).pipe(cs(),gn(a=>{if(a instanceof rD)throw g_(new s_,a);s[i]=a}))),BS(1),function Nne(e){return se(()=>e)}(s),Ml(i=>y2(i)?Do:n_(i)))}(s,e,t,r).pipe(se(i=>(e._resolvedData=i,e.data=f_(e,e.parent,n).resolve,null)))}(c,r,e,t):(c.data=f_(c,c.parent,e).resolve,ne(void 0))),gn(()=>a++),BS(1),Rn(c=>a===i.size?ne(n):Do))})}(this.paramsInheritanceStrategy,this.environmentInjector),gn({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(l,"",tr.NoDataFromResolver)}}))}),gn(l=>{const u=new dre(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}))}),iD(c=>{const l=u=>{const d=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(u.routeConfig).pipe(gn(f=>{u.component=f}),se(()=>{})));for(const f of u.children)d.push(...l(f));return d};return Ym(l(c.targetSnapshot.root)).pipe(r_(null),ti(1))}),iD(()=>this.afterPreactivation()),Sr(()=>{const{currentSnapshot:c,targetSnapshot:l}=s,u=this.createViewTransition?.(this.environmentInjector,c.root,l.root);return u?Kt(u).pipe(se(()=>s)):ne(s)}),se(c=>{const l=function Dre(e,t,n){const r=$f(e,t._root,n?n._root:void 0);return new c2(r,t)}(n.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=s={...c,targetRouterState:l},this.currentNavigation.targetRouterState=l,s}),gn(()=>{this.events.next(new KS)}),((e,t,n,r)=>se(o=>(new Ore(t,o.targetRouterState,o.currentRouterState,n,r).activate(e),o)))(this.rootContexts,n.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),ti(1),gn({next:c=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new _a(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{i=!0}}),kL(this.transitionAbortSubject.pipe(gn(c=>{throw c}))),Il(()=>{!i&&!a&&this.cancelNavigationTransition(s,"",tr.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),Ml(c=>{if(a=!0,m2(c))this.events.next(new ya(s.id,this.urlSerializer.serialize(s.extractedUrl),c.message,c.cancellationCode)),function Tre(e){return m2(e)&&ma(e.url)}(c)?this.events.next(new d_(c.url,c.navigationBehaviorOptions)):s.resolve(!1);else{const l=new XS(s.id,this.urlSerializer.serialize(s.extractedUrl),c,s.targetSnapshot??void 0);try{const u=Go(this.environmentInjector,()=>this.navigationErrorHandler?.(l));if(u instanceof rD){const{message:d,cancellationCode:f}=g_(0,u);this.events.next(new ya(s.id,this.urlSerializer.serialize(s.extractedUrl),d,f)),this.events.next(new d_(u.redirectTo,u.navigationBehaviorOptions))}else{this.events.next(l);const d=n.errorHandler(c);s.resolve(!!d)}}catch(u){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(u)}}return Do}))}))}cancelNavigationTransition(n,r,o){const s=new ya(n.id,this.urlSerializer.serialize(n.extractedUrl),r,o);this.events.next(s),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){const n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Doe(e){return e!==Vf}let Moe=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=L({token:e,factory:()=>I(Toe),providedIn:"root"})}}return e})();class Ioe{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}}let Toe=(()=>{class e extends Ioe{static{this.\u0275fac=(()=>{let n;return function(o){return(n||(n=Bt(e)))(o||e)}})()}static{this.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),N2=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=L({token:e,factory:()=>I(Roe),providedIn:"root"})}}return e})(),Roe=(()=>{class e extends N2{constructor(){super(...arguments),this.location=I(Sf),this.urlSerializer=I(Rl),this.options=I(Wf,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=I(cD),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new pa,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=l2(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{"popstate"===r.type&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof WS)this.stateMemento=this.createStateMemento();else if(n instanceof jf)this.rawUrlTree=r.initialUrl;else if(n instanceof i2){if("eager"===this.urlUpdateStrategy&&!r.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??o,r)}}else n instanceof KS?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,"deferred"===this.urlUpdateStrategy&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):n instanceof ya&&(n.code===tr.GuardRejected||n.code===tr.NoDataFromResolver)?this.restoreHistory(r):n instanceof XS?this.restoreHistory(r,!0):n instanceof _a&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){const o=n instanceof pa?this.urlSerializer.serialize(n):n;if(this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl){const i={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(o,"",i)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(o,"",s)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===n.finalUrl&&0===s&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static{this.\u0275fac=(()=>{let n;return function(o){return(n||(n=Bt(e)))(o||e)}})()}static{this.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var Gf=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(Gf||{});function Ooe(e){throw e}const Aoe={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},koe={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ri=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=I(pP),this.stateManager=I(N2),this.options=I(Wf,{optional:!0})||{},this.pendingTasks=I(Qo),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=I(E_),this.urlSerializer=I(Rl),this.location=I(Sf),this.urlHandlingStrategy=I(cD),this._events=new Nt,this.errorHandler=this.options.errorHandler||Ooe,this.navigated=!1,this.routeReuseStrategy=I(Moe),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=I(b_,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!I(p_,{optional:!0}),this.eventsSubscription=new dn,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const n=this.navigationTransitions.events.subscribe(r=>{try{const o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(null!==o&&null!==s)if(this.stateManager.handleRouterEvent(r,s),r instanceof ya&&r.code!==tr.Redirect&&r.code!==tr.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof _a)this.navigated=!0;else if(r instanceof d_){const i=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,o.currentRawUrl),c={browserUrl:o.extras.browserUrl,info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||"eager"===this.urlUpdateStrategy||Doe(o.source),...i};this.scheduleNavigation(a,Vf,null,c,{resolve:o.resolve,reject:o.reject,promise:o.promise})}(function xoe(e){return!(e instanceof KS||e instanceof d_)})(r)&&this._events.next(r)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Vf,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,o){const s={replaceUrl:!0},i=o?.navigationId?o:null;if(o){const c={...o};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(s.state=c)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,i,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(aD),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){const{relativeTo:o,queryParams:s,fragment:i,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:i;let d,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u={...this.currentUrlTree.queryParams,...s};break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=s||null}null!==u&&(u=this.removeEmptyProps(u));try{d=JL(o?o.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||"/"!==n[0][0])&&(n=[]),d=this.currentUrlTree.root}return e2(d,n,u,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){const o=ma(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,Vf,null,r)}navigate(n,r={skipLocationChange:!1}){return function Noe(e){for(let t=0;t<e.length;t++)if(null==e[t])throw new M(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let o;if(o=!0===r?{...Aoe}:!1===r?{...koe}:r,ma(n))return qL(this.currentUrlTree,n,o);const s=this.parseUrl(n);return qL(this.currentUrlTree,s,o)}removeEmptyProps(n){return Object.entries(n).reduce((r,[o,s])=>(null!=s&&(r[o]=s),r),{})}scheduleNavigation(n,r,o,s,i){if(this.disposed)return Promise.resolve(!1);let a,c,l;i?(a=i.resolve,c=i.reject,l=i.promise):l=new Promise((d,f)=>{a=d,c=f});const u=this.pendingTasks.add();return function x2(e,t){e.events.pipe(as(n=>n instanceof _a||n instanceof ya||n instanceof XS||n instanceof jf),se(n=>n instanceof _a||n instanceof jf?Gf.COMPLETE:n instanceof ya&&(n.code===tr.Redirect||n.code===tr.SupersededByNewNavigation)?Gf.REDIRECTING:Gf.FAILED),as(n=>n!==Gf.REDIRECTING),ti(1)).subscribe(()=>{t()})}(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(d=>Promise.reject(d))}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const uD=new P("");function joe(e,...t){return Ic([{provide:b_,multi:!0,useValue:e},[],{provide:va,useFactory:P2,deps:[ri]},{provide:vm,multi:!0,useFactory:L2},t.map(n=>n.\u0275providers)])}function P2(e){return e.routerState.root}function To(e,t){return{\u0275kind:e,\u0275providers:t}}function L2(){const e=I(an);return t=>{const n=e.get(wo);if(t!==n.components[0])return;const r=e.get(ri),o=e.get(V2);1===e.get(dD)&&r.initialNavigation(),e.get(j2,null,ge.Optional)?.setUpPreloading(),e.get(uD,null,ge.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}const V2=new P("",{factory:()=>new Nt}),dD=new P("",{providedIn:"root",factory:()=>1}),j2=new P("");function qoe(e,t){1&e&&(Ks(0),ve(1,"main",1),Xt(2,"img",2),ve(3,"section",3),Xt(4,"router-outlet"),Te()(),Zs())}function zoe(e,t){1&e&&(Ks(0),ve(1,"main",4)(2,"section",3),Xt(3,"router-outlet"),Te()(),Zs())}function Woe(e,t){1&e&&Xt(0,"img",11)}function Goe(e,t){1&e&&Xt(0,"img",12)}function Xoe(e,t){if(1&e&&(Ks(0),ve(1,"header",5),Xt(2,"img",6),Te(),ve(3,"div",7),yr(4,Woe,1,0,"img",8)(5,Goe,1,0,"img",9),Te(),ve(6,"div",10)(7,"h1"),br(8,"Only available in landscape mode"),Te(),ve(9,"h3"),br(10,"Turn your device!"),Te()(),Zs()),2&e){const n=Jn();Ye(4),gt("ngIf",n.mode==n.Mode.LIGHT),Ye(),gt("ngIf",n.mode==n.Mode.DARK)}}let Koe=(()=>{class e{constructor(n,r){this.responsive=n,this.modeToggleService=r,this.isMobileDisplay=!0,this.isPortrait=!1,this.isLandscape=!1,this.mode=fa.LIGHT,this.Mode=fa,this.modeToggleService.modeChanged$.subscribe(o=>this.mode=o),this.checkOrientation()}ngOnInit(){this.responsive.observe(["(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)"]).subscribe(n=>{this.isMobileDisplay=!n.matches})}onOrientationChange(n){this.checkOrientation()}checkOrientation(){const n=window.screen.orientation.angle;this.isPortrait=0===n||180===n,this.isLandscape=90===n||-90===n}static{this.\u0275fac=function(r){return new(r||e)(k(lne),k(dne))}}static{this.\u0275cmp=zo({type:e,selectors:[["app-root"]],hostBindings:function(r,o){1&r&&ft("orientationchange",function(i){return o.onOrientationChange(i)},0,BA)},decls:4,vars:3,consts:[[4,"ngIf"],[1,"flex","app-container"],["src","./assets/images/title.svg","id","title-image","alt","Website Title",1,"top-left-corner"],[1,"flex","content"],[1,"app-container"],[1,"header-mobile","mt-40","mb-40"],["src","./assets/images/title-mobile.svg","alt","Website Title",1,"title-image-mobile"],[1,"portrait-to-landscape"],["src","./assets/images/light/orientation.png","class","portrait-to-landscape-image","alt","Portrait to landscape image",4,"ngIf"],["src","./assets/images/dark/orientation.png","class","portrait-to-landscape-image","alt","Portrait to landscape image",4,"ngIf"],[1,"ml-10"],["src","./assets/images/light/orientation.png","alt","Portrait to landscape image",1,"portrait-to-landscape-image"],["src","./assets/images/dark/orientation.png","alt","Portrait to landscape image",1,"portrait-to-landscape-image"]],template:function(r,o){1&r&&(Xt(0,"ngx-loading-bar"),yr(1,qoe,5,0,"ng-container",0)(2,zoe,4,0,"ng-container",0)(3,Xoe,11,2,"ng-container",0)),2&r&&(Ye(),gt("ngIf",!o.isMobileDisplay),Ye(),gt("ngIf",o.isMobileDisplay&&o.isLandscape),Ye(),gt("ngIf",o.isMobileDisplay&&o.isPortrait))},dependencies:[qm,Mne,tD],styles:['html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%;margin:0}[_ngcontent-%COMP%]:root{font-family:Inter,sans-serif;font-feature-settings:"liga" 1,"calt" 1,"ss01" on}@supports (font-variation-settings: normal){[_ngcontent-%COMP%]:root{font-family:InterVariable,sans-serif}}a[_ngcontent-%COMP%]{all:unset}h3[_ngcontent-%COMP%]{margin:0}button[_ngcontent-%COMP%]{font-family:inherit;font-size:100%;line-height:1.15;margin:0;overflow:visible;text-transform:none;-webkit-appearance:button}.flex[_ngcontent-%COMP%]{display:flex}.mt-40[_ngcontent-%COMP%]{margin-top:40px}.mb-40[_ngcontent-%COMP%]{margin-bottom:40px}.mb-10[_ngcontent-%COMP%]{margin-bottom:10px}.ml-10[_ngcontent-%COMP%]{margin-left:10px}.user-select-none[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none}.cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}body.dark[_ngcontent-%COMP%]{--backgroundColor: #2e2e2e;--textColor: white;--borderColor: white;--menuButtonColor: #CC71FA;--gridHighLightColor: #474747;background-color:var(--backgroundColor);color:var(--textColor)}body.light[_ngcontent-%COMP%]{--backgroundColor: white;--textColor: black;--borderColor: black;--menuButtonColor: #70F1FA;--gridHighLightColor: #e8e8e8;background-color:var(--backgroundColor);color:var(--textColor)}.app-container[_ngcontent-%COMP%]{height:100%}.app-container[_ngcontent-%COMP%]   .top-left-corner[_ngcontent-%COMP%]{position:absolute;top:10px;left:10px}.menu[_ngcontent-%COMP%]{flex-direction:column;justify-content:flex-start;align-items:flex-start}.menu.genre[_ngcontent-%COMP%]{justify-content:flex-end}.content[_ngcontent-%COMP%]{flex:1;justify-content:center;align-items:center;overflow:auto;height:100%}.header[_ngcontent-%COMP%]{width:240px;font-size:30px}.column[_ngcontent-%COMP%]{flex-direction:column}.nowrap[_ngcontent-%COMP%]{white-space:nowrap}.header-mobile[_ngcontent-%COMP%]{font-size:30px;width:100%;text-align:center}#title-image[_ngcontent-%COMP%]{width:150px;aspect-ratio:1}.title-image-mobile[_ngcontent-%COMP%]{width:300px}.portrait-to-landscape[_ngcontent-%COMP%]{justify-content:center;display:flex;flex-direction:row;margin:50px}.portrait-to-landscape[_ngcontent-%COMP%]   .portrait-to-landscape-image[_ngcontent-%COMP%]{width:100px}']})}}return e})();function U2(e,t,n,r,o,s,i){try{var a=e[s](i),c=a.value}catch(l){return void n(l)}a.done?t(c):Promise.resolve(c).then(r,o)}function ba(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var s=e.apply(t,n);function i(c){U2(s,r,o,i,a,"next",c)}function a(c){U2(s,r,o,i,a,"throw",c)}i(void 0)})}}class C_{}class Xf{}class nr{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?"string"==typeof t?this.lazyInit=()=>{this.headers=new Map,t.split("\n").forEach(n=>{const r=n.indexOf(":");if(r>0){const o=n.slice(0,r),s=o.toLowerCase(),i=n.slice(r+1).trim();this.maybeSetNormalizedName(o,s),this.headers.has(s)?this.headers.get(s).push(i):this.headers.set(s,[i])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const n=this.headers.get(t.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,n){return this.clone({name:t,value:n,op:"a"})}set(t,n){return this.clone({name:t,value:n,op:"s"})}delete(t,n){return this.clone({name:t,value:n,op:"d"})}maybeSetNormalizedName(t,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,t)}init(){this.lazyInit&&(this.lazyInit instanceof nr?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(n=>{this.headers.set(n,t.headers.get(n)),this.normalizedNames.set(n,t.normalizedNames.get(n))})}clone(t){const n=new nr;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof nr?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}applyUpdate(t){const n=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(t.name,n);const o=("a"===t.op?this.headers.get(n):void 0)||[];o.push(...r),this.headers.set(n,o);break;case"d":const s=t.value;if(s){let i=this.headers.get(n);if(!i)return;i=i.filter(a=>-1===s.indexOf(a)),0===i.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,i)}else this.headers.delete(n),this.normalizedNames.delete(n)}}setHeaderEntries(t,n){const r=(Array.isArray(n)?n:[n]).map(s=>s.toString()),o=t.toLowerCase();this.headers.set(o,r),this.maybeSetNormalizedName(t,o)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>t(this.normalizedNames.get(n),this.headers.get(n)))}}class Zoe{encodeKey(t){return $2(t)}encodeValue(t){return $2(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const Qoe=/%(\d[a-f0-9])/gi,Joe={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function $2(e){return encodeURIComponent(e).replace(Qoe,(t,n)=>Joe[n]??t)}function w_(e){return`${e}`}class ls{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new Zoe,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Yoe(e,t){const n=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(o=>{const s=o.indexOf("="),[i,a]=-1==s?[t.decodeKey(o),""]:[t.decodeKey(o.slice(0,s)),t.decodeValue(o.slice(s+1))],c=n.get(i)||[];c.push(a),n.set(i,c)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(n=>{const r=t.fromObject[n],o=Array.isArray(r)?r.map(w_):[w_(r)];this.map.set(n,o)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const n=this.map.get(t);return n?n[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,n){return this.clone({param:t,value:n,op:"a"})}appendAll(t){const n=[];return Object.keys(t).forEach(r=>{const o=t[r];Array.isArray(o)?o.forEach(s=>{n.push({param:r,value:s,op:"a"})}):n.push({param:r,value:o,op:"a"})}),this.clone(n)}set(t,n){return this.clone({param:t,value:n,op:"s"})}delete(t,n){return this.clone({param:t,value:n,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const n=this.encoder.encodeKey(t);return this.map.get(t).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const n=new ls({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(t),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const n=("a"===t.op?this.map.get(t.param):void 0)||[];n.push(w_(t.value)),this.map.set(t.param,n);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let r=this.map.get(t.param)||[];const o=r.indexOf(w_(t.value));-1!==o&&r.splice(o,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class ese{constructor(){this.map=new Map}set(t,n){return this.map.set(t,n),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function H2(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function q2(e){return typeof Blob<"u"&&e instanceof Blob}function z2(e){return typeof FormData<"u"&&e instanceof FormData}class Kf{constructor(t,n,r,o){let s;if(this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function tse(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==r?r:null,s=o):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new nr,this.context??=new ese,this.params){const i=this.params.toString();if(0===i.length)this.urlWithParams=n;else{const a=n.indexOf("?");this.urlWithParams=n+(-1===a?"?":a<n.length-1?"&":"")+i}}else this.params=new ls,this.urlWithParams=n}serializeBody(){return null===this.body?null:"string"==typeof this.body||H2(this.body)||q2(this.body)||z2(this.body)||function nse(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}(this.body)?this.body:this.body instanceof ls?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||z2(this.body)?null:q2(this.body)?this.body.type||null:H2(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ls?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const n=t.method||this.method,r=t.url||this.url,o=t.responseType||this.responseType,s=t.transferCache??this.transferCache,i=void 0!==t.body?t.body:this.body,a=t.withCredentials??this.withCredentials,c=t.reportProgress??this.reportProgress;let l=t.headers||this.headers,u=t.params||this.params;const d=t.context??this.context;return void 0!==t.setHeaders&&(l=Object.keys(t.setHeaders).reduce((f,h)=>f.set(h,t.setHeaders[h]),l)),t.setParams&&(u=Object.keys(t.setParams).reduce((f,h)=>f.set(h,t.setParams[h]),u)),new Kf(n,r,i,{params:u,headers:l,context:d,reportProgress:c,responseType:o,withCredentials:a,transferCache:s})}}var oi=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(oi||{});class fD{constructor(t,n=200,r="OK"){this.headers=t.headers||new nr,this.status=void 0!==t.status?t.status:n,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class S_ extends fD{constructor(t={}){super(t),this.type=oi.ResponseHeader}clone(t={}){return new S_({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class si extends fD{constructor(t={}){super(t),this.type=oi.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new si({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class xl extends fD{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function hD(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,transferCache:e.transferCache}}let G2=(()=>{class e{constructor(n){this.handler=n}request(n,r,o={}){let s;if(n instanceof Kf)s=n;else{let c,l;c=o.headers instanceof nr?o.headers:new nr(o.headers),o.params&&(l=o.params instanceof ls?o.params:new ls({fromObject:o.params})),s=new Kf(n,r,void 0!==o.body?o.body:null,{headers:c,context:o.context,params:l,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache})}const i=ne(s).pipe(ha(c=>this.handler.handle(c)));if(n instanceof Kf||"events"===o.observe)return i;const a=i.pipe(as(c=>c instanceof si));switch(o.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(se(c=>{if(null!==c.body&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return a.pipe(se(c=>{if(null!==c.body&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return a.pipe(se(c=>{if(null!==c.body&&"string"!=typeof c.body)throw new Error("Response is not a string.");return c.body}));default:return a.pipe(se(c=>c.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:(new ls).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,o={}){return this.request("PATCH",n,hD(o,r))}post(n,r,o={}){return this.request("POST",n,hD(o,r))}put(n,r,o={}){return this.request("PUT",n,hD(o,r))}static{this.\u0275fac=function(r){return new(r||e)(j(C_))}}static{this.\u0275prov=L({token:e,factory:e.\u0275fac})}}return e})();const sse=/^\)\]\}',?\n/;function X2(e){if(e.url)return e.url;const t="X-Request-URL".toLocaleLowerCase();return e.headers.get(t)}let pD=(()=>{class e{constructor(){this.fetchImpl=I(ase,{optional:!0})?.fetch??((...n)=>globalThis.fetch(...n)),this.ngZone=I(Oe)}handle(n){return new Ge(r=>{const o=new AbortController;return this.doRequest(n,o.signal,r).then(gD,s=>r.error(new xl({error:s}))),()=>o.abort()})}doRequest(n,r,o){var s=this;return ba(function*(){const i=s.createRequestInit(n);let a;try{const g=s.ngZone.runOutsideAngular(()=>s.fetchImpl(n.urlWithParams,{signal:r,...i}));(function cse(e){e.then(gD,gD)})(g),o.next({type:oi.Sent}),a=yield g}catch(g){return void o.error(new xl({error:g,status:g.status??0,statusText:g.statusText,url:n.urlWithParams,headers:g.headers}))}const c=new nr(a.headers),l=a.statusText,u=X2(a)??n.urlWithParams;let d=a.status,f=null;if(n.reportProgress&&o.next(new S_({headers:c,status:d,statusText:l,url:u})),a.body){const g=a.headers.get("content-length"),m=[],y=a.body.getReader();let v,N,w=0;const V=typeof Zone<"u"&&Zone.current;yield s.ngZone.runOutsideAngular(ba(function*(){for(;;){const{done:ae,value:Pe}=yield y.read();if(ae)break;if(m.push(Pe),w+=Pe.length,n.reportProgress){N="text"===n.responseType?(N??"")+(v??=new TextDecoder).decode(Pe,{stream:!0}):void 0;const C=()=>o.next({type:oi.DownloadProgress,total:g?+g:void 0,loaded:w,partialText:N});V?V.run(C):C()}}}));const H=s.concatChunks(m,w);try{const ae=a.headers.get("Content-Type")??"";f=s.parseBody(n,H,ae)}catch(ae){return void o.error(new xl({error:ae,headers:new nr(a.headers),status:a.status,statusText:a.statusText,url:X2(a)??n.urlWithParams}))}}0===d&&(d=f?200:0),d>=200&&d<300?(o.next(new si({body:f,headers:c,status:d,statusText:l,url:u})),o.complete()):o.error(new xl({error:f,headers:c,status:d,statusText:l,url:u}))})()}parseBody(n,r,o){switch(n.responseType){case"json":const s=(new TextDecoder).decode(r).replace(sse,"");return""===s?null:JSON.parse(s);case"text":return(new TextDecoder).decode(r);case"blob":return new Blob([r],{type:o});case"arraybuffer":return r.buffer}}createRequestInit(n){const r={},o=n.withCredentials?"include":void 0;if(n.headers.forEach((s,i)=>r[s]=i.join(",")),n.headers.has("Accept")||(r.Accept="application/json, text/plain, */*"),!n.headers.has("Content-Type")){const s=n.detectContentTypeHeader();null!==s&&(r["Content-Type"]=s)}return{body:n.serializeBody(),method:n.method,headers:r,credentials:o}}concatChunks(n,r){const o=new Uint8Array(r);let s=0;for(const i of n)o.set(i,s),s+=i.length;return o}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=L({token:e,factory:e.\u0275fac})}}return e})();class ase{}function gD(){}function K2(e,t){return t(e)}function lse(e,t){return(n,r)=>t.intercept(n,{handle:o=>e(o,r)})}const Z2=new P(""),Zf=new P(""),Y2=new P(""),Q2=new P("",{providedIn:"root",factory:()=>!0});function dse(){let e=null;return(t,n)=>{null===e&&(e=(I(Z2,{optional:!0})??[]).reduceRight(lse,K2));const r=I(Qo);if(I(Q2)){const s=r.add();return e(t,n).pipe(Il(()=>r.remove(s)))}return e(t,n)}}let J2=(()=>{class e extends C_{constructor(n,r){super(),this.backend=n,this.injector=r,this.chain=null,this.pendingTasks=I(Qo),this.contributeToStability=I(Q2)}handle(n){if(null===this.chain){const r=Array.from(new Set([...this.injector.get(Zf),...this.injector.get(Y2,[])]));this.chain=r.reduceRight((o,s)=>function use(e,t,n){return(r,o)=>Go(n,()=>t(r,s=>e(s,o)))}(o,s,this.injector),K2)}if(this.contributeToStability){const r=this.pendingTasks.add();return this.chain(n,o=>this.backend.handle(o)).pipe(Il(()=>this.pendingTasks.remove(r)))}return this.chain(n,r=>this.backend.handle(r))}static{this.\u0275fac=function(r){return new(r||e)(j(Xf),j(Vn))}}static{this.\u0275prov=L({token:e,factory:e.\u0275fac})}}return e})();const mse=/^\)\]\}',?\n/;let mD=(()=>{class e{constructor(n){this.xhrFactory=n}handle(n){if("JSONP"===n.method)throw new M(-2800,!1);const r=this.xhrFactory;return(r.\u0275loadImpl?Kt(r.\u0275loadImpl()):ne(null)).pipe(Sr(()=>new Ge(s=>{const i=r.build();if(i.open(n.method,n.urlWithParams),n.withCredentials&&(i.withCredentials=!0),n.headers.forEach((m,y)=>i.setRequestHeader(m,y.join(","))),n.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){const m=n.detectContentTypeHeader();null!==m&&i.setRequestHeader("Content-Type",m)}if(n.responseType){const m=n.responseType.toLowerCase();i.responseType="json"!==m?m:"text"}const a=n.serializeBody();let c=null;const l=()=>{if(null!==c)return c;const m=i.statusText||"OK",y=new nr(i.getAllResponseHeaders()),w=function _se(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(i)||n.url;return c=new S_({headers:y,status:i.status,statusText:m,url:w}),c},u=()=>{let{headers:m,status:y,statusText:w,url:v}=l(),N=null;204!==y&&(N=typeof i.response>"u"?i.responseText:i.response),0===y&&(y=N?200:0);let V=y>=200&&y<300;if("json"===n.responseType&&"string"==typeof N){const H=N;N=N.replace(mse,"");try{N=""!==N?JSON.parse(N):null}catch(ae){N=H,V&&(V=!1,N={error:ae,text:N})}}V?(s.next(new si({body:N,headers:m,status:y,statusText:w,url:v||void 0})),s.complete()):s.error(new xl({error:N,headers:m,status:y,statusText:w,url:v||void 0}))},d=m=>{const{url:y}=l(),w=new xl({error:m,status:i.status||0,statusText:i.statusText||"Unknown Error",url:y||void 0});s.error(w)};let f=!1;const h=m=>{f||(s.next(l()),f=!0);let y={type:oi.DownloadProgress,loaded:m.loaded};m.lengthComputable&&(y.total=m.total),"text"===n.responseType&&i.responseText&&(y.partialText=i.responseText),s.next(y)},g=m=>{let y={type:oi.UploadProgress,loaded:m.loaded};m.lengthComputable&&(y.total=m.total),s.next(y)};return i.addEventListener("load",u),i.addEventListener("error",d),i.addEventListener("timeout",d),i.addEventListener("abort",d),n.reportProgress&&(i.addEventListener("progress",h),null!==a&&i.upload&&i.upload.addEventListener("progress",g)),i.send(a),s.next({type:oi.Sent}),()=>{i.removeEventListener("error",d),i.removeEventListener("abort",d),i.removeEventListener("load",u),i.removeEventListener("timeout",d),n.reportProgress&&(i.removeEventListener("progress",h),null!==a&&i.upload&&i.upload.removeEventListener("progress",g)),i.readyState!==i.DONE&&i.abort()}})))}static{this.\u0275fac=function(r){return new(r||e)(j(zm))}}static{this.\u0275prov=L({token:e,factory:e.\u0275fac})}}return e})();const _D=new P(""),tV=new P("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),nV=new P("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class rV{}let bse=(()=>{class e{constructor(n,r,o){this.doc=n,this.platform=r,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=D1(n,this.cookieName),this.lastCookieString=n),this.lastToken}static{this.\u0275fac=function(r){return new(r||e)(j(Er),j(yo),j(tV))}}static{this.\u0275prov=L({token:e,factory:e.\u0275fac})}}return e})();function Ese(e,t){const n=e.url.toLowerCase();if(!I(_D)||"GET"===e.method||"HEAD"===e.method||n.startsWith("http://")||n.startsWith("https://"))return t(e);const r=I(rV).getToken(),o=I(nV);return null!=r&&!e.headers.has(o)&&(e=e.clone({headers:e.headers.set(o,r)})),t(e)}var ii=function(e){return e[e.Interceptors=0]="Interceptors",e[e.LegacyInterceptors=1]="LegacyInterceptors",e[e.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",e[e.NoXsrfProtection=3]="NoXsrfProtection",e[e.JsonpSupport=4]="JsonpSupport",e[e.RequestsMadeViaParent=5]="RequestsMadeViaParent",e[e.Fetch=6]="Fetch",e}(ii||{});function Ea(e,t){return{\u0275kind:e,\u0275providers:t}}function Cse(...e){const t=[G2,mD,J2,{provide:C_,useExisting:J2},{provide:Xf,useFactory:()=>I(pD,{optional:!0})??I(mD)},{provide:Zf,useValue:Ese,multi:!0},{provide:_D,useValue:!0},{provide:rV,useClass:bse}];for(const n of e)t.push(...n.\u0275providers);return Ic(t)}const oV=new P(""),Nse={100:{code:100,text:"Continue",description:'"The initial part of a request has been received and has not yet been rejected by the server."',spec_title:"RFC7231#6.2.1",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.2.1"},101:{code:101,text:"Switching Protocols",description:'"The server understands and is willing to comply with the client\'s request, via the Upgrade header field, for a change in the application protocol being used on this connection."',spec_title:"RFC7231#6.2.2",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.2.2"},200:{code:200,text:"OK",description:'"The request has succeeded."',spec_title:"RFC7231#6.3.1",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.3.1"},201:{code:201,text:"Created",description:'"The request has been fulfilled and has resulted in one or more new resources being created."',spec_title:"RFC7231#6.3.2",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.3.2"},202:{code:202,text:"Accepted",description:'"The request has been accepted for processing, but the processing has not been completed."',spec_title:"RFC7231#6.3.3",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.3.3"},203:{code:203,text:"Non-Authoritative Information",description:'"The request was successful but the enclosed payload has been modified from that of the origin server\'s 200 (OK) response by a transforming proxy."',spec_title:"RFC7231#6.3.4",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.3.4"},204:{code:204,text:"No Content",description:'"The server has successfully fulfilled the request and that there is no additional content to send in the response payload body."',spec_title:"RFC7231#6.3.5",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.3.5"},205:{code:205,text:"Reset Content",description:'"The server has fulfilled the request and desires that the user agent reset the "document view", which caused the request to be sent, to its original state as received from the origin server."',spec_title:"RFC7231#6.3.6",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.3.6"},206:{code:206,text:"Partial Content",description:'"The server is successfully fulfilling a range request for the target resource by transferring one or more parts of the selected representation that correspond to the satisfiable ranges found in the requests\'s Range header field."',spec_title:"RFC7233#4.1",spec_href:"https://tools.ietf.org/html/rfc7233#section-4.1"},300:{code:300,text:"Multiple Choices",description:'"The target resource has more than one representation, each with its own more specific identifier, and information about the alternatives is being provided so that the user (or user agent) can select a preferred representation by redirecting its request to one or more of those identifiers."',spec_title:"RFC7231#6.4.1",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.4.1"},301:{code:301,text:"Moved Permanently",description:'"The target resource has been assigned a new permanent URI and any future references to this resource ought to use one of the enclosed URIs."',spec_title:"RFC7231#6.4.2",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.4.2"},302:{code:302,text:"Found",description:'"The target resource resides temporarily under a different URI."',spec_title:"RFC7231#6.4.3",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.4.3"},303:{code:303,text:"See Other",description:'"The server is redirecting the user agent to a different resource, as indicated by a URI in the Location header field, that is intended to provide an indirect response to the original request."',spec_title:"RFC7231#6.4.4",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.4.4"},304:{code:304,text:"Not Modified",description:'"A conditional GET request has been received and would have resulted in a 200 (OK) response if it were not for the fact that the condition has evaluated to false."',spec_title:"RFC7232#4.1",spec_href:"https://tools.ietf.org/html/rfc7232#section-4.1"},305:{code:305,text:"Use Proxy",description:"*deprecated*",spec_title:"RFC7231#6.4.5",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.4.5"},307:{code:307,text:"Temporary Redirect",description:'"The target resource resides temporarily under a different URI and the user agent MUST NOT change the request method if it performs an automatic redirection to that URI."',spec_title:"RFC7231#6.4.7",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.4.7"},400:{code:400,text:"Bad Request",description:'"The server cannot or will not process the request because the received syntax is invalid, nonsensical, or exceeds some limitation on what the server is willing to process."',spec_title:"RFC7231#6.5.1",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.1"},401:{code:401,text:"Unauthorized",description:'"The request has not been applied because it lacks valid authentication credentials for the target resource."',spec_title:"RFC7235#6.3.1",spec_href:"https://tools.ietf.org/html/rfc7235#section-3.1"},402:{code:402,text:"Payment Required",description:"*reserved*",spec_title:"RFC7231#6.5.2",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.2"},403:{code:403,text:"Forbidden",description:'"The server understood the request but refuses to authorize it."',spec_title:"RFC7231#6.5.3",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.3"},404:{code:404,text:"Not Found",description:'"The origin server did not find a current representation for the target resource or is not willing to disclose that one exists."',spec_title:"RFC7231#6.5.4",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.4"},405:{code:405,text:"Method Not Allowed",description:'"The method specified in the request-line is known by the origin server but not supported by the target resource."',spec_title:"RFC7231#6.5.5",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.5"},406:{code:406,text:"Not Acceptable",description:'"The target resource does not have a current representation that would be acceptable to the user agent, according to the proactive negotiation header fields received in the request, and the server is unwilling to supply a default representation."',spec_title:"RFC7231#6.5.6",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.6"},407:{code:407,text:"Proxy Authentication Required",description:'"The client needs to authenticate itself in order to use a proxy."',spec_title:"RFC7231#6.3.2",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.3.2"},408:{code:408,text:"Request Timeout",description:'"The server did not receive a complete request message within the time that it was prepared to wait."',spec_title:"RFC7231#6.5.7",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.7"},409:{code:409,text:"Conflict",description:'"The request could not be completed due to a conflict with the current state of the resource."',spec_title:"RFC7231#6.5.8",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.8"},410:{code:410,text:"Gone",description:'"Access to the target resource is no longer available at the origin server and that this condition is likely to be permanent."',spec_title:"RFC7231#6.5.9",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.9"},411:{code:411,text:"Length Required",description:'"The server refuses to accept the request without a defined Content-Length."',spec_title:"RFC7231#6.5.10",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.10"},412:{code:412,text:"Precondition Failed",description:'"One or more preconditions given in the request header fields evaluated to false when tested on the server."',spec_title:"RFC7232#4.2",spec_href:"https://tools.ietf.org/html/rfc7232#section-4.2"},413:{code:413,text:"Payload Too Large",description:'"The server is refusing to process a request because the request payload is larger than the server is willing or able to process."',spec_title:"RFC7231#6.5.11",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.11"},414:{code:414,text:"URI Too Long",description:'"The server is refusing to service the request because the request-target is longer than the server is willing to interpret."',spec_title:"RFC7231#6.5.12",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.12"},415:{code:415,text:"Unsupported Media Type",description:'"The origin server is refusing to service the request because the payload is in a format not supported by the target resource for this method."',spec_title:"RFC7231#6.5.13",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.13"},416:{code:416,text:"Range Not Satisfiable",description:'"None of the ranges in the request\'s Range header field overlap the current extent of the selected resource or that the set of ranges requested has been rejected due to invalid ranges or an excessive request of small or overlapping ranges."',spec_title:"RFC7233#4.4",spec_href:"https://tools.ietf.org/html/rfc7233#section-4.4"},417:{code:417,text:"Expectation Failed",description:'"The expectation given in the request\'s Expect header field could not be met by at least one of the inbound servers."',spec_title:"RFC7231#6.5.14",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.14"},418:{code:418,text:"I'm a teapot",description:'"1988 April Fools Joke. Returned by tea pots requested to brew coffee."',spec_title:"RFC 2324",spec_href:"https://tools.ietf.org/html/rfc2324"},426:{code:426,text:"Upgrade Required",description:'"The server refuses to perform the request using the current protocol but might be willing to do so after the client upgrades to a different protocol."',spec_title:"RFC7231#6.5.15",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.15"},500:{code:500,text:"Internal Server Error",description:'"The server encountered an unexpected condition that prevented it from fulfilling the request."',spec_title:"RFC7231#6.6.1",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.6.1"},501:{code:501,text:"Not Implemented",description:'"The server does not support the functionality required to fulfill the request."',spec_title:"RFC7231#6.6.2",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.6.2"},502:{code:502,text:"Bad Gateway",description:'"The server, while acting as a gateway or proxy, received an invalid response from an inbound server it accessed while attempting to fulfill the request."',spec_title:"RFC7231#6.6.3",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.6.3"},503:{code:503,text:"Service Unavailable",description:'"The server is currently unable to handle the request due to a temporary overload or scheduled maintenance, which will likely be alleviated after some delay."',spec_title:"RFC7231#6.6.4",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.6.4"},504:{code:504,text:"Gateway Time-out",description:'"The server, while acting as a gateway or proxy, did not receive a timely response from an upstream server it needed to access in order to complete the request."',spec_title:"RFC7231#6.6.5",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.6.5"},505:{code:505,text:"HTTP Version Not Supported",description:'"The server does not support, or refuses to support, the protocol version that was used in the request message."',spec_title:"RFC7231#6.6.6",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.6.6"},102:{code:102,text:"Processing",description:'"An interim response to inform the client that the server has accepted the complete request, but has not yet completed it."',spec_title:"RFC5218#10.1",spec_href:"https://tools.ietf.org/html/rfc2518#section-10.1"},207:{code:207,text:"Multi-Status",description:'"Status for multiple independent operations."',spec_title:"RFC5218#10.2",spec_href:"https://tools.ietf.org/html/rfc2518#section-10.2"},226:{code:226,text:"IM Used",description:'"The server has fulfilled a GET request for the resource, and the response is a representation of the result of one or more instance-manipulations applied to the current instance."',spec_title:"RFC3229#10.4.1",spec_href:"https://tools.ietf.org/html/rfc3229#section-10.4.1"},308:{code:308,text:"Permanent Redirect",description:'"The target resource has been assigned a new permanent URI and any future references to this resource SHOULD use one of the returned URIs. [...] This status code is similar to 301 Moved Permanently (Section 7.3.2 of rfc7231), except that it does not allow rewriting the request method from POST to GET."',spec_title:"RFC7238",spec_href:"https://tools.ietf.org/html/rfc7238"},422:{code:422,text:"Unprocessable Entity",description:'"The server understands the content type of the request entity (hence a 415(Unsupported Media Type) status code is inappropriate), and the syntax of the request entity is correct (thus a 400 (Bad Request) status code is inappropriate) but was unable to process the contained instructions."',spec_title:"RFC5218#10.3",spec_href:"https://tools.ietf.org/html/rfc2518#section-10.3"},423:{code:423,text:"Locked",description:'"The source or destination resource of a method is locked."',spec_title:"RFC5218#10.4",spec_href:"https://tools.ietf.org/html/rfc2518#section-10.4"},424:{code:424,text:"Failed Dependency",description:'"The method could not be performed on the resource because the requested action depended on another action and that action failed."',spec_title:"RFC5218#10.5",spec_href:"https://tools.ietf.org/html/rfc2518#section-10.5"},428:{code:428,text:"Precondition Required",description:'"The origin server requires the request to be conditional."',spec_title:"RFC6585#3",spec_href:"https://tools.ietf.org/html/rfc6585#section-3"},429:{code:429,text:"Too Many Requests",description:'"The user has sent too many requests in a given amount of time ("rate limiting")."',spec_title:"RFC6585#4",spec_href:"https://tools.ietf.org/html/rfc6585#section-4"},431:{code:431,text:"Request Header Fields Too Large",description:'"The server is unwilling to process the request because its header fields are too large."',spec_title:"RFC6585#5",spec_href:"https://tools.ietf.org/html/rfc6585#section-5"},451:{code:451,text:"Unavailable For Legal Reasons",description:'"The server is denying access to the resource in response to a legal demand."',spec_title:"draft-ietf-httpbis-legally-restricted-status",spec_href:"https://tools.ietf.org/html/draft-ietf-httpbis-legally-restricted-status"},506:{code:506,text:"Variant Also Negotiates",description:'"The server has an internal configuration error: the chosen variant resource is configured to engage in transparent content negotiation itself, and is therefore not a proper end point in the negotiation process."',spec_title:"RFC2295#8.1",spec_href:"https://tools.ietf.org/html/rfc2295#section-8.1"},507:{code:507,text:"Insufficient Storage",description:'The method could not be performed on the resource because the server is unable to store the representation needed to successfully complete the request."',spec_title:"RFC5218#10.6",spec_href:"https://tools.ietf.org/html/rfc2518#section-10.6"},511:{code:511,text:"Network Authentication Required",description:'"The client needs to authenticate to gain network access."',spec_title:"RFC6585#6",spec_href:"https://tools.ietf.org/html/rfc6585#section-6"}};class yD{}class Pse{}let M_=(()=>{class e{constructor(n={}){Object.assign(this,{caseSensitiveSearch:!1,dataEncapsulation:!1,delay:500,delete404:!1,passThruUnknownUrl:!1,post204:!0,post409:!1,put204:!0,put404:!1,apiBase:void 0,host:void 0,rootPath:void 0},n)}static{this.\u0275fac=function(r){return new(r||e)(j(Pse))}}static{this.\u0275prov=L({token:e,factory:e.\u0275fac})}}return e})();class jse{constructor(t,n={}){this.inMemDbService=t,this.config=new M_,this.db={},this.requestInfoUtils=this.getRequestInfoUtils();const r=this.getLocation("/");this.config.host=r.host,this.config.rootPath=r.path,Object.assign(this.config,n)}get dbReady(){return this.dbReadySubject||(this.dbReadySubject=new xn(!1),this.resetDb()),this.dbReadySubject.asObservable().pipe(cs(t=>t))}handleRequest(t){return this.dbReady.pipe(ha(()=>this.handleRequest_(t)))}handleRequest_(t){const n=t.urlWithParams?t.urlWithParams:t.url,r=this.bind("parseRequestUrl"),o=r&&r(n,this.requestInfoUtils)||this.parseRequestUrl(n),s=o.collectionName,i=this.db[s],a={req:t,apiBase:o.apiBase,collection:i,collectionName:s,headers:this.createHeaders({"Content-Type":"application/json"}),id:this.parseId(i,s,o.id),method:this.getRequestMethod(t),query:o.query,resourceUrl:o.resourceUrl,url:n,utils:this.requestInfoUtils};let c;if(/commands\/?$/i.test(a.apiBase))return this.commands(a);const l=this.bind(a.method);if(l){const u=l(a);if(u)return u}return this.db[s]?this.createResponse$(()=>this.collectionHandler(a)):this.config.passThruUnknownUrl?this.getPassThruBackend().handle(t):(c=this.createErrorResponseOptions(n,404,`Collection '${s}' not found`),this.createResponse$(()=>c))}addDelay(t){const n=this.config.delay;return 0===n?t:function kse(e,t){return new Ge(n=>{let r=!1,o=!1;const s=e.subscribe(i=>{o=!0,setTimeout(()=>{n.next(i),r&&n.complete()},t)},i=>setTimeout(()=>n.error(i),t),()=>{r=!0,o||n.complete()});return()=>s.unsubscribe()})}(t,n||500)}applyQuery(t,n){const r=[],o=this.config.caseSensitiveSearch?void 0:"i";n.forEach((i,a)=>{i.forEach(c=>r.push({name:a,rx:new RegExp(decodeURI(c),o)}))});const s=r.length;return s?t.filter(i=>{let a=!0,c=s;for(;a&&c;){c-=1;const l=r[c];a=l.rx.test(i[l.name])}return a}):t}bind(t){const n=this.inMemDbService[t];return n?n.bind(this.inMemDbService):void 0}bodify(t){return this.config.dataEncapsulation?{data:t}:t}clone(t){return JSON.parse(JSON.stringify(t))}collectionHandler(t){let n;switch(t.method){case"get":n=this.get(t);break;case"post":n=this.post(t);break;case"put":n=this.put(t);break;case"delete":n=this.delete(t);break;default:n=this.createErrorResponseOptions(t.url,405,"Method not allowed")}const r=this.bind("responseInterceptor");return r?r(n,t):n}commands(t){const n=t.collectionName.toLowerCase(),r=t.method;let o={url:t.url};switch(n){case"resetdb":return o.status=204,this.resetDb(t).pipe(ha(()=>this.createResponse$(()=>o,!1)));case"config":if("get"===r)o.status=200,o.body=this.clone(this.config);else{const s=this.getJsonBody(t.req);Object.assign(this.config,s),this.passThruBackend=void 0,o.status=204}break;default:o=this.createErrorResponseOptions(t.url,500,`Unknown command "${n}"`)}return this.createResponse$(()=>o,!1)}createErrorResponseOptions(t,n,r){return{body:{error:`${r}`},url:t,headers:this.createHeaders({"Content-Type":"application/json"}),status:n}}createResponse$(t,n=!0){const r=this.createResponseOptions$(t);let o=this.createResponse$fromResponseOptions$(r);return n?this.addDelay(o):o}createResponseOptions$(t){return new Ge(n=>{let r;try{r=t()}catch(s){r=this.createErrorResponseOptions("",500,`${s.message||s}`)}const o=r.status;try{r.statusText=null!=o?function xse(e){return Nse[e+""].text||"Unknown Status"}(o):void 0}catch{}return null!=o&&function Fse(e){return e>=200&&e<300}(o)?(n.next(r),n.complete()):n.error(r),()=>{}})}delete({collection:t,collectionName:n,headers:r,id:o,url:s}){return null==o?this.createErrorResponseOptions(s,404,`Missing "${n}" id`):{headers:r,status:this.removeById(t,o)||!this.config.delete404?204:404}}findById(t,n){return t.find(r=>r.id===n)}genId(t,n){const r=this.bind("genId");if(r){const o=r(t,n);if(null!=o)return o}return this.genIdDefault(t,n)}genIdDefault(t,n){if(!this.isCollectionIdNumeric(t,n))throw new Error(`Collection '${n}' id type is non-numeric or unknown. Can only generate numeric ids.`);let r=0;return t.reduce((o,s)=>{r=Math.max(r,"number"==typeof s.id?s.id:r)},void 0),r+1}get({collection:t,collectionName:n,headers:r,id:o,query:s,url:i}){let a=t;return null!=o&&""!==o?a=this.findById(t,o):s&&(a=this.applyQuery(t,s)),a?{body:this.bodify(this.clone(a)),headers:r,status:200}:this.createErrorResponseOptions(i,404,`'${n}' with id='${o}' not found`)}getLocation(t){if(!t.startsWith("http")){const n=typeof document>"u"?void 0:document,r=n?n.location.protocol+"//"+n.location.host:"http://fake";t=t.startsWith("/")?r+t:r+"/"+t}return function Lse(e){const n=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(e),r={source:"",protocol:"",authority:"",userInfo:"",user:"",password:"",host:"",port:"",relative:"",path:"",directory:"",file:"",query:"",anchor:""},o=Object.keys(r);let s=o.length;for(;s--;)r[o[s]]=n&&n[s]||"";return r}(t)}getPassThruBackend(){return this.passThruBackend?this.passThruBackend:this.passThruBackend=this.createPassThruBackend()}getRequestInfoUtils(){return{createResponse$:this.createResponse$.bind(this),findById:this.findById.bind(this),isCollectionIdNumeric:this.isCollectionIdNumeric.bind(this),getConfig:()=>this.config,getDb:()=>this.db,getJsonBody:this.getJsonBody.bind(this),getLocation:this.getLocation.bind(this),getPassThruBackend:this.getPassThruBackend.bind(this),parseRequestUrl:this.parseRequestUrl.bind(this)}}indexOf(t,n){return t.findIndex(r=>r.id===n)}parseId(t,n,r){if(!this.isCollectionIdNumeric(t,n))return r;const o=parseFloat(r);return isNaN(o)?r:o}isCollectionIdNumeric(t,n){return!(!t||!t[0])&&"number"==typeof t[0].id}parseRequestUrl(t){try{const n=this.getLocation(t);let r=(this.config.rootPath||"").length,o="";n.host!==this.config.host&&(r=1,o=n.protocol+"//"+n.host+"/");const i=n.path.substring(r).split("/");let c,a=0;null==this.config.apiBase?c=i[a++]:(c=function Vse(e){return e.replace(/\/$/,"")}(this.config.apiBase.trim()),a=c?c.split("/").length:0),c+="/";let l=i[a++];l=l&&l.split(".")[0];return{apiBase:c,collectionName:l,id:i[a++],query:this.createQueryMap(n.query),resourceUrl:o+c+l+"/"}}catch(n){throw new Error(`unable to parse url '${t}'; original error: ${n.message}`)}}post({collection:t,collectionName:n,headers:r,id:o,req:s,resourceUrl:i,url:a}){const c=this.clone(this.getJsonBody(s));if(null==c.id)try{c.id=o||this.genId(t,n)}catch(d){const f=d.message||"";return/id type is non-numeric/.test(f)?this.createErrorResponseOptions(a,422,f):this.createErrorResponseOptions(a,500,`Failed to generate new id for '${n}'`)}if(o&&o!==c.id)return this.createErrorResponseOptions(a,400,"Request id does not match item.id");const l=this.indexOf(t,o=c.id),u=this.bodify(c);return-1===l?(t.push(c),r.set("Location",i+"/"+o),{headers:r,body:u,status:201}):this.config.post409?this.createErrorResponseOptions(a,409,`'${n}' item with id='${o} exists and may not be updated with POST; use PUT instead.`):(t[l]=c,this.config.post204?{headers:r,status:204}:{headers:r,body:u,status:200})}put({collection:t,collectionName:n,headers:r,id:o,req:s,url:i}){const a=this.clone(this.getJsonBody(s));if(null==a.id)return this.createErrorResponseOptions(i,404,`Missing '${n}' id`);if(o&&o!==a.id)return this.createErrorResponseOptions(i,400,`Request for '${n}' id does not match item.id`);const c=this.indexOf(t,o=a.id),l=this.bodify(a);return c>-1?(t[c]=a,this.config.put204?{headers:r,status:204}:{headers:r,body:l,status:200}):this.config.put404?this.createErrorResponseOptions(i,404,`'${n}' item with id='${o} not found and may not be created with PUT; use POST instead.`):(t.push(a),{headers:r,body:l,status:201})}removeById(t,n){const r=this.indexOf(t,n);return r>-1&&(t.splice(r,1),!0)}resetDb(t){this.dbReadySubject&&this.dbReadySubject.next(!1);const n=this.inMemDbService.createDb(t);return(n instanceof Ge?n:"function"==typeof n.then?Kt(n):ne(n)).pipe(cs()).subscribe(o=>{this.db=o,this.dbReadySubject&&this.dbReadySubject.next(!0)}),this.dbReady}}let Bse=(()=>{class e extends jse{constructor(n,r,o){super(n,r),this.xhrFactory=o}handle(n){try{return this.handleRequest(n)}catch(r){const s=this.createErrorResponseOptions(n.url,500,`${r.message||r}`);return this.createResponse$(()=>s)}}getJsonBody(n){return n.body}getRequestMethod(n){return(n.method||"get").toLowerCase()}createHeaders(n){return new nr(n)}createQueryMap(n){const r=new Map;if(n){const o=new ls({fromString:n});o.keys().forEach(s=>r.set(s,o.getAll(s)||[]))}return r}createResponse$fromResponseOptions$(n){return n.pipe(se(r=>new si(r)))}createPassThruBackend(){try{return new mD(this.xhrFactory)}catch(n){throw n.message="Cannot create passThru404 backend; "+(n.message||""),n}}static{this.\u0275fac=function(r){return new(r||e)(j(yD),j(M_,8),j(zm))}}static{this.\u0275prov=L({token:e,factory:e.\u0275fac})}}return e})();function Use(e,t,n){return new Bse(e,t,n)}let fV=(()=>{class e{static forRoot(n,r){return{ngModule:e,providers:[{provide:yD,useClass:n},{provide:M_,useValue:r},{provide:Xf,useFactory:Use,deps:[yD,M_,zm]}]}}static forFeature(n,r){return e.forRoot(n,r)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=Wo({type:e})}static{this.\u0275inj=co({})}}return e})(),hV=(()=>{class e{createDb(){const n={id:"metal",label:"Metal",bpm:180,genre:"Metal",tracks:[{name:"Snare",fileName:"metal/snare.mp3",steps:"____X_______X___".split("").map(C=>"X"===C)},{name:"Hats",fileName:"metal/crash.mp3",steps:"X___X___X___X___".split("").map(C=>"X"===C)},{name:"Kick",fileName:"metal/kick.mp3",steps:"XXXXXXXXXXXXXXXX".split("").map(C=>"X"===C)}]},r={id:"techno",label:"4 on the floor",bpm:128,genre:"Techno",tracks:[{name:"Snare",fileName:"techno/snare.wav",steps:"____X_______X___".split("").map(C=>"X"===C)},{name:"Hats",fileName:"techno/hat.wav",steps:"X_X_X_X_X_X_X_X_".split("").map(C=>"X"===C)},{name:"Kick",fileName:"techno/kick.wav",steps:"X   X   X   X   ".split("").map(C=>"X"===C)}]},o={id:"rock-beat",label:"Rock",bpm:145,genre:"Metal",tracks:[{name:"Snare",fileName:"metal/snare.mp3",steps:"    X       X   ".split("").map(C=>"X"===C)},{name:"Hats",fileName:"metal/hat.mp3",steps:"X   X   X   X   ".split("").map(C=>"X"===C)},{name:"Kick",fileName:"metal/kick.mp3",steps:"X       X       ".split("").map(C=>"X"===C)}]},s={id:"rock-beat-variation",label:"Rock variation",bpm:145,genre:"Metal",tracks:[{name:"Snare",fileName:"metal/snare.mp3",steps:"    X       X   ".split("").map(C=>"X"===C)},{name:"Crash",fileName:"metal/crash.mp3",steps:"X   X   X   X   ".split("").map(C=>"X"===C)},{name:"Kick",fileName:"metal/kick.mp3",steps:"X       X       ".split("").map(C=>"X"===C)}]},i={id:"psytrance",label:"Psytrance",bpm:135,genre:"Trance",tracks:[{name:"Closed hats",fileName:"psytrance/closed-hat.wav",steps:"X   X   X   X   ".split("").map(C=>"X"===C)},{name:"Open hats",fileName:"psytrance/open-hat.wav",steps:"  X   X   X   X ".split("").map(C=>"X"===C)},{name:"Snare",fileName:"psytrance/snare.wav",steps:"    X       X   ".split("").map(C=>"X"===C)},{name:"Kick",fileName:"psytrance/kick.wav",steps:"X   X   X   X   ".split("").map(C=>"X"===C)},{name:"Bass",fileName:"psytrance/bass.wav",steps:" XXX XXX XXX XXX".split("").map(C=>"X"===C)}]},a={id:"off-beat-techno-clap",label:"OffBeat clap",bpm:128,genre:"Techno",tracks:[{name:"Clap",fileName:"gabber/clap.wav",steps:"    X      XX       X      XX   ".split("").map(C=>"X"===C)},{name:"Hats",fileName:"techno/hat.wav",steps:"  X   X   X   X   X   X   X   X ".split("").map(C=>"X"===C)},{name:"Kick",fileName:"techno/kick.wav",steps:"X   X   X   X   X   X   X   X   ".split("").map(C=>"X"===C)}]},c={id:"jersey-club",label:"Jersey club",bpm:140,genre:"Breakbeat",tracks:[{name:"Bed squeak (low)",fileName:"jersey-club/squeak_low.mp3",steps:"X       X       ".split("").map(C=>"X"===C)},{name:"Bed squeak (high)",fileName:"jersey-club/squeak_high.mp3",steps:"    X       X   ".split("").map(C=>"X"===C)},{name:"Snare",fileName:"jersey-club/snare.mp3",steps:"X   X   X  X  X ".split("").map(C=>"X"===C)},{name:"Kick",fileName:"jersey-club/kick.mp3",steps:"X   X   X  X  X ".split("").map(C=>"X"===C)}]},l={id:"half-time-groove",label:"Half time groove",bpm:145,genre:"Metal",tracks:[{name:"Snare",fileName:"metal/snare.mp3",steps:"        X       ".split("").map(C=>"X"===C)},{name:"Crash",fileName:"metal/crash.mp3",steps:"X   X   X   X   ".split("").map(C=>"X"===C)},{name:"Kick",fileName:"metal/kick.mp3",steps:"X               ".split("").map(C=>"X"===C)}]},u={id:"garage",label:"Garage",bpm:130,genre:"Garage",tracks:[{name:"Snare",fileName:"techno/snare.wav",steps:"    X       X   ".split("").map(C=>"X"===C)},{name:"Hats",fileName:"techno/hat.wav",steps:"  X   X   X   X ".split("").map(C=>"X"===C)},{name:"Kick",fileName:"techno/kick.wav",steps:"X           X   ".split("").map(C=>"X"===C)}]},d={id:"gabber",label:"Gabber",bpm:200,genre:"Techno",tracks:[{name:"Crash Cymbal",fileName:"gabber/crash.wav",steps:"                               X".split("").map(C=>"X"===C)},{name:"Open HiHats",fileName:"gabber/open-hihat.wav",steps:"X X X X X X X X X X X X X X X X ".split("").map(C=>"X"===C)},{name:"Clap",fileName:"gabber/clap.wav",steps:"X   X   X   X   X   X   X   X   ".split("").map(C=>"X"===C)},{name:"Kick",fileName:"gabber/kick.wav",steps:"X   X   X   X   X   X   X   X   ".split("").map(C=>"X"===C)}]},f={id:"ebm",label:"EBM",bpm:120,genre:"Industrial",tracks:[{name:"Clap",fileName:"ebm/clap.wav",steps:[" "," ","X"," ","X"," ","X"," "," "," ","X"," "," "," ","X","X"," "," ","X","X","X","X"," "," "," ","X"," ","X"," "," ","X"," "].map(C=>"X"===C)},{name:"Open High-Hat",fileName:"ebm/open-hihat.wav",steps:[" "," ","X"," "," "," ","X"," "," "," ","X"," "," "," ","X"," "," "," ","X"," "," "," ","X"," "," "," ","X"," "," "," ","X"," "].map(C=>"X"===C)},{name:"Closed High-Hat",fileName:"ebm/closed-hihat.wav",steps:["X","X"," "," ","X","X"," "," ","X","X"," "," ","X","X"," "," ","X","X"," "," ","X","X"," "," ","X","X"," "," ","X","X"," "," "].map(C=>"X"===C)},{name:"Snare",fileName:"ebm/snare.wav",steps:"    X       X       X       X XX".split("").map(C=>"X"===C)},{name:"Kick",fileName:"ebm/kick.wav",steps:"X   X   X   X   X   X   X   X   ".split("").map(C=>"X"===C)}]},h={id:"dub",label:"Dub",bpm:140,genre:"Dub",tracks:[{name:"Kick",fileName:"dub/kick.wav",steps:"X_______X_______X_______X_______X_______X_______X_______X_______".split("").map(C=>"X"===C)},{name:"Sub Bass",fileName:"dub/sub.wav",steps:["X"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","X"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","X"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","X"," "," "," "," "," "," "," ","X"," "," "," "," "," "," "," "].map(C=>"X"===C)},{name:"Skank",fileName:"dub/skank.wav",steps:"____X_______X_______X_______X_______X_______X_______X_______X___".split("").map(C=>"X"===C)},{name:"Snare",fileName:"dub/snare.wav",steps:[" "," "," "," "," "," "," "," ","X"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","X"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","X"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","X"," ","X"," "," "," "," "," "].map(C=>"X"===C)},{name:"Arpeggio",fileName:"dub/arpeggio_si.wav",steps:"____X_______X_______X_______X_______X_______X_______X_______X___".split("").map(C=>"X"===C)},{name:"Closed Hat",fileName:"dub/closed-hat.wav",steps:[" "," "," "," ","X"," ","X"," "," "," "," "," ","X"," "," "," "," "," "," "," ","X","X","X"," "," "," "," "," ","X"," "," "," "," "," "," "," ","X"," ","X"," "," "," "," "," ","X","X"," "," "," "," "," "," ","X"," ","X"," "," "," "," "," ","X"," ","X","X"].map(C=>"X"===C)},{name:"Bass",fileName:"dub/bass.wav",steps:"X                                         X                     ".split("").map(C=>"X"===C)}]},g={id:"blast-beat",label:"Blast beat",bpm:180,genre:"Metal",tracks:[{name:"Snare",fileName:"metal/snare.mp3",steps:"_X_X_X_X_X_X_X_X".split("").map(C=>"X"===C)},{name:"Hats",fileName:"metal/hat.mp3",steps:"X_X_X_X_X_X_X_X_".split("").map(C=>"X"===C)},{name:"Kick",fileName:"metal/kick.mp3",steps:"X_X_X_X_X_X_X_X_".split("").map(C=>"X"===C)}]},m={id:"breakcore",label:"Breakcore",bpm:180,genre:"Breakbeat",tracks:[{name:"Snare (accent)",fileName:"techno/snare.wav",steps:"    X        X  ".split("").map(C=>"X"===C)},{name:"Snare (main)",fileName:"drum-n-bass/snare.wav",steps:"    X  X X   X  ".split("").map(C=>"X"===C)},{name:"Hats",fileName:"techno/hat.wav",steps:"XXXXXXXXXXXXXXXX".split("").map(C=>"X"===C)},{name:"Kick",fileName:"techno/kick.wav",steps:"X X       XX    ".split("").map(C=>"X"===C)}]},y={id:"drum-n-bass",label:"Drum & bass",bpm:170,genre:"Garage",tracks:[{name:"Snare",fileName:"drum-n-bass/snare.wav",steps:"    X       X   ".split("").map(C=>"X"===C)},{name:"Hats",fileName:"drum-n-bass/hat.wav",steps:"XXXXXXXXXXXXXXXX".split("").map(C=>"X"===C)},{name:"Kick",fileName:"drum-n-bass/kick.wav",steps:"X         X     ".split("").map(C=>"X"===C)}]},w={id:"dancehall-standard",label:"Standard dancehall",bpm:105,genre:"Dancehall",tracks:[{name:"Hats",fileName:"techno/hat.wav",steps:"XXXXXXXXXXXXXXXX".split("").map(C=>"X"===C)},{name:"Snare",fileName:"techno/snare.wav",steps:"      X       X ".split("").map(C=>"X"===C)},{name:"Kick",fileName:"techno/kick.wav",steps:"X  X  X X  X  X ".split("").map(C=>"X"===C)}]},v={id:"dancehall-reggaeton",label:"Reggaeton",bpm:105,genre:"Dancehall",tracks:[{name:"Hats",fileName:"techno/hat.wav",steps:"XXXXXXXXXXXXXXXX".split("").map(C=>"X"===C)},{name:"Snare",fileName:"techno/snare.wav",steps:"   X  X    X  X ".split("").map(C=>"X"===C)},{name:"Kick",fileName:"techno/kick.wav",steps:"X   X   X   X   ".split("").map(C=>"X"===C)}]};return{beats:[r,{id:"dancehall-modern",label:"Modern dancehall",bpm:105,genre:"Dancehall",tracks:[{name:"Hats",fileName:"techno/hat.wav",steps:"XXXXXXXXXXXXXXXX".split("").map(C=>"X"===C)},{name:"Rim",fileName:"techno/snare.wav",steps:"   X  X     X   ".split("").map(C=>"X"===C)},{name:"Kick",fileName:"techno/kick.wav",steps:"X         X     ".split("").map(C=>"X"===C)}]},w,v,y,m,g,h,f,n,o,s,i,a,c,l,u,d,{id:"punk-beat-quarter-note-groove",label:"Quarter note groove",bpm:170,genre:"Punk",tracks:[{name:"Hats",fileName:"metal/hat.mp3",steps:"X___X___X___X___".split("").map(C=>"X"===C)},{name:"Snare",fileName:"metal/snare.mp3",steps:"____X_______X___".split("").map(C=>"X"===C)},{name:"Kick",fileName:"metal/kick.mp3",steps:"X_______X_______".split("").map(C=>"X"===C)}]},{id:"punk-beat-quarter-note-groove-variation",label:"Quarter note groove variation",bpm:170,genre:"Punk",tracks:[{name:"Hats",fileName:"metal/hat.mp3",steps:"X___X___X___X___".split("").map(C=>"X"===C)},{name:"Snare",fileName:"metal/snare.mp3",steps:"____X_______X___".split("").map(C=>"X"===C)},{name:"Kick",fileName:"metal/kick.mp3",steps:"X_X_____X_X_____".split("").map(C=>"X"===C)}]},{id:"punk-beat-eight-note-fill",label:"Eight note fill",bpm:170,genre:"Punk",tracks:[{name:"Hats",fileName:"metal/hat.mp3",steps:"X_X_X_X_X_X_X_X_".split("").map(C=>"X"===C)},{name:"Snare",fileName:"metal/snare.mp3",steps:"____X_______X___".split("").map(C=>"X"===C)},{name:"Kick",fileName:"metal/kick.mp3",steps:"X_X___X_X_X_____".split("").map(C=>"X"===C)}]}]}}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const $se={sixteen:16,thirty_two:32,sixty_four:64},vD=new P("IManageBeats");class Hse{getAudioBuffer(t){return ba(function*(){const n=new Request(`assets/sounds/${t}`),o=yield(yield fetch(n)).arrayBuffer();return yield(new AudioContext).decodeAudioData(o).then(s=>s)})()}}let qse=(()=>{class e{getRenderedBuffer(n,r,o,s){var i=this;return ba(function*(){const a=i.getTickLength(o),c=new OfflineAudioContext(1,2*s*a*44100,44100);return n.forEach(l=>{i.getDuplicatedTrackSteps(l).forEach((d,f)=>{if(!d)return;const h=r.find(y=>y.fileName===l.fileName).sample,g=c.createBufferSource();g.buffer=h,g.connect(c.destination),g.start(f*a)})}),c.oncomplete=l=>l.renderedBuffer,yield c.startRendering()})()}getDuplicatedTrackSteps(n){const r=[...n.steps];return r.push(...n.steps),r}getTickLength(n){return 60/n/4}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),I_=(()=>{class e{static{this.maxBpm=1300}static{this.minBpm=30}constructor(n,r){this.soundGeneratorService=n,this.loader=r,this.audioFilesService=new Hse,this.bpm=120,this.isPlaying=!1,this.index=0,this.samples=[],this.tracks=[],this.stepNumber=16,this.loopBuffer=null,this.context=new AudioContext,this.playbackSource=new AudioBufferSourceNode(this.context)}playPause(){var n=this;return ba(function*(){n.isPlaying=!n.isPlaying,n.isPlaying?(n.loopBuffer||(n.loopBuffer=yield n.soundGeneratorService.getRenderedBuffer(n.tracks,n.samples,n.bpm,n.stepNumber)),n.play()):n.pause()})()}pause(){this.playbackSource.stop(this.context.currentTime),this.reset()}playSound(n){const r=this.context.createBufferSource();r.buffer=n,r.connect(this.context.destination),r.loop=!0,r.loopStart=r.buffer.duration/2,r.loopEnd=r.buffer.duration;const o=this.context.currentTime;r.start();const s=()=>{this.index=Math.trunc(1e3*(this.context.currentTime-o)/this.getMillisStepFromBpm()%this.stepNumber),this.isPlaying&&requestAnimationFrame(s)};s(),this.playbackSource.buffer&&this.playbackSource.stop(this.context.currentTime),this.playbackSource=r}getMillisStepFromBpm(){let r=6e4/this.bpm/4;return r=Math.min(r,1e3),r=Math.max(r,10),r}reset(){this.isPlaying=!1,this.index=0}resetLoopBuffer(){this.loopBuffer=null}setBpm(n){this.bpm=n}setTracks(n){this.tracks=[...n];const r=n.map(o=>o.fileName);this.loadTracks(r)}loadTracks(n){this.loader.start(),n.forEach(o=>this.samples.push({fileName:o}));const r=this.samples.map(o=>this.audioFilesService.getAudioBuffer(o.fileName).then(s=>o.sample=s));Promise.all(r).then(()=>this.loader.complete()).catch(()=>this.loader.complete())}setStepNumber(n){this.stepNumber=n}generateLoopBuffer(){var n=this;return ba(function*(){n.loopBuffer=yield n.soundGeneratorService.getRenderedBuffer(n.tracks,n.samples,n.bpm,n.stepNumber)})()}play(){this.loopBuffer&&this.playSound(this.loopBuffer)}playTrack(n){const r=this.context.createBufferSource(),o=this.tracks.find(s=>s.name==n)?.fileName;r.buffer=this.samples.find(s=>s.fileName===o).sample,r.connect(this.context.destination),r.start()}static{this.\u0275fac=function(r){return new(r||e)(j(qse),j(VS))}}static{this.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),zse=(()=>{class e{constructor(){this.maxBpm=I_.maxBpm,this.minBpm=I_.minBpm,this.bpm=I_.minBpm,this.bpmChange=new it}incrementBpm(){this.updateBpm(Math.min(this.bpm+1,this.maxBpm))}decrementBpm(){this.updateBpm(Math.max(this.bpm-1,this.minBpm))}updateNumber(n){let o=Number(n.target.value);o=Math.min(o,this.maxBpm),o=Math.max(o,this.minBpm),this.updateBpm(o)}updateBpm(n){this.bpm=n,this.bpmChange.emit(this.bpm)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=zo({type:e,selectors:[["app-bpm-input"]],inputs:{bpm:"bpm"},outputs:{bpmChange:"bpmChange"},standalone:!0,features:[aa],decls:4,vars:1,consts:[[1,"number-control"],[1,"number-left","cursor-pointer",3,"click"],["type","number","name","number",1,"number-quantity",3,"change","value"],[1,"number-right","cursor-pointer",3,"click"]],template:function(r,o){1&r&&(ve(0,"div",0)(1,"div",1),ft("click",function(){return o.decrementBpm()}),Te(),ve(2,"input",2),ft("change",function(i){return o.updateNumber(i)}),Te(),ve(3,"div",3),ft("click",function(){return o.incrementBpm()}),Te()()),2&r&&(Ye(2),gt("value",o.bpm))},styles:['.number-control[_ngcontent-%COMP%]{display:flex;align-items:center}.number-control[_ngcontent-%COMP%]   .number-left[_ngcontent-%COMP%]:before, .number-control[_ngcontent-%COMP%]   .number-right[_ngcontent-%COMP%]:after{content:attr(data-content);background-color:var(--backgroundColor);display:flex;align-items:center;justify-content:center;border:1px solid var(--borderColor);width:20px;color:var(--textColor)}.number-control[_ngcontent-%COMP%]   .number-left[_ngcontent-%COMP%]:before{border-bottom-left-radius:5px;border-top-left-radius:5px;content:"-"}.number-control[_ngcontent-%COMP%]   .number-right[_ngcontent-%COMP%]:after{content:"+";border-bottom-right-radius:5px;border-top-right-radius:5px}.number-control[_ngcontent-%COMP%]   .number-quantity[_ngcontent-%COMP%]{padding:.25rem;width:50px;height:12px;-moz-appearance:textfield;border:0;border-top:1px solid var(--borderColor);border-bottom:1px solid var(--borderColor);background-color:var(--backgroundColor);color:var(--textColor)}']})}}return e})(),pV=(()=>{class e{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static{this.\u0275fac=function(r){return new(r||e)(k(ns),k(Kn))}}static{this.\u0275dir=te({type:e})}}return e})(),Ca=(()=>{class e extends pV{static{this.\u0275fac=(()=>{let n;return function(o){return(n||(n=Bt(e)))(o||e)}})()}static{this.\u0275dir=te({type:e,features:[Fe]})}}return e})();const Ro=new P(""),Xse={provide:Ro,useExisting:Xe(()=>bD),multi:!0},Zse=new P("");let bD=(()=>{class e extends pV{constructor(n,r,o){super(n,r),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Kse(){const e=Js()?Js().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static{this.\u0275fac=function(r){return new(r||e)(k(ns),k(Kn),k(Zse,8))}}static{this.\u0275dir=te({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,o){1&r&&ft("input",function(i){return o._handleInput(i.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(i){return o._compositionEnd(i.target.value)})},features:[at([Xse]),Fe]})}}return e})();const mn=new P(""),ci=new P("");function DV(e){return null!=e}function MV(e){return _f(e)?Kt(e):e}function IV(e){let t={};return e.forEach(n=>{t=null!=n?{...t,...n}:t}),0===Object.keys(t).length?null:t}function TV(e,t){return t.map(n=>n(e))}function RV(e){return e.map(t=>function Qse(e){return!e.validate}(t)?t:n=>t.validate(n))}function ED(e){return null!=e?function OV(e){if(!e)return null;const t=e.filter(DV);return 0==t.length?null:function(n){return IV(TV(n,t))}}(RV(e)):null}function CD(e){return null!=e?function AV(e){if(!e)return null;const t=e.filter(DV);return 0==t.length?null:function(n){return function Wse(...e){const t=TL(e),{args:n,keys:r}=cL(e),o=new Ge(s=>{const{length:i}=n;if(!i)return void s.complete();const a=new Array(i);let c=i,l=i;for(let u=0;u<i;u++){let d=!1;Qr(n[u]).subscribe(Dt(s,f=>{d||(d=!0,l--),a[u]=f},()=>c--,void 0,()=>{(!c||!d)&&(l||s.next(r?RL(r,a):a),s.complete())}))}});return t?o.pipe(ML(t)):o}(TV(n,t).map(MV)).pipe(se(IV))}}(RV(e)):null}function kV(e,t){return null===e?[t]:Array.isArray(e)?[...e,t]:[e,t]}function wD(e){return e?Array.isArray(e)?e:[e]:[]}function R_(e,t){return Array.isArray(e)?e.includes(t):e===t}function FV(e,t){const n=wD(t);return wD(e).forEach(o=>{R_(n,o)||n.push(o)}),n}function PV(e,t){return wD(t).filter(n=>!R_(e,n))}class LV{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=ED(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=CD(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,n){return!!this.control&&this.control.hasError(t,n)}getError(t,n){return this.control?this.control.getError(t,n):null}}class On extends LV{get formDirective(){return null}get path(){return null}}class li extends LV{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class VV{constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}}let jV=(()=>{class e extends VV{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||e)(k(li,2))}}static{this.\u0275dir=te({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,o){2&r&&sa("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[Fe]})}}return e})();const Yf="VALID",A_="INVALID",Fl="PENDING",Qf="DISABLED";class Pl{}class UV extends Pl{constructor(t,n){super(),this.value=t,this.source=n}}class MD extends Pl{constructor(t,n){super(),this.pristine=t,this.source=n}}class ID extends Pl{constructor(t,n){super(),this.touched=t,this.source=n}}class k_ extends Pl{constructor(t,n){super(),this.status=t,this.source=n}}function N_(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class OD{constructor(t,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=wf(()=>this.statusReactive()),this.statusReactive=Qc(void 0),this._pristine=wf(()=>this.pristineReactive()),this.pristineReactive=Qc(!0),this._touched=wf(()=>this.touchedReactive()),this.touchedReactive=Qc(!1),this._events=new Nt,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return So(this.statusReactive)}set status(t){So(()=>this.statusReactive.set(t))}get valid(){return this.status===Yf}get invalid(){return this.status===A_}get pending(){return this.status==Fl}get disabled(){return this.status===Qf}get enabled(){return this.status!==Qf}get pristine(){return So(this.pristineReactive)}set pristine(t){So(()=>this.pristineReactive.set(t))}get dirty(){return!this.pristine}get touched(){return So(this.touchedReactive)}set touched(t){So(()=>this.touchedReactive.set(t))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(FV(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(FV(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(PV(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(PV(t,this._rawAsyncValidators))}hasValidator(t){return R_(this._rawValidators,t)}hasAsyncValidator(t){return R_(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){const n=!1===this.touched;this.touched=!0;const r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched({...t,sourceControl:r}),n&&!1!==t.emitEvent&&this._events.next(new ID(!0,r))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(t))}markAsUntouched(t={}){const n=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const r=t.sourceControl??this;this._forEachChild(o=>{o.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:r})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,r),n&&!1!==t.emitEvent&&this._events.next(new ID(!1,r))}markAsDirty(t={}){const n=!0===this.pristine;this.pristine=!1;const r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty({...t,sourceControl:r}),n&&!1!==t.emitEvent&&this._events.next(new MD(!1,r))}markAsPristine(t={}){const n=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const r=t.sourceControl??this;this._forEachChild(o=>{o.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,r),n&&!1!==t.emitEvent&&this._events.next(new MD(!0,r))}markAsPending(t={}){this.status=Fl;const n=t.sourceControl??this;!1!==t.emitEvent&&(this._events.next(new k_(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending({...t,sourceControl:n})}disable(t={}){const n=this._parentMarkedDirty(t.onlySelf);this.status=Qf,this.errors=null,this._forEachChild(o=>{o.disable({...t,onlySelf:!0})}),this._updateValue();const r=t.sourceControl??this;!1!==t.emitEvent&&(this._events.next(new UV(this.value,r)),this._events.next(new k_(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:n},this),this._onDisabledChange.forEach(o=>o(!0))}enable(t={}){const n=this._parentMarkedDirty(t.onlySelf);this.status=Yf,this._forEachChild(r=>{r.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:n},this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t,n){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){const r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Yf||this.status===Fl)&&this._runAsyncValidator(r,t.emitEvent)}const n=t.sourceControl??this;!1!==t.emitEvent&&(this._events.next(new UV(this.value,n)),this._events.next(new k_(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity({...t,sourceControl:n})}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Qf:Yf}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,n){if(this.asyncValidator){this.status=Fl,this._hasOwnPendingAsyncValidator={emitEvent:!1!==n};const r=MV(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(o=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(o,{emitEvent:n,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();const t=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(!1!==n.emitEvent,this,n.shouldHaveEmitted)}get(t){let n=t;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,o)=>r&&r._find(o),this)}getError(t,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,n,r){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||r)&&this._events.next(new k_(this.status,n)),this._parent&&this._parent._updateControlsErrors(t,n,r)}_initObservables(){this.valueChanges=new it,this.statusChanges=new it}_calculateStatus(){return this._allControlsDisabled()?Qf:this.errors?A_:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Fl)?Fl:this._anyControlsHaveStatus(A_)?A_:Yf}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,n){const r=!this._anyControlsDirty(),o=this.pristine!==r;this.pristine=r,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,n),o&&this._events.next(new MD(this.pristine,n))}_updateTouched(t={},n){this.touched=this._anyControlsTouched(),this._events.next(new ID(this.touched,n)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,n)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){N_(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function iie(e){return Array.isArray(e)?ED(e):e||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function aie(e){return Array.isArray(e)?CD(e):e||null}(this._rawAsyncValidators)}}const Ll=new P("CallSetDisabledState",{providedIn:"root",factory:()=>x_}),x_="always";function Jf(e,t,n=x_){(function kD(e,t){const n=function NV(e){return e._rawValidators}(e);null!==t.validator?e.setValidators(kV(n,t.validator)):"function"==typeof n&&e.setValidators([n]);const r=function xV(e){return e._rawAsyncValidators}(e);null!==t.asyncValidator?e.setAsyncValidators(kV(r,t.asyncValidator)):"function"==typeof r&&e.setAsyncValidators([r]);const o=()=>e.updateValueAndValidity();L_(t._rawValidators,o),L_(t._rawAsyncValidators,o)})(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||"always"===n)&&t.valueAccessor.setDisabledState?.(e.disabled),function uie(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&qV(e,t)})}(e,t),function fie(e,t){const n=(r,o)=>{t.valueAccessor.writeValue(r),o&&t.viewToModelUpdate(r)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}(e,t),function die(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&qV(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),function lie(e,t){if(t.valueAccessor.setDisabledState){const n=r=>{t.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}(e,t)}function L_(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function qV(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function GV(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}function XV(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}Promise.resolve();const KV=class extends OD{constructor(t=null,n,r){super(function TD(e){return(N_(e)?e.validators:e)||null}(n),function RD(e,t){return(N_(t)?t.asyncValidators:e)||null}(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),N_(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=XV(t)?t.value:t)}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){GV(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){GV(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){XV(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},bie={provide:li,useExisting:Xe(()=>LD)},QV=Promise.resolve();let LD=(()=>{class e extends li{constructor(n,r,o,s,i,a){super(),this._changeDetectorRef=i,this.callSetDisabledState=a,this.control=new KV,this._registered=!1,this.name="",this.update=new it,this._parent=n,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=function FD(e,t){if(!t)return null;let n,r,o;return Array.isArray(t),t.forEach(s=>{s.constructor===bD?n=s:function gie(e){return Object.getPrototypeOf(e.constructor)===Ca}(s)?r=s:o=s}),o||r||n||null}(0,s)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){const r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),function xD(e,t){if(!e.hasOwnProperty("model"))return!1;const n=e.model;return!!n.isFirstChange()||!Object.is(t,n.currentValue)}(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Jf(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){QV.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){const r=n.isDisabled.currentValue,o=0!==r&&function El(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}(r);QV.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?function F_(e,t){return[...t.path,e]}(n,this._parent):[n]}static{this.\u0275fac=function(r){return new(r||e)(k(On,9),k(mn,10),k(ci,10),k(Ro,10),k(vf,8),k(Ll,8))}}static{this.\u0275dir=te({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[at([bie]),Fe,gr]})}}return e})();const Aie={provide:Ro,useExisting:Xe(()=>j_),multi:!0};function ij(e,t){return null==e?`${t}`:(t&&"object"==typeof t&&(t="Object"),`${e}: ${t}`.slice(0,50))}let j_=(()=>{class e extends Ca{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;const o=ij(this._getOptionId(n),n);this.setProperty("value",o)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){const r=function kie(e){return e.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static{this.\u0275fac=(()=>{let n;return function(o){return(n||(n=Bt(e)))(o||e)}})()}static{this.\u0275dir=te({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,o){1&r&&ft("change",function(i){return o.onChange(i.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[at([Aie]),Fe]})}}return e})(),aj=(()=>{class e{constructor(n,r,o){this._element=n,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(n){null!=this._select&&(this._select._optionMap.set(this.id,n),this._setElementValue(ij(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||e)(k(Kn),k(ns),k(j_,9))}}static{this.\u0275dir=te({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return e})();const Nie={provide:Ro,useExisting:Xe(()=>UD),multi:!0};function cj(e,t){return null==e?`${t}`:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${e}: ${t}`.slice(0,50))}let UD=(()=>{class e extends Ca{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){let r;if(this.value=n,Array.isArray(n)){const o=n.map(s=>this._getOptionId(s));r=(s,i)=>{s._setSelected(o.indexOf(i.toString())>-1)}}else r=(o,s)=>{o._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{const o=[],s=r.selectedOptions;if(void 0!==s){const i=s;for(let a=0;a<i.length;a++){const l=this._getOptionValue(i[a].value);o.push(l)}}else{const i=r.options;for(let a=0;a<i.length;a++){const c=i[a];if(c.selected){const l=this._getOptionValue(c.value);o.push(l)}}}this.value=o,n(o)}}_registerOption(n){const r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){const r=function xie(e){return e.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static{this.\u0275fac=(()=>{let n;return function(o){return(n||(n=Bt(e)))(o||e)}})()}static{this.\u0275dir=te({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,o){1&r&&ft("change",function(i){return o.onChange(i.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[at([Nie]),Fe]})}}return e})(),lj=(()=>{class e{constructor(n,r,o){this._element=n,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){null!=this._select&&(this._value=n,this._setElementValue(cj(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(cj(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||e)(k(Kn),k(ns),k(UD,9))}}static{this.\u0275dir=te({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return e})(),Hie=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=Wo({type:e})}static{this.\u0275inj=co({})}}return e})(),vj=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:Ll,useValue:n.callSetDisabledState??x_}]}}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=Wo({type:e})}static{this.\u0275inj=co({imports:[Hie]})}}return e})();function zie(e,t){if(1&e&&(ve(0,"option",3),br(1),Te()),2&e){const n=t.$implicit;gt("value",n),Ye(),hm(n)}}let Wie=(()=>{class e{constructor(){this.elements=[],this.selectedElement="",this.placeHolder="",this.selectChange=new it}onSelectChange(){this.selectChange.emit(this.selectedElement)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=zo({type:e,selectors:[["app-select-input"]],inputs:{elements:"elements",selectedElement:"selectedElement",placeHolder:"placeHolder"},outputs:{selectChange:"selectChange"},standalone:!0,features:[aa],decls:4,vars:3,consts:[[1,"cursor-pointer",3,"ngModelChange","change","ngModel"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(r,o){1&r&&(ve(0,"select",0),Tw("ngModelChange",function(i){return function $F(e,t){const n=vN(e);return n&&e.set(t),n}(o.selectedElement,i)||(o.selectedElement=i),i}),ft("change",function(){return o.onSelectChange()}),ve(1,"option",1),br(2),Te(),yr(3,zie,2,2,"option",2),Te()),2&r&&(Iw("ngModel",o.selectedElement),Ye(2),hm(o.placeHolder),Ye(),gt("ngForOf",o.elements))},dependencies:[vj,aj,lj,j_,jV,LD,fS],styles:["select[_ngcontent-%COMP%]{border:1px var(--borderColor) solid;border-radius:5px;background-color:var(--backgroundColor);color:var(--textColor)}"]})}}return e})();function Gie(e,t){if(1&e){const n=function Vx(){return S()}();ve(0,"div",14),function dO(){Y.lFrame.currentNamespace=qR}(),ve(1,"svg",15),ft("mousedown",function(){const o=function YR(e){return Y.lFrame.contextLView=e,e[Ke]}(n).$implicit;return function QR(e){return Y.lFrame.contextLView=null,e}(Jn().playTrack(o.name))}),Xt(2,"g",16),ve(3,"g",17)(4,"g",18),Xt(5,"path",19)(6,"path",20)(7,"path",21)(8,"path",22)(9,"path",23),Te()(),ve(10,"g")(11,"g",24),Xt(12,"path",19)(13,"path",20)(14,"path",21)(15,"path",22)(16,"path",23),Te()()(),function fO(){!function CG(){Y.lFrame.currentNamespace=null}()}(),ve(17,"h3",25),br(18),Te()()}if(2&e){const n=t.$implicit;Ye(18),df(" ",n.name," ")}}function Xie(e,t){if(1&e&&Xt(0,"div",28),2&e){const n=t.$implicit,r=t.index,o=Jn(2);sa("active",n)("current",r===o.soundService.index)("highlight",o.Math.floor(r/4)%2==0)}}function Kie(e,t){if(1&e&&(ve(0,"article")(1,"div",26),yr(2,Xie,1,6,"div",27),Te()()),2&e){const n=t.$implicit,r=Jn();Ye(),sa("sixteen-steps",n.steps.length==r.StepLengths.sixteen)("thirty-two-steps",n.steps.length==r.StepLengths.thirty_two)("sixty-four-steps",n.steps.length==r.StepLengths.sixty_four),Ye(),gt("ngForOf",n.steps)}}let Zie=(()=>{class e{constructor(n,r,o){this._beatsManager=n,this.soundService=r,this.route=o,this.beat={},this.genre={},this.genresLabel=[],this.selectedGenreLabel="",this.beats=[],this.selectedBeatLabel="",this.genres=[],this.isTransitioning=!1,this.StepLengths=$se,this.Math=Math,this.beatBehaviourSubject=new Nt}ngOnInit(){this._beatsManager.getBeatsGroupedByGenres().then(n=>{this.genres=n,this.genresLabel=n.map(r=>r.label),this.route.queryParamMap.subscribe(r=>{this.selectGenre(n,r.get("genre"),r.get("beat"))})}).catch(n=>{console.log(n)}),this.beatBehaviourSubject.subscribe(n=>{this.soundService.isPlaying&&this.soundService.pause(),this.soundService.reset(),this.soundService.resetLoopBuffer(),this.soundService.setBpm(n.bpm),this.soundService.setTracks(n.tracks),this.soundService.setStepNumber(n.tracks[0].steps.length)})}toggleIsPlaying(){this.isTransitioning=!0,setTimeout(()=>{this.soundService.playPause().then(()=>{},()=>{}),this.isTransitioning=!1},100)}handleKeyboardEvent(n){"Space"==n.code&&this.toggleIsPlaying()}selectGenre(n,r,o){const s=r?n.find(a=>a.label===r):n[0];if(!s)return;this.genre=s,this.selectedGenreLabel=s.label,this.beats=s.beats.map(a=>a.label);const i=o?s.beats.find(a=>a.id===o):s.beats[0];this.selectBeat(i)}selectBeat(n){null!=n&&(this.beat=n,this.beatBehaviourSubject.next(this.beat),this.selectedBeatLabel=this.beat.label)}changeBeatBpm(n){const r=this.soundService.isPlaying;this.soundService.setBpm(n),this.soundService.generateLoopBuffer().then(()=>{r&&this.soundService.play()},()=>{})}genreChange(n){this.selectGenre(this.genres,n,null)}beatChange(n){const r=this.genres.find(o=>o.label===this.selectedGenreLabel)?.beats.find(o=>o.label===n);this.selectBeat(r)}playTrack(n){this.soundService.playTrack(n)}static{this.\u0275fac=function(r){return new(r||e)(k(vD),k(I_),k(va))}}static{this.\u0275cmp=zo({type:e,selectors:[["sequencer"]],hostBindings:function(r,o){1&r&&ft("keydown",function(i){return o.handleKeyboardEvent(i)},0,UA)},standalone:!0,features:[aa],decls:23,vars:14,consts:[["id","main-container"],[1,"play-button-container","flex"],[1,"play-pause-button","cursor-pointer",3,"click"],[1,"sequencer-header"],[1,"label"],[1,"small","user-select-none"],["placeHolder","Choose genre",3,"selectChange","elements","selectedElement"],[3,"selectChange","elements","selectedElement","placeHolder"],[1,"flex","label","bpm-input-group"],[3,"bpmChange","bpm"],[1,"tracks-name-container"],["class","tracks-name",4,"ngFor","ngForOf"],[1,"tracks-container"],[4,"ngFor","ngForOf"],[1,"tracks-name"],["role","img","viewBox","0 0 21 21","aria-hidden","true","focusable","false",1,"svg-icon","cursor-pointer",3,"mousedown"],["stroke-width","0"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","1.134"],["fill","none","fill-rule","evenodd","stroke","#000000","stroke-linecap","round","stroke-linejoin","round"],["d","m6.5 8.5v4"],["d","m8.5 6.5v9"],["d","m10.5 9.5v2"],["d","m12.5 7.5v6.814"],["d","m14.5 4.5v12"],["fill","none","fill-rule","evenodd","stroke-linecap","round","stroke-linejoin","round"],[1,"track-name","user-select-none"],["id","track"],["class","step",3,"active","current","highlight",4,"ngFor","ngForOf"],[1,"step"]],template:function(r,o){1&r&&(ve(0,"div",0)(1,"div",1)(2,"button",2),ft("click",function(){return o.toggleIsPlaying()}),br(3),Te()(),ve(4,"div",3)(5,"div",4)(6,"span",5),br(7,"Genre : "),Te(),ve(8,"app-select-input",6),ft("selectChange",function(i){return o.genreChange(i)}),Te()(),ve(9,"div",4)(10,"span",5),br(11,"Beat : "),Te(),ve(12,"app-select-input",7),ft("selectChange",function(i){return o.beatChange(i)}),Te()(),ve(13,"div",8)(14,"span",5),br(15,"Tempo : "),Te(),ve(16,"app-bpm-input",9),ft("bpmChange",function(i){return o.changeBeatBpm(i)}),Te(),ve(17,"span",5),br(18," bpm"),Te()()(),ve(19,"div",10),yr(20,Gie,19,1,"div",11),Te(),ve(21,"section",12),yr(22,Kie,3,7,"article",13),Te()()),2&r&&(Ye(2),sa("entering",o.isTransitioning)("entered",!o.isTransitioning),Ye(),df(" ",o.soundService.isPlaying?"\u23f8":"\u25b6"," "),Ye(5),gt("elements",o.genresLabel)("selectedElement",o.selectedGenreLabel),Ye(4),fm("placeHolder","Choose ",o.selectedGenreLabel," beat"),gt("elements",o.beats)("selectedElement",o.selectedBeatLabel),Ye(4),gt("bpm",o.beat.bpm),Ye(4),gt("ngForOf",o.beat.tracks),Ye(2),gt("ngForOf",o.beat.tracks))},dependencies:[fS,zse,Wie],styles:['html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%;margin:0}[_ngcontent-%COMP%]:root{font-family:Inter,sans-serif;font-feature-settings:"liga" 1,"calt" 1,"ss01" on}@supports (font-variation-settings: normal){[_ngcontent-%COMP%]:root{font-family:InterVariable,sans-serif}}a[_ngcontent-%COMP%]{all:unset}h3[_ngcontent-%COMP%]{margin:0}button[_ngcontent-%COMP%]{font-family:inherit;font-size:100%;line-height:1.15;margin:0;overflow:visible;text-transform:none;-webkit-appearance:button}.flex[_ngcontent-%COMP%]{display:flex}.mt-40[_ngcontent-%COMP%]{margin-top:40px}.mb-40[_ngcontent-%COMP%]{margin-bottom:40px}.mb-10[_ngcontent-%COMP%]{margin-bottom:10px}.ml-10[_ngcontent-%COMP%]{margin-left:10px}.user-select-none[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none}.cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}body.dark[_ngcontent-%COMP%]{--backgroundColor: #2e2e2e;--textColor: white;--borderColor: white;--menuButtonColor: #CC71FA;--gridHighLightColor: #474747;background-color:var(--backgroundColor);color:var(--textColor)}body.light[_ngcontent-%COMP%]{--backgroundColor: white;--textColor: black;--borderColor: black;--menuButtonColor: #70F1FA;--gridHighLightColor: #e8e8e8;background-color:var(--backgroundColor);color:var(--textColor)}#main-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:max-content auto;gap:10px;margin:0 10px}.sequencer-grid[_ngcontent-%COMP%]{flex-direction:column}#track[_ngcontent-%COMP%]{display:grid;grid-template-rows:repeat(1,1fr);gap:4px}#track[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]{height:40px;width:40px;background-color:var(--backgroundColor);border-radius:4px;border:1px solid var(--borderColor)}#track[_ngcontent-%COMP%]   .current[_ngcontent-%COMP%]{background:repeating-linear-gradient(-45deg,var(--backgroundColor),var(--backgroundColor) 10px,var(--textColor) 5px,var(--textColor) 15px)}#track[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%], #track[_ngcontent-%COMP%]   .active.highlight[_ngcontent-%COMP%]{background-color:#cc71fa}#track[_ngcontent-%COMP%]   .active.current[_ngcontent-%COMP%], #track[_ngcontent-%COMP%]   .active.highlight.current[_ngcontent-%COMP%]{background:repeating-linear-gradient(-45deg,#CC71FA,#CC71FA 10px,var(--backgroundColor) 5px,var(--backgroundColor) 15px)}#track[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%]{background:var(--gridHighLightColor)}#track[_ngcontent-%COMP%]   .current.highlight[_ngcontent-%COMP%]{background:repeating-linear-gradient(-45deg,var(--gridHighLightColor),var(--gridHighLightColor) 10px,var(--textColor) 5px,var(--textColor) 15px)}.sixteen-steps[_ngcontent-%COMP%]{grid-template-columns:repeat(16,1fr)}.thirty-two-steps[_ngcontent-%COMP%]{grid-template-columns:repeat(32,1fr)}.sixty-four-steps[_ngcontent-%COMP%]{grid-template-columns:repeat(64,1fr)}.tracks-container[_ngcontent-%COMP%]{grid-column-start:2;grid-row-start:2;display:grid;grid-template-columns:auto;gap:4px;overflow-x:auto}.tracks-name-container[_ngcontent-%COMP%]{margin-top:10px;grid-column-start:1;grid-row-start:2}.tracks-name-container[_ngcontent-%COMP%]   .tracks-name[_ngcontent-%COMP%]{display:flex;gap:10px}.tracks-name-container[_ngcontent-%COMP%]   .tracks-name[_ngcontent-%COMP%]   .svg-icon[_ngcontent-%COMP%]{stroke:var(--textColor);height:30px;width:30px}.tracks-name-container[_ngcontent-%COMP%]   .tracks-name[_ngcontent-%COMP%]   .track-name[_ngcontent-%COMP%]{white-space:nowrap;height:44px}.sequencer-header[_ngcontent-%COMP%]{grid-column-start:2;grid-row-start:1}.sequencer-header[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{vertical-align:bottom}.sequencer-header[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]   .small[_ngcontent-%COMP%]{font-size:small}.sequencer-header[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]   .large[_ngcontent-%COMP%]{font-size:large;font-weight:700}.sequencer-header[_ngcontent-%COMP%]   div[_ngcontent-%COMP%] + div[_ngcontent-%COMP%]{margin-top:5px}.sequencer-header[_ngcontent-%COMP%]   .bpm-input-group[_ngcontent-%COMP%]{align-items:center;gap:5px}.play-button-container[_ngcontent-%COMP%]{grid-column-start:1;grid-row-start:1;justify-content:center;align-items:center}.play-button-container[_ngcontent-%COMP%]   .play-pause-button[_ngcontent-%COMP%]{height:40px;width:40px;min-width:40px;background-color:var(--backgroundColor);color:var(--textColor);font-size:20px;border-radius:3px;border-style:solid;border-width:1px;border-color:color-mix(in srgb,var(--textColor) 30%,var(--backgroundColor));transition:transform .2s ease-in-out,opacity .2s ease-in-out,border-color .3s,border-radius .3s,color .3s,background-color .3s}.play-button-container[_ngcontent-%COMP%]   .play-pause-button[_ngcontent-%COMP%]:active{transform:scale(.9)}.play-button-container[_ngcontent-%COMP%]   .play-pause-button[_ngcontent-%COMP%]:hover{background-color:color-mix(in srgb,var(--textColor) 80%,var(--backgroundColor));color:var(--backgroundColor);border-radius:5px;border-color:color-mix(in srgb,var(--textColor) 80%,var(--backgroundColor))}.play-button-container[_ngcontent-%COMP%]   .play-pause-button.entering[_ngcontent-%COMP%]{transform:scale(.5)}.play-button-container[_ngcontent-%COMP%]   .play-pause-button.entered[_ngcontent-%COMP%]{transform:scale(1)}']})}}return e})();const p=function(e,t){if("function"==typeof e)return function(){return e(arguments)?t.apply(this,arguments):n=>t(n,...arguments)};switch(e){case 0:case 1:throw new RangeError(`Invalid arity ${e}`);case 2:return function(n,r){return arguments.length>=2?t(n,r):function(o){return t(o,n)}};case 3:return function(n,r,o){return arguments.length>=3?t(n,r,o):function(s){return t(s,n,r)}};case 4:return function(n,r,o,s){return arguments.length>=4?t(n,r,o,s):function(i){return t(i,n,r,o)}};case 5:return function(n,r,o,s,i){return arguments.length>=5?t(n,r,o,s,i):function(a){return t(a,n,r,o,s)}};default:return function(){if(arguments.length>=e)return t.apply(this,arguments);const n=arguments;return function(r){return t(r,...n)}}}},we=e=>e,B_=e=>()=>e,th=B_(!0),us=B_(!1),bj=B_(void 0),U_=bj;function _(e,t,n,r,o,s,i,a,c){switch(arguments.length){case 1:return e;case 2:return t(e);case 3:return n(t(e));case 4:return r(n(t(e)));case 5:return o(r(n(t(e))));case 6:return s(o(r(n(t(e)))));case 7:return i(s(o(r(n(t(e))))));case 8:return a(i(s(o(r(n(t(e)))))));case 9:return c(a(i(s(o(r(n(t(e))))))));default:{let l=arguments[0];for(let u=1;u<arguments.length;u++)l=arguments[u](l);return l}}}const $_=()=>"3.12.0",HD=Symbol.for(`effect/GlobalValue/globalStoreId/${$_()}`);HD in globalThis||(globalThis[HD]=new Map);const qD=globalThis[HD],me=(e,t)=>(qD.has(e)||qD.set(e,t()),qD.get(e)),nh=e=>"number"==typeof e,Sa=e=>"function"==typeof e,H_=e=>(e=>"object"==typeof e&&null!==e)(e)||Sa(e),G=p(2,(e,t)=>H_(e)&&t in e),q_=p(2,(e,t)=>G(e,"_tag")&&e._tag===t),Vl=e=>null==e,rh=e=>`BUG: ${e} - please report an issue at https://github.com/Effect-TS/effect/issues`;Symbol;class oh{self;called=!1;constructor(t){this.self=t}next(t){return this.called?{value:t,done:!0}:(this.called=!0,{value:this.self,done:!1})}return(t){return{value:t,done:!0}}throw(t){throw t}[Symbol.iterator](){return new oh(this.self)}}class iae{_state;constructor(t,n,r,o){return Vl(n)&&Vl(t)?(n=4294967295*Math.random()>>>0,t=0):Vl(n)&&(n=t,t=0),Vl(o)&&Vl(r)?(o=this._state?this._state[3]:4150755663,r=this._state?this._state[2]:335903614):Vl(o)&&(o=r,r=0),this._state=new Int32Array([0,0,r>>>0,(1|(o||0))>>>0]),this._next(),Ij(this._state,this._state[0],this._state[1],t>>>0,n>>>0),this._next(),this}getState(){return[this._state[0],this._state[1],this._state[2],this._state[3]]}setState(t){this._state[0]=t[0],this._state[1]=t[1],this._state[2]=t[2],this._state[3]=1|t[3]}integer(t){return Math.round(this.number()*Number.MAX_SAFE_INTEGER)%t}number(){return(1*(67108863&this._next())*134217728+1*(134217727&this._next()))/9007199254740992}_next(){const t=this._state[0]>>>0,n=this._state[1]>>>0;(function aae(e,t,n,r,o){let s=(n>>>16)*(65535&o)>>>0,i=(65535&n)*(o>>>16)>>>0,a=(65535&n)*(65535&o)>>>0,c=(n>>>16)*(o>>>16)+((i>>>16)+(s>>>16))>>>0;i=i<<16>>>0,a=a+i>>>0,a>>>0<i>>>0&&(c=c+1>>>0),s=s<<16>>>0,a=a+s>>>0,a>>>0<s>>>0&&(c=c+1>>>0),c=c+Math.imul(n,r)>>>0,c=c+Math.imul(t,o)>>>0,e[0]=c,e[1]=a})(this._state,t,n,1481765933,1284865837),Ij(this._state,this._state[0],this._state[1],this._state[2],this._state[3]);let r=t>>>18,o=(n>>>18|t<<14)>>>0;r=(r^t)>>>0,o=(o^n)>>>0;const s=(o>>>27|r<<5)>>>0,i=t>>>27;return(s>>>i|s<<((-i>>>0&31)>>>0))>>>0}}function Ij(e,t,n,r,o){let s=t+r>>>0;const i=n+o>>>0;i>>>0<n>>>0&&(s=s+1|0),e[0]=s,e[1]=i}const GD=Symbol.for("effect/Utils/YieldWrap");class sh{#e;constructor(t){this.#e=t}[GD](){return this.#e}}const Zt=me("effect/Utils/isStructuralRegion",()=>({enabled:!1,tester:void 0})),Yt=(e=>{const t={[e]:n=>n()};return function(n){return t[e](n)}})("effect_internal_function"),XD=me(Symbol.for("effect/Hash/randomHashCache"),()=>new WeakMap),Q=Symbol.for("effect/Hash"),B=e=>{if(!0===Zt.enabled)return 0;switch(typeof e){case"number":return KD(e);case"bigint":return ct(e.toString(10));case"boolean":case"symbol":return ct(String(e));case"string":return ct(e);case"undefined":return ct("undefined");case"function":case"object":return null===e?ct("null"):e instanceof Date?B(e.toISOString()):lae(e)?e[Q]():z_(e);default:throw new Error(`BUG: unhandled typeof ${typeof e} - please report an issue at https://github.com/Effect-TS/effect/issues`)}},z_=e=>(XD.has(e)||XD.set(e,KD(Math.floor(Math.random()*Number.MAX_SAFE_INTEGER))),XD.get(e)),ie=e=>t=>53*t^e,W_=e=>3221225471&e|e>>>1&1073741824,lae=e=>G(e,Q),KD=e=>{if(e!=e||e===1/0)return 0;let t=0|e;for(t!==e&&(t^=4294967295*e);e>4294967295;)t^=e/=4294967295;return W_(t)},ct=e=>{let t=5381,n=e.length;for(;n;)t=33*t^e.charCodeAt(--n);return W_(t)},Rj=e=>((e,t)=>{let n=12289;for(let r=0;r<t.length;r++)n^=_(ct(t[r]),ie(B(e[t[r]])));return W_(n)})(e,Object.keys(e)),Da=e=>{let t=6151;for(let n=0;n<e.length;n++)t=_(t,ie(B(e[n])));return W_(t)},$e=function(){if(1===arguments.length){const n=arguments[0];return function(r){return Object.defineProperty(n,Q,{value:()=>r,enumerable:!1}),r}}const t=arguments[1];return Object.defineProperty(arguments[0],Q,{value:()=>t,enumerable:!1}),t},J=Symbol.for("effect/Equal");function $(){return 1===arguments.length?e=>G_(e,arguments[0]):G_(arguments[0],arguments[1])}function G_(e,t){if(e===t)return!0;const n=typeof e;if(n!==typeof t)return!1;if("object"===n||"function"===n){if(null!==e&&null!==t){if(ih(e)&&ih(t))return!(B(e)!==B(t)||!e[J](t))||!(!Zt.enabled||!Zt.tester)&&Zt.tester(e,t);if(e instanceof Date&&t instanceof Date)return e.toISOString()===t.toISOString()}if(Zt.enabled){if(Array.isArray(e)&&Array.isArray(t))return e.length===t.length&&e.every((r,o)=>G_(r,t[o]));if(Object.getPrototypeOf(e)===Object.prototype&&Object.getPrototypeOf(e)===Object.prototype){const r=Object.keys(e),o=Object.keys(t);if(r.length===o.length){for(const s of r)if(!(s in t)||!G_(e[s],t[s]))return!!Zt.tester&&Zt.tester(e,t);return!0}}return!!Zt.tester&&Zt.tester(e,t)}}return!(!Zt.enabled||!Zt.tester)&&Zt.tester(e,t)}const ih=e=>G(e,J),ZD=()=>$,He=Symbol.for("nodejs.util.inspect.custom"),rt=e=>{try{if(G(e,"toJSON")&&Sa(e.toJSON)&&0===e.toJSON.length)return e.toJSON();if(Array.isArray(e))return e.map(rt)}catch{return{}}return fae(e)},ht=e=>JSON.stringify(e,null,2),jl=(e,t=2)=>{if("string"==typeof e)return e;try{return"object"==typeof e?YD(e,t):String(e)}catch{return String(e)}},YD=(e,t)=>{let n=[];const r=JSON.stringify(e,(o,s)=>"object"==typeof s&&null!==s?n.includes(s)?void 0:n.push(s)&&(void 0!==Ma.fiberRefs&&Oj(s)?s[QD](Ma.fiberRefs):s):s,t);return n=void 0,r},QD=Symbol.for("effect/Inspectable/Redactable"),Oj=e=>"object"==typeof e&&null!==e&&QD in e,Ma=me("effect/Inspectable/redactableState",()=>({fiberRefs:void 0})),fae=e=>Oj(e)&&void 0!==Ma.fiberRefs?e[QD](Ma.fiberRefs):e,W=(e,t)=>{switch(t.length){case 0:return e;case 1:return t[0](e);case 2:return t[1](t[0](e));case 3:return t[2](t[1](t[0](e)));case 4:return t[3](t[2](t[1](t[0](e))));case 5:return t[4](t[3](t[2](t[1](t[0](e)))));case 6:return t[5](t[4](t[3](t[2](t[1](t[0](e))))));case 7:return t[6](t[5](t[4](t[3](t[2](t[1](t[0](e)))))));case 8:return t[7](t[6](t[5](t[4](t[3](t[2](t[1](t[0](e))))))));case 9:return t[8](t[7](t[6](t[5](t[4](t[3](t[2](t[1](t[0](e)))))))));default:{let n=e;for(let r=0,o=t.length;r<o;r++)n=t[r](n);return n}}},ah="Async",X_="Commit",qe="Failure",K_="OnFailure",Z_="OnSuccess",Y_="OnSuccessAndFailure",ze="Success",Aj="Sync",hae="Tag",Ia="UpdateRuntimeFlags",Q_="While",ch="Iterator",kj="WithRuntime",J_="Yield",JD="RevertFlags",Nj=Symbol.for("effect/Effect"),xj=Symbol.for("effect/Stream"),Fj=Symbol.for("effect/Sink"),Pj=Symbol.for("effect/Channel"),Bl={_R:e=>e,_E:e=>e,_A:e=>e,_V:$_()},lh={[Nj]:Bl,[xj]:Bl,[Fj]:{_A:e=>e,_In:e=>e,_L:e=>e,_E:e=>e,_R:e=>e},[Pj]:{_Env:e=>e,_InErr:e=>e,_InElem:e=>e,_InDone:e=>e,_OutErr:e=>e,_OutElem:e=>e,_OutDone:e=>e},[J](e){return this===e},[Q](){return $e(this,z_(this))},[Symbol.iterator](){return new oh(new sh(this))},pipe(){return W(this,arguments)}},ey={[Q](){return $e(this,Rj(this))},[J](e){const t=Object.keys(this),n=Object.keys(e);if(t.length!==n.length)return!1;for(const r of t)if(!(r in e)||!$(this[r],e[r]))return!1;return!0}},fs={...lh,_op:X_},eM={...fs,...ey},mae=function(){function e(){}return e.prototype=fs,e}(),Lj=Symbol.for("effect/Option"),Vj={...lh,[Lj]:{_A:e=>e},[He](){return this.toJSON()},toString(){return ht(this.toJSON())}},yae=Object.assign(Object.create(Vj),{_tag:"Some",_op:"Some",[J](e){return tM(e)&&jj(e)&&$(this.value,e.value)},[Q](){return $e(this,ie(B(this._tag))(B(this.value)))},toJSON(){return{_id:"Option",_tag:this._tag,value:rt(this.value)}}}),vae=B("None"),bae=Object.assign(Object.create(Vj),{_tag:"None",_op:"None",[J]:e=>tM(e)&&nM(e),[Q]:()=>vae,toJSON(){return{_id:"Option",_tag:this._tag}}}),tM=e=>G(e,Lj),nM=e=>"None"===e._tag,jj=e=>"Some"===e._tag,ty=Object.create(bae),uh=e=>{const t=Object.create(yae);return t.value=e,t},rM=Symbol.for("effect/Context/Tag"),dh=Symbol.for("effect/Context/Reference"),oM={...lh,_op:"Tag",[Symbol.for("effect/STM")]:Bl,[rM]:{_Service:e=>e,_Identifier:e=>e},toString(){return ht(this.toJSON())},toJSON(){return{_id:"Tag",key:this.key,stack:this.stack}},[He](){return this.toJSON()},of:e=>e,context(e){return Uj(this,e)}},Eae={...oM,[dh]:dh},sM=Symbol.for("effect/Context"),Dae={[sM]:{_Services:e=>e},[J](e){if(Bj(e)&&this.unsafeMap.size===e.unsafeMap.size){for(const t of this.unsafeMap.keys())if(!e.unsafeMap.has(t)||!$(this.unsafeMap.get(t),e.unsafeMap.get(t)))return!1;return!0}return!1},[Q](){return $e(this,KD(this.unsafeMap.size))},pipe(){return W(this,arguments)},toString(){return ht(this.toJSON())},toJSON(){return{_id:"Context",services:Array.from(this.unsafeMap).map(rt)}},[He](){return this.toJSON()}},Oo=e=>{const t=Object.create(Dae);return t.unsafeMap=e,t},Bj=e=>G(e,sM),Tae=Oo(new Map),Uj=(e,t)=>Oo(new Map([[e.key,t]])),Oae=p(3,(e,t,n)=>{const r=new Map(e.unsafeMap);return r.set(t.key,n),Oo(r)}),aM=me("effect/Context/defaultValueCache",()=>new Map),ny=e=>{if(aM.has(e.key))return aM.get(e.key);const t=e.defaultValue();return aM.set(e.key,t),t},$j=p(2,(e,t)=>{if(!e.unsafeMap.has(t.key)){if(dh in t)return ny(t);throw(e=>{const t=new Error("Service not found"+(e.key?`: ${String(e.key)}`:""));if(e.stack){const n=e.stack.split("\n");if(n.length>2){const r=n[2].match(/at (.*)/);r&&(t.message=t.message+` (defined at ${r[1]})`)}}if(t.stack){const n=t.stack.split("\n");n.splice(1,3),t.stack=n.join("\n")}return t})(t)}return e.unsafeMap.get(t.key)}),Ta=e=>{const t=Error.stackTraceLimit;Error.stackTraceLimit=2;const n=new Error;Error.stackTraceLimit=t;const r=Object.create(oM);return Object.defineProperty(r,"stack",{get:()=>n.stack}),r.key=e,r},Ra=()=>Tae,Ht=Oae,Ao=$j,ry=$j,ui=p(2,(e,t)=>e.unsafeMap.has(t.key)?uh(e.unsafeMap.get(t.key)):(e=>G(e,dh))(t)?uh(ny(t)):ty),fh=p(2,(e,t)=>{const n=new Map(e.unsafeMap);for(const[r,o]of t.unsafeMap)n.set(r,o);return Oo(n)}),oy=()=>(e,t)=>{const n=Error.stackTraceLimit;Error.stackTraceLimit=2;const r=new Error;function o(){}return Error.stackTraceLimit=n,Object.setPrototypeOf(o,Eae),o.key=e,o.defaultValue=t.defaultValue,Object.defineProperty(o,"stack",{get:()=>r.stack}),o},cM=Symbol.for("effect/Either"),Hj={...lh,[cM]:{_R:e=>e},[He](){return this.toJSON()},toString(){return ht(this.toJSON())}},Uae=Object.assign(Object.create(Hj),{_tag:"Right",_op:"Right",[J](e){return lM(e)&&dM(e)&&$(this.right,e.right)},[Q](){return ie(B(this._tag))(B(this.right))},toJSON(){return{_id:"Either",_tag:this._tag,right:rt(this.right)}}}),$ae=Object.assign(Object.create(Hj),{_tag:"Left",_op:"Left",[J](e){return lM(e)&&uM(e)&&$(this.left,e.left)},[Q](){return ie(B(this._tag))(B(this.left))},toJSON(){return{_id:"Either",_tag:this._tag,left:rt(this.left)}}}),lM=e=>G(e,cM),uM=e=>"Left"===e._tag,dM=e=>"Right"===e._tag,Ct=e=>{const t=Object.create(Uae);return t.right=e,t},rr=e=>{const t=Object.create($ae);return t.left=e,t},or=uM,hh=dM,Xj=p(2,(e,{onLeft:t,onRight:n})=>or(e)?t(e.left):n(e.right))({onLeft:we,onRight:we}),Ul=e=>(t,n)=>t===n||e(t,n),Yae=p(2,(e,t)=>Ul((n,r)=>e(t(n),t(r)))),Yj=e=>e.length>0,T=()=>ty,A=uh,Ee=nM,he=jj,sr=p(2,(e,{onNone:t,onSome:n})=>Ee(e)?t():n(e.value)),ir=p(2,(e,t)=>Ee(e)?t():e.value),ece=p(2,(e,t)=>Ee(e)?A(t()):e),$l=e=>null==e?T():A(e),ar=ir(bj),Qj=p(2,(e,t)=>{if(he(e))return e.value;throw t()})(()=>new Error("getOrThrow called on a None")),Hl=p(2,(e,t)=>Ee(e)?T():A(t(e.value))),fM=p(2,(e,t)=>Ee(e)?T():t(e.value)),rce=(e=>p(2,(t,n)=>!Ee(t)&&e(t.value,n)))(ZD()),di=(Symbol,e=>(t,n)=>t===n?0:e(t,n)),tB=di((e,t)=>e<t?-1:1),nB=p(2,(e,t)=>di((n,r)=>e(t(n),t(r)))),oB=e=>p(2,(t,n)=>1===e(t,n)),bce=(...e)=>e,hM=e=>new Array(e),le=e=>Array.isArray(e)?e:Array.from(e),sy=p(2,(e,t)=>[t,...e]),Cce=p(2,(e,t)=>[...e,t]),lB=p(2,(e,t)=>le(e).concat(le(t))),Sce=Yj,cn=Yj,uB=(e,t)=>e<0||e>=t.length,Mce=p(2,(e,t)=>{const n=Math.floor(t);return uB(n,e)?T():A(e[n])}),dB=p(2,(e,t)=>{const n=Math.floor(t);if(uB(n,e))throw new Error(`Index ${n} out of bounds`);return e[n]}),ph=Mce(0),$n=dB(0),pM=e=>e[e.length-1],fi=e=>e.slice(1),Rce=p(2,(e,t)=>Lce(e,((e,t)=>{let n=0;for(const r of e){if(!t(r,n))break;n++}return n})(e,t))),Oce=p(2,(e,t)=>{const n=le(e);return n.slice(((e,t)=>Math.floor(Math.min(Math.max(0,e),t.length)))(t,n),n.length)}),hB=e=>Array.from(e).reverse(),gh=p(2,(e,t)=>{const n=Array.from(e);return n.sort(t),n}),pB=p(2,(e,t)=>Fce(e,t,bce)),Fce=p(3,(e,t,n)=>{const r=le(e),o=le(t);if(cn(r)&&cn(o)){const s=[n($n(r),$n(o))],i=Math.min(r.length,o.length);for(let a=1;a<i;a++)s[a]=n(r[a],o[a]);return s}return[]}),gB=ZD(),Lce=p(2,(e,t)=>{const n=Array.from(e),r=Math.floor(t);return cn(n)?r>=1?Vce(n,r):[[],n]:[n,[]]}),Vce=p(2,(e,t)=>{const n=Math.max(1,Math.floor(t));return n>=e.length?[jce(e),[]]:[sy(e.slice(1,n),$n(e)),e.slice(n)]}),jce=e=>e.slice(),Bce=p(3,(e,t,n)=>{const r=le(e),o=le(t);return cn(r)?cn(o)?vB(n)(lB(r,o)):r:o}),zl=p(2,(e,t)=>Bce(e,t,gB)),Dr=e=>[e],Wl=p(2,(e,t)=>e.map(t)),mB=p(2,(e,t)=>{if((e=>0===e.length)(e))return[];const n=[];for(let r=0;r<e.length;r++){const o=t(e[r],r);for(let s=0;s<o.length;s++)n.push(o[s])}return n})(we),Oa=p(3,(e,t,n)=>le(e).reduce((r,o,s)=>n(r,o,s),t)),yB=(e,t)=>{const n=[];let o,r=e;for(;he(o=t(r));){const[s,i]=o.value;n.push(s),r=i}return n},mM=e=>Ul((t,n)=>{if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(!e(t[r],n[r]))return!1;return!0}),vB=p(2,(e,t)=>{const n=le(e);if(cn(n)){const r=[$n(n)],o=fi(n);for(const s of o)r.every(i=>!t(s,i))&&r.push(s);return r}return[]}),qce=e=>vB(e,ZD()),Aa=p(2,(e,t)=>le(e).join(t)),bB=Symbol.for("effect/Chunk"),EB=[],Wce=(e=>Ul((t,n)=>t.length===n.length&&Hn(t).every((r,o)=>e(r,No(n,o)))))($),Gce={[bB]:{_A:e=>e},toString(){return ht(this.toJSON())},toJSON(){return{_id:"Chunk",values:Hn(this).map(rt)}},[He](){return this.toJSON()},[J](e){return CB(e)&&Wce(this,e)},[Q](){return $e(this,Da(Hn(this)))},[Symbol.iterator](){switch(this.backing._tag){case"IArray":return this.backing.array[Symbol.iterator]();case"IEmpty":return EB[Symbol.iterator]();default:return Hn(this)[Symbol.iterator]()}},pipe(){return W(this,arguments)}},Ot=e=>{const t=Object.create(Gce);switch(t.backing=e,e._tag){case"IEmpty":t.length=0,t.depth=0,t.left=t,t.right=t;break;case"IConcat":t.length=e.left.length+e.right.length,t.depth=1+Math.max(e.left.depth,e.right.depth),t.left=e.left,t.right=e.right;break;case"IArray":t.length=e.array.length,t.depth=0,t.left=ko,t.right=ko;break;case"ISingleton":t.length=1,t.depth=0,t.left=ko,t.right=ko;break;case"ISlice":t.length=e.length,t.depth=e.chunk.depth+1,t.left=ko,t.right=ko}return t},CB=e=>G(e,bB),ko=Ot({_tag:"IEmpty"}),ln=()=>ko,_M=(...e)=>1===e.length?qt(e[0]):Xce(e),qt=e=>Ot({_tag:"ISingleton",a:e}),Gl=e=>CB(e)?e:Ot({_tag:"IArray",array:le(e)}),yM=(e,t,n)=>{switch(e.backing._tag){case"IArray":!function zce(e,t,n,r,o){for(let s=t;s<Math.min(e.length,t+o);s++)n[r+s-t]=e[s]}(e.backing.array,0,t,n,e.length);break;case"IConcat":yM(e.left,t,n),yM(e.right,t,n+e.left.length);break;case"ISingleton":t[n]=e.backing.a;break;case"ISlice":{let r=0,o=n;for(;r<e.length;)t[o]=No(e,r),r+=1,o+=1;break}}},Hn=e=>{switch(e.backing._tag){case"IEmpty":return EB;case"IArray":return e.backing.array;default:{const t=new Array(e.length);return yM(e,t,0),e.backing={_tag:"IArray",array:t},e.left=ko,e.right=ko,e.depth=0,t}}},pi=e=>{switch(e.backing._tag){case"IEmpty":case"ISingleton":return e;case"IArray":return Ot({_tag:"IArray",array:hB(e.backing.array)});case"IConcat":return Ot({_tag:"IConcat",left:pi(e.backing.right),right:pi(e.backing.left)});case"ISlice":return cr(hB(Hn(e)))}},cr=e=>Ot({_tag:"IArray",array:e}),Xce=e=>cr(e),No=p(2,(e,t)=>{switch(e.backing._tag){case"IEmpty":throw new Error("Index out of bounds");case"ISingleton":if(0!==t)throw new Error("Index out of bounds");return e.backing.a;case"IArray":if(t>=e.length||t<0)throw new Error("Index out of bounds");return e.backing.array[t];case"IConcat":return t<e.left.length?No(e.left,t):No(e.right,t-e.left.length);case"ISlice":return No(e.backing.chunk,t+e.backing.offset)}}),SB=p(2,(e,t)=>Mr(e,qt(t))),lt=p(2,(e,t)=>Mr(qt(t),e)),mh=p(2,(e,t)=>{if(t<=0)return e;if(t>=e.length)return ko;switch(e.backing._tag){case"ISlice":return Ot({_tag:"ISlice",chunk:e.backing.chunk,offset:e.backing.offset+t,length:e.backing.length-t});case"IConcat":return t>e.left.length?mh(e.right,t-e.left.length):Ot({_tag:"IConcat",left:mh(e.left,t),right:e.right});default:return Ot({_tag:"ISlice",chunk:e,offset:t,length:e.length-t})}}),Mr=p(2,(e,t)=>{if("IEmpty"===e.backing._tag)return t;if("IEmpty"===t.backing._tag)return e;const n=t.depth-e.depth;if(Math.abs(n)<=1)return Ot({_tag:"IConcat",left:e,right:t});if(n<-1){if(e.left.depth>=e.right.depth){const r=Mr(e.right,t);return Ot({_tag:"IConcat",left:e.left,right:r})}{const r=Mr(e.right.right,t);if(r.depth===e.depth-3){const o=Ot({_tag:"IConcat",left:e.right.left,right:r});return Ot({_tag:"IConcat",left:e.left,right:o})}{const o=Ot({_tag:"IConcat",left:e.left,right:e.right.left});return Ot({_tag:"IConcat",left:o,right:r})}}}if(t.right.depth>=t.left.depth){const r=Mr(e,t.left);return Ot({_tag:"IConcat",left:r,right:t.right})}{const r=Mr(e,t.left.left);if(r.depth===t.depth-3){const o=Ot({_tag:"IConcat",left:r,right:t.left.right});return Ot({_tag:"IConcat",left:o,right:t.right})}{const o=Ot({_tag:"IConcat",left:t.left.right,right:t.right});return Ot({_tag:"IConcat",left:r,right:o})}}}),DB=e=>0===e.length,pt=e=>e.length>0,IB=e=>No(e,0),Me=IB,ut=e=>mh(e,1),vM=Symbol.for("effect/Duration"),TB=BigInt(0),RB=BigInt(24),ay=BigInt(60),bM=BigInt(1e3),OB=BigInt(1e6),EM=BigInt(1e9),AB=/^(-?\d+(?:\.\d+)?)\s+(nanos?|micros?|millis?|seconds?|minutes?|hours?|days?|weeks?)$/,_n=e=>{if(NB(e))return e;if(nh(e))return _h(e);if((e=>"bigint"==typeof e)(e))return cy(e);if(Array.isArray(e)){if(2===e.length&&nh(e[0])&&nh(e[1]))return cy(BigInt(e[0])*EM+BigInt(e[1]))}else if((e=>"string"==typeof e)(e)){AB.lastIndex=0;const t=AB.exec(e);if(t){const[n,r,o]=t,s=Number(r);switch(o){case"nano":case"nanos":return cy(BigInt(r));case"micro":case"micros":return ele(BigInt(r));case"milli":case"millis":return _h(s);case"second":case"seconds":return xB(s);case"minute":case"minutes":return tle(s);case"hour":case"hours":return nle(s);case"day":case"days":return rle(s);case"week":case"weeks":return ole(s)}}}throw new Error("Invalid DurationInput")},kB={_tag:"Millis",millis:0},Yce={_tag:"Infinity"},Qce={[vM]:vM,[Q](){return $e(this,Rj(this.value))},[J](e){return NB(e)&&lle(this,e)},toString(){return`Duration(${PB(this)})`},toJSON(){switch(this.value._tag){case"Millis":return{_id:"Duration",_tag:"Millis",millis:this.value.millis};case"Nanos":return{_id:"Duration",_tag:"Nanos",hrtime:ile(this)};case"Infinity":return{_id:"Duration",_tag:"Infinity"}}},[He](){return this.toJSON()},pipe(){return W(this,arguments)}},hs=e=>{const t=Object.create(Qce);return t.value=nh(e)?isNaN(e)||e<=0?kB:Number.isFinite(e)?Number.isInteger(e)?{_tag:"Millis",millis:e}:{_tag:"Nanos",nanos:BigInt(Math.round(1e6*e))}:Yce:e<=TB?kB:{_tag:"Nanos",nanos:e},t},NB=e=>G(e,vM),Jce=hs(0),cy=e=>hs(e),ele=e=>hs(e*bM),_h=e=>hs(e),xB=e=>hs(1e3*e),tle=e=>hs(6e4*e),nle=e=>hs(36e5*e),rle=e=>hs(864e5*e),ole=e=>hs(6048e5*e),Xl=e=>Kl(e,{onMillis:t=>t,onNanos:t=>Number(t)/1e6}),ile=e=>{const t=_n(e);switch(t.value._tag){case"Infinity":return[1/0,0];case"Nanos":return[Number(t.value.nanos/EM),Number(t.value.nanos%EM)];case"Millis":return[Math.floor(t.value.millis/1e3),Math.round(t.value.millis%1e3*1e6)]}},Kl=p(2,(e,t)=>{const n=_n(e);switch(n.value._tag){case"Nanos":return t.onNanos(n.value.nanos);case"Infinity":return t.onMillis(1/0);case"Millis":return t.onMillis(n.value.millis)}}),FB=p(3,(e,t,n)=>{const r=_n(e),o=_n(t);if("Infinity"===r.value._tag||"Infinity"===o.value._tag)return n.onMillis(Xl(r),Xl(o));if("Nanos"===r.value._tag||"Nanos"===o.value._tag){const s="Nanos"===r.value._tag?r.value.nanos:BigInt(Math.round(1e6*r.value.millis)),i="Nanos"===o.value._tag?o.value.nanos:BigInt(Math.round(1e6*o.value.millis));return n.onNanos(s,i)}return n.onMillis(r.value.millis,o.value.millis)}),cle=p(2,(e,t)=>FB(e,t,{onMillis:(n,r)=>n>=r,onNanos:(n,r)=>n>=r})),lle=p(2,(e,t)=>((e,t)=>FB(e,t,{onMillis:(n,r)=>n===r,onNanos:(n,r)=>n===r}))(_n(e),_n(t))),PB=e=>{const t=_n(e);if("Infinity"===t.value._tag)return"Infinity";const n=(e=>{const t=_n(e);if("Infinity"===t.value._tag)return{days:1/0,hours:1/0,minutes:1/0,seconds:1/0,millis:1/0,nanos:1/0};const n=(e=>{const t=_n(e);switch(t.value._tag){case"Infinity":throw new Error("Cannot convert infinite duration to nanos");case"Nanos":return t.value.nanos;case"Millis":return BigInt(Math.round(1e6*t.value.millis))}})(t),r=n/OB,o=r/bM,s=o/ay,i=s/ay;return{days:Number(i/RB),hours:Number(i%RB),minutes:Number(s%ay),seconds:Number(o%ay),millis:Number(r%bM),nanos:Number(n%OB)}})(t),r=[];return 0!==n.days&&r.push(`${n.days}d`),0!==n.hours&&r.push(`${n.hours}h`),0!==n.minutes&&r.push(`${n.minutes}m`),0!==n.seconds&&r.push(`${n.seconds}s`),0!==n.millis&&r.push(`${n.millis}ms`),0!==n.nanos&&r.push(`${n.nanos}ns`),r.join(" ")},CM=Math.pow(2,5),dle=CM-1,fle=CM/2,hle=CM/4;function Zl(e,t){return t>>>e&dle}function Yl(e){return 1<<e}function LB(e,t){return function ple(e){return e=(e=(858993459&(e-=e>>1&1431655765))+(e>>2&858993459))+(e>>4)&252645135,127&(e+=e>>8)+(e>>16)}(e&t-1)}const gle=(e,t)=>({value:e,previous:t});function Ql(e,t,n,r){let o=r;if(!e){const s=r.length;o=new Array(s);for(let i=0;i<s;++i)o[i]=r[i]}return o[t]=n,o}function VB(e,t,n){const r=n.length-1;let o=0,s=0,i=n;if(e)o=s=t;else for(i=new Array(r);o<t;)i[s++]=n[o++];for(++o;o<=r;)i[s++]=n[o++];return e&&(i.length=r),i}class gi{_tag="EmptyNode";modify(t,n,r,o,s,i){const a=r(T());return Ee(a)?new gi:(++i.value,new Na(t,o,s,a))}}function to(e){return q_(e,"EmptyNode")}function ly(e,t){return!to(e)&&t===e.edit}class Na{edit;hash;key;value;_tag="LeafNode";constructor(t,n,r,o){this.edit=t,this.hash=n,this.key=r,this.value=o}modify(t,n,r,o,s,i){if($(s,this.key)){const c=r(this.value);return c===this.value?this:Ee(c)?(--i.value,new gi):ly(this,t)?(this.value=c,this):new Na(t,o,s,c)}const a=r(T());return Ee(a)?this:(++i.value,jB(t,n,this.hash,this,o,new Na(t,o,s,a)))}}class wM{edit;hash;children;_tag="CollisionNode";constructor(t,n,r){this.edit=t,this.hash=n,this.children=r}modify(t,n,r,o,s,i){if(o===this.hash){const c=ly(this,t),l=this.updateCollisionList(c,t,this.hash,this.children,r,s,i);return l===this.children?this:l.length>1?new wM(t,this.hash,l):l[0]}const a=r(T());return Ee(a)?this:(++i.value,jB(t,n,this.hash,this,o,new Na(t,o,s,a)))}updateCollisionList(t,n,r,o,s,i,a){const c=o.length;for(let u=0;u<c;++u){const d=o[u];if("key"in d&&$(i,d.key)){const f=d.value,h=s(f);return h===f?o:Ee(h)?(--a.value,VB(t,u,o)):Ql(t,u,new Na(n,r,i,h),o)}}const l=s(T());return Ee(l)?o:(++a.value,Ql(t,c,new Na(n,r,i,l),o))}}class Jl{edit;mask;children;_tag="IndexedNode";constructor(t,n,r){this.edit=t,this.mask=n,this.children=r}modify(t,n,r,o,s,i){const a=this.mask,c=this.children,l=Zl(n,o),u=Yl(l),d=LB(a,u),f=a&u,h=ly(this,t);if(!f){const v=(new gi).modify(t,n+5,r,o,s,i);return v?c.length>=fle?function vle(e,t,n,r,o){const s=[];let i=r,a=0;for(let c=0;i;++c)1&i&&(s[c]=o[a++]),i>>>=1;return s[t]=n,new SM(e,a+1,s)}(t,l,v,a,c):new Jl(t,a|u,function mle(e,t,n,r){const o=r.length;if(e){let c=o;for(;c>=t;)r[c--]=r[c];return r[t]=n,r}let s=0,i=0;const a=new Array(o+1);for(;s<t;)a[i++]=r[s++];for(a[t]=n;s<o;)a[++i]=r[s++];return a}(h,d,v,c)):this}const g=c[d],m=g.modify(t,n+5,r,o,s,i);if(g===m)return this;let w,y=a;if(to(m)){if(y&=~u,!y)return new gi;if(c.length<=2&&function _le(e){return to(e)||"LeafNode"===e._tag||"CollisionNode"===e._tag}(c[1^d]))return c[1^d];w=VB(h,d,c)}else w=Ql(h,d,m,c);return h?(this.mask=y,this.children=w,this):new Jl(t,y,w)}}class SM{edit;size;children;_tag="ArrayNode";constructor(t,n,r){this.edit=t,this.size=n,this.children=r}modify(t,n,r,o,s,i){let a=this.size;const c=this.children,l=Zl(n,o),u=c[l],d=(u||new gi).modify(t,n+5,r,o,s,i);if(u===d)return this;const f=ly(this,t);let h;if(to(u)&&!to(d))++a,h=Ql(f,l,d,c);else if(!to(u)&&to(d)){if(--a,a<=hle)return function yle(e,t,n,r){const o=new Array(t-1);let s=0,i=0;for(let a=0,c=r.length;a<c;++a)if(a!==n){const l=r[a];l&&!to(l)&&(o[s++]=l,i|=1<<a)}return new Jl(e,i,o)}(t,a,l,c);h=Ql(f,l,new gi,c)}else h=Ql(f,l,d,c);return f?(this.size=a,this.children=h,this):new SM(t,a,h)}}function ble(e,t,n,r,o,s){if(n===o)return new wM(e,n,[s,r]);const i=Zl(t,n),a=Zl(t,o);if(i===a)return c=>new Jl(e,Yl(i)|Yl(a),[c]);{const c=i<a?[r,s]:[s,r];return new Jl(e,Yl(i)|Yl(a),c)}}function jB(e,t,n,r,o,s){let i,a=t;for(;;){const c=ble(e,a,n,r,o,s);if("function"!=typeof c){let l=c;for(;null!=i;)l=i.value(l),i=i.previous;return l}i=gle(c,i),a+=5}}const BB="effect/HashMap",uy=Symbol.for(BB),Ele={[uy]:uy,[Symbol.iterator](){return new eu(this,(e,t)=>[e,t])},[Q](){let e=B(BB);for(const t of this)e^=_(B(t[0]),ie(B(t[1])));return $e(this,e)},[J](e){if(qB(e)){if(e._size!==this._size)return!1;for(const t of this){const n=_(e,tu(t[0],B(t[0])));if(Ee(n))return!1;if(!$(t[1],n.value))return!1}return!0}return!1},toString(){return ht(this.toJSON())},toJSON(){return{_id:"HashMap",values:Array.from(this).map(rt)}},[He](){return this.toJSON()},pipe(){return W(this,arguments)}},DM=(e,t,n,r)=>{const o=Object.create(Ele);return o._editable=e,o._edit=t,o._root=n,o._size=r,o};class eu{map;f;v;constructor(t,n){this.map=t,this.f=n,this.v=UB(this.map._root,this.f,void 0)}next(){if(Ee(this.v))return{done:!0,value:void 0};const t=this.v.value;return this.v=dy(t.cont),{done:!1,value:t.value}}[Symbol.iterator](){return new eu(this.map,this.f)}}const dy=e=>e?$B(e[0],e[1],e[2],e[3],e[4]):T(),UB=(e,t,n=void 0)=>{switch(e._tag){case"LeafNode":return he(e.value)?A({value:t(e.key,e.value.value),cont:n}):dy(n);case"CollisionNode":case"ArrayNode":case"IndexedNode":{const r=e.children;return $B(r.length,r,0,t,n)}default:return dy(n)}},$B=(e,t,n,r,o)=>{for(;n<e;){const s=t[n++];if(s&&!to(s))return UB(s,r,[e,t,n,r,o])}return dy(o)},Cle=DM(!1,0,new gi,0),xa=()=>Cle,qB=e=>G(e,uy),Dle=p(2,(e,t)=>tu(e,t,B(t))),tu=p(3,(e,t,n)=>{let r=e._root,o=0;for(;;)switch(r._tag){case"LeafNode":return $(t,r.key)?r.value:T();case"CollisionNode":if(n===r.hash){const s=r.children;for(let i=0,a=s.length;i<a;++i){const c=s[i];if("key"in c&&$(t,c.key))return c.value}}return T();case"IndexedNode":{const i=Yl(Zl(o,n));if(r.mask&i){r=r.children[LB(r.mask,i)],o+=5;break}return T()}case"ArrayNode":if(r=r.children[Zl(o,n)],r){o+=5;break}return T();default:return T()}}),zB=p(2,(e,t)=>he(tu(e,t,B(t)))),ps=p(3,(e,t,n)=>py(e,t,()=>A(n))),Tle=p(3,(e,t,n)=>e._editable?(e._root=t,e._size=n,e):t===e._root?e:DM(e._editable,e._edit,t,n)),MM=e=>new eu(e,t=>t),fy=e=>e._size,yh=e=>DM(!0,e._edit+1,e._root,e._size),hy=e=>(e._editable=!1,e),py=p(3,(e,t,n)=>WB(e,t,B(t),n)),WB=p(4,(e,t,n,r)=>{const o={value:e._size},s=e._root.modify(e._editable?e._edit:NaN,0,r,n,t,o);return _(e,Tle(s,o.value))}),gy=p(2,(e,t)=>py(e,t,T)),xle=p(2,(e,t)=>bh(e,xa(),(n,r,o)=>ps(n,o,t(r,o)))),my=p(2,(e,t)=>bh(e,void 0,(n,r,o)=>t(r,o))),bh=p(3,(e,t,n)=>{const r=e._root;if("LeafNode"===r._tag)return he(r.value)?n(t,r.value.value,r.key):t;if("EmptyNode"===r._tag)return t;const o=[r.children];let s;for(;s=o.pop();)for(let i=0,a=s.length;i<a;){const c=s[i++];c&&!to(c)&&("LeafNode"===c._tag?he(c.value)&&(t=n(t,c.value.value,c.key)):o.push(c.children))}return t}),XB="effect/HashSet",_y=Symbol.for(XB),jle={[_y]:_y,[Symbol.iterator](){return MM(this._keyMap)},[Q](){return $e(this,ie(B(this._keyMap))(B(XB)))},[J](e){return!!KB(e)&&fy(this._keyMap)===fy(e._keyMap)&&$(this._keyMap,e._keyMap)},toString(){return ht(this.toJSON())},toJSON(){return{_id:"HashSet",values:Array.from(this).map(rt)}},[He](){return this.toJSON()},pipe(){return W(this,arguments)}},Eh=e=>{const t=Object.create(jle);return t._keyMap=e,t},KB=e=>G(e,_y),Ble=Eh(xa()),xo=()=>Ble,nu=p(2,(e,t)=>zB(e._keyMap,t)),ru=e=>Eh(yh(e._keyMap)),ou=e=>(e._keyMap._editable=!1,e),Fa=p(2,(e,t)=>{const n=ru(e);return t(n),ou(n)}),Ir=p(2,(e,t)=>e._keyMap._editable?(ps(t,!0)(e._keyMap),e):Eh(ps(t,!0)(e._keyMap))),TM=p(2,(e,t)=>e._keyMap._editable?(gy(t)(e._keyMap),e):Eh(gy(t)(e._keyMap))),zle=p(2,(e,t)=>Fa(e,n=>{for(const r of t)TM(n,r)})),Gle=p(2,(e,t)=>Fa(xo(),n=>{yy(e,r=>Ir(n,r));for(const r of t)Ir(n,r)})),yy=p(2,(e,t)=>my(e._keyMap,(n,r)=>t(r))),mi=xo,vy=(...e)=>{const t=ru(xo());for(const n of e)Ir(t,n);return ou(t)},eue=nu,Ch=e=>fy(e._keyMap),wh=Ir,JB=TM,eU=zle,su=Gle,Sh=p(3,(e,t,n)=>bh(e._keyMap,t,(r,o,s)=>n(r,s))),tU=Symbol.for("effect/MutableRef"),nue={[tU]:tU,toString(){return ht(this.toJSON())},toJSON(){return{_id:"MutableRef",current:rt(this.current)}},[He](){return this.toJSON()},pipe(){return W(this,arguments)}},Dh=e=>{const t=Object.create(nue);return t.current=e,t},gs=e=>e.current,Mh=p(2,(e,t)=>(e.current=t,e)),by="effect/FiberId",_i=Symbol.for(by),yi="None",Ih="Runtime",rue=ct(`${by}-${yi}`);class oue{[_i]=_i;_tag=yi;id=-1;startTimeMillis=-1;[Q](){return rue}[J](t){return Ey(t)&&t._tag===yi}toString(){return ht(this.toJSON())}toJSON(){return{_id:"FiberId",_tag:this._tag}}[He](){return this.toJSON()}}class OM{id;startTimeMillis;[_i]=_i;_tag=Ih;constructor(t,n){this.id=t,this.startTimeMillis=n}[Q](){return $e(this,ct(`${by}-${this._tag}-${this.id}-${this.startTimeMillis}`))}[J](t){return Ey(t)&&t._tag===Ih&&this.id===t.id&&this.startTimeMillis===t.startTimeMillis}toString(){return ht(this.toJSON())}toJSON(){return{_id:"FiberId",_tag:this._tag,id:this.id,startTimeMillis:this.startTimeMillis}}[He](){return this.toJSON()}}const AM=new oue,Ey=e=>G(e,_i),Cy=e=>{switch(e._tag){case yi:return mi();case Ih:return vy(e.id);case"Composite":return _(Cy(e.left),su(Cy(e.right)))}},iU=me(Symbol.for("effect/Fiber/Id/_fiberCounter"),()=>Dh(0)),xM=e=>Array.from(Cy(e)).map(n=>`#${n}`).join(","),Fo=AM,gue=xM,lU=()=>{const e=gs(iU);return _(iU,Mh(e+1)),new OM(e,Date.now())},wy=xa,_ue=e=>{const t=yh(xa());for(const n of e)ps(t,n[0],n[1]);return hy(t)},Sy=Dle,Po=ps,uU=MM,dU=fy,Eue=py,Cue=xle,Dy=bh,Oh=Symbol.for("effect/List"),PM=e=>le(e),Sue=(e=>Yae(mM(e),PM))($),Due={[Oh]:Oh,_tag:"Cons",toString(){return ht(this.toJSON())},toJSON(){return{_id:"List",_tag:"Cons",values:PM(this).map(rt)}},[He](){return this.toJSON()},[J](e){return fU(e)&&this._tag===e._tag&&Sue(this,e)},[Q](){return $e(this,Da(PM(this)))},[Symbol.iterator](){let e=!1,t=this;return{next(){if(e)return this.return();if("Nil"===t._tag)return e=!0,this.return();const n=t.head;return t=t.tail,{done:e,value:n}},return:n=>(e||(e=!0),{done:!0,value:n})}},pipe(){return W(this,arguments)}},ms=(e,t)=>{const n=Object.create(Due);return n.head=e,n.tail=t,n},Mue=ct("Nil"),Iue={[Oh]:Oh,_tag:"Nil",toString(){return ht(this.toJSON())},toJSON:()=>({_id:"List",_tag:"Nil"}),[He](){return this.toJSON()},[Q]:()=>Mue,[J](e){return fU(e)&&this._tag===e._tag},[Symbol.iterator]:()=>({next:()=>({done:!0,value:void 0})}),pipe(){return W(this,arguments)}},_s=Object.create(Iue),fU=e=>G(e,Oh),wt=e=>"Nil"===e._tag,LM=e=>"Cons"===e._tag,Pa=(e,t)=>ms(e,t),La=()=>_s,VM=e=>ms(e,_s),Oue=p(2,(e,t)=>Aue(t,e)),jM=p(2,(e,t)=>Pa(t,e)),Aue=p(2,(e,t)=>{if(wt(e))return t;if(wt(t))return e;{const n=ms(t.head,e);let r=n,o=t.tail;for(;!wt(o);){const s=ms(o.head,e);r.tail=s,r=s,o=o.tail}return n}}),Fue=p(3,(e,t,n)=>{let r=t,o=e;for(;!wt(o);)r=n(r,o.head),o=o.tail;return r}),Pue=e=>{let t=La(),n=e;for(;!wt(n);)t=jM(t,n.head),n=n.tail;return t},iu=function(){function e(t){t&&Object.assign(this,t)}return e.prototype=ey,e}();const mU=Symbol.for("effect/DifferContextPatch");function _U(e){return e}const kh={...iu.prototype,[mU]:{_Value:_U,_Patch:_U}},Zue=Object.create(Object.assign(Object.create(kh),{_tag:"Empty"})),yU=()=>Zue,Yue=Object.assign(Object.create(kh),{_tag:"AndThen"}),Jue=Object.assign(Object.create(kh),{_tag:"AddService"}),ede=(e,t)=>{const n=Object.create(Jue);return n.key=e,n.service=t,n},tde=Object.assign(Object.create(kh),{_tag:"RemoveService"}),nde=e=>{const t=Object.create(tde);return t.key=e,t},rde=Object.assign(Object.create(kh),{_tag:"UpdateService"}),ode=(e,t)=>{const n=Object.create(rde);return n.key=e,n.update=t,n},Ty=p(2,(e,t)=>((e,t)=>{const n=Object.create(Yue);return n.first=e,n.second=t,n})(e,t)),ide=p(2,(e,t)=>{if("Empty"===e._tag)return t;let n=!1,r=qt(e);const o=new Map(t.unsafeMap);for(;pt(r);){const i=Me(r),a=ut(r);switch(i._tag){case"Empty":r=a;break;case"AddService":o.set(i.key,i.service),r=a;break;case"AndThen":r=lt(lt(a,i.second),i.first);break;case"RemoveService":o.delete(i.key),r=a;break;case"UpdateService":o.set(i.key,i.update(o.get(i.key))),n=!0,r=a}}if(!n)return Oo(o);const s=new Map;for(const[i]of t.unsafeMap)o.has(i)&&(s.set(i,o.get(i)),o.delete(i));for(const[i,a]of o)s.set(i,a);return Oo(s)});const EU=Symbol.for("effect/DifferHashSetPatch");function HM(e){return e}const Oy={...iu.prototype,[EU]:{_Value:HM,_Key:HM,_Patch:HM}},yde=Object.create(Object.assign(Object.create(Oy),{_tag:"Empty"})),CU=()=>yde,vde=Object.assign(Object.create(Oy),{_tag:"AndThen"}),Ede=Object.assign(Object.create(Oy),{_tag:"Add"}),Cde=e=>{const t=Object.create(Ede);return t.value=e,t},wde=Object.assign(Object.create(Oy),{_tag:"Remove"}),qM=p(2,(e,t)=>((e,t)=>{const n=Object.create(vde);return n.first=e,n.second=t,n})(e,t)),Mde=p(2,(e,t)=>{if("Empty"===e._tag)return t;let n=t,r=qt(e);for(;pt(r);){const o=Me(r),s=ut(r);switch(o._tag){case"Empty":r=s;break;case"AndThen":r=lt(o.first)(lt(o.second)(s));break;case"Add":n=wh(o.value)(n),r=s;break;case"Remove":n=JB(o.value)(n),r=s}}return n});const SU=Symbol.for("effect/DifferReadonlyArrayPatch");function DU(e){return e}const xh={...iu.prototype,[SU]:{_Value:DU,_Patch:DU}},Ude=Object.create(Object.assign(Object.create(xh),{_tag:"Empty"})),MU=()=>Ude,$de=Object.assign(Object.create(xh),{_tag:"AndThen"}),qde=Object.assign(Object.create(xh),{_tag:"Append"}),Wde=Object.assign(Object.create(xh),{_tag:"Slice"}),Xde=Object.assign(Object.create(xh),{_tag:"Update"}),Kde=(e,t)=>{const n=Object.create(Xde);return n.index=e,n.patch=t,n},Ay=p(2,(e,t)=>((e,t)=>{const n=Object.create($de);return n.first=e,n.second=t,n})(e,t)),Yde=p(3,(e,t,n)=>{if("Empty"===e._tag)return t;let r=t.slice(),o=Dr(e);for(;Sce(o);){const s=$n(o),i=fi(o);switch(s._tag){case"Empty":o=i;break;case"AndThen":i.unshift(s.first,s.second),o=i;break;case"Append":for(const a of s.values)r.push(a);o=i;break;case"Slice":r=r.slice(s.from,s.until),o=i;break;case"Update":r[s.index]=n.patch(s.patch,r[s.index]),o=i}}return r}),IU=Symbol.for("effect/Differ"),Qde={[IU]:{_P:we,_V:we}},no=e=>{const t=Object.create(Qde);return t.empty=e.empty,t.diff=e.diff,t.combine=e.combine,t.patch=e.patch,t},RU=()=>no({empty:CU(),combine:(e,t)=>qM(t)(e),diff:(e,t)=>((e,t)=>{const[n,r]=Sh([e,CU()],([o,s],i)=>eue(i)(o)?[JB(i)(o),s]:[o,qM(Cde(i))(s)])(t);return Sh(r,(o,s)=>qM((e=>{const t=Object.create(wde);return t.value=e,t})(s))(o))(n)})(e,t),patch:(e,t)=>Mde(t)(e)}),OU=e=>no({empty:MU(),combine:(t,n)=>Ay(t,n),diff:(t,n)=>(e=>{let t=0,n=MU();for(;t<e.oldValue.length&&t<e.newValue.length;){const s=e.differ.diff(e.oldValue[t],e.newValue[t]);$(s,e.differ.empty)||(n=Ay(n,Kde(t,s))),t+=1}return t<e.oldValue.length&&(n=Ay(n,((e,t)=>{const n=Object.create(Wde);return n.from=0,n.until=t,n})(0,t))),t<e.newValue.length&&(n=Ay(n,(e=>{const t=Object.create(qde);return t.values=e,t})(Oce(t)(e.newValue)))),n})({oldValue:t,newValue:n,differ:e}),patch:(t,n)=>Yde(t,n,e)}),GM=()=>AU((e,t)=>t),AU=e=>no({empty:we,combine:(t,n)=>t===we?n:n===we?t:r=>n(t(r)),diff:(t,n)=>$(t,n)?we:B_(n),patch:(t,n)=>e(n,t(n))}),Tr=e=>255&e,Rr=e=>e>>8&255,ys=(e,t)=>(255&e)+((t&e&255)<<8),NU=ys(0,0),lfe=p(2,(e,t)=>ys(Tr(e)&~t,Rr(e))),FU=p(2,(e,t)=>e|t),pfe=p(2,(e,t)=>e|t),bs=e=>Fy(e)&&!mfe(e),Fy=e=>Va(e,1),Va=p(2,(e,t)=>!!(e&t)),VU=(...e)=>e.reduce((t,n)=>t|n,0),gfe=VU(0),jU=e=>Va(e,4),mfe=e=>Va(e,16),Es=p(2,(e,t)=>ys(e^t,t)),ja=p(2,(e,t)=>e&((e=>~e>>>0&255)(Tr(t))|Rr(t))|Tr(t)&Rr(t)),HU=no({empty:NU,diff:(e,t)=>Es(e,t),combine:(e,t)=>FU(t)(e),patch:(e,t)=>ja(t,e)}),zU=e=>ys(e,0),WU=lfe,cu="Die",lu="Empty",uu="Fail",du="Interrupt",fu="Parallel",hu="Sequential",GU="effect/Cause",XU=Symbol.for(GU),pu={[XU]:{_E:e=>e},[Q](){return _(B(GU),ie(B(Ife(this))),$e(this))},[J](e){return KU(e)&&Mfe(this,e)},pipe(){return W(this,arguments)},toJSON(){switch(this._tag){case"Empty":return{_id:"Cause",_tag:this._tag};case"Die":return{_id:"Cause",_tag:this._tag,defect:rt(this.defect)};case"Interrupt":return{_id:"Cause",_tag:this._tag,fiberId:this.fiberId.toJSON()};case"Fail":return{_id:"Cause",_tag:this._tag,failure:rt(this.error)};case"Sequential":case"Parallel":return{_id:"Cause",_tag:this._tag,left:rt(this.left),right:rt(this.right)}}},toString(){return Lh(this)},[He](){return this.toJSON()}},Or=(()=>{const e=Object.create(pu);return e._tag=lu,e})(),Cs=e=>{const t=Object.create(pu);return t._tag=uu,t.error=e,t},un=e=>{const t=Object.create(pu);return t._tag=cu,t.defect=e,t},lr=e=>{const t=Object.create(pu);return t._tag=du,t.fiberId=e,t},Qt=(e,t)=>{const n=Object.create(pu);return n._tag=fu,n.left=e,n.right=t,n},dt=(e,t)=>{const n=Object.create(pu);return n._tag=hu,n.left=e,n.right=t,n},KU=e=>G(e,XU),YM=e=>Py(void 0,Ofe)(e),gu=e=>{const t=(e=>mu(e,t=>t._tag===uu?A(t.error):T()))(e);switch(t._tag){case"None":return Ct(e);case"Some":return rr(t.value)}},Efe=e=>mu(e,t=>t._tag===du?A(t.fiberId):T()),n$=e=>Ba(e,{onEmpty:Or,onFail:()=>Or,onDie:t=>un(t),onInterrupt:t=>lr(t),onSequential:dt,onParallel:Qt}),Mfe=(e,t)=>{let n=qt(e),r=qt(t);for(;pt(n)&&pt(r);){const[o,s]=_(Me(n),_u([mi(),ln()],([c,l],u)=>{const[d,f]=QM(u);return A([_(c,su(d)),_(l,Mr(f))])})),[i,a]=_(Me(r),_u([mi(),ln()],([c,l],u)=>{const[d,f]=QM(u);return A([_(c,su(d)),_(l,Mr(f))])}));if(!$(o,i))return!1;n=s,r=a}return!0},Ife=e=>Tfe(qt(e),ln()),Tfe=(e,t)=>{for(;;){const[n,r]=_(e,Oa([mi(),ln()],([s,i],a)=>{const[c,l]=QM(a);return[_(s,su(c)),_(i,Mr(l))]})),o=Ch(n)>0?_(t,lt(n)):t;if(DB(r))return pi(o);e=r,t=o}throw new Error(rh("Cause.flattenCauseLoop"))},mu=p(2,(e,t)=>{const n=[e];for(;n.length>0;){const r=n.pop(),o=t(r);switch(o._tag){case"None":switch(r._tag){case hu:case fu:n.push(r.right),n.push(r.left)}break;case"Some":return o}}return T()}),QM=e=>{let t=e;const n=[];let r=mi(),o=ln();for(;void 0!==t;)switch(t._tag){case lu:if(0===n.length)return[r,o];t=n.pop();break;case uu:if(r=wh(r,_M(t._tag,t.error)),0===n.length)return[r,o];t=n.pop();break;case cu:if(r=wh(r,_M(t._tag,t.defect)),0===n.length)return[r,o];t=n.pop();break;case du:if(r=wh(r,_M(t._tag,t.fiberId)),0===n.length)return[r,o];t=n.pop();break;case hu:switch(t.left._tag){case lu:t=t.right;break;case hu:t=dt(t.left.left,dt(t.left.right,t.right));break;case fu:t=Qt(dt(t.left.left,t.right),dt(t.left.right,t.right));break;default:o=lt(o,t.right),t=t.left}break;case fu:n.push(t.right),t=t.left}throw new Error(rh("Cause.evaluateCauseLoop"))},Ofe={emptyCase:th,failCase:us,dieCase:us,interruptCase:th,sequentialCase:(e,t,n)=>t&&n,parallelCase:(e,t,n)=>t&&n},s$="SequentialCase",i$="ParallelCase",Ba=p(2,(e,{onDie:t,onEmpty:n,onFail:r,onInterrupt:o,onParallel:s,onSequential:i})=>Py(e,void 0,{emptyCase:()=>n,failCase:(a,c)=>r(c),dieCase:(a,c)=>t(c),interruptCase:(a,c)=>o(c),sequentialCase:(a,c,l)=>i(c,l),parallelCase:(a,c,l)=>s(c,l)})),_u=p(3,(e,t,n)=>{let r=t,o=e;const s=[];for(;void 0!==o;){const i=n(r,o);switch(r=he(i)?i.value:r,o._tag){case hu:case fu:s.push(o.right),o=o.left;break;default:o=void 0}void 0===o&&s.length>0&&(o=s.pop())}return r}),Py=p(3,(e,t,n)=>{const r=[e],o=[];for(;r.length>0;){const i=r.pop();switch(i._tag){case lu:o.push(Ct(n.emptyCase(t)));break;case uu:o.push(Ct(n.failCase(t,i.error)));break;case cu:o.push(Ct(n.dieCase(t,i.defect)));break;case du:o.push(Ct(n.interruptCase(t,i.fiberId)));break;case hu:r.push(i.right),r.push(i.left),o.push(rr({_tag:s$}));break;case fu:r.push(i.right),r.push(i.left),o.push(rr({_tag:i$}))}}const s=[];for(;o.length>0;){const i=o.pop();switch(i._tag){case"Left":switch(i.left._tag){case s$:{const a=s.pop(),c=s.pop(),l=n.sequentialCase(t,a,c);s.push(l);break}case i$:{const a=s.pop(),c=s.pop(),l=n.parallelCase(t,a,c);s.push(l);break}}break;case"Right":s.push(i.right)}}if(0===s.length)throw new Error("BUG: Cause.reduceWithContext - please report an issue at https://github.com/Effect-TS/effect/issues");return s.pop()}),Lh=(e,t)=>YM(e)?"All fibers interrupted without errors.":l$(e).map(function(n){return!0!==t?.renderErrorCause||void 0===n.cause?n.stack:`${n.stack} {\n${a$(n.cause,"  ")}\n}`}).join("\n"),a$=(e,t)=>{const n=e.stack.split("\n");let r=`${t}[cause]: ${n[0]}`;for(let o=1,s=n.length;o<s;o++)r+=`\n${t}${n[o]}`;return e.cause&&(r+=` {\n${a$(e.cause,`${t}  `)}\n${t}}`),r};class Ly extends globalThis.Error{span=void 0;constructor(t){const n="object"==typeof t&&null!==t,r=Error.stackTraceLimit;Error.stackTraceLimit=1,super(Afe(t),n&&"cause"in t&&typeof t.cause<"u"?{cause:new Ly(t.cause)}:void 0),""===this.message&&(this.message="An error has occurred"),Error.stackTraceLimit=r,this.name=t instanceof Error?t.name:"Error",n&&(c$ in t&&(this.span=t[c$]),Object.keys(t).forEach(o=>{o in this||(this[o]=t[o])})),this.stack=Nfe(`${this.name}: ${this.message}`,t instanceof Error&&t.stack?t.stack:"",this.span)}}const Afe=e=>{if("string"==typeof e)return e;if("object"==typeof e&&null!==e&&e instanceof Error)return e.message;try{if(G(e,"toString")&&Sa(e.toString)&&e.toString!==Object.prototype.toString&&e.toString!==globalThis.Array.prototype.toString)return e.toString()}catch{}return YD(e)},kfe=/\((.*)\)/g,Vy=me("effect/Tracer/spanToTrace",()=>new WeakMap),Nfe=(e,t,n)=>{const r=[e],o=t.startsWith(e)?t.slice(e.length).split("\n"):t.split("\n");for(let s=1;s<o.length&&!o[s].includes("Generator.next");s++){if(o[s].includes("effect_internal_function")){r.pop();break}r.push(o[s].replace(/at .*effect_instruction_i.*\((.*)\)/,"at $1").replace(/EffectPrimitive\.\w+/,"<anonymous>"))}if(n){let s=n,i=0;for(;s&&"Span"===s._tag&&i<10;){const a=Vy.get(s);if("function"==typeof a){const c=a();if("string"==typeof c){const l=c.matchAll(kfe);let u=!1;for(const[,d]of l)u=!0,r.push(`    at ${s.name} (${d})`);u||r.push(`    at ${s.name} (${c.replace(/^at /,"")})`)}else r.push(`    at ${s.name}`)}else r.push(`    at ${s.name}`);s=ar(s.parent),i++}}return r.join("\n")},c$=Symbol.for("effect/SpanAnnotation"),l$=e=>Py(e,void 0,{emptyCase:()=>[],dieCase:(t,n)=>[new Ly(n)],failCase:(t,n)=>[new Ly(n)],interruptCase:()=>[],parallelCase:(t,n,r)=>[...n,...r],sequentialCase:(t,n,r)=>[...n,...r]}),yu="Pending",u$=Symbol.for("effect/Deferred"),xfe={_E:e=>e,_A:e=>e},Ffe=e=>({_tag:yu,joiners:e});class jh{self;called=!1;constructor(t){this.self=t}next(t){return this.called?{value:t,done:!0}:(this.called=!0,{value:this.self,done:!1})}return(t){return{value:t,done:!0}}throw(t){throw t}[Symbol.iterator](){return new jh(this.self)}}const JM=Symbol.for("effect/EffectError"),vu=(e,t)=>{const n=new St("Blocked");return n.effect_instruction_i0=e,n.effect_instruction_i1=t,n},Ua=Symbol.for("effect/Effect");class Vfe{patch;op;_op=JD;constructor(t,n){this.patch=t,this.op=n}}class St{_op;effect_instruction_i0=void 0;effect_instruction_i1=void 0;effect_instruction_i2=void 0;trace=void 0;[Ua]=Bl;constructor(t){this._op=t}[J](t){return this===t}[Q](){return $e(this,z_(this))}pipe(){return W(this,arguments)}toJSON(){return{_id:"Effect",_op:this._op,effect_instruction_i0:rt(this.effect_instruction_i0),effect_instruction_i1:rt(this.effect_instruction_i1),effect_instruction_i2:rt(this.effect_instruction_i2)}}toString(){return ht(this.toJSON())}[He](){return this.toJSON()}[Symbol.iterator](){return new jh(new sh(this))}}class h${_op;effect_instruction_i0=void 0;effect_instruction_i1=void 0;effect_instruction_i2=void 0;trace=void 0;[Ua]=Bl;constructor(t){this._op=t,this._tag=t}[J](t){return Yy(t)&&"Failure"===t._op&&$(this.effect_instruction_i0,t.effect_instruction_i0)}[Q](){return _(ct(this._tag),ie(B(this.effect_instruction_i0)),$e(this))}get cause(){return this.effect_instruction_i0}pipe(){return W(this,arguments)}toJSON(){return{_id:"Exit",_tag:this._op,cause:this.cause.toJSON()}}toString(){return ht(this.toJSON())}[He](){return this.toJSON()}[Symbol.iterator](){return new jh(new sh(this))}}class p${_op;effect_instruction_i0=void 0;effect_instruction_i1=void 0;effect_instruction_i2=void 0;trace=void 0;[Ua]=Bl;constructor(t){this._op=t,this._tag=t}[J](t){return Yy(t)&&"Success"===t._op&&$(this.effect_instruction_i0,t.effect_instruction_i0)}[Q](){return _(ct(this._tag),ie(B(this.effect_instruction_i0)),$e(this))}get value(){return this.effect_instruction_i0}pipe(){return W(this,arguments)}toJSON(){return{_id:"Exit",_tag:this._op,value:rt(this.value)}}toString(){return ht(this.toJSON())}[He](){return this.toJSON()}[Symbol.iterator](){return new jh(new sh(this))}}const We=e=>G(e,Ua),Ce=e=>{const t=new St(kj);return t.effect_instruction_i0=e,t},g$=p(3,(e,t,n)=>en(r=>b(e,o=>b(At(z(()=>r(t(o)))),s=>z(()=>n(o,s)).pipe(kt({onFailure:i=>{switch(s._tag){case qe:return _e(dt(s.effect_instruction_i0,i));case ze:return _e(i)}},onSuccess:()=>s})))))),mt=p(2,(e,t)=>b(e,()=>D(t))),Jt=e=>mt(e,void 0),jy=function(){const e=new St(X_);switch(arguments.length){case 2:e.effect_instruction_i0=arguments[0],e.commit=arguments[1];break;case 3:e.effect_instruction_i0=arguments[0],e.effect_instruction_i1=arguments[1],e.commit=arguments[2];break;case 4:e.effect_instruction_i0=arguments[0],e.effect_instruction_i1=arguments[1],e.effect_instruction_i2=arguments[2],e.commit=arguments[3];break;default:throw new Error(rh("you're not supposed to end up here"))}return e},Bh=(e,t=Fo)=>{const n=new St(ah);let r;return n.effect_instruction_i0=o=>{r=e(o)},n.effect_instruction_i1=t,Ga(n,o=>We(r)?r:ee)},By=(e,t=Fo)=>z(()=>Bh(e,t)),ro=(e,t=Fo)=>jy(e,function(){let n,r;function o(c){n?n(c):void 0===r&&(r=c)}const s=new St(ah);let i,a;return s.effect_instruction_i0=c=>{n=c,r&&c(r)},s.effect_instruction_i1=t,1!==this.effect_instruction_i0.length?(a=new AbortController,i=Yt(()=>this.effect_instruction_i0(o,a.signal))):i=Yt(()=>this.effect_instruction_i0(o)),i||a?Ga(s,c=>(a&&a.abort(),i??ee)):s}),Ha=p(2,(e,t)=>yn(e,{onFailure:t,onSuccess:D})),Uy=Symbol.for("effect/SpanAnnotation"),$y=Symbol.for("effect/OriginalAnnotation"),tI=(e,t)=>he(t)?new Proxy(e,{has:(n,r)=>r===Uy||r===$y||r in n,get:(n,r)=>r===Uy?t.value:r===$y?e:n[r]}):e,qa=e=>H_(e)&&!(Uy in e)?Ce(t=>_e(un(tI(e,RI(t))))):_e(un(e)),Uh=e=>Hh(()=>un(new fhe(e))),za=e=>yn(e,{onFailure:t=>D(rr(t)),onSuccess:t=>D(Ct(t))}),At=e=>nI(e,{onFailure:ye,onSuccess:Ie}),ue=e=>H_(e)&&!(Uy in e)?Ce(t=>_e(Cs(tI(e,RI(t))))):_e(Cs(e)),Ar=e=>b(R(e),ue),_e=e=>{const t=new h$(qe);return t.effect_instruction_i0=e,t},Hh=e=>b(R(e),_e),bu=Ce(e=>D(e.id())),ws=e=>Ce(t=>e(t.id())),b=p(2,(e,t)=>{const n=new St(Z_);return n.effect_instruction_i0=e,n.effect_instruction_i1=t,n}),m$=e=>{const t=new St("OnStep");return t.effect_instruction_i0=e,t},kr=e=>b(e,we),nI=p(2,(e,t)=>kt(e,{onFailure:n=>D(t.onFailure(n)),onSuccess:n=>D(t.onSuccess(n))})),kt=p(2,(e,t)=>{const n=new St(Y_);return n.effect_instruction_i0=e,n.effect_instruction_i1=t.onFailure,n.effect_instruction_i2=t.onSuccess,n}),yn=p(2,(e,t)=>kt(e,{onFailure:n=>{if((e=>pi(_u(e,ln(),(t,n)=>n._tag===cu?A(_(t,lt(n.defect))):T())))(n).length>0)return _e((e=>Ba(e,{onEmpty:Or,onFail:t=>un(t),onDie:t=>un(t),onInterrupt:t=>lr(t),onSequential:(t,n)=>dt(t,n),onParallel:(t,n)=>Qt(t,n)}))(n));const o=(e=>pi(_u(e,ln(),(t,n)=>n._tag===uu?A(_(t,lt(n.error))):T())))(n);return o.length>0?t.onFailure(IB(o)):_e(n)},onSuccess:t.onSuccess})),qn=p(2,(e,t)=>z(()=>{const n=le(e),r=hM(n.length);let o=0;return mt(zy({while:()=>o<n.length,body:()=>t(n[o],o),step:s=>{r[o++]=s}}),r)})),Lo=p(2,(e,t)=>z(()=>{const n=le(e);let r=0;return zy({while:()=>r<n.length,body:()=>t(n[r],r),step:()=>{r++}})})),Wa=e=>{const t=new St(Ia);return t.effect_instruction_i0=(e=>ys(e,e))(1),t.effect_instruction_i1=()=>e,t},F=p(2,(e,t)=>b(e,n=>R(()=>t(n)))),rI=p(2,(e,t)=>yn(e,{onFailure:n=>Ar(()=>t.onFailure(n)),onSuccess:n=>R(()=>t.onSuccess(n))})),zh=p(2,(e,t)=>kt(e,{onFailure:n=>{const r=gu(n);switch(r._tag){case"Left":return Ar(()=>t(r.left));case"Right":return _e(r.right)}},onSuccess:D})),oo=p(2,(e,t)=>en(n=>kt(n(e),{onFailure:r=>{const o=ye(r);return kt(t(o),{onFailure:s=>ye(dt(r,s)),onSuccess:()=>o})},onSuccess:r=>{const o=Ie(r);return Ne(t(o),o)}}))),Ga=p(2,(e,t)=>oo(e,ev({onFailure:n=>YM(n)?Jt(t((e=>_u(e,mi(),(t,n)=>n._tag===du?A(_(t,wh(n.fiberId))):T()))(n))):ee,onSuccess:()=>ee}))),D=e=>{const t=new p$(ze);return t.effect_instruction_i0=e,t},z=e=>{const t=new St(X_);return t.commit=e,t},R=e=>{const t=new St("Sync");return t.effect_instruction_i0=e,t},Xa=p(e=>3===e.length||2===e.length&&!(H_(e[1])&&"onlyEffect"in e[1]),(e,t)=>b(e,n=>{const r="function"==typeof t?t(n):t;return We(r)?mt(r,n):(e=>G(e,"then")&&Sa(e.then))(r)?Bh(o=>{r.then(s=>o(D(n)),s=>o(ue(new Ja(s))))}):D(n)})),Ka=e=>{const t=new St(Ia);return t.effect_instruction_i0=zU(1),t.effect_instruction_i1=()=>e,t},en=e=>jy(e,function(){const t=new St(Ia);return t.effect_instruction_i0=zU(1),t.effect_instruction_i1=n=>Fy(n)?Yt(()=>this.effect_instruction_i0(Wa)):Yt(()=>this.effect_instruction_i0(Ka)),t}),ee=D(void 0),zy=e=>{const t=new St(Q_);return t.effect_instruction_i0=e.while,t.effect_instruction_i1=e.body,t.effect_instruction_i2=e.step,t},Za=e=>{const t=new St(J_);return typeof e?.priority<"u"?x$(t,e.priority):t},Wy=p(2,(e,t)=>b(e,n=>F(t,r=>[n,r]))),Xh=p(2,(e,t)=>b(e,n=>mt(t,n))),Ne=p(2,(e,t)=>b(e,()=>t)),so=p(2,(e,t)=>b(e.interruptAsFork(t),()=>e.await)),iI={_tag:"Info",syslog:6,label:"INFO",ordinal:2e4,pipe(){return W(this,arguments)}},aI={_tag:"Debug",syslog:7,label:"DEBUG",ordinal:1e4,pipe(){return W(this,arguments)}},Qfe=Symbol.for("effect/FiberRef"),Jfe={_A:e=>e},Vo=e=>Ce(t=>Ie(t.getFiberRef(e))),Nr=p(2,(e,t)=>b(Vo(e),t)),Cu=p(2,(e,t)=>R$(e,()=>[void 0,t])),R$=p(2,(e,t)=>Ce(n=>{const[r,o]=t(n.getFiberRef(e));return n.setFiberRef(e,o),D(r)})),vn=p(3,(e,t,n)=>g$(Xh(Vo(t),Cu(t,n)),()=>e,r=>Cu(t,r))),zt=(e,t)=>wu(e,{differ:GM(),fork:t?.fork??we,join:t?.join}),k$=e=>{const t=no({empty:yU(),combine:(e,t)=>Ty(t)(e),diff:(e,t)=>((e,t)=>{const n=new Map(e.unsafeMap);let r=yU();for(const[o,s]of t.unsafeMap.entries())if(n.has(o)){const i=n.get(o);n.delete(o),$(i,s)||(r=Ty(ode(o,()=>s))(r))}else n.delete(o),r=Ty(ede(o,s))(r);for(const[o]of n.entries())r=Ty(nde(o))(r);return r})(e,t),patch:(e,t)=>ide(t)(e)});return wu(e,{differ:t,fork:t.empty})},wu=(e,t)=>({...fs,[Qfe]:Jfe,initial:e,commit(){return Vo(this)},diff:(r,o)=>t.differ.diff(r,o),combine:(r,o)=>t.differ.combine(r,o),patch:r=>o=>t.differ.patch(r,o),fork:t.fork,join:t.join??((r,o)=>o)}),ihe=e=>wu(e,{differ:HU,fork:HU.empty}),jo=me(Symbol.for("effect/FiberRef/currentContext"),()=>k$(Ra())),Su=me(Symbol.for("effect/FiberRef/currentSchedulingPriority"),()=>zt(0)),cI=me(Symbol.for("effect/FiberRef/currentMaxOpsBeforeYield"),()=>zt(2048)),Kh=me(Symbol.for("effect/FiberRef/currentLogAnnotation"),()=>zt(wy())),ahe=me(Symbol.for("effect/FiberRef/currentLogLevel"),()=>zt(iI)),N$=me(Symbol.for("effect/FiberRef/currentLogSpan"),()=>zt(La())),x$=p(2,(e,t)=>vn(e,Su,t)),P$=me(Symbol.for("effect/FiberRef/currentUnhandledErrorLogLevel"),()=>zt(A(aI))),Du=me(Symbol.for("effect/FiberRef/currentMetricLabels"),()=>(()=>{const t=OU(GM());return wu([],{differ:t,fork:t.empty})})()),Xy=me(Symbol.for("effect/FiberRef/currentForkScopeOverride"),()=>zt(T(),{fork:()=>T(),join:(e,t)=>e})),Zh=me(Symbol.for("effect/FiberRef/currentInterruptedCause"),()=>zt(Or,{fork:()=>Or,join:(e,t)=>e})),j$=function(){class e extends globalThis.Error{commit(){return ue(this)}toJSON(){return{...this}}[He](){return this.toString!==globalThis.Error.prototype.toString?this.stack?`${this.toString()}\n${this.stack.split("\n").slice(1).join("\n")}`:this.toString():"Bun"in globalThis?Lh(Cs(this),{renderErrorCause:!0}):this}}return Object.assign(e.prototype,eM),e}(),Qa=(e,t)=>{class n extends j${_tag=t}return Object.assign(n.prototype,e),n.prototype.name=t,n},pI=Symbol.for("effect/Cause/errors/RuntimeException"),fhe=Qa({[pI]:pI},"RuntimeException"),gI=Symbol.for("effect/Cause/errors/InterruptedException"),_I=Symbol.for("effect/Cause/errors/NoSuchElement"),bi=Qa({[_I]:_I},"NoSuchElementException"),EI=Symbol.for("effect/Cause/errors/UnknownException"),Ja=function(){class e extends j${cause;_tag="UnknownException";error;constructor(n,r){super(r??"An unknown error occurred",{cause:n}),this.cause=n,this.error=n}}return Object.assign(e.prototype,{[EI]:EI,name:"UnknownException"}),e}(),Yy=e=>We(e)&&"_tag"in e&&("Success"===e._tag||"Failure"===e._tag),ec=(e,t)=>Fhe(e,t?.parallel?Qt:dt),tc=e=>ye(Cs(e)),ye=e=>{const t=new h$(qe);return t.effect_instruction_i0=e,t},Jy=p(2,(e,t)=>{switch(e._tag){case qe:return ye(e.effect_instruction_i0);case ze:return Ie(t(e.effect_instruction_i0))}}),ev=p(2,(e,{onFailure:t,onSuccess:n})=>{switch(e._tag){case qe:return t(e.effect_instruction_i0);case ze:return n(e.effect_instruction_i0)}}),Ie=e=>{const t=new p$(ze);return t.effect_instruction_i0=e,t},dr=Ie(void 0),Bo=p(3,(e,t,{onFailure:n,onSuccess:r})=>{switch(e._tag){case qe:switch(t._tag){case ze:return ye(e.effect_instruction_i0);case qe:return ye(n(e.effect_instruction_i0,t.effect_instruction_i0))}case ze:switch(t._tag){case ze:return Ie(r(e.effect_instruction_i0,t.effect_instruction_i0));case qe:return ye(t.effect_instruction_i0)}}}),Fhe=(e,t)=>{const n=Gl(e);return pt(n)?_(ut(n),Oa(_(Me(n),Jy(qt)),(r,o)=>_(r,Bo(o,{onSuccess:(s,i)=>_(s,lt(i)),onFailure:t}))),Jy(pi),Jy(r=>Hn(r)),A):T()},SI=e=>({...fs,[u$]:xfe,state:Dh(Ffe([])),commit(){return xr(this)},blockingOn:e}),xr=e=>By(t=>{const n=gs(e.state);switch(n._tag){case"Done":return t(n.effect);case yu:return n.joiners.push(t),Whe(e,t)}},e.blockingOn),MI=(e,t)=>{const n=gs(e.state);if(n._tag===yu){Mh(e.state,(e=>({_tag:"Done",effect:e}))(t));for(let r=0,o=n.joiners.length;r<o;r++)n.joiners[r](t)}},Whe=(e,t)=>R(()=>{const n=gs(e.state);if(n._tag===yu){const r=n.joiners.indexOf(t);r>=0&&n.joiners.splice(r,1)}}),RI=e=>{const t=e.currentSpan;return void 0!==t&&"Span"===t._tag?A(t):T()},OI=Symbol.for("effect/Clock"),Ds=Ta("effect/Clock"),G$={unsafeSchedule(e,t){const n=Xl(t);if(n>2147483647)return us;let r=!1;const o=setTimeout(()=>{r=!0,e()},n);return()=>(clearTimeout(o),!r)}},X$=function(){const e=BigInt(1e6);if(typeof performance>"u")return()=>BigInt(Date.now())*e;if("number"==typeof performance.timeOrigin&&0===performance.timeOrigin)return()=>BigInt(Math.round(1e6*performance.now()));const t=BigInt(Date.now())*e-BigInt(Math.round(1e6*performance.now()));return()=>t+BigInt(Math.round(1e6*performance.now()))}(),Yhe=function(){const e="object"==typeof process&&"hrtime"in process&&"function"==typeof process.hrtime.bigint?process.hrtime:void 0;if(!e)return X$;const t=X$()-e.bigint();return()=>t+e.bigint()}();class Qhe{[OI]=OI;unsafeCurrentTimeMillis(){return Date.now()}unsafeCurrentTimeNanos(){return Yhe()}currentTimeMillis=R(()=>this.unsafeCurrentTimeMillis());currentTimeNanos=R(()=>this.unsafeCurrentTimeNanos());scheduler(){return D(G$)}sleep(t){return ro(n=>{const r=G$.unsafeSchedule(()=>n(ee),t);return Jt(R(r))})}}const K$=()=>new Qhe,wi=tB,Q$="InvalidData",J$="MissingData",eH="SourceUnavailable",tH="Unsupported",AI=Symbol.for("effect/ConfigError"),Tu={_tag:"ConfigError",[AI]:AI},nH=(e,t)=>{const n=Object.create(Tu);return n._op="And",n.left=e,n.right=t,Object.defineProperty(n,"toString",{enumerable:!1,value(){return`${this.left} and ${this.right}`}}),n},rH=(e,t)=>{const n=Object.create(Tu);return n._op="Or",n.left=e,n.right=t,Object.defineProperty(n,"toString",{enumerable:!1,value(){return`${this.left} or ${this.right}`}}),n},epe=(e,t,n={pathDelim:"."})=>{const r=Object.create(Tu);return r._op=Q$,r.path=e,r.message=t,Object.defineProperty(r,"toString",{enumerable:!1,value(){return`(Invalid data at ${_(this.path,Aa(n.pathDelim))}: "${this.message}")`}}),r},nc=(e,t,n={pathDelim:"."})=>{const r=Object.create(Tu);return r._op=J$,r.path=e,r.message=t,Object.defineProperty(r,"toString",{enumerable:!1,value(){return`(Missing data at ${_(this.path,Aa(n.pathDelim))}: "${this.message}")`}}),r},tpe=(e,t,n,r={pathDelim:"."})=>{const o=Object.create(Tu);return o._op=eH,o.path=e,o.message=t,o.cause=n,Object.defineProperty(o,"toString",{enumerable:!1,value(){return`(Source unavailable at ${_(this.path,Aa(r.pathDelim))}: "${this.message}")`}}),o},npe=(e,t,n={pathDelim:"."})=>{const r=Object.create(Tu);return r._op=tH,r.path=e,r.message=t,Object.defineProperty(r,"toString",{enumerable:!1,value(){return`(Unsupported operation at ${_(this.path,Aa(n.pathDelim))}: "${this.message}")`}}),r},rc=p(2,(e,t)=>{switch(e._op){case"And":return nH(rc(e.left,t),rc(e.right,t));case"Or":return rH(rc(e.left,t),rc(e.right,t));case Q$:return epe([...t,...e.path],e.message);case J$:return nc([...t,...e.path],e.message);case eH:return tpe([...t,...e.path],e.message,e.cause);case tH:return npe([...t,...e.path],e.message)}}),spe={_tag:"Empty"},kI=p(2,(e,t)=>{let n=VM(t),r=e;for(;LM(n);){const o=n.head;switch(o._tag){case"Empty":n=n.tail;break;case"AndThen":n=Pa(o.first,Pa(o.second,n.tail));break;case"MapName":r=Wl(r,o.f),n=n.tail;break;case"Nested":r=sy(r,o.name),n=n.tail;break;case"Unnested":if(!_(ph(r),rce(o.name)))return rr(nc(r,`Expected ${o.name} to be in path in ConfigProvider#unnested`));r=fi(r),n=n.tail}}return Ct(r)}),nv=(e,t)=>[...e,...t],oH=Symbol.for("effect/ConfigProvider"),rv=Ta("effect/ConfigProvider"),sH=Symbol.for("effect/ConfigProviderFlat"),_pe=e=>({[oH]:oH,pipe(){return W(this,arguments)},...e}),ype=e=>{const{pathDelim:t,seqDelim:n}=Object.assign({},{pathDelim:"_",seqDelim:","},e),s=()=>typeof process<"u"&&"env"in process&&"object"==typeof process.env?process.env:{};return(e=>_pe({load:t=>b(Pr(e,[],t,!1),n=>sr(ph(n),{onNone:()=>ue(nc([],`Expected a single value having structure: ${t}`)),onSome:D})),flattened:e}))((e=>({[sH]:sH,patch:e.patch,load:(t,n,r=!0)=>e.load(t,n,r),enumerateChildren:e.enumerateChildren}))({load:(c,l,u=!0)=>{const d=(c=>_(c,Aa(t)))(c),f=s();return _(d in f?A(f[d]):T(),zh(()=>nc(c,`Expected ${d} to exist in the process context`)),b(g=>aH(g,c,l,n,u)))},enumerateChildren:c=>R(()=>{const l=s(),f=Object.keys(l).map(h=>(c=>c.split(t))(h.toUpperCase())).filter(h=>{for(let g=0;g<c.length;g++){const m=_(c,dB(g)),y=h[g];if(void 0===y||m!==y)return!1}return!0}).flatMap(h=>h.slice(c.length,c.length+1));return(e=>{const t=ru(xo());for(const n of e)Ir(t,n);return ou(t)})(f)}),patch:spe}))},Pr=(e,t,n,r)=>{const o=n;switch(o._tag){case"Constant":return D(Dr(o.value));case"Described":return z(()=>Pr(e,t,o.config,r));case"Fail":return ue(nc(t,o.message));case"Fallback":return _(z(()=>Pr(e,t,o.first,r)),Ha(s=>o.condition(s)?_(Pr(e,t,o.second,r),Ha(i=>ue(rH(s,i)))):ue(s)));case"Lazy":return z(()=>Pr(e,t,o.config(),r));case"MapOrFail":return z(()=>_(Pr(e,t,o.original,r),b(qn(s=>_(o.mapOrFail(s),zh(rc(((e,t)=>{let n=t;if("Nested"===n._tag){const r=e.slice();for(;"Nested"===n._tag;)r.push(n.name),n=n.config;return r}return e})(t,o.original))))))));case"Nested":return z(()=>Pr(e,nv(t,Dr(o.name)),o.config,r));case"Primitive":return _(kI(t,e.patch),b(s=>_(e.load(s,o,r),b(i=>{if(0===i.length){const a=_((e=>cn(e)?A(pM(e)):T())(s),ir(()=>"<n/a>"));return ue(nc([],`Expected ${o.description} with name ${a}`))}return D(i)}))));case"Sequence":return _(kI(t,e.patch),b(s=>_(e.enumerateChildren(s),b(Dpe),b(i=>0===i.length?z(()=>F(Pr(e,t,o.config,!0),Dr)):_(qn(i,a=>Pr(e,Cce(t,`[${a}]`),o.config,!0)),F(a=>{const c=mB(a);return Dr(0===c.length?[]:c)}))))));case"HashMap":return z(()=>_(kI(t,e.patch),b(s=>_(e.enumerateChildren(s),b(i=>_(i,qn(a=>Pr(e,nv(s,Dr(a)),o.valueConfig,r)),F(a=>0===a.length?Dr(wy()):_(Spe(a),Wl(c=>_ue(pB(le(i),c)))))))))));case"ZipWith":return z(()=>_(Pr(e,t,o.left,r),za,b(s=>_(Pr(e,t,o.right,r),za,b(i=>{if(or(s)&&or(i))return ue(nH(s.left,i.left));if(or(s)&&hh(i))return ue(s.left);if(hh(s)&&or(i))return ue(i.left);if(hh(s)&&hh(i)){const a=_(t,Aa(".")),c=Cpe(t,a),[l,u]=((e,t,n,r)=>{const o=yB(n.length,c=>c>=r.length?T():A([e(c),c+1])),s=yB(r.length,c=>c>=n.length?T():A([t(c),c+1]));return[nv(n,o),nv(r,s)]})(c,c,_(s.right,Wl(Ct)),_(i.right,Wl(Ct)));return _(l,pB(u),qn(([d,f])=>_(Wy(d,f),F(([h,g])=>o.zip(h,g)))))}throw new Error("BUG: ConfigProvider.fromFlatLoop - please report an issue at https://github.com/Effect-TS/effect/issues")})))))}},Cpe=(e,t)=>n=>rr(nc(e,`The element at index ${n} in a sequence at path "${t}" was missing`)),aH=(e,t,n,r,o)=>o?_(((e,t)=>e.split(new RegExp(`\\s*${(e=>e.replace(/[/\\^$*+?.()|[\]{}]/g,"\\$&"))(t)}\\s*`)))(e,r),qn(s=>n.parse(s.trim())),zh(rc(t))):_(n.parse(e),rI({onFailure:rc(t),onSuccess:Dr})),Spe=e=>Object.keys(e[0]).map(t=>e.map(n=>n[t])),Dpe=e=>_(qn(e,Tpe),rI({onFailure:()=>[],onSuccess:gh(wi)}),za,F(Xj)),Ipe=/^(\[(\d+)\])$/,Tpe=e=>{const t=e.match(Ipe);if(null!==t){const n=t[2];return _(void 0!==n&&n.length>0?A(n):T(),fM(cH))}return T()},cH=e=>{const t=Number.parseInt(e);return Number.isNaN(t)?T():A(t)},lH=Symbol.for("effect/Console"),Ru=Ta("effect/Console"),Fpe={[lH]:lH,assert:(e,...t)=>R(()=>{console.assert(e,...t)}),clear:R(()=>{console.clear()}),count:e=>R(()=>{console.count(e)}),countReset:e=>R(()=>{console.countReset(e)}),debug:(...e)=>R(()=>{console.debug(...e)}),dir:(e,t)=>R(()=>{console.dir(e,t)}),dirxml:(...e)=>R(()=>{console.dirxml(...e)}),error:(...e)=>R(()=>{console.error(...e)}),group:e=>R(e?.collapsed?()=>console.groupCollapsed(e?.label):()=>console.group(e?.label)),groupEnd:R(()=>{console.groupEnd()}),info:(...e)=>R(()=>{console.info(...e)}),log:(...e)=>R(()=>{console.log(...e)}),table:(e,t)=>R(()=>{console.table(e,t)}),time:e=>R(()=>console.time(e)),timeEnd:e=>R(()=>console.timeEnd(e)),timeLog:(e,...t)=>R(()=>{console.timeLog(e,...t)}),trace:(...e)=>R(()=>{console.trace(...e)}),warn:(...e)=>R(()=>{console.warn(...e)}),unsafe:console},uH=Symbol.for("effect/Random"),sv=Ta("effect/Random");class Ppe{seed;[uH]=uH;PRNG;constructor(t){this.seed=t,this.PRNG=new iae(t)}get next(){return R(()=>this.PRNG.number())}get nextBoolean(){return F(this.next,t=>t>.5)}get nextInt(){return R(()=>this.PRNG.integer(Number.MAX_SAFE_INTEGER))}nextRange(t,n){return F(this.next,r=>(n-t)*r+t)}nextIntBetween(t,n){return R(()=>this.PRNG.integer(n-t)+t)}shuffle(t){return Lpe(t,n=>this.nextIntBetween(0,n))}}const Lpe=(e,t)=>z(()=>_(R(()=>Array.from(e)),b(n=>{const r=[];for(let o=n.length;o>=2;o-=1)r.push(o);return _(r,Lo(o=>_(t(o),F(s=>Vpe(n,o-1,s)))),mt(Gl(n)))}))),Vpe=(e,t,n)=>{const r=e[t];return e[t]=e[n],e[n]=r,e},jpe=e=>new Ppe(B(e)),NI=Symbol.for("effect/Tracer"),dH=e=>({[NI]:NI,...e}),oc=Ta("effect/Tracer"),Ms=Ta("effect/ParentSpan"),fH=function(){return function(n){let r="";for(let o=0;o<n;o++)r+="abcdef0123456789".charAt(Math.floor(16*Math.random()));return r}}();class Bpe{name;parent;context;links;startTime;kind;_tag="Span";spanId;traceId="native";sampled=!0;status;attributes;events=[];constructor(t,n,r,o,s,i){this.name=t,this.parent=n,this.context=r,this.links=o,this.startTime=s,this.kind=i,this.status={_tag:"Started",startTime:s},this.attributes=new Map,this.traceId="Some"===n._tag?n.value.traceId:fH(32),this.spanId=fH(16)}end(t,n){this.status={_tag:"Ended",endTime:t,exit:n,startTime:this.status.startTime}}attribute(t,n){this.attributes.set(t,n)}event(t,n,r){this.events.push([t,n,r??{}])}}const Upe=dH({span:(e,t,n,r,o,s)=>new Bpe(e,t,n,r,o,s),context:e=>e()}),Hpe=_(Ra(),Ht(Ds,K$()),Ht(Ru,Fpe),Ht(sv,jpe(Math.random())),Ht(rv,ype()),Ht(oc,Upe)),Wt=me(Symbol.for("effect/DefaultServices/currentServices"),()=>k$(Hpe)),ege=lh,tge=mae;class lv extends tge{}const Au={_tag:"Sequential"};const UI=Symbol.for("effect/FiberRefs");class Si{locals;[UI]=UI;constructor(t){this.locals=t}pipe(){return W(this,arguments)}}const vH=p(3,(e,t,n)=>{const r=new Map(e.locals);return n.locals.forEach((o,s)=>{const i=o[0][1];if(!o[0][0][J](t)){if(!r.has(s)){if($(i,s.initial))return;return void r.set(s,[[t,s.join(s.initial,i)]])}const a=r.get(s),[c,l]=((e,t,n,r=!1)=>{const o=e;let c,s=t,i=n,a=r;for(;void 0===c;)if(cn(s)&&cn(i)){const l=$n(s)[0],u=fi(s),d=$n(i)[0],f=$n(i)[1],h=fi(i);l.startTimeMillis<d.startTimeMillis?(i=h,a=!0):l.startTimeMillis>d.startTimeMillis?s=u:l.id<d.id?(i=h,a=!0):l.id>d.id?s=u:c=[f,a]}else c=[o.initial,!0];return c})(s,a,o);if(l){const u=s.diff(c,i),d=a[0][1],f=s.join(d,s.patch(u)(d));if(!$(d,f)){let h;const g=a[0][0];h=g[J](t)?[[g,f],...a.slice(1)]:[[t,f],...a],r.set(s,h)}}}}),new Si(r)}),bH=p(2,(e,t)=>{const n=new Map;return EH(e,n,t),new Si(n)}),EH=(e,t,n)=>{e.locals.forEach((r,o)=>{const s=r[0][1],i=o.patch(o.fork)(s);$(s,i)?t.set(o,r):t.set(o,[[n,i],...r])})},$I=p(2,(e,t)=>{const n=new Map(e.locals);return n.delete(t),new Si(n)}),wH=p(2,(e,t)=>e.locals.has(t)?A($n(e.locals.get(t))[1]):T()),ku=p(2,(e,t)=>_(wH(e,t),ir(()=>t.initial))),uv=p(2,(e,{fiberId:t,fiberRef:n,value:r})=>{if(0===e.locals.size)return new Si(new Map([[n,[[t,r]]]]));const o=new Map(e.locals);return HI(o,t,n,r),new Si(o)}),HI=(e,t,n,r)=>{const o=e.get(n)??[];let s;if(cn(o)){const[i,a]=$n(o);if(i[J](t)){if($(a,r))return;s=[[t,r],...o.slice(1)]}else s=[[t,r],...o]}else s=[[t,r]];e.set(n,s)},uge=ku,hge=p(2,(e,{entries:t,forkAs:n})=>{if(0===e.locals.size)return new Si(new Map(t));const r=new Map(e.locals);return void 0!==n&&EH(e,r,n),t.forEach(([o,s])=>{1===s.length?HI(r,s[0][0],o,s[0][1]):s.forEach(([i,a])=>{HI(r,i,o,a)})}),new Si(r)}),pge=function ige(){return function yH(e){return new Si(e)}(new Map)},RH="AndThen",OH={_tag:"Empty"},dv=p(2,(e,t)=>({_tag:RH,first:e,second:t})),np=(e,t)=>{const n=new Map(e.locals);let r=OH;for(const[o,s]of t.locals.entries()){const i=$n(s)[1],a=n.get(o);if(void 0!==a){const c=$n(a)[1];$(c,i)||(r=dv({_tag:"Update",fiberRef:o,patch:o.diff(c,i)})(r))}else r=dv({_tag:"Add",fiberRef:o,value:i})(r);n.delete(o)}for(const[o]of n.entries())r=dv({_tag:"Remove",fiberRef:o})(r);return r},rp=p(3,(e,t,n)=>{let r=n,o=Dr(e);for(;cn(o);){const s=$n(o),i=fi(o);switch(s._tag){case"Empty":o=i;break;case"Add":r=uv(r,{fiberId:t,fiberRef:s.fiberRef,value:s.value}),o=i;break;case"Remove":r=$I(r,s.fiberRef),o=i;break;case"Update":{const a=ku(r,s.fiberRef);r=uv(r,{fiberId:t,fiberRef:s.fiberRef,value:s.fiberRef.patch(s.patch)(a)}),o=i;break}case RH:o=sy(s.first)(sy(s.second)(i))}}return r}),fv="effect/FiberStatus",Di=Symbol.for(fv),hv="Done",zI="Running",WI="Suspended",gge=ct(`${fv}-${hv}`);class mge{[Di]=Di;_tag=hv;[Q](){return gge}[J](t){return pv(t)&&t._tag===hv}}class _ge{runtimeFlags;[Di]=Di;_tag=zI;constructor(t){this.runtimeFlags=t}[Q](){return _(B(fv),ie(B(this._tag)),ie(B(this.runtimeFlags)),$e(this))}[J](t){return pv(t)&&t._tag===zI&&this.runtimeFlags===t.runtimeFlags}}class yge{runtimeFlags;blockingOn;[Di]=Di;_tag=WI;constructor(t,n){this.runtimeFlags=t,this.blockingOn=n}[Q](){return _(B(fv),ie(B(this._tag)),ie(B(this.runtimeFlags)),ie(B(this.blockingOn)),$e(this))}[J](t){return pv(t)&&t._tag===WI&&this.runtimeFlags===t.runtimeFlags&&$(this.blockingOn,t.blockingOn)}}const pv=e=>G(e,Di),Dge=new mge,kH=e=>new _ge(e),LH=iI,kge=oB(_(wi,nB(e=>e.ordinal))),BH=Symbol.for("effect/Micro"),gv=Symbol.for("effect/Micro/MicroExit"),GI=Symbol.for("effect/Micro/MicroCause"),xge={_E:we};class XI extends globalThis.Error{_tag;traces;[GI];constructor(t,n,r){const o=`MicroCause.${t}`;let s,i,a;if(n instanceof globalThis.Error){s=`(${o}) ${n.name}`,i=n.message;const c=i.split("\n").length;a=n.stack?`(${o}) ${n.stack.split("\n").slice(0,c+3).join("\n")}`:`${s}: ${i}`}else s=o,i=jl(n,0),a=`${s}: ${i}`;r.length>0&&(a+=`\n    ${r.join("\n    ")}`),super(i),this._tag=t,this.traces=r,this[GI]=xge,this.name=s,this.stack=a}pipe(){return W(this,arguments)}toString(){return this.stack}[He](){return this.stack}}class Pge extends XI{defect;constructor(t,n=[]){super("Die",t,n),this.defect=t}}class Vge extends XI{constructor(t=[]){super("Interrupt","interrupted",t)}}const jge=(e=[])=>new Vge(e),$H=e=>"Interrupt"===e._tag,HH=Symbol.for("effect/Micro/MicroFiber"),Uge={_A:we,_E:we};class qH{context;interruptible;[HH];_stack=[];_observers=[];_exit;_children;currentOpCount=0;constructor(t,n=!0){this.context=t,this.interruptible=n,this[HH]=Uge}getRef(t){return((e,t)=>e.unsafeMap.has(t.key)?e.unsafeMap.get(t.key):ny(t))(this.context,t)}addObserver(t){return this._exit?(t(this._exit),U_):(this._observers.push(t),()=>{const n=this._observers.indexOf(t);n>=0&&this._observers.splice(n,1)})}_interrupted=!1;unsafeInterrupt(){this._exit||(this._interrupted=!0,this.interruptible&&this.evaluate(JI))}unsafePoll(){return this._exit}evaluate(t){if(this._exit)return;if(void 0!==this._yielded){const o=this._yielded;this._yielded=void 0,o()}const n=this.runLoop(t);if(n===Fu)return;const r=KI.interruptChildren&&KI.interruptChildren(this);if(void 0!==r)return this.evaluate(An(r,()=>n));this._exit=n;for(let o=0;o<this._observers.length;o++)this._observers[o](n);this._observers.length=0}runLoop(t){let n=!1,r=t;this.currentOpCount=0;try{for(;;){if(this.currentOpCount++,!n&&this.getRef(vv).shouldYield(this)){n=!0;const o=r;r=An(Wge,()=>o)}if(r=r[ZI](this),r===Fu){const o=this._yielded;return gv in o?(this._yielded=void 0,o):Fu}}}catch(o){return G(r,ZI)?Lu(o):Lu(`MicroFiber.runLoop: Not a valid effect: ${String(r)}`)}}getCont(t){for(;;){const n=this._stack.pop();if(!n)return;const r=n[mv]&&n[mv](this);if(r)return{[t]:r};if(n[t])return n}}_yielded=void 0;yieldWith(t){return this._yielded=t,Fu}children(){return this._children??=new Set}}const KI=me("effect/Micro/fiberMiddleware",()=>({interruptChildren:void 0})),WH=Symbol.for("effect/Micro/identifier"),xe=Symbol.for("effect/Micro/args"),ZI=Symbol.for("effect/Micro/evaluate"),Is=Symbol.for("effect/Micro/successCont"),xu=Symbol.for("effect/Micro/failureCont"),mv=Symbol.for("effect/Micro/ensureCont"),Fu=Symbol.for("effect/Micro/Yield"),Hge={_A:we,_E:we,_R:we},qge={...ege,_op:"Micro",[BH]:Hge,pipe(){return W(this,arguments)},[Symbol.iterator](){return new oh(new sh(this))},toJSON(){return{_id:"Micro",op:this[WH],...xe in this?{args:this[xe]}:void 0}},toString(){return ht(this)},[He](){return ht(this)}};function zge(e){return Lu("Micro.evaluate: Not implemented")}const op=e=>({...qge,[WH]:e.op,[ZI]:e.eval??zge,[Is]:e.contA,[xu]:e.contE,[mv]:e.ensure}),Ts=e=>{const t=op(e);return function(){const n=Object.create(t);return n[xe]=!1===e.single?arguments:arguments[0],n}},GH=e=>{const t={...op(e),[gv]:gv,_tag:e.op,get[e.prop](){return this[xe]},toJSON(){return{_id:"MicroExit",_tag:e.op,[e.prop]:this[xe]}},[J](n){return eme(n)&&n._tag===e.op&&$(this[xe],n[xe])},[Q](){return $e(this,ie(ct(e.op))(B(this[xe])))}};return function(n){const r=Object.create(t);return r[xe]=n,r[Is]=void 0,r[xu]=void 0,r[mv]=void 0,r}},Gt=GH({op:"Success",prop:"value",eval(e){const t=e.getCont(Is);return t?t[Is](this[xe],e):e.yieldWith(this)}}),Mi=GH({op:"Failure",prop:"cause",eval(e){let t=e.getCont(xu);for(;$H(this[xe])&&t&&e.interruptible;)t=e.getCont(xu);return t?t[xu](this[xe],e):e.yieldWith(this)}}),Wge=Ts({op:"Yield",eval(e){let t=!1;return e.getRef(vv).scheduleTask(()=>{t||e.evaluate(ic)},this[xe]??0),e.yieldWith(()=>{t=!0})}})(0),Ti=Gt(void 0),io=Ts({op:"WithMicroFiber",eval(e){return this[xe](e)}}),An=p(2,(e,t)=>{const n=Object.create(Qge);return n[xe]=e,n[Is]=t,n}),Qge=op({op:"OnSuccess",eval(e){return e._stack.push(this),this[xe]}}),eme=e=>G(e,gv),yv=Gt,ip=Mi,JI=ip(jge()),Lu=e=>ip(((e,t=[])=>new Pge(e,t))(e)),ic=yv(void 0),nme="setImmediate"in globalThis?globalThis.setImmediate:e=>setTimeout(e,0);class t0{tasks=[];running=!1;scheduleTask(t,n){this.tasks.push(t),this.running||(this.running=!0,nme(this.afterScheduled))}afterScheduled=()=>{this.running=!1,this.runTasks()};runTasks(){const t=this.tasks;this.tasks=[];for(let n=0,r=t.length;n<r;n++)t[n]()}shouldYield(t){return t.currentOpCount>=t.getRef(ame)}flush(){for(;this.tasks.length>0;)this.runTasks()}}const rme=p(2,(e,t)=>io(n=>{const r=n.context;return n.context=t(r),YH(e,()=>(n.context=r,Ti))})),sme=p(2,(e,t)=>rme(e,fh(t)));class ame extends(oy()("effect/Micro/currentMaxOpsBeforeYield",{defaultValue:()=>2048})){}class vv extends(oy()("effect/Micro/currentScheduler",{defaultValue:()=>new t0})){}const fme=p(2,(e,t)=>{const n=Object.create(hme);return n[xe]=e,n[Is]=t.onSuccess,n[xu]=t.onFailure,n}),hme=op({op:"OnSuccessAndFailure",eval(e){return e._stack.push(this),this[xe]}}),YH=p(2,(e,t)=>JH(n=>fme(n(e),{onFailure:r=>An(t(ip(r)),()=>Mi(r)),onSuccess:r=>An(t(yv(r)),()=>Gt(r))}))),Ev=Ts({op:"SetInterruptible",ensure(e){if(e.interruptible=this[xe],e._interrupted&&e.interruptible)return()=>JI}}),s0=e=>io(t=>t.interruptible?e:(t.interruptible=!0,t._stack.push(Ev(!1)),t._interrupted?JI:e)),JH=e=>io(t=>t.interruptible?(t.interruptible=!1,t._stack.push(Ev(!0)),e(s0)):e(we));class wv{buckets=[];scheduleTask(t,n){const r=this.buckets.length;let o,s=0;for(;s<r&&this.buckets[s][0]<=n;s++)o=this.buckets[s];o&&o[0]===n?o[1].push(t):s===r?this.buckets.push([n,[t]]):this.buckets.splice(s,0,[n,[t]])}}class Vme{maxNextTickBeforeTimer;running=!1;tasks=new wv;constructor(t){this.maxNextTickBeforeTimer=t}starveInternal(t){const n=this.tasks.buckets;this.tasks.buckets=[];for(const[r,o]of n)for(let s=0;s<o.length;s++)o[s]();0===this.tasks.buckets.length?this.running=!1:this.starve(t)}starve(t=0){t>=this.maxNextTickBeforeTimer?setTimeout(()=>this.starveInternal(0),0):Promise.resolve(void 0).then(()=>this.starveInternal(t+1))}shouldYield(t){return t.currentOpCount>t.getFiberRef(cI)&&t.getFiberRef(Su)}scheduleTask(t,n){this.tasks.scheduleTask(t,n),this.running||(this.running=!0,this.starve())}}const lp=me(Symbol.for("effect/Scheduler/defaultScheduler"),()=>new Vme(2048)),Dv=me(Symbol.for("effect/FiberRef/currentScheduler"),()=>zt(lp)),f0=(e,t)=>({_tag:"Par",left:e,right:t}),up=(e,t)=>({_tag:"Seq",left:e,right:t}),zme=e=>{let t=e,n=i3(),r=La(),o=La();for(;;)switch(t._tag){case"Empty":if(wt(r))return[n,o];t=r.head,r=r.tail;break;case"Par":r=Pa(t.right,r),t=t.left;break;case"Seq":{const s=t.left,i=t.right;switch(s._tag){case"Empty":t=i;break;case"Par":{const c=s.right;t=f0(up(s.left,i),up(c,i));break}case"Seq":t=up(s.left,up(s.right,i));break;case"Single":t=s,o=Pa(i,o)}break}case"Single":if(n=Qme(n,t),wt(r))return[n,o];t=r.head,r=r.tail}throw new Error("BUG: BlockedRequests.step - please report an issue at https://github.com/Effect-TS/effect/issues")},Wme=(e,t)=>{if(wt(e))return VM(g0(t));if(e_e(t))return e;const n=i_e(e.head),r=t_e(t);return 1===n.length&&1===r.length&&$(n[0],r[0])?Pa(s_e(e.head,g0(t)),e.tail):Pa(g0(t),e)},Zme=Symbol.for("effect/RequestBlock/RequestBlockParallel"),Yme={_R:e=>e};class Mv{map;[Zme]=Yme;constructor(t){this.map=t}}const i3=()=>new Mv(wy()),Qme=(e,t)=>new Mv(Eue(e.map,t.dataSource,n=>ece(Hl(n,SB(t.blockedRequest)),()=>qt(t.blockedRequest)))),Jme=(e,t)=>new Mv(Dy(e.map,t.map,(n,r,o)=>Po(n,o,sr(Sy(n,o),{onNone:()=>r,onSome:s=>Mr(r,s)})))),e_e=e=>(e=>e&&to(e._root))(e.map),t_e=e=>Array.from(uU(e.map)),g0=e=>o_e(Cue(e.map,t=>qt(t))),n_e=Symbol.for("effect/RequestBlock/RequestBlockSequential"),r_e={_R:e=>e};class a3{map;[n_e]=r_e;constructor(t){this.map=t}}const o_e=e=>new a3(e),s_e=(e,t)=>new a3(Dy(t.map,e.map,(n,r,o)=>Po(n,o,sr(Sy(n,o),{onNone:()=>ln(),onSome:s=>Mr(s,r)})))),i_e=e=>Array.from(uU(e.map)),m0=me(Symbol.for("effect/FiberRef/currentRequestMap"),()=>zt(new Map)),p_e=e=>t=>`${t.label.replace(/[\s="]/g,"_")}=${e-t.startTime}ms`,u3="effect/MetricLabel",y0=Symbol.for(u3);class v_e{key;value;[y0]=y0;_hash;constructor(t,n){this.key=t,this.value=n,this._hash=ct(u3+this.key+this.value)}[Q](){return this._hash}[J](t){return b_e(t)&&this.key===t.key&&this.value===t.value}pipe(){return W(this,arguments)}}const Tv=(e,t)=>new v_e(e,t),b_e=e=>G(e,y0),I0="InterruptSignal",T0="Stateful",R0="Resume",O0="YieldNow",A0=e=>({_tag:I0,cause:e}),Pv=e=>({_tag:T0,onFiber:e}),ju=e=>({_tag:R0,effect:e}),Lv=Symbol.for("effect/FiberScope");class gve{[Lv]=Lv;fiberId=Fo;roots=new Set;add(t,n){this.roots.add(n),n.addObserver(()=>{this.roots.delete(n)})}}class mve{fiberId;parent;[Lv]=Lv;constructor(t,n){this.fiberId=t,this.parent=n}add(t,n){this.parent.tell(Pv(r=>{r.addChild(n),n.addObserver(()=>{r.removeChild(n)})}))}}const Bu=me(Symbol.for("effect/FiberScope/Global"),()=>new gve),Uu=Symbol.for("effect/Fiber"),Vv={_E:e=>e,_A:e=>e},k0=Symbol.for("effect/Fiber"),kn=e=>Xh(kr(e.await),e.inheritAll),Oi="effect/FiberCurrent",Uv=Symbol.for("effect/Logger"),P0={_Message:e=>e,_Output:e=>e},uc=e=>({[Uv]:P0,log:e,pipe(){return W(this,arguments)}}),Bve=uc(({annotations:e,cause:t,date:n,fiberId:r,logLevel:o,message:s,spans:i})=>{const a=n.getTime();let l=[`timestamp=${n.toISOString()}`,`level=${o.label}`,`fiber=${xM(r)}`].join(" ");const u=(e=>Array.isArray(e)?e:[e])(s);for(let d=0;d<u.length;d++){const f=jl(u[d]);f.length>0&&(l+=" message=",l=L0(f,l))}if(null!=t&&"Empty"!==t._tag&&(l+=" cause=",l=L0(Lh(t,{renderErrorCause:!0}),l)),LM(i)){l+=" ";let d=!0;for(const f of i)d?d=!1:l+=" ",l+=_(f,p_e(a))}if(dU(e)>0){l+=" ";let d=!0;for(const[f,h]of e)d?d=!1:l+=" ",l+=Z3(f),l+="=",l=L0(jl(h),l)}return l}),K3=/^[^\s"=]+$/,L0=(e,t)=>t+(e.match(K3)?e:(e=>`"${e.replace(/\\([\s\S])|(")/g,"\\$1$2")}"`)(e)),Z3=e=>e.replace(/[\s="]/g,"_"),Q3="object"==typeof process&&null!==process&&"object"==typeof process.stdout&&null!==process.stdout,Hu=(Q3&&process,Q3||globalThis,Symbol.for("effect/MetricKeyType")),eq="effect/MetricKeyType/Counter",V0=Symbol.for(eq),j0=Symbol.for("effect/MetricKeyType/Frequency"),B0=Symbol.for("effect/MetricKeyType/Gauge"),rq="effect/MetricKeyType/Histogram",U0=Symbol.for(rq),$0=Symbol.for("effect/MetricKeyType/Summary"),hp={_In:e=>e,_Out:e=>e};class Qve{incremental;bigint;[Hu]=hp;[V0]=V0;constructor(t,n){this.incremental=t,this.bigint=n,this._hash=ct(eq)}_hash;[Q](){return this._hash}[J](t){return sq(t)}pipe(){return W(this,arguments)}}class rbe{boundaries;[Hu]=hp;[U0]=U0;constructor(t){this.boundaries=t,this._hash=_(ct(rq),ie(B(this.boundaries)))}_hash;[Q](){return this._hash}[J](t){return cq(t)&&$(this.boundaries,t.boundaries)}pipe(){return W(this,arguments)}}const sq=e=>G(e,V0),cq=e=>G(e,U0),uq=Symbol.for("effect/MetricKey"),abe={_Type:e=>e},cbe=mM($);class qu{name;keyType;description;tags;[uq]=abe;constructor(t,n,r,o=[]){this.name=t,this.keyType=n,this.description=r,this.tags=o,this._hash=_(ct(this.name+this.description),ie(B(this.keyType)),ie(Da(this.tags)))}_hash;[Q](){return this._hash}[J](t){return lbe(t)&&this.name===t.name&&$(this.keyType,t.keyType)&&$(this.description,t.description)&&cbe(this.tags,t.tags)}pipe(){return W(this,arguments)}}const lbe=e=>G(e,uq),fbe=p(2,(e,t)=>0===t.length?e:new qu(e.name,e.keyType,e.description,zl(e.tags,t))),dq=Symbol.for("effect/MutableHashMap"),hbe={[dq]:dq,[Symbol.iterator](){return new H0(this)},toString(){return ht(this.toJSON())},toJSON(){return{_id:"MutableHashMap",values:Array.from(this).map(rt)}},[He](){return this.toJSON()},pipe(){return W(this,arguments)}};class H0{self;referentialIterator;bucketIterator;constructor(t){this.self=t,this.referentialIterator=t.referential[Symbol.iterator]()}next(){if(void 0!==this.bucketIterator)return this.bucketIterator.next();const t=this.referentialIterator.next();return t.done?(this.bucketIterator=new pbe(this.self.buckets.values()),this.next()):t}[Symbol.iterator](){return new H0(this.self)}}class pbe{backing;constructor(t){this.backing=t}currentBucket;next(){if(void 0===this.currentBucket){const n=this.backing.next();if(n.done)return n;this.currentBucket=n.value[Symbol.iterator]()}const t=this.currentBucket.next();return t.done?(this.currentBucket=void 0,this.next()):t}}const pp=()=>{const e=Object.create(hbe);return e.referential=new Map,e.buckets=new Map,e.bucketsSize=0,e},tn=p(2,(e,t)=>{if(!1===ih(t))return e.referential.has(t)?A(e.referential.get(t)):T();const n=t[Q](),r=e.buckets.get(n);return void 0===r?T():mbe(e,r,t)}),mbe=(e,t,n,r=!1)=>{for(let o=0,s=t.length;o<s;o++)if(n[J](t[o][0])){const i=t[o][1];return r&&(t.splice(o,1),e.bucketsSize--),A(i)}return T()},Rs=p(2,(e,t)=>he(tn(e,t))),Vr=p(3,(e,t,n)=>{if(!1===ih(t))return e.referential.set(t,n),e;const r=t[Q](),o=e.buckets.get(r);return void 0===o?(e.buckets.set(r,[[t,n]]),e.bucketsSize++,e):(fq(e,o,t),o.push([t,n]),e.bucketsSize++,e)}),fq=(e,t,n)=>{for(let r=0,o=t.length;r<o;r++)if(n[J](t[r][0]))return t.splice(r,1),void e.bucketsSize--},Wu=Symbol.for("effect/MetricState"),hq="effect/MetricState/Counter",z0=Symbol.for(hq),pq="effect/MetricState/Frequency",W0=Symbol.for(pq),gq="effect/MetricState/Gauge",G0=Symbol.for(gq),mq="effect/MetricState/Histogram",X0=Symbol.for(mq),_q="effect/MetricState/Summary",K0=Symbol.for(_q),gp={_A:e=>e};class _be{count;[Wu]=gp;[z0]=z0;constructor(t){this.count=t}[Q](){return _(B(hq),ie(B(this.count)),$e(this))}[J](t){return Tbe(t)&&this.count===t.count}pipe(){return W(this,arguments)}}const ybe=mM($);class vbe{occurrences;[Wu]=gp;[W0]=W0;constructor(t){this.occurrences=t}_hash;[Q](){return _(ct(pq),ie(Da(le(this.occurrences.entries()))),$e(this))}[J](t){return Rbe(t)&&ybe(le(this.occurrences.entries()),le(t.occurrences.entries()))}pipe(){return W(this,arguments)}}class bbe{value;[Wu]=gp;[G0]=G0;constructor(t){this.value=t}[Q](){return _(B(gq),ie(B(this.value)),$e(this))}[J](t){return Obe(t)&&this.value===t.value}pipe(){return W(this,arguments)}}class Ebe{buckets;count;min;max;sum;[Wu]=gp;[X0]=X0;constructor(t,n,r,o,s){this.buckets=t,this.count=n,this.min=r,this.max=o,this.sum=s}[Q](){return _(B(mq),ie(B(this.buckets)),ie(B(this.count)),ie(B(this.min)),ie(B(this.max)),ie(B(this.sum)),$e(this))}[J](t){return Abe(t)&&$(this.buckets,t.buckets)&&this.count===t.count&&this.min===t.min&&this.max===t.max&&this.sum===t.sum}pipe(){return W(this,arguments)}}class Cbe{error;quantiles;count;min;max;sum;[Wu]=gp;[K0]=K0;constructor(t,n,r,o,s,i){this.error=t,this.quantiles=n,this.count=r,this.min=o,this.max=s,this.sum=i}[Q](){return _(B(_q),ie(B(this.error)),ie(B(this.quantiles)),ie(B(this.count)),ie(B(this.min)),ie(B(this.max)),ie(B(this.sum)),$e(this))}[J](t){return kbe(t)&&this.error===t.error&&$(this.quantiles,t.quantiles)&&this.count===t.count&&this.min===t.min&&this.max===t.max&&this.sum===t.sum}pipe(){return W(this,arguments)}}const Tbe=e=>G(e,z0),Rbe=e=>G(e,W0),Obe=e=>G(e,G0),Abe=e=>G(e,X0),kbe=e=>G(e,K0),Nbe=Symbol.for("effect/MetricHook"),xbe={_In:e=>e,_Out:e=>e},mp=e=>({[Nbe]:xbe,pipe(){return W(this,arguments)},...e}),yq=BigInt(0),Bbe=(e,t,n)=>{const r=n.length;if(!cn(t))return[];const o=t[0],s=t.slice(1),i=vq(e,r,T(),0,o,n),a=Dr(i);return s.forEach(c=>{a.push(vq(e,r,i.value,i.consumed,c,i.rest))}),Wl(a,c=>[c.quantile,c.value])},vq=(e,t,n,r,o,s)=>{let i=e,a=t,c=n,l=r,u=o,d=s,f=e,h=t,g=n,m=r,y=o,w=s;for(;;){if(!cn(d))return{quantile:u,value:T(),consumed:l,rest:[]};if(1===u)return{quantile:u,value:A(pM(d)),consumed:l+d.length,rest:[]};const v=Rce(d,Pe=>Pe<=d[0]),N=u*a,V=i/2*N,H=l+v[0].length,ae=Math.abs(H-N);if(H<N-V)f=i,h=a,g=ph(d),m=H,y=u,w=v[1],i=f,a=h,c=g,l=m,u=y,d=w;else{if(H>N+V)return{quantile:u,value:c,consumed:l,rest:d};switch(c._tag){case"None":f=i,h=a,g=ph(d),m=H,y=u,w=v[1],i=f,a=h,c=g,l=m,u=y,d=w;continue;case"Some":if(ae<Math.abs(N-c.value)){f=i,h=a,g=ph(d),m=H,y=u,w=v[1],i=f,a=h,c=g,l=m,u=y,d=w;continue}return{quantile:u,value:A(c.value),consumed:l,rest:d}}}}throw new Error("BUG: MetricHook.resolveQuantiles - please report an issue at https://github.com/Effect-TS/effect/issues")},bq=Symbol.for("effect/MetricPair"),Eq={_Type:e=>e},Ube=(e,t)=>({[bq]:Eq,metricKey:e,metricState:t,pipe(){return W(this,arguments)}}),Cq=Symbol.for("effect/MetricRegistry");class $be{[Cq]=Cq;map=pp();snapshot(){const t=[];for(const[n,r]of this.map)t.push(Ube(n,r.get()));return t}get(t){const n=_(this.map,tn(t),ar);if(null==n){if(sq(t.keyType))return this.getCounter(t);if(G(t.keyType,B0))return this.getGauge(t);if((e=>G(e,j0))(t.keyType))return this.getFrequency(t);if(cq(t.keyType))return this.getHistogram(t);if((e=>G(e,$0))(t.keyType))return this.getSummary(t);throw new Error("BUG: MetricRegistry.get - unknown MetricKeyType - please report an issue at https://github.com/Effect-TS/effect/issues")}return n}getCounter(t){let n=_(this.map,tn(t),ar);if(null==n){const r=(e=>{let t=e.keyType.bigint?yq:0;const n=e.keyType.incremental?e.keyType.bigint?o=>o>=yq:o=>o>=0:o=>!0,r=o=>{n(o)&&(t+=o)};return mp({get:()=>(e=>new _be(e))(t),update:r,modify:r})})(t);_(this.map,Rs(t))||_(this.map,Vr(t,r)),n=r}return n}getFrequency(t){let n=_(this.map,tn(t),ar);if(null==n){const r=(e=>{const t=new Map;for(const r of e.keyType.preregisteredWords)t.set(r,0);const n=r=>{const o=t.get(r)??0;t.set(r,o+1)};return mp({get:()=>(e=>new vbe(e))(t),update:n,modify:n})})(t);_(this.map,Rs(t))||_(this.map,Vr(t,r)),n=r}return n}getGauge(t){let n=_(this.map,tn(t),ar);if(null==n){const r=((e,t)=>{let n=t;return mp({get:()=>(e=>new bbe(e))(n),update:r=>{n=r},modify:r=>{n+=r}})})(0,t.keyType.bigint?BigInt(0):0);_(this.map,Rs(t))||_(this.map,Vr(t,r)),n=r}return n}getHistogram(t){let n=_(this.map,tn(t),ar);if(null==n){const r=(e=>{const t=e.keyType.boundaries.values,n=t.length,r=new Uint32Array(n+1),o=new Float32Array(n);let s=0,i=0,a=Number.MAX_VALUE,c=Number.MIN_VALUE;_(t,gh(wi),Wl((d,f)=>{o[f]=d}));const l=d=>{let f=0,h=n;for(;f!==h;){const g=Math.floor(f+(h-f)/2);d<=o[g]?h=g:f=g,h===f+1&&(d<=o[f]?h=f:f=h)}r[f]=r[f]+1,s+=1,i+=d,d<a&&(a=d),d>c&&(c=d)},u=()=>{const d=hM(n);let f=0;for(let h=0;h<n;h++)f+=r[h],d[h]=[o[h],f];return d};return mp({get:()=>(e=>new Ebe(e.buckets,e.count,e.min,e.max,e.sum))({buckets:u(),count:s,min:a,max:c,sum:i}),update:l,modify:l})})(t);_(this.map,Rs(t))||_(this.map,Vr(t,r)),n=r}return n}getSummary(t){let n=_(this.map,tn(t),ar);if(null==n){const r=(e=>{const{error:t,maxAge:n,maxSize:r,quantiles:o}=e.keyType,s=_(o,gh(wi)),i=hM(r);let a=0,c=0,l=0,u=Number.MAX_VALUE,d=Number.MIN_VALUE;const f=g=>{const m=[];let y=0;for(;y!==r-1;){const w=i[y];if(null!=w){const[v,N]=w,V=_h(g-v);cle(V,Jce)&&V<=n&&m.push(N)}y+=1}return Bbe(t,s,gh(m,wi))},h=(g,m)=>{r>0&&(a+=1,i[a%r]=[m,g]),c+=1,l+=g,g<u&&(u=g),g>d&&(d=g)};return mp({get:()=>(e=>new Cbe(e.error,e.quantiles,e.count,e.min,e.max,e.sum))({error:t,quantiles:f(Date.now()),count:c,min:u,max:d,sum:l}),update:([g,m])=>h(g,m),modify:([g,m])=>h(g,m)})})(t);_(this.map,Rs(t))||_(this.map,Vr(t,r)),n=r}return n}}const qbe=Symbol.for("effect/Metric"),zbe={_Type:e=>e,_In:e=>e,_Out:e=>e},Z0=me(Symbol.for("effect/Metric/globalMetricRegistry"),()=>new $be),$v=function(e,t,n,r){const o=Object.assign(s=>Xa(s,i=>wq(o,i)),{[qbe]:zbe,keyType:e,unsafeUpdate:t,unsafeValue:n,unsafeModify:r,register(){return this.unsafeValue([]),this},pipe(){return W(this,arguments)}});return o},Hv=(e,t)=>_p(((e,t)=>new qu(e,(e=>new Qve(e?.incremental??!1,e?.bigint??!1))(t),$l(t?.description)))(e,t)),_p=e=>{let t;const n=new WeakMap,r=o=>{if(0===o.length)return void 0!==t||(t=Z0.get(e)),t;let s=n.get(o);return void 0!==s||(s=Z0.get(fbe(e,o)),n.set(o,s)),s};return $v(e.keyType,(o,s)=>r(s).update(o),o=>r(o).get(),(o,s)=>r(s).modify(o))},Q0=(e,t,n)=>_p(((e,t,n)=>new qu(e,(e=>new rbe(e))(t),$l(n)))(e,t,n)),J0=p(3,(e,t,n)=>Xbe(e,[Tv(t,n)])),Xbe=p(2,(e,t)=>$v(e.keyType,(n,r)=>e.unsafeUpdate(n,zl(t,r)),n=>e.unsafeValue(zl(t,n)),(n,r)=>e.unsafeModify(n,zl(t,r)))),wq=p(2,(e,t)=>Nr(Du,n=>R(()=>e.unsafeUpdate(t,n)))),Sq="effect/MetricBoundaries",eT=Symbol.for(Sq);class Zbe{values;[eT]=eT;constructor(t){this.values=t,this._hash=_(ct(Sq),ie(Da(this.values)))}_hash;[Q](){return this._hash}[J](t){return Ybe(t)&&$(this.values,t.values)}pipe(){return W(this,arguments)}}const Ybe=e=>G(e,eT),Dq=e=>{const t=_(e,lB(qt(Number.POSITIVE_INFINITY)),qce);return new Zbe(t)},Qbe=e=>_(((e,t)=>{const n=Math.max(1,Math.floor(e)),r=new Array(n);for(let o=0;o<n;o++)r[o]=t(o);return r})(e.count-1,t=>e.start*Math.pow(e.factor,t)),cr,Dq),dc=p(2,(e,t)=>Nr(m0,n=>R(()=>{if(n.has(e)){const r=n.get(e);r.state.completed||(r.state.completed=!0,MI(r.result,t))}}))),Gu=Symbol.for("effect/Supervisor"),yp={_T:e=>e};class Xu{underlying;value0;[Gu]=yp;constructor(t,n){this.underlying=t,this.value0=n}get value(){return this.value0}onStart(t,n,r,o){this.underlying.onStart(t,n,r,o)}onEnd(t,n){this.underlying.onEnd(t,n)}onEffect(t,n){this.underlying.onEffect(t,n)}onSuspend(t){this.underlying.onSuspend(t)}onResume(t){this.underlying.onResume(t)}map(t){return new Xu(this,_(this.value,F(t)))}zip(t){return new Ku(this,t)}}class Ku{left;right;_tag="Zip";[Gu]=yp;constructor(t,n){this.left=t,this.right=n}get value(){return Wy(this.left.value,this.right.value)}onStart(t,n,r,o){this.left.onStart(t,n,r,o),this.right.onStart(t,n,r,o)}onEnd(t,n){this.left.onEnd(t,n),this.right.onEnd(t,n)}onEffect(t,n){this.left.onEffect(t,n),this.right.onEffect(t,n)}onSuspend(t){this.left.onSuspend(t),this.right.onSuspend(t)}onResume(t){this.left.onResume(t),this.right.onResume(t)}map(t){return new Xu(this,_(this.value,F(t)))}zip(t){return new Ku(this,t)}}const Tq=e=>G(e,Gu)&&q_(e,"Zip");class lEe{effect;[Gu]=yp;constructor(t){this.effect=t}get value(){return this.effect}onStart(t,n,r,o){}onEnd(t,n){}onEffect(t,n){}onSuspend(t){}onResume(t){}map(t){return new Xu(this,_(this.value,F(t)))}zip(t){return new Ku(this,t)}onRun(t,n){return t()}}const qv=me("effect/Supervisor/none",()=>new lEe(ee)),Oq="AddSupervisor",Aq="RemoveSupervisor",kq="AndThen",vp={_tag:"Empty"},zv=(e,t)=>({_tag:kq,first:e,second:t}),rT=(e,t)=>$(e,t)?qv:Tq(e)?rT(e.left,t).zip(rT(e.right,t)):e,Wv=e=>$(e,qv)?mi():Tq(e)?_(Wv(e.left),su(Wv(e.right))):vy(e),mEe=no({empty:vp,patch:(e,t)=>((e,t)=>{let n=e,r=t;for(;pt(r);){const o=Me(r);switch(o._tag){case"Empty":r=ut(r);break;case Oq:n=n.zip(o.supervisor),r=ut(r);break;case Aq:n=rT(n,o.supervisor),r=ut(r);break;case kq:r=lt(o.first)(lt(o.second)(ut(r)))}}return n})(t,qt(e)),combine:zv,diff:(e,t)=>{if($(e,t))return vp;const n=Wv(e),r=Wv(t),o=_(r,eU(n),Sh(vp,(i,a)=>zv(i,{_tag:Oq,supervisor:a}))),s=_(n,eU(r),Sh(vp,(i,a)=>zv(i,{_tag:Aq,supervisor:a})));return zv(o,s)}}),_Ee=Hv("effect_fiber_started",{incremental:!0}),Nq=Hv("effect_fiber_active"),yEe=Hv("effect_fiber_successes",{incremental:!0}),vEe=Hv("effect_fiber_failures",{incremental:!0}),bEe=J0(Q0("effect_fiber_lifetimes",Qbe({start:.5,factor:2,count:35})),"time_unit","milliseconds"),bp="Continue",CEe={_E:e=>e,_A:e=>e},Gv=e=>{throw new Error(`BUG: FiberRuntime - ${jl(e)} - please report an issue at https://github.com/Effect-TS/effect/issues`)},Os=Symbol.for("effect/internal/fiberRuntime/YieldedOp"),As=me("effect/internal/fiberRuntime/yieldedOpChannel",()=>({currentOp:null})),Ep={[Z_]:(e,t,n)=>Yt(()=>t.effect_instruction_i1(n)),OnStep:(e,t,n)=>Ie(Ie(n)),[Y_]:(e,t,n)=>Yt(()=>t.effect_instruction_i2(n)),[JD]:(e,t,n)=>(e.patchRuntimeFlags(e.currentRuntimeFlags,t.patch),bs(e.currentRuntimeFlags)&&e.isInterrupted()?ye(e.getInterruptedCause()):Ie(n)),[Q_]:(e,t,n)=>(Yt(()=>t.effect_instruction_i2(n)),Yt(()=>t.effect_instruction_i0())?(e.pushStack(t),Yt(()=>t.effect_instruction_i1())):ee),[ch]:(e,t,n)=>{const r=Yt(()=>t.effect_instruction_i0.next(n));return r.done?Ie(r.value):(e.pushStack(t),function Tj(e){if("object"==typeof e&&null!==e&&GD in e)return e[GD]();throw new Error(rh("yieldWrapGet"))}(r.value))}},wEe={[I0]:(e,t,n,r)=>(e.processNewInterruptSignal(r.cause),bs(t)?ye(r.cause):n),[R0]:(e,t,n,r)=>{throw new Error("It is illegal to have multiple concurrent run loops in a single fiber")},[T0]:(e,t,n,r)=>(r.onFiber(e,kH(t)),n),[O0]:(e,t,n,r)=>b(Za(),()=>n)};class Fq extends lv{[Uu]=Vv;[k0]=CEe;_fiberRefs;_fiberId;_queue=new Array;_children=null;_observers=new Array;_running=!1;_stack=[];_asyncInterruptor=null;_asyncBlockingOn=null;_exitValue=null;_steps=[];_isYielding=!1;currentRuntimeFlags;currentOpCount=0;currentSupervisor;currentScheduler;currentTracer;currentSpan;currentContext;currentDefaultServices;constructor(t,n,r){if(super(),this.currentRuntimeFlags=r,this._fiberId=t,this._fiberRefs=n,jU(r)){const o=this.getFiberRef(Du);_Ee.unsafeUpdate(1,o),Nq.unsafeUpdate(1,o)}this.refreshRefCache()}commit(){return kn(this)}id(){return this._fiberId}resume(t){this.tell(ju(t))}get status(){return this.ask((t,n)=>n)}get runtimeFlags(){return this.ask((t,n)=>n._tag===hv?t.currentRuntimeFlags:n.runtimeFlags)}scope(){return new mve((e=this).id(),e);var e}get children(){return this.ask(t=>Array.from(t.getChildren()))}getChildren(){return null===this._children&&(this._children=new Set),this._children}getInterruptedCause(){return this.getFiberRef(Zh)}fiberRefs(){return this.ask(t=>t.getFiberRefs())}ask(t){return z(()=>{const n=SI(this._fiberId);return this.tell(Pv((r,o)=>{MI(n,R(()=>t(r,o)))})),xr(n)})}tell(t){this._queue.push(t),this._running||(this._running=!0,this.drainQueueLaterOnExecutor())}get await(){return ro(t=>{const n=r=>t(D(r));return this.tell(Pv((r,o)=>{null!==r._exitValue?n(this._exitValue):r.addObserver(n)})),R(()=>this.tell(Pv((r,o)=>{r.removeObserver(n)})))},this.id())}get inheritAll(){return Ce((t,n)=>{const r=t.id(),o=t.getFiberRefs(),s=n.runtimeFlags,i=this.getFiberRefs(),a=vH(o,r,i);t.setFiberRefs(a);const c=t.getFiberRef(Kq);return(e=>{const t=new St(Ia);return t.effect_instruction_i0=e,t.effect_instruction_i1=void 0,t})(_(Es(s,c),WU(1),WU(16)))})}get poll(){return R(()=>$l(this._exitValue))}unsafePoll(){return this._exitValue}interruptAsFork(t){return R(()=>this.tell(A0(lr(t))))}unsafeInterruptAsFork(t){this.tell(A0(lr(t)))}addObserver(t){null!==this._exitValue?t(this._exitValue):this._observers.push(t)}removeObserver(t){this._observers=this._observers.filter(n=>n!==t)}getFiberRefs(){return this.setFiberRef(Kq,this.currentRuntimeFlags),this._fiberRefs}unsafeDeleteFiberRef(t){this._fiberRefs=$I(this._fiberRefs,t)}getFiberRef(t){return this._fiberRefs.locals.has(t)?this._fiberRefs.locals.get(t)[0][1]:t.initial}setFiberRef(t,n){this._fiberRefs=uv(this._fiberRefs,{fiberId:this._fiberId,fiberRef:t,value:n}),this.refreshRefCache()}refreshRefCache(){this.currentDefaultServices=this.getFiberRef(Wt),this.currentTracer=this.currentDefaultServices.unsafeMap.get(oc.key),this.currentSupervisor=this.getFiberRef(Zq),this.currentScheduler=this.getFiberRef(Dv),this.currentContext=this.getFiberRef(jo),this.currentSpan=this.currentContext.unsafeMap.get(Ms.key)}setFiberRefs(t){this._fiberRefs=t,this.refreshRefCache()}addChild(t){this.getChildren().add(t)}removeChild(t){this.getChildren().delete(t)}transferChildren(t){const n=this._children;if(this._children=null,null!==n&&n.size>0)for(const r of n)null===r._exitValue&&t.add(this.currentRuntimeFlags,r)}drainQueueOnCurrentThread(){let t=!0;for(;t;){let n=bp;const r=globalThis[Oi];globalThis[Oi]=this;try{for(;n===bp;)n=0===this._queue.length?"Done":this.evaluateMessageWhileSuspended(this._queue.splice(0,1)[0])}finally{this._running=!1,globalThis[Oi]=r}this._queue.length>0&&!this._running?(this._running=!0,"Yield"===n?(this.drainQueueLaterOnExecutor(),t=!1):t=!0):t=!1}}drainQueueLaterOnExecutor(){this.currentScheduler.scheduleTask(this.run,this.getFiberRef(Su))}drainQueueWhileRunning(t,n){let r=n;for(;this._queue.length>0;){const o=this._queue.splice(0,1)[0];r=wEe[o._tag](this,t,r,o)}return r}isInterrupted(){return!((e=this.getFiberRef(Zh))._tag===lu||_u(e,!0,(t,n)=>{switch(n._tag){case lu:return A(t);case cu:case uu:case du:return A(!1);default:return T()}}));var e}addInterruptedCause(t){const n=this.getFiberRef(Zh);this.setFiberRef(Zh,dt(n,t))}processNewInterruptSignal(t){this.addInterruptedCause(t),this.sendInterruptSignalToAllChildren()}sendInterruptSignalToAllChildren(){if(null===this._children||0===this._children.size)return!1;let t=!1;for(const n of this._children)n.tell(A0(lr(this.id()))),t=!0;return t}interruptAllChildren(){if(this.sendInterruptSignalToAllChildren()){const t=this._children.values();this._children=null;let n=!1;return zy({while:()=>!n,body:()=>{const o=t.next();return o.done?R(()=>{n=!0}):Jt(o.value.await)},step:()=>{}})}return null}reportExitValue(t){if(jU(this.currentRuntimeFlags)){const n=this.getFiberRef(Du),r=this.id().startTimeMillis,o=Date.now();switch(bEe.unsafeUpdate(o-r,n),Nq.unsafeUpdate(-1,n),t._tag){case ze:yEe.unsafeUpdate(1,n);break;case qe:vEe.unsafeUpdate(1,n)}}if("Failure"===t._tag){const n=this.getFiberRef(P$);!YM(t.cause)&&"Some"===n._tag&&this.log("Fiber terminated with an unhandled error",t.cause,n)}}setExitValue(t){this._exitValue=t,this.reportExitValue(t);for(let n=this._observers.length-1;n>=0;n--)this._observers[n](t);this._observers=[]}getLoggers(){return this.getFiberRef(REe)}log(t,n,r){const o=he(r)?r.value:this.getFiberRef(ahe),s=this.getFiberRef(DEe);if(kge(s,o))return;const i=this.getFiberRef(N$),a=this.getFiberRef(Kh),c=this.getLoggers(),l=this.getFiberRefs();if(Ch(c)>0){const u=Ao(this.getFiberRef(Wt),Ds),d=new Date(u.unsafeCurrentTimeMillis());((e,t)=>{const n=Ma.fiberRefs;Ma.fiberRefs=e;try{return t()}finally{Ma.fiberRefs=n}})(l,()=>{for(const f of c)f.log({fiberId:this.id(),logLevel:o,message:t,cause:n,context:l,spans:i,annotations:a,date:d})})}}evaluateMessageWhileSuspended(t){switch(t._tag){case O0:return"Yield";case I0:return this.processNewInterruptSignal(t.cause),null!==this._asyncInterruptor&&(this._asyncInterruptor(ye(t.cause)),this._asyncInterruptor=null),bp;case R0:return this._asyncInterruptor=null,this._asyncBlockingOn=null,this.evaluateEffect(t.effect),bp;case T0:return t.onFiber(this,null!==this._exitValue?Dge:((e,t)=>new yge(e,t))(this.currentRuntimeFlags,this._asyncBlockingOn)),bp;default:return Gv(t)}}evaluateEffect(t){this.currentSupervisor.onResume(this);try{let n=bs(this.currentRuntimeFlags)&&this.isInterrupted()?ye(this.getInterruptedCause()):t;for(;null!==n;){const o=this.runLoop(n);if(o===Os){const s=As.currentOp;As.currentOp=null,s._op===J_?Va(this.currentRuntimeFlags,32)?(this.tell({_tag:O0}),this.tell(ju(dr)),n=null):n=dr:s._op===ah&&(n=null)}else{this.currentRuntimeFlags=_(this.currentRuntimeFlags,pfe(16));const s=this.interruptAllChildren();null!==s?n=b(s,()=>o):(0===this._queue.length?this.setExitValue(o):this.tell(ju(o)),n=null)}}}finally{this.currentSupervisor.onSuspend(this)}}start(t){if(this._running)this.tell(ju(t));else{this._running=!0;const n=globalThis[Oi];globalThis[Oi]=this;try{this.evaluateEffect(t)}finally{this._running=!1,globalThis[Oi]=n,this._queue.length>0&&this.drainQueueLaterOnExecutor()}}}startFork(t){this.tell(ju(t))}patchRuntimeFlags(t,n){const r=ja(t,n);return globalThis[Oi]=this,this.currentRuntimeFlags=r,r}initiateAsync(t,n){let r=!1;const o=s=>{r||(r=!0,this.tell(ju(s)))};bs(t)&&(this._asyncInterruptor=o);try{n(o)}catch(s){o(_e(un(s)))}}pushStack(t){this._stack.push(t),"OnStep"===t._op&&this._steps.push({refs:this.getFiberRefs(),flags:this.currentRuntimeFlags})}popStack(){const t=this._stack.pop();if(t)return"OnStep"===t._op&&this._steps.pop(),t}getNextSuccessCont(){let t=this.popStack();for(;t;){if(t._op!==K_)return t;t=this.popStack()}}getNextFailCont(){let t=this.popStack();for(;t;){if(t._op!==Z_&&t._op!==Q_&&t._op!==ch)return t;t=this.popStack()}}[hae](t){return R(()=>ry(this.currentContext,t))}Left(t){return ue(t.left)}None(t){return ue(new bi)}Right(t){return Ie(t.right)}Some(t){return Ie(t.value)}Micro(t){return Bh(n=>{let r=n;const o=((e,t)=>{const n=new qH(vv.context(t?.scheduler??new t0));if(n.evaluate(e),t?.signal)if(t.signal.aborted)n.unsafeInterrupt();else{const r=()=>n.unsafeInterrupt();t.signal.addEventListener("abort",r,{once:!0}),n.addObserver(()=>t.signal.removeEventListener("abort",r))}return n})(sme(t,this.currentContext));return o.addObserver(s=>{if("Success"===s._tag)return r(Ie(s.value));switch(s.cause._tag){case"Interrupt":return r(ye(lr(Fo)));case"Fail":return r(ue(s.cause.error));case"Die":return r(qa(s.cause.defect))}}),Bh(s=>{r=i=>{s(ee)},o.unsafeInterrupt()})})}[Aj](t){const n=Yt(()=>t.effect_instruction_i0()),r=this.getNextSuccessCont();return void 0!==r?(r._op in Ep||Gv(r),Ep[r._op](this,r,n)):(As.currentOp=Ie(n),Os)}[ze](t){const n=t,r=this.getNextSuccessCont();return void 0!==r?(r._op in Ep||Gv(r),Ep[r._op](this,r,n.effect_instruction_i0)):(As.currentOp=n,Os)}[qe](t){const n=t.effect_instruction_i0,r=this.getNextFailCont();if(void 0===r)return As.currentOp=ye(n),Os;switch(r._op){case K_:case Y_:return bs(this.currentRuntimeFlags)&&this.isInterrupted()?ye(n$(n)):Yt(()=>r.effect_instruction_i1(n));case"OnStep":return bs(this.currentRuntimeFlags)&&this.isInterrupted()?ye(n$(n)):Ie(ye(n));case JD:return this.patchRuntimeFlags(this.currentRuntimeFlags,r.patch),bs(this.currentRuntimeFlags)&&this.isInterrupted()?ye(dt(n,this.getInterruptedCause())):ye(n);default:Gv(r)}}[kj](t){return Yt(()=>t.effect_instruction_i0(this,kH(this.currentRuntimeFlags)))}Blocked(t){const n=this.getFiberRefs(),r=this.currentRuntimeFlags;if(this._steps.length>0){const o=[],s=this._steps[this._steps.length-1];let i=this.popStack();for(;i&&"OnStep"!==i._op;)o.push(i),i=this.popStack();this.setFiberRefs(s.refs),this.currentRuntimeFlags=s.flags;const a=np(s.refs,n),c=Es(s.flags,r);return Ie(vu(t.effect_instruction_i0,Ce(l=>{for(;o.length>0;)l.pushStack(o.pop());return l.setFiberRefs(rp(l.id(),l.getFiberRefs())(a)),l.currentRuntimeFlags=ja(c)(l.currentRuntimeFlags),t.effect_instruction_i1})))}return en(o=>b(Yu((e=>{const t=new St("RunBlocked");return t.effect_instruction_i0=e,t})(t.effect_instruction_i0)),()=>o(t.effect_instruction_i1)))}RunBlocked(t){return Lo((e=>{let t=VM(e),n=La();for(;;){const[r,o]=Fue(t,[i3(),La()],([s,i],a)=>{const[c,l]=zme(a);return[Jme(s,c),Oue(i,l)]});if(n=Wme(n,r),wt(o))return Pue(n);t=o}throw new Error("BUG: BlockedRequests.flatten - please report an issue at https://github.com/Effect-TS/effect/issues")})(t.effect_instruction_i0),t=>fc((e=>Array.from(e.map))(t),([n,r])=>{const o=new Map,s=[];for(const a of r){s.push(Hn(a));for(const c of a)o.set(c.request,c)}const i=s.flat();return vn(nz(n.runAll(s),i,()=>i.forEach(a=>{a.listeners.interrupted=!0})),m0,o)},!1,!1))}[Ia](t){const n=t.effect_instruction_i0,r=this.currentRuntimeFlags,o=ja(r,n);if(bs(o)&&this.isInterrupted())return ye(this.getInterruptedCause());if(this.patchRuntimeFlags(this.currentRuntimeFlags,n),t.effect_instruction_i1){const s=Es(o,r);return this.pushStack(new Vfe(s,t)),Yt(()=>t.effect_instruction_i1(r))}return dr}[Z_](t){return this.pushStack(t),t.effect_instruction_i0}OnStep(t){return this.pushStack(t),t.effect_instruction_i0}[K_](t){return this.pushStack(t),t.effect_instruction_i0}[Y_](t){return this.pushStack(t),t.effect_instruction_i0}[ah](t){return this._asyncBlockingOn=t.effect_instruction_i1,this.initiateAsync(this.currentRuntimeFlags,t.effect_instruction_i0),As.currentOp=t,Os}[J_](t){return this._isYielding=!1,As.currentOp=t,Os}[Q_](t){const r=t.effect_instruction_i1;return(0,t.effect_instruction_i0)()?(this.pushStack(t),r()):dr}[ch](t){return Ep[ch](this,t,void 0)}[X_](t){return Yt(()=>t.commit())}runLoop(t){let n=t;for(this.currentOpCount=0;;){if(2&this.currentRuntimeFlags&&this.currentSupervisor.onEffect(this,n),this._queue.length>0&&(n=this.drainQueueWhileRunning(this.currentRuntimeFlags,n)),!this._isYielding){this.currentOpCount+=1;const r=this.currentScheduler.shouldYield(this);if(!1!==r){this._isYielding=!0,this.currentOpCount=0;const o=n;n=b(Za({priority:r}),()=>o)}}try{if(n=this.currentTracer.context(()=>"3.12.0"!==n[Ua]._V?Uh(`Cannot execute an Effect versioned ${n[Ua]._V} with a Runtime of version 3.12.0`):this[n._op](n),this),n===Os){const r=As.currentOp;return r._op===J_||r._op===ah?Os:(As.currentOp=null,r._op===ze||r._op===qe?r:ye(un(r)))}}catch(r){n=n!==Os&&!G(n,"_op")||!(n._op in this)?Uh(`Not a valid effect: ${jl(n)}`):G(r,JM)?ye(r.cause):G(r,gI)?ye(dt(un(r),lr(Fo))):qa(r)}}}run=()=>{this.drainQueueOnCurrentThread()}}const DEe=me("effect/FiberRef/currentMinimumLogLevel",()=>zt(LH)),IEe=me(Symbol.for("effect/Logger/defaultLogger"),()=>{return e=Bve,uc(t=>{const n=uge(t.context,Wt);Ao(n,Ru).unsafe.log(e.log(t))});var e}),TEe=me(Symbol.for("effect/Logger/tracerLogger"),()=>uc(({annotations:e,cause:t,context:n,fiberId:r,logLevel:o,message:s})=>{const i=ui(ku(n,jo),Ms);if("None"===i._tag||"ExternalSpan"===i.value._tag)return;const a=ry(ku(n,Wt),Ds),c={};for(const[l,u]of e)c[l]=u;c["effect.fiberId"]=gue(r),c["effect.logLevel"]=o.label,null!==t&&"Empty"!==t._tag&&(c["effect.cause"]=Lh(t,{renderErrorCause:!0})),i.value.event(jl(Array.isArray(s)?s[0]:s),a.unsafeCurrentTimeNanos(),c)})),REe=me(Symbol.for("effect/FiberRef/currentLoggers"),()=>(e=>{const t=RU();return wu(e,{differ:t,fork:t.empty})})(vy(IEe,TEe))),fc=(e,t,n,r,o)=>en(s=>(e=>Ce(t=>{const r=_(t.getFiberRef(Xy),ir(()=>t.scope()));return e(vn(Xy,A(r)))}))(i=>Ce(a=>{let c=Array.from(e).reverse(),l=c.length;if(0===l)return ee;let u=0,d=!1;const f=o?Math.min(c.length,o):c.length,h=new Set,g=new Array,y=new Array,w=new Array,v=new Array,N=()=>{const C=g.filter(({exit:En})=>"Failure"===En._tag).sort((En,ao)=>En.index<ao.index?-1:En.index===ao.index?0:1).map(({exit:En})=>En);return 0===C.length&&C.push(dr),C},V=(C,En=!1)=>{const ao=Ka(i(C)),Nn=$Ee(ao,a,a.currentRuntimeFlags,Bu);return a.currentScheduler.scheduleTask(()=>{En&&Nn.unsafeInterruptAsFork(a.id()),Nn.resume(ao)},0),Nn},H=()=>{r||(l-=c.length,c=[]),d=!0,h.forEach(C=>{C.currentScheduler.scheduleTask(()=>{C.unsafeInterruptAsFork(a.id())},0)})},ae=n?m$:At,Pe=V(ro(C=>{const En=(Nn,Uo)=>{"Blocked"===Nn._op?v.push(Nn):(g.push({index:Uo,exit:Nn}),"Failure"===Nn._op&&!d&&H())},ao=()=>{if(c.length>0){const Nn=c.pop();let Uo=u++;const ub=()=>{const hr=c.pop();return Uo=u++,b(Za(),()=>b(ae(s(t(hr,Uo))),mc))},mc=hr=>c.length>0&&(En(hr,Uo),c.length>0)?ub():D(hr),db=b(ae(s(t(Nn,Uo))),mc),$o=V(db);y.push($o),h.add($o),d&&$o.currentScheduler.scheduleTask(()=>{$o.unsafeInterruptAsFork(a.id())},0),$o.addObserver(hr=>{let Ip;if(Ip="Failure"===hr._op?hr:hr.effect_instruction_i0,w.push($o),h.delete($o),En(Ip,Uo),g.length===l)C(D(ir(ec(N(),{parallel:!0}),()=>dr)));else if(v.length+g.length===l){const FT=v.map(Tp=>Tp.effect_instruction_i0).reduce(f0);C(D(vu(FT,fc([ir(ec(N(),{parallel:!0}),()=>dr),...v.map(Tp=>Tp.effect_instruction_i1)],Tp=>Tp,n,!0,o))))}else ao()})}};for(let Nn=0;Nn<f;Nn++)ao()}));return Jt(oo(kr(s(kn(Pe))),ev({onFailure:()=>{H();const C=v.length+1,En=Math.min("number"==typeof o?o:v.length,v.length),ao=Array.from(v);return ro(Nn=>{const Uo=[];let ub=0,mc=0;const db=(hr,Ip)=>FT=>{Uo[hr]=FT,ub++,ub===C&&Nn(Qj(ec(Uo,{parallel:!0}))),ao.length>0&&Ip&&$o()},$o=()=>{V(ao.pop(),!0).addObserver(db(mc,!0)),mc++};Pe.addObserver(db(mc,!1)),mc++;for(let hr=0;hr<En;hr++)$o()})},onSuccess:()=>qn(w,C=>C.inheritAll)})))}))),Yu=e=>HEe(e,Bu),$Ee=(e,t,n,r=null)=>Yv(e,t,n,r),Yv=(e,t,n,r=null)=>{const o=lU(),s=t.getFiberRefs(),i=bH(s,o),a=new Fq(o,i,n),c=ku(i,jo),l=a.currentSupervisor;return l.onStart(c,e,A(t),a),a.addObserver(d=>l.onEnd(d,a)),(null!==r?r:_(t.getFiberRef(Xy),ir(()=>t.scope()))).add(n,a),a},HEe=(e,t)=>Ce((n,r)=>D(((e,t,n,r=null)=>{const o=Yv(e,t,n,r);return o.resume(e),o})(e,n,r.runtimeFlags,t))),uCe=e=>wu(e,{differ:mEe,fork:vp}),Kq=ihe(gfe),Zq=uCe(qv),nz=(e,t,n)=>ws(r=>b(b(Yu(Wa(e)),o=>ro(s=>{const i=t.map(l=>l.listeners.count),a=()=>{i.every(l=>0===l)&&t.every(l=>"Pending"===l.result.state.current._tag||!("Done"!==l.result.state.current._tag||!Yy(l.result.state.current.effect)||"Failure"!==l.result.state.current.effect._tag||!(e=>he(Efe(e)))(l.result.state.current.effect.cause)))&&(c.forEach(l=>l()),n?.(),s((e=>b(bu,t=>_(e,so(t))))(o)))};o.addObserver(l=>{c.forEach(u=>u()),s(l)});const c=t.map((l,u)=>{const d=f=>{i[u]=f,a()};return l.listeners.addObserver(d),()=>l.listeners.removeObserver(d)});return a(),R(()=>{c.forEach(l=>l())})})),()=>z(()=>{const o=t.flatMap(s=>s.state.completed?[]:[s]);return Lo(o,s=>dc(s.request,(e=>ye(lr(e)))(r)))}))),iSe=(e,t)=>e.close(t),aSe=(e,t)=>e.fork(t),ab=e=>(t,n)=>{const r=lU(),o=[[jo,[[r,e.context]]]];n?.scheduler&&o.push([Dv,[[r,n.scheduler]]]);let s=hge(e.fiberRefs,{entries:o,forkAs:r});n?.updateRefs&&(s=n.updateRefs(s,r));const i=new Fq(r,s,e.runtimeFlags);let a=t;n?.scope&&(a=b(aSe(n.scope,Au),l=>Ne(((e,t)=>e.addFinalizer(()=>Jt(t)))(l,ws(u=>$(u,i.id())?ee:so(i,u))),oo(t,u=>iSe(l,u)))));const c=i.currentSupervisor;return c!==qv&&(c.onStart(e.context,a,T(),i),i.addObserver(l=>c.onEnd(l,i))),Bu.add(e.runtimeFlags,i),!1===n?.immediate?i.resume(a):i.start(a),i};Error;const cb=Symbol.for("effect/Runtime/FiberFailure"),IT=Symbol.for("effect/Runtime/FiberFailure/Cause");class dSe extends Error{[cb];[IT];constructor(t){super(),this[cb]=cb,this[IT]=t;const n=l$(t);if(n.length>0){const r=n[0];this.name=r.name,this.message=r.message,this.stack=r.stack}this.name=`(FiberFailure) ${this.name}`,(void 0===this.message||0===this.message.length)&&(this.message="An error has occurred")}toJSON(){return{_id:"FiberFailure",cause:this[IT].toJSON()}}toString(){return"(FiberFailure) "+(this.stack??this.message)}[He](){return this.toString()}}const fSe=e=>(t,n)=>Gz(e)(t,n).then(r=>{switch(r._tag){case ze:return r.effect_instruction_i0;case qe:throw(e=>{const t=Error.stackTraceLimit;Error.stackTraceLimit=0;const n=new dSe(e);return Error.stackTraceLimit=t,n})(r.effect_instruction_i0)}}),Gz=e=>(t,n)=>new Promise(r=>{const o=(e=>{const t=e;switch(t._op){case"Failure":case"Success":return t;case"Left":return tc(t.left);case"Right":return Ie(t.right);case"Some":return Ie(t.value);case"None":return tc(bi())}})(t);o&&r(o);const s=ab(e)(t);s.addObserver(i=>{r(i)}),void 0!==n?.signal&&(n.signal.aborted?s.unsafeInterruptAsFork(s.id()):n.signal.addEventListener("abort",()=>{s.unsafeInterruptAsFork(s.id())},{once:!0}))});class Xz{context;runtimeFlags;fiberRefs;constructor(t,n,r){this.context=t,this.runtimeFlags=n,this.fiberRefs=r}pipe(){return W(this,arguments)}}const mSe=fSe((e=>new Xz(e.context,e.runtimeFlags,e.fiberRefs))({context:Ra(),runtimeFlags:VU(1,32,4),fiberRefs:pge()}));Symbol;Symbol;const hDe=e=>{let t,n;return"function"==typeof e?t=e:(t=e.try,n=e.catch),ro(t.length>=1?(r,o)=>{try{t(o).then(s=>r(Ie(s)),s=>r(n?Ar(()=>n(s)):ue(new Ja(s))))}catch(s){r(n?Ar(()=>n(s)):ue(new Ja(s)))}}:r=>{try{t().then(o=>r(Ie(o)),o=>r(n?Ar(()=>n(o)):ue(new Ja(o))))}catch(o){r(n?Ar(()=>n(o)):ue(new Ja(o)))}})},pDe=mSe;let wW=(()=>{class e{constructor(n){this.http=n,this.beatsUrl="api/beats"}getBeatsGroupedByGenres(){var n=this;const r=hDe({try:(o=ba(function*(){const s=yield function mDe(e,t){const n="object"==typeof t;return new Promise((r,o)=>{let i,s=!1;e.subscribe({next:a=>{i=a,s=!0},error:o,complete:()=>{s?r(i):n?r(t.defaultValue):o(new kf)}})})}(n.http.get(n.beatsUrl)),i=n.groupBy(s,a=>a.genre);return Object.keys(i).map(a=>({label:a,beats:i[a]}))}),function(){return o.apply(this,arguments)}),catch:o=>{throw console.error("Error fetching beats:",o),new Error("Can't get beats grouped by genre")}});var o;return pDe(r)}groupBy(n,r){return n.reduce((o,s)=>{const i=r(s);return o[i]||(o[i]=[]),o[i].push(s),o},{})}static{this.\u0275fac=function(r){return new(r||e)(j(G2))}}static{this.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),_De=(()=>{class e{constructor(n){this.loader=n}intercept(n,r){return this.loader.start(),r.handle(n).pipe(Il(()=>this.loader.complete()))}static{this.\u0275fac=function(r){return new(r||e)(j(VS))}}static{this.\u0275prov=L({token:e,factory:e.\u0275fac})}}return e})();const vDe=[{path:"",component:Zie},{path:"add-beat",component:(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=zo({type:e,selectors:[["app-beat-creator"]],standalone:!0,features:[aa],decls:2,vars:0,template:function(r,o){1&r&&(ve(0,"p"),br(1,"Welcome to the beat creator, Let us make some music ! \u{1f3b6}\u{1f3b6}"),Te())}})}}return e})()}];let bDe=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=Wo({type:e,bootstrap:[Koe]})}static{this.\u0275inj=co({providers:[{provide:vD,useClass:wW},{provide:Z2,useClass:_De,multi:!0},joe(vDe,To(6,[{provide:Cl,useClass:HQ}])),Cse(Ea(ii.LegacyInterceptors,[{provide:oV,useFactory:dse},{provide:Zf,useExisting:oV,multi:!0}])),{provide:vD,useClass:wW},fV.forRoot(hV,{dataEncapsulation:!1}).providers],imports:[ete,Ine,vj,fV.forRoot(hV,{dataEncapsulation:!1})]})}}return e})();Qee().bootstrapModule(bDe).catch(e=>console.error(e))}},td=>{td(td.s=35)}]);