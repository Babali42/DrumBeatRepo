var GW=Object.create;var Lh=Object.defineProperty,KW=Object.defineProperties,YW=Object.getOwnPropertyDescriptor,ZW=Object.getOwnPropertyDescriptors,JW=Object.getOwnPropertyNames,tO=Object.getOwnPropertySymbols,QW=Object.getPrototypeOf,rO=Object.prototype.hasOwnProperty,XW=Object.prototype.propertyIsEnumerable;var lE=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),e3=e=>{throw TypeError(e)};var nO=(e,t,n)=>t in e?Lh(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,x=(e,t)=>{for(var n in t||={})rO.call(t,n)&&nO(e,n,t[n]);if(tO)for(var n of tO(t))XW.call(t,n)&&nO(e,n,t[n]);return e},N=(e,t)=>KW(e,ZW(t));var oO=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),iO=(e,t)=>{for(var n in t)Lh(e,n,{get:t[n],enumerable:!0})},t3=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of JW(t))!rO.call(e,o)&&o!==n&&Lh(e,o,{get:()=>t[o],enumerable:!(r=YW(t,o))||r.enumerable});return e};var n3=(e,t,n)=>(n=e!=null?GW(QW(e)):{},t3(t||!e||!e.__esModule?Lh(n,"default",{value:e,enumerable:!0}):n,e));var be=(e,t,n)=>new Promise((r,o)=>{var i=c=>{try{a(n.next(c))}catch(u){o(u)}},s=c=>{try{a(n.throw(c))}catch(u){o(u)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(i,s);a((n=n.apply(e,t)).next())}),r3=function(e,t){this[0]=e,this[1]=t};var Zo=e=>{var t=e[lE("asyncIterator")],n=!1,r,o={};return t==null?(t=e[lE("iterator")](),r=i=>o[i]=s=>t[i](s)):(t=t.call(e),r=i=>o[i]=s=>{if(n){if(n=!1,i==="throw")throw s;return s}return n=!0,{done:!1,value:new r3(new Promise(a=>{var c=t[i](s);c instanceof Object||e3("Object expected"),a(c)}),1)}}),o[lE("iterator")]=()=>o,r("next"),"throw"in t?r("throw"):o.throw=i=>{throw i},"return"in t&&r("return"),o};var TP=oO((CTe,MP)=>{"use strict";var IP={toleranceLate:.1,toleranceEarly:.001},mi=function(e,t,n){this.clock=e,this.func=n,this._cleared=!1,this.toleranceLate=e.toleranceLate,this.toleranceEarly=e.toleranceEarly,this._latestTime=null,this._earliestTime=null,this.deadline=null,this.repeatTime=null,this.schedule(t)};mi.prototype.clear=function(){return this.clock._removeEvent(this),this._cleared=!0,this};mi.prototype.repeat=function(e){if(e===0)throw new Error("delay cannot be 0");return this.repeatTime=e,this.clock._hasEvent(this)||this.schedule(this.deadline+this.repeatTime),this};mi.prototype.tolerance=function(e){return typeof e.late=="number"&&(this.toleranceLate=e.late),typeof e.early=="number"&&(this.toleranceEarly=e.early),this._refreshEarlyLateDates(),this.clock._hasEvent(this)&&(this.clock._removeEvent(this),this.clock._insertEvent(this)),this};mi.prototype.isRepeated=function(){return this.repeatTime!==null};mi.prototype.schedule=function(e){this._cleared=!1,this.deadline=e,this._refreshEarlyLateDates(),this.clock.context.currentTime>=this._earliestTime?this._execute():this.clock._hasEvent(this)?(this.clock._removeEvent(this),this.clock._insertEvent(this)):this.clock._insertEvent(this)};mi.prototype.timeStretch=function(e,t){this.isRepeated()&&(this.repeatTime=this.repeatTime*t);var n=e+t*(this.deadline-e);if(this.isRepeated())for(;this.clock.context.currentTime>=n-this.toleranceEarly;)n+=this.repeatTime;this.schedule(n)};mi.prototype._execute=function(){this.clock._started!==!1&&(this.clock._removeEvent(this),this.clock.context.currentTime<this._latestTime?this.func(this):(this.onexpired&&this.onexpired(this),console.warn("event expired")),!this.clock._hasEvent(this)&&this.isRepeated()&&!this._cleared&&this.schedule(this.deadline+this.repeatTime))};mi.prototype._refreshEarlyLateDates=function(){this._latestTime=this.deadline+this.toleranceLate,this._earliestTime=this.deadline-this.toleranceEarly};var Vn=MP.exports=function(e,t){var n=this;t=t||{},this.tickMethod=t.tickMethod||"ScriptProcessorNode",this.toleranceEarly=t.toleranceEarly||IP.toleranceEarly,this.toleranceLate=t.toleranceLate||IP.toleranceLate,this.context=e,this._events=[],this._started=!1};Vn.prototype.setTimeout=function(e,t){return this._createEvent(e,this._absTime(t))};Vn.prototype.callbackAtTime=function(e,t){return this._createEvent(e,t)};Vn.prototype.timeStretch=function(e,t,n){return t.forEach(function(r){r.timeStretch(e,n)}),t};Vn.prototype.start=function(){if(this._started===!1){var e=this;if(this._started=!0,this._events=[],this.tickMethod==="ScriptProcessorNode"){var t=256;this._clockNode=this.context.createScriptProcessor(t,1,1),this._clockNode.connect(this.context.destination),this._clockNode.onaudioprocess=function(){setTimeout(function(){e.tick()},0)}}else if(this.tickMethod!=="manual")throw new Error("invalid tickMethod "+this.tickMethod)}};Vn.prototype.stop=function(){this._started===!0&&(this._started=!1,this._clockNode.disconnect())};Vn.prototype.tick=function(){for(var e=this._events.shift();e&&e._earliestTime<=this.context.currentTime;)e._execute(),e=this._events.shift();e&&this._events.unshift(e)};Vn.prototype._createEvent=function(e,t){return new mi(this,t,e)};Vn.prototype._insertEvent=function(e){this._events.splice(this._indexByTime(e._earliestTime),0,e)};Vn.prototype._removeEvent=function(e){var t=this._events.indexOf(e);t!==-1&&this._events.splice(t,1)};Vn.prototype._hasEvent=function(e){return this._events.indexOf(e)!==-1};Vn.prototype._indexByTime=function(e){for(var t=0,n=this._events.length,r;t<n;)r=Math.floor((t+n)/2),this._events[r]._earliestTime<e?t=r+1:n=r;return t};Vn.prototype._absTime=function(e){return e+this.context.currentTime};Vn.prototype._relTime=function(e){return e-this.context.currentTime}});var AP=oO((STe,RP)=>{"use strict";var OP=TP();RP.exports=OP;typeof window<"u"&&(window.WAAClock=OP)});var Jt=null,jh=!1,hE=1,o3=null,gn=Symbol("SIGNAL");function q(e){let t=Jt;return Jt=e,t}function Hh(){return Jt}var Ad={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function kd(e){if(jh)throw new Error("");if(Jt===null)return;Jt.consumerOnSignalRead(e);let t=Jt.producersTail;if(t!==void 0&&t.producer===e)return;let n,r=Jt.recomputing;if(r&&(n=t!==void 0?t.nextProducer:Jt.producers,n!==void 0&&n.producer===e)){Jt.producersTail=n,n.lastReadVersion=e.version;return}let o=e.consumersTail;if(o!==void 0&&o.consumer===Jt&&(!r||s3(o,Jt)))return;let i=vu(Jt),s={producer:e,consumer:Jt,nextProducer:n,prevConsumer:o,lastReadVersion:e.version,nextConsumer:void 0};Jt.producersTail=s,t!==void 0?t.nextProducer=s:Jt.producers=s,i&&uO(e,s)}function sO(){hE++}function mE(e){if(!(vu(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===hE)){if(!e.producerMustRecompute(e)&&!Uh(e)){pE(e);return}e.producerRecomputeValue(e),pE(e)}}function gE(e){if(e.consumers===void 0)return;let t=jh;jh=!0;try{for(let n=e.consumers;n!==void 0;n=n.nextConsumer){let r=n.consumer;r.dirty||i3(r)}}finally{jh=t}}function yE(){return Jt?.consumerAllowSignalWrites!==!1}function i3(e){e.dirty=!0,gE(e),e.consumerMarkedDirty?.(e)}function pE(e){e.dirty=!1,e.lastCleanEpoch=hE}function Nd(e){return e&&aO(e),q(e)}function aO(e){e.producersTail=void 0,e.recomputing=!0}function Vh(e,t){q(t),e&&cO(e)}function cO(e){e.recomputing=!1;let t=e.producersTail,n=t!==void 0?t.nextProducer:e.producers;if(n!==void 0){if(vu(e))do n=vE(n);while(n!==void 0);t!==void 0?t.nextProducer=void 0:e.producers=void 0}}function Uh(e){for(let t=e.producers;t!==void 0;t=t.nextProducer){let n=t.producer,r=t.lastReadVersion;if(r!==n.version||(mE(n),r!==n.version))return!0}return!1}function Fd(e){if(vu(e)){let t=e.producers;for(;t!==void 0;)t=vE(t)}e.producers=void 0,e.producersTail=void 0,e.consumers=void 0,e.consumersTail=void 0}function uO(e,t){let n=e.consumersTail,r=vu(e);if(n!==void 0?(t.nextConsumer=n.nextConsumer,n.nextConsumer=t):(t.nextConsumer=void 0,e.consumers=t),t.prevConsumer=n,e.consumersTail=t,!r)for(let o=e.producers;o!==void 0;o=o.nextProducer)uO(o.producer,o)}function vE(e){let t=e.producer,n=e.nextProducer,r=e.nextConsumer,o=e.prevConsumer;if(e.nextConsumer=void 0,e.prevConsumer=void 0,r!==void 0?r.prevConsumer=o:t.consumersTail=o,o!==void 0)o.nextConsumer=r;else if(t.consumers=r,!vu(t)){let i=t.producers;for(;i!==void 0;)i=vE(i)}return n}function vu(e){return e.consumerIsAlwaysLive||e.consumers!==void 0}function xE(e){o3?.(e)}function s3(e,t){let n=t.producersTail;if(n!==void 0){let r=t.producers;do{if(r===e)return!0;if(r===n)break;r=r.nextProducer}while(r!==void 0)}return!1}function bE(e,t){return Object.is(e,t)}function $h(e,t){let n=Object.create(a3);n.computation=e,t!==void 0&&(n.equal=t);let r=()=>{if(mE(n),kd(n),n.value===Bh)throw n.error;return n.value};return r[gn]=n,xE(n),r}var dE=Symbol("UNSET"),fE=Symbol("COMPUTING"),Bh=Symbol("ERRORED"),a3=N(x({},Ad),{value:dE,dirty:!0,error:null,equal:bE,kind:"computed",producerMustRecompute(e){return e.value===dE||e.value===fE},producerRecomputeValue(e){if(e.value===fE)throw new Error("");let t=e.value;e.value=fE;let n=Nd(e),r,o=!1;try{r=e.computation(),q(null),o=t!==dE&&t!==Bh&&r!==Bh&&e.equal(t,r)}catch(i){r=Bh,e.error=i}finally{Vh(e,n)}if(o){e.value=t;return}e.value=r,e.version++}});function c3(){throw new Error}var lO=c3;function dO(e){lO(e)}function EE(e){lO=e}var u3=null;function _E(e,t){let n=Object.create(qh);n.value=e,t!==void 0&&(n.equal=t);let r=()=>fO(n);return r[gn]=n,xE(n),[r,s=>Pd(n,s),s=>pO(n,s)]}function fO(e){return kd(e),e.value}function Pd(e,t){yE()||dO(e),e.equal(e.value,t)||(e.value=t,l3(e))}function pO(e,t){yE()||dO(e),Pd(e,t(e.value))}var qh=N(x({},Ad),{equal:bE,value:void 0,kind:"signal"});function l3(e){e.version++,sO(),gE(e),u3?.(e)}function CE(e){let t=q(null);try{return e()}finally{q(t)}}function z(e){return typeof e=="function"}function xu(e){let n=e(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var zh=xu(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,o)=>`${o+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function ga(e,t){if(e){let n=e.indexOf(t);0<=n&&e.splice(n,1)}}var at=class e{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let i of n)i.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(z(r))try{r()}catch(i){t=i instanceof zh?i.errors:[i]}let{_finalizers:o}=this;if(o){this._finalizers=null;for(let i of o)try{hO(i)}catch(s){t=t??[],s instanceof zh?t=[...t,...s.errors]:t.push(s)}}if(t)throw new zh(t)}}add(t){var n;if(t&&t!==this)if(this.closed)hO(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}}_hasParent(t){let{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){let{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&ga(n,t)}remove(t){let{_finalizers:n}=this;n&&ga(n,t),t instanceof e&&t._removeParent(this)}};at.EMPTY=(()=>{let e=new at;return e.closed=!0,e})();var SE=at.EMPTY;function Wh(e){return e instanceof at||e&&"closed"in e&&z(e.remove)&&z(e.add)&&z(e.unsubscribe)}function hO(e){z(e)?e():e.unsubscribe()}var Cr={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var bu={setTimeout(e,t,...n){let{delegate:r}=bu;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){let{delegate:t}=bu;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Gh(e){bu.setTimeout(()=>{let{onUnhandledError:t}=Cr;if(t)t(e);else throw e})}function Ld(){}var mO=DE("C",void 0,void 0);function gO(e){return DE("E",void 0,e)}function yO(e){return DE("N",e,void 0)}function DE(e,t,n){return{kind:e,value:t,error:n}}var ya=null;function Eu(e){if(Cr.useDeprecatedSynchronousErrorHandling){let t=!ya;if(t&&(ya={errorThrown:!1,error:null}),e(),t){let{errorThrown:n,error:r}=ya;if(ya=null,n)throw r}}else e()}function vO(e){Cr.useDeprecatedSynchronousErrorHandling&&ya&&(ya.errorThrown=!0,ya.error=e)}var va=class extends at{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Wh(t)&&t.add(this)):this.destination=p3}static create(t,n,r){return new Sr(t,n,r)}next(t){this.isStopped?IE(yO(t),this):this._next(t)}error(t){this.isStopped?IE(gO(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?IE(mO,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},d3=Function.prototype.bind;function wE(e,t){return d3.call(e,t)}var ME=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){Kh(r)}}error(t){let{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){Kh(r)}else Kh(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){Kh(n)}}},Sr=class extends va{constructor(t,n,r){super();let o;if(z(t)||!t)o={next:t??void 0,error:n??void 0,complete:r??void 0};else{let i;this&&Cr.useDeprecatedNextContext?(i=Object.create(t),i.unsubscribe=()=>this.unsubscribe(),o={next:t.next&&wE(t.next,i),error:t.error&&wE(t.error,i),complete:t.complete&&wE(t.complete,i)}):o=t}this.destination=new ME(o)}};function Kh(e){Cr.useDeprecatedSynchronousErrorHandling?vO(e):Gh(e)}function f3(e){throw e}function IE(e,t){let{onStoppedNotification:n}=Cr;n&&bu.setTimeout(()=>n(e,t))}var p3={closed:!0,next:Ld,error:f3,complete:Ld};var _u=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Dr(e){return e}function TE(...e){return OE(e)}function OE(e){return e.length===0?Dr:e.length===1?e[0]:function(n){return e.reduce((r,o)=>o(r),n)}}var re=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,o){let i=m3(n)?n:new Sr(n,r,o);return Eu(()=>{let{operator:s,source:a}=this;i.add(s?s.call(i,a):a?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=xO(r),new r((o,i)=>{let s=new Sr({next:a=>{try{n(a)}catch(c){i(c),s.unsubscribe()}},error:i,complete:o});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[_u](){return this}pipe(...n){return OE(n)(this)}toPromise(n){return n=xO(n),new n((r,o)=>{let i;this.subscribe(s=>i=s,s=>o(s),()=>r(i))})}}return e.create=t=>new e(t),e})();function xO(e){var t;return(t=e??Cr.Promise)!==null&&t!==void 0?t:Promise}function h3(e){return e&&z(e.next)&&z(e.error)&&z(e.complete)}function m3(e){return e&&e instanceof va||h3(e)&&Wh(e)}function g3(e){return z(e?.lift)}function ye(e){return t=>{if(g3(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ce(e,t,n,r,o){return new RE(e,t,n,r,o)}var RE=class extends va{constructor(t,n,r,o,i,s){super(t),this.onFinalize=i,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){t.error(c)}}:super._next,this._error=o?function(a){try{o(a)}catch(c){t.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};var bO=xu(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ve=(()=>{class e extends re{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Yh(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new bO}next(n){Eu(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Eu(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Eu(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:o,observers:i}=this;return r||o?SE:(this.currentObservers=null,i.push(n),new at(()=>{this.currentObservers=null,ga(i,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:o,isStopped:i}=this;r?n.error(o):i&&n.complete()}asObservable(){let n=new re;return n.source=this,n}}return e.create=(t,n)=>new Yh(t,n),e})(),Yh=class extends ve{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,t)}error(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,t)}complete(){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||n===void 0||n.call(t)}_subscribe(t){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(t))!==null&&r!==void 0?r:SE}};var ct=class extends ve{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){let{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}};var jd={now(){return(jd.delegate||Date).now()},delegate:void 0};var Zh=class extends ve{constructor(t=1/0,n=1/0,r=jd){super(),this._bufferSize=t,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,n)}next(t){let{isStopped:n,_buffer:r,_infiniteTimeWindow:o,_timestampProvider:i,_windowTime:s}=this;n||(r.push(t),!o&&r.push(i.now()+s)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();let n=this._innerSubscribe(t),{_infiniteTimeWindow:r,_buffer:o}=this,i=o.slice();for(let s=0;s<i.length&&!t.closed;s+=r?1:2)t.next(i[s]);return this._checkFinalizedStatuses(t),n}_trimBuffer(){let{_bufferSize:t,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:o}=this,i=(o?1:2)*t;if(t<1/0&&i<r.length&&r.splice(0,r.length-i),!o){let s=n.now(),a=0;for(let c=1;c<r.length&&r[c]<=s;c+=2)a=c;a&&r.splice(0,a+1)}}};var Jh=class extends at{constructor(t,n){super()}schedule(t,n=0){return this}};var Bd={setInterval(e,t,...n){let{delegate:r}=Bd;return r?.setInterval?r.setInterval(e,t,...n):setInterval(e,t,...n)},clearInterval(e){let{delegate:t}=Bd;return(t?.clearInterval||clearInterval)(e)},delegate:void 0};var Qh=class extends Jh{constructor(t,n){super(t,n),this.scheduler=t,this.work=n,this.pending=!1}schedule(t,n=0){var r;if(this.closed)return this;this.state=t;let o=this.id,i=this.scheduler;return o!=null&&(this.id=this.recycleAsyncId(i,o,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(i,this.id,n),this}requestAsyncId(t,n,r=0){return Bd.setInterval(t.flush.bind(t,this),r)}recycleAsyncId(t,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Bd.clearInterval(n)}execute(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(t,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,n){let r=!1,o;try{this.work(t)}catch(i){r=!0,o=i||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),o}unsubscribe(){if(!this.closed){let{id:t,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,ga(r,this),t!=null&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,super.unsubscribe()}}};var Cu=class e{constructor(t,n=e.now){this.schedulerActionCtor=t,this.now=n}schedule(t,n=0,r){return new this.schedulerActionCtor(this,t).schedule(r,n)}};Cu.now=jd.now;var Xh=class extends Cu{constructor(t,n=Cu.now){super(t,n),this.actions=[],this._active=!1}flush(t){let{actions:n}=this;if(this._active){n.push(t);return}let r;this._active=!0;do if(r=t.execute(t.state,t.delay))break;while(t=n.shift());if(this._active=!1,r){for(;t=n.shift();)t.unsubscribe();throw r}}};var AE=new Xh(Qh),EO=AE;var _t=new re(e=>e.complete());function em(e){return e&&z(e.schedule)}function kE(e){return e[e.length-1]}function tm(e){return z(kE(e))?e.pop():void 0}function so(e){return em(kE(e))?e.pop():void 0}function _O(e,t){return typeof kE(e)=="number"?e.pop():t}function SO(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(l){try{u(r.next(l))}catch(f){s(f)}}function c(l){try{u(r.throw(l))}catch(f){s(f)}}function u(l){l.done?i(l.value):o(l.value).then(a,c)}u((r=r.apply(e,t||[])).next())})}function CO(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function xa(e){return this instanceof xa?(this.v=e,this):new xa(e)}function DO(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),o,i=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),o[Symbol.asyncIterator]=function(){return this},o;function s(h){return function(y){return Promise.resolve(y).then(h,f)}}function a(h,y){r[h]&&(o[h]=function(S){return new Promise(function(I,O){i.push([h,S,I,O])>1||c(h,S)})},y&&(o[h]=y(o[h])))}function c(h,y){try{u(r[h](y))}catch(S){p(i[0][3],S)}}function u(h){h.value instanceof xa?Promise.resolve(h.value.v).then(l,f):p(i[0][2],h)}function l(h){c("next",h)}function f(h){c("throw",h)}function p(h,y){h(y),i.shift(),i.length&&c(i[0][0],i[0][1])}}function wO(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof CO=="function"?CO(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=e[i]&&function(s){return new Promise(function(a,c){s=e[i](s),o(a,c,s.done,s.value)})}}function o(i,s,a,c){Promise.resolve(c).then(function(u){i({value:u,done:a})},s)}}var Su=e=>e&&typeof e.length=="number"&&typeof e!="function";function nm(e){return z(e?.then)}function rm(e){return z(e[_u])}function om(e){return Symbol.asyncIterator&&z(e?.[Symbol.asyncIterator])}function im(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function y3(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var sm=y3();function am(e){return z(e?.[sm])}function cm(e){return DO(this,arguments,function*(){let n=e.getReader();try{for(;;){let{value:r,done:o}=yield xa(n.read());if(o)return yield xa(void 0);yield yield xa(r)}}finally{n.releaseLock()}})}function um(e){return z(e?.getReader)}function Le(e){if(e instanceof re)return e;if(e!=null){if(rm(e))return v3(e);if(Su(e))return x3(e);if(nm(e))return b3(e);if(om(e))return IO(e);if(am(e))return E3(e);if(um(e))return _3(e)}throw im(e)}function v3(e){return new re(t=>{let n=e[_u]();if(z(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function x3(e){return new re(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function b3(e){return new re(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,Gh)})}function E3(e){return new re(t=>{for(let n of e)if(t.next(n),t.closed)return;t.complete()})}function IO(e){return new re(t=>{C3(e,t).catch(n=>t.error(n))})}function _3(e){return IO(cm(e))}function C3(e,t){var n,r,o,i;return SO(this,void 0,void 0,function*(){try{for(n=wO(e);r=yield n.next(),!r.done;){let s=r.value;if(t.next(s),t.closed)return}}catch(s){o={error:s}}finally{try{r&&!r.done&&(i=n.return)&&(yield i.call(n))}finally{if(o)throw o.error}}t.complete()})}function yn(e,t,n,r=0,o=!1){let i=t.schedule(function(){n(),o?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(i),!o)return i}function lm(e,t=0){return ye((n,r)=>{n.subscribe(Ce(r,o=>yn(r,e,()=>r.next(o),t),()=>yn(r,e,()=>r.complete(),t),o=>yn(r,e,()=>r.error(o),t)))})}function dm(e,t=0){return ye((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function MO(e,t){return Le(e).pipe(dm(t),lm(t))}function TO(e,t){return Le(e).pipe(dm(t),lm(t))}function OO(e,t){return new re(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function RO(e,t){return new re(n=>{let r;return yn(n,t,()=>{r=e[sm](),yn(n,t,()=>{let o,i;try{({value:o,done:i}=r.next())}catch(s){n.error(s);return}i?n.complete():n.next(o)},0,!0)}),()=>z(r?.return)&&r.return()})}function fm(e,t){if(!e)throw new Error("Iterable cannot be null");return new re(n=>{yn(n,t,()=>{let r=e[Symbol.asyncIterator]();yn(n,t,()=>{r.next().then(o=>{o.done?n.complete():n.next(o.value)})},0,!0)})})}function AO(e,t){return fm(cm(e),t)}function kO(e,t){if(e!=null){if(rm(e))return MO(e,t);if(Su(e))return OO(e,t);if(nm(e))return TO(e,t);if(om(e))return fm(e,t);if(am(e))return RO(e,t);if(um(e))return AO(e,t)}throw im(e)}function Ve(e,t){return t?kO(e,t):Le(e)}function $(...e){let t=so(e);return Ve(e,t)}function NE(e,t){let n=z(e)?e:()=>e,r=o=>o.error(n());return new re(t?o=>t.schedule(r,0,o):r)}function wr(e){return!!e&&(e instanceof re||z(e.lift)&&z(e.subscribe))}var Jo=xu(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function Hd(e,t){let n=typeof t=="object";return new Promise((r,o)=>{let i=new Sr({next:s=>{r(s),i.unsubscribe()},error:o,complete:()=>{n?r(t.defaultValue):o(new Jo)}});e.subscribe(i)})}function NO(e){return e instanceof Date&&!isNaN(e)}function W(e,t){return ye((n,r)=>{let o=0;n.subscribe(Ce(r,i=>{r.next(e.call(t,i,o++))}))})}var{isArray:S3}=Array;function D3(e,t){return S3(t)?e(...t):e(t)}function Du(e){return W(t=>D3(e,t))}var{isArray:w3}=Array,{getPrototypeOf:I3,prototype:M3,keys:T3}=Object;function pm(e){if(e.length===1){let t=e[0];if(w3(t))return{args:t,keys:null};if(O3(t)){let n=T3(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}function O3(e){return e&&typeof e=="object"&&I3(e)===M3}function hm(e,t){return e.reduce((n,r,o)=>(n[r]=t[o],n),{})}function rs(...e){let t=so(e),n=tm(e),{args:r,keys:o}=pm(e);if(r.length===0)return Ve([],t);let i=new re(R3(r,t,o?s=>hm(o,s):Dr));return n?i.pipe(Du(n)):i}function R3(e,t,n=Dr){return r=>{FO(t,()=>{let{length:o}=e,i=new Array(o),s=o,a=o;for(let c=0;c<o;c++)FO(t,()=>{let u=Ve(e[c],t),l=!1;u.subscribe(Ce(r,f=>{i[c]=f,l||(l=!0,a--),a||r.next(n(i.slice()))},()=>{--s||r.complete()}))},r)},r)}}function FO(e,t,n){e?yn(n,e,t):t()}function PO(e,t,n,r,o,i,s,a){let c=[],u=0,l=0,f=!1,p=()=>{f&&!c.length&&!u&&t.complete()},h=S=>u<r?y(S):c.push(S),y=S=>{i&&t.next(S),u++;let I=!1;Le(n(S,l++)).subscribe(Ce(t,O=>{o?.(O),i?h(O):t.next(O)},()=>{I=!0},void 0,()=>{if(I)try{for(u--;c.length&&u<r;){let O=c.shift();s?yn(t,s,()=>y(O)):y(O)}p()}catch(O){t.error(O)}}))};return e.subscribe(Ce(t,h,()=>{f=!0,p()})),()=>{a?.()}}function Ct(e,t,n=1/0){return z(t)?Ct((r,o)=>W((i,s)=>t(r,i,o,s))(Le(e(r,o))),n):(typeof t=="number"&&(n=t),ye((r,o)=>PO(r,o,e,n)))}function os(e=1/0){return Ct(Dr,e)}function LO(){return os(1)}function Ir(...e){return LO()(Ve(e,so(e)))}function is(e){return new re(t=>{Le(e()).subscribe(t)})}function FE(...e){let t=tm(e),{args:n,keys:r}=pm(e),o=new re(i=>{let{length:s}=n;if(!s){i.complete();return}let a=new Array(s),c=s,u=s;for(let l=0;l<s;l++){let f=!1;Le(n[l]).subscribe(Ce(i,p=>{f||(f=!0,u--),a[l]=p},()=>c--,void 0,()=>{(!c||!f)&&(u||i.next(r?hm(r,a):a),i.complete())}))}});return t?o.pipe(Du(t)):o}var A3=["addListener","removeListener"],k3=["addEventListener","removeEventListener"],N3=["on","off"];function ao(e,t,n,r){if(z(n)&&(r=n,n=void 0),r)return ao(e,t,n).pipe(Du(r));let[o,i]=L3(e)?k3.map(s=>a=>e[s](t,a,n)):F3(e)?A3.map(jO(e,t)):P3(e)?N3.map(jO(e,t)):[];if(!o&&Su(e))return Ct(s=>ao(s,t,n))(Le(e));if(!o)throw new TypeError("Invalid event target");return new re(s=>{let a=(...c)=>s.next(1<c.length?c:c[0]);return o(a),()=>i(a)})}function jO(e,t){return n=>r=>e[n](t,r)}function F3(e){return z(e.addListener)&&z(e.removeListener)}function P3(e){return z(e.on)&&z(e.off)}function L3(e){return z(e.addEventListener)&&z(e.removeEventListener)}function wu(e=0,t,n=EO){let r=-1;return t!=null&&(em(t)?n=t:r=t),new re(o=>{let i=NO(e)?+e-n.now():e;i<0&&(i=0);let s=0;return n.schedule(function(){o.closed||(o.next(s++),0<=r?this.schedule(void 0,r):o.complete())},i)})}function PE(...e){let t=so(e),n=_O(e,1/0),r=e;return r.length?r.length===1?Le(r[0]):os(n)(Ve(r,t)):_t}function ut(e,t){return ye((n,r)=>{let o=0;n.subscribe(Ce(r,i=>e.call(t,i,o++)&&r.next(i)))})}function Iu(e){return ye((t,n)=>{let r=null,o=!1,i;r=t.subscribe(Ce(n,void 0,void 0,s=>{i=Le(e(s,Iu(e)(t))),r?(r.unsubscribe(),r=null,i.subscribe(n)):o=!0})),o&&(r.unsubscribe(),r=null,i.subscribe(n))})}function co(e,t){return z(t)?Ct(e,t,1):Ct(e,1)}function LE(e,t=AE){return ye((n,r)=>{let o=null,i=null,s=null,a=()=>{if(o){o.unsubscribe(),o=null;let u=i;i=null,r.next(u)}};function c(){let u=s+e,l=t.now();if(l<u){o=this.schedule(void 0,u-l),r.add(o);return}a()}n.subscribe(Ce(r,u=>{i=u,s=t.now(),o||(o=t.schedule(c,e),r.add(o))},()=>{a(),r.complete()},void 0,()=>{i=o=null}))})}function BO(e){return ye((t,n)=>{let r=!1;t.subscribe(Ce(n,o=>{r=!0,n.next(o)},()=>{r||n.next(e),n.complete()}))})}function Nt(e){return e<=0?()=>_t:ye((t,n)=>{let r=0;t.subscribe(Ce(n,o=>{++r<=e&&(n.next(o),e<=r&&n.complete())}))})}function HO(e=j3){return ye((t,n)=>{let r=!1;t.subscribe(Ce(n,o=>{r=!0,n.next(o)},()=>r?n.complete():n.error(e())))})}function j3(){return new Jo}function ss(e){return ye((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}function Qo(e,t){let n=arguments.length>=2;return r=>r.pipe(e?ut((o,i)=>e(o,i,r)):Dr,Nt(1),n?BO(t):HO(()=>new Jo))}function mm(e){return e<=0?()=>_t:ye((t,n)=>{let r=[];t.subscribe(Ce(n,o=>{r.push(o),e<r.length&&r.shift()},()=>{for(let o of r)n.next(o);n.complete()},void 0,()=>{r=null}))})}function VO(e={}){let{connector:t=()=>new ve,resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:o=!0}=e;return i=>{let s,a,c,u=0,l=!1,f=!1,p=()=>{a?.unsubscribe(),a=void 0},h=()=>{p(),s=c=void 0,l=f=!1},y=()=>{let S=s;h(),S?.unsubscribe()};return ye((S,I)=>{u++,!f&&!l&&p();let O=c=c??t();I.add(()=>{u--,u===0&&!f&&!l&&(a=jE(y,o))}),O.subscribe(I),!s&&u>0&&(s=new Sr({next:K=>O.next(K),error:K=>{f=!0,p(),a=jE(h,n,K),O.error(K)},complete:()=>{l=!0,p(),a=jE(h,r),O.complete()}}),Le(S).subscribe(s))})(i)}}function jE(e,t,...n){if(t===!0){e();return}if(t===!1)return;let r=new Sr({next:()=>{r.unsubscribe(),e()}});return Le(t(...n)).subscribe(r)}function Mu(e,t,n){let r,o=!1;return e&&typeof e=="object"?{bufferSize:r=1/0,windowTime:t=1/0,refCount:o=!1,scheduler:n}=e:r=e??1/0,VO({connector:()=>new Zh(r,t,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}function BE(e){return ut((t,n)=>e<=n)}function as(...e){let t=so(e);return ye((n,r)=>{(t?Ir(e,n,t):Ir(e,n)).subscribe(r)})}function yt(e,t){return ye((n,r)=>{let o=null,i=0,s=!1,a=()=>s&&!o&&r.complete();n.subscribe(Ce(r,c=>{o?.unsubscribe();let u=0,l=i++;Le(e(c,l)).subscribe(o=Ce(r,f=>r.next(t?t(c,f,l,u++):f),()=>{o=null,a()}))},()=>{s=!0,a()}))})}function Mr(e){return ye((t,n)=>{Le(e).subscribe(Ce(n,()=>n.complete(),Ld)),!n.closed&&t.subscribe(n)})}function an(e,t,n){let r=z(e)||t||n?{next:e,error:t,complete:n}:e;return r?ye((o,i)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;o.subscribe(Ce(i,c=>{var u;(u=r.next)===null||u===void 0||u.call(r,c),i.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),i.complete()},c=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,c),i.error(c)},()=>{var c,u;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):Dr}var HE;function gm(){return HE}function uo(e){let t=HE;return HE=e,t}var UO=Symbol("NotFound");function Tu(e){return e===UO||e?.name==="\u0275NotFound"}var Em="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",F=class extends Error{code;constructor(t,n){super(Tr(t,n)),this.code=t}};function V3(e){return`NG0${Math.abs(e)}`}function Tr(e,t){return`${V3(e)}${t?": "+t:""}`}var Or=globalThis;function Te(e){for(let t in e)if(e[t]===Te)return t;throw Error("")}function GO(e,t){for(let n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function ei(e){if(typeof e=="string")return e;if(Array.isArray(e))return`[${e.map(ei).join(", ")}]`;if(e==null)return""+e;let t=e.overriddenName||e.name;if(t)return`${t}`;let n=e.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function t_(e,t){return e?t?`${e} ${t}`:e:t||""}var U3=Te({__forward_ref__:Te});function Sa(e){return e.__forward_ref__=Sa,e.toString=function(){return ei(this())},e}function qt(e){return n_(e)?e():e}function n_(e){return typeof e=="function"&&e.hasOwnProperty(U3)&&e.__forward_ref__===Sa}function D(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function vt(e){return{providers:e.providers||[],imports:e.imports||[]}}function Wd(e){return $3(e,_m)}function r_(e){return Wd(e)!==null}function $3(e,t){return e.hasOwnProperty(t)&&e[t]||null}function q3(e){let t=e?.[_m]??null;return t||null}function UE(e){return e&&e.hasOwnProperty(vm)?e[vm]:null}var _m=Te({\u0275prov:Te}),vm=Te({\u0275inj:Te}),k=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(t,n){this._desc=t,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=D({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function o_(e){return e&&!!e.\u0275providers}var i_=Te({\u0275cmp:Te}),s_=Te({\u0275dir:Te}),a_=Te({\u0275pipe:Te}),c_=Te({\u0275mod:Te}),Ud=Te({\u0275fac:Te}),Da=Te({__NG_ELEMENT_ID__:Te}),$O=Te({__NG_ENV_ID__:Te});function u_(e){return Cm(e,"@NgModule"),e[c_]||null}function ni(e){return Cm(e,"@Component"),e[i_]||null}function l_(e){return Cm(e,"@Directive"),e[s_]||null}function KO(e){return Cm(e,"@Pipe"),e[a_]||null}function Cm(e,t){if(e==null)throw new F(-919,!1)}function Gd(e){return typeof e=="string"?e:e==null?"":String(e)}var YO=Te({ngErrorCode:Te}),z3=Te({ngErrorMessage:Te}),W3=Te({ngTokenPath:Te});function d_(e,t){return ZO("",-200,t)}function Sm(e,t){throw new F(-201,!1)}function ZO(e,t,n){let r=new F(t,e);return r[YO]=t,r[z3]=e,n&&(r[W3]=n),r}function G3(e){return e[YO]}var $E;function JO(){return $E}function cn(e){let t=$E;return $E=e,t}function f_(e,t,n){let r=Wd(e);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&8)return null;if(t!==void 0)return t;Sm(e,"")}var K3={},ba=K3,Y3="__NG_DI_FLAG__",qE=class{injector;constructor(t){this.injector=t}retrieve(t,n){let r=Ea(n)||0;try{return this.injector.get(t,r&8?null:ba,r)}catch(o){if(Tu(o))return o;throw o}}};function Z3(e,t=0){let n=gm();if(n===void 0)throw new F(-203,!1);if(n===null)return f_(e,void 0,t);{let r=J3(t),o=n.retrieve(e,r);if(Tu(o)){if(r.optional)return null;throw o}return o}}function L(e,t=0){return(JO()||Z3)(qt(e),t)}function v(e,t){return L(e,Ea(t))}function Ea(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function J3(e){return{optional:!!(e&8),host:!!(e&1),self:!!(e&2),skipSelf:!!(e&4)}}function zE(e){let t=[];for(let n=0;n<e.length;n++){let r=qt(e[n]);if(Array.isArray(r)){if(r.length===0)throw new F(900,!1);let o,i=0;for(let s=0;s<r.length;s++){let a=r[s],c=Q3(a);typeof c=="number"?c===-1?o=a.token:i|=c:o=a}t.push(L(o,i))}else t.push(L(r))}return t}function Q3(e){return e[Y3]}function cs(e,t){let n=e.hasOwnProperty(Ud);return n?e[Ud]:null}function Dm(e,t){e.forEach(n=>Array.isArray(n)?Dm(n,t):t(n))}function p_(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Kd(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function QO(e,t,n,r){let o=e.length;if(o==t)e.push(n,r);else if(o===1)e.push(r,e[0]),e[0]=n;else{for(o--,e.push(e[o-1],e[o]);o>t;){let i=o-2;e[o]=e[i],o--}e[t]=n,e[t+1]=r}}function XO(e,t,n){let r=Ru(e,t);return r>=0?e[r|1]=n:(r=~r,QO(e,r,t,n)),r}function wm(e,t){let n=Ru(e,t);if(n>=0)return e[n|1]}function Ru(e,t){return X3(e,t,1)}function X3(e,t,n){let r=0,o=e.length>>n;for(;o!==r;){let i=r+(o-r>>1),s=e[i<<n];if(t===s)return i<<n;s>t?o=i:r=i+1}return~(o<<n)}var ls={},Fn=[],ds=new k(""),h_=new k("",-1),m_=new k(""),$d=class{get(t,n=ba){if(n===ba){let o=ZO("",-201);throw o.name="\u0275NotFound",o}return n}};function fs(e){return{\u0275providers:e}}function eR(...e){return{\u0275providers:g_(!0,e),\u0275fromNgModule:!0}}function g_(e,...t){let n=[],r=new Set,o,i=s=>{n.push(s)};return Dm(t,s=>{let a=s;xm(a,i,[],r)&&(o||=[],o.push(a))}),o!==void 0&&tR(o,i),n}function tR(e,t){for(let n=0;n<e.length;n++){let{ngModule:r,providers:o}=e[n];y_(o,i=>{t(i,r)})}}function xm(e,t,n,r){if(e=qt(e),!e)return!1;let o=null,i=UE(e),s=!i&&ni(e);if(!i&&!s){let c=e.ngModule;if(i=UE(c),i)o=c;else return!1}else{if(s&&!s.standalone)return!1;o=e}let a=r.has(o);if(s){if(a)return!1;if(r.add(o),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let u of c)xm(u,t,n,r)}}else if(i){if(i.imports!=null&&!a){r.add(o);let u;Dm(i.imports,l=>{xm(l,t,n,r)&&(u||=[],u.push(l))}),u!==void 0&&tR(u,t)}if(!a){let u=cs(o)||(()=>new o);t({provide:o,useFactory:u,deps:Fn},o),t({provide:m_,useValue:o,multi:!0},o),t({provide:ds,useValue:()=>L(o),multi:!0},o)}let c=i.providers;if(c!=null&&!a){let u=e;y_(c,l=>{t(l,u)})}}else return!1;return o!==e&&e.providers!==void 0}function y_(e,t){for(let n of e)o_(n)&&(n=n.\u0275providers),Array.isArray(n)?y_(n,t):t(n)}var eG=Te({provide:String,useValue:Te});function nR(e){return e!==null&&typeof e=="object"&&eG in e}function tG(e){return!!(e&&e.useExisting)}function nG(e){return!!(e&&e.useFactory)}function _a(e){return typeof e=="function"}function rR(e){return!!e.useClass}var Yd=new k(""),ym={},qO={},VE;function Zd(){return VE===void 0&&(VE=new $d),VE}var ze=class{},Ca=class extends ze{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(t,n,r,o){super(),this.parent=n,this.source=r,this.scopes=o,GE(t,s=>this.processProvider(s)),this.records.set(h_,Ou(void 0,this)),o.has("environment")&&this.records.set(ze,Ou(void 0,this));let i=this.records.get(Yd);i!=null&&typeof i.value=="string"&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(m_,Fn,{self:!0}))}retrieve(t,n){let r=Ea(n)||0;try{return this.get(t,ba,r)}catch(o){if(Tu(o))return o;throw o}}destroy(){Vd(this),this._destroyed=!0;let t=q(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),q(t)}}onDestroy(t){return Vd(this),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){Vd(this);let n=uo(this),r=cn(void 0),o;try{return t()}finally{uo(n),cn(r)}}get(t,n=ba,r){if(Vd(this),t.hasOwnProperty($O))return t[$O](this);let o=Ea(r),i,s=uo(this),a=cn(void 0);try{if(!(o&4)){let u=this.records.get(t);if(u===void 0){let l=aG(t)&&Wd(t);l&&this.injectableDefInScope(l)?u=Ou(WE(t),ym):u=null,this.records.set(t,u)}if(u!=null)return this.hydrate(t,u,o)}let c=o&2?Zd():this.parent;return n=o&8&&n===ba?null:n,c.get(t,n)}catch(c){let u=G3(c);throw u===-200||u===-201?new F(u,null):c}finally{cn(a),uo(s)}}resolveInjectorInitializers(){let t=q(null),n=uo(this),r=cn(void 0),o;try{let i=this.get(ds,Fn,{self:!0});for(let s of i)s()}finally{uo(n),cn(r),q(t)}}toString(){let t=[],n=this.records;for(let r of n.keys())t.push(ei(r));return`R3Injector[${t.join(", ")}]`}processProvider(t){t=qt(t);let n=_a(t)?t:qt(t&&t.provide),r=oG(t);if(!_a(t)&&t.multi===!0){let o=this.records.get(n);o||(o=Ou(void 0,ym,!0),o.factory=()=>zE(o.multi),this.records.set(n,o)),n=t,o.multi.push(t)}this.records.set(n,r)}hydrate(t,n,r){let o=q(null);try{if(n.value===qO)throw d_(ei(t));return n.value===ym&&(n.value=qO,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&sG(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{q(o)}}injectableDefInScope(t){if(!t.providedIn)return!1;let n=qt(t.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){let n=this._onDestroyHooks.indexOf(t);n!==-1&&this._onDestroyHooks.splice(n,1)}};function WE(e){let t=Wd(e),n=t!==null?t.factory:cs(e);if(n!==null)return n;if(e instanceof k)throw new F(204,!1);if(e instanceof Function)return rG(e);throw new F(204,!1)}function rG(e){if(e.length>0)throw new F(204,!1);let n=q3(e);return n!==null?()=>n.factory(e):()=>new e}function oG(e){if(nR(e))return Ou(void 0,e.useValue);{let t=v_(e);return Ou(t,ym)}}function v_(e,t,n){let r;if(_a(e)){let o=qt(e);return cs(o)||WE(o)}else if(nR(e))r=()=>qt(e.useValue);else if(nG(e))r=()=>e.useFactory(...zE(e.deps||[]));else if(tG(e))r=(o,i)=>L(qt(e.useExisting),i!==void 0&&i&8?8:void 0);else{let o=qt(e&&(e.useClass||e.provide));if(iG(e))r=()=>new o(...zE(e.deps));else return cs(o)||WE(o)}return r}function Vd(e){if(e.destroyed)throw new F(205,!1)}function Ou(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function iG(e){return!!e.deps}function sG(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function aG(e){return typeof e=="function"||typeof e=="object"&&e.ngMetadataName==="InjectionToken"}function GE(e,t){for(let n of e)Array.isArray(n)?GE(n,t):n&&o_(n)?GE(n.\u0275providers,t):t(n)}function St(e,t){let n;e instanceof Ca?(Vd(e),n=e):n=new qE(e);let r,o=uo(n),i=cn(void 0);try{return t()}finally{uo(o),cn(i)}}function x_(){return JO()!==void 0||gm()!=null}var Rr=0,Y=1,te=2,Pt=3,tr=4,nr=5,Au=6,ku=7,lt=8,ri=9,lo=10,et=11,Nu=12,b_=13,wa=14,Pn=15,Ia=16,Ma=17,Ta=18,oi=19,E_=20,Xo=21,Im=22,Jd=23,Ln=24,Oa=25,Ra=26,dt=27,oR=1,__=6,ps=7,Qd=8,Xd=9,ft=10;function fo(e){return Array.isArray(e)&&typeof e[oR]=="object"}function Ar(e){return Array.isArray(e)&&e[oR]===!0}function C_(e){return(e.flags&4)!==0}function hs(e){return e.componentOffset>-1}function Fu(e){return(e.flags&1)===1}function po(e){return!!e.template}function Pu(e){return(e[te]&512)!==0}function Aa(e){return(e[te]&256)===256}var S_="svg",iR="math";function rr(e){for(;Array.isArray(e);)e=e[Rr];return e}function D_(e,t){return rr(t[e])}function kr(e,t){return rr(t[e.index])}function ef(e,t){return e.data[t]}function w_(e,t){return e[t]}function I_(e,t,n,r){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=r}function or(e,t){let n=t[e];return fo(n)?n:n[Rr]}function Mm(e){return(e[te]&128)===128}function sR(e){return Ar(e[Pt])}function ho(e,t){return t==null?null:e[t]}function M_(e){e[Ma]=0}function T_(e){e[te]&1024||(e[te]|=1024,Mm(e)&&Lu(e))}function aR(e,t){for(;e>0;)t=t[wa],e--;return t}function tf(e){return!!(e[te]&9216||e[Ln]?.dirty)}function Tm(e){e[lo].changeDetectionScheduler?.notify(8),e[te]&64&&(e[te]|=1024),tf(e)&&Lu(e)}function Lu(e){e[lo].changeDetectionScheduler?.notify(0);let t=us(e);for(;t!==null&&!(t[te]&8192||(t[te]|=8192,!Mm(t)));)t=us(t)}function O_(e,t){if(Aa(e))throw new F(911,!1);e[Xo]===null&&(e[Xo]=[]),e[Xo].push(t)}function cR(e,t){if(e[Xo]===null)return;let n=e[Xo].indexOf(t);n!==-1&&e[Xo].splice(n,1)}function us(e){let t=e[Pt];return Ar(t)?t[Pt]:t}function uR(e){return e[ku]??=[]}function lR(e){return e.cleanup??=[]}var ue={lFrame:wR(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var KE=!1;function dR(){return ue.lFrame.elementDepthCount}function fR(){ue.lFrame.elementDepthCount++}function pR(){ue.lFrame.elementDepthCount--}function Om(){return ue.bindingsEnabled}function hR(){return ue.skipHydrationRootTNode!==null}function mR(e){return ue.skipHydrationRootTNode===e}function gR(){ue.skipHydrationRootTNode=null}function de(){return ue.lFrame.lView}function Qt(){return ue.lFrame.tView}function ka(e){return ue.lFrame.contextLView=e,e[lt]}function Na(e){return ue.lFrame.contextLView=null,e}function vn(){let e=R_();for(;e!==null&&e.type===64;)e=e.parent;return e}function R_(){return ue.lFrame.currentTNode}function yR(){let e=ue.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function ju(e,t){let n=ue.lFrame;n.currentTNode=e,n.isParent=t}function A_(){return ue.lFrame.isParent}function vR(){ue.lFrame.isParent=!1}function k_(){return KE}function N_(e){let t=KE;return KE=e,t}function Rm(){let e=ue.lFrame,t=e.bindingRootIndex;return t===-1&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function xR(e){return ue.lFrame.bindingIndex=e}function Fa(){return ue.lFrame.bindingIndex++}function bR(e){let t=ue.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function ER(){return ue.lFrame.inI18n}function _R(e,t){let n=ue.lFrame;n.bindingIndex=n.bindingRootIndex=e,Am(t)}function CR(){return ue.lFrame.currentDirectiveIndex}function Am(e){ue.lFrame.currentDirectiveIndex=e}function SR(e){let t=ue.lFrame.currentDirectiveIndex;return t===-1?null:e[t]}function F_(e){ue.lFrame.currentQueryIndex=e}function cG(e){let t=e[Y];return t.type===2?t.declTNode:t.type===1?e[nr]:null}function P_(e,t,n){if(n&4){let o=t,i=e;for(;o=o.parent,o===null&&!(n&1);)if(o=cG(i),o===null||(i=i[wa],o.type&10))break;if(o===null)return!1;t=o,e=i}let r=ue.lFrame=DR();return r.currentTNode=t,r.lView=e,!0}function km(e){let t=DR(),n=e[Y];ue.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function DR(){let e=ue.lFrame,t=e===null?null:e.child;return t===null?wR(e):t}function wR(e){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=t),t}function IR(){let e=ue.lFrame;return ue.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var L_=IR;function Nm(){let e=IR();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function MR(e){return(ue.lFrame.contextLView=aR(e,ue.lFrame.contextLView))[lt]}function ms(){return ue.lFrame.selectedIndex}function gs(e){ue.lFrame.selectedIndex=e}function j_(){let e=ue.lFrame;return ef(e.tView,e.selectedIndex)}function Fm(){ue.lFrame.currentNamespace=S_}function Pm(){uG()}function uG(){ue.lFrame.currentNamespace=null}function TR(){return ue.lFrame.currentNamespace}var OR=!0;function Lm(){return OR}function nf(e){OR=e}function YE(e,t=null,n=null,r){let o=B_(e,t,n,r);return o.resolveInjectorInitializers(),o}function B_(e,t=null,n=null,r,o=new Set){let i=[n||Fn,eR(e)];return r=r||(typeof e=="object"?void 0:ei(e)),new Ca(i,t||Zd(),r||null,o)}var Lt=class e{static THROW_IF_NOT_FOUND=ba;static NULL=new $d;static create(t,n){if(Array.isArray(t))return YE({name:""},n,t,"");{let r=t.name??"";return YE({name:r},t.parent,t.providers,r)}}static \u0275prov=D({token:e,providedIn:"any",factory:()=>L(h_)});static __NG_ELEMENT_ID__=-1},Ue=new k(""),jt=(()=>{class e{static __NG_ELEMENT_ID__=lG;static __NG_ENV_ID__=n=>n}return e})(),ZE=class extends jt{_lView;constructor(t){super(),this._lView=t}get destroyed(){return Aa(this._lView)}onDestroy(t){let n=this._lView;return O_(n,t),()=>cR(n,t)}};function lG(){return new ZE(de())}var H_=!1,RR=new k(""),mo=(()=>{class e{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new ct(!1);debugTaskTracker=v(RR,{optional:!0});get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new re(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),this.debugTaskTracker?.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.debugTaskTracker?.remove(n),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=D({token:e,providedIn:"root",factory:()=>new e})}return e})(),JE=class extends ve{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,x_()&&(this.destroyRef=v(jt,{optional:!0})??void 0,this.pendingTasks=v(mo,{optional:!0})??void 0)}emit(t){let n=q(null);try{super.next(t)}finally{q(n)}}subscribe(t,n,r){let o=t,i=n||(()=>null),s=r;if(t&&typeof t=="object"){let c=t;o=c.next?.bind(c),i=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(i=this.wrapInTimeout(i),o&&(o=this.wrapInTimeout(o)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:o,error:i,complete:s});return t instanceof at&&t.add(a),a}wrapInTimeout(t){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{t(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Ft=JE;function bm(...e){}function V_(e){let t,n;function r(){e=bm;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),t!==void 0&&clearTimeout(t)}catch(o){}}return t=setTimeout(()=>{e(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{e(),r()})),()=>r()}function AR(e){return queueMicrotask(()=>e()),()=>{e=bm}}var U_="isAngularZone",qd=U_+"_ID",dG=0,we=class e{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Ft(!1);onMicrotaskEmpty=new Ft(!1);onStable=new Ft(!1);onError=new Ft(!1);constructor(t){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:o=!1,scheduleInRootZone:i=H_}=t;if(typeof Zone>"u")throw new F(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!o&&r,s.shouldCoalesceRunChangeDetection=o,s.callbackScheduled=!1,s.scheduleInRootZone=i,hG(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(U_)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new F(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new F(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,o){let i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+o,t,fG,bm,bm);try{return i.runTask(s,n,r)}finally{i.cancelTask(s)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}},fG={};function $_(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function pG(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function t(){V_(()=>{e.callbackScheduled=!1,QE(e),e.isCheckStableRunning=!0,$_(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),QE(e)}function hG(e){let t=()=>{pG(e)},n=dG++;e._inner=e._inner.fork({name:"angular",properties:{[U_]:!0,[qd]:n,[qd+n]:!0},onInvokeTask:(r,o,i,s,a,c)=>{if(mG(c))return r.invokeTask(i,s,a,c);try{return zO(e),r.invokeTask(i,s,a,c)}finally{(e.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&t(),WO(e)}},onInvoke:(r,o,i,s,a,c,u)=>{try{return zO(e),r.invoke(i,s,a,c,u)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!gG(c)&&t(),WO(e)}},onHasTask:(r,o,i,s)=>{r.hasTask(i,s),o===i&&(s.change=="microTask"?(e._hasPendingMicrotasks=s.microTask,QE(e),$_(e)):s.change=="macroTask"&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,o,i,s)=>(r.handleError(i,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}function QE(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function zO(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function WO(e){e._nesting--,$_(e)}var zd=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Ft;onMicrotaskEmpty=new Ft;onStable=new Ft;onError=new Ft;run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,o){return t.apply(n,r)}};function mG(e){return kR(e,"__ignore_ng_zone__")}function gG(e){return kR(e,"__scheduler_tick__")}function kR(e,t){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[t]===!0}var er=class{_console=console;handleError(t){this._console.error("ERROR",t)}},jn=new k("",{factory:()=>{let e=v(we),t=v(ze),n;return r=>{e.runOutsideAngular(()=>{t.destroyed&&!n?setTimeout(()=>{throw r}):(n??=t.get(er),n.handleError(r))})}}}),NR={provide:ds,useValue:()=>{let e=v(er,{optional:!0})},multi:!0};function Nr(e,t){let[n,r,o]=_E(e,t?.equal),i=n,s=i[gn];return i.set=r,i.update=o,i.asReadonly=q_.bind(i),i}function q_(){let e=this[gn];if(e.readonlyFn===void 0){let t=()=>this();t[gn]=e,e.readonlyFn=t}return e.readonlyFn}var jm=(()=>{class e{view;node;constructor(n,r){this.view=n,this.node=r}static __NG_ELEMENT_ID__=yG}return e})();function yG(){return new jm(de(),vn())}var ti=class{},Bu=new k("",{factory:()=>!0});var Bm=new k(""),Pa=(()=>{class e{internalPendingTasks=v(mo);scheduler=v(ti);errorHandler=v(jn);add(){let n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(n))}}run(n){let r=this.add();n().catch(this.errorHandler).finally(r)}static \u0275prov=D({token:e,providedIn:"root",factory:()=>new e})}return e})(),z_=(()=>{class e{static \u0275prov=D({token:e,providedIn:"root",factory:()=>new XE})}return e})(),XE=class{dirtyEffectCount=0;queues=new Map;add(t){this.enqueue(t),this.schedule(t)}schedule(t){t.dirty&&this.dirtyEffectCount++}remove(t){let n=t.zone,r=this.queues.get(n);r.has(t)&&(r.delete(t),t.dirty&&this.dirtyEffectCount--)}enqueue(t){let n=t.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(t)||r.add(t)}flush(){for(;this.dirtyEffectCount>0;){let t=!1;for(let[n,r]of this.queues)n===null?t||=this.flushQueue(r):t||=n.run(()=>this.flushQueue(r));t||(this.dirtyEffectCount=0)}}flushQueue(t){let n=!1;for(let r of t)r.dirty&&(this.dirtyEffectCount--,n=!0,r.run());return n}},e_=class{[gn];constructor(t){this[gn]=t}destroy(){this[gn].destroy()}};function Xt(e){return CE(e)}function pf(e){return{toString:e}.toString()}function uA(e){let t=Or.ng;if(t&&t.\u0275compilerFacade)return t.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function CG(e){return typeof e=="function"}function lA(e,t,n,r){t!==null?t.applyValueToInputSignal(t,r):e[n]=r}var zm=class{previousValue;currentValue;firstChange;constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}},qu=(()=>{let e=()=>dA;return e.ngInherit=!0,e})();function dA(e){return e.type.prototype.ngOnChanges&&(e.setInput=DG),SG}function SG(){let e=pA(this),t=e?.current;if(t){let n=e.previous;if(n===ls)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function DG(e,t,n,r,o){let i=this.declaredInputs[r],s=pA(e)||wG(e,{previous:ls,current:null}),a=s.current||(s.current={}),c=s.previous,u=c[i];a[i]=new zm(u&&u.currentValue,n,c===ls),lA(e,t,o,n)}var fA="__ngSimpleChanges__";function pA(e){return e[fA]||null}function wG(e,t){return e[fA]=t}var FR=[];var ke=function(e,t=null,n){for(let r=0;r<FR.length;r++){let o=FR[r];o(e,t,n)}},Ie=(function(e){return e[e.TemplateCreateStart=0]="TemplateCreateStart",e[e.TemplateCreateEnd=1]="TemplateCreateEnd",e[e.TemplateUpdateStart=2]="TemplateUpdateStart",e[e.TemplateUpdateEnd=3]="TemplateUpdateEnd",e[e.LifecycleHookStart=4]="LifecycleHookStart",e[e.LifecycleHookEnd=5]="LifecycleHookEnd",e[e.OutputStart=6]="OutputStart",e[e.OutputEnd=7]="OutputEnd",e[e.BootstrapApplicationStart=8]="BootstrapApplicationStart",e[e.BootstrapApplicationEnd=9]="BootstrapApplicationEnd",e[e.BootstrapComponentStart=10]="BootstrapComponentStart",e[e.BootstrapComponentEnd=11]="BootstrapComponentEnd",e[e.ChangeDetectionStart=12]="ChangeDetectionStart",e[e.ChangeDetectionEnd=13]="ChangeDetectionEnd",e[e.ChangeDetectionSyncStart=14]="ChangeDetectionSyncStart",e[e.ChangeDetectionSyncEnd=15]="ChangeDetectionSyncEnd",e[e.AfterRenderHooksStart=16]="AfterRenderHooksStart",e[e.AfterRenderHooksEnd=17]="AfterRenderHooksEnd",e[e.ComponentStart=18]="ComponentStart",e[e.ComponentEnd=19]="ComponentEnd",e[e.DeferBlockStateStart=20]="DeferBlockStateStart",e[e.DeferBlockStateEnd=21]="DeferBlockStateEnd",e[e.DynamicComponentStart=22]="DynamicComponentStart",e[e.DynamicComponentEnd=23]="DynamicComponentEnd",e[e.HostBindingsUpdateStart=24]="HostBindingsUpdateStart",e[e.HostBindingsUpdateEnd=25]="HostBindingsUpdateEnd",e})(Ie||{});function IG(e,t,n){let{ngOnChanges:r,ngOnInit:o,ngDoCheck:i}=t.type.prototype;if(r){let s=dA(t);(n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s)}o&&(n.preOrderHooks??=[]).push(0-e,o),i&&((n.preOrderHooks??=[]).push(e,i),(n.preOrderCheckHooks??=[]).push(e,i))}function hA(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){let i=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:l}=i;s&&(e.contentHooks??=[]).push(-n,s),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),c&&(e.viewHooks??=[]).push(-n,c),u&&((e.viewHooks??=[]).push(n,u),(e.viewCheckHooks??=[]).push(n,u)),l!=null&&(e.destroyHooks??=[]).push(n,l)}}function Um(e,t,n){mA(e,t,3,n)}function $m(e,t,n,r){(e[te]&3)===n&&mA(e,t,n,r)}function W_(e,t){let n=e[te];(n&3)===t&&(n&=16383,n+=1,e[te]=n)}function mA(e,t,n,r){let o=r!==void 0?e[Ma]&65535:0,i=r??-1,s=t.length-1,a=0;for(let c=o;c<s;c++)if(typeof t[c+1]=="number"){if(a=t[c],r!=null&&a>=r)break}else t[c]<0&&(e[Ma]+=65536),(a<i||i==-1)&&(MG(e,n,t,c),e[Ma]=(e[Ma]&4294901760)+c+2),c++}function PR(e,t){ke(Ie.LifecycleHookStart,e,t);let n=q(null);try{t.call(e)}finally{q(n),ke(Ie.LifecycleHookEnd,e,t)}}function MG(e,t,n,r){let o=n[r]<0,i=n[r+1],s=o?-n[r]:n[r],a=e[s];o?e[te]>>14<e[Ma]>>16&&(e[te]&3)===t&&(e[te]+=16384,PR(a,i)):PR(a,i)}var Vu=-1,ja=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,n,r,o){this.factory=t,this.name=o,this.canSeeViewProviders=n,this.injectImpl=r}};function TG(e){return(e.flags&8)!==0}function OG(e){return(e.flags&16)!==0}function RG(e,t,n){let r=0;for(;r<n.length;){let o=n[r];if(typeof o=="number"){if(o!==0)break;r++;let i=n[r++],s=n[r++],a=n[r++];e.setAttribute(t,s,a,i)}else{let i=o,s=n[++r];kG(i)?e.setProperty(t,i,s):e.setAttribute(t,i,s),r++}}return r}function AG(e){return e===3||e===4||e===6}function kG(e){return e.charCodeAt(0)===64}function sf(e,t){if(!(t===null||t.length===0))if(e===null||e.length===0)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){let o=t[r];typeof o=="number"?n=o:n===0||(n===-1||n===2?LR(e,n,o,null,t[++r]):LR(e,n,o,null,null))}}return e}function LR(e,t,n,r,o){let i=0,s=e.length;if(t===-1)s=-1;else for(;i<e.length;){let a=e[i++];if(typeof a=="number"){if(a===t){s=-1;break}else if(a>t){s=i-1;break}}}for(;i<e.length;){let a=e[i];if(typeof a=="number")break;if(a===n){o!==null&&(e[i+1]=o);return}i++,o!==null&&i++}s!==-1&&(e.splice(s,0,t),i=s+1),e.splice(i++,0,n),o!==null&&e.splice(i++,0,o)}function gA(e){return e!==Vu}function Wm(e){return e&32767}function NG(e){return e>>16}function Gm(e,t){let n=NG(e),r=t;for(;n>0;)r=r[wa],n--;return r}var rC=!0;function Km(e){let t=rC;return rC=e,t}var FG=256,yA=FG-1,vA=5,PG=0,go={};function LG(e,t,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Da)&&(r=n[Da]),r==null&&(r=n[Da]=PG++);let o=r&yA,i=1<<o;t.data[e+(o>>vA)]|=i}function Ym(e,t){let n=xA(e,t);if(n!==-1)return n;let r=t[Y];r.firstCreatePass&&(e.injectorIndex=t.length,G_(r.data,e),G_(t,null),G_(r.blueprint,null));let o=DC(e,t),i=e.injectorIndex;if(gA(o)){let s=Wm(o),a=Gm(o,t),c=a[Y].data;for(let u=0;u<8;u++)t[i+u]=a[s+u]|c[s+u]}return t[i+8]=o,i}function G_(e,t){e.push(0,0,0,0,0,0,0,0,t)}function xA(e,t){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||t[e.injectorIndex+8]===null?-1:e.injectorIndex}function DC(e,t){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let n=0,r=null,o=t;for(;o!==null;){if(r=SA(o),r===null)return Vu;if(n++,o=o[wa],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Vu}function oC(e,t,n){LG(e,t,n)}function bA(e,t,n){if(n&8||e!==void 0)return e;Sm(t,"NodeInjector")}function EA(e,t,n,r){if(n&8&&r===void 0&&(r=null),(n&3)===0){let o=e[ri],i=cn(void 0);try{return o?o.get(t,r,n&8):f_(t,r,n&8)}finally{cn(i)}}return bA(r,t,n)}function _A(e,t,n,r=0,o){if(e!==null){if(t[te]&2048&&!(r&2)){let s=UG(e,t,n,r,go);if(s!==go)return s}let i=CA(e,t,n,r,go);if(i!==go)return i}return EA(t,n,r,o)}function CA(e,t,n,r,o){let i=HG(n);if(typeof i=="function"){if(!P_(t,e,r))return r&1?bA(o,n,r):EA(t,n,r,o);try{let s;if(s=i(r),s==null&&!(r&8))Sm(n);else return s}finally{L_()}}else if(typeof i=="number"){let s=null,a=xA(e,t),c=Vu,u=r&1?t[Pn][nr]:null;for((a===-1||r&4)&&(c=a===-1?DC(e,t):t[a+8],c===Vu||!BR(r,!1)?a=-1:(s=t[Y],a=Wm(c),t=Gm(c,t)));a!==-1;){let l=t[Y];if(jR(i,a,l.data)){let f=jG(a,t,n,s,r,u);if(f!==go)return f}c=t[a+8],c!==Vu&&BR(r,t[Y].data[a+8]===u)&&jR(i,a,t)?(s=l,a=Wm(c),t=Gm(c,t)):a=-1}}return o}function jG(e,t,n,r,o,i){let s=t[Y],a=s.data[e+8],c=r==null?hs(a)&&rC:r!=s&&(a.type&3)!==0,u=o&1&&i===a,l=BG(a,s,n,c,u);return l!==null?Zm(t,s,l,a,o):go}function BG(e,t,n,r,o){let i=e.providerIndexes,s=t.data,a=i&1048575,c=e.directiveStart,u=e.directiveEnd,l=i>>20,f=r?a:a+l,p=o?a+l:u;for(let h=f;h<p;h++){let y=s[h];if(h<c&&n===y||h>=c&&y.type===n)return h}if(o){let h=s[c];if(h&&po(h)&&h.type===n)return c}return null}function Zm(e,t,n,r,o){let i=e[n],s=t.data;if(i instanceof ja){let a=i;if(a.resolving)throw d_("");let c=Km(a.canSeeViewProviders);a.resolving=!0;let u=s[n].type||s[n],l,f=a.injectImpl?cn(a.injectImpl):null,p=P_(e,r,0);try{i=e[n]=a.factory(void 0,o,s,e,r),t.firstCreatePass&&n>=r.directiveStart&&IG(n,s[n],t)}finally{f!==null&&cn(f),Km(c),a.resolving=!1,L_()}}return i}function HG(e){if(typeof e=="string")return e.charCodeAt(0)||0;let t=e.hasOwnProperty(Da)?e[Da]:void 0;return typeof t=="number"?t>=0?t&yA:VG:t}function jR(e,t,n){let r=1<<e;return!!(n[t+(e>>vA)]&r)}function BR(e,t){return!(e&2)&&!(e&1&&t)}var La=class{_tNode;_lView;constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return _A(this._tNode,this._lView,t,Ea(r),n)}};function VG(){return new La(vn(),de())}function xn(e){return pf(()=>{let t=e.prototype.constructor,n=t[Ud]||iC(t),r=Object.prototype,o=Object.getPrototypeOf(e.prototype).constructor;for(;o&&o!==r;){let i=o[Ud]||iC(o);if(i&&i!==n)return i;o=Object.getPrototypeOf(o)}return i=>new i})}function iC(e){return n_(e)?()=>{let t=iC(qt(e));return t&&t()}:cs(e)}function UG(e,t,n,r,o){let i=e,s=t;for(;i!==null&&s!==null&&s[te]&2048&&!Pu(s);){let a=CA(i,s,n,r|2,go);if(a!==go)return a;let c=i.parent;if(!c){let u=s[E_];if(u){let l=u.get(n,go,r);if(l!==go)return l}c=SA(s),s=s[wa]}i=c}return o}function SA(e){let t=e[Y],n=t.type;return n===2?t.declTNode:n===1?e[nr]:null}function $G(){return cg(vn(),de())}function cg(e,t){return new ir(kr(e,t))}var ir=(()=>{class e{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=$G}return e})();function DA(e){return(e.flags&128)===128}var wC=(function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e})(wC||{}),wA=new Map,qG=0;function zG(){return qG++}function WG(e){wA.set(e[oi],e)}function sC(e){wA.delete(e[oi])}var HR="__ngContext__";function Uu(e,t){fo(t)?(e[HR]=t[oi],WG(t)):e[HR]=t}function IA(e){return TA(e[Nu])}function MA(e){return TA(e[tr])}function TA(e){for(;e!==null&&!Ar(e);)e=e[tr];return e}var GG;function IC(e){GG=e}var ug=new k("",{factory:()=>KG}),KG="ng";var lg=new k(""),ii=new k("",{providedIn:"platform",factory:()=>"unknown"});var zu=new k("",{factory:()=>v(Ue).body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var OA="r";var RA="di";var AA=!1,kA=new k("",{factory:()=>AA});var MC=new k("");var YG=(e,t,n,r)=>{};function ZG(e,t,n,r){YG(e,t,n,r)}function TC(e){return(e.flags&32)===32}var JG=()=>null;function NA(e,t,n=!1){return JG(e,t,n)}function FA(e,t){let n=e.contentQueries;if(n!==null){let r=q(null);try{for(let o=0;o<n.length;o+=2){let i=n[o],s=n[o+1];if(s!==-1){let a=e.data[s];F_(i),a.contentQueries(2,t[s],s)}}}finally{q(r)}}}function aC(e,t,n){F_(0);let r=q(null);try{t(e,n)}finally{q(r)}}function OC(e,t,n){if(C_(t)){let r=q(null);try{let o=t.directiveStart,i=t.directiveEnd;for(let s=o;s<i;s++){let a=e.data[s];if(a.contentQueries){let c=n[s];a.contentQueries(1,c,s)}}}finally{q(r)}}}var Pr=(function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e[e.ExperimentalIsolatedShadowDom=4]="ExperimentalIsolatedShadowDom",e})(Pr||{});var Jm=class{changingThisBreaksApplicationSecurity;constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Em})`}};function dg(e){return e instanceof Jm?e.changingThisBreaksApplicationSecurity:e}function PA(e,t){let n=LA(e);if(n!=null&&n!==t){if(n==="ResourceURL"&&t==="URL")return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${Em})`)}return n===t}function LA(e){return e instanceof Jm&&e.getTypeName()||null}var QG=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function jA(e){return e=String(e),e.match(QG)?e:"unsafe:"+e}var XG=/^>|^->|<!--|-->|--!>|<!-$/g,e8=/(<|>)/g,t8="\u200B$1\u200B";function n8(e){return e.replace(XG,t=>t.replace(e8,t8))}function r8(e,t){return e.createText(t)}function o8(e,t,n){e.setValue(t,n)}function i8(e,t){return e.createComment(n8(t))}function BA(e,t,n){return e.createElement(t,n)}function Qm(e,t,n,r,o){e.insertBefore(t,n,r,o)}function HA(e,t,n){e.appendChild(t,n)}function VR(e,t,n,r,o){r!==null?Qm(e,t,n,r,o):HA(e,t,n)}function VA(e,t,n,r){e.removeChild(null,t,n,r)}function s8(e,t,n){e.setAttribute(t,"style",n)}function a8(e,t,n){n===""?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function UA(e,t,n){let{mergedAttrs:r,classes:o,styles:i}=n;r!==null&&RG(e,t,r),o!==null&&a8(e,t,o),i!==null&&s8(e,t,i)}var RC=(function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e})(RC||{});function AC(e){let t=c8();return t?t.sanitize(RC.URL,e)||"":PA(e,"URL")?dg(e):jA(Gd(e))}function c8(){let e=de();return e&&e[lo].sanitizer}function kC(e){return e.ownerDocument.defaultView}function $A(e){return e instanceof Function?e():e}function u8(e,t,n){let r=e.length;for(;;){let o=e.indexOf(t,n);if(o===-1)return o;if(o===0||e.charCodeAt(o-1)<=32){let i=t.length;if(o+i===r||e.charCodeAt(o+i)<=32)return o}n=o+1}}var qA="ng-template";function l8(e,t,n,r){let o=0;if(r){for(;o<t.length&&typeof t[o]=="string";o+=2)if(t[o]==="class"&&u8(t[o+1].toLowerCase(),n,0)!==-1)return!0}else if(NC(e))return!1;if(o=t.indexOf(1,o),o>-1){let i;for(;++o<t.length&&typeof(i=t[o])=="string";)if(i.toLowerCase()===n)return!0}return!1}function NC(e){return e.type===4&&e.value!==qA}function d8(e,t,n){let r=e.type===4&&!n?qA:e.value;return t===r}function f8(e,t,n){let r=4,o=e.attrs,i=o!==null?m8(o):0,s=!1;for(let a=0;a<t.length;a++){let c=t[a];if(typeof c=="number"){if(!s&&!Fr(r)&&!Fr(c))return!1;if(s&&Fr(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!d8(e,c,n)||c===""&&t.length===1){if(Fr(r))return!1;s=!0}}else if(r&8){if(o===null||!l8(e,o,c,n)){if(Fr(r))return!1;s=!0}}else{let u=t[++a],l=p8(c,o,NC(e),n);if(l===-1){if(Fr(r))return!1;s=!0;continue}if(u!==""){let f;if(l>i?f="":f=o[l+1].toLowerCase(),r&2&&u!==f){if(Fr(r))return!1;s=!0}}}}return Fr(r)||s}function Fr(e){return(e&1)===0}function p8(e,t,n,r){if(t===null)return-1;let o=0;if(r||!n){let i=!1;for(;o<t.length;){let s=t[o];if(s===e)return o;if(s===3||s===6)i=!0;else if(s===1||s===2){let a=t[++o];for(;typeof a=="string";)a=t[++o];continue}else{if(s===4)break;if(s===0){o+=4;continue}}o+=i?1:2}return-1}else return g8(t,e)}function h8(e,t,n=!1){for(let r=0;r<t.length;r++)if(f8(e,t[r],n))return!0;return!1}function m8(e){for(let t=0;t<e.length;t++){let n=e[t];if(AG(n))return t}return e.length}function g8(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){let r=e[n];if(typeof r=="number")return-1;if(r===t)return n;n++}return-1}function UR(e,t){return e?":not("+t.trim()+")":t}function y8(e){let t=e[0],n=1,r=2,o="",i=!1;for(;n<e.length;){let s=e[n];if(typeof s=="string")if(r&2){let a=e[++n];o+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?o+="."+s:r&4&&(o+=" "+s);else o!==""&&!Fr(s)&&(t+=UR(i,o),o=""),r=s,i=i||!Fr(r);n++}return o!==""&&(t+=UR(i,o)),t}function v8(e){return e.map(y8).join(",")}function x8(e){let t=[],n=[],r=1,o=2;for(;r<e.length;){let i=e[r];if(typeof i=="string")o===2?i!==""&&t.push(i,e[++r]):o===8&&n.push(i);else{if(!Fr(o))break;o=i}r++}return n.length&&t.push(1,...n),t}var Lr={};function FC(e,t,n,r,o,i,s,a,c,u,l){let f=dt+r,p=f+o,h=b8(f,p),y=typeof u=="function"?u():u;return h[Y]={type:e,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:t,data:h.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:p,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof i=="function"?i():i,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:y,incompleteFirstPass:!1,ssrId:l}}function b8(e,t){let n=[];for(let r=0;r<t;r++)n.push(r<e?null:Lr);return n}function E8(e){let t=e.tView;return t===null||t.incompleteFirstPass?e.tView=FC(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function PC(e,t,n,r,o,i,s,a,c,u,l){let f=t.blueprint.slice();return f[Rr]=o,f[te]=r|4|128|8|64|1024,(u!==null||e&&e[te]&2048)&&(f[te]|=2048),M_(f),f[Pt]=f[wa]=e,f[lt]=n,f[lo]=s||e&&e[lo],f[et]=a||e&&e[et],f[ri]=c||e&&e[ri]||null,f[nr]=i,f[oi]=zG(),f[Au]=l,f[E_]=u,f[Pn]=t.type==2?e[Pn]:f,f}function _8(e,t,n){let r=kr(t,e),o=E8(n),i=e[lo].rendererFactory,s=LC(e,PC(e,o,null,zA(n),r,t,null,i.createRenderer(r,n),null,null,null));return e[t.index]=s}function zA(e){let t=16;return e.signals?t=4096:e.onPush&&(t=64),t}function WA(e,t,n,r){if(n===0)return-1;let o=t.length;for(let i=0;i<n;i++)t.push(r),e.blueprint.push(r),e.data.push(null);return o}function LC(e,t){return e[Nu]?e[b_][tr]=t:e[Nu]=t,e[b_]=t,t}function Oe(e=1){GA(Qt(),de(),ms()+e,!1)}function GA(e,t,n,r){if(!r)if((t[te]&3)===3){let i=e.preOrderCheckHooks;i!==null&&Um(t,i,n)}else{let i=e.preOrderHooks;i!==null&&$m(t,i,0,n)}gs(n)}var fg=(function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e})(fg||{});function cC(e,t,n,r){let o=q(null);try{let[i,s,a]=e.inputs[n],c=null;(s&fg.SignalBased)!==0&&(c=t[i][gn]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):a!==null&&(r=a.call(t,r)),e.setInput!==null?e.setInput(t,c,r,n,i):lA(t,c,i,r)}finally{q(o)}}var yo=(function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e})(yo||{}),C8;function jC(e,t){return C8(e,t)}var Ba=new Set,pg=(function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e})(pg||{}),si=new k(""),$R=new Set;function jr(e){$R.has(e)||($R.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}var BC=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=D({token:e,providedIn:"root",factory:()=>new e})}return e})(),KA=[0,1,2,3],YA=(()=>{class e{ngZone=v(we);scheduler=v(ti);errorHandler=v(er,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){v(si,{optional:!0})}execute(){let n=this.sequences.size>0;n&&ke(Ie.AfterRenderHooksStart),this.executing=!0;for(let r of KA)for(let o of this.sequences)if(!(o.erroredOrDestroyed||!o.hooks[r]))try{o.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let i=o.hooks[r];return i(o.pipelinedValue)},o.snapshot))}catch(i){o.erroredOrDestroyed=!0,this.errorHandler?.handleError(i)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),n&&ke(Ie.AfterRenderHooksEnd)}register(n){let{view:r}=n;r!==void 0?((r[Oa]??=[]).push(n),Lu(r),r[te]|=8192):this.executing?this.deferredRegistrations.add(n):this.addSequence(n)}addSequence(n){this.sequences.add(n),this.scheduler.notify(7)}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}maybeTrace(n,r){return r?r.run(pg.AFTER_NEXT_RENDER,n):n()}static \u0275prov=D({token:e,providedIn:"root",factory:()=>new e})}return e})(),Xm=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(t,n,r,o,i,s=null){this.impl=t,this.hooks=n,this.view=r,this.once=o,this.snapshot=s,this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let t=this.view?.[Oa];t&&(this.view[Oa]=t.filter(n=>n!==this))}};function Wu(e,t){let n=t?.injector??v(Lt);return jr("NgAfterNextRender"),D8(e,n,t,!0)}function S8(e){return e instanceof Function?[void 0,void 0,e,void 0]:[e.earlyRead,e.write,e.mixedReadWrite,e.read]}function D8(e,t,n,r){let o=t.get(BC);o.impl??=t.get(YA);let i=t.get(si,null,{optional:!0}),s=n?.manualCleanup!==!0?t.get(jt):null,a=t.get(jm,null,{optional:!0}),c=new Xm(o.impl,S8(e),a?.view,r,s,i?.snapshot(null));return o.impl.register(c),c}var HC=new k("",{factory:()=>({queue:new Set,isScheduled:!1,scheduler:null,injector:v(ze)})});function ZA(e,t,n){let r=e.get(HC);if(Array.isArray(t))for(let o of t)r.queue.add(o),n?.detachedLeaveAnimationFns?.push(o);else r.queue.add(t),n?.detachedLeaveAnimationFns?.push(t);r.scheduler&&r.scheduler(e)}function w8(e,t){let n=e.get(HC);if(t.detachedLeaveAnimationFns){for(let r of t.detachedLeaveAnimationFns)n.queue.delete(r);t.detachedLeaveAnimationFns=void 0}}function I8(e,t){for(let[n,r]of t)ZA(e,r.animateFns)}function M8(e,t){let n=e.get(HC);if(Array.isArray(t))for(let r of t)n.queue.delete(r);else n.queue.delete(t)}function qR(e,t,n,r){let o=e?.[Ra]?.enter;t!==null&&o&&o.has(n.index)&&I8(r,o)}function Hu(e,t,n,r,o,i,s,a){if(o!=null){let c,u=!1;Ar(o)?c=o:fo(o)&&(u=!0,o=o[Rr]);let l=rr(o);e===0&&r!==null?(qR(a,r,i,n),s==null?HA(t,r,l):Qm(t,r,l,s||null,!0)):e===1&&r!==null?(qR(a,r,i,n),Qm(t,r,l,s||null,!0)):e===2?zR(a,i,n,f=>{VA(t,l,u,f)}):e===3&&zR(a,i,n,()=>{t.destroyNode(l)}),c!=null&&V8(t,e,n,c,i,r,s)}}function T8(e,t){JA(e,t),t[Rr]=null,t[nr]=null}function O8(e,t,n,r,o,i){r[Rr]=o,r[nr]=t,mg(e,r,n,1,o,i)}function JA(e,t){t[lo].changeDetectionScheduler?.notify(9),mg(e,t,t[et],2,null,null)}function R8(e){let t=e[Nu];if(!t)return K_(e[Y],e);for(;t;){let n=null;if(fo(t))n=t[Nu];else{let r=t[ft];r&&(n=r)}if(!n){for(;t&&!t[tr]&&t!==e;)fo(t)&&K_(t[Y],t),t=t[Pt];t===null&&(t=e),fo(t)&&K_(t[Y],t),n=t&&t[tr]}t=n}}function VC(e,t){let n=e[Xd],r=n.indexOf(t);n.splice(r,1)}function hg(e,t){if(Aa(t))return;let n=t[et];n.destroyNode&&mg(e,t,n,3,null,null),R8(t)}function K_(e,t){if(Aa(t))return;let n=q(null);try{t[te]&=-129,t[te]|=256,t[Ln]&&Fd(t[Ln]),N8(e,t),k8(e,t),t[Y].type===1&&t[et].destroy();let r=t[Ia];if(r!==null&&Ar(t[Pt])){r!==t[Pt]&&VC(r,t);let o=t[Ta];o!==null&&o.detachView(e)}sC(t)}finally{q(n)}}function zR(e,t,n,r){let o=e?.[Ra];if(o?.enter?.has(t.index)&&M8(n,o.enter.get(t.index).animateFns),o==null||o.leave==null||!o.leave.has(t.index))return r(!1);e&&Ba.add(e[oi]),ZA(n,()=>{if(o.leave&&o.leave.has(t.index)){let s=o.leave.get(t.index),a=[];if(s){for(let c=0;c<s.animateFns.length;c++){let u=s.animateFns[c],{promise:l}=u();a.push(l)}o.detachedLeaveAnimationFns=void 0}o.running=Promise.allSettled(a),A8(e,r)}else e&&Ba.delete(e[oi]),r(!1)},o)}function A8(e,t){let n=e[Ra]?.running;if(n){n.then(()=>{e[Ra].running=void 0,Ba.delete(e[oi]),t(!0)});return}t(!1)}function k8(e,t){let n=e.cleanup,r=t[ku];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[n[s+1]];n[s].call(a)}r!==null&&(t[ku]=null);let o=t[Xo];if(o!==null){t[Xo]=null;for(let s=0;s<o.length;s++){let a=o[s];a()}}let i=t[Jd];if(i!==null){t[Jd]=null;for(let s of i)s.destroy()}}function N8(e,t){let n;if(e!=null&&(n=e.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let o=t[n[r]];if(!(o instanceof ja)){let i=n[r+1];if(Array.isArray(i))for(let s=0;s<i.length;s+=2){let a=o[i[s]],c=i[s+1];ke(Ie.LifecycleHookStart,a,c);try{c.call(a)}finally{ke(Ie.LifecycleHookEnd,a,c)}}else{ke(Ie.LifecycleHookStart,o,i);try{i.call(o)}finally{ke(Ie.LifecycleHookEnd,o,i)}}}}}function F8(e,t,n){return P8(e,t.parent,n)}function P8(e,t,n){let r=t;for(;r!==null&&r.type&168;)t=r,r=t.parent;if(r===null)return n[Rr];if(hs(r)){let{encapsulation:o}=e.data[r.directiveStart+r.componentOffset];if(o===Pr.None||o===Pr.Emulated)return null}return kr(r,n)}function L8(e,t,n){return B8(e,t,n)}function j8(e,t,n){return e.type&40?kr(e,n):null}var B8=j8,WR;function UC(e,t,n,r){let o=F8(e,r,t),i=t[et],s=r.parent||t[nr],a=L8(s,r,t);if(o!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)VR(i,o,n[c],a,!1);else VR(i,o,n,a,!1);WR!==void 0&&WR(i,r,t,n,o)}function rf(e,t){if(t!==null){let n=t.type;if(n&3)return kr(t,e);if(n&4)return uC(-1,e[t.index]);if(n&8){let r=t.child;if(r!==null)return rf(e,r);{let o=e[t.index];return Ar(o)?uC(-1,o):rr(o)}}else{if(n&128)return rf(e,t.next);if(n&32)return jC(t,e)()||rr(e[t.index]);{let r=QA(e,t);if(r!==null){if(Array.isArray(r))return r[0];let o=us(e[Pn]);return rf(o,r)}else return rf(e,t.next)}}}return null}function QA(e,t){if(t!==null){let r=e[Pn][nr],o=t.projection;return r.projection[o]}return null}function uC(e,t){let n=ft+e+1;if(n<t.length){let r=t[n],o=r[Y].firstChild;if(o!==null)return rf(r,o)}return t[ps]}function $C(e,t,n,r,o,i,s){for(;n!=null;){let a=r[ri];if(n.type===128){n=n.next;continue}let c=r[n.index],u=n.type;if(s&&t===0&&(c&&Uu(rr(c),r),n.flags|=2),!TC(n))if(u&8)$C(e,t,n.child,r,o,i,!1),Hu(t,e,a,o,c,n,i,r);else if(u&32){let l=jC(n,r),f;for(;f=l();)Hu(t,e,a,o,f,n,i,r);Hu(t,e,a,o,c,n,i,r)}else u&16?H8(e,t,r,n,o,i):Hu(t,e,a,o,c,n,i,r);n=s?n.projectionNext:n.next}}function mg(e,t,n,r,o,i){$C(n,r,e.firstChild,t,o,i,!1)}function H8(e,t,n,r,o,i){let s=n[Pn],c=s[nr].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let l=c[u];Hu(t,e,n[ri],o,l,r,i,n)}else{let u=c,l=s[Pt];DA(r)&&(u.flags|=128),$C(e,t,u,l,o,i,!0)}}function V8(e,t,n,r,o,i,s){let a=r[ps],c=rr(r);a!==c&&Hu(t,e,n,i,a,o,s);for(let u=ft;u<r.length;u++){let l=r[u];mg(l[Y],l,e,t,i,a)}}function U8(e,t,n,r,o){if(t)o?e.addClass(n,r):e.removeClass(n,r);else{let i=r.indexOf("-")===-1?void 0:yo.DashCase;o==null?e.removeStyle(n,r,i):(typeof o=="string"&&o.endsWith("!important")&&(o=o.slice(0,-10),i|=yo.Important),e.setStyle(n,r,o,i))}}function XA(e,t,n,r,o){let i=ms(),s=r&2;try{gs(-1),s&&t.length>dt&&GA(e,t,dt,!1);let a=s?Ie.TemplateUpdateStart:Ie.TemplateCreateStart;ke(a,o,n),n(r,o)}finally{gs(i);let a=s?Ie.TemplateUpdateEnd:Ie.TemplateCreateEnd;ke(a,o,n)}}function gg(e,t,n){Z8(e,t,n),(n.flags&64)===64&&J8(e,t,n)}function yg(e,t,n=kr){let r=t.localNames;if(r!==null){let o=t.index+1;for(let i=0;i<r.length;i+=2){let s=r[i+1],a=s===-1?n(t,e):e[s];e[o++]=a}}}function $8(e,t,n,r){let i=r.get(kA,AA)||n===Pr.ShadowDom||n===Pr.ExperimentalIsolatedShadowDom,s=e.selectRootElement(t,i);return q8(s),s}function q8(e){z8(e)}var z8=()=>null;function W8(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function G8(e,t,n,r,o,i){let s=t[Y];if(zC(e,s,t,n,r)){hs(e)&&Y8(t,e.index);return}e.type&3&&(n=W8(n)),K8(e,t,n,r,o,i)}function K8(e,t,n,r,o,i){if(e.type&3){let s=kr(e,t);r=i!=null?i(r,e.value||"",n):r,o.setProperty(s,n,r)}else e.type&12}function Y8(e,t){let n=or(t,e);n[te]&16||(n[te]|=64)}function Z8(e,t,n){let r=n.directiveStart,o=n.directiveEnd;hs(n)&&_8(t,n,e.data[r+n.componentOffset]),e.firstCreatePass||Ym(n,t);let i=n.initialInputs;for(let s=r;s<o;s++){let a=e.data[s],c=Zm(t,e,s,n);if(Uu(c,t),i!==null&&t4(t,s-r,c,a,n,i),po(a)){let u=or(n.index,t);u[lt]=Zm(t,e,s,n)}}}function J8(e,t,n){let r=n.directiveStart,o=n.directiveEnd,i=n.index,s=CR();try{gs(i);for(let a=r;a<o;a++){let c=e.data[a],u=t[a];Am(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&Q8(c,u)}}finally{gs(-1),Am(s)}}function Q8(e,t){e.hostBindings!==null&&e.hostBindings(1,t)}function qC(e,t){let n=e.directiveRegistry,r=null;if(n)for(let o=0;o<n.length;o++){let i=n[o];h8(t,i.selectors,!1)&&(r??=[],po(i)?r.unshift(i):r.push(i))}return r}function X8(e,t,n,r,o,i){let s=kr(e,t);e4(t[et],s,i,e.value,n,r,o)}function e4(e,t,n,r,o,i,s){if(i==null)e.removeAttribute(t,o,n);else{let a=s==null?Gd(i):s(i,r||"",o);e.setAttribute(t,o,a,n)}}function t4(e,t,n,r,o,i){let s=i[t];if(s!==null)for(let a=0;a<s.length;a+=2){let c=s[a],u=s[a+1];cC(r,n,c,u)}}function ek(e,t,n,r,o){let i=dt+n,s=t[Y],a=o(s,t,e,r,n);t[i]=a,ju(e,!0);let c=e.type===2;return c?(UA(t[et],a,e),(dR()===0||Fu(e))&&Uu(a,t),fR()):Uu(a,t),Lm()&&(!c||!TC(e))&&UC(s,t,a,e),e}function tk(e){let t=e;return A_()?vR():(t=t.parent,ju(t,!1)),t}function n4(e,t){let n=e[ri];if(!n)return;let r;try{r=n.get(jn,null)}catch(o){r=null}r?.(t)}function zC(e,t,n,r,o){let i=e.inputs?.[r],s=e.hostDirectiveInputs?.[r],a=!1;if(s)for(let c=0;c<s.length;c+=2){let u=s[c],l=s[c+1],f=t.data[u];cC(f,n[u],l,o),a=!0}if(i)for(let c of i){let u=n[c],l=t.data[c];cC(l,u,r,o),a=!0}return a}function r4(e,t){let n=or(t,e),r=n[Y];o4(r,n);let o=n[Rr];o!==null&&n[Au]===null&&(n[Au]=NA(o,n[ri])),ke(Ie.ComponentStart);try{WC(r,n,n[lt])}finally{ke(Ie.ComponentEnd,n[lt])}}function o4(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}function WC(e,t,n){km(t);try{let r=e.viewQuery;r!==null&&aC(1,r,n);let o=e.template;o!==null&&XA(e,t,o,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[Ta]?.finishViewCreation(e),e.staticContentQueries&&FA(e,t),e.staticViewQueries&&aC(2,e.viewQuery,n);let i=e.components;i!==null&&i4(t,i)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[te]&=-5,Nm()}}function i4(e,t){for(let n=0;n<t.length;n++)r4(e,t[n])}function vg(e,t,n,r){let o=q(null);try{let i=t.tView,a=e[te]&4096?4096:16,c=PC(e,i,n,a,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),u=e[t.index];c[Ia]=u;let l=e[Ta];return l!==null&&(c[Ta]=l.createEmbeddedView(i)),WC(i,c,n),c}finally{q(o)}}function af(e,t){return!t||t.firstChild===null||DA(e)}function cf(e,t,n,r,o=!1){for(;n!==null;){if(n.type===128){n=o?n.projectionNext:n.next;continue}let i=t[n.index];i!==null&&r.push(rr(i)),Ar(i)&&nk(i,r);let s=n.type;if(s&8)cf(e,t,n.child,r);else if(s&32){let a=jC(n,t),c;for(;c=a();)r.push(c)}else if(s&16){let a=QA(t,n);if(Array.isArray(a))r.push(...a);else{let c=us(t[Pn]);cf(c[Y],c,a,r,!0)}}n=o?n.projectionNext:n.next}return r}function nk(e,t){for(let n=ft;n<e.length;n++){let r=e[n],o=r[Y].firstChild;o!==null&&cf(r[Y],r,o,t)}e[ps]!==e[Rr]&&t.push(e[ps])}function rk(e){if(e[Oa]!==null){for(let t of e[Oa])t.impl.addSequence(t);e[Oa].length=0}}var ok=[];function s4(e){return e[Ln]??a4(e)}function a4(e){let t=ok.pop()??Object.create(u4);return t.lView=e,t}function c4(e){e.lView[Ln]!==e&&(e.lView=null,ok.push(e))}var u4=N(x({},Ad),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{Lu(e.lView)},consumerOnSignalRead(){this.lView[Ln]=this}});function l4(e){let t=e[Ln]??Object.create(d4);return t.lView=e,t}var d4=N(x({},Ad),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let t=us(e.lView);for(;t&&!ik(t[Y]);)t=us(t);t&&T_(t)},consumerOnSignalRead(){this.lView[Ln]=this}});function ik(e){return e.type!==2}function sk(e){if(e[Jd]===null)return;let t=!0;for(;t;){let n=!1;for(let r of e[Jd])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));t=n&&!!(e[te]&8192)}}var f4=100;function ak(e,t=0){let r=e[lo].rendererFactory,o=!1;o||r.begin?.();try{p4(e,t)}finally{o||r.end?.()}}function p4(e,t){let n=k_();try{N_(!0),lC(e,t);let r=0;for(;tf(e);){if(r===f4)throw new F(103,!1);r++,lC(e,1)}}finally{N_(n)}}function h4(e,t,n,r){if(Aa(t))return;let o=t[te],i=!1,s=!1;km(t);let a=!0,c=null,u=null;i||(ik(e)?(u=s4(t),c=Nd(u)):Hh()===null?(a=!1,u=l4(t),c=Nd(u)):t[Ln]&&(Fd(t[Ln]),t[Ln]=null));try{M_(t),xR(e.bindingStartIndex),n!==null&&XA(e,t,n,2,r);let l=(o&3)===3;if(!i)if(l){let h=e.preOrderCheckHooks;h!==null&&Um(t,h,null)}else{let h=e.preOrderHooks;h!==null&&$m(t,h,0,null),W_(t,0)}if(s||m4(t),sk(t),ck(t,0),e.contentQueries!==null&&FA(e,t),!i)if(l){let h=e.contentCheckHooks;h!==null&&Um(t,h)}else{let h=e.contentHooks;h!==null&&$m(t,h,1),W_(t,1)}y4(e,t);let f=e.components;f!==null&&lk(t,f,0);let p=e.viewQuery;if(p!==null&&aC(2,p,r),!i)if(l){let h=e.viewCheckHooks;h!==null&&Um(t,h)}else{let h=e.viewHooks;h!==null&&$m(t,h,2),W_(t,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),t[Im]){for(let h of t[Im])h();t[Im]=null}i||(rk(t),t[te]&=-73)}catch(l){throw i||Lu(t),l}finally{u!==null&&(Vh(u,c),a&&c4(u)),Nm()}}function ck(e,t){for(let n=IA(e);n!==null;n=MA(n))for(let r=ft;r<n.length;r++){let o=n[r];uk(o,t)}}function m4(e){for(let t=IA(e);t!==null;t=MA(t)){if(!(t[te]&2))continue;let n=t[Xd];for(let r=0;r<n.length;r++){let o=n[r];T_(o)}}}function g4(e,t,n){ke(Ie.ComponentStart);let r=or(t,e);try{uk(r,n)}finally{ke(Ie.ComponentEnd,r[lt])}}function uk(e,t){Mm(e)&&lC(e,t)}function lC(e,t){let r=e[Y],o=e[te],i=e[Ln],s=!!(t===0&&o&16);if(s||=!!(o&64&&t===0),s||=!!(o&1024),s||=!!(i?.dirty&&Uh(i)),s||=!1,i&&(i.dirty=!1),e[te]&=-9217,s)h4(r,e,r.template,e[lt]);else if(o&8192){let a=q(null);try{sk(e),ck(e,1);let c=r.components;c!==null&&lk(e,c,1),rk(e)}finally{q(a)}}}function lk(e,t,n){for(let r=0;r<t.length;r++)g4(e,t[r],n)}function y4(e,t){let n=e.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let o=n[r];if(o<0)gs(~o);else{let i=o,s=n[++r],a=n[++r];_R(s,i);let c=t[i];ke(Ie.HostBindingsUpdateStart,c);try{a(2,c)}finally{ke(Ie.HostBindingsUpdateEnd,c)}}}}finally{gs(-1)}}function GC(e,t){let n=k_()?64:1088;for(e[lo].changeDetectionScheduler?.notify(t);e;){e[te]|=n;let r=us(e);if(Pu(e)&&!r)return e;e=r}return null}function dk(e,t,n,r){return[e,!0,0,t,null,r,null,n,null,null]}function fk(e,t){let n=ft+t;if(n<e.length)return e[n]}function xg(e,t,n,r=!0){let o=t[Y];if(v4(o,t,e,n),r){let s=uC(n,e),a=t[et],c=a.parentNode(e[ps]);c!==null&&O8(o,e[nr],a,t,c,s)}let i=t[Au];i!==null&&i.firstChild!==null&&(i.firstChild=null)}function pk(e,t){let n=uf(e,t);return n!==void 0&&hg(n[Y],n),n}function uf(e,t){if(e.length<=ft)return;let n=ft+t,r=e[n];if(r){let o=r[Ia];o!==null&&o!==e&&VC(o,r),t>0&&(e[n-1][tr]=r[tr]);let i=Kd(e,ft+t);T8(r[Y],r);let s=i[Ta];s!==null&&s.detachView(i[Y]),r[Pt]=null,r[tr]=null,r[te]&=-129}return r}function v4(e,t,n,r){let o=ft+r,i=n.length;r>0&&(n[o-1][tr]=t),r<i-ft?(t[tr]=n[o],p_(n,ft+r,t)):(n.push(t),t[tr]=null),t[Pt]=n;let s=t[Ia];s!==null&&n!==s&&hk(s,t);let a=t[Ta];a!==null&&a.insertView(e),Tm(t),t[te]|=128}function hk(e,t){let n=e[Xd],r=t[Pt];if(fo(r))e[te]|=2;else{let o=r[Pt][Pn];t[Pn]!==o&&(e[te]|=2)}n===null?e[Xd]=[t]:n.push(t)}var ys=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let t=this._lView,n=t[Y];return cf(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n}get context(){return this._lView[lt]}set context(t){this._lView[lt]=t}get destroyed(){return Aa(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[Pt];if(Ar(t)){let n=t[Qd],r=n?n.indexOf(this):-1;r>-1&&(uf(t,r),Kd(n,r))}this._attachedToViewContainer=!1}hg(this._lView[Y],this._lView)}onDestroy(t){O_(this._lView,t)}markForCheck(){GC(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[te]&=-129}reattach(){Tm(this._lView),this._lView[te]|=128}detectChanges(){this._lView[te]|=1024,ak(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new F(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let t=Pu(this._lView),n=this._lView[Ia];n!==null&&!t&&VC(n,this._lView),JA(this._lView[Y],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new F(902,!1);this._appRef=t;let n=Pu(this._lView),r=this._lView[Ia];r!==null&&!n&&hk(r,this._lView),Tm(this._lView)}};var bg=(()=>{class e{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=x4;constructor(n,r,o){this._declarationLView=n,this._declarationTContainer=r,this.elementRef=o}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,r){return this.createEmbeddedViewImpl(n,r)}createEmbeddedViewImpl(n,r,o){let i=vg(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:r,dehydratedView:o});return new ys(i)}}return e})();function x4(){return b4(vn(),de())}function b4(e,t){return e.type&4?new bg(t,e,cg(e,t)):null}function Eg(e,t,n,r,o){let i=e.data[t];if(i===null)i=E4(e,t,n,r,o),ER()&&(i.flags|=32);else if(i.type&64){i.type=n,i.value=r,i.attrs=o;let s=yR();i.injectorIndex=s===null?-1:s.injectorIndex}return ju(i,!0),i}function E4(e,t,n,r,o){let i=R_(),s=A_(),a=s?i:i&&i.parent,c=e.data[t]=C4(e,a,n,t,r,o);return _4(e,c,i,s),c}function _4(e,t,n,r){e.firstChild===null&&(e.firstChild=t),n!==null&&(r?n.child==null&&t.parent!==null&&(n.child=t):n.next===null&&(n.next=t,t.prev=n))}function C4(e,t,n,r,o,i){let s=t?t.injectorIndex:-1,a=0;return hR()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,fieldIndex:-1,customControlIndex:-1,propertyBindings:null,flags:a,providerIndexes:0,value:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function S4(e){let t=e[__]??[],r=e[Pt][et],o=[];for(let i of t)i.data[RA]!==void 0?o.push(i):D4(i,r);e[__]=o}function D4(e,t){let n=0,r=e.firstChild;if(r){let o=e.data[OA];for(;n<o;){let i=r.nextSibling;VA(t,r,!1),r=i,n++}}}var w4=()=>null,I4=()=>null;function dC(e,t){return w4(e,t)}function mk(e,t,n){return I4(e,t,n)}var gk=class{},_g=class{},fC=class{resolveComponentFactory(t){throw new F(917,!1)}},hf=class{static NULL=new fC},Ha=class{},vs=(()=>{class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>M4()}return e})();function M4(){let e=de(),t=vn(),n=or(t.index,e);return(fo(n)?n:e)[et]}var yk=(()=>{class e{static \u0275prov=D({token:e,providedIn:"root",factory:()=>null})}return e})();var qm={},pC=class{injector;parentInjector;constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){let o=this.injector.get(t,qm,r);return o!==qm||n===qm?o:this.parentInjector.get(t,n,r)}};function GR(e,t,n){let r=n?e.styles:null,o=n?e.classes:null,i=0;if(t!==null)for(let s=0;s<t.length;s++){let a=t[s];if(typeof a=="number")i=a;else if(i==1)o=t_(o,a);else if(i==2){let c=a,u=t[++s];r=t_(r,c+": "+u+";")}}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=o:e.classesWithoutHost=o}function Se(e,t=0){let n=de();if(n===null)return L(e,t);let r=vn();return _A(r,n,qt(e),t)}function KC(){let e="invalid";throw new Error(e)}function vk(e,t,n,r,o){let i=r===null?null:{"":-1},s=o(e,n);if(s!==null){let a=s,c=null,u=null;for(let l of s)if(l.resolveHostDirectives!==null){[a,c,u]=l.resolveHostDirectives(s);break}R4(e,t,n,a,i,c,u)}i!==null&&r!==null&&T4(n,r,i)}function T4(e,t,n){let r=e.localNames=[];for(let o=0;o<t.length;o+=2){let i=n[t[o+1]];if(i==null)throw new F(-301,!1);r.push(t[o],i)}}function O4(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function R4(e,t,n,r,o,i,s){let a=r.length,c=null;for(let p=0;p<a;p++){let h=r[p];c===null&&po(h)&&(c=h,O4(e,n,p)),oC(Ym(n,t),e,h.type)}L4(n,e.data.length,a),c?.viewProvidersResolver&&c.viewProvidersResolver(c);for(let p=0;p<a;p++){let h=r[p];h.providersResolver&&h.providersResolver(h)}let u=!1,l=!1,f=WA(e,t,a,null);a>0&&(n.directiveToIndex=new Map);for(let p=0;p<a;p++){let h=r[p];if(n.mergedAttrs=sf(n.mergedAttrs,h.hostAttrs),k4(e,n,t,f,h),P4(f,h,o),s!==null&&s.has(h)){let[S,I]=s.get(h);n.directiveToIndex.set(h.type,[f,S+n.directiveStart,I+n.directiveStart])}else(i===null||!i.has(h))&&n.directiveToIndex.set(h.type,f);h.contentQueries!==null&&(n.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(n.flags|=64);let y=h.type.prototype;!u&&(y.ngOnChanges||y.ngOnInit||y.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),u=!0),!l&&(y.ngOnChanges||y.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),l=!0),f++}A4(e,n,i)}function A4(e,t,n){for(let r=t.directiveStart;r<t.directiveEnd;r++){let o=e.data[r];if(n===null||!n.has(o))KR(0,t,o,r),KR(1,t,o,r),ZR(t,r,!1);else{let i=n.get(o);YR(0,t,i,r),YR(1,t,i,r),ZR(t,r,!0)}}}function KR(e,t,n,r){let o=e===0?n.inputs:n.outputs;for(let i in o)if(o.hasOwnProperty(i)){let s;e===0?s=t.inputs??={}:s=t.outputs??={},s[i]??=[],s[i].push(r),xk(t,i)}}function YR(e,t,n,r){let o=e===0?n.inputs:n.outputs;for(let i in o)if(o.hasOwnProperty(i)){let s=o[i],a;e===0?a=t.hostDirectiveInputs??={}:a=t.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,i),xk(t,s)}}function xk(e,t){t==="class"?e.flags|=8:t==="style"&&(e.flags|=16)}function ZR(e,t,n){let{attrs:r,inputs:o,hostDirectiveInputs:i}=e;if(r===null||!n&&o===null||n&&i===null||NC(e)){e.initialInputs??=[],e.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let c=r[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!n&&o.hasOwnProperty(c)){let u=o[c];for(let l of u)if(l===t){s??=[],s.push(c,r[a+1]);break}}else if(n&&i.hasOwnProperty(c)){let u=i[c];for(let l=0;l<u.length;l+=2)if(u[l]===t){s??=[],s.push(u[l+1],r[a+1]);break}}a+=2}e.initialInputs??=[],e.initialInputs.push(s)}function k4(e,t,n,r,o){e.data[r]=o;let i=o.factory||(o.factory=cs(o.type,!0)),s=new ja(i,po(o),Se,null);e.blueprint[r]=s,n[r]=s,N4(e,t,r,WA(e,n,o.hostVars,Lr),o)}function N4(e,t,n,r,o){let i=o.hostBindings;if(i){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let a=~t.index;F4(s)!=a&&s.push(a),s.push(n,r,i)}}function F4(e){let t=e.length;for(;t>0;){let n=e[--t];if(typeof n=="number"&&n<0)return n}return 0}function P4(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;po(t)&&(n[""]=e)}}function L4(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function YC(e,t,n,r,o,i,s,a){let c=t[Y],u=c.consts,l=ho(u,s),f=Eg(c,e,n,r,l);return i&&vk(c,t,f,ho(u,a),o),f.mergedAttrs=sf(f.mergedAttrs,f.attrs),f.attrs!==null&&GR(f,f.attrs,!1),f.mergedAttrs!==null&&GR(f,f.mergedAttrs,!0),c.queries!==null&&c.queries.elementStart(c,f),f}function ZC(e,t){hA(e,t),C_(t)&&e.queries.elementEnd(t)}function bk(e,t,n){return e[t]=n}function vo(e,t,n){if(n===Lr)return!1;let r=e[t];return Object.is(r,n)?!1:(e[t]=n,!0)}function j4(e,t,n,r){let o=vo(e,t,n);return vo(e,t+1,r)||o}function Y_(e,t,n){return function r(o){let i=hs(e)?or(e.index,t):t;GC(i,5);let s=t[lt],a=JR(t,s,n,o),c=r.__ngNextListenerFn__;for(;c;)a=JR(t,s,c,o)&&a,c=c.__ngNextListenerFn__;return a}}function JR(e,t,n,r){let o=q(null);try{return ke(Ie.OutputStart,t,n),n(r)!==!1}catch(i){return n4(e,i),!1}finally{ke(Ie.OutputEnd,t,n),q(o)}}function B4(e,t,n,r,o,i,s,a){let c=Fu(e),u=!1,l=null;if(!r&&c&&(l=V4(t,n,i,e.index)),l!==null){let f=l.__ngLastListenerFn__||l;f.__ngNextListenerFn__=s,l.__ngLastListenerFn__=s,u=!0}else{let f=kr(e,n),p=r?r(f):f;ZG(n,p,i,a);let h=o.listen(p,i,a);if(!H4(i)){let y=r?S=>r(rr(S[e.index])):e.index;Ek(y,t,n,i,a,h,!1)}}return u}function H4(e){return e.startsWith("animation")||e.startsWith("transition")}function V4(e,t,n,r){let o=e.cleanup;if(o!=null)for(let i=0;i<o.length-1;i+=2){let s=o[i];if(s===n&&o[i+1]===r){let a=t[ku],c=o[i+2];return a&&a.length>c?a[c]:null}typeof s=="string"&&(i+=2)}return null}function Ek(e,t,n,r,o,i,s){let a=t.firstCreatePass?lR(t):null,c=uR(n),u=c.length;c.push(o,i),a&&a.push(r,e,u,(u+1)*(s?-1:1))}function QR(e,t,n,r,o,i){let s=t[n],a=t[Y],u=a.data[n].outputs[r],f=s[u].subscribe(i);Ek(e.index,a,t,o,i,f,!0)}var hC=Symbol("BINDING");var eg=class extends hf{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let n=ni(t);return new Va(n,this.ngModule)}};function U4(e){return Object.keys(e).map(t=>{let[n,r,o]=e[t],i={propName:n,templateName:t,isSignal:(r&fg.SignalBased)!==0};return o&&(i.transform=o),i})}function $4(e){return Object.keys(e).map(t=>({propName:e[t],templateName:t}))}function q4(e,t,n){let r=t instanceof ze?t:t?.injector;return r&&e.getStandaloneInjector!==null&&(r=e.getStandaloneInjector(r)||r),r?new pC(n,r):n}function z4(e){let t=e.get(Ha,null);if(t===null)throw new F(407,!1);let n=e.get(yk,null),r=e.get(ti,null);return{rendererFactory:t,sanitizer:n,changeDetectionScheduler:r,ngReflect:!1}}function W4(e,t){let n=_k(e);return BA(t,n,n==="svg"?S_:n==="math"?iR:null)}function _k(e){return(e.selectors[0][0]||"div").toLowerCase()}var Va=class extends _g{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=U4(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=$4(this.componentDef.outputs),this.cachedOutputs}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=v8(t.selectors),this.ngContentSelectors=t.ngContentSelectors??[],this.isBoundToModule=!!n}create(t,n,r,o,i,s){ke(Ie.DynamicComponentStart);let a=q(null);try{let c=this.componentDef,u=G4(r,c,s,i),l=q4(c,o||this.ngModule,t),f=z4(l),p=f.rendererFactory.createRenderer(null,c),h=r?$8(p,r,c.encapsulation,l):W4(c,p),y=s?.some(XR)||i?.some(O=>typeof O!="function"&&O.bindings.some(XR)),S=PC(null,u,null,512|zA(c),null,null,f,p,l,null,NA(h,l,!0));S[dt]=h,km(S);let I=null;try{let O=YC(dt,S,2,"#host",()=>u.directiveRegistry,!0,0);UA(p,h,O),Uu(h,S),gg(u,S,O),OC(u,O,S),ZC(u,O),n!==void 0&&Y4(O,this.ngContentSelectors,n),I=or(O.index,S),S[lt]=I[lt],WC(u,S,null)}catch(O){throw I!==null&&sC(I),sC(S),O}finally{ke(Ie.DynamicComponentEnd),Nm()}return new tg(this.componentType,S,!!y)}finally{q(a)}}};function G4(e,t,n,r){let o=e?["ng-version","21.1.5"]:x8(t.selectors[0]),i=null,s=null,a=0;if(n)for(let l of n)a+=l[hC].requiredVars,l.create&&(l.targetIdx=0,(i??=[]).push(l)),l.update&&(l.targetIdx=0,(s??=[]).push(l));if(r)for(let l=0;l<r.length;l++){let f=r[l];if(typeof f!="function")for(let p of f.bindings){a+=p[hC].requiredVars;let h=l+1;p.create&&(p.targetIdx=h,(i??=[]).push(p)),p.update&&(p.targetIdx=h,(s??=[]).push(p))}}let c=[t];if(r)for(let l of r){let f=typeof l=="function"?l:l.type,p=l_(f);c.push(p)}return FC(0,null,K4(i,s),1,a,c,null,null,null,[o],null)}function K4(e,t){return!e&&!t?null:n=>{if(n&1&&e)for(let r of e)r.create();if(n&2&&t)for(let r of t)r.update()}}function XR(e){let t=e[hC].kind;return t==="input"||t==="twoWay"}var tg=class extends gk{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(t,n,r){super(),this._rootLView=n,this._hasInputBindings=r,this._tNode=ef(n[Y],dt),this.location=cg(this._tNode,n),this.instance=or(this._tNode.index,n)[lt],this.hostView=this.changeDetectorRef=new ys(n,void 0),this.componentType=t}setInput(t,n){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;let o=this._rootLView,i=zC(r,o[Y],o,t,n);this.previousInputValues.set(t,n);let s=or(r.index,o);GC(s,1)}get injector(){return new La(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function Y4(e,t,n){let r=e.projection=[];for(let o=0;o<t.length;o++){let i=n[o];r.push(i!=null&&i.length?Array.from(i):null)}}var Gu=(()=>{class e{static __NG_ELEMENT_ID__=Z4}return e})();function Z4(){let e=vn();return Q4(e,de())}var J4=Gu,Ck=class extends J4{_lContainer;_hostTNode;_hostLView;constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return cg(this._hostTNode,this._hostLView)}get injector(){return new La(this._hostTNode,this._hostLView)}get parentInjector(){let t=DC(this._hostTNode,this._hostLView);if(gA(t)){let n=Gm(t,this._hostLView),r=Wm(t),o=n[Y].data[r+8];return new La(o,n)}else return new La(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let n=eA(this._lContainer);return n!==null&&n[t]||null}get length(){return this._lContainer.length-ft}createEmbeddedView(t,n,r){let o,i;typeof r=="number"?o=r:r!=null&&(o=r.index,i=r.injector);let s=dC(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(n||{},i,s);return this.insertImpl(a,o,af(this._hostTNode,s)),a}createComponent(t,n,r,o,i,s,a){let c=t&&!CG(t),u;if(c)u=n;else{let I=n||{};u=I.index,r=I.injector,o=I.projectableNodes,i=I.environmentInjector||I.ngModuleRef,s=I.directives,a=I.bindings}let l=c?t:new Va(ni(t)),f=r||this.parentInjector;if(!i&&l.ngModule==null){let O=(c?f:this.parentInjector).get(ze,null);O&&(i=O)}let p=ni(l.componentType??{}),h=dC(this._lContainer,p?.id??null),y=h?.firstChild??null,S=l.create(f,o,y,i,s,a);return this.insertImpl(S.hostView,u,af(this._hostTNode,h)),S}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,r){let o=t._lView;if(sR(o)){let a=this.indexOf(t);if(a!==-1)this.detach(a);else{let c=o[Pt],u=new Ck(c,c[nr],c[Pt]);u.detach(u.indexOf(t))}}let i=this._adjustIndex(n),s=this._lContainer;return xg(s,o,i,r),t.attachToViewContainerRef(),p_(Z_(s),i,t),t}move(t,n){return this.insert(t,n)}indexOf(t){let n=eA(this._lContainer);return n!==null?n.indexOf(t):-1}remove(t){let n=this._adjustIndex(t,-1),r=uf(this._lContainer,n);r&&(Kd(Z_(this._lContainer),n),hg(r[Y],r))}detach(t){let n=this._adjustIndex(t,-1),r=uf(this._lContainer,n);return r&&Kd(Z_(this._lContainer),n)!=null?new ys(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function eA(e){return e[Qd]}function Z_(e){return e[Qd]||(e[Qd]=[])}function Q4(e,t){let n,r=t[e.index];return Ar(r)?n=r:(n=dk(r,t,null,e),t[e.index]=n,LC(t,n)),e5(n,t,e,r),new Ck(n,e,t)}function X4(e,t){let n=e[et],r=n.createComment(""),o=kr(t,e),i=n.parentNode(o);return Qm(n,i,r,n.nextSibling(o),!1),r}var e5=r5,t5=()=>!1;function n5(e,t,n){return t5(e,t,n)}function r5(e,t,n,r){if(e[ps])return;let o;n.type&8?o=rr(r):o=X4(t,n),e[ps]=o}var mC=new Map,o5=new Set;function JC(e){return be(this,null,function*(){let t=mC;mC=new Map;let n=new Map;function r(i){let s=n.get(i);if(s)return s;let a=e(i).then(c=>i5(i,c));return n.set(i,a),a}let o=Array.from(t).map(a=>be(null,[a],function*([i,s]){if(s.styleUrl&&s.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");let c=[];s.templateUrl&&c.push(r(s.templateUrl).then(p=>{s.template=p}));let u=typeof s.styles=="string"?[s.styles]:s.styles??[];s.styles=u;let{styleUrl:l,styleUrls:f}=s;if(l&&(f=[l],s.styleUrl=void 0),f?.length){let p=Promise.all(f.map(h=>r(h))).then(h=>{u.push(...h),s.styleUrls=void 0});c.push(p)}yield Promise.all(c),o5.delete(i)}));yield Promise.all(o)})}function Sk(){return mC.size===0}function i5(e,t){return be(this,null,function*(){if(typeof t=="string")return t;if(t.status!==void 0&&t.status!==200)throw new F(918,!1);return t.text()})}var Ua=class{},Cg=class{};var lf=class extends Ua{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new eg(this);constructor(t,n,r,o=!0){super(),this.ngModuleType=t,this._parent=n;let i=u_(t);this._bootstrapComponents=$A(i.bootstrap),this._r3Injector=B_(t,n,[{provide:Ua,useValue:this},{provide:hf,useValue:this.componentFactoryResolver},...r],ei(t),new Set(["environment"])),o&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},df=class extends Cg{moduleType;constructor(t){super(),this.moduleType=t}create(t){return new lf(this.moduleType,t,[])}};function Dk(e,t,n){return new lf(e,t,n,!1)}var ng=class extends Ua{injector;componentFactoryResolver=new eg(this);instance=null;constructor(t){super();let n=new Ca([...t.providers,{provide:Ua,useValue:this},{provide:hf,useValue:this.componentFactoryResolver}],t.parent||Zd(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function Ku(e,t,n=null){return new ng({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}var s5=(()=>{class e{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=g_(!1,n.type),o=r.length>0?Ku([r],this._injector,""):null;this.cachedInjectors.set(n,o)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=D({token:e,providedIn:"environment",factory:()=>new e(L(ze))})}return e})();function bn(e){return pf(()=>{let t=wk(e),n=N(x({},t),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===wC.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:t.standalone?o=>o.get(s5).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Pr.Emulated,styles:e.styles||Fn,_:null,schemas:e.schemas||null,tView:null,id:""});t.standalone&&jr("NgStandalone"),Ik(n);let r=e.dependencies;return n.directiveDefs=tA(r,a5),n.pipeDefs=tA(r,KO),n.id=l5(n),n})}function a5(e){return ni(e)||l_(e)}function Dt(e){return pf(()=>({type:e.type,bootstrap:e.bootstrap||Fn,declarations:e.declarations||Fn,imports:e.imports||Fn,exports:e.exports||Fn,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function c5(e,t){if(e==null)return ls;let n={};for(let r in e)if(e.hasOwnProperty(r)){let o=e[r],i,s,a,c;Array.isArray(o)?(a=o[0],i=o[1],s=o[2]??i,c=o[3]||null):(i=o,s=o,a=fg.None,c=null),n[i]=[r,a,c],t[i]=s}return n}function u5(e){if(e==null)return ls;let t={};for(let n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function en(e){return pf(()=>{let t=wk(e);return Ik(t),t})}function mf(e){return{type:e.type,name:e.name,factory:null,pure:e.pure!==!1,standalone:e.standalone??!0,onDestroy:e.type.prototype.ngOnDestroy||null}}function wk(e){let t={};return{type:e.type,providersResolver:null,viewProvidersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputConfig:e.inputs||ls,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:e.signals===!0,selectors:e.selectors||Fn,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:c5(e.inputs,t),outputs:u5(e.outputs),debugInfo:null}}function Ik(e){e.features?.forEach(t=>t(e))}function tA(e,t){return e?()=>{let n=typeof e=="function"?e():e,r=[];for(let o of n){let i=t(o);i!==null&&r.push(i)}return r}:null}function l5(e){let t=0,n=typeof e.consts=="function"?"":e.consts,r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,n,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(let i of r.join("|"))t=Math.imul(31,t)+i.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function d5(e){return Object.getPrototypeOf(e.prototype).constructor}function xs(e){let t=d5(e.type),n=!0,r=[e];for(;t;){let o;if(po(e))o=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new F(903,!1);o=t.\u0275dir}if(o){if(n){r.push(o);let s=e;s.inputs=J_(e.inputs),s.declaredInputs=J_(e.declaredInputs),s.outputs=J_(e.outputs);let a=o.hostBindings;a&&g5(e,a);let c=o.viewQuery,u=o.contentQueries;if(c&&h5(e,c),u&&m5(e,u),f5(e,o),GO(e.outputs,o.outputs),po(o)&&o.data.animation){let l=e.data;l.animation=(l.animation||[]).concat(o.data.animation)}}let i=o.features;if(i)for(let s=0;s<i.length;s++){let a=i[s];a&&a.ngInherit&&a(e),a===xs&&(n=!1)}}t=Object.getPrototypeOf(t)}p5(r)}function f5(e,t){for(let n in t.inputs){if(!t.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;let r=t.inputs[n];r!==void 0&&(e.inputs[n]=r,e.declaredInputs[n]=t.declaredInputs[n])}}function p5(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){let o=e[r];o.hostVars=t+=o.hostVars,o.hostAttrs=sf(o.hostAttrs,n=sf(n,o.hostAttrs))}}function J_(e){return e===ls?{}:e===Fn?[]:e}function h5(e,t){let n=e.viewQuery;n?e.viewQuery=(r,o)=>{t(r,o),n(r,o)}:e.viewQuery=t}function m5(e,t){let n=e.contentQueries;n?e.contentQueries=(r,o,i)=>{t(r,o,i),n(r,o,i)}:e.contentQueries=t}function g5(e,t){let n=e.hostBindings;n?e.hostBindings=(r,o)=>{t(r,o),n(r,o)}:e.hostBindings=t}function Mk(e,t,n,r,o,i,s,a){if(n.firstCreatePass){e.mergedAttrs=sf(e.mergedAttrs,e.attrs);let l=e.tView=FC(2,e,o,i,s,n.directiveRegistry,n.pipeRegistry,null,n.schemas,n.consts,null);n.queries!==null&&(n.queries.template(n,e),l.queries=n.queries.embeddedTView(e))}a&&(e.flags|=a),ju(e,!1);let c=v5(n,t,e,r);Lm()&&UC(n,t,c,e),Uu(c,t);let u=dk(c,t,c,e);t[r+dt]=u,LC(t,u),n5(u,e,t)}function y5(e,t,n,r,o,i,s,a,c,u,l){let f=n+dt,p;return t.firstCreatePass?(p=Eg(t,f,4,s||null,a||null),Om()&&vk(t,e,p,ho(t.consts,u),qC),hA(t,p)):p=t.data[f],Mk(p,e,t,n,r,o,i,c),Fu(p)&&gg(t,e,p),u!=null&&yg(e,p,l),p}function rg(e,t,n,r,o,i,s,a,c,u,l){let f=n+dt,p;if(t.firstCreatePass){if(p=Eg(t,f,4,s||null,a||null),u!=null){let h=ho(t.consts,u);p.localNames=[];for(let y=0;y<h.length;y+=2)p.localNames.push(h[y],-1)}}else p=t.data[f];return Mk(p,e,t,n,r,o,i,c),u!=null&&yg(e,p,l),p}function qa(e,t,n,r,o,i,s,a){let c=de(),u=Qt(),l=ho(u.consts,i);return y5(c,u,e,t,n,r,o,l,void 0,s,a),qa}var v5=x5;function x5(e,t,n,r){return nf(!0),t[et].createComment("")}var QC=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();var Sg=new k(""),Dg=new k(""),gf=(()=>{class e{_ngZone;registry;_isZoneStable=!0;_callbacks=[];_taskTrackingZone=null;_destroyRef;constructor(n,r,o){this._ngZone=n,this.registry=r,x_()&&(this._destroyRef=v(jt,{optional:!0})??void 0),XC||(Ok(o),o.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this._taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){let n=this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),r=this._ngZone.runOutsideAngular(()=>this._ngZone.onStable.subscribe({next:()=>{we.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}}));this._destroyRef?.onDestroy(()=>{n.unsubscribe(),r.unsubscribe()})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb()}});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>r.updateCb&&r.updateCb(n)?(clearTimeout(r.timeoutId),!1):!0)}}getPendingTasks(){return this._taskTrackingZone?this._taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,o){let i=-1;r&&r>0&&(i=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==i),n()},r)),this._callbacks.push({doneCb:n,timeoutId:i,updateCb:o})}whenStable(n,r,o){if(o&&!this._taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,o),this._runCallbacksIfReady()}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,o){return[]}static \u0275fac=function(r){return new(r||e)(L(we),L(Tk),L(Dg))};static \u0275prov=D({token:e,factory:e.\u0275fac})}return e})(),Tk=(()=>{class e{_applications=new Map;registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return XC?.findTestabilityInTree(this,n,r)??null}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();function Ok(e){XC=e}var XC;function bs(e){return!!e&&typeof e.then=="function"}function wg(e){return!!e&&typeof e.subscribe=="function"}var eS=new k("");function Ig(e){return fs([{provide:eS,multi:!0,useValue:e}])}var tS=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=v(eS,{optional:!0})??[];injector=v(Lt);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let o of this.appInits){let i=St(this.injector,o);if(bs(i))n.push(i);else if(wg(i)){let s=new Promise((a,c)=>{i.subscribe({complete:a,error:c})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(o=>{this.reject(o)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),yf=new k("");function Rk(){EE(()=>{let e="";throw new F(600,e)})}function Ak(e){return e.isBoundToModule}var b5=10;function nS(e,t){return Array.isArray(t)?t.reduce(nS,e):x(x({},e),t)}var Br=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=v(jn);afterRenderManager=v(BC);zonelessEnabled=v(Bu);rootEffectScheduler=v(z_);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new ve;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=v(mo);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(W(n=>!n))}constructor(){v(si,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:o=>{o&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=v(ze);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,o=Lt.NULL){return this._injector.get(we).run(()=>{ke(Ie.BootstrapComponentStart);let s=n instanceof _g;if(!this._injector.get(tS).done){let y="";throw new F(405,y)}let c;s?c=n:c=this._injector.get(hf).resolveComponentFactory(n),this.componentTypes.push(c.componentType);let u=Ak(c)?void 0:this._injector.get(Ua),l=r||c.selector,f=c.create(o,[],l,u),p=f.location.nativeElement,h=f.injector.get(Sg,null);return h?.registerApplication(p),f.onDestroy(()=>{this.detachView(f.hostView),of(this.components,f),h?.unregisterApplication(p)}),this._loadComponent(f),ke(Ie.BootstrapComponentEnd,f),f})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){ke(Ie.ChangeDetectionStart),this.tracingSnapshot!==null?this.tracingSnapshot.run(pg.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw ke(Ie.ChangeDetectionEnd),new F(101,!1);let n=q(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,q(n),this.afterTick.next(),ke(Ie.ChangeDetectionEnd)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Ha,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<b5;){ke(Ie.ChangeDetectionSyncStart);try{this.synchronizeOnce()}finally{ke(Ie.ChangeDetectionSyncEnd)}}}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:o}of this.allViews){if(!r&&!tf(o))continue;let i=r&&!this.zonelessEnabled?0:1;ak(o,i),n=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>tf(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;of(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(o){this.internalErrorHandler(o)}this.components.push(n),this._injector.get(yf,[]).forEach(o=>o(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>of(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new F(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function of(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function za(e,t,n,r){let o=de(),i=Fa();if(vo(o,i,t)){let s=Qt(),a=j_();X8(a,o,e,t,n,r)}return za}var uye=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";var gC=class{destroy(t){}updateValue(t,n){}swap(t,n){let r=Math.min(t,n),o=Math.max(t,n),i=this.detach(o);if(o-r>1){let s=this.detach(r);this.attach(r,i),this.attach(o,s)}else this.attach(r,i)}move(t,n){this.attach(n,this.detach(t))}};function Q_(e,t,n,r,o){return e===n&&Object.is(t,r)?1:Object.is(o(e,t),o(n,r))?-1:0}function E5(e,t,n,r){let o,i,s=0,a=e.length-1,c=void 0;if(Array.isArray(t)){q(r);let u=t.length-1;for(q(null);s<=a&&s<=u;){let l=e.at(s),f=t[s],p=Q_(s,l,s,f,n);if(p!==0){p<0&&e.updateValue(s,f),s++;continue}let h=e.at(a),y=t[u],S=Q_(a,h,u,y,n);if(S!==0){S<0&&e.updateValue(a,y),a--,u--;continue}let I=n(s,l),O=n(a,h),K=n(s,f);if(Object.is(K,O)){let qe=n(u,y);Object.is(qe,I)?(e.swap(s,a),e.updateValue(a,y),u--,a--):e.move(a,s),e.updateValue(s,f),s++;continue}if(o??=new og,i??=rA(e,s,a,n),yC(e,o,s,K))e.updateValue(s,f),s++,a++;else if(i.has(K))o.set(I,e.detach(s)),a--;else{let qe=e.create(s,t[s]);e.attach(s,qe),s++,a++}}for(;s<=u;)nA(e,o,n,s,t[s]),s++}else if(t!=null){q(r);let u=t[Symbol.iterator]();q(null);let l=u.next();for(;!l.done&&s<=a;){let f=e.at(s),p=l.value,h=Q_(s,f,s,p,n);if(h!==0)h<0&&e.updateValue(s,p),s++,l=u.next();else{o??=new og,i??=rA(e,s,a,n);let y=n(s,p);if(yC(e,o,s,y))e.updateValue(s,p),s++,a++,l=u.next();else if(!i.has(y))e.attach(s,e.create(s,p)),s++,a++,l=u.next();else{let S=n(s,f);o.set(S,e.detach(s)),a--}}}for(;!l.done;)nA(e,o,n,e.length,l.value),l=u.next()}for(;s<=a;)e.destroy(e.detach(a--));o?.forEach(u=>{e.destroy(u)})}function yC(e,t,n,r){return t!==void 0&&t.has(r)?(e.attach(n,t.get(r)),t.delete(r),!0):!1}function nA(e,t,n,r,o){if(yC(e,t,r,n(r,o)))e.updateValue(r,o);else{let i=e.create(r,o);e.attach(r,i)}}function rA(e,t,n,r){let o=new Set;for(let i=t;i<=n;i++)o.add(r(i,e.at(i)));return o}var og=class{kvMap=new Map;_vMap=void 0;has(t){return this.kvMap.has(t)}delete(t){if(!this.has(t))return!1;let n=this.kvMap.get(t);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(t,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(t),!0}get(t){return this.kvMap.get(t)}set(t,n){if(this.kvMap.has(t)){let r=this.kvMap.get(t);this._vMap===void 0&&(this._vMap=new Map);let o=this._vMap;for(;o.has(r);)r=o.get(r);o.set(r,n)}else this.kvMap.set(t,n)}forEach(t){for(let[n,r]of this.kvMap)if(t(r,n),this._vMap!==void 0){let o=this._vMap;for(;o.has(r);)r=o.get(r),t(r,n)}}};function rS(e,t,n,r,o,i,s,a){jr("NgControlFlow");let c=de(),u=Qt(),l=ho(u.consts,i);return rg(c,u,e,t,n,r,o,l,256,s,a),oS}function oS(e,t,n,r,o,i,s,a){jr("NgControlFlow");let c=de(),u=Qt(),l=ho(u.consts,i);return rg(c,u,e,t,n,r,o,l,512,s,a),oS}function iS(e,t){jr("NgControlFlow");let n=de(),r=Fa(),o=n[r]!==Lr?n[r]:-1,i=o!==-1?ig(n,dt+o):void 0,s=0;if(vo(n,r,e)){let a=q(null);try{if(i!==void 0&&pk(i,s),e!==-1){let c=dt+e,u=ig(n,c),l=EC(n[Y],c),f=mk(u,l,n),p=vg(n,l,t,{dehydratedView:f});xg(u,p,s,af(l,f))}}finally{q(a)}}else if(i!==void 0){let a=fk(i,s);a!==void 0&&(a[lt]=t)}}var vC=class{lContainer;$implicit;$index;constructor(t,n,r){this.lContainer=t,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-ft}};function Mg(e){return e}function vf(e,t){return t}var xC=class{hasEmptyBlock;trackByFn;liveCollection;constructor(t,n,r){this.hasEmptyBlock=t,this.trackByFn=n,this.liveCollection=r}};function Wa(e,t,n,r,o,i,s,a,c,u,l,f,p){jr("NgControlFlow");let h=de(),y=Qt(),S=c!==void 0,I=de(),O=a?s.bind(I[Pn][lt]):s,K=new xC(S,O);I[dt+e]=K,rg(h,y,e+1,t,n,r,o,ho(y.consts,i),256),S&&rg(h,y,e+2,c,u,l,f,ho(y.consts,p),512)}var bC=class extends gC{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(t,n,r){super(),this.lContainer=t,this.hostLView=n,this.templateTNode=r}get length(){return this.lContainer.length-ft}at(t){return this.getLView(t)[lt].$implicit}attach(t,n){let r=n[Au];this.needsIndexUpdate||=t!==this.length,xg(this.lContainer,n,t,af(this.templateTNode,r)),_5(this.lContainer,t)}detach(t){return this.needsIndexUpdate||=t!==this.length-1,C5(this.lContainer,t),S5(this.lContainer,t)}create(t,n){let r=dC(this.lContainer,this.templateTNode.tView.ssrId);return vg(this.hostLView,this.templateTNode,new vC(this.lContainer,n,t),{dehydratedView:r})}destroy(t){hg(t[Y],t)}updateValue(t,n){this.getLView(t)[lt].$implicit=n}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let t=0;t<this.length;t++)this.getLView(t)[lt].$index=t}getLView(t){return D5(this.lContainer,t)}};function Ga(e){let t=q(null),n=ms();try{let r=de(),o=r[Y],i=r[n],s=n+1,a=ig(r,s);if(i.liveCollection===void 0){let u=EC(o,s);i.liveCollection=new bC(a,r,u)}else i.liveCollection.reset();let c=i.liveCollection;if(E5(c,e,i.trackByFn,t),c.updateIndexes(),i.hasEmptyBlock){let u=Fa(),l=c.length===0;if(vo(r,u,l)){let f=n+2,p=ig(r,f);if(l){let h=EC(o,f),y=mk(p,h,r),S=vg(r,h,void 0,{dehydratedView:y});xg(p,S,0,af(h,y))}else o.firstUpdatePass&&S4(p),pk(p,0)}}}finally{q(t)}}function ig(e,t){return e[t]}function _5(e,t){if(e.length<=ft)return;let n=ft+t,r=e[n],o=r?r[Ra]:void 0;if(r&&o&&o.detachedLeaveAnimationFns&&o.detachedLeaveAnimationFns.length>0){let i=r[ri];w8(i,o),Ba.delete(r[oi]),o.detachedLeaveAnimationFns=void 0}}function C5(e,t){if(e.length<=ft)return;let n=ft+t,r=e[n],o=r?r[Ra]:void 0;o&&o.leave&&o.leave.size>0&&(o.detachedLeaveAnimationFns=[])}function S5(e,t){return uf(e,t)}function D5(e,t){return fk(e,t)}function EC(e,t){return ef(e,t)}function xt(e,t,n){let r=de(),o=Fa();if(vo(r,o,t)){let i=Qt(),s=j_();G8(s,r,e,t,r[et],n)}return xt}function oA(e,t,n,r,o){zC(t,e,n,o?"class":"style",r)}function fe(e,t,n,r){let o=de(),i=o[Y],s=e+dt,a=i.firstCreatePass?YC(s,o,2,t,qC,Om(),n,r):i.data[s];if(ek(a,o,e,t,w5),Fu(a)){let c=o[Y];gg(c,o,a),OC(c,a,o)}return r!=null&&yg(o,a),fe}function he(){let e=Qt(),t=vn(),n=tk(t);return e.firstCreatePass&&ZC(e,n),mR(n)&&gR(),pR(),n.classesWithoutHost!=null&&TG(n)&&oA(e,n,de(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&OG(n)&&oA(e,n,de(),n.stylesWithoutHost,!1),he}function wt(e,t,n,r){return fe(e,t,n,r),he(),wt}var w5=(e,t,n,r,o)=>(nf(!0),BA(t[et],r,TR()));function xf(e,t,n){let r=de(),o=r[Y],i=e+dt,s=o.firstCreatePass?YC(i,r,8,"ng-container",qC,Om(),t,n):o.data[i];if(ek(s,r,e,"ng-container",I5),Fu(s)){let a=r[Y];gg(a,r,s),OC(a,s,r)}return n!=null&&yg(r,s),xf}function bf(){let e=Qt(),t=vn(),n=tk(t);return e.firstCreatePass&&ZC(e,n),bf}var I5=(e,t,n,r,o)=>(nf(!0),i8(t[et],""));function Yu(){return de()}var Ef="en-US";var M5=Ef;function kk(e){typeof e=="string"&&(M5=e.toLowerCase().replace(/_/g,"-"))}function tt(e,t,n){let r=de(),o=Qt(),i=vn();return T5(o,r,r[et],i,e,t,n),tt}function T5(e,t,n,r,o,i,s){let a=!0,c=null;if((r.type&3||s)&&(c??=Y_(r,t,i),B4(r,e,t,s,n,o,i,c)&&(a=!1)),a){let u=r.outputs?.[o],l=r.hostDirectiveOutputs?.[o];if(l&&l.length)for(let f=0;f<l.length;f+=2){let p=l[f],h=l[f+1];c??=Y_(r,t,i),QR(r,t,p,h,o,c)}if(u&&u.length)for(let f of u)c??=Y_(r,t,i),QR(r,t,f,o,o,c)}}function It(e=1){return MR(e)}function Hm(e,t){return e<<17|t<<2}function $a(e){return e>>17&32767}function O5(e){return(e&2)==2}function R5(e,t){return e&131071|t<<17}function _C(e){return e|2}function $u(e){return(e&131068)>>2}function X_(e,t){return e&-131069|t<<2}function A5(e){return(e&1)===1}function CC(e){return e|1}function k5(e,t,n,r,o,i){let s=i?t.classBindings:t.styleBindings,a=$a(s),c=$u(s);e[r]=n;let u=!1,l;if(Array.isArray(n)){let f=n;l=f[1],(l===null||Ru(f,l)>0)&&(u=!0)}else l=n;if(o)if(c!==0){let p=$a(e[a+1]);e[r+1]=Hm(p,a),p!==0&&(e[p+1]=X_(e[p+1],r)),e[a+1]=R5(e[a+1],r)}else e[r+1]=Hm(a,0),a!==0&&(e[a+1]=X_(e[a+1],r)),a=r;else e[r+1]=Hm(c,0),a===0?a=r:e[c+1]=X_(e[c+1],r),c=r;u&&(e[r+1]=_C(e[r+1])),iA(e,l,r,!0),iA(e,l,r,!1),N5(t,l,e,r,i),s=Hm(a,c),i?t.classBindings=s:t.styleBindings=s}function N5(e,t,n,r,o){let i=o?e.residualClasses:e.residualStyles;i!=null&&typeof t=="string"&&Ru(i,t)>=0&&(n[r+1]=CC(n[r+1]))}function iA(e,t,n,r){let o=e[n+1],i=t===null,s=r?$a(o):$u(o),a=!1;for(;s!==0&&(a===!1||i);){let c=e[s],u=e[s+1];F5(c,t)&&(a=!0,e[s+1]=r?CC(u):_C(u)),s=r?$a(u):$u(u)}a&&(e[n+1]=r?_C(o):CC(o))}function F5(e,t){return e===null||t==null||(Array.isArray(e)?e[1]:e)===t?!0:Array.isArray(e)&&typeof t=="string"?Ru(e,t)>=0:!1}function ai(e,t,n){return Nk(e,t,n,!1),ai}function Zu(e,t){return Nk(e,t,null,!0),Zu}function Nk(e,t,n,r){let o=de(),i=Qt(),s=bR(2);if(i.firstUpdatePass&&L5(i,e,s,r),t!==Lr&&vo(o,s,t)){let a=i.data[ms()];U5(i,a,o,o[et],e,o[s+1]=$5(t,n),r,s)}}function P5(e,t){return t>=e.expandoStartIndex}function L5(e,t,n,r){let o=e.data;if(o[n+1]===null){let i=o[ms()],s=P5(e,n);q5(i,r)&&t===null&&!s&&(t=!1),t=j5(o,i,t,r),k5(o,i,t,n,s,r)}}function j5(e,t,n,r){let o=SR(e),i=r?t.residualClasses:t.residualStyles;if(o===null)(r?t.classBindings:t.styleBindings)===0&&(n=eC(null,e,t,n,r),n=ff(n,t.attrs,r),i=null);else{let s=t.directiveStylingLast;if(s===-1||e[s]!==o)if(n=eC(o,e,t,n,r),i===null){let c=B5(e,t,r);c!==void 0&&Array.isArray(c)&&(c=eC(null,e,t,c[1],r),c=ff(c,t.attrs,r),H5(e,t,r,c))}else i=V5(e,t,r)}return i!==void 0&&(r?t.residualClasses=i:t.residualStyles=i),n}function B5(e,t,n){let r=n?t.classBindings:t.styleBindings;if($u(r)!==0)return e[$a(r)]}function H5(e,t,n,r){let o=n?t.classBindings:t.styleBindings;e[$a(o)]=r}function V5(e,t,n){let r,o=t.directiveEnd;for(let i=1+t.directiveStylingLast;i<o;i++){let s=e[i].hostAttrs;r=ff(r,s,n)}return ff(r,t.attrs,n)}function eC(e,t,n,r,o){let i=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(i=t[a],r=ff(r,i.hostAttrs,o),i!==e);)a++;return e!==null&&(n.directiveStylingLast=a),r}function ff(e,t,n){let r=n?1:2,o=-1;if(t!==null)for(let i=0;i<t.length;i++){let s=t[i];typeof s=="number"?o=s:o===r&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),XO(e,s,n?!0:t[++i]))}return e===void 0?null:e}function U5(e,t,n,r,o,i,s,a){if(!(t.type&3))return;let c=e.data,u=c[a+1],l=A5(u)?sA(c,t,n,o,$u(u),s):void 0;if(!sg(l)){sg(i)||O5(u)&&(i=sA(c,null,n,o,a,s));let f=D_(ms(),n);U8(r,s,f,o,i)}}function sA(e,t,n,r,o,i){let s=t===null,a;for(;o>0;){let c=e[o],u=Array.isArray(c),l=u?c[1]:c,f=l===null,p=n[o+1];p===Lr&&(p=f?Fn:void 0);let h=f?wm(p,r):l===r?p:void 0;if(u&&!sg(h)&&(h=wm(c,r)),sg(h)&&(a=h,s))return a;let y=e[o+1];o=s?$a(y):$u(y)}if(t!==null){let c=i?t.residualClasses:t.residualStyles;c!=null&&(a=wm(c,r))}return a}function sg(e){return e!==void 0}function $5(e,t){return e==null||e===""||(typeof t=="string"?e=e+t:typeof e=="object"&&(e=ei(dg(e)))),e}function q5(e,t){return(e.flags&(t?8:16))!==0}function Hr(e,t=""){let n=de(),r=Qt(),o=e+dt,i=r.firstCreatePass?Eg(r,o,1,t,null):r.data[o],s=z5(r,n,i,t);n[o]=s,Lm()&&UC(r,n,s,i),ju(i,!1)}var z5=(e,t,n,r)=>(nf(!0),r8(t[et],r));function W5(e,t,n,r=""){return vo(e,Fa(),n)?t+Gd(n)+r:Lr}function Es(e){return Ju("",e),Es}function Ju(e,t,n){let r=de(),o=W5(r,e,t,n);return o!==Lr&&G5(r,ms(),o),Ju}function G5(e,t,n){let r=D_(t,e);o8(e[et],r,n)}function Tg(e){return vo(de(),Fa(),e)?Gd(e):Lr}function aA(e,t,n){let r=Qt();r.firstCreatePass&&Fk(t,r.data,r.blueprint,po(e),n)}function Fk(e,t,n,r,o){if(e=qt(e),Array.isArray(e))for(let i=0;i<e.length;i++)Fk(e[i],t,n,r,o);else{let i=Qt(),s=de(),a=vn(),c=_a(e)?e:qt(e.provide),u=v_(e),l=a.providerIndexes&1048575,f=a.directiveStart,p=a.providerIndexes>>20;if(_a(e)||!e.multi){let h=new ja(u,o,Se,null),y=nC(c,t,o?l:l+p,f);y===-1?(oC(Ym(a,s),i,c),tC(i,e,t.length),t.push(c),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),n.push(h),s.push(h)):(n[y]=h,s[y]=h)}else{let h=nC(c,t,l+p,f),y=nC(c,t,l,l+p),S=h>=0&&n[h],I=y>=0&&n[y];if(o&&!I||!o&&!S){oC(Ym(a,s),i,c);let O=Z5(o?Y5:K5,n.length,o,r,u,e);!o&&I&&(n[y].providerFactory=O),tC(i,e,t.length,0),t.push(c),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),n.push(O),s.push(O)}else{let O=Pk(n[o?y:h],u,!o&&r);tC(i,e,h>-1?h:y,O)}!o&&r&&I&&n[y].componentProviders++}}}function tC(e,t,n,r){let o=_a(t),i=rR(t);if(o||i){let c=(i?qt(t.useClass):t).prototype.ngOnDestroy;if(c){let u=e.destroyHooks||(e.destroyHooks=[]);if(!o&&t.multi){let l=u.indexOf(n);l===-1?u.push(n,[r,c]):u[l+1].push(r,c)}else u.push(n,c)}}}function Pk(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function nC(e,t,n,r){for(let o=n;o<r;o++)if(t[o]===e)return o;return-1}function K5(e,t,n,r,o){return SC(this.multi,[])}function Y5(e,t,n,r,o){let i=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,c=Zm(r,r[Y],this.providerFactory.index,o);s=c.slice(0,a),SC(i,s);for(let u=a;u<c.length;u++)s.push(c[u])}else s=[],SC(i,s);return s}function SC(e,t){for(let n=0;n<e.length;n++){let r=e[n];t.push(r())}return t}function Z5(e,t,n,r,o,i){let s=new ja(e,n,Se,null);return s.multi=[],s.index=t,s.componentProviders=0,Pk(s,o,r&&!n),s}function Og(e,t){return n=>{n.providersResolver=(r,o)=>aA(r,o?o(e):e,!1),t&&(n.viewProvidersResolver=(r,o)=>aA(r,o?o(t):t,!0))}}function sS(e,t,n){return jk(de(),Rm(),e,t,n)}function Lk(e,t){let n=e[t];return n===Lr?void 0:n}function jk(e,t,n,r,o,i){let s=t+n;return vo(e,s,o)?bk(e,s+1,i?r.call(i,o):r(o)):Lk(e,s+1)}function J5(e,t,n,r,o,i,s){let a=t+n;return j4(e,a,o,i)?bk(e,a+2,s?r.call(s,o,i):r(o,i)):Lk(e,a+2)}function xo(e,t){let n=Qt(),r,o=e+dt;n.firstCreatePass?(r=Q5(t,n.pipeRegistry),n.data[o]=r,r.onDestroy&&(n.destroyHooks??=[]).push(o,r.onDestroy)):r=n.data[o];let i=r.factory||(r.factory=cs(r.type,!0)),s,a=cn(Se);try{let c=Km(!1),u=i();return Km(c),I_(n,de(),o,u),u}finally{cn(a)}}function Q5(e,t){if(t)for(let n=t.length-1;n>=0;n--){let r=t[n];if(e===r.name)return r}}function ci(e,t,n){let r=e+dt,o=de(),i=w_(o,r);return Bk(o,r)?jk(o,Rm(),t,i.transform,n,i):i.transform(n)}function aS(e,t,n,r){let o=e+dt,i=de(),s=w_(i,o);return Bk(i,o)?J5(i,Rm(),t,s.transform,n,r,s):s.transform(n,r)}function Bk(e,t){return e[Y].data[t].pure}var Vm=null;function Hk(e){Vm!==null&&(e.defaultEncapsulation!==Vm.defaultEncapsulation||e.preserveWhitespaces!==Vm.preserveWhitespaces)||(Vm=e)}var ag=class{ngModuleFactory;componentFactories;constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}},cS=(()=>{class e{compileModuleSync(n){return new df(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),o=u_(n),i=$A(o.declarations).reduce((s,a)=>{let c=ni(a);return c&&s.push(new Va(c)),s},[]);return new ag(r,i)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Vk=new k("");var Uk=(()=>{class e{applicationErrorHandler=v(jn);appRef=v(Br);taskService=v(mo);ngZone=v(we);zonelessEnabled=v(Bu);tracing=v(si,{optional:!0});zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new at;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(qd):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(v(Bm,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{let n=this.taskService.add();if(!this.runningTick&&(this.cleanup(),!this.zonelessEnabled||this.appRef.includeAllTestViews)){this.taskService.remove(n);return}this.switchToMicrotaskScheduler(),this.taskService.remove(n)})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()}))}switchToMicrotaskScheduler(){this.ngZone.runOutsideAngular(()=>{let n=this.taskService.add();this.useMicrotaskScheduler=!0,queueMicrotask(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})})}notify(n){if(!this.zonelessEnabled&&n===5)return;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2;break}case 12:{this.appRef.dirtyFlags|=16;break}case 13:{this.appRef.dirtyFlags|=2;break}case 11:break;default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?AR:V_;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(qd+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.applicationErrorHandler(r)}finally{this.taskService.remove(n),this.cleanup()}}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function $k(){return[{provide:ti,useExisting:Uk},{provide:we,useClass:zd},{provide:Bu,useValue:!0}]}function X5(){return typeof $localize<"u"&&$localize.locale||Ef}var Rg=new k("",{factory:()=>v(Rg,{optional:!0,skipSelf:!0})||X5()});var Ag=class{destroyed=!1;listeners=null;errorHandler=v(er,{optional:!0});destroyRef=v(jt);constructor(){this.destroyRef.onDestroy(()=>{this.destroyed=!0,this.listeners=null})}subscribe(t){if(this.destroyed)throw new F(953,!1);return(this.listeners??=[]).push(t),{unsubscribe:()=>{let n=this.listeners?.indexOf(t);n!==void 0&&n!==-1&&this.listeners?.splice(n,1)}}}emit(t){if(this.destroyed){console.warn(Tr(953,!1));return}if(this.listeners===null)return;let n=q(null);try{for(let r of this.listeners)try{r(t)}catch(o){this.errorHandler?.handleError(o)}}finally{q(n)}}};function kg(e,t){return $h(e,t?.equal)}var Jk=Symbol("InputSignalNode#UNSET"),m6=N(x({},qh),{transformFn:void 0,applyValueToInputSignal(e,t){Pd(e,t)}});function Qk(e,t){let n=Object.create(m6);n.value=e,n.transformFn=t?.transform;function r(){if(kd(n),n.value===Jk){let o=null;throw new F(-950,o)}return n.value}return r[gn]=n,r}function Fg(e){return new Ag}function zk(e,t){return Qk(e,t)}function g6(e){return Qk(Jk,e)}var _s=(zk.required=g6,zk);function y6(e,t,n){let r=new df(n);return Promise.resolve(r)}function Wk(e){for(let t=e.length-1;t>=0;t--)if(e[t]!==void 0)return e[t]}var v6=(()=>{class e{zone=v(we);changeDetectionScheduler=v(ti);applicationRef=v(Br);applicationErrorHandler=v(jn);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(n){this.applicationErrorHandler(n)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),x6=new k("",{factory:()=>!1});function b6({ngZoneFactory:e,scheduleInRootZone:t}){return e??=()=>new we(N(x({},eN()),{scheduleInRootZone:t})),[{provide:Bu,useValue:!1},{provide:we,useFactory:e},{provide:ds,multi:!0,useFactory:()=>{let n=v(v6,{optional:!0});return()=>n.initialize()}},{provide:ds,multi:!0,useFactory:()=>{let n=v(E6);return()=>{n.initialize()}}},{provide:Bm,useValue:t??H_}]}function Xk(e){let t=e?.scheduleInRootZone,n=b6({ngZoneFactory:()=>{let r=eN(e);return r.scheduleInRootZone=t,r.shouldCoalesceEventChangeDetection&&jr("NgZone_CoalesceEvent"),new we(r)},scheduleInRootZone:t});return fs([{provide:x6,useValue:!0},n])}function eN(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var E6=(()=>{class e{subscription=new at;initialized=!1;zone=v(we);pendingTasks=v(mo);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{we.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{we.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Ng=new k(""),_6=new k("");function _f(e){return!e.moduleRef}function C6(e){let t=_f(e)?e.r3Injector:e.moduleRef.injector,n=t.get(we);return n.run(()=>{_f(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let r=t.get(jn),o;if(n.runOutsideAngular(()=>{o=n.onError.subscribe({next:r})}),_f(e)){let i=()=>t.destroy(),s=e.platformInjector.get(Ng);s.add(i),t.onDestroy(()=>{o.unsubscribe(),s.delete(i)})}else{let i=()=>e.moduleRef.destroy(),s=e.platformInjector.get(Ng);s.add(i),e.moduleRef.onDestroy(()=>{of(e.allPlatformModules,e.moduleRef),o.unsubscribe(),s.delete(i)})}return D6(r,n,()=>{let i=t.get(mo),s=i.add(),a=t.get(tS);return a.runInitializers(),a.donePromise.then(()=>{let c=t.get(Rg,Ef);if(kk(c||Ef),!t.get(_6,!0))return _f(e)?t.get(Br):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(_f(e)){let l=t.get(Br);return e.rootComponent!==void 0&&l.bootstrap(e.rootComponent),l}else return tN?.(e.moduleRef,e.allPlatformModules),e.moduleRef}).finally(()=>{i.remove(s)})})})}var tN;function Gk(){tN=S6}function S6(e,t){let n=e.injector.get(Br);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(e.instance.ngDoBootstrap)e.instance.ngDoBootstrap(n);else throw new F(-403,!1);t.push(e)}function D6(e,t,n){try{let r=n();return bs(r)?r.catch(o=>{throw t.runOutsideAngular(()=>e(o)),o}):r}catch(r){throw t.runOutsideAngular(()=>e(r)),r}}var nN=(()=>{class e{_injector;_modules=[];_destroyListeners=[];_destroyed=!1;constructor(n){this._injector=n}bootstrapModuleFactory(n,r){let o=[$k(),...r?.applicationProviders??[],NR],i=Dk(n.moduleType,this.injector,o);return Gk(),C6({moduleRef:i,allPlatformModules:this._modules,platformInjector:this.injector})}bootstrapModule(n,r=[]){let o=nS({},r);return Gk(),y6(this.injector,o,n).then(i=>this.bootstrapModuleFactory(i,o))}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new F(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());let n=this._injector.get(Ng,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static \u0275fac=function(r){return new(r||e)(L(Lt))};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})(),uS=null;function w6(e){if(dS())throw new F(400,!1);Rk(),uS=e;let t=e.get(nN);return T6(e),t}function lS(e,t,n=[]){let r=`Platform: ${t}`,o=new k(r);return(i=[])=>{let s=dS();if(!s){let a=[...n,...i,{provide:o,useValue:!0}];s=e?.(a)??w6(I6(a,r))}return M6(o)}}function I6(e=[],t){return Lt.create({name:t,providers:[{provide:Yd,useValue:"platform"},{provide:Ng,useValue:new Set([()=>uS=null])},...e]})}function M6(e){let t=dS();if(!t)throw new F(-401,!1);return t}function dS(){return uS?.get(nN)??null}function T6(e){let t=e.get(lg,null);St(e,()=>{t?.forEach(n=>n())})}var O6=1e4;var xCe=O6-1e3;var bo=(()=>{class e{static __NG_ELEMENT_ID__=R6}return e})();function R6(e){return A6(vn(),de(),(e&16)===16)}function A6(e,t,n){if(hs(e)&&!n){let r=or(e.index,t);return new ys(r,r)}else if(e.type&175){let r=t[Pn];return new ys(r,t)}return null}var rN=lS(null,"core",[]),oN=(()=>{class e{constructor(n){}static \u0275fac=function(r){return new(r||e)(L(Br))};static \u0275mod=Dt({type:e});static \u0275inj=vt({})}return e})();function iN(e){let t=ni(e);if(!t)return null;let n=new Va(t);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}var sN=null;function Eo(){return sN}function fS(e){sN??=e}var Cf=class{},ui=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:()=>v(aN),providedIn:"platform"})}return e})(),pS=new k(""),aN=(()=>{class e extends ui{_location;_history;_doc=v(Ue);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Eo().getBaseHref(this._doc)}onPopState(n){let r=Eo().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=Eo().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,o){this._history.pushState(n,r,o)}replaceState(n,r,o){this._history.replaceState(n,r,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:()=>new e,providedIn:"platform"})}return e})();function Pg(e,t){return e?t?e.endsWith("/")?t.startsWith("/")?e+t.slice(1):e+t:t.startsWith("/")?e+t:`${e}/${t}`:e:t}function cN(e){let t=e.search(/#|\?|$/);return e[t-1]==="/"?e.slice(0,t-1)+e.slice(t):e}function Vr(e){return e&&e[0]!=="?"?`?${e}`:e}var _o=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:()=>v(jg),providedIn:"root"})}return e})(),Lg=new k(""),jg=(()=>{class e extends _o{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??v(Ue).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Pg(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+Vr(this._platformLocation.search),o=this._platformLocation.hash;return o&&n?`${r}${o}`:r}pushState(n,r,o,i){let s=this.prepareExternalUrl(o+Vr(i));this._platformLocation.pushState(n,r,s)}replaceState(n,r,o,i){let s=this.prepareExternalUrl(o+Vr(i));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||e)(L(ui),L(Lg,8))};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Cs=(()=>{class e{_subject=new ve;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=F6(cN(uN(r))),this._locationStrategy.onPopState(o=>{this._subject.next({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Vr(r))}normalize(n){return e.stripTrailingSlash(N6(this._basePath,uN(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",o=null){this._locationStrategy.pushState(o,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Vr(r)),o)}replaceState(n,r="",o=null){this._locationStrategy.replaceState(o,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Vr(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(o=>o(n,r))}subscribe(n,r,o){return this._subject.subscribe({next:n,error:r??void 0,complete:o??void 0})}static normalizeQueryParams=Vr;static joinWithSlash=Pg;static stripTrailingSlash=cN;static \u0275fac=function(r){return new(r||e)(L(_o))};static \u0275prov=D({token:e,factory:()=>k6(),providedIn:"root"})}return e})();function k6(){return new Cs(L(_o))}function N6(e,t){if(!e||!t.startsWith(e))return t;let n=t.substring(e.length);return n===""||["/",";","?","#"].includes(n[0])?n:t}function uN(e){return e.replace(/\/index.html$/,"")}function F6(e){if(new RegExp("^(https?:)?//").test(e)){let[,n]=e.split(/\/\/[^\/]+/);return n}return e}var Hg=(()=>{class e extends _o{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(n){let r=Pg(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,o,i){let s=this.prepareExternalUrl(o+Vr(i))||this._platformLocation.pathname;this._platformLocation.pushState(n,r,s)}replaceState(n,r,o,i){let s=this.prepareExternalUrl(o+Vr(i))||this._platformLocation.pathname;this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||e)(L(ui),L(Lg,8))};static \u0275prov=D({token:e,factory:e.\u0275fac})}return e})();var Sf=(()=>{class e{_viewContainer;_context=new Bg;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(n,r){this._viewContainer=n,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){lN(n,!1),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){lN(n,!1),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||e)(Se(Gu),Se(bg))};static \u0275dir=en({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return e})(),Bg=class{$implicit=null;ngIf=null};function lN(e,t){if(e&&!e.createEmbeddedView)throw new F(2020,!1)}function P6(e,t){return new F(2100,!1)}var hS=class{createSubscription(t,n,r){return Xt(()=>t.subscribe({next:n,error:r}))}dispose(t){Xt(()=>t.unsubscribe())}},mS=class{createSubscription(t,n,r){return t.then(o=>n?.(o),o=>r?.(o)),{unsubscribe:()=>{n=null,r=null}}}dispose(t){t.unsubscribe()}},L6=new mS,j6=new hS,Df=(()=>{class e{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;applicationErrorHandler=v(jn);constructor(n){this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){if(!this._obj){if(n)try{this.markForCheckOnValueUpdate=!1,this._subscribe(n)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,r=>this._updateLatestValue(n,r),r=>this.applicationErrorHandler(r))}_selectStrategy(n){if(bs(n))return L6;if(wg(n))return j6;throw P6(e,n)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,r){n===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(r){return new(r||e)(Se(bo,16))};static \u0275pipe=mf({name:"async",type:e,pure:!1})}return e})();var wf=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=Dt({type:e});static \u0275inj=vt({})}return e})();function If(e,t){t=encodeURIComponent(t);for(let n of e.split(";")){let r=n.indexOf("="),[o,i]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(o.trim()===t)return decodeURIComponent(i)}return null}var Ka=class{};var yS="browser";function Vg(e){return e===yS}var vS=(()=>{class e{static \u0275prov=D({token:e,providedIn:"root",factory:()=>new gS(v(Ue),window)})}return e})(),gS=class{document;window;offset=()=>[0,0];constructor(t,n){this.document=t,this.window=n}setOffset(t){Array.isArray(t)?this.offset=()=>t:this.offset=t}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(t,n){this.window.scrollTo(N(x({},n),{left:t[0],top:t[1]}))}scrollToAnchor(t,n){let r=H6(this.document,t);r&&(this.scrollToElement(r,n),r.focus())}setHistoryScrollRestoration(t){try{this.window.history.scrollRestoration=t}catch(n){console.warn(Tr(2400,!1))}}scrollToElement(t,n){let r=t.getBoundingClientRect(),o=r.left+this.window.pageXOffset,i=r.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(N(x({},n),{left:o-s[0],top:i-s[1]}))}};function H6(e,t){let n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if(typeof e.createTreeWalker=="function"&&e.body&&typeof e.body.attachShadow=="function"){let r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT),o=r.currentNode;for(;o;){let i=o.shadowRoot;if(i){let s=i.getElementById(t)||i.querySelector(`[name="${t}"]`);if(s)return s}o=r.nextNode()}}return null}var Mf=class{_doc;constructor(t){this._doc=t}manager},Ug=(()=>{class e extends Mf{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,o,i){return n.addEventListener(r,o,i),()=>this.removeEventListener(n,r,o,i)}removeEventListener(n,r,o,i){return n.removeEventListener(r,o,i)}static \u0275fac=function(r){return new(r||e)(L(Ue))};static \u0275prov=D({token:e,factory:e.\u0275fac})}return e})(),zg=new k(""),_S=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(s=>{s.manager=this});let o=n.filter(s=>!(s instanceof Ug));this._plugins=o.slice().reverse();let i=n.find(s=>s instanceof Ug);i&&this._plugins.push(i)}addEventListener(n,r,o,i){return this._findPluginFor(r).addEventListener(n,r,o,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(i=>i.supports(n)),!r)throw new F(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||e)(L(zg),L(we))};static \u0275prov=D({token:e,factory:e.\u0275fac})}return e})(),xS="ng-app-id";function fN(e){for(let t of e)t.remove()}function pN(e,t){let n=t.createElement("style");return n.textContent=e,n}function U6(e,t,n,r){let o=e.head?.querySelectorAll(`style[${xS}="${t}"],link[${xS}="${t}"]`);if(o)for(let i of o)i.removeAttribute(xS),i instanceof HTMLLinkElement?r.set(i.href.slice(i.href.lastIndexOf("/")+1),{usage:0,elements:[i]}):i.textContent&&n.set(i.textContent,{usage:0,elements:[i]})}function ES(e,t){let n=t.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",e),n}var CS=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(n,r,o,i={}){this.doc=n,this.appId=r,this.nonce=o,U6(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let o of n)this.addUsage(o,this.inline,pN);r?.forEach(o=>this.addUsage(o,this.external,ES))}removeStyles(n,r){for(let o of n)this.removeUsage(o,this.inline);r?.forEach(o=>this.removeUsage(o,this.external))}addUsage(n,r,o){let i=r.get(n);i?i.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,o(n,this.doc)))})}removeUsage(n,r){let o=r.get(n);o&&(o.usage--,o.usage<=0&&(fN(o.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])fN(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:o}]of this.inline)o.push(this.addElement(n,pN(r,this.doc)));for(let[r,{elements:o}]of this.external)o.push(this.addElement(n,ES(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),n.appendChild(r)}static \u0275fac=function(r){return new(r||e)(L(Ue),L(ug),L(zu,8),L(ii))};static \u0275prov=D({token:e,factory:e.\u0275fac})}return e})(),bS={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},SS=/%COMP%/g;var mN="%COMP%",$6=`_nghost-${mN}`,q6=`_ngcontent-${mN}`,z6=!0,W6=new k("",{factory:()=>z6});function G6(e){return q6.replace(SS,e)}function K6(e){return $6.replace(SS,e)}function gN(e,t){return t.map(n=>n.replace(SS,e))}var DS=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;constructor(n,r,o,i,s,a,c=null,u=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=i,this.doc=s,this.ngZone=a,this.nonce=c,this.tracingService=u,this.defaultRenderer=new Tf(n,s,a,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;let o=this.getOrCreateRenderer(n,r);return o instanceof qg?o.applyToHost(n):o instanceof Of&&o.applyStyles(),o}getOrCreateRenderer(n,r){let o=this.rendererByCompId,i=o.get(r.id);if(!i){let s=this.doc,a=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,l=this.removeStylesOnCompDestroy,f=this.tracingService;switch(r.encapsulation){case Pr.Emulated:i=new qg(c,u,r,this.appId,l,s,a,f);break;case Pr.ShadowDom:return new $g(c,n,r,s,a,this.nonce,f,u);case Pr.ExperimentalIsolatedShadowDom:return new $g(c,n,r,s,a,this.nonce,f);default:i=new Of(c,u,r,l,s,a,f);break}o.set(r.id,i)}return i}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||e)(L(_S),L(CS),L(ug),L(W6),L(Ue),L(we),L(zu),L(si,8))};static \u0275prov=D({token:e,factory:e.\u0275fac})}return e})(),Tf=class{eventManager;doc;ngZone;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,n,r,o){this.eventManager=t,this.doc=n,this.ngZone=r,this.tracingService=o}destroy(){}destroyNode=null;createElement(t,n){return n?this.doc.createElementNS(bS[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(hN(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(hN(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){n.remove()}selectRootElement(t,n){let r=typeof t=="string"?this.doc.querySelector(t):t;if(!r)throw new F(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,o){if(o){n=o+":"+n;let i=bS[o];i?t.setAttributeNS(i,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){let o=bS[r];o?t.removeAttributeNS(o,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,o){o&(yo.DashCase|yo.Important)?t.style.setProperty(n,r,o&yo.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&yo.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t!=null&&(t[n]=r)}setValue(t,n){t.nodeValue=n}listen(t,n,r,o){if(typeof t=="string"&&(t=Eo().getGlobalEventTarget(this.doc,t),!t))throw new F(5102,!1);let i=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(i=this.tracingService.wrapEventListener(t,n,i)),this.eventManager.addEventListener(t,n,i,o)}decoratePreventDefault(t){return n=>{if(n==="__ngUnwrap__")return t;t(n)===!1&&n.preventDefault()}}};function hN(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var $g=class extends Tf{hostEl;sharedStylesHost;shadowRoot;constructor(t,n,r,o,i,s,a,c){super(t,o,i,a),this.hostEl=n,this.sharedStylesHost=c,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost&&this.sharedStylesHost.addHost(this.shadowRoot);let u=r.styles;u=gN(r.id,u);for(let f of u){let p=document.createElement("style");s&&p.setAttribute("nonce",s),p.textContent=f,this.shadowRoot.appendChild(p)}let l=r.getExternalStyles?.();if(l)for(let f of l){let p=ES(f,o);s&&p.setAttribute("nonce",s),this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(null,n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost&&this.sharedStylesHost.removeHost(this.shadowRoot)}},Of=class extends Tf{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,n,r,o,i,s,a,c){super(t,i,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=o;let u=r.styles;this.styles=c?gN(c,u):u,this.styleUrls=r.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&Ba.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},qg=class extends Of{contentAttr;hostAttr;constructor(t,n,r,o,i,s,a,c){let u=o+"-"+r.id;super(t,n,r,i,s,a,c,u),this.contentAttr=G6(u),this.hostAttr=K6(u)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){let r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}};var Wg=class e extends Cf{supportsDOMEvents=!0;static makeCurrent(){fS(new e)}onAndCancel(t,n,r,o){return t.addEventListener(n,r,o),()=>{t.removeEventListener(n,r,o)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.remove()}createElement(t,n){return n=n||this.getDefaultDocument(),n.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return n==="window"?window:n==="document"?t:n==="body"?t.body:null}getBaseHref(t){let n=Y6();return n==null?null:Z6(n)}resetBaseElement(){Rf=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return If(document.cookie,t)}},Rf=null;function Y6(){return Rf=Rf||document.head.querySelector("base"),Rf?Rf.getAttribute("href"):null}function Z6(e){return new URL(e,document.baseURI).pathname}var Gg=class{addToWindow(t){Or.getAngularTestability=(r,o=!0)=>{let i=t.findTestabilityInTree(r,o);if(i==null)throw new F(5103,!1);return i},Or.getAllAngularTestabilities=()=>t.getAllTestabilities(),Or.getAllAngularRootElements=()=>t.getAllRootElements();let n=r=>{let o=Or.getAllAngularTestabilities(),i=o.length,s=function(){i--,i==0&&r()};o.forEach(a=>{a.whenStable(s)})};Or.frameworkStabilizers||(Or.frameworkStabilizers=[]),Or.frameworkStabilizers.push(n)}findTestabilityInTree(t,n,r){if(n==null)return null;let o=t.getTestability(n);return o??(r?Eo().isShadowRoot(n)?this.findTestabilityInTree(t,n.host,!0):this.findTestabilityInTree(t,n.parentElement,!0):null)}},J6=(()=>{class e{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac})}return e})(),yN=["alt","control","meta","shift"],Q6={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},X6={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},vN=(()=>{class e extends Mf{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,r,o,i){let s=e.parseEventName(r),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Eo().onAndCancel(n,s.domEventName,a,i))}static parseEventName(n){let r=n.toLowerCase().split("."),o=r.shift();if(r.length===0||!(o==="keydown"||o==="keyup"))return null;let i=e._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),yN.forEach(u=>{let l=r.indexOf(u);l>-1&&(r.splice(l,1),s+=u+".")}),s+=i,r.length!=0||i.length===0)return null;let c={};return c.domEventName=o,c.fullKey=s,c}static matchEventFullKeyCode(n,r){let o=Q6[n.key]||n.key,i="";return r.indexOf("code.")>-1&&(o=n.code,i="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),yN.forEach(s=>{if(s!==o){let a=X6[s];a(n)&&(i+=s+".")}}),i+=o,i===r)}static eventCallback(n,r,o){return i=>{e.matchEventFullKeyCode(i,n)&&o.runGuarded(()=>r(i))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||e)(L(Ue))};static \u0275prov=D({token:e,factory:e.\u0275fac})}return e})();function e9(){Wg.makeCurrent()}function t9(){return new er}function n9(){return IC(document),document}var r9=[{provide:ii,useValue:yS},{provide:lg,useValue:e9,multi:!0},{provide:Ue,useFactory:n9}],wS=lS(rN,"browser",r9);var o9=[{provide:Dg,useClass:Gg},{provide:Sg,useClass:gf},{provide:gf,useClass:gf}],i9=[{provide:Yd,useValue:"root"},{provide:er,useFactory:t9},{provide:zg,useClass:Ug,multi:!0},{provide:zg,useClass:vN,multi:!0},DS,CS,_S,{provide:Ha,useExisting:DS},{provide:Ka,useClass:J6},[]],IS=(()=>{class e{constructor(){}static \u0275fac=function(r){return new(r||e)};static \u0275mod=Dt({type:e});static \u0275inj=vt({providers:[...i9,...o9],imports:[wf,oN]})}return e})();var Ss=class e{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(t){t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let o=n.slice(0,r),i=n.slice(r+1).trim();this.addHeaderEntry(o,i)}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((n,r)=>{this.addHeaderEntry(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let n=this.headers.get(t.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,n){return this.clone({name:t,value:n,op:"a"})}set(t,n){return this.clone({name:t,value:n,op:"s"})}delete(t,n){return this.clone({name:t,value:n,op:"d"})}maybeSetNormalizedName(t,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,t)}init(){this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(n=>{this.headers.set(n,t.headers.get(n)),this.normalizedNames.set(n,t.normalizedNames.get(n))})}clone(t){let n=new e;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}applyUpdate(t){let n=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(t.name,n);let o=(t.op==="a"?this.headers.get(n):void 0)||[];o.push(...r),this.headers.set(n,o);break;case"d":let i=t.value;if(!i)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>i.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}addHeaderEntry(t,n){let r=t.toLowerCase();this.maybeSetNormalizedName(t,r),this.headers.has(r)?this.headers.get(r).push(n):this.headers.set(r,[n])}setHeaderEntries(t,n){let r=(Array.isArray(n)?n:[n]).map(i=>i.toString()),o=t.toLowerCase();this.headers.set(o,r),this.maybeSetNormalizedName(t,o)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>t(this.normalizedNames.get(n),this.headers.get(n)))}};var Yg=class{map=new Map;set(t,n){return this.map.set(t,n),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}},Zg=class{encodeKey(t){return xN(t)}encodeValue(t){return xN(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function s9(e,t){let n=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(o=>{let i=o.indexOf("="),[s,a]=i==-1?[t.decodeKey(o),""]:[t.decodeKey(o.slice(0,i)),t.decodeValue(o.slice(i+1))],c=n.get(s)||[];c.push(a),n.set(s,c)}),n}var a9=/%(\d[a-f0-9])/gi,c9={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function xN(e){return encodeURIComponent(e).replace(a9,(t,n)=>c9[n]??t)}function Kg(e){return`${e}`}var li=class e{map;encoder;updates=null;cloneFrom=null;constructor(t={}){if(this.encoder=t.encoder||new Zg,t.fromString){if(t.fromObject)throw new F(2805,!1);this.map=s9(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(n=>{let r=t.fromObject[n],o=Array.isArray(r)?r.map(Kg):[Kg(r)];this.map.set(n,o)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let n=this.map.get(t);return n?n[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,n){return this.clone({param:t,value:n,op:"a"})}appendAll(t){let n=[];return Object.keys(t).forEach(r=>{let o=t[r];Array.isArray(o)?o.forEach(i=>{n.push({param:r,value:i,op:"a"})}):n.push({param:r,value:o,op:"a"})}),this.clone(n)}set(t,n){return this.clone({param:t,value:n,op:"s"})}delete(t,n){return this.clone({param:t,value:n,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let n=this.encoder.encodeKey(t);return this.map.get(t).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let n=new e({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(t),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let n=(t.op==="a"?this.map.get(t.param):void 0)||[];n.push(Kg(t.value)),this.map.set(t.param,n);break;case"d":if(t.value!==void 0){let r=this.map.get(t.param)||[],o=r.indexOf(Kg(t.value));o!==-1&&r.splice(o,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};function u9(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function bN(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function EN(e){return typeof Blob<"u"&&e instanceof Blob}function _N(e){return typeof FormData<"u"&&e instanceof FormData}function l9(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}var CN="Content-Type",SN="Accept",wN="text/plain",IN="application/json",d9=`${IN}, ${wN}, */*`,Qu=class e{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;referrer;integrity;referrerPolicy;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(t,n,r,o){this.url=n,this.method=t.toUpperCase();let i;if(u9(this.method)||o?(this.body=r!==void 0?r:null,i=o):i=r,i){if(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,this.keepalive=!!i.keepalive,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.context&&(this.context=i.context),i.params&&(this.params=i.params),i.priority&&(this.priority=i.priority),i.cache&&(this.cache=i.cache),i.credentials&&(this.credentials=i.credentials),typeof i.timeout=="number"){if(i.timeout<1||!Number.isInteger(i.timeout))throw new F(2822,"");this.timeout=i.timeout}i.mode&&(this.mode=i.mode),i.redirect&&(this.redirect=i.redirect),i.integrity&&(this.integrity=i.integrity),i.referrer&&(this.referrer=i.referrer),i.referrerPolicy&&(this.referrerPolicy=i.referrerPolicy),this.transferCache=i.transferCache}if(this.headers??=new Ss,this.context??=new Yg,!this.params)this.params=new li,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),c=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+c+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||bN(this.body)||EN(this.body)||_N(this.body)||l9(this.body)?this.body:this.body instanceof li?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||_N(this.body)?null:EN(this.body)?this.body.type||null:bN(this.body)?null:typeof this.body=="string"?wN:this.body instanceof li?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?IN:null}clone(t={}){let n=t.method||this.method,r=t.url||this.url,o=t.responseType||this.responseType,i=t.keepalive??this.keepalive,s=t.priority||this.priority,a=t.cache||this.cache,c=t.mode||this.mode,u=t.redirect||this.redirect,l=t.credentials||this.credentials,f=t.referrer||this.referrer,p=t.integrity||this.integrity,h=t.referrerPolicy||this.referrerPolicy,y=t.transferCache??this.transferCache,S=t.timeout??this.timeout,I=t.body!==void 0?t.body:this.body,O=t.withCredentials??this.withCredentials,K=t.reportProgress??this.reportProgress,qe=t.headers||this.headers,le=t.params||this.params,Ut=t.context??this.context;return t.setHeaders!==void 0&&(qe=Object.keys(t.setHeaders).reduce(($t,Xn)=>$t.set(Xn,t.setHeaders[Xn]),qe)),t.setParams&&(le=Object.keys(t.setParams).reduce(($t,Xn)=>$t.set(Xn,t.setParams[Xn]),le)),new e(n,r,I,{params:le,headers:qe,context:Ut,reportProgress:K,responseType:o,withCredentials:O,transferCache:y,keepalive:i,cache:a,priority:s,timeout:S,mode:c,redirect:u,credentials:l,referrer:f,integrity:p,referrerPolicy:h})}},Ya=(function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e})(Ya||{}),el=class{headers;status;statusText;url;ok;type;redirected;responseType;constructor(t,n=200,r="OK"){this.headers=t.headers||new Ss,this.status=t.status!==void 0?t.status:n,this.statusText=t.statusText||r,this.url=t.url||null,this.redirected=t.redirected,this.responseType=t.responseType,this.ok=this.status>=200&&this.status<300}},Jg=class e extends el{constructor(t={}){super(t)}type=Ya.ResponseHeader;clone(t={}){return new e({headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},Af=class e extends el{body;constructor(t={}){super(t),this.body=t.body!==void 0?t.body:null}type=Ya.Response;clone(t={}){return new e({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0,redirected:t.redirected??this.redirected,responseType:t.responseType??this.responseType})}},Xu=class extends el{name="HttpErrorResponse";message;error;ok=!1;constructor(t){super(t,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${t.url||"(unknown url)"}`:this.message=`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}},f9=200,p9=204;var h9=new k("");var m9=/^\)\]\}',?\n/;var TS=(()=>{class e{xhrFactory;tracingService=v(si,{optional:!0});constructor(n){this.xhrFactory=n}maybePropagateTrace(n){return this.tracingService?.propagate?this.tracingService.propagate(n):n}handle(n){if(n.method==="JSONP")throw new F(-2800,!1);let r=this.xhrFactory;return $(null).pipe(yt(()=>new re(i=>{let s=r.build();if(s.open(n.method,n.urlWithParams),n.withCredentials&&(s.withCredentials=!0),n.headers.forEach((I,O)=>s.setRequestHeader(I,O.join(","))),n.headers.has(SN)||s.setRequestHeader(SN,d9),!n.headers.has(CN)){let I=n.detectContentTypeHeader();I!==null&&s.setRequestHeader(CN,I)}if(n.timeout&&(s.timeout=n.timeout),n.responseType){let I=n.responseType.toLowerCase();s.responseType=I!=="json"?I:"text"}let a=n.serializeBody(),c=null,u=()=>{if(c!==null)return c;let I=s.statusText||"OK",O=new Ss(s.getAllResponseHeaders()),K=s.responseURL||n.url;return c=new Jg({headers:O,status:s.status,statusText:I,url:K}),c},l=this.maybePropagateTrace(()=>{let{headers:I,status:O,statusText:K,url:qe}=u(),le=null;O!==p9&&(le=typeof s.response>"u"?s.responseText:s.response),O===0&&(O=le?f9:0);let Ut=O>=200&&O<300;if(n.responseType==="json"&&typeof le=="string"){let $t=le;le=le.replace(m9,"");try{le=le!==""?JSON.parse(le):null}catch(Xn){le=$t,Ut&&(Ut=!1,le={error:Xn,text:le})}}Ut?(i.next(new Af({body:le,headers:I,status:O,statusText:K,url:qe||void 0})),i.complete()):i.error(new Xu({error:le,headers:I,status:O,statusText:K,url:qe||void 0}))}),f=this.maybePropagateTrace(I=>{let{url:O}=u(),K=new Xu({error:I,status:s.status||0,statusText:s.statusText||"Unknown Error",url:O||void 0});i.error(K)}),p=f;n.timeout&&(p=this.maybePropagateTrace(I=>{let{url:O}=u(),K=new Xu({error:new DOMException("Request timed out","TimeoutError"),status:s.status||0,statusText:s.statusText||"Request timeout",url:O||void 0});i.error(K)}));let h=!1,y=this.maybePropagateTrace(I=>{h||(i.next(u()),h=!0);let O={type:Ya.DownloadProgress,loaded:I.loaded};I.lengthComputable&&(O.total=I.total),n.responseType==="text"&&s.responseText&&(O.partialText=s.responseText),i.next(O)}),S=this.maybePropagateTrace(I=>{let O={type:Ya.UploadProgress,loaded:I.loaded};I.lengthComputable&&(O.total=I.total),i.next(O)});return s.addEventListener("load",l),s.addEventListener("error",f),s.addEventListener("timeout",p),s.addEventListener("abort",f),n.reportProgress&&(s.addEventListener("progress",y),a!==null&&s.upload&&s.upload.addEventListener("progress",S)),s.send(a),i.next({type:Ya.Sent}),()=>{s.removeEventListener("error",f),s.removeEventListener("abort",f),s.removeEventListener("load",l),s.removeEventListener("timeout",p),n.reportProgress&&(s.removeEventListener("progress",y),a!==null&&s.upload&&s.upload.removeEventListener("progress",S)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||e)(L(Ka))};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function MN(e,t){return t(e)}function g9(e,t){return(n,r)=>t.intercept(n,{handle:o=>e(o,r)})}function y9(e,t,n){return(r,o)=>St(n,()=>t(r,i=>e(i,o)))}var Xg=new k(""),OS=new k("",{factory:()=>[]}),TN=new k(""),RS=new k("",{factory:()=>!0});function v9(){let e=null;return(t,n)=>{e===null&&(e=(v(Xg,{optional:!0})??[]).reduceRight(g9,MN));let r=v(Pa);if(v(RS)){let i=r.add();return e(t,n).pipe(ss(i))}else return e(t,n)}}var tl=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:function(r){let o=null;return r?o=new(r||e):o=L(TS),o},providedIn:"root"})}return e})();var Qg=(()=>{class e{backend;injector;chain=null;pendingTasks=v(Pa);contributeToStability=v(RS);constructor(n,r){this.backend=n,this.injector=r}handle(n){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(OS),...this.injector.get(TN,[])]));this.chain=r.reduceRight((o,i)=>y9(o,i,this.injector),MN)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(n,o=>this.backend.handle(o)).pipe(ss(r))}else return this.chain(n,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||e)(L(tl),L(ze))};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),AS=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:function(r){let o=null;return r?o=new(r||e):o=L(Qg),o},providedIn:"root"})}return e})();function MS(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,credentials:e.credentials,transferCache:e.transferCache,timeout:e.timeout,keepalive:e.keepalive,priority:e.priority,cache:e.cache,mode:e.mode,redirect:e.redirect,integrity:e.integrity,referrer:e.referrer,referrerPolicy:e.referrerPolicy}}var Ds=(()=>{class e{handler;constructor(n){this.handler=n}request(n,r,o={}){let i;if(n instanceof Qu)i=n;else{let c;o.headers instanceof Ss?c=o.headers:c=new Ss(o.headers);let u;o.params&&(o.params instanceof li?u=o.params:u=new li({fromObject:o.params})),i=new Qu(n,r,o.body!==void 0?o.body:null,{headers:c,context:o.context,params:u,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache,keepalive:o.keepalive,priority:o.priority,cache:o.cache,mode:o.mode,redirect:o.redirect,credentials:o.credentials,referrer:o.referrer,referrerPolicy:o.referrerPolicy,integrity:o.integrity,timeout:o.timeout})}let s=$(i).pipe(co(c=>this.handler.handle(c)));if(n instanceof Qu||o.observe==="events")return s;let a=s.pipe(ut(c=>c instanceof Af));switch(o.observe||"body"){case"body":switch(i.responseType){case"arraybuffer":return a.pipe(W(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new F(2806,!1);return c.body}));case"blob":return a.pipe(W(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new F(2807,!1);return c.body}));case"text":return a.pipe(W(c=>{if(c.body!==null&&typeof c.body!="string")throw new F(2808,!1);return c.body}));default:return a.pipe(W(c=>c.body))}case"response":return a;default:throw new F(2809,!1)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:new li().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,o={}){return this.request("PATCH",n,MS(o,r))}post(n,r,o={}){return this.request("POST",n,MS(o,r))}put(n,r,o={}){return this.request("PUT",n,MS(o,r))}static \u0275fac=function(r){return new(r||e)(L(AS))};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var x9=new k("",{factory:()=>!0}),b9="XSRF-TOKEN",E9=new k("",{factory:()=>b9}),_9="X-XSRF-TOKEN",C9=new k("",{factory:()=>_9}),S9=(()=>{class e{cookieName=v(E9);doc=v(Ue);lastCookieString="";lastToken=null;parseCount=0;getToken(){let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=If(n,this.cookieName),this.lastCookieString=n),this.lastToken}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),ON=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:function(r){let o=null;return r?o=new(r||e):o=L(S9),o},providedIn:"root"})}return e})();function D9(e,t){if(!v(x9)||e.method==="GET"||e.method==="HEAD")return t(e);try{let o=v(ui).href,{origin:i}=new URL(o),{origin:s}=new URL(e.url,i);if(i!==s)return t(e)}catch(o){return t(e)}let n=v(ON).getToken(),r=v(C9);return n!=null&&!e.headers.has(r)&&(e=e.clone({headers:e.headers.set(r,n)})),t(e)}var kS=(function(e){return e[e.Interceptors=0]="Interceptors",e[e.LegacyInterceptors=1]="LegacyInterceptors",e[e.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",e[e.NoXsrfProtection=3]="NoXsrfProtection",e[e.JsonpSupport=4]="JsonpSupport",e[e.RequestsMadeViaParent=5]="RequestsMadeViaParent",e[e.Fetch=6]="Fetch",e})(kS||{});function w9(e,t){return{\u0275kind:e,\u0275providers:t}}function NS(...e){let t=[Ds,Qg,{provide:AS,useExisting:Qg},{provide:tl,useFactory:()=>v(h9,{optional:!0})??v(TS)},{provide:OS,useValue:D9,multi:!0}];for(let n of e)t.push(...n.\u0275providers);return fs(t)}var DN=new k("");function FS(){return w9(kS.LegacyInterceptors,[{provide:DN,useFactory:v9},{provide:OS,useExisting:DN,multi:!0}])}var RN=(()=>{class e{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||e)(L(Ue))};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var ne="primary",Uf=Symbol("RouteTitle"),HS=class{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Qa(e){return new HS(e)}function PS(e,t,n){for(let r=0;r<e.length;r++){let o=e[r],i=t[r];if(o[0]===":")n[o.substring(1)]=i;else if(o!==i.path)return!1}return!0}function UN(e,t,n){let r=n.path.split("/"),o=r.indexOf("**");if(o===-1){if(r.length>e.length||n.pathMatch==="full"&&(t.hasChildren()||r.length<e.length))return null;let c={},u=e.slice(0,r.length);return PS(r,u,c)?{consumed:u,posParams:c}:null}if(o!==r.lastIndexOf("**"))return null;let i=r.slice(0,o),s=r.slice(o+1);if(i.length+s.length>e.length||n.pathMatch==="full"&&t.hasChildren()&&n.path!=="**")return null;let a={};return!PS(i,e.slice(0,i.length),a)||!PS(s,e.slice(e.length-s.length),a)?null:{consumed:e,posParams:a}}function iy(e){return new Promise((t,n)=>{e.pipe(Qo()).subscribe({next:r=>t(r),error:r=>n(r)})})}function M9(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!Co(e[n],t[n]))return!1;return!0}function Co(e,t){let n=e?VS(e):void 0,r=t?VS(t):void 0;if(!n||!r||n.length!=r.length)return!1;let o;for(let i=0;i<n.length;i++)if(o=n[i],!$N(e[o],t[o]))return!1;return!0}function VS(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function $N(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;let n=[...e].sort(),r=[...t].sort();return n.every((o,i)=>r[i]===o)}else return e===t}function T9(e){return e.length>0?e[e.length-1]:null}function ec(e){return wr(e)?e:bs(e)?Ve(Promise.resolve(e)):$(e)}function qN(e){return wr(e)?iy(e):Promise.resolve(e)}var O9={exact:WN,subset:GN},zN={exact:R9,subset:A9,ignored:()=>!0};function kN(e,t,n){return O9[n.paths](e.root,t.root,n.matrixParams)&&zN[n.queryParams](e.queryParams,t.queryParams)&&!(n.fragment==="exact"&&e.fragment!==t.fragment)}function R9(e,t){return Co(e,t)}function WN(e,t,n){if(!Za(e.segments,t.segments)||!ny(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(let r in t.children)if(!e.children[r]||!WN(e.children[r],t.children[r],n))return!1;return!0}function A9(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>$N(e[n],t[n]))}function GN(e,t,n){return KN(e,t,t.segments,n)}function KN(e,t,n,r){if(e.segments.length>n.length){let o=e.segments.slice(0,n.length);return!(!Za(o,n)||t.hasChildren()||!ny(o,n,r))}else if(e.segments.length===n.length){if(!Za(e.segments,n)||!ny(e.segments,n,r))return!1;for(let o in t.children)if(!e.children[o]||!GN(e.children[o],t.children[o],r))return!1;return!0}else{let o=n.slice(0,e.segments.length),i=n.slice(e.segments.length);return!Za(e.segments,o)||!ny(e.segments,o,r)||!e.children[ne]?!1:KN(e.children[ne],t,i,r)}}function ny(e,t,n){return t.every((r,o)=>zN[n](e[o].parameters,r.parameters))}var $r=class{root;queryParams;fragment;_queryParamMap;constructor(t=new Me([],{}),n={},r=null){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Qa(this.queryParams),this._queryParamMap}toString(){return F9.serialize(this)}},Me=class{segments;children;parent=null;constructor(t,n){this.segments=t,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ry(this)}},ws=class{path;parameters;_parameterMap;constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap??=Qa(this.parameters),this._parameterMap}toString(){return ZN(this)}};function k9(e,t){return Za(e,t)&&e.every((n,r)=>Co(n.parameters,t[r].parameters))}function Za(e,t){return e.length!==t.length?!1:e.every((n,r)=>n.path===t[r].path)}function N9(e,t){let n=[];return Object.entries(e.children).forEach(([r,o])=>{r===ne&&(n=n.concat(t(o,r)))}),Object.entries(e.children).forEach(([r,o])=>{r!==ne&&(n=n.concat(t(o,r)))}),n}var tc=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:()=>new fi,providedIn:"root"})}return e})(),fi=class{parse(t){let n=new $S(t);return new $r(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){let n=`/${kf(t.root,!0)}`,r=j9(t.queryParams),o=typeof t.fragment=="string"?`#${P9(t.fragment)}`:"";return`${n}${r}${o}`}},F9=new fi;function ry(e){return e.segments.map(t=>ZN(t)).join("/")}function kf(e,t){if(!e.hasChildren())return ry(e);if(t){let n=e.children[ne]?kf(e.children[ne],!1):"",r=[];return Object.entries(e.children).forEach(([o,i])=>{o!==ne&&r.push(`${o}:${kf(i,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=N9(e,(r,o)=>o===ne?[kf(e.children[ne],!1)]:[`${o}:${kf(r,!1)}`]);return Object.keys(e.children).length===1&&e.children[ne]!=null?`${ry(e)}/${n[0]}`:`${ry(e)}/(${n.join("//")})`}}function YN(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ey(e){return YN(e).replace(/%3B/gi,";")}function P9(e){return encodeURI(e)}function US(e){return YN(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function oy(e){return decodeURIComponent(e)}function NN(e){return oy(e.replace(/\+/g,"%20"))}function ZN(e){return`${US(e.path)}${L9(e.parameters)}`}function L9(e){return Object.entries(e).map(([t,n])=>`;${US(t)}=${US(n)}`).join("")}function j9(e){let t=Object.entries(e).map(([n,r])=>Array.isArray(r)?r.map(o=>`${ey(n)}=${ey(o)}`).join("&"):`${ey(n)}=${ey(r)}`).filter(n=>n);return t.length?`?${t.join("&")}`:""}var B9=/^[^\/()?;#]+/;function LS(e){let t=e.match(B9);return t?t[0]:""}var H9=/^[^\/()?;=#]+/;function V9(e){let t=e.match(H9);return t?t[0]:""}var U9=/^[^=?&#]+/;function $9(e){let t=e.match(U9);return t?t[0]:""}var q9=/^[^&#]+/;function z9(e){let t=e.match(q9);return t?t[0]:""}var $S=class{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Me([],{}):new Me([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(t=0){if(t>50)throw new F(4010,!1);if(this.remaining==="")return{};this.consumeOptional("/");let n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let r={};this.peekStartsWith("/(")&&(this.capture("/"),r=this.parseParens(!0,t));let o={};return this.peekStartsWith("(")&&(o=this.parseParens(!1,t)),(n.length>0||Object.keys(r).length>0)&&(o[ne]=new Me(n,r)),o}parseSegment(){let t=LS(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new F(4009,!1);return this.capture(t),new ws(oy(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let n=V9(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=LS(this.remaining);o&&(r=o,this.capture(r))}t[oy(n)]=oy(r)}parseQueryParam(t){let n=$9(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=z9(this.remaining);s&&(r=s,this.capture(r))}let o=NN(n),i=NN(r);if(t.hasOwnProperty(o)){let s=t[o];Array.isArray(s)||(s=[s],t[o]=s),s.push(i)}else t[o]=i}parseParens(t,n){let r={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let o=LS(this.remaining),i=this.remaining[o.length];if(i!=="/"&&i!==")"&&i!==";")throw new F(4010,!1);let s;o.indexOf(":")>-1?(s=o.slice(0,o.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=ne);let a=this.parseChildren(n+1);r[s??ne]=Object.keys(a).length===1&&a[ne]?a[ne]:new Me([],a),this.consumeOptional("//")}return r}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new F(4011,!1)}};function JN(e){return e.segments.length>0?new Me([],{[ne]:e}):e}function QN(e){let t={};for(let[r,o]of Object.entries(e.children)){let i=QN(o);if(r===ne&&i.segments.length===0&&i.hasChildren())for(let[s,a]of Object.entries(i.children))t[s]=a;else(i.segments.length>0||i.hasChildren())&&(t[r]=i)}let n=new Me(e.segments,t);return W9(n)}function W9(e){if(e.numberOfChildren===1&&e.children[ne]){let t=e.children[ne];return new Me(e.segments.concat(t.segments),t.children)}return e}function sl(e){return e instanceof $r}function XN(e,t,n=null,r=null,o=new fi){let i=eF(e);return tF(i,t,n,r,o)}function eF(e){let t;function n(i){let s={};for(let c of i.children){let u=n(c);s[c.outlet]=u}let a=new Me(i.url,s);return i===e&&(t=a),a}let r=n(e.root),o=JN(r);return t??o}function tF(e,t,n,r,o){let i=e;for(;i.parent;)i=i.parent;if(t.length===0)return jS(i,i,i,n,r,o);let s=G9(t);if(s.toRoot())return jS(i,i,new Me([],{}),n,r,o);let a=K9(s,i,e),c=a.processChildren?Ff(a.segmentGroup,a.index,s.commands):rF(a.segmentGroup,a.index,s.commands);return jS(i,a.segmentGroup,c,n,r,o)}function sy(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function Lf(e){return typeof e=="object"&&e!=null&&e.outlets}function FN(e,t,n){e||="\u0275";let r=new $r;return r.queryParams={[e]:t},n.parse(n.serialize(r)).queryParams[e]}function jS(e,t,n,r,o,i){let s={};for(let[u,l]of Object.entries(r??{}))s[u]=Array.isArray(l)?l.map(f=>FN(u,f,i)):FN(u,l,i);let a;e===t?a=n:a=nF(e,t,n);let c=JN(QN(a));return new $r(c,s,o)}function nF(e,t,n){let r={};return Object.entries(e.children).forEach(([o,i])=>{i===t?r[o]=n:r[o]=nF(i,t,n)}),new Me(e.segments,r)}var ay=class{isAbsolute;numberOfDoubleDots;commands;constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&sy(r[0]))throw new F(4003,!1);let o=r.find(Lf);if(o&&o!==T9(r))throw new F(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function G9(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new ay(!0,0,e);let t=0,n=!1,r=e.reduce((o,i,s)=>{if(typeof i=="object"&&i!=null){if(i.outlets){let a={};return Object.entries(i.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...o,{outlets:a}]}if(i.segmentPath)return[...o,i.segmentPath]}return typeof i!="string"?[...o,i]:s===0?(i.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?t++:a!=""&&o.push(a))}),o):[...o,i]},[]);return new ay(n,t,r)}var rl=class{segmentGroup;processChildren;index;constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}};function K9(e,t,n){if(e.isAbsolute)return new rl(t,!0,0);if(!n)return new rl(t,!1,NaN);if(n.parent===null)return new rl(n,!0,0);let r=sy(e.commands[0])?0:1,o=n.segments.length-1+r;return Y9(n,o,e.numberOfDoubleDots)}function Y9(e,t,n){let r=e,o=t,i=n;for(;i>o;){if(i-=o,r=r.parent,!r)throw new F(4005,!1);o=r.segments.length}return new rl(r,!1,o-i)}function Z9(e){return Lf(e[0])?e[0].outlets:{[ne]:e}}function rF(e,t,n){if(e??=new Me([],{}),e.segments.length===0&&e.hasChildren())return Ff(e,t,n);let r=J9(e,t,n),o=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){let i=new Me(e.segments.slice(0,r.pathIndex),{});return i.children[ne]=new Me(e.segments.slice(r.pathIndex),e.children),Ff(i,0,o)}else return r.match&&o.length===0?new Me(e.segments,{}):r.match&&!e.hasChildren()?qS(e,t,n):r.match?Ff(e,0,o):qS(e,t,n)}function Ff(e,t,n){if(n.length===0)return new Me(e.segments,{});{let r=Z9(n),o={};if(Object.keys(r).some(i=>i!==ne)&&e.children[ne]&&e.numberOfChildren===1&&e.children[ne].segments.length===0){let i=Ff(e.children[ne],t,n);return new Me(e.segments,i.children)}return Object.entries(r).forEach(([i,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(o[i]=rF(e.children[i],t,s))}),Object.entries(e.children).forEach(([i,s])=>{r[i]===void 0&&(o[i]=s)}),new Me(e.segments,o)}}function J9(e,t,n){let r=0,o=t,i={match:!1,pathIndex:0,commandIndex:0};for(;o<e.segments.length;){if(r>=n.length)return i;let s=e.segments[o],a=n[r];if(Lf(a))break;let c=`${a}`,u=r<n.length-1?n[r+1]:null;if(o>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!LN(c,u,s))return i;r+=2}else{if(!LN(c,{},s))return i;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}function qS(e,t,n){let r=e.segments.slice(0,t),o=0;for(;o<n.length;){let i=n[o];if(Lf(i)){let c=Q9(i.outlets);return new Me(r,c)}if(o===0&&sy(n[0])){let c=e.segments[t];r.push(new ws(c.path,PN(n[0]))),o++;continue}let s=Lf(i)?i.outlets[ne]:`${i}`,a=o<n.length-1?n[o+1]:null;s&&a&&sy(a)?(r.push(new ws(s,PN(a))),o+=2):(r.push(new ws(s,{})),o++)}return new Me(r,{})}function Q9(e){let t={};return Object.entries(e).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(t[n]=qS(new Me([],{}),0,r))}),t}function PN(e){let t={};return Object.entries(e).forEach(([n,r])=>t[n]=`${r}`),t}function LN(e,t,n){return e==n.path&&Co(t,n.parameters)}var ol="imperative",Mt=(function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e})(Mt||{}),Hn=class{id;url;constructor(t,n){this.id=t,this.url=n}},Is=class extends Hn{type=Mt.NavigationStart;navigationTrigger;restoredState;constructor(t,n,r="imperative",o=null){super(t,n),this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},qr=class extends Hn{urlAfterRedirects;type=Mt.NavigationEnd;constructor(t,n,r){super(t,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},tn=(function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e[e.Aborted=4]="Aborted",e})(tn||{}),al=(function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e})(al||{}),sr=class extends Hn{reason;code;type=Mt.NavigationCancel;constructor(t,n,r,o){super(t,n),this.reason=r,this.code=o}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}};function oF(e){return e instanceof sr&&(e.code===tn.Redirect||e.code===tn.SupersededByNewNavigation)}var So=class extends Hn{reason;code;type=Mt.NavigationSkipped;constructor(t,n,r,o){super(t,n),this.reason=r,this.code=o}},Xa=class extends Hn{error;target;type=Mt.NavigationError;constructor(t,n,r,o){super(t,n),this.error=r,this.target=o}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},cl=class extends Hn{urlAfterRedirects;state;type=Mt.RoutesRecognized;constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},cy=class extends Hn{urlAfterRedirects;state;type=Mt.GuardsCheckStart;constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},uy=class extends Hn{urlAfterRedirects;state;shouldActivate;type=Mt.GuardsCheckEnd;constructor(t,n,r,o,i){super(t,n),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},ly=class extends Hn{urlAfterRedirects;state;type=Mt.ResolveStart;constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},dy=class extends Hn{urlAfterRedirects;state;type=Mt.ResolveEnd;constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},fy=class{route;type=Mt.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},py=class{route;type=Mt.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},hy=class{snapshot;type=Mt.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},my=class{snapshot;type=Mt.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},gy=class{snapshot;type=Mt.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},yy=class{snapshot;type=Mt.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ul=class{routerEvent;position;anchor;scrollBehavior;type=Mt.Scroll;constructor(t,n,r,o){this.routerEvent=t,this.position=n,this.anchor=r,this.scrollBehavior=o}toString(){let t=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${t}')`}},ll=class{},dl=class{url;navigationBehaviorOptions;constructor(t,n){this.url=t,this.navigationBehaviorOptions=n}};function X9(e){return!(e instanceof ll)&&!(e instanceof dl)}var vy=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return this.route?.snapshot._environmentInjector??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new nc(this.rootInjector)}},nc=(()=>{class e{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let o=this.getOrCreateContext(n);o.outlet=r,this.contexts.set(n,o)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new vy(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||e)(L(ze))};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),xy=class{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){let n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){let n=zS(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){let n=zS(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){let n=WS(t,this._root);return n.length<2?[]:n[n.length-2].children.map(o=>o.value).filter(o=>o!==t)}pathFromRoot(t){return WS(t,this._root).map(n=>n.value)}};function zS(e,t){if(e===t.value)return t;for(let n of t.children){let r=zS(e,n);if(r)return r}return null}function WS(e,t){if(e===t.value)return[t];for(let n of t.children){let r=WS(e,n);if(r.length)return r.unshift(t),r}return[]}var Bn=class{value;children;constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}};function nl(e){let t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}var jf=class extends xy{snapshot;constructor(t,n){super(t),this.snapshot=n,eD(this,t)}toString(){return this.snapshot.toString()}};function iF(e,t){let n=eK(e,t),r=new ct([new ws("",{})]),o=new ct({}),i=new ct({}),s=new ct({}),a=new ct(""),c=new pi(r,o,s,a,i,ne,e,n.root);return c.snapshot=n.root,new jf(new Bn(c,[]),n)}function eK(e,t){let n={},r={},o={},s=new Ja([],n,o,"",r,ne,e,null,{},t);return new Bf("",new Bn(s,[]))}var pi=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,n,r,o,i,s,a,c){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=o,this.dataSubject=i,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(W(u=>u[Uf]))??$(void 0),this.url=t,this.params=n,this.queryParams=r,this.fragment=o,this.data=i}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(W(t=>Qa(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(W(t=>Qa(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function by(e,t,n="emptyOnly"){let r,{routeConfig:o}=e;return t!==null&&(n==="always"||o?.path===""||!t.component&&!t.routeConfig?.loadComponent)?r={params:x(x({},t.params),e.params),data:x(x({},t.data),e.data),resolve:x(x(x(x({},e.data),t.data),o?.data),e._resolvedData)}:r={params:x({},e.params),data:x({},e.data),resolve:x(x({},e.data),e._resolvedData??{})},o&&aF(o)&&(r.resolve[Uf]=o.title),r}var Ja=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;_environmentInjector;get title(){return this.data?.[Uf]}constructor(t,n,r,o,i,s,a,c,u,l){this.url=t,this.params=n,this.queryParams=r,this.fragment=o,this.data=i,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=u,this._environmentInjector=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Qa(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Qa(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${n}')`}},Bf=class extends xy{url;constructor(t,n){super(n),this.url=t,eD(this,n)}toString(){return sF(this._root)}};function eD(e,t){t.value._routerState=e,t.children.forEach(n=>eD(e,n))}function sF(e){let t=e.children.length>0?` { ${e.children.map(sF).join(", ")} } `:"";return`${e.value}${t}`}function BS(e){if(e.snapshot){let t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,Co(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),Co(t.params,n.params)||e.paramsSubject.next(n.params),M9(t.url,n.url)||e.urlSubject.next(n.url),Co(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function GS(e,t){let n=Co(e.params,t.params)&&k9(e.url,t.url),r=!e.parent!=!t.parent;return n&&!r&&(!e.parent||GS(e.parent,t.parent))}function aF(e){return typeof e.title=="string"||e.title===null}var cF=new k(""),$f=(()=>{class e{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=ne;activateEvents=new Ft;deactivateEvents=new Ft;attachEvents=new Ft;detachEvents=new Ft;routerOutletData=_s();parentContexts=v(nc);location=v(Gu);changeDetector=v(bo);inputBinder=v(qf,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:o}=n.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new F(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new F(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new F(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new F(4013,!1);this._activatedRoute=n;let o=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new KS(n,a,o.injector,this.routerOutletData);this.activated=o.createComponent(s,{index:o.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||e)};static \u0275dir=en({type:e,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[qu]})}return e})(),KS=class{route;childContexts;parent;outletData;constructor(t,n,r,o){this.route=t,this.childContexts=n,this.parent=r,this.outletData=o}get(t,n){return t===pi?this.route:t===nc?this.childContexts:t===cF?this.outletData:this.parent.get(t,n)}},qf=new k(""),tD=(()=>{class e{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:r}=n,o=rs([r.queryParams,r.params,r.data]).pipe(yt(([i,s,a],c)=>(a=x(x(x({},i),s),a),c===0?$(a):Promise.resolve(a)))).subscribe(i=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(n);return}let s=iN(r.component);if(!s){this.unsubscribeFromRouteData(n);return}for(let{templateName:a}of s.inputs)n.activatedComponentRef.setInput(a,i[a])});this.outletDataSubscriptions.set(n,o)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac})}return e})(),nD=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275cmp=bn({type:e,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,o){r&1&&wt(0,"router-outlet")},dependencies:[$f],encapsulation:2})}return e})();function rD(e){let t=e.children&&e.children.map(rD),n=t?N(x({},e),{children:t}):x({},e);return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==ne&&(n.component=nD),n}function tK(e,t,n){let r=Hf(e,t._root,n?n._root:void 0);return new jf(r,t)}function Hf(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=t.value;let o=nK(e,t,n);return new Bn(r,o)}else{if(e.shouldAttach(t.value)){let i=e.retrieve(t.value);if(i!==null){let s=i.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>Hf(e,a)),s}}let r=rK(t.value),o=t.children.map(i=>Hf(e,i));return new Bn(r,o)}}function nK(e,t,n){return t.children.map(r=>{for(let o of n.children)if(e.shouldReuseRoute(r.value,o.value.snapshot))return Hf(e,r,o);return Hf(e,r)})}function rK(e){return new pi(new ct(e.url),new ct(e.params),new ct(e.queryParams),new ct(e.fragment),new ct(e.data),e.outlet,e.component,e)}var fl=class{redirectTo;navigationBehaviorOptions;constructor(t,n){this.redirectTo=t,this.navigationBehaviorOptions=n}},uF="ngNavigationCancelingError";function Ey(e,t){let{redirectTo:n,navigationBehaviorOptions:r}=sl(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,o=lF(!1,tn.Redirect);return o.url=n,o.navigationBehaviorOptions=r,o}function lF(e,t){let n=new Error(`NavigationCancelingError: ${e||""}`);return n[uF]=!0,n.cancellationCode=t,n}function oK(e){return dF(e)&&sl(e.url)}function dF(e){return!!e&&e[uF]}var YS=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,n,r,o,i){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=o,this.inputBindingEnabled=i}activate(t){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),BS(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){let o=nl(n);t.children.forEach(i=>{let s=i.value.outlet;this.deactivateRoutes(i,o[s],r),delete o[s]}),Object.values(o).forEach(i=>{this.deactivateRouteAndItsChildren(i,r)})}deactivateRoutes(t,n,r){let o=t.value,i=n?n.value:null;if(o===i)if(o.component){let s=r.getContext(o.outlet);s&&this.deactivateChildRoutes(t,n,s.children)}else this.deactivateChildRoutes(t,n,r);else i&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){let r=n.getContext(t.value.outlet),o=r&&t.value.component?r.children:n,i=nl(t);for(let s of Object.values(i))this.deactivateRouteAndItsChildren(s,o);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,n){let r=n.getContext(t.value.outlet),o=r&&t.value.component?r.children:n,i=nl(t);for(let s of Object.values(i))this.deactivateRouteAndItsChildren(s,o);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,n,r){let o=nl(n);t.children.forEach(i=>{this.activateRoutes(i,o[i.value.outlet],r),this.forwardEvent(new yy(i.value.snapshot))}),t.children.length&&this.forwardEvent(new my(t.value.snapshot))}activateRoutes(t,n,r){let o=t.value,i=n?n.value:null;if(BS(o),o===i)if(o.component){let s=r.getOrCreateContext(o.outlet);this.activateChildRoutes(t,n,s.children)}else this.activateChildRoutes(t,n,r);else if(o.component){let s=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){let a=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),BS(a.route.value),this.activateChildRoutes(t,null,s.children)}else s.attachRef=null,s.route=o,s.outlet&&s.outlet.activateWith(o,s.injector),this.activateChildRoutes(t,null,s.children)}else this.activateChildRoutes(t,null,r)}},_y=class{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},il=class{component;route;constructor(t,n){this.component=t,this.route=n}};function iK(e,t,n){let r=e._root,o=t?t._root:null;return Nf(r,o,n,[r.value])}function sK(e){let t=e.routeConfig?e.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:e,guards:t}}function hl(e,t){let n=Symbol(),r=t.get(e,n);return r===n?typeof e=="function"&&!r_(e)?e:t.get(e):r}function Nf(e,t,n,r,o={canDeactivateChecks:[],canActivateChecks:[]}){let i=nl(t);return e.children.forEach(s=>{aK(s,i[s.value.outlet],n,r.concat([s.value]),o),delete i[s.value.outlet]}),Object.entries(i).forEach(([s,a])=>Pf(a,n.getContext(s),o)),o}function aK(e,t,n,r,o={canDeactivateChecks:[],canActivateChecks:[]}){let i=e.value,s=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(s&&i.routeConfig===s.routeConfig){let c=cK(s,i,i.routeConfig.runGuardsAndResolvers);c?o.canActivateChecks.push(new _y(r)):(i.data=s.data,i._resolvedData=s._resolvedData),i.component?Nf(e,t,a?a.children:null,r,o):Nf(e,t,n,r,o),c&&a&&a.outlet&&a.outlet.isActivated&&o.canDeactivateChecks.push(new il(a.outlet.component,s))}else s&&Pf(t,a,o),o.canActivateChecks.push(new _y(r)),i.component?Nf(e,null,a?a.children:null,r,o):Nf(e,null,n,r,o);return o}function cK(e,t,n){if(typeof n=="function")return St(t._environmentInjector,()=>n(e,t));switch(n){case"pathParamsChange":return!Za(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Za(e.url,t.url)||!Co(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!GS(e,t)||!Co(e.queryParams,t.queryParams);default:return!GS(e,t)}}function Pf(e,t,n){let r=nl(e),o=e.value;Object.entries(r).forEach(([i,s])=>{o.component?t?Pf(s,t.children.getContext(i),n):Pf(s,null,n):Pf(s,t,n)}),o.component?t&&t.outlet&&t.outlet.isActivated?n.canDeactivateChecks.push(new il(t.outlet.component,o)):n.canDeactivateChecks.push(new il(null,o)):n.canDeactivateChecks.push(new il(null,o))}function zf(e){return typeof e=="function"}function uK(e){return typeof e=="boolean"}function lK(e){return e&&zf(e.canLoad)}function dK(e){return e&&zf(e.canActivate)}function fK(e){return e&&zf(e.canActivateChild)}function pK(e){return e&&zf(e.canDeactivate)}function hK(e){return e&&zf(e.canMatch)}function fF(e){return e instanceof Jo||e?.name==="EmptyError"}var ty=Symbol("INITIAL_VALUE");function pl(){return yt(e=>rs(e.map(t=>t.pipe(Nt(1),as(ty)))).pipe(W(t=>{for(let n of t)if(n!==!0){if(n===ty)return ty;if(n===!1||mK(n))return n}return!0}),ut(t=>t!==ty),Nt(1)))}function mK(e){return sl(e)||e instanceof fl}function pF(e){return e.aborted?$(void 0).pipe(Nt(1)):new re(t=>{let n=()=>{t.next(),t.complete()};return e.addEventListener("abort",n),()=>e.removeEventListener("abort",n)})}function hF(e){return Mr(pF(e))}function gK(e){return Ct(t=>{let{targetSnapshot:n,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:i}}=t;return i.length===0&&o.length===0?$(N(x({},t),{guardsResult:!0})):yK(i,n,r).pipe(Ct(s=>s&&uK(s)?vK(n,o,e):$(s)),W(s=>N(x({},t),{guardsResult:s})))})}function yK(e,t,n){return Ve(e).pipe(Ct(r=>CK(r.component,r.route,n,t)),Qo(r=>r!==!0,!0))}function vK(e,t,n){return Ve(t).pipe(co(r=>Ir(bK(r.route.parent,n),xK(r.route,n),_K(e,r.path),EK(e,r.route))),Qo(r=>r!==!0,!0))}function xK(e,t){return e!==null&&t&&t(new gy(e)),$(!0)}function bK(e,t){return e!==null&&t&&t(new hy(e)),$(!0)}function EK(e,t){let n=t.routeConfig?t.routeConfig.canActivate:null;if(!n||n.length===0)return $(!0);let r=n.map(o=>is(()=>{let i=t._environmentInjector,s=hl(o,i),a=dK(s)?s.canActivate(t,e):St(i,()=>s(t,e));return ec(a).pipe(Qo())}));return $(r).pipe(pl())}function _K(e,t){let n=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(i=>sK(i)).filter(i=>i!==null).map(i=>is(()=>{let s=i.guards.map(a=>{let c=i.node._environmentInjector,u=hl(a,c),l=fK(u)?u.canActivateChild(n,e):St(c,()=>u(n,e));return ec(l).pipe(Qo())});return $(s).pipe(pl())}));return $(o).pipe(pl())}function CK(e,t,n,r){let o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||o.length===0)return $(!0);let i=o.map(s=>{let a=t._environmentInjector,c=hl(s,a),u=pK(c)?c.canDeactivate(e,t,n,r):St(a,()=>c(e,t,n,r));return ec(u).pipe(Qo())});return $(i).pipe(pl())}function SK(e,t,n,r,o){let i=t.canLoad;if(i===void 0||i.length===0)return $(!0);let s=i.map(a=>{let c=hl(a,e),u=lK(c)?c.canLoad(t,n):St(e,()=>c(t,n)),l=ec(u);return o?l.pipe(hF(o)):l});return $(s).pipe(pl(),mF(r))}function mF(e){return TE(an(t=>{if(typeof t!="boolean")throw Ey(e,t)}),W(t=>t===!0))}function DK(e,t,n,r,o){let i=t.canMatch;if(!i||i.length===0)return $(!0);let s=i.map(a=>{let c=hl(a,e),u=hK(c)?c.canMatch(t,n):St(e,()=>c(t,n));return ec(u).pipe(hF(o))});return $(s).pipe(pl(),mF(r))}var di=class e extends Error{segmentGroup;constructor(t){super(),this.segmentGroup=t||null,Object.setPrototypeOf(this,e.prototype)}},Vf=class e extends Error{urlTree;constructor(t){super(),this.urlTree=t,Object.setPrototypeOf(this,e.prototype)}};function wK(e){throw new F(4e3,!1)}function IK(e){throw lF(!1,tn.GuardRejected)}var ZS=class{urlSerializer;urlTree;constructor(t,n){this.urlSerializer=t,this.urlTree=n}lineralizeSegments(t,n){return be(this,null,function*(){let r=[],o=n.root;for(;;){if(r=r.concat(o.segments),o.numberOfChildren===0)return r;if(o.numberOfChildren>1||!o.children[ne])throw wK(`${t.redirectTo}`);o=o.children[ne]}})}applyRedirectCommands(t,n,r,o,i){return be(this,null,function*(){let s=yield MK(n,o,i);if(s instanceof $r)throw new Vf(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),t,r);if(s[0]==="/")throw new Vf(a);return a})}applyRedirectCreateUrlTree(t,n,r,o){let i=this.createSegmentGroup(t,n.root,r,o);return new $r(i,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){let r={};return Object.entries(t).forEach(([o,i])=>{if(typeof i=="string"&&i[0]===":"){let a=i.substring(1);r[o]=n[a]}else r[o]=i}),r}createSegmentGroup(t,n,r,o){let i=this.createSegments(t,n.segments,r,o),s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(t,c,r,o)}),new Me(i,s)}createSegments(t,n,r,o){return n.map(i=>i.path[0]===":"?this.findPosParam(t,i,o):this.findOrReturn(i,r))}findPosParam(t,n,r){let o=r[n.path.substring(1)];if(!o)throw new F(4001,!1);return o}findOrReturn(t,n){let r=0;for(let o of n){if(o.path===t.path)return n.splice(r),o;r++}return t}};function MK(e,t,n){if(typeof e=="string")return Promise.resolve(e);let r=e,{queryParams:o,fragment:i,routeConfig:s,url:a,outlet:c,params:u,data:l,title:f,paramMap:p,queryParamMap:h}=t;return iy(ec(St(n,()=>r({params:u,data:l,queryParams:o,fragment:i,routeConfig:s,url:a,outlet:c,title:f,paramMap:p,queryParamMap:h}))))}function TK(e,t){return e.providers&&!e._injector&&(e._injector=Ku(e.providers,t,`Route: ${e.path}`)),e._injector??t}function Ur(e){return e.outlet||ne}function OK(e,t){let n=e.filter(r=>Ur(r)===t);return n.push(...e.filter(r=>Ur(r)!==t)),n}var JS={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function RK(e,t,n,r,o,i){let s=gF(e,t,n);return s.matched?(r=TK(t,r),DK(r,t,n,o,i).pipe(W(a=>a===!0?s:x({},JS)))):$(s)}function gF(e,t,n){if(t.path==="")return t.pathMatch==="full"&&(e.hasChildren()||n.length>0)?x({},JS):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let o=(t.matcher||UN)(n,e,t);if(!o)return x({},JS);let i={};Object.entries(o.posParams??{}).forEach(([a,c])=>{i[a]=c.path});let s=o.consumed.length>0?x(x({},i),o.consumed[o.consumed.length-1].parameters):i;return{matched:!0,consumedSegments:o.consumed,remainingSegments:n.slice(o.consumed.length),parameters:s,positionalParamSegments:o.posParams??{}}}function jN(e,t,n,r){return n.length>0&&NK(e,n,r)?{segmentGroup:new Me(t,kK(r,new Me(n,e.children))),slicedSegments:[]}:n.length===0&&FK(e,n,r)?{segmentGroup:new Me(e.segments,AK(e,n,r,e.children)),slicedSegments:n}:{segmentGroup:new Me(e.segments,e.children),slicedSegments:n}}function AK(e,t,n,r){let o={};for(let i of n)if(Sy(e,t,i)&&!r[Ur(i)]){let s=new Me([],{});o[Ur(i)]=s}return x(x({},r),o)}function kK(e,t){let n={};n[ne]=t;for(let r of e)if(r.path===""&&Ur(r)!==ne){let o=new Me([],{});n[Ur(r)]=o}return n}function NK(e,t,n){return n.some(r=>Sy(e,t,r)&&Ur(r)!==ne)}function FK(e,t,n){return n.some(r=>Sy(e,t,r))}function Sy(e,t,n){return(e.hasChildren()||t.length>0)&&n.pathMatch==="full"?!1:n.path===""}function PK(e,t,n){return t.length===0&&!e.children[n]}var QS=class{};function LK(e,t,n,r,o,i,s="emptyOnly",a){return be(this,null,function*(){return new XS(e,t,n,r,o,s,i,a).recognize()})}var jK=31,XS=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;abortSignal;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,n,r,o,i,s,a,c){this.injector=t,this.configLoader=n,this.rootComponentType=r,this.config=o,this.urlTree=i,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.abortSignal=c,this.applyRedirects=new ZS(this.urlSerializer,this.urlTree)}noMatchError(t){return new F(4002,`'${t.segmentGroup}'`)}recognize(){return be(this,null,function*(){let t=jN(this.urlTree.root,[],[],this.config).segmentGroup,{children:n,rootSnapshot:r}=yield this.match(t),o=new Bn(r,n),i=new Bf("",o),s=XN(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,i.url=this.urlSerializer.serialize(s),{state:i,tree:s}})}match(t){return be(this,null,function*(){let n=new Ja([],Object.freeze({}),Object.freeze(x({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ne,this.rootComponentType,null,{},this.injector);try{return{children:yield this.processSegmentGroup(this.injector,this.config,t,ne,n),rootSnapshot:n}}catch(r){if(r instanceof Vf)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof di?this.noMatchError(r):r}})}processSegmentGroup(t,n,r,o,i){return be(this,null,function*(){if(r.segments.length===0&&r.hasChildren())return this.processChildren(t,n,r,i);let s=yield this.processSegment(t,n,r,r.segments,o,!0,i);return s instanceof Bn?[s]:[]})}processChildren(t,n,r,o){return be(this,null,function*(){let i=[];for(let c of Object.keys(r.children))c==="primary"?i.unshift(c):i.push(c);let s=[];for(let c of i){let u=r.children[c],l=OK(n,c),f=yield this.processSegmentGroup(t,l,u,c,o);s.push(...f)}let a=yF(s);return BK(a),a})}processSegment(t,n,r,o,i,s,a){return be(this,null,function*(){for(let c of n)try{return yield this.processSegmentAgainstRoute(c._injector??t,n,c,r,o,i,s,a)}catch(u){if(u instanceof di||fF(u))continue;throw u}if(PK(r,o,i))return new QS;throw new di(r)})}processSegmentAgainstRoute(t,n,r,o,i,s,a,c){return be(this,null,function*(){if(Ur(r)!==s&&(s===ne||!Sy(o,i,r)))throw new di(o);if(r.redirectTo===void 0)return this.matchSegmentAgainstRoute(t,o,r,i,s,c);if(this.allowRedirects&&a)return this.expandSegmentAgainstRouteUsingRedirect(t,o,n,r,i,s,c);throw new di(o)})}expandSegmentAgainstRouteUsingRedirect(t,n,r,o,i,s,a){return be(this,null,function*(){let{matched:c,parameters:u,consumedSegments:l,positionalParamSegments:f,remainingSegments:p}=gF(n,o,i);if(!c)throw new di(n);typeof o.redirectTo=="string"&&o.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>jK&&(this.allowRedirects=!1));let h=new Ja(i,u,Object.freeze(x({},this.urlTree.queryParams)),this.urlTree.fragment,BN(o),Ur(o),o.component??o._loadedComponent??null,o,HN(o),t),y=by(h,a,this.paramsInheritanceStrategy);if(h.params=Object.freeze(y.params),h.data=Object.freeze(y.data),this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let S=yield this.applyRedirects.applyRedirectCommands(l,o.redirectTo,f,h,t),I=yield this.applyRedirects.lineralizeSegments(o,S);return this.processSegment(t,r,n,I.concat(p),s,!1,a)})}matchSegmentAgainstRoute(t,n,r,o,i,s){return be(this,null,function*(){if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let a=yield iy(RK(n,r,o,t,this.urlSerializer,this.abortSignal));if(r.path==="**"&&(n.children={}),!a?.matched)throw new di(n);t=r._injector??t;let{routes:c}=yield this.getChildConfig(t,r,o),u=r._loadedInjector??t,{parameters:l,consumedSegments:f,remainingSegments:p}=a,h=new Ja(f,l,Object.freeze(x({},this.urlTree.queryParams)),this.urlTree.fragment,BN(r),Ur(r),r.component??r._loadedComponent??null,r,HN(r),t),y=by(h,s,this.paramsInheritanceStrategy);h.params=Object.freeze(y.params),h.data=Object.freeze(y.data);let{segmentGroup:S,slicedSegments:I}=jN(n,f,p,c);if(I.length===0&&S.hasChildren()){let qe=yield this.processChildren(u,c,S,h);return new Bn(h,qe)}if(c.length===0&&I.length===0)return new Bn(h,[]);let O=Ur(r)===i,K=yield this.processSegment(u,c,S,I,O?ne:i,!0,h);return new Bn(h,K instanceof Bn?[K]:[])})}getChildConfig(t,n,r){return be(this,null,function*(){if(n.children)return{routes:n.children,injector:t};if(n.loadChildren){if(n._loadedRoutes!==void 0){let i=n._loadedNgModuleFactory;return i&&!n._loadedInjector&&(n._loadedInjector=i.create(t).injector),{routes:n._loadedRoutes,injector:n._loadedInjector}}if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);if(yield iy(SK(t,n,r,this.urlSerializer,this.abortSignal))){let i=yield this.configLoader.loadChildren(t,n);return n._loadedRoutes=i.routes,n._loadedInjector=i.injector,n._loadedNgModuleFactory=i.factory,i}throw IK(n)}return{routes:[],injector:t}})}};function BK(e){e.sort((t,n)=>t.value.outlet===ne?-1:n.value.outlet===ne?1:t.value.outlet.localeCompare(n.value.outlet))}function HK(e){let t=e.value.routeConfig;return t&&t.path===""}function yF(e){let t=[],n=new Set;for(let r of e){if(!HK(r)){t.push(r);continue}let o=t.find(i=>r.value.routeConfig===i.value.routeConfig);o!==void 0?(o.children.push(...r.children),n.add(o)):t.push(r)}for(let r of n){let o=yF(r.children);t.push(new Bn(r.value,o))}return t.filter(r=>!n.has(r))}function BN(e){return e.data||{}}function HN(e){return e.resolve||{}}function VK(e,t,n,r,o,i,s){return Ct(a=>be(null,null,function*(){let{state:c,tree:u}=yield LK(e,t,n,r,a.extractedUrl,o,i,s);return N(x({},a),{targetSnapshot:c,urlAfterRedirects:u})}))}function UK(e){return Ct(t=>{let{targetSnapshot:n,guards:{canActivateChecks:r}}=t;if(!r.length)return $(t);let o=new Set(r.map(a=>a.route)),i=new Set;for(let a of o)if(!i.has(a))for(let c of vF(a))i.add(c);let s=0;return Ve(i).pipe(co(a=>o.has(a)?$K(a,n,e):(a.data=by(a,a.parent,e).resolve,$(void 0))),an(()=>s++),mm(1),Ct(a=>s===i.size?$(t):_t))})}function vF(e){let t=e.children.map(n=>vF(n)).flat();return[e,...t]}function $K(e,t,n){let r=e.routeConfig,o=e._resolve;return r?.title!==void 0&&!aF(r)&&(o[Uf]=r.title),is(()=>(e.data=by(e,e.parent,n).resolve,qK(o,e,t).pipe(W(i=>(e._resolvedData=i,e.data=x(x({},e.data),i),null)))))}function qK(e,t,n){let r=VS(e);if(r.length===0)return $({});let o={};return Ve(r).pipe(Ct(i=>zK(e[i],t,n).pipe(Qo(),an(s=>{if(s instanceof fl)throw Ey(new fi,s);o[i]=s}))),mm(1),W(()=>o),Iu(i=>fF(i)?_t:NE(i)))}function zK(e,t,n){let r=t._environmentInjector,o=hl(e,r),i=o.resolve?o.resolve(t,n):St(r,()=>o(t,n));return ec(i)}function VN(e){return yt(t=>{let n=e(t);return n?Ve(n).pipe(W(()=>t)):$(t)})}var oD=(()=>{class e{buildTitle(n){let r,o=n.root;for(;o!==void 0;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(i=>i.outlet===ne);return r}getResolvedTitleForRoute(n){return n.data[Uf]}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:()=>v(xF),providedIn:"root"})}return e})(),xF=(()=>{class e extends oD{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||e)(L(RN))};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),rc=new k("",{factory:()=>({})}),oc=new k(""),Dy=(()=>{class e{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=v(cS);loadComponent(n,r){return be(this,null,function*(){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return Promise.resolve(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let o=be(this,null,function*(){try{let i=yield qN(St(n,()=>r.loadComponent())),s=yield _F(EF(i));return this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s,s}finally{this.componentLoaders.delete(r)}});return this.componentLoaders.set(r,o),o})}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Promise.resolve({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=be(this,null,function*(){try{let i=yield bF(r,this.compiler,n,this.onLoadEndListener);return r._loadedRoutes=i.routes,r._loadedInjector=i.injector,r._loadedNgModuleFactory=i.factory,i}finally{this.childrenLoaders.delete(r)}});return this.childrenLoaders.set(r,o),o}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function bF(e,t,n,r){return be(this,null,function*(){let o=yield qN(St(n,()=>e.loadChildren())),i=yield _F(EF(o)),s;i instanceof Cg||Array.isArray(i)?s=i:s=yield t.compileModuleAsync(i),r&&r(e);let a,c,u=!1,l;return Array.isArray(s)?(c=s,u=!0):(a=s.create(n).injector,l=s,c=a.get(oc,[],{optional:!0,self:!0}).flat()),{routes:c.map(rD),injector:a,factory:l}})}function WK(e){return e&&typeof e=="object"&&"default"in e}function EF(e){return WK(e)?e.default:e}function _F(e){return be(this,null,function*(){return e})}var wy=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:()=>v(GK),providedIn:"root"})}return e})(),GK=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),iD=new k(""),sD=new k("");function CF(e,t,n){let r=e.get(sD),o=e.get(Ue);if(!o.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(u=>setTimeout(u));let i,s=new Promise(u=>{i=u}),a=o.startViewTransition(()=>(i(),KK(e)));a.updateCallbackDone.catch(u=>{}),a.ready.catch(u=>{}),a.finished.catch(u=>{});let{onViewTransitionCreated:c}=r;return c&&St(e,()=>c({transition:a,from:t,to:n})),s}function KK(e){return new Promise(t=>{Wu({read:()=>setTimeout(t)},{injector:e})})}var YK=()=>{},aD=new k(""),Iy=(()=>{class e{currentNavigation=Nr(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=Nr(null);events=new ve;transitionAbortWithErrorSubject=new ve;configLoader=v(Dy);environmentInjector=v(ze);destroyRef=v(jt);urlSerializer=v(tc);rootContexts=v(nc);location=v(Cs);inputBindingEnabled=v(qf,{optional:!0})!==null;titleStrategy=v(oD);options=v(rc,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=v(wy);createViewTransition=v(iD,{optional:!0});navigationErrorHandler=v(aD,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>$(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=o=>this.events.next(new fy(o)),r=o=>this.events.next(new py(o));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;Xt(()=>{this.transitions?.next(N(x({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))})}setupNavigations(n){return this.transitions=new ct(null),this.transitions.pipe(ut(r=>r!==null),yt(r=>{let o=!1,i=new AbortController,s=()=>!o&&this.currentTransition?.id===r.id;return $(r).pipe(yt(a=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",tn.SupersededByNewNavigation),_t;this.currentTransition=r;let c=this.lastSuccessfulNavigation();this.currentNavigation.set({id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,targetBrowserUrl:typeof a.extras.browserUrl=="string"?this.urlSerializer.parse(a.extras.browserUrl):a.extras.browserUrl,trigger:a.source,extras:a.extras,previousNavigation:c?N(x({},c),{previousNavigation:null}):null,abort:()=>i.abort()});let u=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),l=a.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!u&&l!=="reload")return this.events.next(new So(a.id,this.urlSerializer.serialize(a.rawUrl),"",al.IgnoredSameUrlNavigation)),a.resolve(!1),_t;if(this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return $(a).pipe(yt(f=>(this.events.next(new Is(f.id,this.urlSerializer.serialize(f.extractedUrl),f.source,f.restoredState)),f.id!==this.navigationId?_t:Promise.resolve(f))),VK(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy,i.signal),an(f=>{r.targetSnapshot=f.targetSnapshot,r.urlAfterRedirects=f.urlAfterRedirects,this.currentNavigation.update(h=>(h.finalUrl=f.urlAfterRedirects,h));let p=new cl(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(p)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(a.currentRawUrl)){let{id:f,extractedUrl:p,source:h,restoredState:y,extras:S}=a,I=new Is(f,this.urlSerializer.serialize(p),h,y);this.events.next(I);let O=iF(this.rootComponentType,this.environmentInjector).snapshot;return this.currentTransition=r=N(x({},a),{targetSnapshot:O,urlAfterRedirects:p,extras:N(x({},S),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(K=>(K.finalUrl=p,K)),$(r)}else return this.events.next(new So(a.id,this.urlSerializer.serialize(a.extractedUrl),"",al.IgnoredByUrlHandlingStrategy)),a.resolve(!1),_t}),W(a=>{let c=new cy(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);return this.events.next(c),this.currentTransition=r=N(x({},a),{guards:iK(a.targetSnapshot,a.currentSnapshot,this.rootContexts)}),r}),gK(a=>this.events.next(a)),yt(a=>{if(r.guardsResult=a.guardsResult,a.guardsResult&&typeof a.guardsResult!="boolean")throw Ey(this.urlSerializer,a.guardsResult);let c=new uy(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);if(this.events.next(c),!s())return _t;if(!a.guardsResult)return this.cancelNavigationTransition(a,"",tn.GuardRejected),_t;if(a.guards.canActivateChecks.length===0)return $(a);let u=new ly(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);if(this.events.next(u),!s())return _t;let l=!1;return $(a).pipe(UK(this.paramsInheritanceStrategy),an({next:()=>{l=!0;let f=new dy(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(f)},complete:()=>{l||this.cancelNavigationTransition(a,"",tn.NoDataFromResolver)}}))}),VN(a=>{let c=l=>{let f=[];if(l.routeConfig?._loadedComponent)l.component=l.routeConfig?._loadedComponent;else if(l.routeConfig?.loadComponent){let p=l._environmentInjector;f.push(this.configLoader.loadComponent(p,l.routeConfig).then(h=>{l.component=h}))}for(let p of l.children)f.push(...c(p));return f},u=c(a.targetSnapshot.root);return u.length===0?$(a):Ve(Promise.all(u).then(()=>a))}),VN(()=>this.afterPreactivation()),yt(()=>{let{currentSnapshot:a,targetSnapshot:c}=r,u=this.createViewTransition?.(this.environmentInjector,a.root,c.root);return u?Ve(u).pipe(W(()=>r)):$(r)}),Nt(1),W(a=>{let c=tK(n.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);this.currentTransition=r=a=N(x({},a),{targetRouterState:c}),this.currentNavigation.update(u=>(u.targetRouterState=c,u)),this.events.next(new ll),s()&&(new YS(n.routeReuseStrategy,r.targetRouterState,r.currentRouterState,u=>this.events.next(u),this.inputBindingEnabled).activate(this.rootContexts),s()&&(o=!0,this.currentNavigation.update(u=>(u.abort=YK,u)),this.lastSuccessfulNavigation.set(Xt(this.currentNavigation)),this.events.next(new qr(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects))),this.titleStrategy?.updateTitle(a.targetRouterState.snapshot),a.resolve(!0)))}),Mr(pF(i.signal).pipe(ut(()=>!o&&!r.targetRouterState),an(()=>{this.cancelNavigationTransition(r,i.signal.reason+"",tn.Aborted)}))),an({complete:()=>{o=!0}}),Mr(this.transitionAbortWithErrorSubject.pipe(an(a=>{throw a}))),ss(()=>{i.abort(),o||this.cancelNavigationTransition(r,"",tn.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),Iu(a=>{if(o=!0,this.destroyed)return r.resolve(!1),_t;if(dF(a))this.events.next(new sr(r.id,this.urlSerializer.serialize(r.extractedUrl),a.message,a.cancellationCode)),oK(a)?this.events.next(new dl(a.url,a.navigationBehaviorOptions)):r.resolve(!1);else{let c=new Xa(r.id,this.urlSerializer.serialize(r.extractedUrl),a,r.targetSnapshot??void 0);try{let u=St(this.environmentInjector,()=>this.navigationErrorHandler?.(c));if(u instanceof fl){let{message:l,cancellationCode:f}=Ey(this.urlSerializer,u);this.events.next(new sr(r.id,this.urlSerializer.serialize(r.extractedUrl),l,f)),this.events.next(new dl(u.redirectTo,u.navigationBehaviorOptions))}else throw this.events.next(c),a}catch(u){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(u)}}return _t}))}))}cancelNavigationTransition(n,r,o){let i=new sr(n.id,this.urlSerializer.serialize(n.extractedUrl),r,o);this.events.next(i),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=Xt(this.currentNavigation),o=r?.targetBrowserUrl??r?.extractedUrl;return n.toString()!==o?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function ZK(e){return e!==ol}var SF=new k("");var DF=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:()=>v(JK),providedIn:"root"})}return e})(),Cy=class{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}shouldDestroyInjector(t){return!0}},JK=(()=>{class e extends Cy{static \u0275fac=(()=>{let n;return function(o){return(n||(n=xn(e)))(o||e)}})();static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),cD=(()=>{class e{urlSerializer=v(tc);options=v(rc,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=v(Cs);urlHandlingStrategy=v(wy);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new $r;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:r,targetBrowserUrl:o}){let i=n!==void 0?this.urlHandlingStrategy.merge(n,r):r,s=o??i;return s instanceof $r?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:n,finalUrl:r,initialUrl:o}){r&&n?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,o),this.routerState=n):this.rawUrlTree=o}routerState=iF(null,v(ze));getRouterState(){return this.routerState}_stateMemento=this.createStateMemento();get stateMemento(){return this._stateMemento}updateStateMemento(){this._stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}restoredState(){return this.location.getState()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:()=>v(QK),providedIn:"root"})}return e})(),QK=(()=>{class e extends cD{currentPageId=0;lastSuccessfulId=-1;get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{n(r.url,r.state,"popstate")})})}handleRouterEvent(n,r){n instanceof Is?this.updateStateMemento():n instanceof So?this.commitTransition(r):n instanceof cl?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof ll?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof sr&&!oF(n)?this.restoreHistory(r):n instanceof Xa?this.restoreHistory(r,!0):n instanceof qr&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:r,id:o}){let{replaceUrl:i,state:s}=r;if(this.location.isCurrentPathEqualTo(n)||i){let a=this.browserPageId,c=x(x({},s),this.generateNgRouterState(o,a));this.location.replaceState(n,"",c)}else{let a=x(x({},s),this.generateNgRouterState(o,this.browserPageId+1));this.location.go(n,"",a)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,i=this.currentPageId-o;i!==0?this.location.historyGo(i):this.getCurrentUrlTree()===n.finalUrl&&i===0&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(o){return(n||(n=xn(e)))(o||e)}})();static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function My(e,t){e.events.pipe(ut(n=>n instanceof qr||n instanceof sr||n instanceof Xa||n instanceof So),W(n=>n instanceof qr||n instanceof So?0:(n instanceof sr?n.code===tn.Redirect||n.code===tn.SupersededByNewNavigation:!1)?2:1),ut(n=>n!==2),Nt(1)).subscribe(()=>{t()})}var wF={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},IF={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Do=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=v(QC);stateManager=v(cD);options=v(rc,{optional:!0})||{};pendingTasks=v(mo);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=v(Iy);urlSerializer=v(tc);location=v(Cs);urlHandlingStrategy=v(wy);injector=v(ze);_events=new ve;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=v(DF);injectorCleanup=v(SF,{optional:!0});onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=v(oc,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!v(qf,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{}}),this.subscribeToNavigationEvents()}eventsSubscription=new at;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let o=this.navigationTransitions.currentTransition,i=Xt(this.navigationTransitions.currentNavigation);if(o!==null&&i!==null){if(this.stateManager.handleRouterEvent(r,i),r instanceof sr&&r.code!==tn.Redirect&&r.code!==tn.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof qr)this.navigated=!0,this.injectorCleanup?.(this.routeReuseStrategy,this.routerState,this.config);else if(r instanceof dl){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,o.currentRawUrl),c=x({scroll:o.extras.scroll,browserUrl:o.extras.browserUrl,info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||this.urlUpdateStrategy==="eager"||ZK(o.source)},s);this.scheduleNavigation(a,ol,null,c,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}X9(r)&&this._events.next(r)}catch(o){this.navigationTransitions.transitionAbortWithErrorSubject.next(o)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ol,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r,o)=>{this.navigateToSyncWithBrowser(n,o,r)})}navigateToSyncWithBrowser(n,r,o){let i={replaceUrl:!0},s=o?.navigationId?o:null;if(o){let c=x({},o);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(i.state=c)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,i).catch(c=>{this.disposed||this.injector.get(jn)(c)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return Xt(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(rD),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription?.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0,this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:o,queryParams:i,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,u=c?this.currentUrlTree.fragment:s,l=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":l=x(x({},this.currentUrlTree.queryParams),i);break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=i||null}l!==null&&(l=this.removeEmptyProps(l));let f;try{let p=o?o.snapshot:this.routerState.snapshot.root;f=eF(p)}catch(p){(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),f=this.currentUrlTree.root}return tF(f,n,l,u??null,this.urlSerializer)}navigateByUrl(n,r={skipLocationChange:!1}){let o=sl(n)?n:this.parseUrl(n),i=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(i,ol,null,r)}navigate(n,r={skipLocationChange:!1}){return XK(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch(r){return this.console.warn(Tr(4018,!1)),this.urlSerializer.parse("/")}}isActive(n,r){let o;if(r===!0?o=x({},wF):r===!1?o=x({},IF):o=r,sl(n))return kN(this.currentUrlTree,n,o);let i=this.parseUrl(n);return kN(this.currentUrlTree,i,o)}removeEmptyProps(n){return Object.entries(n).reduce((r,[o,i])=>(i!=null&&(r[o]=i),r),{})}scheduleNavigation(n,r,o,i,s){if(this.disposed)return Promise.resolve(!1);let a,c,u;s?(a=s.resolve,c=s.reject,u=s.promise):u=new Promise((f,p)=>{a=f,c=p});let l=this.pendingTasks.add();return My(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(l))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:i,resolve:a,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(Promise.reject.bind(Promise))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function XK(e){for(let t=0;t<e.length;t++)if(e[t]==null)throw new F(4008,!1)}var Wf=class{};var MF=(()=>{class e{router;injector;preloadingStrategy;loader;subscription;constructor(n,r,o,i){this.router=n,this.injector=r,this.preloadingStrategy=o,this.loader=i}setUpPreloading(){this.subscription=this.router.events.pipe(ut(n=>n instanceof qr),co(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription?.unsubscribe()}processRoutes(n,r){let o=[];for(let i of r){i.providers&&!i._injector&&(i._injector=Ku(i.providers,n,""));let s=i._injector??n;i._loadedNgModuleFactory&&!i._loadedInjector&&(i._loadedInjector=i._loadedNgModuleFactory.create(s).injector);let a=i._loadedInjector??s;(i.loadChildren&&!i._loadedRoutes&&i.canLoad===void 0||i.loadComponent&&!i._loadedComponent)&&o.push(this.preloadConfig(s,i)),(i.children||i._loadedRoutes)&&o.push(this.processRoutes(a,i.children??i._loadedRoutes))}return Ve(o).pipe(os())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{if(n.destroyed)return $(null);let o;r.loadChildren&&r.canLoad===void 0?o=Ve(this.loader.loadChildren(n,r)):o=$(null);let i=o.pipe(Ct(s=>s===null?$(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,r._loadedNgModuleFactory=s.factory,this.processRoutes(s.injector??n,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(n,r);return Ve([i,s]).pipe(os())}else return i})}static \u0275fac=function(r){return new(r||e)(L(Do),L(ze),L(Wf),L(Dy))};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),TF=new k(""),tY=(()=>{class e{options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource=ol;restoredId=0;store={};urlSerializer=v(tc);zone=v(we);viewportScroller=v(vS);transitions=v(Iy);constructor(n){this.options=n,this.options.scrollPositionRestoration||="disabled",this.options.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Is?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof qr?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof So&&n.code===al.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{if(!(n instanceof ul)||n.scrollBehavior==="manual")return;let r={behavior:"instant"};n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0],r):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position,r):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0])})}scheduleScrollEvent(n,r){let o=Xt(this.transitions.currentNavigation)?.extras.scroll;this.zone.runOutsideAngular(()=>be(this,null,function*(){yield new Promise(i=>{setTimeout(i),typeof requestAnimationFrame<"u"&&requestAnimationFrame(i)}),this.zone.run(()=>{this.transitions.events.next(new ul(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,r,o))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){KC()};static \u0275prov=D({token:e,factory:e.\u0275fac})}return e})();function lD(e,...t){return fs([{provide:oc,multi:!0,useValue:e},[],{provide:pi,useFactory:OF},{provide:yf,multi:!0,useFactory:RF},t.map(n=>n.\u0275providers)])}function OF(){return v(Do).routerState.root}function ml(e,t){return{\u0275kind:e,\u0275providers:t}}function RF(){let e=v(Lt);return t=>{let n=e.get(Br);if(t!==n.components[0])return;let r=e.get(Do),o=e.get(AF);e.get(dD)===1&&r.initialNavigation(),e.get(FF,null,{optional:!0})?.setUpPreloading(),e.get(TF,null,{optional:!0})?.init(),r.resetRootComponentType(n.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}var AF=new k("",{factory:()=>new ve}),dD=new k("",{factory:()=>1});function kF(){let e=[{provide:MC,useValue:!0},{provide:dD,useValue:0},Ig(()=>{let t=v(Lt);return t.get(pS,Promise.resolve()).then(()=>new Promise(r=>{let o=t.get(Do),i=t.get(AF);My(o,()=>{r(!0)}),t.get(Iy).afterPreactivation=()=>(r(!0),i.closed?$(void 0):i),o.initialNavigation()}))})];return ml(2,e)}function NF(){let e=[Ig(()=>{v(Do).setUpLocationChangeListener()}),{provide:dD,useValue:2}];return ml(3,e)}var FF=new k("");function PF(e){return ml(0,[{provide:FF,useExisting:MF},{provide:Wf,useExisting:e}])}function fD(){return ml(6,[{provide:_o,useClass:Hg}])}function LF(){return ml(8,[tD,{provide:qf,useExisting:tD}])}function jF(e){jr("NgRouterViewTransitions");let t=[{provide:iD,useValue:CF},{provide:sD,useValue:x({skipNextTransition:!!e?.skipInitialTransition},e)}];return ml(9,t)}var BF=[Cs,{provide:tc,useClass:fi},Do,nc,{provide:pi,useFactory:OF},Dy,[]],pD=(()=>{class e{constructor(){}static forRoot(n,r){return{ngModule:e,providers:[BF,[],{provide:oc,multi:!0,useValue:n},[],r?.errorHandler?{provide:aD,useValue:r.errorHandler}:[],{provide:rc,useValue:r||{}},r?.useHash?rY():oY(),nY(),r?.preloadingStrategy?PF(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?iY(r):[],r?.bindToComponentInputs?LF().\u0275providers:[],r?.enableViewTransitions?jF().\u0275providers:[],sY()]}}static forChild(n){return{ngModule:e,providers:[{provide:oc,multi:!0,useValue:n}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=Dt({type:e});static \u0275inj=vt({})}return e})();function nY(){return{provide:TF,useFactory:()=>{let e=v(vS),t=v(rc);return t.scrollOffset&&e.setOffset(t.scrollOffset),new tY(t)}}}function rY(){return{provide:_o,useClass:Hg}}function oY(){return{provide:_o,useClass:jg}}function iY(e){return[e.initialNavigation==="disabled"?NF().\u0275providers:[],e.initialNavigation==="enabledBlocking"?kF().\u0275providers:[]]}var uD=new k("");function sY(){return[{provide:uD,useFactory:RF},{provide:yf,multi:!0,useExisting:uD}]}function uY(e,t){if(e&1&&(fe(0,"div",3),wt(1,"div",4),he()),e&2){let n=It(2);Oe(),ai("width",n.diameter)("height",n.diameter)}}function lY(e,t){if(e&1&&wt(0,"div",5),e&2){let n=It().ngIf,r=It();ai("background",r.color)("height",r.height)("width",n+"%")}}function dY(e,t){if(e&1&&(xf(0),qa(1,uY,2,4,"div",1)(2,lY,1,6,"div",2),bf()),e&2){let n=It();Oe(),xt("ngIf",n.includeSpinner),Oe(),xt("ngIf",n.includeBar)}}function fY(e,t){if(e&1&&(fe(0,"div",3),wt(1,"div",4),he()),e&2){let n=It(2);Oe(),ai("width",n.diameter)("height",n.diameter)}}function pY(e,t){if(e&1&&wt(0,"div",5),e&2){let n=It().ngIf,r=It();ai("background",r.color)("height",r.height)("width",n+"%")}}function hY(e,t){if(e&1&&(xf(0),qa(1,fY,2,4,"div",1)(2,pY,1,6,"div",2),bf()),e&2){let n=It();Oe(),xt("ngIf",n.includeSpinner),Oe(),xt("ngIf",n.includeBar)}}var mY="[_nghost-%COMP%]{position:relative;display:block;pointer-events:none}[_nghost-%COMP%]   .ngx-spinner[_ngcontent-%COMP%]{transition:.35s linear all;display:block;position:absolute;top:5px;left:0}[_nghost-%COMP%]   .ngx-spinner[_ngcontent-%COMP%]   .ngx-spinner-icon[_ngcontent-%COMP%]{width:14px;height:14px;border:solid 2px transparent;border-top-color:inherit;border-left-color:inherit;border-radius:50%;animation:_ngcontent-%COMP%_loading-bar-spinner .4s linear infinite}[_nghost-%COMP%]   .ngx-bar[_ngcontent-%COMP%]{transition:width .35s;position:absolute;top:0;left:0;width:100%;height:2px;border-bottom-right-radius:1px;border-top-right-radius:1px}[dir=rtl]   [_nghost-%COMP%]   .ngx-bar[_ngcontent-%COMP%]{right:0;left:unset}[fixed=true][_nghost-%COMP%]{z-index:10002}[fixed=true][_nghost-%COMP%]   .ngx-bar[_ngcontent-%COMP%]{position:fixed}[fixed=true][_nghost-%COMP%]   .ngx-spinner[_ngcontent-%COMP%]{position:fixed;top:10px;left:10px}[dir=rtl]   [fixed=true][_nghost-%COMP%]   .ngx-spinner[_ngcontent-%COMP%]{right:10px;left:unset}@keyframes _ngcontent-%COMP%_loading-bar-spinner{0%{transform:rotate(0)}to{transform:rotate(360deg)}}",hD=class{constructor(t={}){this.config=t,this.state={action:null,value:0,initialValue:0},this.requests=null,this.disabled=!1,this.stream$=new ve,this._value$=null,this.timer$=n=>{let r=$(n);switch(n.action){case"start":case"increment":case"set":{n.action==="start"&&this.config.latencyThreshold===0&&n.value===0&&(n.value=n.initialValue),this.requests>0&&(r=wu(this.config.latencyThreshold,250).pipe(W(o=>N(x({},n),{value:o===0?this.state.value||n.initialValue:this._increment()}))));break}case"complete":case"stop":{r=n.value===0?$(x({},n)):wu(0,500).pipe(Nt(2),W(o=>({value:o===0?100:0})));break}}return r.pipe(W(o=>N(x({},o),{action:"set"})),an(o=>this.next(o,!1)))},this.config=x({latencyThreshold:0},t)}get value$(){return this._value$?this._value$:this._value$=this.stream$.pipe(as(this.state),yt(t=>this.timer$(t)),Mu(),W(t=>t.value))}start(t=2){this.disabled||this.next({action:"start",initialValue:t})}stop(){this.next({action:"stop"})}complete(){this.next({action:"complete"})}disable(){this.disabled=!0}set(t){this.next({action:"set",value:t})}increment(t=0){this.next({action:"increment",value:t})}next(t,n=!0){switch(t.action){case"start":this.requests=(this.requests||0)+1;break;case"complete":if(this.requests=(this.requests||1)-1,this.requests>0)return;break;case"stop":this.requests=0;break;case"increment":t.value=this._increment(t.value);break}this.state=x(N(x({},this.state),{action:null}),t),n&&this.stream$.next(this.state)}_increment(t=0){let n=this.state.value;return n>=99&&(t=0),t===0&&(n>=0&&n<25?t=Math.random()*3+3:n>=25&&n<65?t=Math.random()*3:n>=65&&n<90?t=Math.random()*2:n>=90&&n<99?t=.5:t=0),t+n}},gY=new k("LOADING_BAR_CONFIG");var mD=(()=>{class e{get progress$(){return this.value$}constructor(n,r={},o){this.platformId=n,this.config=r,this.zone=o,this.refs={},this.streams$=new ve,this.value$=this.streams$.pipe(as(null),yt(()=>rs(Object.keys(this.refs).map(i=>this.refs[i].value$))),yY(this.zone),W(i=>Math.max(0,...i)))}start(n=2){this.useRef().start(n)}set(n){this.useRef().set(n)}increment(n){this.useRef().increment(n)}complete(){this.useRef().complete()}stop(){this.useRef().stop()}useRef(n="default"){return this.refs[n]||(this.refs[n]=new hD(this.config),this.streams$.next(),Vg(this.platformId)||this.refs[n].disable()),this.refs[n]}static{this.\u0275fac=function(r){return new(r||e)(L(ii),L(gY,8),L(we,8))}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function yY(e){return e?t=>new re(n=>t.subscribe(r=>e.run(()=>n.next(r)),r=>e.run(()=>n.error(r)),()=>e.run(()=>n.complete()))):t=>t}var vY=(()=>{class e{get value$(){return this.ref?this.loader.useRef(this.ref).value$:this.loader.value$}constructor(n){this.loader=n,this.includeSpinner=!0,this.includeBar=!0,this.fixed=!0,this.color="#29d"}static{this.\u0275fac=function(r){return new(r||e)(Se(mD))}}static{this.\u0275cmp=bn({type:e,selectors:[["ngx-loading-bar"]],hostVars:3,hostBindings:function(r,o){r&2&&(za("fixed",o.fixed),ai("color",o.color))},inputs:{includeSpinner:"includeSpinner",includeBar:"includeBar",fixed:"fixed",color:"color",value:"value",ref:"ref",height:"height",diameter:"diameter"},decls:2,vars:3,consts:[[4,"ngIf"],["class","ngx-spinner",4,"ngIf"],["class","ngx-bar",3,"background","height","width",4,"ngIf"],[1,"ngx-spinner"],[1,"ngx-spinner-icon"],[1,"ngx-bar"]],template:function(r,o){r&1&&(qa(0,dY,3,2,"ng-container",0),xo(1,"async")),r&2&&xt("ngIf",o.value!=null?o.value:ci(1,1,o.value$))},dependencies:[Df,Sf],styles:["[_nghost-%COMP%]{position:relative;display:block;pointer-events:none}[_nghost-%COMP%]   .ngx-spinner[_ngcontent-%COMP%]{transition:.35s linear all;display:block;position:absolute;top:5px;left:0}[_nghost-%COMP%]   .ngx-spinner[_ngcontent-%COMP%]   .ngx-spinner-icon[_ngcontent-%COMP%]{width:14px;height:14px;border:solid 2px transparent;border-top-color:inherit;border-left-color:inherit;border-radius:50%;animation:_ngcontent-%COMP%_loading-bar-spinner .4s linear infinite}[_nghost-%COMP%]   .ngx-bar[_ngcontent-%COMP%]{transition:width .35s;position:absolute;top:0;left:0;width:100%;height:2px;border-bottom-right-radius:1px;border-top-right-radius:1px}[dir=rtl]   [_nghost-%COMP%]   .ngx-bar[_ngcontent-%COMP%]{right:0;left:unset}[fixed=true][_nghost-%COMP%]{z-index:10002}[fixed=true][_nghost-%COMP%]   .ngx-bar[_ngcontent-%COMP%]{position:fixed}[fixed=true][_nghost-%COMP%]   .ngx-spinner[_ngcontent-%COMP%]{position:fixed;top:10px;left:10px}[dir=rtl]   [fixed=true][_nghost-%COMP%]   .ngx-spinner[_ngcontent-%COMP%]{right:10px;left:unset}@keyframes _ngcontent-%COMP%_loading-bar-spinner{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"],changeDetection:0})}}return e})(),HF=(()=>{class e extends vY{static{this.\u0275fac=(()=>{let n;return function(o){return(n||(n=xn(e)))(o||e)}})()}static{this.\u0275cmp=bn({type:e,selectors:[["ngx-loading-bar"]],hostVars:3,hostBindings:function(r,o){r&2&&(za("fixed",o.fixed),ai("color",o.color))},standalone:!1,features:[xs],decls:2,vars:3,consts:[[4,"ngIf"],["class","ngx-spinner",4,"ngIf"],["class","ngx-bar",3,"background","height","width",4,"ngIf"],[1,"ngx-spinner"],[1,"ngx-spinner-icon"],[1,"ngx-bar"]],template:function(r,o){r&1&&(qa(0,hY,3,2,"ng-container",0),xo(1,"async")),r&2&&xt("ngIf",o.value!=null?o.value:ci(1,1,o.value$))},dependencies:[Sf,Df],styles:[mY],changeDetection:0})}}return e})(),VF=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=Dt({type:e})}static{this.\u0275inj=vt({imports:[wf]})}}return e})();var gD;try{gD=typeof Intl<"u"&&Intl.v8BreakIterator}catch(e){gD=!1}var $F=(()=>{class e{_platformId=v(ii);isBrowser=this._platformId?Vg(this._platformId):typeof document=="object"&&!!document;EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent);TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent);BLINK=this.isBrowser&&!!(window.chrome||gD)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT;WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT;IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window);FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent);ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT;SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT;constructor(){}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function yD(e){return Array.isArray(e)?e:[e]}var qF=new Set,ic,WF=(()=>{class e{_platform=v($F);_nonce=v(zu,{optional:!0});_matchMedia;constructor(){this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):bY}matchMedia(n){return(this._platform.WEBKIT||this._platform.BLINK)&&xY(n,this._nonce),this._matchMedia(n)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function xY(e,t){if(!qF.has(e))try{ic||(ic=document.createElement("style"),t&&ic.setAttribute("nonce",t),ic.setAttribute("type","text/css"),document.head.appendChild(ic)),ic.sheet&&(ic.sheet.insertRule(`@media ${e} {body{ }}`,0),qF.add(e))}catch(n){console.error(n)}}function bY(e){return{matches:e==="all"||e==="",media:e,addListener:()=>{},removeListener:()=>{}}}var vD=(()=>{class e{_mediaMatcher=v(WF);_zone=v(we);_queries=new Map;_destroySubject=new ve;constructor(){}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(n){return zF(yD(n)).some(o=>this._registerQuery(o).mql.matches)}observe(n){let o=zF(yD(n)).map(s=>this._registerQuery(s).observable),i=rs(o);return i=Ir(i.pipe(Nt(1)),i.pipe(BE(1),LE(0))),i.pipe(W(s=>{let a={matches:!1,breakpoints:{}};return s.forEach(({matches:c,query:u})=>{a.matches=a.matches||c,a.breakpoints[u]=c}),a}))}_registerQuery(n){if(this._queries.has(n))return this._queries.get(n);let r=this._mediaMatcher.matchMedia(n),i={observable:new re(s=>{let a=c=>this._zone.run(()=>s.next(c));return r.addListener(a),()=>{r.removeListener(a)}}).pipe(as(r),W(({matches:s})=>({query:n,matches:s})),Mr(this._destroySubject)),mql:r};return this._queries.set(n,i),i}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function zF(e){return e.map(t=>t.split(",")).reduce((t,n)=>t.concat(n)).map(t=>t.trim())}var GF={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"};var Ms=(function(e){return e.LIGHT="light",e.DARK="dark",e})(Ms||{});function KF(e,t){let r=!t?.manualCleanup?t?.injector?.get(jt)??v(jt):null,o=_Y(t?.equal),i;t?.requireSync?i=Nr({kind:0},{equal:o}):i=Nr({kind:1,value:t?.initialValue},{equal:o});let s,a=e.subscribe({next:c=>i.set({kind:1,value:c}),error:c=>{i.set({kind:2,error:c}),s?.()},complete:()=>{s?.()}});if(t?.requireSync&&i().kind===0)throw new F(601,!1);return s=r?.onDestroy(a.unsubscribe.bind(a)),kg(()=>{let c=i();switch(c.kind){case 1:return c.value;case 2:throw c.error;case 0:throw new F(601,!1)}},{equal:t?.equal})}function _Y(e=Object.is){return(t,n)=>t.kind===1&&n.kind===1&&e(t.value,n.value)}var YF=(()=>{class e{constructor(n){this.document=n,this.currentMode=Ms.LIGHT,this.modeChangedSubject=new ct(this.currentMode),this.modeChanged$=this.modeChangedSubject.asObservable(),this.init()}updateCurrentMode(n){this.currentMode=n,this.modeChangedSubject.next(this.currentMode)}init(){let n=window.matchMedia("(prefers-color-scheme: dark)");this.updateCurrentMode(n.matches?Ms.DARK:Ms.LIGHT),this.document.body.classList.add(this.currentMode)}static{this.\u0275fac=function(r){return new(r||e)(L(Ue))}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var Yf=class{},JF=(()=>{class e{handle(n){return n.key}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac})}return e})(),gl=class{},QF=(()=>{class e extends gl{compile(n,r){return n}compileTranslations(n,r){return n}static \u0275fac=(()=>{let n;return function(o){return(n||(n=xn(e)))(o||e)}})();static \u0275prov=D({token:e,factory:e.\u0275fac})}return e})(),Os=class{},XF=(()=>{class e extends Os{getTranslation(n){return $({})}static \u0275fac=(()=>{let n;return function(o){return(n||(n=xn(e)))(o||e)}})();static \u0275prov=D({token:e,factory:e.\u0275fac})}return e})();function Ty(e,t){if(e===t)return!0;if(e===null||t===null)return!1;if(e!==e&&t!==t)return!0;let n=typeof e,r=typeof t,o;if(n==r&&n=="object")if(Array.isArray(e)){if(!Array.isArray(t))return!1;if((o=e.length)==t.length){for(let i=0;i<o;i++)if(!Ty(e[i],t[i]))return!1;return!0}}else{if(Array.isArray(t))return!1;if(hi(e)&&hi(t)){let i=Object.create(null);for(let s in e){if(!Ty(e[s],t[s]))return!1;i[s]=!0}for(let s in t)if(!(s in i)&&typeof t[s]<"u")return!1;return!0}}return!1}function Ts(e){return typeof e<"u"&&e!==null}function ZF(e){return e!==void 0}function hi(e){return Kf(e)&&!sc(e)&&e!==null}function Kf(e){return typeof e=="object"&&e!==null}function sc(e){return Array.isArray(e)}function Oy(e){return typeof e=="string"}function SY(e){return typeof e=="function"}function Ry(e){if(sc(e))return e.map(t=>Ry(t));if(hi(e)){let t={};return Object.keys(e).forEach(n=>{t[n]=Ry(e[n])}),t}else return e}function CD(e,t){if(!Kf(e))return Ry(t);let n=Ry(e);return Kf(n)&&Kf(t)&&Object.keys(t).forEach(r=>{hi(t[r])?r in e?n[r]=CD(e[r],t[r]):Object.assign(n,{[r]:t[r]}):Object.assign(n,{[r]:t[r]})}),n}function eP(e,t){let n=t.split(".");t="";do{t+=n.shift();let r=!n.length;if(Ts(e)){if(hi(e)&&ZF(e[t])&&(hi(e[t])||sc(e[t])||r)){e=e[t],t="";continue}if(sc(e)){let o=parseInt(t,10);if(ZF(e[o])&&(hi(e[o])||sc(e[o])||r)){e=e[o],t="";continue}}}if(r){e=void 0;continue}t+="."}while(n.length);return e}function DY(e,t,n){return CD(e,wY(t,n))}function wY(e,t){return e.split(".").reduceRight((n,r)=>({[r]:n}),t)}var yl=class{},tP=(()=>{class e extends yl{templateMatcher=/{{\s?([^{}\s]*)\s?}}/g;interpolate(n,r){if(Oy(n))return this.interpolateString(n,r);if(SY(n))return this.interpolateFunction(n,r)}interpolateFunction(n,r){return n(r)}interpolateString(n,r){return r?n.replace(this.templateMatcher,(o,i)=>{let s=this.getInterpolationReplacement(r,i);return s!==void 0?s:o}):n}getInterpolationReplacement(n,r){return this.formatValue(eP(n,r))}formatValue(n){if(Oy(n))return n;if(typeof n=="number"||typeof n=="boolean")return n.toString();if(n===null)return"null";if(sc(n))return n.join(", ");if(Kf(n))return typeof n.toString=="function"&&n.toString!==Object.prototype.toString?n.toString():JSON.stringify(n)}static \u0275fac=(()=>{let n;return function(o){return(n||(n=xn(e)))(o||e)}})();static \u0275prov=D({token:e,factory:e.\u0275fac})}return e})(),xD=(()=>{class e{_onTranslationChange=new ve;_onLangChange=new ve;_onFallbackLangChange=new ve;fallbackLang=null;currentLang;translations={};languages=[];getTranslations(n){return this.translations[n]}setTranslations(n,r,o){this.translations[n]=o&&this.hasTranslationFor(n)?CD(this.translations[n],r):r,this.addLanguages([n]),this._onTranslationChange.next({lang:n,translations:this.getTranslations(n)})}getLanguages(){return this.languages}getCurrentLang(){return this.currentLang}getFallbackLang(){return this.fallbackLang}setFallbackLang(n,r=!0){this.fallbackLang=n,r&&this._onFallbackLangChange.next({lang:n,translations:this.translations[n]})}setCurrentLang(n,r=!0){this.currentLang=n,r&&this._onLangChange.next({lang:n,translations:this.translations[n]})}get onTranslationChange(){return this._onTranslationChange.asObservable()}get onLangChange(){return this._onLangChange.asObservable()}get onFallbackLangChange(){return this._onFallbackLangChange.asObservable()}addLanguages(n){this.languages=Array.from(new Set([...this.languages,...n]))}hasTranslationFor(n){return typeof this.translations[n]<"u"}deleteTranslations(n){delete this.translations[n]}getTranslation(n){let r=this.getValue(this.currentLang,n);return r===void 0&&this.fallbackLang!=null&&this.fallbackLang!==this.currentLang&&(r=this.getValue(this.fallbackLang,n)),r}getValue(n,r){return eP(this.getTranslations(n),r)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac})}return e})(),bD=new k("TRANSLATE_CONFIG"),Gf=e=>wr(e)?e:$(e);var ED=(()=>{class e{loadingTranslations;pending=!1;_translationRequests={};lastUseLanguage=null;currentLoader=v(Os);compiler=v(gl);parser=v(yl);missingTranslationHandler=v(Yf);store=v(xD);extend=!1;get onTranslationChange(){return this.store.onTranslationChange}get onLangChange(){return this.store.onLangChange}get onFallbackLangChange(){return this.store.onFallbackLangChange}get onDefaultLangChange(){return this.store.onFallbackLangChange}constructor(){let n=x({extend:!1,fallbackLang:null},v(bD,{optional:!0}));n.lang&&this.use(n.lang),n.fallbackLang&&this.setFallbackLang(n.fallbackLang),n.extend&&(this.extend=!0)}setFallbackLang(n){this.getFallbackLang()||this.store.setFallbackLang(n,!1);let r=this.loadOrExtendLanguage(n);return wr(r)?(r.pipe(Nt(1)).subscribe({next:()=>{this.store.setFallbackLang(n)},error:()=>{}}),r):(this.store.setFallbackLang(n),$(this.store.getTranslations(n)))}use(n){this.lastUseLanguage=n,this.getCurrentLang()||this.store.setCurrentLang(n,!1);let r=this.loadOrExtendLanguage(n);return wr(r)?(r.pipe(Nt(1)).subscribe({next:()=>{this.changeLang(n)},error:()=>{}}),r):(this.changeLang(n),$(this.store.getTranslations(n)))}loadOrExtendLanguage(n){if(!this.store.hasTranslationFor(n)||this.extend)return this._translationRequests[n]=this._translationRequests[n]||this.loadAndCompileTranslations(n),this._translationRequests[n]}changeLang(n){n===this.lastUseLanguage&&this.store.setCurrentLang(n)}getCurrentLang(){return this.store.getCurrentLang()}loadAndCompileTranslations(n){this.pending=!0;let r=this.currentLoader.getTranslation(n).pipe(Mu(1),Nt(1));return this.loadingTranslations=r.pipe(W(o=>this.compiler.compileTranslations(o,n)),Mu(1),Nt(1)),this.loadingTranslations.subscribe({next:o=>{this.store.setTranslations(n,o,this.extend),this.pending=!1},error:o=>{this.pending=!1}}),r}setTranslation(n,r,o=!1){let i=this.compiler.compileTranslations(r,n);this.store.setTranslations(n,i,o||this.extend)}getLangs(){return this.store.getLanguages()}addLangs(n){this.store.addLanguages(n)}getParsedResultForKey(n,r){let o=this.getTextToInterpolate(n);if(Ts(o))return this.runInterpolation(o,r);let i=this.missingTranslationHandler.handle(x({key:n,translateService:this},r!==void 0&&{interpolateParams:r}));return i!==void 0?i:n}getFallbackLang(){return this.store.getFallbackLang()}getTextToInterpolate(n){return this.store.getTranslation(n)}runInterpolation(n,r){if(Ts(n))return sc(n)?this.runInterpolationOnArray(n,r):hi(n)?this.runInterpolationOnDict(n,r):this.parser.interpolate(n,r)}runInterpolationOnArray(n,r){return n.map(o=>this.runInterpolation(o,r))}runInterpolationOnDict(n,r){let o={};for(let i in n){let s=this.runInterpolation(n[i],r);s!==void 0&&(o[i]=s)}return o}getParsedResult(n,r){return n instanceof Array?this.getParsedResultForArray(n,r):this.getParsedResultForKey(n,r)}getParsedResultForArray(n,r){let o={},i=!1;for(let a of n)o[a]=this.getParsedResultForKey(a,r),i=i||wr(o[a]);if(!i)return o;let s=n.map(a=>Gf(o[a]));return FE(s).pipe(W(a=>{let c={};return a.forEach((u,l)=>{c[n[l]]=u}),c}))}get(n,r){if(!Ts(n)||!n.length)throw new Error('Parameter "key" is required and cannot be empty');return this.pending?this.loadingTranslations.pipe(co(()=>Gf(this.getParsedResult(n,r)))):Gf(this.getParsedResult(n,r))}getStreamOnTranslationChange(n,r){if(!Ts(n)||!n.length)throw new Error('Parameter "key" is required and cannot be empty');return Ir(is(()=>this.get(n,r)),this.onTranslationChange.pipe(yt(()=>{let o=this.getParsedResult(n,r);return Gf(o)})))}stream(n,r){if(!Ts(n)||!n.length)throw new Error('Parameter "key" required');return Ir(is(()=>this.get(n,r)),this.onLangChange.pipe(yt(()=>{let o=this.getParsedResult(n,r);return Gf(o)})))}instant(n,r){if(!Ts(n)||n.length===0)throw new Error('Parameter "key" is required and cannot be empty');let o=this.getParsedResult(n,r);return wr(o)?Array.isArray(n)?n.reduce((i,s)=>(i[s]=s,i),{}):n:o}set(n,r,o=this.getCurrentLang()){this.store.setTranslations(o,DY(this.store.getTranslations(o),n,Oy(r)?this.compiler.compile(r,o):this.compiler.compileTranslations(r,o)),!1)}reloadLang(n){return this.resetLang(n),this.loadAndCompileTranslations(n)}resetLang(n){delete this._translationRequests[n],this.store.deleteTranslations(n)}static getBrowserLang(){if(typeof window>"u"||!window.navigator)return;let n=this.getBrowserCultureLang();return n?n.split(/[-_]/)[0]:void 0}static getBrowserCultureLang(){if(!(typeof window>"u"||typeof window.navigator>"u"))return window.navigator.languages?window.navigator.languages[0]:window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage}getBrowserLang(){return e.getBrowserLang()}getBrowserCultureLang(){return e.getBrowserCultureLang()}get defaultLang(){return this.getFallbackLang()}get currentLang(){return this.store.getCurrentLang()}get langs(){return this.store.getLanguages()}setDefaultLang(n){return this.setFallbackLang(n)}getDefaultLang(){return this.getFallbackLang()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac})}return e})();var Ay=(()=>{class e{translate=v(ED);_ref=v(bo);value="";lastKey=null;lastParams=[];onTranslationChange;onLangChange;onFallbackLangChange;updateValue(n,r,o){let i=s=>{this.value=s!==void 0?s:n,this.lastKey=n,this._ref.markForCheck()};if(o){let s=this.translate.getParsedResult(n,r);wr(s)?s.subscribe(i):i(s)}this.translate.get(n,r).subscribe(i)}transform(n,...r){if(!n||!n.length)return n;if(Ty(n,this.lastKey)&&Ty(r,this.lastParams))return this.value;let o;if(Ts(r[0])&&r.length)if(Oy(r[0])&&r[0].length){let i=r[0].replace(/(')?([a-zA-Z0-9_]+)(')?(\s)?:/g,'"$2":').replace(/:(\s)?(')(.*?)(')/g,':"$3"');try{o=JSON.parse(i)}catch(s){throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${r[0]}`)}}else hi(r[0])&&(o=r[0]);return this.lastKey=n,this.lastParams=r,this.updateValue(n,o),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(i=>{(this.lastKey&&i.lang===this.translate.getCurrentLang()||i.lang===this.translate.getFallbackLang())&&(this.lastKey=null,this.updateValue(n,o,i.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(i=>{this.lastKey&&(this.lastKey=null,this.updateValue(n,o,i.translations))})),this.onFallbackLangChange||(this.onFallbackLangChange=this.translate.onFallbackLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(n,o))})),this.value}_dispose(){typeof this.onTranslationChange<"u"&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),typeof this.onLangChange<"u"&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),typeof this.onFallbackLangChange<"u"&&(this.onFallbackLangChange.unsubscribe(),this.onFallbackLangChange=void 0)}ngOnDestroy(){this._dispose()}static \u0275fac=function(r){return new(r||e)};static \u0275pipe=mf({name:"translate",type:e,pure:!1});static \u0275prov=D({token:e,factory:e.\u0275fac})}return e})();function nP(e){return{provide:Os,useClass:e}}function rP(e){return{provide:gl,useClass:e}}function oP(e){return{provide:yl,useClass:e}}function iP(e){return{provide:Yf,useClass:e}}function sP(e={}){return _D(x({compiler:rP(QF),parser:oP(tP),loader:nP(XF),missingTranslationHandler:iP(JF)},e),!0)}function _D(e={},t){let n=[];e.loader&&n.push(e.loader),e.compiler&&n.push(e.compiler),e.parser&&n.push(e.parser),e.missingTranslationHandler&&n.push(e.missingTranslationHandler),t&&n.push(xD),(e.useDefaultLang||e.defaultLanguage)&&(console.warn("The `useDefaultLang` and `defaultLanguage` options are deprecated. Please use `fallbackLang` instead."),e.useDefaultLang===!0&&e.defaultLanguage&&(e.fallbackLang=e.defaultLanguage));let r={fallbackLang:e.fallbackLang??null,lang:e.lang,extend:e.extend??!1};return n.push({provide:bD,useValue:r}),n.push({provide:ED,useClass:ED,deps:[xD,Os,gl,yl,Yf,bD]}),n}var ky=(()=>{class e{static forRoot(n={}){return{ngModule:e,providers:[..._D(x({compiler:rP(QF),parser:oP(tP),loader:nP(XF),missingTranslationHandler:iP(JF)},n),!0)]}}static forChild(n={}){return{ngModule:e,providers:[..._D(n,n.isolate??!1)]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=Dt({type:e});static \u0275inj=vt({})}return e})();function IY(e,t){if(e&1){let n=Yu();fe(0,"main",0)(1,"img",2),tt("click",function(){ka(n);let o=It();return Na(o.goToMainPage())}),he(),fe(2,"section",3),wt(3,"router-outlet"),he()()}}function MY(e,t){e&1&&(fe(0,"main",1)(1,"section",3),wt(2,"router-outlet"),he()())}function TY(e,t){if(e&1&&(fe(0,"header",4),wt(1,"img",5),he(),fe(2,"div",6),wt(3,"img",7),he(),fe(4,"div",8)(5,"h1"),Hr(6),xo(7,"translate"),he(),fe(8,"h3"),Hr(9),xo(10,"translate"),he()()),e&2){let n=It();Oe(3),xt("src",n.mode==n.Mode.LIGHT?"../../assets/images/light/orientation.png":"../../assets/images/dark/orientation.png",AC),Oe(3),Es(ci(7,3,"portraitMode.onlyAvailableInLandscapeMode")),Oe(3),Es(ci(10,5,"portraitMode.turnYourDevice"))}}var cP=(()=>{class e{constructor(n,r,o){this.responsive=n,this.modeToggleService=r,this.router=o,this.isPortrait=!1,this.isLandscape=!1,this.mode=Ms.LIGHT,this.isMobile=KF(this.responsive.observe([GF.Web]).pipe(W(i=>!i.matches)),{initialValue:!0}),this.Mode=Ms,this.modeToggleService.modeChanged$.subscribe(i=>this.mode=i),this.checkOrientation()}onOrientationChange(){this.checkOrientation()}checkOrientation(){let n=window.screen.orientation.angle;this.isPortrait=n===0||n===180,this.isLandscape=n===90||n===-90}goToMainPage(){return be(this,null,function*(){yield this.router.navigate([],{queryParams:{},queryParamsHandling:""}).then(()=>{window.location.reload()}).catch()})}static{this.\u0275fac=function(r){return new(r||e)(Se(vD),Se(YF),Se(Do))}}static{this.\u0275cmp=bn({type:e,selectors:[["app-root"]],hostBindings:function(r,o){r&1&&tt("orientationchange",function(s){return o.onOrientationChange(s)},kC)},standalone:!1,decls:4,vars:1,consts:[[1,"flex","app-container"],[1,"app-container"],["src","../../assets/images/title.svg","id","title-image","alt","Website Title",1,"top-left-corner","cursor-pointer",3,"click"],[1,"flex","content"],[1,"header-mobile","mt-40","mb-40"],["src","../../assets/images/title-mobile.svg","alt","Website Title",1,"title-image-mobile"],[1,"portrait-to-landscape"],["alt","Portrait to landscape image",1,"portrait-to-landscape-image",3,"src"],[1,"ml-10"]],template:function(r,o){r&1&&(wt(0,"ngx-loading-bar"),rS(1,IY,4,0,"main",0)(2,MY,3,0,"main",1)(3,TY,11,7)),r&2&&(Oe(),iS(o.isMobile()?o.isMobile()&&o.isLandscape?2:o.isMobile()&&o.isPortrait?3:-1:1))},dependencies:[HF,$f,Ay],styles:['.flex[_ngcontent-%COMP%]{display:flex}.mt-40[_ngcontent-%COMP%]{margin-top:40px}.mb-40[_ngcontent-%COMP%]{margin-bottom:40px}.mb-10[_ngcontent-%COMP%]{margin-bottom:10px}.ml-10[_ngcontent-%COMP%]{margin-left:10px}.user-select-none[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none}.cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.large[_ngcontent-%COMP%]{font-size:large}.medium[_ngcontent-%COMP%]{font-size:medium}.app-button[_ngcontent-%COMP%]{background-color:var(--backgroundColor);color:var(--textColor);border:1px var(--borderColor) solid}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%;margin:0}[_ngcontent-%COMP%]:root{font-family:Inter,sans-serif;font-feature-settings:"liga" 1,"calt" 1,"ss01" on}@supports (font-variation-settings: normal){[_ngcontent-%COMP%]:root{font-family:InterVariable,sans-serif}}a[_ngcontent-%COMP%]{all:unset}body.dark[_ngcontent-%COMP%]{--backgroundColor: #2e2e2e;--textColor: white;--borderColor: white;--menuButtonColor: #CC71FA;--gridHighLightColor: #474747;background-color:var(--backgroundColor);color:var(--textColor)}body.light[_ngcontent-%COMP%]{--backgroundColor: white;--textColor: black;--borderColor: black;--menuButtonColor: #70F1FA;--gridHighLightColor: #e8e8e8;background-color:var(--backgroundColor);color:var(--textColor)}.app-container[_ngcontent-%COMP%]{height:100%}.app-container[_ngcontent-%COMP%]   .top-left-corner[_ngcontent-%COMP%]{position:absolute;top:10px;left:10px}.menu[_ngcontent-%COMP%]{flex-direction:column;justify-content:flex-start;align-items:flex-start}.menu.genre[_ngcontent-%COMP%]{justify-content:flex-end}.content[_ngcontent-%COMP%]{flex:1;justify-content:center;align-items:center;overflow:auto;height:100%}.column[_ngcontent-%COMP%]{flex-direction:column}.nowrap[_ngcontent-%COMP%]{white-space:nowrap}.header-mobile[_ngcontent-%COMP%]{font-size:32px;width:100%;text-align:center}#title-image[_ngcontent-%COMP%]{width:128px;aspect-ratio:1}.title-image-mobile[_ngcontent-%COMP%]{width:256px}.portrait-to-landscape[_ngcontent-%COMP%]{justify-content:center;display:flex;flex-direction:row;margin:64px}.portrait-to-landscape[_ngcontent-%COMP%]   .portrait-to-landscape-image[_ngcontent-%COMP%]{width:64px}']})}}return e})();var uP=(()=>{class e{constructor(n){this.elementRef=n,this.threshold=500,this.mouseLongPress=new Ft;let r=ao(n.nativeElement,"mousedown").pipe(ut(a=>a.button==0),W(()=>!0)),o=ao(n.nativeElement,"touchstart").pipe(W(()=>!0)),i=ao(n.nativeElement,"touchend").pipe(W(()=>!1)),s=ao(window,"mouseup").pipe(ut(a=>a.button==0),W(()=>!1));this.eventSubscribe=PE(r,s,o,i).pipe(yt(a=>a?wu(this.threshold,10):$(null)),ut(a=>a)).subscribe(()=>this.mouseLongPress.emit())}ngOnDestroy(){this.eventSubscribe&&this.eventSubscribe.unsubscribe()}static{this.\u0275fac=function(r){return new(r||e)(Se(ir))}}static{this.\u0275dir=en({type:e,selectors:[["","longPress",""]],outputs:{mouseLongPress:"mouseLongPress"}})}}return e})();var ac=e=>{if(!OY(e))throw new Error(`Invalid BPM '${e}'. Must be between 40 and 300.`);return e},OY=e=>Number.isFinite(e)&&e>=40&&e<=300;var dP=(()=>{class e{constructor(){this.maxBpm=300,this.minBpm=40,this.bpm=_s(40),this.bpmChange=Fg(),this.incrementBpm=()=>this.updateBpm(Math.min(this.bpm()+1,this.maxBpm)),this.decrementBpm=()=>this.updateBpm(Math.max(this.bpm()-1,this.minBpm)),this.updateBpm=n=>this.bpmChange.emit(n)}updateNumber(n){let r=n.target,o=Number(r.value);o=Math.min(o,this.maxBpm),o=Math.max(o,this.minBpm),this.updateBpm(o)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=bn({type:e,selectors:[["app-bpm-input"]],inputs:{bpm:[1,"bpm"]},outputs:{bpmChange:"bpmChange"},decls:4,vars:1,consts:[[1,"number-control"],["longPress","",1,"number-left","cursor-pointer",3,"mouseLongPress","click"],["type","number","name","number",1,"number-quantity","large",3,"change","value"],["longPress","",1,"number-right","cursor-pointer",3,"mouseLongPress","click"]],template:function(r,o){r&1&&(fe(0,"div",0)(1,"div",1),tt("mouseLongPress",function(){return o.decrementBpm()})("click",function(){return o.decrementBpm()}),he(),fe(2,"input",2),tt("change",function(s){return o.updateNumber(s)}),he(),fe(3,"div",3),tt("mouseLongPress",function(){return o.incrementBpm()})("click",function(){return o.incrementBpm()}),he()()),r&2&&(Oe(2),xt("value",o.bpm()))},dependencies:[uP],styles:['.number-control[_ngcontent-%COMP%]{display:flex;align-items:center}.number-control[_ngcontent-%COMP%]   .number-left[_ngcontent-%COMP%]:before, .number-control[_ngcontent-%COMP%]   .number-right[_ngcontent-%COMP%]:after{content:attr(data-content);background-color:var(--backgroundColor);display:flex;align-items:center;justify-content:center;border:1px solid var(--borderColor);width:24px;height:24px;color:var(--textColor)}.number-control[_ngcontent-%COMP%]   .number-left[_ngcontent-%COMP%]:before{border-bottom-left-radius:5px;border-top-left-radius:5px;content:"-"}.number-control[_ngcontent-%COMP%]   .number-right[_ngcontent-%COMP%]:after{content:"+";border-bottom-right-radius:5px;border-top-right-radius:5px}.number-control[_ngcontent-%COMP%]   .number-quantity[_ngcontent-%COMP%]{padding:.25rem;width:64px;height:16px;-moz-appearance:textfield;border:0;border-top:1px solid var(--borderColor);border-bottom:1px solid var(--borderColor);background-color:var(--backgroundColor);color:var(--textColor)}']})}}return e})();var AY=(()=>{class e{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||e)(Se(vs),Se(ir))};static \u0275dir=en({type:e})}return e})(),pP=(()=>{class e extends AY{static \u0275fac=(()=>{let n;return function(o){return(n||(n=xn(e)))(o||e)}})();static \u0275dir=en({type:e,features:[xs]})}return e})(),hP=new k("");var kY=new k("",{factory:()=>mP}),mP="always";var NY={provide:hP,useExisting:Sa(()=>yP),multi:!0};function gP(e,t){return e==null?`${t}`:(t&&typeof t=="object"&&(t="Object"),`${e}: ${t}`.slice(0,50))}function FY(e){return e.split(":")[0]}var yP=(()=>{class e extends pP{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;appRefInjector=v(Br).injector;destroyRef=v(jt);cdr=v(bo);_queuedWrite=!1;_writeValueAfterRender(){this._queuedWrite||this.appRefInjector.destroyed||(this._queuedWrite=!0,Wu({write:()=>{this.destroyRef.destroyed||(this._queuedWrite=!1,this.writeValue(this.value))}},{injector:this.appRefInjector}))}writeValue(n){this.cdr.markForCheck(),this.value=n;let r=this._getOptionId(n),o=gP(r,n);this.setProperty("value",o)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){let r=FY(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static \u0275fac=(()=>{let n;return function(o){return(n||(n=xn(e)))(o||e)}})();static \u0275dir=en({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,o){r&1&&tt("change",function(s){return o.onChange(s.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Og([NY]),xs]})}return e})(),vP=(()=>{class e{_element;_renderer;_select;id;constructor(n,r,o){this._element=n,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue(gP(this.id,n)),this._select._writeValueAfterRender())}set value(n){this._setElementValue(n),this._select?._writeValueAfterRender()}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select?._optionMap.delete(this.id),this._select?._writeValueAfterRender()}static \u0275fac=function(r){return new(r||e)(Se(ir),Se(vs),Se(yP,9))};static \u0275dir=en({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return e})(),PY={provide:hP,useExisting:Sa(()=>xP),multi:!0};function fP(e,t){return e==null?`${t}`:(typeof t=="string"&&(t=`'${t}'`),t&&typeof t=="object"&&(t="Object"),`${e}: ${t}`.slice(0,50))}function LY(e){return e.split(":")[0]}var xP=(()=>{class e extends pP{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;writeValue(n){this.value=n;let r;if(Array.isArray(n)){let o=n.map(i=>this._getOptionId(i));r=(i,s)=>{i._setSelected(o.indexOf(s.toString())>-1)}}else r=(o,i)=>{o._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{let o=[],i=r.selectedOptions;if(i!==void 0){let s=i;for(let a=0;a<s.length;a++){let c=s[a],u=this._getOptionValue(c.value);o.push(u)}}else{let s=r.options;for(let a=0;a<s.length;a++){let c=s[a];if(c.selected){let u=this._getOptionValue(c.value);o.push(u)}}}this.value=o,n(o)}}_registerOption(n){let r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){let r=LY(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static \u0275fac=(()=>{let n;return function(o){return(n||(n=xn(e)))(o||e)}})();static \u0275dir=en({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,o){r&1&&tt("change",function(s){return o.onChange(s.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Og([PY]),xs]})}return e})(),bP=(()=>{class e{_element;_renderer;_select;id;_value;constructor(n,r,o){this._element=n,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue(fP(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(fP(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||e)(Se(ir),Se(vs),Se(xP,9))};static \u0275dir=en({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return e})();var jY=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=Dt({type:e});static \u0275inj=vt({})}return e})();var vl=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:kY,useValue:n.callSetDisabledState??mP}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=Dt({type:e});static \u0275inj=vt({imports:[jY]})}return e})();function HY(e,t){if(e&1&&(fe(0,"option",2),Hr(1),he()),e&2){let n=t.$implicit;xt("value",n),Oe(),Es(n)}}var EP=(()=>{class e{constructor(){this.elements=_s([]),this.selectedElement=_s(""),this.placeHolder=_s(""),this.selectChange=Fg(),this.onSelectChange=n=>this.selectChange.emit(n)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=bn({type:e,selectors:[["app-select-input"]],inputs:{elements:[1,"elements"],selectedElement:[1,"selectedElement"],placeHolder:[1,"placeHolder"]},outputs:{selectChange:"selectChange"},decls:5,vars:2,consts:[[1,"cursor-pointer","large",3,"change","value"],["value","","disabled","","selected",""],[3,"value"]],template:function(r,o){r&1&&(fe(0,"select",0),tt("change",function(s){return o.onSelectChange(s.target.value)}),fe(1,"option",1),Hr(2),he(),Wa(3,HY,2,2,"option",2,vf),he()),r&2&&(xt("value",o.selectedElement()),Oe(2),Es(o.placeHolder()),Oe(),Ga(o.elements()))},dependencies:[vl,vP,bP],styles:[".flex[_ngcontent-%COMP%]{display:flex}.mt-40[_ngcontent-%COMP%]{margin-top:40px}.mb-40[_ngcontent-%COMP%]{margin-bottom:40px}.mb-10[_ngcontent-%COMP%]{margin-bottom:10px}.ml-10[_ngcontent-%COMP%]{margin-left:10px}.user-select-none[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none}.cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.large[_ngcontent-%COMP%]{font-size:large}.medium[_ngcontent-%COMP%]{font-size:medium}.app-button[_ngcontent-%COMP%]{background-color:var(--backgroundColor);color:var(--textColor);border:1px var(--borderColor) solid}select[_ngcontent-%COMP%]{border:1px var(--borderColor) solid;border-radius:5px;background-color:var(--backgroundColor);color:var(--textColor)}"]})}}return e})();var Ny=new k("IManageBeats");var Fy=new k("AudioEngine");var Zf=(function(e){return e[e.eight=8]="eight",e[e.sixteen=16]="sixteen",e[e.thirty_two=32]="thirty_two",e[e.sixty_four=64]="sixty_four",e})(Zf||{});var cc=e=>e;var xl=class{constructor(t){this._steps=[...t]}getStepAtIndex(t){return this._steps[t]}get steps(){return this._steps}setStepAtIndex(t,n){this._steps=this._steps.map((r,o)=>o===t?n:r)}};var bl=e=>e;var VY=60,UY=4,Py=(()=>{class e{constructor(){this.bpm=ac(128),this.numberOfSteps=Zf.sixteen}setBpm(n){this.bpm=n}setNumberOfSteps(n){this.numberOfSteps=n}get stepDuration(){return bl(VY/this.bpm/UY)}get barDuration(){return bl(this.stepDuration*this.numberOfSteps)}getNextStepTime(n,r){return Math.floor(n/this.barDuration)*this.barDuration+r*this.stepDuration}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var CP=(()=>{class e{constructor(){this.playPause$=new ve,ao(document,"keydown").pipe(ut(n=>n.code==="Space"),W(()=>"toggle")).subscribe(n=>this.playPause$.next(n))}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var qY=e=>({genre:e});function zY(e,t){if(e&1){let n=Yu();fe(0,"div",10),Fm(),fe(1,"svg",12),tt("mousedown",function(){let o=ka(n).$implicit,i=It();return Na(i.soundService.playTrack(o.fileName))}),wt(2,"g",13),fe(3,"g",14)(4,"g",15),wt(5,"path",16)(6,"path",17)(7,"path",18)(8,"path",19)(9,"path",20),he()(),fe(10,"g")(11,"g",21),wt(12,"path",16)(13,"path",17)(14,"path",18)(15,"path",19)(16,"path",20),he()()(),Pm(),fe(17,"div",22),Hr(18),he()()}if(e&2){let n=t.$implicit;Oe(18),Ju(" ",n.name," ")}}function WY(e,t){if(e&1){let n=Yu();fe(0,"button",25),tt("click",function(){let o=ka(n),i=o.$implicit,s=o.$index,a=It().$implicit,c=It();return Na(c.stepClick(a,c.StepIndex(s),i))}),he()}if(e&2){let n=t.$implicit,r=t.$index,o=It(2);Zu("active",n)("current",r===o.soundService.index)("highlight",o.Math.floor(r/4)%2===0)}}function GY(e,t){if(e&1&&(fe(0,"article")(1,"div",23),Wa(2,WY,1,6,"button",24,Mg),he()()),e&2){let n=t.$implicit,r=It();Oe(),Zu("eight-steps",n.numberOfSteps==r.NumberOfSteps.eight)("sixteen-steps",n.numberOfSteps==r.NumberOfSteps.sixteen)("thirty-two-steps",n.numberOfSteps==r.NumberOfSteps.thirty_two)("sixty-four-steps",n.numberOfSteps==r.NumberOfSteps.sixty_four),Oe(),Ga(n.steps.steps)}}var SP=(()=>{class e{constructor(n,r,o,i){this._beatsManager=n,this.soundService=r,this.tempoService=o,this.playerEvents=i,this.customBeatSubject=new ct(null),this.destroy$=new ve,this.Math=Math,this.NumberOfSteps=Zf,this.StepIndex=cc,this.beat={},this.genres=new Map,this.genresLabel=[],this.beats=[],this.selectedGenreLabel="",this.stepClick=(s,a,c)=>{s.steps.setStepAtIndex(a,!c),s.steps.getStepAtIndex(a)?this.soundService.enableStep(s.fileName,a):this.soundService.disableStep(s.fileName,a),this.beat=N(x({},this.beat),{tracks:this.beat.tracks}),this.customBeatSubject.next(this.beat)},this.beatBehaviourSubject=new ve,this.playerEvents.playPause$.pipe(Mr(this.destroy$)).subscribe(()=>this.soundService.playPause())}ngOnInit(){this.beatBehaviourSubject.pipe(an(n=>{this.tempoService.setNumberOfSteps(n.tracks[0].numberOfSteps),this.tempoService.setBpm(n.bpm),this.soundService.setTracks(n.tracks)}),Mr(this.destroy$)).subscribe(),this._beatsManager.getAllBeats().then(n=>{this.genres=new Map;for(let o of n)this.genres.has(o.genre)||this.genres.set(o.genre,[]),this.genres.get(o.genre).push(o);this.genresLabel=[...this.genres.keys()];let r=this.genres.values().next().value?.[0];this.selectGenre(r.genre),this.selectBeat(n[0])}).catch(()=>{})}selectGenre(n){this.selectedGenreLabel=n;let r=this.genres.get(n);this.beats=r.map(o=>o.label),this.selectBeat(r[0])}selectBeat(n){this.beat=N(x({},n),{tracks:n.tracks.map(r=>N(x({},r),{steps:new xl(r.steps.steps)}))}),this.beatBehaviourSubject.next(this.beat),this.customBeatSubject.next(this.beat)}beatChange(n){let r=this.genres.get(this.selectedGenreLabel).find(o=>o.label===n);this.selectBeat(r)}changeBeatBpm(n){this.soundService.pause(),this.tempoService.setBpm(ac(n)),this.beat=this.beat=N(x({},this.beat),{bpm:ac(n)}),this.customBeatSubject.next(this.beat)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static{this.\u0275fac=function(r){return new(r||e)(Se(Ny),Se(Fy),Se(Py),Se(CP))}}static{this.\u0275cmp=bn({type:e,selectors:[["sequencer"]],decls:21,vars:17,consts:[["id","main-container"],[1,"play-button-container","flex"],[1,"play-pause-button","cursor-pointer","app-button",3,"click"],[1,"sequencer-header"],[1,"label"],[3,"selectChange","elements","selectedElement","placeHolder"],[1,"flex","label","bpm-input-group"],[3,"bpmChange","bpm"],[1,"large","user-select-none"],[1,"tracks-name-container"],[1,"tracks-name"],[1,"tracks-container"],["role","img","viewBox","0 0 21 21","aria-hidden","true","focusable","false",1,"svg-icon","cursor-pointer",3,"mousedown"],["stroke-width","0"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","1.134"],["fill","none","fill-rule","evenodd","stroke","#000000","stroke-linecap","round","stroke-linejoin","round"],["d","m6.5 8.5v4"],["d","m8.5 6.5v9"],["d","m10.5 9.5v2"],["d","m12.5 7.5v6.814"],["d","m14.5 4.5v12"],["fill","none","fill-rule","evenodd","stroke-linecap","round","stroke-linejoin","round"],[1,"track-name","user-select-none","medium"],["id","track"],[1,"step","cursor-pointer",3,"active","current","highlight"],[1,"step","cursor-pointer",3,"click"]],template:function(r,o){r&1&&(fe(0,"div",0)(1,"div",1)(2,"button",2),tt("click",function(){return o.soundService.playPause()}),Hr(3),he()(),fe(4,"div",3)(5,"div",4)(6,"app-select-input",5),xo(7,"translate"),tt("selectChange",function(s){return o.selectGenre(s)}),he()(),fe(8,"div",4)(9,"app-select-input",5),xo(10,"translate"),tt("selectChange",function(s){return o.beatChange(s)}),he()(),fe(11,"div",6)(12,"app-bpm-input",7),tt("bpmChange",function(s){return o.changeBeatBpm(s)}),he(),fe(13,"span",8),Hr(14," bpm"),he()()(),fe(15,"div",9),Wa(16,zY,19,1,"div",10,vf),he(),fe(18,"section",11),Wa(19,GY,4,8,"article",null,Mg),he()()),r&2&&(Oe(3),Ju(" ",o.soundService.isPlaying?"\u23F8":"\u25B6"," "),Oe(3),xt("placeHolder",Tg(ci(7,10,"chooseGenre")))("elements",o.genresLabel)("selectedElement",o.selectedGenreLabel),Oe(3),xt("placeHolder",Tg(aS(10,12,"chooseBeat",sS(15,qY,o.selectedGenreLabel))))("elements",o.beats)("selectedElement",o.beat.label),Oe(3),xt("bpm",o.tempoService.bpm),Oe(4),Ga(o.beat.tracks),Oe(3),Ga(o.beat.tracks))},dependencies:[dP,EP,vl,ky,Ay],styles:['html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%;margin:0}[_ngcontent-%COMP%]:root{font-family:Inter,sans-serif;font-feature-settings:"liga" 1,"calt" 1,"ss01" on}@supports (font-variation-settings: normal){[_ngcontent-%COMP%]:root{font-family:InterVariable,sans-serif}}a[_ngcontent-%COMP%]{all:unset}.flex[_ngcontent-%COMP%]{display:flex}.mt-40[_ngcontent-%COMP%]{margin-top:40px}.mb-40[_ngcontent-%COMP%]{margin-bottom:40px}.mb-10[_ngcontent-%COMP%]{margin-bottom:10px}.ml-10[_ngcontent-%COMP%]{margin-left:10px}.user-select-none[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none}.cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.large[_ngcontent-%COMP%]{font-size:large}.medium[_ngcontent-%COMP%]{font-size:medium}.app-button[_ngcontent-%COMP%]{background-color:var(--backgroundColor);color:var(--textColor);border:1px var(--borderColor) solid}body.dark[_ngcontent-%COMP%]{--backgroundColor: #2e2e2e;--textColor: white;--borderColor: white;--menuButtonColor: #CC71FA;--gridHighLightColor: #474747;background-color:var(--backgroundColor);color:var(--textColor)}body.light[_ngcontent-%COMP%]{--backgroundColor: white;--textColor: black;--borderColor: black;--menuButtonColor: #70F1FA;--gridHighLightColor: #e8e8e8;background-color:var(--backgroundColor);color:var(--textColor)}#main-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:max-content auto;gap:24px;margin:0 10px}.sequencer-grid[_ngcontent-%COMP%]{flex-direction:column}#track[_ngcontent-%COMP%]{display:grid;grid-template-rows:repeat(1,1fr);gap:4px}#track[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]{height:40px;width:40px;background-color:var(--backgroundColor);border-radius:4px;border:1px solid var(--borderColor)}#track[_ngcontent-%COMP%]   .current[_ngcontent-%COMP%]{background:repeating-linear-gradient(-45deg,var(--backgroundColor),var(--backgroundColor) 10px,var(--textColor) 5px,var(--textColor) 15px)}#track[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%], #track[_ngcontent-%COMP%]   .active.highlight[_ngcontent-%COMP%]{background-color:#cc71fa}#track[_ngcontent-%COMP%]   .active.current[_ngcontent-%COMP%], #track[_ngcontent-%COMP%]   .active.highlight.current[_ngcontent-%COMP%]{background:repeating-linear-gradient(-45deg,#CC71FA,#CC71FA 10px,var(--backgroundColor) 5px,var(--backgroundColor) 15px)}#track[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%]{background:var(--gridHighLightColor)}#track[_ngcontent-%COMP%]   .current.highlight[_ngcontent-%COMP%]{background:repeating-linear-gradient(-45deg,var(--gridHighLightColor),var(--gridHighLightColor) 10px,var(--textColor) 5px,var(--textColor) 15px)}.eight-steps[_ngcontent-%COMP%]{grid-template-columns:repeat(8,1fr)}.sixteen-steps[_ngcontent-%COMP%]{grid-template-columns:repeat(16,1fr)}.thirty-two-steps[_ngcontent-%COMP%]{grid-template-columns:repeat(32,1fr)}.sixty-four-steps[_ngcontent-%COMP%]{grid-template-columns:repeat(64,1fr)}.tracks-container[_ngcontent-%COMP%]{grid-column-start:2;grid-row-start:2;display:grid;grid-template-columns:auto;gap:4px;overflow-x:auto}.tracks-name-container[_ngcontent-%COMP%]{grid-column-start:1;grid-row-start:2}.tracks-name-container[_ngcontent-%COMP%]   .tracks-name[_ngcontent-%COMP%]{display:flex;gap:8px;align-items:center;height:45px}.tracks-name-container[_ngcontent-%COMP%]   .tracks-name[_ngcontent-%COMP%]   .svg-icon[_ngcontent-%COMP%]{stroke:var(--textColor);height:32px;width:32px}.tracks-name-container[_ngcontent-%COMP%]   .tracks-name[_ngcontent-%COMP%]   .track-name[_ngcontent-%COMP%]{white-space:nowrap}.sequencer-header[_ngcontent-%COMP%]{grid-column-start:2;grid-row-start:1}.sequencer-header[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{vertical-align:bottom}.sequencer-header[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]   .small[_ngcontent-%COMP%]{font-size:small}.sequencer-header[_ngcontent-%COMP%]   div[_ngcontent-%COMP%] + div[_ngcontent-%COMP%]{margin-top:8px}.sequencer-header[_ngcontent-%COMP%]   .bpm-input-group[_ngcontent-%COMP%]{align-items:center;gap:5px}.play-button-container[_ngcontent-%COMP%]{grid-column-start:1;grid-row-start:1;justify-content:center;align-items:center}.play-button-container[_ngcontent-%COMP%]   .play-pause-button[_ngcontent-%COMP%]{height:64px;width:64px;min-width:64px;font-size:20px;border-radius:8px;border-color:color-mix(in srgb,var(--textColor) 30%,var(--backgroundColor));transition:transform .2s ease-in-out,opacity .2s ease-in-out,border-color .3s,border-radius .3s,color .3s,background-color .3s}.play-button-container[_ngcontent-%COMP%]   .play-pause-button[_ngcontent-%COMP%]:active{transform:scale(.9)}.play-button-container[_ngcontent-%COMP%]   .play-pause-button[_ngcontent-%COMP%]:hover{background-color:color-mix(in srgb,var(--textColor) 80%,var(--backgroundColor));color:var(--backgroundColor);border-radius:10px;border-color:color-mix(in srgb,var(--textColor) 80%,var(--backgroundColor))}.custom-url-text[_ngcontent-%COMP%]{background-color:var(--backgroundColor);color:var(--textColor)}']})}}return e})();var DP=(()=>{class e{constructor(n){this.loader=n}intercept(n,r){return this.loader.start(),r.handle(n).pipe(ss(()=>this.loader.complete()))}static{this.\u0275fac=function(r){return new(r||e)(L(mD))}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac})}}return e})();var KY=[8,16,32,64],Ly=class{constructor(t,n,r){if(this.fileName=n,this.name=t,!KY.includes(r.length))throw new Error(`Step ${r.length} is invalid`);this.steps=new xl(r),this.numberOfSteps=this.steps.steps.length}};var jy=class{static toBeat(t){return{label:t.label,genre:t.genre,bpm:YY(t.bpm),tracks:t.tracks.map(n=>new Ly(n.name,n.fileName,[...n.steps].map(r=>r==="X")))}}static toCompactBeat(t){return{label:t.label,genre:t.genre,bpm:t.bpm,tracks:t.tracks.map(n=>({name:n.name,fileName:n.fileName,steps:n.steps.steps.map(r=>r?"X":" ").join("")}))}}};function YY(e){let t=typeof e=="number"?e:typeof e=="string"?Number(e):NaN;return ac(t)}var By=new k("JsonFilesReaderInterface");var wP=(()=>{class e{constructor(n){this.jsonFileReader=n}getAllBeats(){return Hd(this.jsonFileReader.loadAllJson().pipe(W(n=>n.filter(r=>r!=null).map(r=>jy.toBeat(r)))))}static{this.\u0275fac=function(r){return new(r||e)(L(By))}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var HW=n3(AP());var Hy=e=>typeof e=="function",d=function(e,t){if(typeof e=="function")return function(){return e(arguments)?t.apply(this,arguments):n=>t(n,...arguments)};switch(e){case 0:case 1:throw new RangeError(`Invalid arity ${e}`);case 2:return function(n,r){return arguments.length>=2?t(n,r):function(o){return t(o,n)}};case 3:return function(n,r,o){return arguments.length>=3?t(n,r,o):function(i){return t(i,n,r)}};case 4:return function(n,r,o,i){return arguments.length>=4?t(n,r,o,i):function(s){return t(s,n,r,o)}};case 5:return function(n,r,o,i,s){return arguments.length>=5?t(n,r,o,i,s):function(a){return t(a,n,r,o,i)}};default:return function(){if(arguments.length>=e)return t.apply(this,arguments);let n=arguments;return function(r){return t(r,...n)}}}};var Z=e=>e;var El=e=>()=>e,gi=El(!0),zr=El(!1),SD=El(null),Vy=El(void 0),wo=Vy;function m(e,t,n,r,o,i,s,a,c){switch(arguments.length){case 1:return e;case 2:return t(e);case 3:return n(t(e));case 4:return r(n(t(e)));case 5:return o(r(n(t(e))));case 6:return i(o(r(n(t(e)))));case 7:return s(i(o(r(n(t(e))))));case 8:return a(s(i(o(r(n(t(e)))))));case 9:return c(a(s(i(o(r(n(t(e))))))));default:{let u=arguments[0];for(let l=1;l<arguments.length;l++)u=arguments[l](u);return u}}}var _l=e=>(t,n)=>t===n||e(t,n);var kP=d(2,(e,t)=>_l((n,r)=>e(t(n),t(r))));var NP=e=>_l((t,n)=>{if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(!e(t[r],n[r]))return!1;return!0});var Uy=e=>d(3,(t,n,r)=>e(t,o=>N(x({},o),{[n]:r(o)}))),$y=e=>d(2,(t,n)=>e(t,r=>({[n]:r}))),qy=(e,t)=>d(3,(n,r,o)=>t(n,i=>e(o(i),s=>N(x({},i),{[r]:s}))));var PP="effect/GlobalValue",Qf,U=(e,t)=>(Qf||(globalThis[PP]??=new Map,Qf=globalThis[PP]),Qf.has(e)||Qf.set(e,t()),Qf.get(e));var Xf=e=>typeof e=="string",ep=e=>typeof e=="number";var DD=e=>typeof e=="bigint";var Rs=Hy;var JY=e=>typeof e=="object"&&e!==null,vi=e=>JY(e)||Rs(e),A=d(2,(e,t)=>vi(e)&&t in e),As=d(2,(e,t)=>A(e,"_tag")&&e._tag===t),uc=e=>e==null;var ar=e=>typeof e=="string"||A(e,Symbol.iterator);var wD=e=>A(e,"then")&&Rs(e.then);var lc=e=>`BUG: ${e} - please report an issue at https://github.com/Effect-TS/effect/issues`;var ID=Symbol.for("effect/Gen/GenKind"),jP=e=>vi(e)&&ID in e,MD=class{value;constructor(t){this.value=t}get _F(){return Z}get _R(){return t=>t}get _O(){return t=>t}get _E(){return t=>t}[ID]=ID;[Symbol.iterator](){return new dc(this)}},dc=class e{self;called=!1;constructor(t){this.self=t}next(t){return this.called?{value:t,done:!0}:(this.called=!0,{value:this.self,done:!1})}return(t){return{value:t,done:!0}}throw(t){throw t}[Symbol.iterator](){return new e(this.self)}};var BP=()=>function(){let e=arguments[0];for(let t=1;t<arguments.length;t++)e=arguments[t](e);return new MD(e)},QY=335903614,XY=4150755663,e7=1481765933,t7=1284865837,n7=9007199254740992,r7=134217728,zy=class{_state;constructor(t,n,r,o){return uc(n)&&uc(t)?(n=Math.random()*4294967295>>>0,t=0):uc(n)&&(n=t,t=0),uc(o)&&uc(r)?(o=this._state?this._state[3]:XY,r=this._state?this._state[2]:QY):uc(o)&&(o=r,r=0),this._state=new Int32Array([0,0,r>>>0,((o||0)|1)>>>0]),this._next(),LP(this._state,this._state[0],this._state[1],t>>>0,n>>>0),this._next(),this}getState(){return[this._state[0],this._state[1],this._state[2],this._state[3]]}setState(t){this._state[0]=t[0],this._state[1]=t[1],this._state[2]=t[2],this._state[3]=t[3]|1}integer(t){return Math.round(this.number()*Number.MAX_SAFE_INTEGER)%t}number(){let t=(this._next()&67108863)*1,n=(this._next()&134217727)*1;return(t*r7+n)/n7}_next(){let t=this._state[0]>>>0,n=this._state[1]>>>0;o7(this._state,t,n,e7,t7),LP(this._state,this._state[0],this._state[1],this._state[2],this._state[3]);let r=t>>>18,o=(n>>>18|t<<14)>>>0;r=(r^t)>>>0,o=(o^n)>>>0;let i=(o>>>27|r<<5)>>>0,s=t>>>27,a=(-s>>>0&31)>>>0;return(i>>>s|i<<a)>>>0}};function o7(e,t,n,r,o){let i=(n>>>16)*(o&65535)>>>0,s=(n&65535)*(o>>>16)>>>0,a=(n&65535)*(o&65535)>>>0,c=(n>>>16)*(o>>>16)+((s>>>16)+(i>>>16))>>>0;s=s<<16>>>0,a=a+s>>>0,a>>>0<s>>>0&&(c=c+1>>>0),i=i<<16>>>0,a=a+i>>>0,a>>>0<i>>>0&&(c=c+1>>>0),c=c+Math.imul(n,r)>>>0,c=c+Math.imul(t,o)>>>0,e[0]=c,e[1]=a}function LP(e,t,n,r,o){let i=t+r>>>0,s=n+o>>>0;s>>>0<n>>>0&&(i=i+1|0),e[0]=i,e[1]=s}var TD=Symbol.for("effect/Utils/YieldWrap"),Io=class{#e;constructor(t){this.#e=t}[TD](){return this.#e}};function np(e){if(typeof e=="object"&&e!==null&&TD in e)return e[TD]();throw new Error(lc("yieldWrapGet"))}var En=U("effect/Utils/isStructuralRegion",()=>({enabled:!1,tester:void 0}));var HP={effect_internal_function:e=>e()},i7={effect_internal_function:e=>e()},s7=HP.effect_internal_function(()=>new Error().stack)?.includes("effect_internal_function")===!0,Ke=s7?HP.effect_internal_function:i7.effect_internal_function,a7=function*(){}.constructor,VP=e=>vi(e)&&e.constructor===a7;var RD=U(Symbol.for("effect/Hash/randomHashCache"),()=>new WeakMap),j=Symbol.for("effect/Hash"),M=e=>{if(En.enabled===!0)return 0;switch(typeof e){case"number":return Gy(e);case"bigint":return me(e.toString(10));case"boolean":return me(String(e));case"symbol":return me(String(e));case"string":return me(e);case"undefined":return me("undefined");case"function":case"object":return e===null?me("null"):e instanceof Date?Number.isNaN(e.getTime())?me("Invalid Date"):M(e.toISOString()):e instanceof URL?M(e.href):c7(e)?e[j]():Cl(e);default:throw new Error(`BUG: unhandled typeof ${typeof e} - please report an issue at https://github.com/Effect-TS/effect/issues`)}},Cl=e=>(RD.has(e)||RD.set(e,Gy(Math.floor(Math.random()*Number.MAX_SAFE_INTEGER))),RD.get(e)),H=e=>t=>t*53^e,Wy=e=>e&3221225471|e>>>1&1073741824,c7=e=>A(e,j),Gy=e=>{if(e!==e||e===1/0)return 0;let t=e|0;for(t!==e&&(t^=e*4294967295);e>4294967295;)t^=e/=4294967295;return Wy(t)},me=e=>{let t=5381,n=e.length;for(;n;)t=t*33^e.charCodeAt(--n);return Wy(t)},u7=(e,t)=>{let n=12289;for(let r=0;r<t.length;r++)n^=m(me(t[r]),H(M(e[t[r]])));return Wy(n)},Ky=e=>u7(e,Object.keys(e)),_n=e=>{let t=6151;for(let n=0;n<e.length;n++)t=m(t,H(M(e[n])));return Wy(t)},J=function(){if(arguments.length===1){let n=arguments[0];return function(r){return Object.defineProperty(n,j,{value(){return r},enumerable:!1}),r}}let e=arguments[0],t=arguments[1];return Object.defineProperty(e,j,{value(){return t},enumerable:!1}),t};var P=Symbol.for("effect/Equal");function T(){return arguments.length===1?e=>Yy(e,arguments[0]):Yy(arguments[0],arguments[1])}function Yy(e,t){if(e===t)return!0;let n=typeof e;if(n!==typeof t)return!1;if(n==="object"||n==="function"){if(e!==null&&t!==null){if(Sl(e)&&Sl(t))return M(e)===M(t)&&e[P](t)?!0:En.enabled&&En.tester?En.tester(e,t):!1;if(e instanceof Date&&t instanceof Date){let r=e.getTime(),o=t.getTime();return r===o||Number.isNaN(r)&&Number.isNaN(o)}else if(e instanceof URL&&t instanceof URL)return e.href===t.href}if(En.enabled){if(Array.isArray(e)&&Array.isArray(t))return e.length===t.length&&e.every((r,o)=>Yy(r,t[o]));if(Object.getPrototypeOf(e)===Object.prototype&&Object.getPrototypeOf(t)===Object.prototype){let r=Object.keys(e),o=Object.keys(t);if(r.length===o.length){for(let i of r)if(!(i in t&&Yy(e[i],t[i])))return En.tester?En.tester(e,t):!1;return!0}}return En.tester?En.tester(e,t):!1}}return En.enabled&&En.tester?En.tester(e,t):!1}var Sl=e=>A(e,P),rp=()=>T;var Q=Symbol.for("nodejs.util.inspect.custom"),oe=e=>{try{if(A(e,"toJSON")&&Rs(e.toJSON)&&e.toJSON.length===0)return e.toJSON();if(Array.isArray(e))return e.map(oe)}catch(t){return{}}return zP(e)};var se=e=>JSON.stringify(e,null,2),qTe={toJSON(){return oe(this)},[Q](){return this.toJSON()},toString(){return se(this.toJSON())}},UP=class{[Q](){return this.toJSON()}toString(){return se(this.toJSON())}},xi=(e,t=2)=>{if(typeof e=="string")return e;try{return typeof e=="object"?Zy(e,t):String(e)}catch(n){return String(e)}},Zy=(e,t)=>{let n=[],r=JSON.stringify(e,(o,i)=>typeof i=="object"&&i!==null?n.includes(i)?void 0:n.push(i)&&(fc.fiberRefs!==void 0&&$P(i)?i[AD](fc.fiberRefs):i):i,t);return n=void 0,r},AD=Symbol.for("effect/Inspectable/Redactable"),$P=e=>typeof e=="object"&&e!==null&&AD in e,fc=U("effect/Inspectable/redactableState",()=>({fiberRefs:void 0})),qP=(e,t)=>{let n=fc.fiberRefs;fc.fiberRefs=e;try{return t()}finally{fc.fiberRefs=n}},zP=e=>$P(e)&&fc.fiberRefs!==void 0?e[AD](fc.fiberRefs):e;var R=(e,t)=>{switch(t.length){case 0:return e;case 1:return t[0](e);case 2:return t[1](t[0](e));case 3:return t[2](t[1](t[0](e)));case 4:return t[3](t[2](t[1](t[0](e))));case 5:return t[4](t[3](t[2](t[1](t[0](e)))));case 6:return t[5](t[4](t[3](t[2](t[1](t[0](e))))));case 7:return t[6](t[5](t[4](t[3](t[2](t[1](t[0](e)))))));case 8:return t[7](t[6](t[5](t[4](t[3](t[2](t[1](t[0](e))))))));case 9:return t[8](t[7](t[6](t[5](t[4](t[3](t[2](t[1](t[0](e)))))))));default:{let n=e;for(let r=0,o=t.length;r<o;r++)n=t[r](n);return n}}};var pc="Async",hc="Commit",nt="Failure",Dl="OnFailure",wl="OnSuccess",Il="OnSuccessAndFailure",rt="Success",Qy="Sync";var bi="UpdateRuntimeFlags",Ml="While",mc="Iterator",Xy="WithRuntime",Tl="Yield",op="RevertFlags";var d7="3.19.16",sp=()=>d7;var GP=Symbol.for("effect/Effect"),KP=Symbol.for("effect/Stream"),YP=Symbol.for("effect/Sink"),ZP=Symbol.for("effect/Channel"),ks={_R:e=>e,_E:e=>e,_A:e=>e,_V:sp()},f7={_A:e=>e,_In:e=>e,_L:e=>e,_E:e=>e,_R:e=>e},p7={_Env:e=>e,_InErr:e=>e,_InElem:e=>e,_InDone:e=>e,_OutErr:e=>e,_OutElem:e=>e,_OutDone:e=>e},Ei={[GP]:ks,[KP]:ks,[YP]:f7,[ZP]:p7,[P](e){return this===e},[j](){return J(this,Cl(this))},[Symbol.iterator](){return new dc(new Io(this))},pipe(){return R(this,arguments)}},Ol={[j](){return J(this,Ky(this))},[P](e){let t=Object.keys(this),n=Object.keys(e);if(t.length!==n.length)return!1;for(let r of t)if(!(r in e&&T(this[r],e[r])))return!1;return!0}},_i=N(x({},Ei),{_op:hc}),kD=x(x({},_i),Ol),JP=(function(){function e(){}return e.prototype=_i,e})();var XP=Symbol.for("effect/Option"),eL=N(x({},Ei),{[XP]:{_A:e=>e},[Q](){return this.toJSON()},toString(){return se(this.toJSON())}}),h7=Object.assign(Object.create(eL),{_tag:"Some",_op:"Some",[P](e){return ev(e)&&ND(e)&&T(this.value,e.value)},[j](){return J(this,H(M(this._tag))(M(this.value)))},toJSON(){return{_id:"Option",_tag:this._tag,value:oe(this.value)}}}),m7=M("None"),g7=Object.assign(Object.create(eL),{_tag:"None",_op:"None",[P](e){return ev(e)&&gc(e)},[j](){return m7},toJSON(){return{_id:"Option",_tag:this._tag}}}),ev=e=>A(e,XP),gc=e=>e._tag==="None",ND=e=>e._tag==="Some",Ns=Object.create(g7),cr=e=>{let t=Object.create(h7);return t.value=e,t};var FD=Symbol.for("effect/Either"),tL=N(x({},Ei),{[FD]:{_R:e=>e},[Q](){return this.toJSON()},toString(){return se(this.toJSON())}}),y7=Object.assign(Object.create(tL),{_tag:"Right",_op:"Right",[P](e){return PD(e)&&nv(e)&&T(this.right,e.right)},[j](){return H(M(this._tag))(M(this.right))},toJSON(){return{_id:"Either",_tag:this._tag,right:oe(this.right)}}}),v7=Object.assign(Object.create(tL),{_tag:"Left",_op:"Left",[P](e){return PD(e)&&Rl(e)&&T(this.left,e.left)},[j](){return H(M(this._tag))(M(this.left))},toJSON(){return{_id:"Either",_tag:this._tag,left:oe(this.left)}}}),PD=e=>A(e,FD),Rl=e=>e._tag==="Left",nv=e=>e._tag==="Right",rv=e=>{let t=Object.create(v7);return t.left=e,t},ov=e=>{let t=Object.create(y7);return t.right=e,t},LD=e=>nv(e)?Ns:cr(e.left),jD=e=>Rl(e)?Ns:cr(e.right);var un=ov;var ur=rv;var Mo=Rl,Al=nv;var x7=d(2,(e,{onLeft:t,onRight:n})=>Mo(e)?t(e.left):n(e.right));var iv=x7({onLeft:Z,onRight:Z});var BD=e=>e.length>0;var Ee={};iO(Ee,{Do:()=>eZ,TypeId:()=>E7,all:()=>lL,andThen:()=>N7,ap:()=>V7,as:()=>aL,asVoid:()=>A7,bind:()=>X7,bindTo:()=>J7,composeK:()=>B7,contains:()=>qD,containsWith:()=>pL,exists:()=>Z7,filter:()=>q7,filterMap:()=>fL,firstSomeOf:()=>M7,flatMap:()=>Cn,flatMapNullable:()=>F7,flatten:()=>P7,fromIterable:()=>C7,fromNullable:()=>Wr,gen:()=>nZ,getEquivalence:()=>z7,getLeft:()=>D7,getOrElse:()=>ht,getOrNull:()=>O7,getOrThrow:()=>UD,getOrThrowWith:()=>sL,getOrUndefined:()=>zt,getOrder:()=>W7,getRight:()=>S7,isNone:()=>ce,isOption:()=>iL,isSome:()=>De,let:()=>Q7,lift2:()=>G7,liftNullable:()=>T7,liftPredicate:()=>K7,liftThrowable:()=>R7,map:()=>pt,match:()=>bt,mergeWith:()=>kl,none:()=>_,orElse:()=>w7,orElseEither:()=>I7,orElseSome:()=>VD,partitionMap:()=>$7,product:()=>uL,productMany:()=>H7,reduceCompact:()=>U7,some:()=>C,tap:()=>cL,toArray:()=>dL,toRefinement:()=>_7,void:()=>k7,zipLeft:()=>j7,zipRight:()=>L7,zipWith:()=>$D});var sv=e=>(t,n)=>t===n?0:e(t,n);var rL=sv((e,t)=>e<t?-1:1);var oL=d(2,(e,t)=>sv((n,r)=>e(t(n),t(r))));var HD=e=>d(2,(t,n)=>e(t,n)===1);var E7=Symbol.for("effect/Option"),_=()=>Ns,C=cr,iL=ev,ce=gc,De=ND,bt=d(2,(e,{onNone:t,onSome:n})=>ce(e)?t():n(e.value)),_7=e=>t=>De(e(t)),C7=e=>{for(let t of e)return C(t);return _()},S7=jD,D7=LD,ht=d(2,(e,t)=>ce(e)?t():e.value),w7=d(2,(e,t)=>ce(e)?t():e),VD=d(2,(e,t)=>ce(e)?C(t()):e),I7=d(2,(e,t)=>ce(e)?pt(t(),ov):pt(e,rv)),M7=e=>{let t=_();for(t of e)if(De(t))return t;return t},Wr=e=>e==null?_():C(e),T7=e=>(...t)=>Wr(e(...t)),O7=ht(SD),zt=ht(Vy),R7=e=>(...t)=>{try{return C(e(...t))}catch(n){return _()}},sL=d(2,(e,t)=>{if(De(e))return e.value;throw t()}),UD=sL(()=>new Error("getOrThrow called on a None")),pt=d(2,(e,t)=>ce(e)?_():C(t(e.value))),aL=d(2,(e,t)=>pt(e,()=>t)),A7=aL(void 0),k7=C(void 0);var Cn=d(2,(e,t)=>ce(e)?_():t(e.value)),N7=d(2,(e,t)=>Cn(e,n=>{let r=Hy(t)?t(n):t;return iL(r)?r:C(r)})),F7=d(2,(e,t)=>ce(e)?_():Wr(t(e.value))),P7=Cn(Z),L7=d(2,(e,t)=>Cn(e,()=>t)),j7=d(2,(e,t)=>cL(e,()=>t)),B7=d(2,(e,t)=>n=>Cn(e(n),t)),cL=d(2,(e,t)=>Cn(e,n=>pt(t(n),()=>n))),uL=(e,t)=>De(e)&&De(t)?C([e.value,t.value]):_(),H7=(e,t)=>{if(ce(e))return _();let n=[e.value];for(let r of t){if(ce(r))return _();n.push(r.value)}return C(n)},lL=e=>{if(Symbol.iterator in e){let n=[];for(let r of e){if(ce(r))return _();n.push(r.value)}return C(n)}let t={};for(let n of Object.keys(e)){let r=e[n];if(ce(r))return _();t[n]=r.value}return C(t)},$D=d(3,(e,t,n)=>pt(uL(e,t),([r,o])=>n(r,o))),V7=d(2,(e,t)=>$D(e,t,(n,r)=>n(r))),U7=d(3,(e,t,n)=>{let r=t;for(let o of e)De(o)&&(r=n(r,o.value));return r}),dL=e=>ce(e)?[]:[e.value],$7=d(2,(e,t)=>{if(ce(e))return[_(),_()];let n=t(e.value);return Rl(n)?[C(n.left),_()]:[_(),C(n.right)]}),fL=Cn,q7=d(2,(e,t)=>fL(e,n=>t(n)?cr(n):Ns)),z7=e=>_l((t,n)=>ce(t)?ce(n):ce(n)?!1:e(t.value,n.value)),W7=e=>sv((t,n)=>De(t)?De(n)?e(t.value,n.value):1:-1),G7=e=>d(2,(t,n)=>$D(t,n,e)),K7=d(2,(e,t)=>t(e)?C(e):_()),pL=e=>d(2,(t,n)=>ce(t)?!1:e(t.value,n)),Y7=rp(),qD=pL(Y7),Z7=d(2,(e,t)=>ce(e)?!1:t(e.value)),J7=$y(pt),Q7=Uy(pt);var X7=qy(pt,Cn),eZ=C({}),tZ=BP(),nZ=(...e)=>{let n=(e.length===1?e[0]:e[1].bind(e[0]))(tZ),r=n.next();for(;!r.done;){let o=jP(r.value)?r.value.value:np(r.value);if(ce(o))return o;r=n.next(o.value)}return C(r.value)},kl=e=>(t,n)=>ce(t)?n:ce(n)?t:C(e(t.value,n.value));var hL=(...e)=>e;var ap=e=>new Array(e),zD=d(2,(e,t)=>{let n=Math.max(1,Math.floor(e)),r=new Array(n);for(let o=0;o<n;o++)r[o]=t(o);return r});var ae=e=>Array.isArray(e)?e:Array.from(e),gL=e=>Array.isArray(e)?e:[e];var Nl=d(2,(e,t)=>[t,...e]);var yL=d(2,(e,t)=>[...e,t]),WD=d(2,(e,t)=>ae(e).concat(ae(t)));var rZ=e=>e.length===0,vL=rZ,cv=BD,nn=BD;var xL=(e,t)=>e<0||e>=t.length,oZ=(e,t)=>Math.floor(Math.min(Math.max(0,e),t.length)),iZ=d(2,(e,t)=>{let n=Math.floor(t);return xL(n,e)?_():C(e[n])}),GD=d(2,(e,t)=>{let n=Math.floor(t);if(xL(n,e))throw new Error(`Index ${n} out of bounds`);return e[n]});var Ps=iZ(0),Bt=GD(0),uv=e=>nn(e)?C(KD(e)):_(),KD=e=>e[e.length-1];var To=e=>e.slice(1);var sZ=(e,t)=>{let n=0;for(let r of e){if(!t(r,n))break;n++}return n},bL=d(2,(e,t)=>cZ(e,sZ(e,t))),EL=d(2,(e,t)=>{let n=ae(e);return n.slice(oZ(t,n),n.length)});var YD=e=>Array.from(e).reverse(),yc=d(2,(e,t)=>{let n=Array.from(e);return n.sort(t),n});var ZD=d(2,(e,t)=>_L(e,t,hL)),_L=d(3,(e,t,n)=>{let r=ae(e),o=ae(t);if(nn(r)&&nn(o)){let i=[n(Bt(r),Bt(o))],s=Math.min(r.length,o.length);for(let a=1;a<s;a++)i[a]=n(r[a],o[a]);return i}return[]});var aZ=rp();var cZ=d(2,(e,t)=>{let n=Array.from(e),r=Math.floor(t);return nn(n)?r>=1?uZ(n,r):[[],n]:[n,[]]}),uZ=d(2,(e,t)=>{let n=Math.max(1,Math.floor(t));return n>=e.length?[lZ(e),[]]:[Nl(e.slice(1,n),Bt(e)),e.slice(n)]});var lZ=e=>e.slice();var dZ=d(3,(e,t,n)=>{let r=ae(e),o=ae(t);return nn(r)?nn(o)?DL(n)(WD(r,o)):r:o}),Gr=d(2,(e,t)=>dZ(e,t,aZ));var Kr=()=>[],ln=e=>[e],Oo=d(2,(e,t)=>e.map(t)),CL=d(2,(e,t)=>{if(vL(e))return[];let n=[];for(let r=0;r<e.length;r++){let o=t(e[r],r);for(let i=0;i<o.length;i++)n.push(o[i])}return n}),lv=CL(Z),Fl=d(2,(e,t)=>{let n=ae(e),r=[];for(let o=0;o<n.length;o++){let i=t(n[o],o);De(i)&&r.push(i.value)}return r});var JD=d(2,(e,t)=>{let n=[],r=[],o=ae(e);for(let i=0;i<o.length;i++){let s=t(o[i],i);Mo(s)?n.push(s.left):r.push(s.right)}return[n,r]}),SL=Fl(Z);var Ls=d(3,(e,t,n)=>ae(e).reduce((r,o,i)=>n(r,o,i),t)),dv=d(3,(e,t,n)=>ae(e).reduceRight((r,o,i)=>n(r,o,i),t));var QD=(e,t)=>{let n=[],r=e,o;for(;De(o=t(r));){let[i,s]=o.value;n.push(i),r=s}return n};var Pl=NP;var DL=d(2,(e,t)=>{let n=ae(e);if(nn(n)){let r=[Bt(n)],o=To(n);for(let i of o)r.every(s=>!t(i,s))&&r.push(i);return r}return[]}),XD=e=>DL(e,rp());var Ci=d(2,(e,t)=>ae(e).join(t));var js=rL;var wL=e=>e.replace(/[/\\^$*+?.()|[\]{}]/g,"\\$&");var ML=e=>!e;var tw=Symbol.for("effect/Context/Tag"),cp=Symbol.for("effect/Context/Reference"),mZ="effect/STM",gZ=Symbol.for(mZ),up=N(x({},Ei),{_op:"Tag",[gZ]:ks,[tw]:{_Service:e=>e,_Identifier:e=>e},toString(){return se(this.toJSON())},toJSON(){return{_id:"Tag",key:this.key,stack:this.stack}},[Q](){return this.toJSON()},of(e){return e},context(e){return ow(this,e)}}),yZ=N(x({},up),{[cp]:cp}),OL=e=>{let t=Error.stackTraceLimit;Error.stackTraceLimit=2;let n=new Error;Error.stackTraceLimit=t;let r=Object.create(up);return Object.defineProperty(r,"stack",{get(){return n.stack}}),r.key=e,r};var RL=()=>(e,t)=>{let n=Error.stackTraceLimit;Error.stackTraceLimit=2;let r=new Error;Error.stackTraceLimit=n;function o(){}return Object.setPrototypeOf(o,yZ),o.key=e,o.defaultValue=t.defaultValue,Object.defineProperty(o,"stack",{get(){return r.stack}}),o},nw=Symbol.for("effect/Context"),vZ={[nw]:{_Services:e=>e},[P](e){if(rw(e)&&this.unsafeMap.size===e.unsafeMap.size){for(let t of this.unsafeMap.keys())if(!e.unsafeMap.has(t)||!T(this.unsafeMap.get(t),e.unsafeMap.get(t)))return!1;return!0}return!1},[j](){return J(this,Gy(this.unsafeMap.size))},pipe(){return R(this,arguments)},toString(){return se(this.toJSON())},toJSON(){return{_id:"Context",services:Array.from(this.unsafeMap).map(oe)}},[Q](){return this.toJSON()}},Si=e=>{let t=Object.create(vZ);return t.unsafeMap=e,t},xZ=e=>{let t=new Error(`Service not found${e.key?`: ${String(e.key)}`:""}`);if(e.stack){let n=e.stack.split(`
`);if(n.length>2){let r=n[2].match(/at (.*)/);r&&(t.message=t.message+` (defined at ${r[1]})`)}}if(t.stack){let n=t.stack.split(`
`);n.splice(1,3),t.stack=n.join(`
`)}return t},rw=e=>A(e,nw),AL=e=>A(e,tw),kL=e=>A(e,cp),bZ=Si(new Map),NL=()=>bZ,ow=(e,t)=>Si(new Map([[e.key,t]])),FL=d(3,(e,t,n)=>{let r=new Map(e.unsafeMap);return r.set(t.key,n),Si(r)}),ew=U("effect/Context/defaultValueCache",()=>new Map),iw=e=>{if(ew.has(e.key))return ew.get(e.key);let t=e.defaultValue();return ew.set(e.key,t),t},PL=(e,t)=>e.unsafeMap.has(t.key)?e.unsafeMap.get(t.key):iw(t),sw=d(2,(e,t)=>{if(!e.unsafeMap.has(t.key)){if(cp in t)return iw(t);throw xZ(t)}return e.unsafeMap.get(t.key)}),LL=sw;var jL=d(2,(e,t)=>e.unsafeMap.has(t.key)?cr(e.unsafeMap.get(t.key)):kL(t)?cr(iw(t)):Ns),BL=d(2,(e,t)=>{let n=new Map(e.unsafeMap);for(let[r,o]of t.unsafeMap)n.set(r,o);return Si(n)}),HL=(...e)=>{let t=new Map;for(let n=0;n<e.length;n++)e[n].unsafeMap.forEach((r,o)=>{t.set(o,r)});return Si(t)};var dn=OL;var UL=rw,lp=AL;var Un=NL,vc=ow,Be=FL,Sn=LL;var Bs=sw,Yr=jL,Di=BL,$L=HL;var Ro=RL;var qL=Symbol.for("effect/Chunk");function EZ(e,t,n,r,o){for(let i=t;i<Math.min(e.length,t+o);i++)n[r+i-t]=e[i];return n}var zL=[],_Z=e=>_l((t,n)=>t.length===n.length&&lr(t).every((r,o)=>e(r,xc(n,o)))),CZ=_Z(T),SZ={[qL]:{_A:e=>e},toString(){return se(this.toJSON())},toJSON(){return{_id:"Chunk",values:lr(this).map(oe)}},[Q](){return this.toJSON()},[P](e){return WL(e)&&CZ(this,e)},[j](){return J(this,_n(lr(this)))},[Symbol.iterator](){switch(this.backing._tag){case"IArray":return this.backing.array[Symbol.iterator]();case"IEmpty":return zL[Symbol.iterator]();default:return lr(this)[Symbol.iterator]()}},pipe(){return R(this,arguments)}},Tt=e=>{let t=Object.create(SZ);switch(t.backing=e,e._tag){case"IEmpty":{t.length=0,t.depth=0,t.left=t,t.right=t;break}case"IConcat":{t.length=e.left.length+e.right.length,t.depth=1+Math.max(e.left.depth,e.right.depth),t.left=e.left,t.right=e.right;break}case"IArray":{t.length=e.array.length,t.depth=0,t.left=Ao,t.right=Ao;break}case"ISingleton":{t.length=1,t.depth=0,t.left=Ao,t.right=Ao;break}case"ISlice":{t.length=e.length,t.depth=e.chunk.depth+1,t.left=Ao,t.right=Ao;break}}return t},WL=e=>A(e,qL),Ao=Tt({_tag:"IEmpty"}),fn=()=>Ao,dp=(...e)=>MZ(e),Ye=e=>Tt({_tag:"ISingleton",a:e}),bc=e=>WL(e)?e:fp(ae(e)),aw=(e,t,n)=>{switch(e.backing._tag){case"IArray":{EZ(e.backing.array,0,t,n,e.length);break}case"IConcat":{aw(e.left,t,n),aw(e.right,t,n+e.left.length);break}case"ISingleton":{t[n]=e.backing.a;break}case"ISlice":{let r=0,o=n;for(;r<e.length;)t[o]=xc(e,r),r+=1,o+=1;break}}};var DZ=e=>{switch(e.backing._tag){case"IEmpty":return zL;case"IArray":return e.backing.array;default:{let t=new Array(e.length);return aw(e,t,0),e.backing={_tag:"IArray",array:t},e.left=Ao,e.right=Ao,e.depth=0,t}}},lr=DZ,wZ=e=>{switch(e.backing._tag){case"IEmpty":case"ISingleton":return e;case"IArray":return Tt({_tag:"IArray",array:YD(e.backing.array)});case"IConcat":return Tt({_tag:"IConcat",left:ko(e.backing.right),right:ko(e.backing.left)});case"ISlice":return fp(YD(lr(e)))}},ko=wZ,IZ=d(2,(e,t)=>t<0||t>=e.length?_():C(xc(e,t))),fp=e=>e.length===0?fn():e.length===1?Ye(e[0]):Tt({_tag:"IArray",array:e}),MZ=e=>fp(e),xc=d(2,(e,t)=>{switch(e.backing._tag){case"IEmpty":throw new Error("Index out of bounds");case"ISingleton":{if(t!==0)throw new Error("Index out of bounds");return e.backing.a}case"IArray":{if(t>=e.length||t<0)throw new Error("Index out of bounds");return e.backing.array[t]}case"IConcat":return t<e.left.length?xc(e.left,t):xc(e.right,t-e.left.length);case"ISlice":return xc(e.backing.chunk,t+e.backing.offset)}}),pv=d(2,(e,t)=>$n(e,Ye(t))),Ht=d(2,(e,t)=>$n(Ye(t),e));var cw=d(2,(e,t)=>{if(t<=0)return e;if(t>=e.length)return Ao;switch(e.backing._tag){case"ISlice":return Tt({_tag:"ISlice",chunk:e.backing.chunk,offset:e.backing.offset+t,length:e.backing.length-t});case"IConcat":return t>e.left.length?cw(e.right,t-e.left.length):Tt({_tag:"IConcat",left:cw(e.left,t),right:e.right});default:return Tt({_tag:"ISlice",chunk:e,offset:t,length:e.length-t})}});var $n=d(2,(e,t)=>{if(e.backing._tag==="IEmpty")return t;if(t.backing._tag==="IEmpty")return e;let n=t.depth-e.depth;if(Math.abs(n)<=1)return Tt({_tag:"IConcat",left:e,right:t});if(n<-1)if(e.left.depth>=e.right.depth){let r=$n(e.right,t);return Tt({_tag:"IConcat",left:e.left,right:r})}else{let r=$n(e.right.right,t);if(r.depth===e.depth-3){let o=Tt({_tag:"IConcat",left:e.right.left,right:r});return Tt({_tag:"IConcat",left:e.left,right:o})}else{let o=Tt({_tag:"IConcat",left:e.left,right:e.right.left});return Tt({_tag:"IConcat",left:o,right:r})}}else if(t.right.depth>=t.left.depth){let r=$n(e,t.left);return Tt({_tag:"IConcat",left:r,right:t.right})}else{let r=$n(e,t.left.left);if(r.depth===t.depth-3){let o=Tt({_tag:"IConcat",left:r,right:t.left.right});return Tt({_tag:"IConcat",left:o,right:t.right})}else{let o=Tt({_tag:"IConcat",left:t.left.right,right:t.right});return Tt({_tag:"IConcat",left:r,right:o})}}});var uw=e=>e.length===0,Wt=e=>e.length>0,hv=IZ(0),lw=e=>xc(e,0),Vt=lw;var on=e=>cw(e,1);var dw=Symbol.for("effect/Duration"),JL=BigInt(0),GL=BigInt(24),mv=BigInt(60),fw=BigInt(1e3),KL=BigInt(1e6),YL=BigInt(1e9),TZ=/^(-?\d+(?:\.\d+)?)\s+(nanos?|micros?|millis?|seconds?|minutes?|hours?|days?|weeks?)$/,Ot=e=>{if(QL(e))return e;if(ep(e))return Hs(e);if(DD(e))return pp(e);if(Array.isArray(e)&&e.length===2&&e.every(ep))return e[0]===-1/0||e[1]===-1/0||Number.isNaN(e[0])||Number.isNaN(e[1])?Vs:e[0]===1/0||e[1]===1/0?kZ:pp(BigInt(Math.round(e[0]*1e9))+BigInt(Math.round(e[1])));if(Xf(e)){let t=TZ.exec(e);if(t){let[n,r,o]=t,i=Number(r);switch(o){case"nano":case"nanos":return pp(BigInt(r));case"micro":case"micros":return NZ(BigInt(r));case"milli":case"millis":return Hs(i);case"second":case"seconds":return pw(i);case"minute":case"minutes":return FZ(i);case"hour":case"hours":return PZ(i);case"day":case"days":return LZ(i);case"week":case"weeks":return jZ(i)}}}throw new Error("Invalid DurationInput")};var ZL={_tag:"Millis",millis:0},OZ={_tag:"Infinity"},RZ={[dw]:dw,[j](){return J(this,Ky(this.value))},[P](e){return QL(e)&&$Z(this,e)},toString(){return`Duration(${gw(this)})`},toJSON(){switch(this.value._tag){case"Millis":return{_id:"Duration",_tag:"Millis",millis:this.value.millis};case"Nanos":return{_id:"Duration",_tag:"Nanos",hrtime:HZ(this)};case"Infinity":return{_id:"Duration",_tag:"Infinity"}}},[Q](){return this.toJSON()},pipe(){return R(this,arguments)}},Fo=e=>{let t=Object.create(RZ);return ep(e)?isNaN(e)||e<=0?t.value=ZL:Number.isFinite(e)?Number.isInteger(e)?t.value={_tag:"Millis",millis:e}:t.value={_tag:"Nanos",nanos:BigInt(Math.round(e*1e6))}:t.value=OZ:e<=JL?t.value=ZL:t.value={_tag:"Nanos",nanos:e},t},QL=e=>A(e,dw);var AZ=e=>{switch(e.value._tag){case"Millis":return e.value.millis===0;case"Nanos":return e.value.nanos===JL;case"Infinity":return!1}},Vs=Fo(0),kZ=Fo(1/0),pp=e=>Fo(e),NZ=e=>Fo(e*fw),Hs=e=>Fo(e),pw=e=>Fo(e*1e3),FZ=e=>Fo(e*6e4),PZ=e=>Fo(e*36e5),LZ=e=>Fo(e*864e5),jZ=e=>Fo(e*6048e5),No=e=>VZ(e,{onMillis:t=>t,onNanos:t=>Number(t)/1e6});var BZ=e=>{let t=Ot(e);switch(t.value._tag){case"Infinity":throw new Error("Cannot convert infinite duration to nanos");case"Nanos":return t.value.nanos;case"Millis":return BigInt(Math.round(t.value.millis*1e6))}},HZ=e=>{let t=Ot(e);switch(t.value._tag){case"Infinity":return[1/0,0];case"Nanos":return[Number(t.value.nanos/YL),Number(t.value.nanos%YL)];case"Millis":return[Math.floor(t.value.millis/1e3),Math.round(t.value.millis%1e3*1e6)]}},VZ=d(2,(e,t)=>{let n=Ot(e);switch(n.value._tag){case"Nanos":return t.onNanos(n.value.nanos);case"Infinity":return t.onMillis(1/0);case"Millis":return t.onMillis(n.value.millis)}}),hw=d(3,(e,t,n)=>{let r=Ot(e),o=Ot(t);if(r.value._tag==="Infinity"||o.value._tag==="Infinity")return n.onMillis(No(r),No(o));if(r.value._tag==="Nanos"||o.value._tag==="Nanos"){let i=r.value._tag==="Nanos"?r.value.nanos:BigInt(Math.round(r.value.millis*1e6)),s=o.value._tag==="Nanos"?o.value.nanos:BigInt(Math.round(o.value.millis*1e6));return n.onNanos(i,s)}return n.onMillis(r.value.millis,o.value.millis)});var UZ=(e,t)=>hw(e,t,{onMillis:(n,r)=>n===r,onNanos:(n,r)=>n===r});var XL=d(2,(e,t)=>hw(e,t,{onMillis:(n,r)=>n<=r,onNanos:(n,r)=>n<=r}));var mw=d(2,(e,t)=>hw(e,t,{onMillis:(n,r)=>n>=r,onNanos:(n,r)=>n>=r})),$Z=d(2,(e,t)=>UZ(Ot(e),Ot(t))),qZ=e=>{let t=Ot(e);if(t.value._tag==="Infinity")return{days:1/0,hours:1/0,minutes:1/0,seconds:1/0,millis:1/0,nanos:1/0};let n=BZ(t),r=n/KL,o=r/fw,i=o/mv,s=i/mv,a=s/GL;return{days:Number(a),hours:Number(s%GL),minutes:Number(i%mv),seconds:Number(o%mv),millis:Number(r%fw),nanos:Number(n%KL)}},gw=e=>{let t=Ot(e);if(t.value._tag==="Infinity")return"Infinity";if(AZ(t))return"0";let n=qZ(t),r=[];return n.days!==0&&r.push(`${n.days}d`),n.hours!==0&&r.push(`${n.hours}h`),n.minutes!==0&&r.push(`${n.minutes}m`),n.seconds!==0&&r.push(`${n.seconds}s`),n.millis!==0&&r.push(`${n.millis}ms`),n.nanos!==0&&r.push(`${n.nanos}ns`),r.join(" ")};var yw=Math.pow(2,5),e1=yw-1,t1=yw/2,n1=yw/4;function zZ(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),e=e+(e>>4)&252645135,e+=e>>8,e+=e>>16,e&127}function Us(e,t){return t>>>e&e1}function $s(e){return 1<<e}function gv(e,t){return zZ(e&t-1)}var r1=(e,t)=>({value:e,previous:t});function Ec(e,t,n,r){let o=r;if(!e){let i=r.length;o=new Array(i);for(let s=0;s<i;++s)o[s]=r[s]}return o[t]=n,o}function vw(e,t,n){let r=n.length-1,o=0,i=0,s=n;if(e)o=i=t;else for(s=new Array(r);o<t;)s[i++]=n[o++];for(++o;o<=r;)s[i++]=n[o++];return e&&(s.length=r),s}function o1(e,t,n,r){let o=r.length;if(e){let c=o;for(;c>=t;)r[c--]=r[c];return r[t]=n,r}let i=0,s=0,a=new Array(o+1);for(;i<t;)a[s++]=r[i++];for(a[t]=n;i<o;)a[++s]=r[i++];return a}var Ii=class e{_tag="EmptyNode";modify(t,n,r,o,i,s){let a=r(_());return ce(a)?new e:(++s.value,new Ll(t,o,i,a))}};function dr(e){return As(e,"EmptyNode")}function GZ(e){return dr(e)||e._tag==="LeafNode"||e._tag==="CollisionNode"}function yv(e,t){return dr(e)?!1:t===e.edit}var Ll=class e{edit;hash;key;value;_tag="LeafNode";constructor(t,n,r,o){this.edit=t,this.hash=n,this.key=r,this.value=o}modify(t,n,r,o,i,s){if(T(i,this.key)){let c=r(this.value);return c===this.value?this:ce(c)?(--s.value,new Ii):yv(this,t)?(this.value=c,this):new e(t,o,i,c)}let a=r(_());return ce(a)?this:(++s.value,i1(t,n,this.hash,this,o,new e(t,o,i,a)))}},xw=class e{edit;hash;children;_tag="CollisionNode";constructor(t,n,r){this.edit=t,this.hash=n,this.children=r}modify(t,n,r,o,i,s){if(o===this.hash){let c=yv(this,t),u=this.updateCollisionList(c,t,this.hash,this.children,r,i,s);return u===this.children?this:u.length>1?new e(t,this.hash,u):u[0]}let a=r(_());return ce(a)?this:(++s.value,i1(t,n,this.hash,this,o,new Ll(t,o,i,a)))}updateCollisionList(t,n,r,o,i,s,a){let c=o.length;for(let l=0;l<c;++l){let f=o[l];if("key"in f&&T(s,f.key)){let p=f.value,h=i(p);return h===p?o:ce(h)?(--a.value,vw(t,l,o)):Ec(t,l,new Ll(n,r,s,h),o)}}let u=i(_());return ce(u)?o:(++a.value,Ec(t,c,new Ll(n,r,s,u),o))}},hp=class e{edit;mask;children;_tag="IndexedNode";constructor(t,n,r){this.edit=t,this.mask=n,this.children=r}modify(t,n,r,o,i,s){let a=this.mask,c=this.children,u=Us(n,o),l=$s(u),f=gv(a,l),p=a&l,h=yv(this,t);if(!p){let K=new Ii().modify(t,n+5,r,o,i,s);return K?c.length>=t1?YZ(t,u,K,a,c):new e(t,a|l,o1(h,f,K,c)):this}let y=c[f],S=y.modify(t,n+5,r,o,i,s);if(y===S)return this;let I=a,O;if(dr(S)){if(I&=~l,!I)return new Ii;if(c.length<=2&&GZ(c[f^1]))return c[f^1];O=vw(h,f,c)}else O=Ec(h,f,S,c);return h?(this.mask=I,this.children=O,this):new e(t,I,O)}},bw=class e{edit;size;children;_tag="ArrayNode";constructor(t,n,r){this.edit=t,this.size=n,this.children=r}modify(t,n,r,o,i,s){let a=this.size,c=this.children,u=Us(n,o),l=c[u],f=(l||new Ii).modify(t,n+5,r,o,i,s);if(l===f)return this;let p=yv(this,t),h;if(dr(l)&&!dr(f))++a,h=Ec(p,u,f,c);else if(!dr(l)&&dr(f)){if(--a,a<=n1)return KZ(t,a,u,c);h=Ec(p,u,new Ii,c)}else h=Ec(p,u,f,c);return p?(this.size=a,this.children=h,this):new e(t,a,h)}};function KZ(e,t,n,r){let o=new Array(t-1),i=0,s=0;for(let a=0,c=r.length;a<c;++a)if(a!==n){let u=r[a];u&&!dr(u)&&(o[i++]=u,s|=1<<a)}return new hp(e,s,o)}function YZ(e,t,n,r,o){let i=[],s=r,a=0;for(let c=0;s;++c)s&1&&(i[c]=o[a++]),s>>>=1;return i[t]=n,new bw(e,a+1,i)}function ZZ(e,t,n,r,o,i){if(n===o)return new xw(e,n,[i,r]);let s=Us(t,n),a=Us(t,o);if(s===a)return c=>new hp(e,$s(s)|$s(a),[c]);{let c=s<a?[r,i]:[i,r];return new hp(e,$s(s)|$s(a),c)}}function i1(e,t,n,r,o,i){let s,a=t;for(;;){let c=ZZ(e,a,n,r,o,i);if(typeof c=="function")s=r1(c,s),a=a+5;else{let u=c;for(;s!=null;)u=s.value(u),s=s.previous;return u}}}var s1="effect/HashMap",vv=Symbol.for(s1),QZ={[vv]:vv,[Symbol.iterator](){return new xv(this,(e,t)=>[e,t])},[j](){let e=M(s1);for(let t of this)e^=m(M(t[0]),H(M(t[1])));return J(this,e)},[P](e){if(l1(e)){if(e._size!==this._size)return!1;for(let t of this){let n=m(e,Ev(t[0],M(t[0])));if(ce(n))return!1;if(!T(t[1],n.value))return!1}return!0}return!1},toString(){return se(this.toJSON())},toJSON(){return{_id:"HashMap",values:Array.from(this).map(oe)}},[Q](){return this.toJSON()},pipe(){return R(this,arguments)}},Ew=(e,t,n,r)=>{let o=Object.create(QZ);return o._editable=e,o._edit=t,o._root=n,o._size=r,o},xv=class e{map;f;v;constructor(t,n){this.map=t,this.f=n,this.v=a1(this.map._root,this.f,void 0)}next(){if(ce(this.v))return{done:!0,value:void 0};let t=this.v.value;return this.v=bv(t.cont),{done:!1,value:t.value}}[Symbol.iterator](){return new e(this.map,this.f)}},bv=e=>e?c1(e[0],e[1],e[2],e[3],e[4]):_(),a1=(e,t,n=void 0)=>{switch(e._tag){case"LeafNode":return De(e.value)?C({value:t(e.key,e.value.value),cont:n}):bv(n);case"CollisionNode":case"ArrayNode":case"IndexedNode":{let r=e.children;return c1(r.length,r,0,t,n)}default:return bv(n)}},c1=(e,t,n,r,o)=>{for(;n<e;){let i=t[n++];if(i&&!dr(i))return a1(i,r,[e,t,n,r,o])}return bv(o)},XZ=Ew(!1,0,new Ii,0),Bl=()=>XZ;var u1=e=>{let t=gp(Bl());for(let n of e)_c(t,n[0],n[1]);return Cw(t)},l1=e=>A(e,vv),d1=e=>e&&dr(e._root),f1=d(2,(e,t)=>Ev(e,t,M(t))),Ev=d(3,(e,t,n)=>{let r=e._root,o=0;for(;;)switch(r._tag){case"LeafNode":return T(t,r.key)?r.value:_();case"CollisionNode":{if(n===r.hash){let i=r.children;for(let s=0,a=i.length;s<a;++s){let c=i[s];if("key"in c&&T(t,c.key))return c.value}}return _()}case"IndexedNode":{let i=Us(o,n),s=$s(i);if(r.mask&s){r=r.children[gv(r.mask,s)],o+=5;break}return _()}case"ArrayNode":{if(r=r.children[Us(o,n)],r){o+=5;break}return _()}default:return _()}});var _w=d(2,(e,t)=>De(Ev(e,t,M(t))));var _c=d(3,(e,t,n)=>Cv(e,t,()=>C(n))),eJ=d(3,(e,t,n)=>e._editable?(e._root=t,e._size=n,e):t===e._root?e:Ew(e._editable,e._edit,t,n)),_v=e=>new xv(e,t=>t);var mp=e=>e._size;var gp=e=>Ew(!0,e._edit+1,e._root,e._size),Cw=e=>(e._editable=!1,e),p1=d(2,(e,t)=>{let n=gp(e);return t(n),Cw(n)}),Cv=d(3,(e,t,n)=>h1(e,t,M(t),n)),h1=d(4,(e,t,n,r)=>{let o={value:e._size},i=e._root.modify(e._editable?e._edit:NaN,0,r,n,t,o);return m(e,eJ(i,o.value))});var Sv=d(2,(e,t)=>Cv(e,t,_));var m1=d(2,(e,t)=>Hl(e,Bl(),(n,r,o)=>_c(n,o,t(r,o))));var Dv=d(2,(e,t)=>Hl(e,void 0,(n,r,o)=>t(r,o))),Hl=d(3,(e,t,n)=>{let r=e._root;if(r._tag==="LeafNode")return De(r.value)?n(t,r.value.value,r.key):t;if(r._tag==="EmptyNode")return t;let o=[r.children],i;for(;i=o.pop();)for(let s=0,a=i.length;s<a;){let c=i[s++];c&&!dr(c)&&(c._tag==="LeafNode"?De(c.value)&&(t=n(t,c.value.value,c.key)):o.push(c.children))}return t});var y1="effect/HashSet",wv=Symbol.for(y1),tJ={[wv]:wv,[Symbol.iterator](){return _v(this._keyMap)},[j](){return J(this,H(M(this._keyMap))(M(y1)))},[P](e){return v1(e)?mp(this._keyMap)===mp(e._keyMap)&&T(this._keyMap,e._keyMap):!1},toString(){return se(this.toJSON())},toJSON(){return{_id:"HashSet",values:Array.from(this).map(oe)}},[Q](){return this.toJSON()},pipe(){return R(this,arguments)}},Iv=e=>{let t=Object.create(tJ);return t._keyMap=e,t},v1=e=>A(e,wv),nJ=Iv(Bl()),yp=()=>nJ,x1=e=>{let t=Mv(yp());for(let n of e)Vl(t,n);return Tv(t)},b1=(...e)=>{let t=Mv(yp());for(let n of e)Vl(t,n);return Tv(t)},E1=d(2,(e,t)=>_w(e._keyMap,t));var _1=e=>mp(e._keyMap),Mv=e=>Iv(gp(e._keyMap)),Tv=e=>(e._keyMap._editable=!1,e),Sw=d(2,(e,t)=>{let n=Mv(e);return t(n),Tv(n)}),Vl=d(2,(e,t)=>e._keyMap._editable?(_c(t,!0)(e._keyMap),e):Iv(_c(t,!0)(e._keyMap))),Dw=d(2,(e,t)=>e._keyMap._editable?(Sv(t)(e._keyMap),e):Iv(Sv(t)(e._keyMap))),C1=d(2,(e,t)=>Sw(e,n=>{for(let r of t)Dw(n,r)}));var S1=d(2,(e,t)=>Sw(yp(),n=>{D1(e,r=>Vl(n,r));for(let r of t)Vl(n,r)}));var D1=d(2,(e,t)=>Dv(e._keyMap,(n,r)=>t(r))),w1=d(3,(e,t,n)=>Hl(e._keyMap,t,(r,o,i)=>n(r,i)));var Po=yp,Ov=x1,Cc=b1,I1=E1;var Sc=_1;var Dc=Vl,ww=Dw,Iw=C1;var Mi=S1;var wc=w1;var M1=Symbol.for("effect/MutableRef"),oJ={[M1]:M1,toString(){return se(this.toJSON())},toJSON(){return{_id:"MutableRef",current:oe(this.current)}},[Q](){return this.toJSON()},pipe(){return R(this,arguments)}},Lo=e=>{let t=Object.create(oJ);return t.current=e,t},Rv=d(3,(e,t,n)=>T(t,e.current)?(e.current=n,!0):!1);var Dn=e=>e.current;var fr=d(2,(e,t)=>(e.current=t,e));var kv="effect/FiberId",qs=Symbol.for(kv),Ul="None",Mw="Runtime",Tw="Composite",iJ=me(`${kv}-${Ul}`),Ow=class{[qs]=qs;_tag=Ul;id=-1;startTimeMillis=-1;[j](){return iJ}[P](t){return Fv(t)&&t._tag===Ul}toString(){return se(this.toJSON())}toJSON(){return{_id:"FiberId",_tag:this._tag}}[Q](){return this.toJSON()}},Rw=class{id;startTimeMillis;[qs]=qs;_tag=Mw;constructor(t,n){this.id=t,this.startTimeMillis=n}[j](){return J(this,me(`${kv}-${this._tag}-${this.id}-${this.startTimeMillis}`))}[P](t){return Fv(t)&&t._tag===Mw&&this.id===t.id&&this.startTimeMillis===t.startTimeMillis}toString(){return se(this.toJSON())}toJSON(){return{_id:"FiberId",_tag:this._tag,id:this.id,startTimeMillis:this.startTimeMillis}}[Q](){return this.toJSON()}},Aw=class{left;right;[qs]=qs;_tag=Tw;constructor(t,n){this.left=t,this.right=n}_hash;[j](){return m(me(`${kv}-${this._tag}`),H(M(this.left)),H(M(this.right)),J(this))}[P](t){return Fv(t)&&t._tag===Tw&&T(this.left,t.left)&&T(this.right,t.right)}toString(){return se(this.toJSON())}toJSON(){return{_id:"FiberId",_tag:this._tag,left:oe(this.left),right:oe(this.right)}}[Q](){return this.toJSON()}},Nv=new Ow;var Fv=e=>A(e,qs);var O1=d(2,(e,t)=>e._tag===Ul?t:t._tag===Ul?e:new Aw(e,t));var Av=e=>{switch(e._tag){case Ul:return Po();case Mw:return Cc(e.id);case Tw:return m(Av(e.left),Mi(Av(e.right)))}},T1=U(Symbol.for("effect/Fiber/Id/_fiberCounter"),()=>Lo(0));var Pv=e=>Array.from(Av(e)).map(n=>`#${n}`).join(",");var R1=()=>{let e=Dn(T1);return m(T1,fr(e+1)),new Rw(e,Date.now())};var wn=Nv;var kw=O1;var k1=Pv;var Lv=R1;var Mc=Bl;var N1=u1,F1=d1,Nw=f1;var Zr=_c,Fw=_v;var P1=p1,L1=Cv;var j1=m1;var B1=Dv,Pw=Hl;var vp=Symbol.for("effect/List"),Lw=e=>ae(e),sJ=e=>kP(Pl(e),Lw),aJ=sJ(T),cJ={[vp]:vp,_tag:"Cons",toString(){return se(this.toJSON())},toJSON(){return{_id:"List",_tag:"Cons",values:Lw(this).map(oe)}},[Q](){return this.toJSON()},[P](e){return V1(e)&&this._tag===e._tag&&aJ(this,e)},[j](){return J(this,_n(Lw(this)))},[Symbol.iterator](){let e=!1,t=this;return{next(){if(e)return this.return();if(t._tag==="Nil")return e=!0,this.return();let n=t.head;return t=t.tail,{done:e,value:n}},return(n){return e||(e=!0),{done:!0,value:n}}}},pipe(){return R(this,arguments)}},jv=(e,t)=>{let n=Object.create(cJ);return n.head=e,n.tail=t,n},uJ=me("Nil"),lJ={[vp]:vp,_tag:"Nil",toString(){return se(this.toJSON())},toJSON(){return{_id:"List",_tag:"Nil"}},[Q](){return this.toJSON()},[j](){return uJ},[P](e){return V1(e)&&this._tag===e._tag},[Symbol.iterator](){return{next(){return{done:!0,value:void 0}}}},pipe(){return R(this,arguments)}},H1=Object.create(lJ),V1=e=>A(e,vp),jo=e=>e._tag==="Nil",jw=e=>e._tag==="Cons";var dJ=()=>H1,Oi=(e,t)=>jv(e,t),Bo=dJ,xp=e=>jv(e,H1);var U1=d(2,(e,t)=>fJ(t,e)),Bv=d(2,(e,t)=>Oi(t,e)),fJ=d(2,(e,t)=>{if(jo(e))return t;if(jo(t))return e;{let n=jv(t.head,e),r=n,o=t.tail;for(;!jo(o);){let i=jv(o.head,e);r.tail=i,r=i,o=o.tail}return n}});var $1=d(3,(e,t,n)=>{let r=t,o=e;for(;!jo(o);)r=n(r,o.head),o=o.tail;return r});var q1=e=>{let t=Bo(),n=e;for(;!jo(n);)t=Bv(t,n.head),n=n.tail;return t};var cRe=Object.assign(Object.create(Array.prototype),{[j](){return J(this,_n(this))},[P](e){return Array.isArray(e)&&this.length===e.length?this.every((t,n)=>T(t,e[n])):!1}}),zl=(function(){function e(t){t&&Object.assign(this,t)}return e.prototype=Ol,e})(),Hv=e=>Object.assign(Object.create(Ol),e);var pJ=Symbol.for("effect/DifferContextPatch");function W1(e){return e}var _p=N(x({},zl.prototype),{[pJ]:{_Value:W1,_Patch:W1}}),hJ=Object.assign(Object.create(_p),{_tag:"Empty"}),mJ=Object.create(hJ),Bw=()=>mJ,gJ=Object.assign(Object.create(_p),{_tag:"AndThen"}),yJ=(e,t)=>{let n=Object.create(gJ);return n.first=e,n.second=t,n},vJ=Object.assign(Object.create(_p),{_tag:"AddService"}),xJ=(e,t)=>{let n=Object.create(vJ);return n.key=e,n.service=t,n},bJ=Object.assign(Object.create(_p),{_tag:"RemoveService"}),EJ=e=>{let t=Object.create(bJ);return t.key=e,t},_J=Object.assign(Object.create(_p),{_tag:"UpdateService"}),CJ=(e,t)=>{let n=Object.create(_J);return n.key=e,n.update=t,n},G1=(e,t)=>{let n=new Map(e.unsafeMap),r=Bw();for(let[o,i]of t.unsafeMap.entries())if(n.has(o)){let s=n.get(o);n.delete(o),T(s,i)||(r=Ep(CJ(o,()=>i))(r))}else n.delete(o),r=Ep(xJ(o,i))(r);for(let[o]of n.entries())r=Ep(EJ(o))(r);return r},Ep=d(2,(e,t)=>yJ(e,t)),K1=d(2,(e,t)=>{if(e._tag==="Empty")return t;let n=!1,r=Ye(e),o=new Map(t.unsafeMap);for(;Wt(r);){let s=Vt(r),a=on(r);switch(s._tag){case"Empty":{r=a;break}case"AddService":{o.set(s.key,s.service),r=a;break}case"AndThen":{r=Ht(Ht(a,s.second),s.first);break}case"RemoveService":{o.delete(s.key),r=a;break}case"UpdateService":{o.set(s.key,s.update(o.get(s.key))),n=!0,r=a;break}}}if(!n)return Si(o);let i=new Map;for(let[s]of t.unsafeMap)o.has(s)&&(i.set(s,o.get(s)),o.delete(s));for(let[s,a]of o)i.set(s,a);return Si(i)});var DJ=Symbol.for("effect/DifferHashSetPatch");function Hw(e){return e}var Uv=N(x({},zl.prototype),{[DJ]:{_Value:Hw,_Key:Hw,_Patch:Hw}}),wJ=Object.assign(Object.create(Uv),{_tag:"Empty"}),IJ=Object.create(wJ),Vw=()=>IJ,MJ=Object.assign(Object.create(Uv),{_tag:"AndThen"}),TJ=(e,t)=>{let n=Object.create(MJ);return n.first=e,n.second=t,n},OJ=Object.assign(Object.create(Uv),{_tag:"Add"}),RJ=e=>{let t=Object.create(OJ);return t.value=e,t},AJ=Object.assign(Object.create(Uv),{_tag:"Remove"}),kJ=e=>{let t=Object.create(AJ);return t.value=e,t},Y1=(e,t)=>{let[n,r]=wc([e,Vw()],([o,i],s)=>I1(s)(o)?[ww(s)(o),i]:[o,Vv(RJ(s))(i)])(t);return wc(r,(o,i)=>Vv(kJ(i))(o))(n)},Vv=d(2,(e,t)=>TJ(e,t)),Z1=d(2,(e,t)=>{if(e._tag==="Empty")return t;let n=t,r=Ye(e);for(;Wt(r);){let o=Vt(r),i=on(r);switch(o._tag){case"Empty":{r=i;break}case"AndThen":{r=Ht(o.first)(Ht(o.second)(i));break}case"Add":{n=Dc(o.value)(n),r=i;break}case"Remove":n=ww(o.value)(n),r=i}}return n});var FJ=Symbol.for("effect/DifferReadonlyArrayPatch");function J1(e){return e}var Sp=N(x({},zl.prototype),{[FJ]:{_Value:J1,_Patch:J1}}),PJ=Object.assign(Object.create(Sp),{_tag:"Empty"}),LJ=Object.create(PJ),Uw=()=>LJ,jJ=Object.assign(Object.create(Sp),{_tag:"AndThen"}),BJ=(e,t)=>{let n=Object.create(jJ);return n.first=e,n.second=t,n},HJ=Object.assign(Object.create(Sp),{_tag:"Append"}),VJ=e=>{let t=Object.create(HJ);return t.values=e,t},UJ=Object.assign(Object.create(Sp),{_tag:"Slice"}),$J=(e,t)=>{let n=Object.create(UJ);return n.from=e,n.until=t,n},qJ=Object.assign(Object.create(Sp),{_tag:"Update"}),zJ=(e,t)=>{let n=Object.create(qJ);return n.index=e,n.patch=t,n},Q1=e=>{let t=0,n=Uw();for(;t<e.oldValue.length&&t<e.newValue.length;){let r=e.oldValue[t],o=e.newValue[t],i=e.differ.diff(r,o);T(i,e.differ.empty)||(n=Cp(n,zJ(t,i))),t=t+1}return t<e.oldValue.length&&(n=Cp(n,$J(0,t))),t<e.newValue.length&&(n=Cp(n,VJ(EL(t)(e.newValue)))),n},Cp=d(2,(e,t)=>BJ(e,t)),X1=d(3,(e,t,n)=>{if(e._tag==="Empty")return t;let r=t.slice(),o=ln(e);for(;cv(o);){let i=Bt(o),s=To(o);switch(i._tag){case"Empty":{o=s;break}case"AndThen":{s.unshift(i.first,i.second),o=s;break}case"Append":{for(let a of i.values)r.push(a);o=s;break}case"Slice":{r=r.slice(i.from,i.until),o=s;break}case"Update":{r[i.index]=n.patch(i.patch,r[i.index]),o=s;break}}}return r});var ej=Symbol.for("effect/Differ"),GJ={[ej]:{_P:Z,_V:Z},pipe(){return R(this,arguments)}},zs=e=>{let t=Object.create(GJ);return t.empty=e.empty,t.diff=e.diff,t.combine=e.combine,t.patch=e.patch,t},$w=()=>zs({empty:Bw(),combine:(e,t)=>Ep(t)(e),diff:(e,t)=>G1(e,t),patch:(e,t)=>K1(t)(e)});var qw=()=>zs({empty:Vw(),combine:(e,t)=>Vv(t)(e),diff:(e,t)=>Y1(e,t),patch:(e,t)=>Z1(t)(e)});var zw=e=>zs({empty:Uw(),combine:(t,n)=>Cp(t,n),diff:(t,n)=>Q1({oldValue:t,newValue:n,differ:e}),patch:(t,n)=>X1(t,n,e)});var $v=()=>tj((e,t)=>t),tj=e=>zs({empty:Z,combine:(t,n)=>t===Z?n:n===Z?t:r=>n(t(r)),diff:(t,n)=>T(t,n)?Z:El(n),patch:(t,n)=>e(n,t(n))});var Dp=255,nj=8,qv=e=>e&Dp,zv=e=>e>>nj&Dp,Tc=(e,t)=>(e&Dp)+((t&e&Dp)<<nj),Wv=Tc(0,0),rj=e=>Tc(e,e),oj=e=>Tc(e,0);var ij=d(2,(e,t)=>Tc(qv(e)&~t,zv(e)));var Gw=d(2,(e,t)=>e|t);var sj=e=>~e>>>0&Dp;var KJ=0,Jr=1,cj=2,Kw=4,Gv=16,Yw=32;var uj=e=>Kv(e,Yw),Zw=d(2,(e,t)=>e&~t);var Jw=d(2,(e,t)=>e|t);var Ri=e=>wp(e)&&!YJ(e),wp=e=>Kv(e,Jr);var Kv=d(2,(e,t)=>(e&t)!==0),Qw=(...e)=>e.reduce((t,n)=>t|n,0),lj=Qw(KJ);var Xw=e=>Kv(e,Kw);var YJ=e=>Kv(e,Gv);var pr=d(2,(e,t)=>Tc(e^t,t)),Ai=d(2,(e,t)=>e&(sj(qv(t))|zv(t))|qv(t)&zv(t));var eI=zs({empty:Wv,diff:(e,t)=>pr(e,t),combine:(e,t)=>Gw(t)(e),patch:(e,t)=>Ai(t,e)});var dj=Wv;var tI=rj,nI=oj;var rI=ij;var fj={_tag:"Empty"},aI=(e,t)=>({_tag:"Par",left:e,right:t}),Yv=(e,t)=>({_tag:"Seq",left:e,right:t}),cI=(e,t)=>({_tag:"Single",dataSource:e,blockedRequest:t});var pj=e=>{let t=xp(e),n=Bo();for(;;){let[r,o]=$1(t,[hj(),Bo()],([i,s],a)=>{let[c,u]=ZJ(a);return[rQ(i,c),U1(s,u)]});if(n=JJ(n,r),jo(o))return q1(n);t=o}throw new Error("BUG: BlockedRequests.flatten - please report an issue at https://github.com/Effect-TS/effect/issues")},ZJ=e=>{let t=e,n=hj(),r=Bo(),o=Bo();for(;;)switch(t._tag){case"Empty":{if(jo(r))return[n,o];t=r.head,r=r.tail;break}case"Par":{r=Oi(t.right,r),t=t.left;break}case"Seq":{let i=t.left,s=t.right;switch(i._tag){case"Empty":{t=s;break}case"Par":{let a=i.left,c=i.right;t=aI(Yv(a,s),Yv(c,s));break}case"Seq":{let a=i.left,c=i.right;t=Yv(a,Yv(c,s));break}case"Single":{t=i,o=Oi(s,o);break}}break}case"Single":{if(n=nQ(n,t),jo(r))return[n,o];t=r.head,r=r.tail;break}}throw new Error("BUG: BlockedRequests.step - please report an issue at https://github.com/Effect-TS/effect/issues")},JJ=(e,t)=>{if(jo(e))return xp(iI(t));if(oQ(t))return e;let n=lQ(e.head),r=iQ(t);return n.length===1&&r.length===1&&T(n[0],r[0])?Oi(uQ(e.head,iI(t)),e.tail):Oi(iI(t),e)},QJ=Symbol.for("effect/RequestBlock/Entry"),sI=class{request;result;listeners;ownerId;state;[QJ]=XJ;constructor(t,n,r,o,i){this.request=t,this.result=n,this.listeners=r,this.ownerId=o,this.state=i}},XJ={_R:e=>e};var uI=e=>new sI(e.request,e.result,e.listeners,e.ownerId,e.state),eQ=Symbol.for("effect/RequestBlock/RequestBlockParallel"),tQ={_R:e=>e},Mp=class{map;[eQ]=tQ;constructor(t){this.map=t}},hj=()=>new Mp(Mc());var nQ=(e,t)=>new Mp(L1(e.map,t.dataSource,n=>VD(pt(n,pv(t.blockedRequest)),()=>Ye(t.blockedRequest)))),rQ=(e,t)=>new Mp(Pw(e.map,t.map,(n,r,o)=>Zr(n,o,bt(Nw(n,o),{onNone:()=>r,onSome:i=>$n(r,i)})))),oQ=e=>F1(e.map),iQ=e=>Array.from(Fw(e.map)),iI=e=>cQ(j1(e.map,t=>Ye(t))),sQ=Symbol.for("effect/RequestBlock/RequestBlockSequential"),aQ={_R:e=>e},Zv=class{map;[sQ]=aQ;constructor(t){this.map=t}},cQ=e=>new Zv(e),uQ=(e,t)=>new Zv(Pw(t.map,e.map,(n,r,o)=>Zr(n,o,bt(Nw(n,o),{onNone:()=>fn(),onSome:i=>$n(i,r)}))));var lQ=e=>Array.from(Fw(e.map)),mj=e=>Array.from(e.map);var Ws="Empty",Oc="Fail",Rc="Interrupt",Ac="Parallel",kc="Sequential";var xj="effect/Cause",bj=Symbol.for(xj),fQ={_E:e=>e},Kl={[bj]:fQ,[j](){return m(M(xj),H(M(gQ(this))),J(this))},[P](e){return dI(e)&&mQ(this,e)},pipe(){return R(this,arguments)},toJSON(){switch(this._tag){case"Empty":return{_id:"Cause",_tag:this._tag};case"Die":return{_id:"Cause",_tag:this._tag,defect:oe(this.defect)};case"Interrupt":return{_id:"Cause",_tag:this._tag,fiberId:this.fiberId.toJSON()};case"Fail":return{_id:"Cause",_tag:this._tag,failure:oe(this.error)};case"Sequential":case"Parallel":return{_id:"Cause",_tag:this._tag,left:oe(this.left),right:oe(this.right)}}},toString(){return Ni(this)},[Q](){return this.toJSON()}},In=(()=>{let e=Object.create(Kl);return e._tag=Ws,e})(),Fc=e=>{let t=Object.create(Kl);return t._tag=Oc,t.error=e,t},Rt=e=>{let t=Object.create(Kl);return t._tag="Die",t.defect=e,t},hr=e=>{let t=Object.create(Kl);return t._tag=Rc,t.fiberId=e,t},Mn=(e,t)=>{let n=Object.create(Kl);return n._tag=Ac,n.left=e,n.right=t,n},Ze=(e,t)=>{let n=Object.create(Kl);return n._tag=kc,n.left=e,n.right=t,n},dI=e=>A(e,bj),Ej=e=>e._tag===Ws;var Tp=e=>e._tag==="Die";var fI=e=>e._tag===Ws?!0:Wl(e,!0,(t,n)=>{switch(n._tag){case Ws:return C(t);case"Die":case Oc:case Rc:return C(!1);default:return _()}});var pI=e=>De(pQ(e)),Op=e=>gI(void 0,vQ)(e),Qv=e=>ko(Wl(e,fn(),(t,n)=>n._tag===Oc?C(m(t,Ht(n.error))):_())),hI=e=>ko(Wl(e,fn(),(t,n)=>n._tag==="Die"?C(m(t,Ht(n.defect))):_())),Xv=e=>Wl(e,Po(),(t,n)=>n._tag===Rc?C(m(t,Dc(n.fiberId))):_()),_j=e=>Pc(e,t=>t._tag===Oc?C(t.error):_()),ki=e=>{let t=_j(e);switch(t._tag){case"None":return un(e);case"Some":return ur(t.value)}};var pQ=e=>Pc(e,t=>t._tag===Rc?C(t.fiberId):_()),Cj=e=>Rp(e,{onEmpty:_(),onFail:()=>_(),onDie:t=>C(Rt(t)),onInterrupt:()=>_(),onSequential:kl(Ze),onParallel:kl(Mn)}),Sj=e=>Rp(e,{onEmpty:_(),onFail:t=>C(Rt(t)),onDie:t=>C(Rt(t)),onInterrupt:()=>_(),onSequential:kl(Ze),onParallel:kl(Mn)});var mI=e=>Rp(e,{onEmpty:In,onFail:()=>In,onDie:Rt,onInterrupt:hr,onSequential:Ze,onParallel:Mn}),Dj=e=>Rp(e,{onEmpty:In,onFail:Rt,onDie:Rt,onInterrupt:hr,onSequential:Ze,onParallel:Mn});var hQ=d(2,(e,t)=>Rp(e,{onEmpty:In,onFail:n=>t(n),onDie:n=>Rt(n),onInterrupt:n=>hr(n),onSequential:(n,r)=>Ze(n,r),onParallel:(n,r)=>Mn(n,r)})),wj=e=>hQ(e,Z);var mQ=(e,t)=>{let n=Ye(e),r=Ye(t);for(;Wt(n)&&Wt(r);){let[o,i]=m(Vt(n),Wl([Po(),fn()],([c,u],l)=>{let[f,p]=lI(l);return C([m(c,Mi(f)),m(u,$n(p))])})),[s,a]=m(Vt(r),Wl([Po(),fn()],([c,u],l)=>{let[f,p]=lI(l);return C([m(c,Mi(f)),m(u,$n(p))])}));if(!T(o,s))return!1;n=i,r=a}return!0},gQ=e=>yQ(Ye(e),fn()),yQ=(e,t)=>{for(;;){let[n,r]=m(e,Ls([Po(),fn()],([i,s],a)=>{let[c,u]=lI(a);return[m(i,Mi(c)),m(s,$n(u))]})),o=Sc(n)>0?m(t,Ht(n)):t;if(uw(r))return ko(o);e=r,t=o}throw new Error(lc("Cause.flattenCauseLoop"))},Pc=d(2,(e,t)=>{let n=[e];for(;n.length>0;){let r=n.pop(),o=t(r);switch(o._tag){case"None":{switch(r._tag){case kc:case Ac:{n.push(r.right),n.push(r.left);break}}break}case"Some":return o}}return _()});var lI=e=>{let t=e,n=[],r=Po(),o=fn();for(;t!==void 0;)switch(t._tag){case Ws:{if(n.length===0)return[r,o];t=n.pop();break}case Oc:{if(r=Dc(r,dp(t._tag,t.error)),n.length===0)return[r,o];t=n.pop();break}case"Die":{if(r=Dc(r,dp(t._tag,t.defect)),n.length===0)return[r,o];t=n.pop();break}case Rc:{if(r=Dc(r,dp(t._tag,t.fiberId)),n.length===0)return[r,o];t=n.pop();break}case kc:{switch(t.left._tag){case Ws:{t=t.right;break}case kc:{t=Ze(t.left.left,Ze(t.left.right,t.right));break}case Ac:{t=Mn(Ze(t.left.left,t.right),Ze(t.left.right,t.right));break}default:{o=Ht(o,t.right),t=t.left;break}}break}case Ac:{n.push(t.right),t=t.left;break}}throw new Error(lc("Cause.evaluateCauseLoop"))};var vQ={emptyCase:gi,failCase:zr,dieCase:zr,interruptCase:gi,sequentialCase:(e,t,n)=>t&&n,parallelCase:(e,t,n)=>t&&n};var yj="SequentialCase",vj="ParallelCase",Rp=d(2,(e,{onDie:t,onEmpty:n,onFail:r,onInterrupt:o,onParallel:i,onSequential:s})=>gI(e,void 0,{emptyCase:()=>n,failCase:(a,c)=>r(c),dieCase:(a,c)=>t(c),interruptCase:(a,c)=>o(c),sequentialCase:(a,c,u)=>s(c,u),parallelCase:(a,c,u)=>i(c,u)})),Wl=d(3,(e,t,n)=>{let r=t,o=e,i=[];for(;o!==void 0;){let s=n(r,o);switch(r=De(s)?s.value:r,o._tag){case kc:{i.push(o.right),o=o.left;break}case Ac:{i.push(o.right),o=o.left;break}default:{o=void 0;break}}o===void 0&&i.length>0&&(o=i.pop())}return r}),gI=d(3,(e,t,n)=>{let r=[e],o=[];for(;r.length>0;){let s=r.pop();switch(s._tag){case Ws:{o.push(un(n.emptyCase(t)));break}case Oc:{o.push(un(n.failCase(t,s.error)));break}case"Die":{o.push(un(n.dieCase(t,s.defect)));break}case Rc:{o.push(un(n.interruptCase(t,s.fiberId)));break}case kc:{r.push(s.right),r.push(s.left),o.push(ur({_tag:yj}));break}case Ac:{r.push(s.right),r.push(s.left),o.push(ur({_tag:vj}));break}}}let i=[];for(;o.length>0;){let s=o.pop();switch(s._tag){case"Left":{switch(s.left._tag){case yj:{let a=i.pop(),c=i.pop(),u=n.sequentialCase(t,a,c);i.push(u);break}case vj:{let a=i.pop(),c=i.pop(),u=n.parallelCase(t,a,c);i.push(u);break}}break}case"Right":{i.push(s.right);break}}}if(i.length===0)throw new Error("BUG: Cause.reduceWithContext - please report an issue at https://github.com/Effect-TS/effect/issues");return i.pop()}),Ni=(e,t)=>Op(e)?"All fibers interrupted without errors.":yI(e).map(function(n){return t?.renderErrorCause!==!0||n.cause===void 0?n.stack:`${n.stack} {
${Ij(n.cause,"  ")}
}`}).join(`
`),Ij=(e,t)=>{let n=e.stack.split(`
`),r=`${t}[cause]: ${n[0]}`;for(let o=1,i=n.length;o<i;o++)r+=`
${t}${n[o]}`;return e.cause&&(r+=` {
${Ij(e.cause,`${t}  `)}
${t}}`),r},Jv=class e extends globalThis.Error{span=void 0;constructor(t){let n=typeof t=="object"&&t!==null,r=Error.stackTraceLimit;Error.stackTraceLimit=1,super(xQ(t),n&&"cause"in t&&typeof t.cause<"u"?{cause:new e(t.cause)}:void 0),this.message===""&&(this.message="An error has occurred"),Error.stackTraceLimit=r,this.name=t instanceof Error?t.name:"Error",n&&(Nc in t&&(this.span=t[Nc]),Object.keys(t).forEach(o=>{o in this||(this[o]=t[o])})),this.stack=EQ(`${this.name}: ${this.message}`,t instanceof Error&&t.stack?t.stack:"",this.span)}},xQ=e=>{if(typeof e=="string")return e;if(typeof e=="object"&&e!==null&&e instanceof Error)return e.message;try{if(A(e,"toString")&&Rs(e.toString)&&e.toString!==Object.prototype.toString&&e.toString!==globalThis.Array.prototype.toString)return e.toString()}catch(t){}return Zy(e)},bQ=/\((.*)\)/g,Ap=U("effect/Tracer/spanToTrace",()=>new WeakMap),EQ=(e,t,n)=>{let r=[e],o=t.startsWith(e)?t.slice(e.length).split(`
`):t.split(`
`);for(let i=1;i<o.length;i++){if(o[i].includes(" at new BaseEffectError")||o[i].includes(" at new YieldableError")){i++;continue}if(o[i].includes("Generator.next")||o[i].includes("effect_internal_function"))break;r.push(o[i].replace(/at .*effect_instruction_i.*\((.*)\)/,"at $1").replace(/EffectPrimitive\.\w+/,"<anonymous>"))}if(n){let i=n,s=0;for(;i&&i._tag==="Span"&&s<10;){let a=Ap.get(i);if(typeof a=="function"){let c=a();if(typeof c=="string"){let u=c.matchAll(bQ),l=!1;for(let[,f]of u)l=!0,r.push(`    at ${i.name} (${f})`);l||r.push(`    at ${i.name} (${c.replace(/^at /,"")})`)}else r.push(`    at ${i.name}`)}else r.push(`    at ${i.name}`);i=zt(i.parent),s++}}return r.join(`
`)},Nc=Symbol.for("effect/SpanAnnotation"),yI=e=>gI(e,void 0,{emptyCase:()=>[],dieCase:(t,n)=>[new Jv(n)],failCase:(t,n)=>[new Jv(n)],interruptCase:()=>[],parallelCase:(t,n,r)=>[...n,...r],sequentialCase:(t,n,r)=>[...n,...r]});var jc="Pending",kp="Done";var _Q="effect/Deferred",Tj=Symbol.for(_Q),Oj={_E:e=>e,_A:e=>e},Rj=e=>({_tag:jc,joiners:e}),vI=e=>({_tag:kp,effect:e});var Yl=class e{self;called=!1;constructor(t){this.self=t}next(t){return this.called?{value:t,done:!0}:(this.called=!0,{value:this.self,done:!1})}return(t){return{value:t,done:!0}}throw(t){throw t}[Symbol.iterator](){return new e(this.self)}};var Fi=(e,t)=>{let n=new Je("Blocked");return n.effect_instruction_i0=e,n.effect_instruction_i1=t,n},ox=e=>{let t=new Je("RunBlocked");return t.effect_instruction_i0=e,t},Pi=Symbol.for("effect/Effect"),tx=class{patch;op;_op=op;constructor(t,n){this.patch=t,this.op=n}},Je=class{_op;effect_instruction_i0=void 0;effect_instruction_i1=void 0;effect_instruction_i2=void 0;trace=void 0;[Pi]=ks;constructor(t){this._op=t}[P](t){return this===t}[j](){return J(this,Cl(this))}pipe(){return R(this,arguments)}toJSON(){return{_id:"Effect",_op:this._op,effect_instruction_i0:oe(this.effect_instruction_i0),effect_instruction_i1:oe(this.effect_instruction_i1),effect_instruction_i2:oe(this.effect_instruction_i2)}}toString(){return se(this.toJSON())}[Q](){return this.toJSON()}[Symbol.iterator](){return new Yl(new Io(this))}},nx=class{_op;effect_instruction_i0=void 0;effect_instruction_i1=void 0;effect_instruction_i2=void 0;trace=void 0;[Pi]=ks;constructor(t){this._op=t,this._tag=t}[P](t){return td(t)&&t._op==="Failure"&&T(this.effect_instruction_i0,t.effect_instruction_i0)}[j](){return m(me(this._tag),H(M(this.effect_instruction_i0)),J(this))}get cause(){return this.effect_instruction_i0}pipe(){return R(this,arguments)}toJSON(){return{_id:"Exit",_tag:this._op,cause:this.cause.toJSON()}}toString(){return se(this.toJSON())}[Q](){return this.toJSON()}[Symbol.iterator](){return new Yl(new Io(this))}},rx=class{_op;effect_instruction_i0=void 0;effect_instruction_i1=void 0;effect_instruction_i2=void 0;trace=void 0;[Pi]=ks;constructor(t){this._op=t,this._tag=t}[P](t){return td(t)&&t._op==="Success"&&T(this.effect_instruction_i0,t.effect_instruction_i0)}[j](){return m(me(this._tag),H(M(this.effect_instruction_i0)),J(this))}get value(){return this.effect_instruction_i0}pipe(){return R(this,arguments)}toJSON(){return{_id:"Exit",_tag:this._op,value:oe(this.value)}}toString(){return se(this.toJSON())}[Q](){return this.toJSON()}[Symbol.iterator](){return new Yl(new Io(this))}},xe=e=>A(e,Pi),X=e=>{let t=new Je(Xy);return t.effect_instruction_i0=e,t},ix=d(3,(e,t,n)=>Xe(r=>g(e,o=>g(We(B(()=>r(t(o)))),i=>B(()=>n(o,i)).pipe(He({onFailure:s=>{switch(i._tag){case nt:return ie(Ze(i.effect_instruction_i0,s));case rt:return ie(s)}},onSuccess:()=>i})))))),Pe=d(2,(e,t)=>g(e,()=>b(t))),Qe=e=>Pe(e,void 0),Pp=function(){let e=new Je(hc);switch(arguments.length){case 2:{e.effect_instruction_i0=arguments[0],e.commit=arguments[1];break}case 3:{e.effect_instruction_i0=arguments[0],e.effect_instruction_i1=arguments[1],e.commit=arguments[2];break}case 4:{e.effect_instruction_i0=arguments[0],e.effect_instruction_i1=arguments[1],e.effect_instruction_i2=arguments[2],e.commit=arguments[3];break}default:throw new Error(lc("you're not supposed to end up here"))}return e},Zl=(e,t=wn)=>{let n=new Je(pc),r;return n.effect_instruction_i0=o=>{r=e(o)},n.effect_instruction_i1=t,Uo(n,o=>xe(r)?r:G)},Lp=(e,t=wn)=>B(()=>Zl(e,t)),sn=(e,t=wn)=>Pp(e,function(){let n,r;function o(c){n?n(c):r===void 0&&(r=c)}let i=new Je(pc);i.effect_instruction_i0=c=>{n=c,r&&c(r)},i.effect_instruction_i1=t;let s,a;return this.effect_instruction_i0.length!==1?(a=new AbortController,s=Ke(()=>this.effect_instruction_i0(o,a.signal))):s=Ke(()=>this.effect_instruction_i0(o)),s||a?Uo(i,c=>(a&&a.abort(),s??G)):i});var Ho=d(2,(e,t)=>{let n=new Je(Dl);return n.effect_instruction_i0=e,n.effect_instruction_i1=t,n}),Qr=d(2,(e,t)=>Et(e,{onFailure:t,onSuccess:b})),jp=d(3,(e,t,n)=>Ho(e,r=>{let o=ki(r);switch(o._tag){case"Left":return t(o.left)?n(o.left):ie(r);case"Right":return ie(o.right)}})),Hj=d(2,(e,t)=>Ho(e,n=>{let r=ki(n);switch(r._tag){case"Left":return m(t(r.left),ht(()=>ie(n)));case"Right":return ie(r.right)}})),Vj=e=>X((t,n)=>e(wp(n.runtimeFlags))),Aj=Symbol.for("effect/OriginalAnnotation");var sx=(e,t)=>De(t)?new Proxy(e,{has(n,r){return r===Nc||r===Aj||r in n},get(n,r){return r===Nc?t.value:r===Aj?e:n[r]}}):e,pn=e=>vi(e)&&!(Nc in e)?X(t=>ie(Rt(sx(e,wx(t))))):ie(Rt(e)),Gs=e=>Ys(()=>Rt(new NQ(e))),Ks=e=>g(E(e),pn),mr=e=>Et(e,{onFailure:t=>b(ur(t)),onSuccess:t=>b(un(t))}),We=e=>Bp(e,{onFailure:_e,onSuccess:je}),ee=e=>vi(e)&&!(Nc in e)?X(t=>ie(Fc(sx(e,wx(t))))):ie(Fc(e)),gr=e=>g(E(e),ee),ie=e=>{let t=new nx(nt);return t.effect_instruction_i0=e,t},Ys=e=>g(E(e),ie),Zs=X(e=>b(e.id())),Tn=e=>X(t=>e(t.id())),g=d(2,(e,t)=>{let n=new Je(wl);return n.effect_instruction_i0=e,n.effect_instruction_i1=t,n}),Js=d(2,(e,t)=>g(e,n=>{let r=typeof t=="function"?t(n):t;return xe(r)?r:wD(r)?Zl(o=>{r.then(i=>o(b(i)),i=>o(ee(new qp(i,"An unknown error occurred in Effect.andThen"))))}):b(r)})),ax=e=>{let t=new Je("OnStep");return t.effect_instruction_i0=e,t},On=e=>g(e,Z),Qs=e=>Et(e,{onFailure:b,onSuccess:ee}),Bp=d(2,(e,t)=>He(e,{onFailure:n=>b(t.onFailure(n)),onSuccess:n=>b(t.onSuccess(n))})),He=d(2,(e,t)=>{let n=new Je(Il);return n.effect_instruction_i0=e,n.effect_instruction_i1=t.onFailure,n.effect_instruction_i2=t.onSuccess,n}),Et=d(2,(e,t)=>He(e,{onFailure:n=>{if(hI(n).length>0)return ie(Dj(n));let o=Qv(n);return o.length>0?t.onFailure(lw(o)):ie(n)},onSuccess:t.onSuccess})),Gt=d(2,(e,t)=>B(()=>{let n=ae(e),r=ap(n.length),o=0;return Pe(ta({while:()=>o<n.length,body:()=>t(n[o],o),step:i=>{r[o++]=i}}),r)})),zn=d(2,(e,t)=>B(()=>{let n=ae(e),r=0;return ta({while:()=>r<n.length,body:()=>t(n[r],r),step:()=>{r++}})})),cx=d(e=>typeof e[0]=="boolean"||xe(e[0]),(e,t)=>xe(e)?g(e,n=>n?t.onTrue():t.onFalse()):e?t.onTrue():t.onFalse()),ux=g(Zs,e=>lx(e)),lx=e=>ie(hr(e)),Li=e=>{let t=new Je(bi);return t.effect_instruction_i0=tI(Jr),t.effect_instruction_i1=()=>e,t},Uj=e=>Pp(e,function(){let t=new Je(bi);return t.effect_instruction_i0=tI(Jr),t.effect_instruction_i1=n=>wp(n)?Ke(()=>this.effect_instruction_i0(Li)):Ke(()=>this.effect_instruction_i0(ji)),t}),Vo=d(2,(e,t)=>Xe(n=>g(We(n(e)),r=>kI(t,r)))),w=d(2,(e,t)=>g(e,n=>E(()=>t(n)))),Hp=d(2,(e,t)=>Et(e,{onFailure:n=>gr(()=>t.onFailure(n)),onSuccess:n=>E(()=>t.onSuccess(n))})),Xs=d(2,(e,t)=>He(e,{onFailure:n=>{let r=ki(n);switch(r._tag){case"Left":return gr(()=>t(r.left));case"Right":return ie(r.right)}},onSuccess:b})),dx=d(2,(e,t)=>hn(e,n=>Cx(n)?G:t(n.effect_instruction_i0))),hn=d(2,(e,t)=>Xe(n=>He(n(e),{onFailure:r=>{let o=_e(r);return He(t(o),{onFailure:i=>_e(Ze(r,i)),onSuccess:()=>o})},onSuccess:r=>{let o=je(r);return pe(t(o),o)}}))),Uo=d(2,(e,t)=>hn(e,nd({onFailure:n=>Op(n)?Qe(t(Xv(n))):G,onSuccess:()=>G}))),Hc=d(2,(e,t)=>DQ(e,t,b)),Vc=e=>EI(e,Z),EI=d(2,(e,t)=>Et(e,{onFailure:n=>pn(t(n)),onSuccess:b})),$j=JD,Jl=X((e,t)=>b(t.runtimeFlags)),b=e=>{let t=new rx(rt);return t.effect_instruction_i0=e,t},B=e=>{let t=new Je(hc);return t.commit=e,t},E=e=>{let t=new Je(Qy);return t.effect_instruction_i0=e,t},Xr=d(e=>e.length===3||e.length===2&&!(vi(e[1])&&"onlyEffect"in e[1]),(e,t)=>g(e,n=>{let r=typeof t=="function"?t(n):t;return xe(r)?Pe(r,n):wD(r)?Zl(o=>{r.then(i=>o(b(n)),i=>o(ee(new qp(i,"An unknown error occurred in Effect.tap"))))}):b(n)})),fx=e=>X(t=>{let n=t.getFiberRef(Fp),r=m(n,ht(()=>t.scope()));return e(ot(Fp,C(r)))}),DQ=d(3,(e,t,n)=>He(e,{onFailure:r=>hI(r).length>0?ie(UD(Sj(r))):t(),onSuccess:n})),ji=e=>{let t=new Je(bi);return t.effect_instruction_i0=nI(Jr),t.effect_instruction_i1=()=>e,t},Xe=e=>Pp(e,function(){let t=new Je(bi);return t.effect_instruction_i0=nI(Jr),t.effect_instruction_i1=n=>wp(n)?Ke(()=>this.effect_instruction_i0(Li)):Ke(()=>this.effect_instruction_i0(ji)),t}),G=b(void 0);var ea=e=>{let t=new Je(bi);return t.effect_instruction_i0=e,t.effect_instruction_i1=void 0,t},Ql=d(2,(e,t)=>g(t,n=>n?m(e,w(C)):b(_()))),ta=e=>{let t=new Je(Ml);return t.effect_instruction_i0=e.while,t.effect_instruction_i1=e.body,t.effect_instruction_i2=e.step,t},Np=e=>B(()=>{let t=new Je(mc);return t.effect_instruction_i0=e(),t}),px=function(){let e=arguments.length===1?arguments[0]:arguments[1].bind(arguments[0]);return Np(()=>e(m))},Xl=(e,...t)=>Object.defineProperty(t.length===0?function(...n){return Np(()=>e.apply(this,n))}:function(...n){let r=Np(()=>e.apply(this,n));for(let o of t)r=o(r,...n);return r},"length",{value:e.length,configurable:!0}),qj=d(2,(e,t)=>ot(e,vx,t)),zj=d(2,(e,t)=>ot(e,II,t)),hx=d(2,(e,t)=>{let n=new Je(bi);return n.effect_instruction_i0=t,n.effect_instruction_i1=()=>e,n}),Wj=d(2,(e,t)=>ot(e,TI,t)),Gj=d(2,(e,t)=>ot(e,ed,t)),$o=e=>{let t=new Je(Tl);return typeof e?.priority<"u"?wI(t,e.priority):t},Uc=d(2,(e,t)=>g(e,n=>w(t,r=>[n,r])));var $c=d(2,(e,t)=>g(e,n=>Pe(t,n))),pe=d(2,(e,t)=>g(e,()=>t)),qo=d(3,(e,t,n)=>g(e,r=>w(t,o=>n(r,o)))),qc=Lp(()=>{let e=setInterval(()=>{},2147483647);return E(()=>clearInterval(e))}),Vp=e=>g(Zs,t=>m(e,Rn(t))),Rn=d(2,(e,t)=>g(e.interruptAsFork(t),()=>e.await)),Kj={_tag:"All",syslog:0,label:"ALL",ordinal:Number.MIN_SAFE_INTEGER,pipe(){return R(this,arguments)}},Yj={_tag:"Fatal",syslog:2,label:"FATAL",ordinal:5e4,pipe(){return R(this,arguments)}},Zj={_tag:"Error",syslog:3,label:"ERROR",ordinal:4e4,pipe(){return R(this,arguments)}},_I={_tag:"Warning",syslog:4,label:"WARN",ordinal:3e4,pipe(){return R(this,arguments)}},CI={_tag:"Info",syslog:6,label:"INFO",ordinal:2e4,pipe(){return R(this,arguments)}},SI={_tag:"Debug",syslog:7,label:"DEBUG",ordinal:1e4,pipe(){return R(this,arguments)}},Jj={_tag:"Trace",syslog:7,label:"TRACE",ordinal:0,pipe(){return R(this,arguments)}},Qj={_tag:"None",syslog:7,label:"OFF",ordinal:Number.MAX_SAFE_INTEGER,pipe(){return R(this,arguments)}};var wQ="effect/FiberRef",IQ=Symbol.for(wQ),MQ={_A:e=>e},Wn=e=>X(t=>je(t.getFiberRef(e)));var Kt=d(2,(e,t)=>g(Wn(e),t)),Bc=d(2,(e,t)=>TQ(e,()=>[void 0,t]));var TQ=d(2,(e,t)=>X(n=>{let[r,o]=t(n.getFiberRef(e));return n.setFiberRef(e,o),b(r)}));var OQ="effect/RequestResolver",Xj=Symbol.for(OQ),RQ={_A:e=>e,_R:e=>e},kj=class e{runAll;target;[Xj]=RQ;constructor(t,n){this.runAll=t,this.target=n}[j](){return J(this,this.target?M(this.target):Cl(this))}[P](t){return this.target?AQ(t)&&T(this.target,t.target):this===t}identified(...t){return new e(this.runAll,bc(t))}pipe(){return R(this,arguments)}},AQ=e=>A(e,Xj);var ot=d(3,(e,t,n)=>ix($c(Wn(t),Bc(t,n)),()=>e,r=>Bc(t,r))),At=d(3,(e,t,n)=>Kt(t,r=>ot(e,t,n(r)))),Ge=(e,t)=>zc(e,{differ:$v(),fork:t?.fork??Z,join:t?.join}),e2=e=>{let t=qw();return zc(e,{differ:t,fork:t.empty})},kQ=e=>{let t=zw($v());return zc(e,{differ:t,fork:t.empty})},mx=e=>{let t=$w();return zc(e,{differ:t,fork:t.empty})},zc=(e,t)=>N(x({},_i),{[IQ]:MQ,initial:e,commit(){return Wn(this)},diff:(r,o)=>t.differ.diff(r,o),combine:(r,o)=>t.differ.combine(r,o),patch:r=>o=>t.differ.patch(r,o),fork:t.fork,join:t.join??((r,o)=>o)}),t2=e=>zc(e,{differ:eI,fork:eI.empty}),An=U(Symbol.for("effect/FiberRef/currentContext"),()=>mx(Un())),Bi=U(Symbol.for("effect/FiberRef/currentSchedulingPriority"),()=>Ge(0)),gx=U(Symbol.for("effect/FiberRef/currentMaxOpsBeforeYield"),()=>Ge(2048)),na=U(Symbol.for("effect/FiberRef/currentLogAnnotation"),()=>Ge(Mc())),DI=U(Symbol.for("effect/FiberRef/currentLogLevel"),()=>Ge(CI)),yx=U(Symbol.for("effect/FiberRef/currentLogSpan"),()=>Ge(Bo())),wI=d(2,(e,t)=>ot(e,Bi,t)),n2=d(2,(e,t)=>ot(e,gx,t)),vx=U(Symbol.for("effect/FiberRef/currentConcurrency"),()=>Ge("unbounded")),II=U(Symbol.for("effect/FiberRef/currentRequestBatching"),()=>Ge(!0)),MI=U(Symbol.for("effect/FiberRef/currentUnhandledErrorLogLevel"),()=>Ge(C(SI))),r2=U(Symbol.for("effect/FiberRef/versionMismatchErrorLogLevel"),()=>Ge(C(_I))),o2=d(2,(e,t)=>ot(e,MI,t)),Hi=U(Symbol.for("effect/FiberRef/currentMetricLabels"),()=>kQ(Kr())),i2=Wn(Hi),Fp=U(Symbol.for("effect/FiberRef/currentForkScopeOverride"),()=>Ge(_(),{fork:()=>_(),join:(e,t)=>e})),Wc=U(Symbol.for("effect/FiberRef/currentInterruptedCause"),()=>Ge(In,{fork:()=>In,join:(e,t)=>e})),TI=U(Symbol.for("effect/FiberRef/currentTracerEnabled"),()=>Ge(!0)),ed=U(Symbol.for("effect/FiberRef/currentTracerTiming"),()=>Ge(!0)),Up=U(Symbol.for("effect/FiberRef/currentTracerSpanAnnotations"),()=>Ge(Mc())),xx=U(Symbol.for("effect/FiberRef/currentTracerSpanLinks"),()=>Ge(fn())),bx=Symbol.for("effect/Scope"),Ex=Symbol.for("effect/CloseableScope"),_x=(e,t)=>e.addFinalizer(()=>Qe(t)),Gc=(e,t)=>e.addFinalizer(t),Kc=(e,t)=>e.close(t),Gn=(e,t)=>e.fork(t);var s2=(function(){class e extends globalThis.Error{commit(){return ee(this)}toJSON(){let n=x({},this);return this.message&&(n.message=this.message),this.cause&&(n.cause=this.cause),n}[Q](){return this.toString!==globalThis.Error.prototype.toString?this.stack?`${this.toString()}
${this.stack.split(`
`).slice(1).join(`
`)}`:this.toString():"Bun"in globalThis?Ni(Fc(this),{renderErrorCause:!0}):this}}return Object.assign(e.prototype,kD),e})(),Yc=(e,t)=>{class n extends s2{_tag=t}return Object.assign(n.prototype,e),n.prototype.name=t,n},Nj=Symbol.for("effect/Cause/errors/RuntimeException"),NQ=Yc({[Nj]:Nj},"RuntimeException");var xI=Symbol.for("effect/Cause/errors/InterruptedException"),KRe=Yc({[xI]:xI},"InterruptedException"),a2=e=>A(e,xI),Fj=Symbol.for("effect/Cause/errors/IllegalArgument"),$p=Yc({[Fj]:Fj},"IllegalArgumentException");var bI=Symbol.for("effect/Cause/errors/NoSuchElement"),Kn=Yc({[bI]:bI},"NoSuchElementException"),c2=e=>A(e,bI),Pj=Symbol.for("effect/Cause/errors/InvalidPubSubCapacityException"),YRe=Yc({[Pj]:Pj},"InvalidPubSubCapacityException"),Lj=Symbol.for("effect/Cause/errors/ExceededCapacityException"),ZRe=Yc({[Lj]:Lj},"ExceededCapacityException");var jj=Symbol.for("effect/Cause/errors/Timeout"),FQ=Yc({[jj]:jj},"TimeoutException"),u2=e=>new FQ(`Operation timed out after '${gw(e)}'`);var Bj=Symbol.for("effect/Cause/errors/UnknownException"),qp=(function(){class e extends s2{_tag="UnknownException";error;constructor(n,r){super(r??"An unknown error occurred",{cause:n}),this.error=n}}return Object.assign(e.prototype,{[Bj]:Bj,name:"UnknownException"}),e})();var td=e=>xe(e)&&"_tag"in e&&(e._tag==="Success"||e._tag==="Failure"),OI=e=>e._tag==="Failure",Cx=e=>e._tag==="Success";var l2=d(2,(e,t)=>{switch(e._tag){case nt:return _e(e.effect_instruction_i0);case rt:return je(t)}}),zp=e=>l2(e,void 0);var Zc=(e,t)=>PQ(e,t?.parallel?Mn:Ze),RI=e=>_e(Rt(e));var Wp=e=>_e(Fc(e)),_e=e=>{let t=new nx(nt);return t.effect_instruction_i0=e,t},d2=d(2,(e,t)=>{switch(e._tag){case nt:return _e(e.effect_instruction_i0);case rt:return t(e.effect_instruction_i0)}});var f2=e=>m(e,d2(Z));var Sx=e=>_e(hr(e)),ex=d(2,(e,t)=>{switch(e._tag){case nt:return _e(e.effect_instruction_i0);case rt:return je(t(e.effect_instruction_i0))}});var nd=d(2,(e,{onFailure:t,onSuccess:n})=>{switch(e._tag){case nt:return t(e.effect_instruction_i0);case rt:return n(e.effect_instruction_i0)}}),rd=d(2,(e,{onFailure:t,onSuccess:n})=>{switch(e._tag){case nt:return t(e.effect_instruction_i0);case rt:return n(e.effect_instruction_i0)}}),je=e=>{let t=new rx(rt);return t.effect_instruction_i0=e,t},mn=je(void 0);var Gp=d(3,(e,t,{onFailure:n,onSuccess:r})=>{switch(e._tag){case nt:switch(t._tag){case rt:return _e(e.effect_instruction_i0);case nt:return _e(n(e.effect_instruction_i0,t.effect_instruction_i0))}case rt:switch(t._tag){case rt:return je(r(e.effect_instruction_i0,t.effect_instruction_i0));case nt:return _e(t.effect_instruction_i0)}}}),PQ=(e,t)=>{let n=bc(e);return Wt(n)?m(on(n),Ls(m(Vt(n),ex(Ye)),(r,o)=>m(r,Gp(o,{onSuccess:(i,s)=>m(i,Ht(s)),onFailure:t}))),ex(ko),ex(r=>lr(r)),C):_()},Kp=e=>N(x({},_i),{[Tj]:Oj,state:Lo(Rj([])),commit(){return kt(this)},blockingOn:e}),Yn=()=>g(Zs,e=>p2(e)),p2=e=>E(()=>Kp(e)),kt=e=>Lp(t=>{let n=Dn(e.state);switch(n._tag){case kp:return t(n.effect);case jc:return n.joiners.push(t),LQ(e,t)}},e.blockingOn),AI=d(2,(e,t)=>Vo(t,e)),Yp=d(2,(e,t)=>E(()=>{let n=Dn(e.state);switch(n._tag){case kp:return!1;case jc:{fr(e.state,vI(t));for(let r=0,o=n.joiners.length;r<o;r++)n.joiners[r](t);return!0}}})),kI=d(2,(e,t)=>Yp(e,t));var Zp=d(2,(e,t)=>Yp(e,ie(t)));var h2=e=>g(Zs,t=>Yp(e,lx(t)));var NI=d(2,(e,t)=>Yp(e,b(t)));var Jp=(e,t)=>{let n=Dn(e.state);if(n._tag===jc){fr(e.state,vI(t));for(let r=0,o=n.joiners.length;r<o;r++)n.joiners[r](t)}},LQ=(e,t)=>E(()=>{let n=Dn(e.state);if(n._tag===jc){let r=n.joiners.indexOf(t);r>=0&&n.joiners.splice(r,1)}}),jQ=X(e=>je(e.currentContext)),Zn=()=>jQ;var yr=e=>g(Zn(),e),eo=d(2,(e,t)=>ot(An,t)(e)),Dx=d(2,(e,t)=>At(An,n=>Di(n,t))(e)),Jc=d(2,(e,t)=>yr(n=>eo(e,t(n)))),FI=d(2,(e,t)=>g(e,n=>g(t.predicate(n),r=>r?b(n):t.orElse(n)))),m2=d(2,(e,t)=>FI(e,{predicate:t.predicate,orElse:n=>ee(t.orFailWith(n))})),wx=e=>{let t=e.currentSpan;return t!==void 0&&t._tag==="Span"?C(t):_()},BQ={_tag:"Span",spanId:"noop",traceId:"noop",sampled:!1,status:{_tag:"Ended",startTime:BigInt(0),endTime:BigInt(0),exit:mn},attributes:new Map,links:[],kind:"internal",attribute(){},event(){},end(){},addLinks(){}},g2=e=>Object.assign(Object.create(BQ),e);var Qp=kt;var y2=kI;var v2=h2;var PI=Kp;var b2=f2;var E2=je;var _2=Symbol.for("effect/MutableHashMap"),HQ={[_2]:_2,[Symbol.iterator](){return new jI(this)},toString(){return se(this.toJSON())},toJSON(){return{_id:"MutableHashMap",values:Array.from(this).map(oe)}},[Q](){return this.toJSON()},pipe(){return R(this,arguments)}},jI=class e{self;referentialIterator;bucketIterator;constructor(t){this.self=t,this.referentialIterator=t.referential[Symbol.iterator]()}next(){if(this.bucketIterator!==void 0)return this.bucketIterator.next();let t=this.referentialIterator.next();return t.done?(this.bucketIterator=new BI(this.self.buckets.values()),this.next()):t}[Symbol.iterator](){return new e(this.self)}},BI=class{backing;constructor(t){this.backing=t}currentBucket;next(){if(this.currentBucket===void 0){let n=this.backing.next();if(n.done)return n;this.currentBucket=n.value[Symbol.iterator]()}let t=this.currentBucket.next();return t.done?(this.currentBucket=void 0,this.next()):t}},Qc=()=>{let e=Object.create(HQ);return e.referential=new Map,e.buckets=new Map,e.bucketsSize=0,e};var gt=d(2,(e,t)=>{if(Sl(t)===!1)return e.referential.has(t)?C(e.referential.get(t)):_();let n=t[j](),r=e.buckets.get(n);return r===void 0?_():VQ(e,r,t)});var VQ=(e,t,n,r=!1)=>{for(let o=0,i=t.length;o<i;o++)if(n[P](t[o][0])){let s=t[o][1];return r&&(t.splice(o,1),e.bucketsSize--),C(s)}return _()},to=d(2,(e,t)=>De(gt(e,t))),kn=d(3,(e,t,n)=>{if(Sl(t)===!1)return e.referential.set(t,n),e;let r=t[j](),o=e.buckets.get(r);return o===void 0?(e.buckets.set(r,[[t,n]]),e.bucketsSize++,e):(C2(e,o,t),o.push([t,n]),e.bucketsSize++,e)}),C2=(e,t,n)=>{for(let r=0,o=t.length;r<o;r++)if(n[P](t[r][0])){t.splice(r,1),e.bucketsSize--;return}};var Xc=d(2,(e,t)=>{if(Sl(t)===!1)return e.referential.delete(t),e;let n=t[j](),r=e.buckets.get(n);return r===void 0||(C2(e,r,t),r.length===0&&e.buckets.delete(n)),e});var Ix=e=>e.referential.size+e.bucketsSize;var S2=Symbol.for("effect/MutableList"),UQ={[S2]:S2,[Symbol.iterator](){let e=!1,t=this.head;return{next(){if(e)return this.return();if(t==null)return e=!0,this.return();let n=t.value;return t=t.next,{done:e,value:n}},return(n){return e||(e=!0),{done:!0,value:n}}}},toString(){return se(this.toJSON())},toJSON(){return{_id:"MutableList",values:Array.from(this).map(oe)}},[Q](){return this.toJSON()},pipe(){return R(this,arguments)}},$Q=e=>({value:e,removed:!1,prev:void 0,next:void 0}),D2=()=>{let e=Object.create(UQ);return e.head=void 0,e.tail=void 0,e._length=0,e};var w2=e=>HI(e)===0,HI=e=>e._length;var I2=d(2,(e,t)=>{let n=$Q(t);return e.head===void 0&&(e.head=n),e.tail===void 0||(e.tail.next=n,n.prev=e.tail),e.tail=n,e._length+=1,e}),M2=e=>{let t=e.head;if(t!==void 0)return qQ(e,t),t.value};var qQ=(e,t)=>{t.removed||(t.removed=!0,t.prev!==void 0&&t.next!==void 0?(t.prev.next=t.next,t.next.prev=t.prev):t.prev!==void 0?(e.tail=t.prev,t.prev.next=void 0):t.next!==void 0?(e.head=t.next,t.next.prev=void 0):(e.tail=void 0,e.head=void 0),e._length>0&&(e._length-=1))};var O2=Symbol.for("effect/MutableQueue"),VI=Symbol.for("effect/mutable/MutableQueue/Empty"),zQ={[O2]:O2,[Symbol.iterator](){return Array.from(this.queue)[Symbol.iterator]()},toString(){return se(this.toJSON())},toJSON(){return{_id:"MutableQueue",values:Array.from(this).map(oe)}},[Q](){return this.toJSON()},pipe(){return R(this,arguments)}},WQ=e=>{let t=Object.create(zQ);return t.queue=D2(),t.capacity=e,t};var R2=()=>WQ(void 0);var A2=d(2,(e,t)=>{let n=HI(e.queue);return e.capacity!==void 0&&n===e.capacity?!1:(I2(t)(e.queue),!0)});var k2=d(2,(e,t)=>w2(e.queue)?t:M2(e.queue));var GQ="effect/Clock",UI=Symbol.for(GQ),Jn=dn("effect/Clock"),KQ=2**31-1,F2={unsafeSchedule(e,t){let n=No(t);if(n>KQ)return zr;let r=!1,o=setTimeout(()=>{r=!0,e()},n);return()=>(clearTimeout(o),!r)}},P2=(function(){let e=BigInt(1e6);if(typeof performance>"u"||typeof performance.now!="function")return()=>BigInt(Date.now())*e;let t;return()=>(t===void 0&&(t=BigInt(Date.now())*e-BigInt(Math.round(performance.now()*1e6))),t+BigInt(Math.round(performance.now()*1e6)))})(),YQ=(function(){let e=typeof process=="object"&&"hrtime"in process&&typeof process.hrtime.bigint=="function"?process.hrtime:void 0;if(!e)return P2;let t=P2()-e.bigint();return()=>t+e.bigint()})(),$I=class{[UI]=UI;unsafeCurrentTimeMillis(){return Date.now()}unsafeCurrentTimeNanos(){return YQ()}currentTimeMillis=E(()=>this.unsafeCurrentTimeMillis());currentTimeNanos=E(()=>this.unsafeCurrentTimeNanos());scheduler(){return b(F2)}sleep(t){return sn(n=>{let r=F2.unsafeSchedule(()=>n(G),t);return Qe(E(r))})}},qI=()=>new $I;var WI="InvalidData",GI="MissingData",KI="SourceUnavailable",YI="Unsupported";var JQ="effect/ConfigError",L2=Symbol.for(JQ),od={_tag:"ConfigError",[L2]:L2},ZI=(e,t)=>{let n=Object.create(od);return n._op="And",n.left=e,n.right=t,Object.defineProperty(n,"toString",{enumerable:!1,value(){return`${this.left} and ${this.right}`}}),Object.defineProperty(n,"message",{enumerable:!1,get(){return this.toString()}}),n},JI=(e,t)=>{let n=Object.create(od);return n._op="Or",n.left=e,n.right=t,Object.defineProperty(n,"toString",{enumerable:!1,value(){return`${this.left} or ${this.right}`}}),Object.defineProperty(n,"message",{enumerable:!1,get(){return this.toString()}}),n},QQ=(e,t,n={pathDelim:"."})=>{let r=Object.create(od);return r._op=WI,r.path=e,r.message=t,Object.defineProperty(r,"toString",{enumerable:!1,value(){return`(Invalid data at ${m(this.path,Ci(n.pathDelim))}: "${this.message}")`}}),r},Vi=(e,t,n={pathDelim:"."})=>{let r=Object.create(od);return r._op=GI,r.path=e,r.message=t,Object.defineProperty(r,"toString",{enumerable:!1,value(){return`(Missing data at ${m(this.path,Ci(n.pathDelim))}: "${this.message}")`}}),r},XQ=(e,t,n,r={pathDelim:"."})=>{let o=Object.create(od);return o._op=KI,o.path=e,o.message=t,o.cause=n,Object.defineProperty(o,"toString",{enumerable:!1,value(){return`(Source unavailable at ${m(this.path,Ci(r.pathDelim))}: "${this.message}")`}}),o},eX=(e,t,n={pathDelim:"."})=>{let r=Object.create(od);return r._op=YI,r.path=e,r.message=t,Object.defineProperty(r,"toString",{enumerable:!1,value(){return`(Unsupported operation at ${m(this.path,Ci(n.pathDelim))}: "${this.message}")`}}),r};var ra=d(2,(e,t)=>{switch(e._op){case"And":return ZI(ra(e.left,t),ra(e.right,t));case"Or":return JI(ra(e.left,t),ra(e.right,t));case WI:return QQ([...t,...e.path],e.message);case GI:return Vi([...t,...e.path],e.message);case KI:return XQ([...t,...e.path],e.message,e.cause);case YI:return eX([...t,...e.path],e.message)}});var V2={_tag:"Empty"};var Tx=d(2,(e,t)=>{let n=xp(t),r=e;for(;jw(n);){let o=n.head;switch(o._tag){case"Empty":{n=n.tail;break}case"AndThen":{n=Oi(o.first,Oi(o.second,n.tail));break}case"MapName":{r=Oo(r,o.f),n=n.tail;break}case"Nested":{r=Nl(r,o.name),n=n.tail;break}case"Unnested":{if(m(Ps(r),qD(o.name)))r=To(r),n=n.tail;else return ur(Vi(r,`Expected ${o.name} to be in path in ConfigProvider#unnested`));break}}}return un(r)});var U2="Constant",$2="Fail",q2="Fallback",z2="Described",W2="Lazy",G2="MapOrFail",K2="Nested",Y2="Primitive",Z2="Sequence",J2="HashMap",Q2="ZipWith";var Ox=(e,t)=>[...e,...t],rX="effect/ConfigProvider",X2=Symbol.for(rX),id=dn("effect/ConfigProvider"),oX="effect/ConfigProviderFlat",eB=Symbol.for(oX),iX=e=>x({[X2]:X2,pipe(){return R(this,arguments)}},e),sX=e=>({[eB]:eB,patch:e.patch,load:(t,n,r=!0)=>e.load(t,n,r),enumerateChildren:e.enumerateChildren}),aX=e=>iX({load:t=>g(vr(e,Kr(),t,!1),n=>bt(Ps(n),{onNone:()=>ee(Vi(Kr(),`Expected a single value having structure: ${t}`)),onSome:b})),flattened:e}),tB=e=>{let{pathDelim:t,seqDelim:n}=Object.assign({},{pathDelim:"_",seqDelim:","},e),r=c=>m(c,Ci(t)),o=c=>c.split(t),i=()=>typeof process<"u"&&"env"in process&&typeof process.env=="object"?process.env:{};return aX(sX({load:(c,u,l=!0)=>{let f=r(c),p=i(),h=f in p?C(p[f]):_();return m(h,Xs(()=>Vi(c,`Expected ${f} to exist in the process context`)),g(y=>fX(y,c,u,n,l)))},enumerateChildren:c=>E(()=>{let u=i(),p=Object.keys(u).map(h=>o(h.toUpperCase())).filter(h=>{for(let y=0;y<c.length;y++){let S=m(c,GD(y)),I=h[y];if(I===void 0||S!==I)return!1}return!0}).flatMap(h=>h.slice(c.length,c.length+1));return Ov(p)}),patch:V2}))};var cX=(e,t,n,r)=>{let o=QD(n.length,c=>c>=r.length?_():C([e(c),c+1])),i=QD(r.length,c=>c>=n.length?_():C([t(c),c+1])),s=Ox(n,o),a=Ox(r,i);return[s,a]},uX=(e,t)=>{let n=t;if(n._tag==="Nested"){let r=e.slice();for(;n._tag==="Nested";)r.push(n.name),n=n.config;return r}return e},vr=(e,t,n,r)=>{let o=n;switch(o._tag){case U2:return b(ln(o.value));case z2:return B(()=>vr(e,t,o.config,r));case $2:return ee(Vi(t,o.message));case q2:return m(B(()=>vr(e,t,o.first,r)),Qr(i=>o.condition(i)?m(vr(e,t,o.second,r),Qr(s=>ee(JI(i,s)))):ee(i)));case W2:return B(()=>vr(e,t,o.config(),r));case G2:return B(()=>m(vr(e,t,o.original,r),g(Gt(i=>m(o.mapOrFail(i),Xs(ra(uX(t,o.original))))))));case K2:return B(()=>vr(e,Ox(t,ln(o.name)),o.config,r));case Y2:return m(Tx(t,e.patch),g(i=>m(e.load(i,o,r),g(s=>{if(s.length===0){let a=m(uv(i),ht(()=>"<n/a>"));return ee(Vi([],`Expected ${o.description} with name ${a}`))}return b(s)}))));case Z2:return m(Tx(t,e.patch),g(i=>m(e.enumerateChildren(i),g(hX),g(s=>s.length===0?B(()=>w(vr(e,t,o.config,!0),ln)):m(Gt(s,a=>vr(e,yL(t,`[${a}]`),o.config,!0)),w(a=>{let c=lv(a);return c.length===0?ln(Kr()):ln(c)}))))));case J2:return B(()=>m(Tx(t,e.patch),g(i=>m(e.enumerateChildren(i),g(s=>m(s,Gt(a=>vr(e,Ox(i,ln(a)),o.valueConfig,r)),w(a=>a.length===0?ln(Mc()):m(pX(a),Oo(c=>N1(ZD(ae(s),c)))))))))));case Q2:return B(()=>m(vr(e,t,o.left,r),mr,g(i=>m(vr(e,t,o.right,r),mr,g(s=>{if(Mo(i)&&Mo(s))return ee(ZI(i.left,s.left));if(Mo(i)&&Al(s))return ee(i.left);if(Al(i)&&Mo(s))return ee(s.left);if(Al(i)&&Al(s)){let a=m(t,Ci(".")),c=lX(t,a),[u,l]=cX(c,c,m(i.right,Oo(un)),m(s.right,Oo(un)));return m(u,ZD(l),Gt(([f,p])=>m(Uc(f,p),w(([h,y])=>o.zip(h,y)))))}throw new Error("BUG: ConfigProvider.fromFlatLoop - please report an issue at https://github.com/Effect-TS/effect/issues")})))))}},lX=(e,t)=>n=>ur(Vi(e,`The element at index ${n} in a sequence at path "${t}" was missing`));var dX=(e,t)=>e.split(new RegExp(`\\s*${wL(t)}\\s*`)),fX=(e,t,n,r,o)=>o?m(dX(e,r),Gt(i=>n.parse(i.trim())),Xs(ra(t))):m(n.parse(e),Hp({onFailure:ra(t),onSuccess:ln})),pX=e=>Object.keys(e[0]).map(t=>e.map(n=>n[t])),hX=e=>m(Gt(e,gX),Hp({onFailure:()=>Kr(),onSuccess:yc(js)}),mr,w(iv));var mX=/^(\[(\d+)\])$/,gX=e=>{let t=e.match(mX);if(t!==null){let n=t[2];return m(n!==void 0&&n.length>0?C(n):_(),Cn(yX))}return _()};var yX=e=>{let t=Number.parseInt(e);return Number.isNaN(t)?_():C(t)};var nB=Symbol.for("effect/Console"),Ui=dn("effect/Console"),rB={[nB]:nB,assert(e,...t){return E(()=>{console.assert(e,...t)})},clear:E(()=>{console.clear()}),count(e){return E(()=>{console.count(e)})},countReset(e){return E(()=>{console.countReset(e)})},debug(...e){return E(()=>{console.debug(...e)})},dir(e,t){return E(()=>{console.dir(e,t)})},dirxml(...e){return E(()=>{console.dirxml(...e)})},error(...e){return E(()=>{console.error(...e)})},group(e){return e?.collapsed?E(()=>console.groupCollapsed(e?.label)):E(()=>console.group(e?.label))},groupEnd:E(()=>{console.groupEnd()}),info(...e){return E(()=>{console.info(...e)})},log(...e){return E(()=>{console.log(...e)})},table(e,t){return E(()=>{console.table(e,t)})},time(e){return E(()=>console.time(e))},timeEnd(e){return E(()=>console.timeEnd(e))},timeLog(e,...t){return E(()=>{console.timeLog(e,...t)})},trace(...e){return E(()=>{console.trace(...e)})},warn(...e){return E(()=>{console.warn(...e)})},unsafe:console};var xX="effect/Random",Xp=Symbol.for(xX),eu=dn("effect/Random"),QI=class{seed;[Xp]=Xp;PRNG;constructor(t){this.seed=t,this.PRNG=new zy(t)}get next(){return E(()=>this.PRNG.number())}get nextBoolean(){return w(this.next,t=>t>.5)}get nextInt(){return E(()=>this.PRNG.integer(Number.MAX_SAFE_INTEGER))}nextRange(t,n){return w(this.next,r=>(n-t)*r+t)}nextIntBetween(t,n){return E(()=>this.PRNG.integer(n-t)+t)}shuffle(t){return iB(t,n=>this.nextIntBetween(0,n))}},iB=(e,t)=>B(()=>m(E(()=>Array.from(e)),g(n=>{let r=[];for(let o=n.length;o>=2;o=o-1)r.push(o);return m(r,zn(o=>m(t(o),w(i=>bX(n,o-1,i)))),Pe(bc(n)))}))),bX=(e,t,n)=>{let r=e[t];return e[t]=e[n],e[n]=r,e},eM=e=>new QI(M(e)),XI=class{values;[Xp]=Xp;index=0;constructor(t){if(this.values=t,t.length===0)throw new Error("Requires at least one value")}getNextValue(){let t=this.values[this.index];return this.index=(this.index+1)%this.values.length,t}get next(){return E(()=>{let t=this.getNextValue();return typeof t=="number"?Math.max(0,Math.min(1,t)):M(t)/2147483647})}get nextBoolean(){return E(()=>{let t=this.getNextValue();return typeof t=="boolean"?t:M(t)%2===0})}get nextInt(){return E(()=>{let t=this.getNextValue();return typeof t=="number"&&Number.isFinite(t)?Math.round(t):Math.abs(M(t))})}nextRange(t,n){return w(this.next,r=>(n-t)*r+t)}nextIntBetween(t,n){return E(()=>{let r=this.getNextValue();if(typeof r=="number"&&Number.isFinite(r))return Math.max(t,Math.min(n-1,Math.round(r)));let o=Math.abs(M(r));return t+o%(n-t)})}shuffle(t){return iB(t,n=>this.nextIntBetween(0,n))}},sB=e=>new XI(e);var cB=Symbol.for("effect/Tracer"),EX=e=>x({[cB]:cB},e),$i=dn("effect/Tracer"),zo=dn("effect/ParentSpan"),uB=(function(){let e="abcdef0123456789",t=e.length;return function(n){let r="";for(let o=0;o<n;o++)r+=e.charAt(Math.floor(Math.random()*t));return r}})(),tM=class{name;parent;context;startTime;kind;_tag="Span";spanId;traceId="native";sampled=!0;status;attributes;events=[];links;constructor(t,n,r,o,i,s){this.name=t,this.parent=n,this.context=r,this.startTime=i,this.kind=s,this.status={_tag:"Started",startTime:i},this.attributes=new Map,this.traceId=n._tag==="Some"?n.value.traceId:uB(32),this.spanId=uB(16),this.links=Array.from(o)}end(t,n){this.status={_tag:"Ended",endTime:t,exit:n,startTime:this.status.startTime}}attribute(t,n){this.attributes.set(t,n)}event(t,n,r){this.events.push([t,n,r??{}])}addLinks(t){this.links.push(...t)}},lB=EX({span:(e,t,n,r,o,i)=>new tM(e,t,n,r,o,i),context:e=>e()});var qi=e=>{if(e?.captureStackTrace===!1)return e;if(e?.captureStackTrace!==void 0&&typeof e.captureStackTrace!="boolean")return e;let t=Error.stackTraceLimit;Error.stackTraceLimit=3;let n=new Error;Error.stackTraceLimit=t;let r=!1;return N(x({},e),{captureStackTrace:()=>{if(r!==!1)return r;if(n.stack!==void 0){let o=n.stack.split(`
`);if(o[3]!==void 0)return r=o[3].trim(),r}}})},sd=Ro()("effect/Tracer/DisablePropagation",{defaultValue:zr});var _X=m(Un(),Be(Jn,qI()),Be(Ui,rB),Be(eu,eM(Math.random())),Be(id,tB()),Be($i,lB)),it=U(Symbol.for("effect/DefaultServices/currentServices"),()=>mx(_X)),dB=e=>{let t=Ot(e);return eh(n=>n.sleep(t))},Ax=e=>X(t=>e(t.currentDefaultServices)),eh=e=>Ax(t=>e(t.unsafeMap.get(Jn.key))),fB=eh(e=>e.currentTimeMillis),pB=eh(e=>e.currentTimeNanos),hB=d(2,(e,t)=>At(it,Be(Jn,t))(e)),mB=d(2,(e,t)=>At(it,Be(id,t))(e)),gB=e=>Ax(t=>e(t.unsafeMap.get(id.key)));var kx=e=>Ax(t=>e(t.unsafeMap.get(eu.key))),yB=d(2,(e,t)=>At(it,Be(eu,t))(e));var Nx=e=>Ax(t=>e(t.unsafeMap.get($i.key))),vB=d(2,(e,t)=>At(it,Be($i,t))(e));var nM=dB,Fx=fB,xB=pB,bB=eh,EB=Jn;function _B(e){return new Wo(e)}function CB(){return _B(new Map)}var oM=Symbol.for("effect/FiberRefs"),Wo=class{locals;[oM]=oM;constructor(t){this.locals=t}pipe(){return R(this,arguments)}},CX=(e,t,n,r=!1)=>{let o=e,i=t,s=n,a=r,c;for(;c===void 0;)if(nn(i)&&nn(s)){let u=Bt(i)[0],l=To(i),f=Bt(s)[0],p=Bt(s)[1],h=To(s);u.startTimeMillis<f.startTimeMillis?(s=h,a=!0):u.startTimeMillis>f.startTimeMillis?i=l:u.id<f.id?(s=h,a=!0):u.id>f.id?i=l:c=[p,a]}else c=[o.initial,!0];return c},Px=d(3,(e,t,n)=>{let r=new Map(e.locals);return n.locals.forEach((o,i)=>{let s=o[0][1];if(!o[0][0][P](t)){if(!r.has(i)){if(T(s,i.initial))return;r.set(i,[[t,i.join(i.initial,s)]]);return}let a=r.get(i),[c,u]=CX(i,a,o);if(u){let l=i.diff(c,s),f=a[0][1],p=i.join(f,i.patch(l)(f));if(!T(f,p)){let h,y=a[0][0];y[P](t)?h=[[y,p],...a.slice(1)]:h=[[t,p],...a],r.set(i,h)}}}}),new Wo(r)}),sM=d(2,(e,t)=>{let n=new Map;return SB(e,n,t),new Wo(n)}),SB=(e,t,n)=>{e.locals.forEach((r,o)=>{let i=r[0][1],s=o.patch(o.fork)(i);T(i,s)?t.set(o,r):t.set(o,[[n,s],...r])})},DB=e=>Ov(e.locals.keys()),wB=e=>zn(DB(e),t=>Bc(t,zi(e,t))),th=d(2,(e,t)=>{let n=new Map(e.locals);return n.delete(t),new Wo(n)}),Lx=d(2,(e,t)=>e.locals.has(t)?C(Bt(e.locals.get(t))[1]):_()),zi=d(2,(e,t)=>m(Lx(e,t),ht(()=>t.initial))),cd=d(2,(e,{fiberId:t,fiberRef:n,value:r})=>{if(e.locals.size===0)return new Wo(new Map([[n,[[t,r]]]]));let o=new Map(e.locals);return iM(o,t,n,r),new Wo(o)}),iM=(e,t,n,r)=>{let o=e.get(n)??[],i;if(nn(o)){let[s,a]=Bt(o);if(s[P](t)){if(T(a,r))return;i=[[t,r],...o.slice(1)]}else i=[[t,r],...o]}else i=[[t,r]];e.set(n,i)},IB=d(2,(e,{entries:t,forkAs:n})=>{if(e.locals.size===0)return new Wo(new Map(t));let r=new Map(e.locals);return n!==void 0&&SB(e,r,n),t.forEach(([o,i])=>{i.length===1?iM(r,i[0][0],o,i[0][1]):i.forEach(([s,a])=>{iM(r,s,o,a)})}),new Wo(r)});var cM=Lx,MB=zi,TB=Px,OB=wB;var RB=IB;var AB=CB;var SX=Kj,uM=Yj,lM=Zj,dM=_I,fM=CI,pM=SI,hM=Jj,DX=Qj;var wX=m(js,oL(e=>e.ordinal));var mM=HD(wX);var gM=e=>{switch(e){case"All":return SX;case"Debug":return pM;case"Error":return lM;case"Fatal":return uM;case"Info":return fM;case"Trace":return hM;case"None":return DX;case"Warning":return dM}};var kB=(e,t)=>({label:e,startTime:t}),vM=e=>e.replace(/[\s="]/g,"_"),xM=e=>t=>`${vM(t.label)}=${e-t.startTime}ms`;var FB=kB;var LB=Ei,bM=_i;var IX=JP;var Wi=class extends IX{};var oa=Symbol.for("effect/Readable");var eke={[oa]:oa,pipe(){return R(this,arguments)}};var Bx=Symbol.for("effect/Ref"),CM={_A:e=>e},_M=class extends Wi{ref;commit(){return this.get}[Bx]=CM;[oa]=oa;constructor(t){super(),this.ref=t,this.get=E(()=>Dn(this.ref))}get;modify(t){return E(()=>{let n=Dn(this.ref),[r,o]=t(n);return n!==o&&fr(o)(this.ref),r})}},ud=e=>new _M(Lo(e)),tu=e=>E(()=>ud(e)),Yt=e=>e.get,Go=d(2,(e,t)=>e.modify(()=>[void 0,t])),jB=d(2,(e,t)=>e.modify(n=>[n,t]));var SM=d(2,(e,t)=>e.modify(t));var nu=d(2,(e,t)=>e.modify(n=>[void 0,t(n)]));var Vx=tu,Ux=Yt,BB=jB;var HB=nu;var VB=Nx;var $B="Empty",qB="Add",zB="Remove",WB="Update",GB="AndThen",KB={_tag:$B},rh=(e,t)=>{let n=new Map(e.locals),r=KB;for(let[o,i]of t.locals.entries()){let s=Bt(i)[1],a=n.get(o);if(a!==void 0){let c=Bt(a)[1];T(c,s)||(r=$x({_tag:WB,fiberRef:o,patch:o.diff(c,s)})(r))}else r=$x({_tag:qB,fiberRef:o,value:s})(r);n.delete(o)}for(let[o]of n.entries())r=$x({_tag:zB,fiberRef:o})(r);return r},$x=d(2,(e,t)=>({_tag:GB,first:e,second:t})),qx=d(3,(e,t,n)=>{let r=n,o=ln(e);for(;nn(o);){let i=Bt(o),s=To(o);switch(i._tag){case $B:{o=s;break}case qB:{r=cd(r,{fiberId:t,fiberRef:i.fiberRef,value:i.value}),o=s;break}case zB:{r=th(r,i.fiberRef),o=s;break}case WB:{let a=zi(r,i.fiberRef);r=cd(r,{fiberId:t,fiberRef:i.fiberRef,value:i.fiberRef.patch(i.patch)(a)}),o=s;break}case GB:{o=Nl(i.first)(Nl(i.second)(s));break}}}return r});var ZB="effect/MetricLabel",wM=Symbol.for(ZB),IM=class{key;value;[wM]=wM;_hash;constructor(t,n){this.key=t,this.value=n,this._hash=me(ZB+this.key+this.value)}[j](){return this._hash}[P](t){return MX(t)&&this.key===t.key&&this.value===t.value}pipe(){return R(this,arguments)}},ru=(e,t)=>new IM(e,t),MX=e=>A(e,wM);var JB=d(e=>xe(e[0]),function(){let e=arguments;return At(e[0],na,typeof e[1]=="string"?Zr(e[1],e[2]):t=>Object.entries(e[1]).reduce((n,[r,o])=>Zr(n,r,o),t))}),ld=e=>w(e,C),QB=e=>Xs(e,C),TM=e=>{let t,n;return typeof e=="function"?t=e:(t=e.try,n=e.catch),B(()=>{try{return b(Ke(t))}catch(r){return ee(n?Ke(()=>n(r)):new qp(r,"An unknown error occurred in Effect.try"))}})},XB=d(3,(e,t,n)=>Qr(e,r=>A(r,t)&&r[t]===n.failure?n.onFailure(r):ee(r))),eH=d(2,(e,t)=>Ho(e,n=>{let r=Pc(n,o=>Tp(o)?C(o):_());switch(r._tag){case"None":return ie(n);case"Some":return t(r.value.defect)}})),tH=d(2,(e,t)=>He(e,{onFailure:n=>{let r=t(n);switch(r._tag){case"None":return ie(n);case"Some":return r.value}},onSuccess:b})),nH=d(2,(e,t)=>Ho(e,n=>{let r=Pc(n,o=>Tp(o)?C(o):_());switch(r._tag){case"None":return ie(n);case"Some":{let o=t(r.value.defect);return o._tag==="Some"?o.value:ie(n)}}})),rH=d(e=>xe(e[0]),(e,...t)=>{let n=t[t.length-1],r;return t.length===2?r=As(t[0]):r=o=>{let i=A(o,"_tag")?o._tag:void 0;if(!i)return!1;for(let s=0;s<t.length-1;s++)if(t[s]===i)return!0;return!1},jp(e,r,n)}),oH=d(2,(e,t)=>{let n;return jp(e,r=>(n??=Object.keys(t),A(r,"_tag")&&Xf(r._tag)&&n.includes(r._tag)),r=>t[r._tag](r))}),iH=e=>Bp(e,{onFailure:Z,onSuccess:()=>In}),Ko=bB,sH=Ko(b),aH=d(2,(e,t)=>pe(nM(t),e)),Gx=e=>X((t,n)=>e({id:t.id(),status:n,interruptors:Xv(t.getFiberRef(Wc))})),cH=Gx(e=>Sc(e.interruptors)>0?ux:G),uH=Gx(b),dd=e=>sh(e,Kx,rh),TX=e=>sh(e,Uc(Kx,Jl),([t,n],[r,o])=>[rh(t,r),pr(n,o)]),lH=b({}),dH=qy(w,g),fH=$y(w),pH=Uy(w),hH=d(2,(e,t)=>B(()=>{let n=e[Symbol.iterator](),r=[],o,i=b(!1),s=0;for(;(o=n.next())&&!o.done;){let a=o.value,c=s++;i=g(i,u=>u?(r.push(a),b(!0)):t(a,c))}return w(i,()=>r)})),mH=d(2,(e,t)=>B(()=>{let n=e[Symbol.iterator](),r=[],o,i=b(!0),s=0;for(;(o=n.next())&&!o.done;){let a=o.value,c=s++;i=g(i,u=>w(u?t(a,c):b(!1),l=>(l||r.push(a),l)))}return w(i,()=>r)})),gH=e=>w(Zn(),e),OM=e=>Hc(e,()=>g($o(),()=>OM(e))),yH=d(2,(e,t)=>w(Gt(e,Z),Fl(t))),vH=d(3,(e,t,n)=>oh(e,t,r=>Ks(()=>n(r)))),xH=d(3,(e,t,n)=>oh(e,t,()=>Gs(n))),oh=d(3,(e,t,n)=>g(e,r=>t(r)?b(r):n(r))),bH=d(3,(e,t,n)=>B(()=>t(e)?b(e):ee(n(e)))),EH=d(e=>xe(e[0]),(e,t,n)=>oh(e,t,r=>n===void 0?ee(new Kn):gr(()=>n(r)))),_H=d(2,(e,t)=>B(()=>{let n=e[Symbol.iterator](),r=n.next();return r.done?b(_()):CH(n,0,t,r.value)})),CH=(e,t,n,r)=>g(n(r,t),o=>{if(o)return b(C(r));let i=e.next();return i.done?b(_()):CH(e,t+1,n,i.value)}),SH=e=>B(()=>{let t=bc(e);return Wt(t)?m(on(t),Ls(Vt(t),(n,r)=>Hc(n,()=>r))):Ks(()=>new $p("Received an empty collection of effects"))}),DH=d(2,(e,t)=>Qs(t(Qs(e)))),ih=d(2,(e,t)=>Et(e,{onFailure:n=>b(t.onFailure(n)),onSuccess:n=>b(t.onSuccess(n))})),wH=d(2,(e,t)=>B(()=>IH(e[Symbol.iterator](),0,t))),IH=(e,t,n)=>{let r=e.next();return r.done?b(!0):g(n(r.value,t),o=>o?IH(e,t+1,n):b(o))},RM=e=>{let t=g(g(e,()=>$o()),()=>t);return t},Kx=X(e=>b(e.getFiberRefs())),MH=e=>g(e,t=>{let r=t[Symbol.iterator]().next();return r.done?ee(new Kn):b(r.value)}),Yx=e=>ih(e,{onFailure:wo,onSuccess:wo}),TH=e=>He(e,{onFailure:t=>kM(t,"An error was silently ignored because it is not anticipated to be useful"),onSuccess:()=>G}),OH=e=>Jx((t,n)=>TB(n,t,e)),RH=e=>ih(e,{onFailure:gi,onSuccess:zr}),AH=e=>ih(e,{onFailure:zr,onSuccess:gi}),AM=(e,t)=>B(()=>t.while(e)?g(t.body(e),n=>AM(n,t)):b(e)),Gi=e=>(...t)=>{let n=Wr(e),r;for(let o=0,i=t.length;o<i;o++){let s=t[o];dI(s)&&(r!==void 0?r=Ze(r,s):r=s,t=[...t.slice(0,o),...t.slice(o+1)],o--)}return r===void 0&&(r=In),X(o=>(o.log(t,r,n),G))},kH=Gi(),NH=Gi(hM),kM=Gi(pM),FH=Gi(fM),PH=Gi(dM),LH=Gi(lM),jH=Gi(uM),BH=d(2,(e,t)=>g(Fx,n=>At(e,yx,Bv(FB(t,n))))),HH=Wn(na),VH=(e,t)=>t.discard?$H(e,t.while,t.step,t.body):w(UH(e,t.while,t.step,t.body),ae),UH=(e,t,n,r)=>B(()=>t(e)?g(r(e),o=>w(UH(n(e),t,n,r),Bv(o))):E(()=>Bo())),$H=(e,t,n,r)=>B(()=>t(e)?g(r(e),()=>$H(n(e),t,n,r)):G),qH=d(3,(e,t,n)=>B(()=>{let r=e[Symbol.iterator](),o=[],i=b(t),s,a=0;for(;!(s=r.next()).done;){let c=a++,u=s.value;i=g(i,l=>w(n(l,u,c),([f,p])=>(o.push(p),f)))}return w(i,c=>[c,o])})),fd=d(2,(e,t)=>He(e,{onFailure:n=>Ys(()=>t(n)),onSuccess:b})),NM=e=>m(Yn(),g(t=>m(TX(e),Vo(t),FM,w(n=>pe(n,m(kt(t),g(([r,o])=>Pe(Uc(ou(r[0]),ea(r[1])),o)))))))),zH=e=>Et(e,{onFailure:t=>b(t),onSuccess:b}),Zx=e=>w(e,t=>!t),WH=e=>g(e,t=>{switch(t._tag){case"None":return G;case"Some":return ee(new Kn)}}),FM=e=>w(Vx(!0),t=>Qe(Ql(e,BB(t,!1)))),GH=e=>Et(e,{onFailure:()=>b(_()),onSuccess:t=>b(C(t))}),KH=d(2,(e,t)=>Hc(e,()=>gr(t))),YH=d(2,(e,t)=>Hc(e,()=>E(t))),ZH=e=>He(e,{onFailure:t=>{let n=ae(Qv(t));return n.length===0?ie(t):ee(n)},onSuccess:b}),ou=e=>Jx((t,n)=>m(e,qx(t,n))),JH=e=>e.length>=1?sn((t,n)=>{try{e(n).then(r=>t(b(r)),r=>t(pn(r)))}catch(r){t(pn(r))}}):sn(t=>{try{e().then(n=>t(b(n)),n=>t(pn(n)))}catch(n){t(pn(n))}}),ia=d(3,(e,t,n)=>yr(r=>eo(e,Be(r,t,n)))),sa=d(3,(e,t,n)=>yr(r=>g(n,o=>eo(e,m(r,Be(t,o)))))),QH=kx(b),XH=d(3,(e,t,n)=>ae(e).reduce((r,o,i)=>g(r,s=>n(s,o,i)),b(t))),eV=d(3,(e,t,n)=>ae(e).reduceRight((r,o,i)=>g(r,s=>n(o,s,i)),b(t))),tV=d(3,(e,t,n)=>g(E(()=>e[Symbol.iterator]()),r=>nV(r,0,t,n.while,n.body))),nV=(e,t,n,r,o)=>{let i=e.next();return!i.done&&r(n)?g(o(n,i.value,t),s=>nV(e,t+1,s,r,o)):b(n)},rV=d(2,(e,t)=>B(()=>oV(e,t))),oV=(e,t)=>g(e,n=>t<=0?b(n):pe($o(),oV(e,t-1))),iV=e=>He(e,{onFailure:ee,onSuccess:b}),sV=e=>B(()=>OB(e)),iu=nM,su=b(_()),aV=e=>b(C(e)),sh=d(3,(e,t,n)=>g(t,r=>g(e,o=>w(t,i=>[n(r,i),o])))),cV=d(e=>xe(e[0]),function(){return PM(arguments[0],typeof arguments[1]=="string"?[ru(arguments[1],arguments[2])]:Object.entries(arguments[1]).map(([e,t])=>ru(e,t)))}),PM=d(2,(e,t)=>At(e,Hi,n=>Gr(n,t))),uV=d(2,(e,t)=>B(()=>{let n=e[Symbol.iterator](),r=[],o,i=b(!1),s=0;for(;(o=n.next())&&!o.done;){let a=o.value,c=s++;i=g(i,u=>u?b(!0):(r.push(a),t(a,c)))}return w(i,()=>r)})),lV=d(2,(e,t)=>B(()=>{let n=e[Symbol.iterator](),r=[],o,i=b(!0),s=0;for(;(o=n.next())&&!o.done;){let a=o.value,c=s++;i=g(i,u=>m(u?t(a,c):b(!1),w(l=>(l&&r.push(a),l))))}return w(i,()=>r)})),dV=d(2,(e,{onFailure:t,onSuccess:n})=>He(e,{onFailure:r=>{let o=ki(r);switch(o._tag){case"Left":return pe(t(o.left),ie(r));case"Right":return ie(r)}},onSuccess:r=>Pe(n(r),r)})),fV=d(2,(e,t)=>Ho(e,n=>bt(Cj(n),{onNone:()=>ie(n),onSome:r=>pe(t(r),ie(n))}))),LM=d(2,(e,t)=>He(e,{onFailure:n=>{let r=ki(n);switch(r._tag){case"Left":return pe(t(r.left),ie(n));case"Right":return ie(n)}},onSuccess:b})),pV=d(3,(e,t,n)=>LM(e,r=>As(r,t)?n(r):G)),hV=d(2,(e,t)=>He(e,{onFailure:n=>pe(t(n),ie(n)),onSuccess:b})),mV=e=>jM(e,xB),jM=d(2,(e,t)=>sh(e,t,(n,r)=>pp(r-n))),OX=VB,gV=OX(b),BM=e=>{let t,n;typeof e=="function"?t=e:(t=e.try,n=e.catch);let r=o=>n?gr(()=>n(o)):ee(new qp(o,"An unknown error occurred in Effect.tryPromise"));return t.length>=1?sn((o,i)=>{try{t(i).then(s=>o(b(s)),s=>o(r(s)))}catch(s){o(r(s))}}):sn(o=>{try{t().then(i=>o(b(i)),i=>o(r(i)))}catch(i){o(r(i))}})},yV=d(2,(e,t)=>g(e,n=>TM({try:()=>t.try(n),catch:t.catch}))),vV=d(2,(e,t)=>g(e,n=>BM({try:t.try.length>=1?r=>t.try(n,r):()=>t.try(n),catch:t.catch}))),xV=d(2,(e,t)=>B(()=>t()?su:ld(e))),bV=d(2,(e,t)=>g(t,n=>n?su:ld(e))),EV=e=>fd(e,wj),Jx=e=>X(t=>(t.setFiberRefs(e(t.id(),t.getFiberRefs())),G)),_V=d(3,(e,t,n)=>Jc(e,r=>Be(r,t,n(Bs(r,t))))),Qx=d(2,(e,t)=>B(()=>t()?w(e,C):b(_()))),CV=d(3,(e,t,n)=>g(Wn(t),r=>n(r)?w(e,o=>[r,C(o)]):b([r,_()]))),SV=d(3,(e,t,n)=>g(Ux(t),r=>n(r)?w(e,o=>[r,C(o)]):b([r,_()]))),DV=d(2,(e,t)=>t(e)),wV=(e,t)=>(...n)=>g(e,r=>t(r)(...n)),IV=(e,t)=>(...n)=>w(e,r=>t(r)(...n)),HM=e=>new Proxy({},{get(t,n,r){return(...o)=>g(e,i=>i[n](...o))}}),VM=e=>new Proxy({},{get(t,n,r){return g(e,o=>xe(o[n])?o[n]:b(o[n]))}}),MV=e=>({functions:HM(e),constants:VM(e)}),TV=e=>w(Zn(),Yr(e)),UM=e=>g(Zn(),Yr(e)),OV=function(){let e=arguments;return Yx(g(Xx,t=>E(()=>{if(typeof e[0]=="string")t.attribute(e[0],e[1]);else for(let n in e[0])t.attribute(n,e[0][n])})))},RV=function(){let e=arguments,t=Array.isArray(e[0])?e[0]:[{_tag:"SpanLink",span:e[0],attributes:e[1]??{}}];return Yx(g(Xx,n=>E(()=>n.addLinks(t))))},AV=d(e=>xe(e[0]),function(){let e=arguments;return At(e[0],Up,typeof e[1]=="string"?Zr(e[1],e[2]):t=>Object.entries(e[1]).reduce((n,[r,o])=>Zr(n,r,o),t))}),kV=UM(zo),Xx=g(Zn(),e=>{let t=e.unsafeMap.get(zo.key);return t!==void 0&&t._tag==="Span"?b(t):ee(new Kn)}),NV=d(e=>xe(e[0]),(e,t,n)=>At(e,xx,pv({_tag:"SpanLink",span:t,attributes:n??{}}))),FV=BigInt(0),PV=Cn(e=>Sn(e.context,sd)?e._tag==="Span"?PV(e.parent):_():C(e)),eb=(e,t,n)=>{let r=!e.getFiberRef(TI)||n.context&&Sn(n.context,sd),o=e.getFiberRef(An),i=n.parent?C(n.parent):n.root?_():PV(Yr(o,zo)),s;if(r)s=g2({name:t,parent:i,context:Be(n.context??Un(),sd,!0)});else{let a=e.getFiberRef(it),c=Sn(a,$i),u=Sn(a,EB),l=e.getFiberRef(ed),f=e.getFiberRefs(),p=cM(f,Up),h=cM(f,xx),y=h._tag==="Some"?n.links!==void 0?[...lr(h.value),...n.links??[]]:lr(h.value):n.links??Kr();s=c.span(t,i,n.context??Un(),y,l?u.unsafeCurrentTimeNanos():FV,n.kind??"internal",n),p._tag==="Some"&&B1(p.value,(S,I)=>s.attribute(I,S)),n.attributes!==void 0&&Object.entries(n.attributes).forEach(([S,I])=>s.attribute(S,I))}return typeof n.captureStackTrace=="function"&&Ap.set(s,n.captureStackTrace),s},LV=(e,t)=>(t=qi(t),X(n=>b(eb(n,e,t)))),jV=Wn(Up),BV=Wn(xx),$M=(e,t,n,r)=>E(()=>{e.status._tag!=="Ended"&&(OI(t)&&Ap.has(e)&&e.attribute("code.stacktrace",Ap.get(e)()),e.end(r?n.unsafeCurrentTimeNanos():FV,t))}),zx=(e,...t)=>{let n=qi(t.length===1?void 0:t[0]),r=t[t.length-1];return X(o=>{let i=eb(o,e,n),s=o.getFiberRef(ed),a=Sn(o.getFiberRef(it),Jn);return hn(r(i),c=>$M(i,c,a,s))})},Wx=d(2,(e,t)=>ia(e,zo,t)),qM=function(){let e=typeof arguments[0]!="string",t=e?arguments[1]:arguments[0],n=qi(e?arguments[2]:arguments[1]);if(e){let r=arguments[0];return zx(t,n,o=>Wx(r,o))}return r=>zx(t,n,o=>Wx(r,o))},HV=e=>function(){let t=e.captureStackTrace??!1;if(e.captureStackTrace!==!1){let n=Error.stackTraceLimit;Error.stackTraceLimit=2;let r=new Error;Error.stackTraceLimit=n;let o=!1;t=()=>{if(o!==!1)return o;if(r.stack)return o=r.stack.trim().split(`
`).slice(2).join(`
`).trim(),o}}return B(()=>{let n=typeof e.options=="function"?e.options.apply(null,arguments):e.options;return qM(B(()=>Ke(()=>e.body.apply(this,arguments))),n.name,N(x({},n),{captureStackTrace:t}))})},VV=e=>e==null?ee(new Kn):b(e),UV=e=>Qr(w(e,C),t=>c2(t)?su:ee(t));var $V="Sequential",qV="Parallel",RX="ParallelN",xr={_tag:$V},ah={_tag:qV},zV=e=>({_tag:RX,parallelism:e}),zM=e=>e._tag===$V,WM=e=>e._tag===qV;var nb=xr,rb=ah,ob=zV;var au=rh;var cu=qx;var sb="effect/FiberStatus",aa=Symbol.for(sb),ib="Done",GV="Running",KV="Suspended",AX=me(`${sb}-${ib}`),KM=class{[aa]=aa;_tag=ib;[j](){return AX}[P](t){return ab(t)&&t._tag===ib}},YM=class{runtimeFlags;[aa]=aa;_tag=GV;constructor(t){this.runtimeFlags=t}[j](){return m(M(sb),H(M(this._tag)),H(M(this.runtimeFlags)),J(this))}[P](t){return ab(t)&&t._tag===GV&&this.runtimeFlags===t.runtimeFlags}},ZM=class{runtimeFlags;blockingOn;[aa]=aa;_tag=KV;constructor(t,n){this.runtimeFlags=t,this.blockingOn=n}[j](){return m(M(sb),H(M(this._tag)),H(M(this.runtimeFlags)),H(M(this.blockingOn)),J(this))}[P](t){return ab(t)&&t._tag===KV&&this.runtimeFlags===t.runtimeFlags&&T(this.blockingOn,t.blockingOn)}},YV=new KM,ZV=e=>new YM(e),JV=(e,t)=>new ZM(e,t),ab=e=>A(e,aa),QV=e=>e._tag===ib;var XV=YV,JM=ZV,eU=JV;var tU=QV;var NX=Symbol.for("effect/Micro"),cb=Symbol.for("effect/Micro/MicroExit");var rU=Symbol.for("effect/Micro/MicroCause");var FX={_E:Z},ub=class extends globalThis.Error{_tag;traces;[rU];constructor(t,n,r){let o=`MicroCause.${t}`,i,s,a;if(n instanceof globalThis.Error){i=`(${o}) ${n.name}`,s=n.message;let c=s.split(`
`).length;a=n.stack?`(${o}) ${n.stack.split(`
`).slice(0,c+3).join(`
`)}`:`${i}: ${s}`}else i=o,s=xi(n,0),a=`${i}: ${s}`;r.length>0&&(a+=`
    ${r.join(`
    `)}`),super(s),this._tag=t,this.traces=r,this[rU]=FX,this.name=i,this.stack=a}pipe(){return R(this,arguments)}toString(){return this.stack}[Q](){return this.stack}};var XM=class extends ub{defect;constructor(t,n=[]){super("Die",t,n),this.defect=t}},PX=(e,t=[])=>new XM(e,t),eT=class extends ub{constructor(t=[]){super("Interrupt","interrupted",t)}},LX=(e=[])=>new eT(e);var aU=e=>e._tag==="Interrupt";var oU=Symbol.for("effect/Micro/MicroFiber"),jX={_A:Z,_E:Z},lb=class{context;interruptible;[oU];_stack=[];_observers=[];_exit;_children;currentOpCount=0;constructor(t,n=!0){this.context=t,this.interruptible=n,this[oU]=jX}getRef(t){return PL(this.context,t)}addObserver(t){return this._exit?(t(this._exit),wo):(this._observers.push(t),()=>{let n=this._observers.indexOf(t);n>=0&&this._observers.splice(n,1)})}_interrupted=!1;unsafeInterrupt(){this._exit||(this._interrupted=!0,this.interruptible&&this.evaluate(oT))}unsafePoll(){return this._exit}evaluate(t){if(this._exit)return;if(this._yielded!==void 0){let o=this._yielded;this._yielded=void 0,o()}let n=this.runLoop(t);if(n===hd)return;let r=iU.interruptChildren&&iU.interruptChildren(this);if(r!==void 0)return this.evaluate(uu(r,()=>n));this._exit=n;for(let o=0;o<this._observers.length;o++)this._observers[o](n);this._observers.length=0}runLoop(t){let n=!1,r=t;this.currentOpCount=0;try{for(;;){if(this.currentOpCount++,!n&&this.getRef(vd).shouldYield(this)){n=!0;let o=r;r=uu(qX,()=>o)}if(r=r[tT](this),r===hd){let o=this._yielded;return cb in o?(this._yielded=void 0,o):hd}}}catch(o){return A(r,tT)?mb(o):mb(`MicroFiber.runLoop: Not a valid effect: ${String(r)}`)}}getCont(t){for(;;){let n=this._stack.pop();if(!n)return;let r=n[db]&&n[db](this);if(r)return{[t]:r};if(n[t])return n}}_yielded=void 0;yieldWith(t){return this._yielded=t,hd}children(){return this._children??=new Set}},iU=U("effect/Micro/fiberMiddleware",()=>({interruptChildren:void 0}));var BX=e=>ch(()=>{for(let r of e)r.unsafeInterrupt();let t=e[Symbol.iterator](),n=ch(()=>{let r=t.next();for(;!r.done;){if(r.value.unsafePoll()){r=t.next();continue}let o=r.value;return lU(i=>{o.addObserver(s=>{i(n)})})}return yd});return n}),cU=Symbol.for("effect/Micro/identifier"),Ae=Symbol.for("effect/Micro/args"),tT=Symbol.for("effect/Micro/evaluate"),ca=Symbol.for("effect/Micro/successCont"),md=Symbol.for("effect/Micro/failureCont"),db=Symbol.for("effect/Micro/ensureCont"),hd=Symbol.for("effect/Micro/Yield"),HX={_A:Z,_E:Z,_R:Z},VX=N(x({},LB),{_op:"Micro",[NX]:HX,pipe(){return R(this,arguments)},[Symbol.iterator](){return new dc(new Io(this))},toJSON(){return x({_id:"Micro",op:this[cU]},Ae in this?{args:this[Ae]}:void 0)},toString(){return se(this)},[Q](){return se(this)}});function UX(e){return mb("Micro.evaluate: Not implemented")}var yb=e=>N(x({},VX),{[cU]:e.op,[tT]:e.eval??UX,[ca]:e.contA,[md]:e.contE,[db]:e.ensure}),ua=e=>{let t=yb(e);return function(){let n=Object.create(t);return n[Ae]=e.single===!1?arguments:arguments[0],n}},uU=e=>{let t=N(x({},yb(e)),{[cb]:cb,_tag:e.op,get[e.prop](){return this[Ae]},toJSON(){return{_id:"MicroExit",_tag:e.op,[e.prop]:this[Ae]}},[P](n){return JX(n)&&n._tag===e.op&&T(this[Ae],n[Ae])},[j](){return J(this,H(me(e.op))(M(this[Ae])))}});return function(n){let r=Object.create(t);return r[Ae]=n,r[ca]=void 0,r[md]=void 0,r[db]=void 0,r}},gd=uU({op:"Success",prop:"value",eval(e){let t=e.getCont(ca);return t?t[ca](this[Ae],e):e.yieldWith(this)}}),fb=uU({op:"Failure",prop:"cause",eval(e){let t=e.getCont(md);for(;aU(this[Ae])&&t&&e.interruptible;)t=e.getCont(md);return t?t[md](this[Ae],e):e.yieldWith(this)}});var pb=ua({op:"Sync",eval(e){let t=this[Ae](),n=e.getCont(ca);return n?n[ca](t,e):e.yieldWith(xb(t))}}),ch=ua({op:"Suspend",eval(e){return this[Ae]()}}),$X=ua({op:"Yield",eval(e){let t=!1;return e.getRef(vd).scheduleTask(()=>{t||e.evaluate(yd)},this[Ae]??0),e.yieldWith(()=>{t=!0})}}),qX=$X(0);var hb=gd(void 0);var vb=ua({op:"WithMicroFiber",eval(e){return this[Ae](e)}});var zX=ua({op:"Async",single:!1,eval(e){let t=this[Ae][0],n=!1,r=!1,o=this[Ae][1]?new AbortController:void 0,i=t(s=>{n||(n=!0,r?e.evaluate(s):r=s)},o?.signal);return r!==!1?r:(r=!0,e._yielded=()=>{n=!0},o===void 0&&i===void 0||e._stack.push(WX(()=>(n=!0,o?.abort(),i??yd))),hd)}}),WX=ua({op:"AsyncFinalizer",ensure(e){e.interruptible&&(e.interruptible=!1,e._stack.push(iT(!0)))},contE(e,t){return aU(e)?uu(this[Ae](),()=>fb(e)):fb(e)}}),lU=e=>zX(e,e.length>=2);var GX=d(2,(e,t)=>ZX(e,n=>t));var KX=e=>nee(e,{onFailure:bb,onSuccess:xb});var uu=d(2,(e,t)=>{let n=Object.create(YX);return n[Ae]=e,n[ca]=t,n}),YX=yb({op:"OnSuccess",eval(e){return e._stack.push(this),this[Ae]}});var ZX=d(2,(e,t)=>uu(e,n=>gd(t(n)))),JX=e=>A(e,cb),xb=gd,bb=fb,oT=bb(LX());var mb=e=>bb(PX(e));var yd=xb(void 0),QX=e=>{for(let t of e)if(t._tag==="Failure")return t;return yd},XX="setImmediate"in globalThis?globalThis.setImmediate:e=>setTimeout(e,0),gb=class{tasks=[];running=!1;scheduleTask(t,n){this.tasks.push(t),this.running||(this.running=!0,XX(this.afterScheduled))}afterScheduled=()=>{this.running=!1,this.runTasks()};runTasks(){let t=this.tasks;this.tasks=[];for(let n=0,r=t.length;n<r;n++)t[n]()}shouldYield(t){return t.currentOpCount>=t.getRef(nT)}flush(){for(;this.tasks.length>0;)this.runTasks()}};var eee=d(2,(e,t)=>vb(n=>{let r=n.context;return n.context=t(r),ree(e,()=>(n.context=r,hb))}));var dU=d(2,(e,t)=>eee(e,Di(t)));var nT=class extends Ro()("effect/Micro/currentMaxOpsBeforeYield",{defaultValue:()=>2048}){},rT=class extends Ro()("effect/Micro/currentConcurrency",{defaultValue:()=>"unbounded"}){},vd=class extends Ro()("effect/Micro/currentScheduler",{defaultValue:()=>new gb}){};var fU=d(2,(e,t)=>{let n=Object.create(tee);return n[Ae]=e,n[ca]=t.onSuccess,n[md]=t.onFailure,n}),tee=yb({op:"OnSuccessAndFailure",eval(e){return e._stack.push(this),this[Ae]}}),nee=d(2,(e,t)=>fU(e,{onFailure:n=>pb(()=>t.onFailure(n)),onSuccess:n=>pb(()=>t.onSuccess(n))}));var QM=Symbol.for("effect/Micro/MicroScope");var sU=class e{[QM];state={_tag:"Open",finalizers:new Set};constructor(){this[QM]=QM}unsafeAddFinalizer(t){this.state._tag==="Open"&&this.state.finalizers.add(t)}addFinalizer(t){return ch(()=>this.state._tag==="Open"?(this.state.finalizers.add(t),hb):t(this.state.exit))}unsafeRemoveFinalizer(t){this.state._tag==="Open"&&this.state.finalizers.delete(t)}close(t){return ch(()=>{if(this.state._tag==="Open"){let n=Array.from(this.state.finalizers).reverse();return this.state={_tag:"Closed",exit:t},uu(aee(n,r=>KX(r(t))),QX)}return hb})}get fork(){return pb(()=>{let t=new e;if(this.state._tag==="Closed")return t.state=this.state,t;function n(r){return t.close(r)}return this.state.finalizers.add(n),t.unsafeAddFinalizer(r=>pb(()=>this.unsafeRemoveFinalizer(n))),t})}};var ree=d(2,(e,t)=>iee(n=>fU(n(e),{onFailure:r=>uu(t(bb(r)),()=>fb(r)),onSuccess:r=>uu(t(xb(r)),()=>gd(r))})));var iT=ua({op:"SetInterruptible",ensure(e){if(e.interruptible=this[Ae],e._interrupted&&e.interruptible)return()=>oT}}),oee=e=>vb(t=>t.interruptible?e:(t.interruptible=!0,t._stack.push(iT(!1)),t._interrupted?oT:e)),iee=e=>vb(t=>t.interruptible?(t.interruptible=!1,t._stack.push(iT(!0)),e(oee)):e(Z));var see=ua({op:"While",contA(e,t){return this[Ae].step(e),this[Ae].while()?(t._stack.push(this),this[Ae].body()):yd},eval(e){return this[Ae].while()?(e._stack.push(this),this[Ae].body()):yd}}),aee=(e,t,n)=>vb(r=>{let o=n?.concurrency==="inherit"?r.getRef(rT):n?.concurrency??1,i=o==="unbounded"?Number.POSITIVE_INFINITY:Math.max(1,o),s=ae(e),a=s.length;if(a===0)return n?.discard?hb:gd([]);let c=n?.discard?void 0:new Array(a),u=0;return i===1?GX(see({while:()=>u<s.length,body:()=>t(s[u],u),step:c?l=>c[u++]=l:l=>u++}),c):lU(l=>{let f=new Set,p,h=0,y=0,S=!1,I=!1;function O(){for(S=!0;h<i&&u<a;){let K=u,qe=s[K];u++,h++;try{let le=cee(r,t(qe,K),!0,!0);f.add(le),le.addObserver(Ut=>{f.delete(le),!I&&(Ut._tag==="Failure"?p===void 0&&(p=Ut,a=u,f.forEach($t=>$t.unsafeInterrupt())):c!==void 0&&(c[K]=Ut.value),y++,h--,y===a?l(p??gd(c)):!S&&h<i&&O())})}catch(le){p=mb(le),a=u,f.forEach(Ut=>Ut.unsafeInterrupt())}}S=!1}return O(),ch(()=>(I=!0,u=a,BX(f)))})});var cee=(e,t,n=!1,r=!1)=>{let o=new lb(e.context,e.interruptible);return r||(e.children().add(o),o.addObserver(()=>e.children().delete(o))),n?o.evaluate(t):e.getRef(vd).scheduleTask(()=>o.evaluate(t),0),o};var pU=(e,t)=>{let n=new lb(vd.context(t?.scheduler??new gb));if(n.evaluate(e),t?.signal)if(t.signal.aborted)n.unsafeInterrupt();else{let r=()=>n.unsafeInterrupt();t.signal.addEventListener("abort",r,{once:!0}),n.addObserver(()=>t.signal.removeEventListener("abort",r))}return n};var Eb=class{buckets=[];scheduleTask(t,n){let r=this.buckets.length,o,i=0;for(;i<r&&this.buckets[i][0]<=n;i++)o=this.buckets[i];o&&o[0]===n?o[1].push(t):i===r?this.buckets.push([n,[t]]):this.buckets.splice(i,0,[n,[t]])}},sT=class{maxNextTickBeforeTimer;running=!1;tasks=new Eb;constructor(t){this.maxNextTickBeforeTimer=t}starveInternal(t){let n=this.tasks.buckets;this.tasks.buckets=[];for(let[r,o]of n)for(let i=0;i<o.length;i++)o[i]();this.tasks.buckets.length===0?this.running=!1:this.starve(t)}starve(t=0){t>=this.maxNextTickBeforeTimer?setTimeout(()=>this.starveInternal(0),0):Promise.resolve(void 0).then(()=>this.starveInternal(t+1))}shouldYield(t){return t.currentOpCount>t.getFiberRef(gx)?t.getFiberRef(Bi):!1}scheduleTask(t,n){this.tasks.scheduleTask(t,n),this.running||(this.running=!0,this.starve())}},mU=U(Symbol.for("effect/Scheduler/defaultScheduler"),()=>new sT(2048)),_b=class{tasks=new Eb;deferred=!1;scheduleTask(t,n){this.deferred?mU.scheduleTask(t,n):this.tasks.scheduleTask(t,n)}shouldYield(t){return t.currentOpCount>t.getFiberRef(gx)?t.getFiberRef(Bi):!1}flush(){for(;this.tasks.buckets.length>0;){let t=this.tasks.buckets;this.tasks.buckets=[];for(let[n,r]of t)for(let o=0;o<r.length;o++)r[o]()}this.deferred=!0}};var lu=U(Symbol.for("effect/FiberRef/currentScheduler"),()=>Ge(mU)),gU=d(2,(e,t)=>ot(e,lu,t));var Cb=U(Symbol.for("effect/FiberRef/currentRequestMap"),()=>Ge(new Map));var cT=(e,t,n,r)=>{switch(e){case void 0:return t();case"unbounded":return n();case"inherit":return Kt(vx,o=>o==="unbounded"?n():o>1?r(o):t());default:return e>1?r(e):t()}},uh=(e,t,n)=>{switch(e){case void 0:return t();case"unbounded":return n();case"inherit":return Kt(vx,r=>r==="unbounded"||r>1?n():t());default:return e>1?n():t()}};var Sb="InterruptSignal",Db="Stateful",wb="Resume",Ib="YieldNow",Mb=e=>({_tag:Sb,cause:e}),xd=e=>({_tag:Db,onFiber:e}),du=e=>({_tag:wb,effect:e}),yU=()=>({_tag:Ib});var dee="effect/FiberScope",Tb=Symbol.for(dee),uT=class{[Tb]=Tb;fiberId=wn;roots=new Set;add(t,n){this.roots.add(n),n.addObserver(()=>{this.roots.delete(n)})}},lT=class{fiberId;parent;[Tb]=Tb;constructor(t,n){this.fiberId=t,this.parent=n}add(t,n){this.parent.tell(xd(r=>{r.addChild(n),n.addObserver(()=>{r.removeChild(n)})}))}},xU=e=>new lT(e.id(),e),Ki=U(Symbol.for("effect/FiberScope/Global"),()=>new uT);var fee="effect/Fiber",lh=Symbol.for(fee),dh={_E:e=>e,_A:e=>e},pee={[lh]:dh,pipe(){return R(this,arguments)}},hee="effect/Fiber",dT=Symbol.for(hee);var EU=e=>dT in e,_U=e=>e.await;var CU=e=>e.inheritAll;var SU=d(2,Xl(function*(e,t){for(let n of e){if(EU(n)){n.unsafeInterruptAsFork(t);continue}yield*Zo(n.interruptAsFork(t))}for(let n of e)EU(n)&&n.unsafePoll()||(yield*Zo(n.await))})),DU=d(2,(e,t)=>e.interruptAsFork(t)),no=e=>$c(On(e.await),e.inheritAll);var jke=N(x(N(x({},_i),{commit(){return no(this)}}),pee),{id:()=>wn,await:qc,children:b([]),inheritAll:qc,poll:b(_()),interruptAsFork:()=>qc});var la="effect/FiberCurrent";var mee="effect/Logger",IU=Symbol.for(mee),MU={_Message:e=>e,_Output:e=>e},Ob=e=>({[IU]:MU,log:e,pipe(){return R(this,arguments)}});var Uke={[IU]:MU,log:wo,pipe(){return R(this,arguments)}};var gee=/^[^\s"=]*$/,yee=(e,t)=>({annotations:n,cause:r,date:o,fiberId:i,logLevel:s,message:a,spans:c})=>{let u=y=>y.match(gee)?y:e(y),l=(y,S)=>`${vM(y)}=${u(S)}`,f=(y,S)=>" "+l(y,S),p=l("timestamp",o.toISOString());p+=f("level",s.label),p+=f("fiber",Pv(i));let h=gL(a);for(let y=0;y<h.length;y++)p+=f("message",xi(h[y],t));Ej(r)||(p+=f("cause",Ni(r,{renderErrorCause:!0})));for(let y of c)p+=" "+xM(o.getTime())(y);for(let[y,S]of n)p+=f(y,xi(S,t));return p},vee=e=>`"${e.replace(/\\([\s\S])|(")/g,"\\$1$2")}"`,TU=Ob(yee(vee));var fu={bold:"1",red:"31",green:"32",yellow:"33",blue:"34",cyan:"36",white:"37",gray:"90",black:"30",bgBrightRed:"101"},$ke={None:[],All:[],Trace:[fu.gray],Debug:[fu.blue],Info:[fu.green],Warning:[fu.yellow],Error:[fu.red],Fatal:[fu.bgBrightRed,fu.black]};var OU=typeof process=="object"&&process!==null&&typeof process.stdout=="object"&&process.stdout!==null,qke=OU&&process.stdout.isTTY===!0,zke=OU||"Deno"in globalThis;var RU="effect/MetricBoundaries",fT=Symbol.for(RU),pT=class{values;[fT]=fT;constructor(t){this.values=t,this._hash=m(me(RU),H(_n(this.values)))}_hash;[j](){return this._hash}[P](t){return bee(t)&&T(this.values,t.values)}pipe(){return R(this,arguments)}},bee=e=>A(e,fT),Eee=e=>{let t=m(e,WD(Ye(Number.POSITIVE_INFINITY)),XD);return new pT(t)};var AU=e=>m(zD(e.count-1,t=>e.start*Math.pow(e.factor,t)),fp,Eee);var Cee="effect/MetricKeyType",fh=Symbol.for(Cee),PU="effect/MetricKeyType/Counter",hT=Symbol.for(PU),LU="effect/MetricKeyType/Frequency",mT=Symbol.for(LU),jU="effect/MetricKeyType/Gauge",gT=Symbol.for(jU),BU="effect/MetricKeyType/Histogram",yT=Symbol.for(BU),HU="effect/MetricKeyType/Summary",vT=Symbol.for(HU),ph={_In:e=>e,_Out:e=>e},xT=class{incremental;bigint;[fh]=ph;[hT]=hT;constructor(t,n){this.incremental=t,this.bigint=n,this._hash=me(PU)}_hash;[j](){return this._hash}[P](t){return ET(t)}pipe(){return R(this,arguments)}},See=me(LU),kU=class{preregisteredWords;[fh]=ph;[mT]=mT;constructor(t){this.preregisteredWords=t}[j](){return See}[P](t){return _T(t)}pipe(){return R(this,arguments)}},Dee=me(jU),NU=class{bigint;[fh]=ph;[gT]=gT;constructor(t){this.bigint=t}[j](){return Dee}[P](t){return CT(t)}pipe(){return R(this,arguments)}},bT=class{boundaries;[fh]=ph;[yT]=yT;constructor(t){this.boundaries=t,this._hash=m(me(BU),H(M(this.boundaries)))}_hash;[j](){return this._hash}[P](t){return ST(t)&&T(this.boundaries,t.boundaries)}pipe(){return R(this,arguments)}},FU=class{maxAge;maxSize;error;quantiles;[fh]=ph;[vT]=vT;constructor(t,n,r,o){this.maxAge=t,this.maxSize=n,this.error=r,this.quantiles=o,this._hash=m(me(HU),H(M(this.maxAge)),H(M(this.maxSize)),H(M(this.error)),H(_n(this.quantiles)))}_hash;[j](){return this._hash}[P](t){return DT(t)&&T(this.maxAge,t.maxAge)&&this.maxSize===t.maxSize&&this.error===t.error&&T(this.quantiles,t.quantiles)}pipe(){return R(this,arguments)}},VU=e=>new xT(e?.incremental??!1,e?.bigint??!1);var UU=e=>new bT(e);var ET=e=>A(e,hT),_T=e=>A(e,mT),CT=e=>A(e,gT),ST=e=>A(e,yT),DT=e=>A(e,vT);var wee="effect/MetricKey",qU=Symbol.for(wee),Iee={_Type:e=>e},Mee=Pl(T),hh=class{name;keyType;description;tags;[qU]=Iee;constructor(t,n,r,o=[]){this.name=t,this.keyType=n,this.description=r,this.tags=o,this._hash=m(me(this.name+this.description),H(M(this.keyType)),H(_n(this.tags)))}_hash;[j](){return this._hash}[P](t){return Tee(t)&&this.name===t.name&&T(this.keyType,t.keyType)&&T(this.description,t.description)&&Mee(this.tags,t.tags)}pipe(){return R(this,arguments)}},Tee=e=>A(e,qU),zU=(e,t)=>new hh(e,VU(t),Wr(t?.description));var WU=(e,t,n)=>new hh(e,UU(t),Wr(n));var GU=d(2,(e,t)=>t.length===0?e:new hh(e.name,e.keyType,e.description,Gr(e.tags,t)));var Ree="effect/MetricState",mh=Symbol.for(Ree),KU="effect/MetricState/Counter",wT=Symbol.for(KU),YU="effect/MetricState/Frequency",IT=Symbol.for(YU),ZU="effect/MetricState/Gauge",MT=Symbol.for(ZU),JU="effect/MetricState/Histogram",TT=Symbol.for(JU),QU="effect/MetricState/Summary",OT=Symbol.for(QU),gh={_A:e=>e},RT=class{count;[mh]=gh;[wT]=wT;constructor(t){this.count=t}[j](){return m(M(KU),H(M(this.count)),J(this))}[P](t){return kee(t)&&this.count===t.count}pipe(){return R(this,arguments)}},Aee=Pl(T),AT=class{occurrences;[mh]=gh;[IT]=IT;constructor(t){this.occurrences=t}_hash;[j](){return m(me(YU),H(_n(ae(this.occurrences.entries()))),J(this))}[P](t){return Nee(t)&&Aee(ae(this.occurrences.entries()),ae(t.occurrences.entries()))}pipe(){return R(this,arguments)}},kT=class{value;[mh]=gh;[MT]=MT;constructor(t){this.value=t}[j](){return m(M(ZU),H(M(this.value)),J(this))}[P](t){return Fee(t)&&this.value===t.value}pipe(){return R(this,arguments)}},NT=class{buckets;count;min;max;sum;[mh]=gh;[TT]=TT;constructor(t,n,r,o,i){this.buckets=t,this.count=n,this.min=r,this.max=o,this.sum=i}[j](){return m(M(JU),H(M(this.buckets)),H(M(this.count)),H(M(this.min)),H(M(this.max)),H(M(this.sum)),J(this))}[P](t){return Pee(t)&&T(this.buckets,t.buckets)&&this.count===t.count&&this.min===t.min&&this.max===t.max&&this.sum===t.sum}pipe(){return R(this,arguments)}},FT=class{error;quantiles;count;min;max;sum;[mh]=gh;[OT]=OT;constructor(t,n,r,o,i,s){this.error=t,this.quantiles=n,this.count=r,this.min=o,this.max=i,this.sum=s}[j](){return m(M(QU),H(M(this.error)),H(M(this.quantiles)),H(M(this.count)),H(M(this.min)),H(M(this.max)),H(M(this.sum)),J(this))}[P](t){return Lee(t)&&this.error===t.error&&T(this.quantiles,t.quantiles)&&this.count===t.count&&this.min===t.min&&this.max===t.max&&this.sum===t.sum}pipe(){return R(this,arguments)}},XU=e=>new RT(e),e$=e=>new AT(e),t$=e=>new kT(e),n$=e=>new NT(e.buckets,e.count,e.min,e.max,e.sum),r$=e=>new FT(e.error,e.quantiles,e.count,e.min,e.max,e.sum);var kee=e=>A(e,wT),Nee=e=>A(e,IT),Fee=e=>A(e,MT),Pee=e=>A(e,TT),Lee=e=>A(e,OT);var Bee="effect/MetricHook",Hee=Symbol.for(Bee),Vee={_In:e=>e,_Out:e=>e},yh=e=>x({[Hee]:Vee,pipe(){return R(this,arguments)}},e);var o$=BigInt(0),s$=e=>{let t=e.keyType.bigint?o$:0,n=e.keyType.incremental?e.keyType.bigint?o=>o>=o$:o=>o>=0:o=>!0,r=o=>{n(o)&&(t=t+o)};return yh({get:()=>XU(t),update:r,modify:r})},a$=e=>{let t=new Map;for(let r of e.keyType.preregisteredWords)t.set(r,0);let n=r=>{let o=t.get(r)??0;t.set(r,o+1)};return yh({get:()=>e$(t),update:n,modify:n})},c$=(e,t)=>{let n=t;return yh({get:()=>t$(n),update:r=>{n=r},modify:r=>{n=n+r}})},u$=e=>{let t=e.keyType.boundaries.values,n=t.length,r=new Uint32Array(n+1),o=new Float64Array(n),i=0,s=0,a=Number.MAX_VALUE,c=Number.MIN_VALUE;m(t,yc(js),Oo((f,p)=>{o[p]=f}));let u=f=>{let p=0,h=n;for(;p!==h;){let y=Math.floor(p+(h-p)/2),S=o[y];f<=S?h=y:p=y,h===p+1&&(f<=o[p]?h=p:p=h)}r[p]=r[p]+1,i=i+1,s=s+f,f<a&&(a=f),f>c&&(c=f)},l=()=>{let f=ap(n),p=0;for(let h=0;h<n;h++){let y=o[h],S=r[h];p=p+S,f[h]=[y,p]}return f};return yh({get:()=>n$({buckets:l(),count:i,min:a,max:c,sum:s}),update:u,modify:u})},l$=e=>{let{error:t,maxAge:n,maxSize:r,quantiles:o}=e.keyType,i=m(o,yc(js)),s=ap(r),a=0,c=0,u=0,l=0,f=0,p=y=>{let S=[],I=0;for(;I!==r-1;){let O=s[I];if(O!=null){let[K,qe]=O,le=Hs(y-K);mw(le,Vs)&&XL(le,n)&&S.push(qe)}I=I+1}return Uee(t,i,yc(S,js))},h=(y,S)=>{if(r>0){a=a+1;let I=a%r;s[I]=[S,y]}l=c===0?y:Math.min(l,y),f=c===0?y:Math.max(f,y),c=c+1,u=u+y};return yh({get:()=>r$({error:t,quantiles:p(Date.now()),count:c,min:l,max:f,sum:u}),update:([y,S])=>h(y,S),modify:([y,S])=>h(y,S)})},Uee=(e,t,n)=>{let r=n.length;if(!nn(t))return Kr();let o=t[0],i=t.slice(1),s=i$(e,r,_(),0,o,n),a=ln(s);return i.forEach(c=>{a.push(i$(e,r,s.value,s.consumed,c,s.rest))}),Oo(a,c=>[c.quantile,c.value])},i$=(e,t,n,r,o,i)=>{let s=e,a=t,c=n,u=r,l=o,f=i,p=e,h=t,y=n,S=r,I=o,O=i;for(;;){if(!nn(f))return{quantile:l,value:_(),consumed:u,rest:[]};if(l===1)return{quantile:l,value:C(KD(f)),consumed:u+f.length,rest:[]};let K=Bt(f),qe=bL(f,st=>st===K),le=l*a,Ut=s/2*le,$t=u+qe[0].length,Xn=Math.abs($t-le);if($t<le-Ut){p=s,h=a,y=Ps(f),S=$t,I=l,O=qe[1],s=p,a=h,c=y,u=S,l=I,f=O;continue}if($t>le+Ut){let st=ce(c)?C(K):c;return{quantile:l,value:st,consumed:u,rest:f}}switch(c._tag){case"None":{p=s,h=a,y=Ps(f),S=$t,I=l,O=qe[1],s=p,a=h,c=y,u=S,l=I,f=O;continue}case"Some":{let st=Math.abs(le-c.value);if(Xn<st){p=s,h=a,y=Ps(f),S=$t,I=l,O=qe[1],s=p,a=h,c=y,u=S,l=I,f=O;continue}return{quantile:l,value:C(c.value),consumed:u,rest:f}}}}throw new Error("BUG: MetricHook.resolveQuantiles - please report an issue at https://github.com/Effect-TS/effect/issues")};var qee="effect/MetricPair",zee=Symbol.for(qee),Wee={_Type:e=>e};var d$=(e,t)=>({[zee]:Wee,metricKey:e,metricState:t,pipe(){return R(this,arguments)}});var Kee="effect/MetricRegistry",f$=Symbol.for(Kee),PT=class{[f$]=f$;map=Qc();snapshot(){let t=[];for(let[n,r]of this.map)t.push(d$(n,r.get()));return t}get(t){let n=m(this.map,gt(t),zt);if(n==null){if(ET(t.keyType))return this.getCounter(t);if(CT(t.keyType))return this.getGauge(t);if(_T(t.keyType))return this.getFrequency(t);if(ST(t.keyType))return this.getHistogram(t);if(DT(t.keyType))return this.getSummary(t);throw new Error("BUG: MetricRegistry.get - unknown MetricKeyType - please report an issue at https://github.com/Effect-TS/effect/issues")}else return n}getCounter(t){let n=m(this.map,gt(t),zt);if(n==null){let r=s$(t);m(this.map,to(t))||m(this.map,kn(t,r)),n=r}return n}getFrequency(t){let n=m(this.map,gt(t),zt);if(n==null){let r=a$(t);m(this.map,to(t))||m(this.map,kn(t,r)),n=r}return n}getGauge(t){let n=m(this.map,gt(t),zt);if(n==null){let r=c$(t,t.keyType.bigint?BigInt(0):0);m(this.map,to(t))||m(this.map,kn(t,r)),n=r}return n}getHistogram(t){let n=m(this.map,gt(t),zt);if(n==null){let r=u$(t);m(this.map,to(t))||m(this.map,kn(t,r)),n=r}return n}getSummary(t){let n=m(this.map,gt(t),zt);if(n==null){let r=l$(t);m(this.map,to(t))||m(this.map,kn(t,r)),n=r}return n}},p$=()=>new PT;var Zee="effect/Metric",Jee=Symbol.for(Zee),Qee={_Type:e=>e,_In:e=>e,_Out:e=>e},h$=U(Symbol.for("effect/Metric/globalMetricRegistry"),()=>p$()),m$=function(e,t,n,r){let o=Object.assign(i=>Xr(i,s=>ete(o,s)),{[Jee]:Qee,keyType:e,unsafeUpdate:t,unsafeValue:n,unsafeModify:r,register(){return this.unsafeValue([]),this},pipe(){return R(this,arguments)}});return o};var vh=(e,t)=>g$(zU(e,t));var g$=e=>{let t,n=new WeakMap,r=o=>{if(o.length===0)return t!==void 0||(t=h$.get(e)),t;let i=n.get(o);return i!==void 0||(i=h$.get(GU(e,o)),n.set(o,i)),i};return m$(e.keyType,(o,i)=>r(i).update(o),o=>r(o).get(),(o,i)=>r(i).modify(o))};var y$=(e,t,n)=>g$(WU(e,t,n));var v$=d(3,(e,t,n)=>Xee(e,[ru(t,n)]));var Xee=d(2,(e,t)=>m$(e.keyType,(n,r)=>e.unsafeUpdate(n,Gr(t,r)),n=>e.unsafeValue(Gr(t,n)),(n,r)=>e.unsafeModify(n,Gr(t,r))));var ete=d(2,(e,t)=>Kt(Hi,n=>E(()=>e.unsafeUpdate(t,n))));var nte="effect/Request",LT=Symbol.for(nte),rte={_E:e=>e,_A:e=>e},_Ne=N(x({},Ol),{[LT]:rte}),x$=e=>A(e,LT);var jT=d(2,(e,t)=>Kt(Cb,n=>E(()=>{if(n.has(e)){let r=n.get(e);r.state.completed||(r.state.completed=!0,Jp(r.result,t))}})));var bd=class{count=0;observers=new Set;interrupted=!1;addObserver(t){this.observers.add(t)}removeObserver(t){this.observers.delete(t)}increment(){this.count++,this.observers.forEach(t=>t(this.count))}decrement(){this.count--,this.observers.forEach(t=>t(this.count))}};var da={Forward:0,Backward:1},Rb=class e{self;stack;direction;count=0;constructor(t,n,r){this.self=t,this.stack=n,this.direction=r}clone(){return new e(this.self,this.stack.slice(),this.direction)}reversed(){return new e(this.self,this.stack.slice(),this.direction===da.Forward?da.Backward:da.Forward)}next(){let t=this.entry;switch(this.count++,this.direction===da.Forward?this.moveNext():this.movePrev(),t._tag){case"None":return{done:!0,value:this.count};case"Some":return{done:!1,value:t.value}}}get key(){return this.stack.length>0?C(this.stack[this.stack.length-1].key):_()}get value(){return this.stack.length>0?C(this.stack[this.stack.length-1].value):_()}get entry(){return pt(uv(this.stack),t=>[t.key,t.value])}get index(){let t=0,n=this.stack;if(n.length===0){let r=this.self._root;return r!=null?r.count:0}else n[n.length-1].left!=null&&(t=n[n.length-1].left.count);for(let r=n.length-2;r>=0;--r)n[r+1]===n[r].right&&(++t,n[r].left!=null&&(t+=n[r].left.count));return t}moveNext(){let t=this.stack;if(t.length===0)return;let n=t[t.length-1];if(n.right!=null)for(n=n.right;n!=null;)t.push(n),n=n.left;else for(t.pop();t.length>0&&t[t.length-1].right===n;)n=t[t.length-1],t.pop()}get hasNext(){let t=this.stack;if(t.length===0)return!1;if(t[t.length-1].right!=null)return!0;for(let n=t.length-1;n>0;--n)if(t[n-1].left===t[n])return!0;return!1}movePrev(){let t=this.stack;if(t.length===0)return;let n=t[t.length-1];if(n!=null&&n.left!=null)for(n=n.left;n!=null;)t.push(n),n=n.right;else for(t.pop();t.length>0&&t[t.length-1].left===n;)n=t[t.length-1],t.pop()}get hasPrev(){let t=this.stack;if(t.length===0)return!1;if(t[t.length-1].left!=null)return!0;for(let n=t.length-1;n>0;--n)if(t[n-1].right===t[n])return!0;return!1}};var V={Red:0,Black:1},ro=({color:e,count:t,key:n,left:r,right:o,value:i})=>({color:e,key:n,value:i,left:r,right:o,count:t});function BT(e,t){e.key=t.key,e.value=t.value,e.left=t.left,e.right=t.right,e.color=t.color,e.count=t.count}var Yi=({count:e,key:t,left:n,right:r,value:o},i)=>({color:i,key:t,value:o,left:n,right:r,count:e}),$e=e=>{e.count=1+(e.left?.count??0)+(e.right?.count??0)};var b$="effect/RedBlackTree",HT=Symbol.for(b$),ste={_Key:e=>e,_Value:e=>e},ate={[HT]:ste,[j](){let e=M(b$);for(let t of this)e^=m(M(t[0]),H(M(t[1])));return J(this,e)},[P](e){if(E$(e)){if((this._root?.count??0)!==(e._root?.count??0))return!1;let t=Array.from(e);return Array.from(this).every((n,r)=>{let o=t[r];return T(n[0],o[0])&&T(n[1],o[1])})}return!1},[Symbol.iterator](){let e=[],t=this._root;for(;t!=null;)e.push(t),t=t.left;return new Rb(this,e,da.Forward)},toString(){return se(this.toJSON())},toJSON(){return{_id:"RedBlackTree",values:Array.from(this).map(oe)}},[Q](){return this.toJSON()},pipe(){return R(this,arguments)}},xh=(e,t)=>{let n=Object.create(ate);return n._ord=e,n._root=t,n},E$=e=>A(e,HT);var _$=d(2,(e,t)=>{let n=e._ord,r=e._root;for(;r!==void 0;){let o=n(t,r.key);if(T(t,r.key))return C(r.value);o<=0?r=r.left:r=r.right}return _()});var VT=d(2,(e,t)=>De(_$(e,t))),C$=d(3,(e,t,n)=>{let r=e._ord,o=e._root,i=[],s=[];for(;o!=null;){let a=r(t,o.key);i.push(o),s.push(a),a<=0?o=o.left:o=o.right}i.push({color:V.Red,key:t,value:n,left:void 0,right:void 0,count:1});for(let a=i.length-2;a>=0;--a){let c=i[a];s[a]<=0?i[a]={color:c.color,key:c.key,value:c.value,left:i[a+1],right:c.right,count:c.count+1}:i[a]={color:c.color,key:c.key,value:c.value,left:c.left,right:i[a+1],count:c.count+1}}for(let a=i.length-1;a>1;--a){let c=i[a-1],u=i[a];if(c.color===V.Black||u.color===V.Black)break;let l=i[a-2];if(l.left===c)if(c.left===u){let f=l.right;if(f&&f.color===V.Red)c.color=V.Black,l.right=Yi(f,V.Black),l.color=V.Red,a-=1;else{if(l.color=V.Red,l.left=c.right,c.color=V.Black,c.right=l,i[a-2]=c,i[a-1]=u,$e(l),$e(c),a>=3){let p=i[a-3];p.left===l?p.left=c:p.right=c}break}}else{let f=l.right;if(f&&f.color===V.Red)c.color=V.Black,l.right=Yi(f,V.Black),l.color=V.Red,a-=1;else{if(c.right=u.left,l.color=V.Red,l.left=u.right,u.color=V.Black,u.left=c,u.right=l,i[a-2]=u,i[a-1]=c,$e(l),$e(c),$e(u),a>=3){let p=i[a-3];p.left===l?p.left=u:p.right=u}break}}else if(c.right===u){let f=l.left;if(f&&f.color===V.Red)c.color=V.Black,l.left=Yi(f,V.Black),l.color=V.Red,a-=1;else{if(l.color=V.Red,l.right=c.left,c.color=V.Black,c.left=l,i[a-2]=c,i[a-1]=u,$e(l),$e(c),a>=3){let p=i[a-3];p.right===l?p.right=c:p.left=c}break}}else{let f=l.left;if(f&&f.color===V.Red)c.color=V.Black,l.left=Yi(f,V.Black),l.color=V.Red,a-=1;else{if(c.left=u.right,l.color=V.Red,l.right=u.left,u.color=V.Black,u.right=c,u.left=l,i[a-2]=u,i[a-1]=c,$e(l),$e(c),$e(u),a>=3){let p=i[a-3];p.right===l?p.right=u:p.left=u}break}}}return i[0].color=V.Black,xh(e._ord,i[0])}),S$=e=>D$(e,da.Forward);var D$=(e,t)=>{let n=e[Symbol.iterator](),r=0;return{[Symbol.iterator]:()=>D$(e,t),next:()=>{r++;let o=n.key;switch(t===da.Forward?n.moveNext():n.movePrev(),o._tag){case"None":return{done:!0,value:r};case"Some":return{done:!1,value:o.value}}}}};var w$=d(2,(e,t)=>{if(!VT(e,t))return e;let n=e._ord,r=n,o=e._root,i=[];for(;o!==void 0;){let c=r(t,o.key);i.push(o),T(t,o.key)?o=void 0:c<=0?o=o.left:o=o.right}if(i.length===0)return e;let s=new Array(i.length),a=i[i.length-1];s[s.length-1]={color:a.color,key:a.key,value:a.value,left:a.left,right:a.right,count:a.count};for(let c=i.length-2;c>=0;--c)a=i[c],a.left===i[c+1]?s[c]={color:a.color,key:a.key,value:a.value,left:s[c+1],right:a.right,count:a.count}:s[c]={color:a.color,key:a.key,value:a.value,left:a.left,right:s[c+1],count:a.count};if(a=s[s.length-1],a.left!==void 0&&a.right!==void 0){let c=s.length;for(a=a.left;a.right!=null;)s.push(a),a=a.right;let u=s[c-1];s.push({color:a.color,key:u.key,value:u.value,left:a.left,right:a.right,count:a.count}),s[c-1].key=a.key,s[c-1].value=a.value;for(let l=s.length-2;l>=c;--l)a=s[l],s[l]={color:a.color,key:a.key,value:a.value,left:a.left,right:s[l+1],count:a.count};s[c-1].left=s[c]}if(a=s[s.length-1],a.color===V.Red){let c=s[s.length-2];c.left===a?c.left=void 0:c.right===a&&(c.right=void 0),s.pop();for(let u=0;u<s.length;++u)s[u].count--;return xh(n,s[0])}else if(a.left!==void 0||a.right!==void 0){a.left!==void 0?BT(a,a.left):a.right!==void 0&&BT(a,a.right),a.color=V.Black;for(let c=0;c<s.length-1;++c)s[c].count--;return xh(n,s[0])}else{if(s.length===1)return xh(n,void 0);{for(let u=0;u<s.length;++u)s[u].count--;let c=s[s.length-2];cte(s),c.left===a?c.left=void 0:c.right=void 0}}return xh(n,s[0])});var cte=e=>{let t,n,r,o;for(let i=e.length-1;i>=0;--i){if(t=e[i],i===0){t.color=V.Black;return}if(n=e[i-1],n.left===t){if(r=n.right,r!==void 0&&r.right!==void 0&&r.right.color===V.Red){if(r=n.right=ro(r),o=r.right=ro(r.right),n.right=r.left,r.left=n,r.right=o,r.color=n.color,t.color=V.Black,n.color=V.Black,o.color=V.Black,$e(n),$e(r),i>1){let s=e[i-2];s.left===n?s.left=r:s.right=r}e[i-1]=r;return}else if(r!==void 0&&r.left!==void 0&&r.left.color===V.Red){if(r=n.right=ro(r),o=r.left=ro(r.left),n.right=o.left,r.left=o.right,o.left=n,o.right=r,o.color=n.color,n.color=V.Black,r.color=V.Black,t.color=V.Black,$e(n),$e(r),$e(o),i>1){let s=e[i-2];s.left===n?s.left=o:s.right=o}e[i-1]=o;return}if(r!==void 0&&r.color===V.Black)if(n.color===V.Red){n.color=V.Black,n.right=Yi(r,V.Red);return}else{n.right=Yi(r,V.Red);continue}else if(r!==void 0){if(r=ro(r),n.right=r.left,r.left=n,r.color=n.color,n.color=V.Red,$e(n),$e(r),i>1){let s=e[i-2];s.left===n?s.left=r:s.right=r}e[i-1]=r,e[i]=n,i+1<e.length?e[i+1]=t:e.push(t),i=i+2}}else{if(r=n.left,r!==void 0&&r.left!==void 0&&r.left.color===V.Red){if(r=n.left=ro(r),o=r.left=ro(r.left),n.left=r.right,r.right=n,r.left=o,r.color=n.color,t.color=V.Black,n.color=V.Black,o.color=V.Black,$e(n),$e(r),i>1){let s=e[i-2];s.right===n?s.right=r:s.left=r}e[i-1]=r;return}else if(r!==void 0&&r.right!==void 0&&r.right.color===V.Red){if(r=n.left=ro(r),o=r.right=ro(r.right),n.left=o.right,r.right=o.left,o.right=n,o.left=r,o.color=n.color,n.color=V.Black,r.color=V.Black,t.color=V.Black,$e(n),$e(r),$e(o),i>1){let s=e[i-2];s.right===n?s.right=o:s.left=o}e[i-1]=o;return}if(r!==void 0&&r.color===V.Black)if(n.color===V.Red){n.color=V.Black,n.left=Yi(r,V.Red);return}else{n.left=Yi(r,V.Red);continue}else if(r!==void 0){if(r=ro(r),n.left=r.right,r.right=n,r.color=n.color,n.color=V.Red,$e(n),$e(r),i>1){let s=e[i-2];s.right===n?s.right=r:s.left=r}e[i-1]=r,e[i]=n,i+1<e.length?e[i+1]=t:e.push(t),i=i+2}}}};var I$=VT,M$=C$,T$=S$;var O$=w$;var UT=Symbol.for("effect/SortedSet"),lte={[UT]:{_A:e=>e},[j](){return m(M(this.keyTree),H(M(UT)),J(this))},[P](e){return dte(e)&&T(this.keyTree,e.keyTree)},[Symbol.iterator](){return T$(this.keyTree)},toString(){return se(this.toJSON())},toJSON(){return{_id:"SortedSet",values:Array.from(this).map(oe)}},[Q](){return this.toJSON()},pipe(){return R(this,arguments)}},A$=e=>{let t=Object.create(lte);return t.keyTree=e,t},dte=e=>A(e,UT);var k$=d(2,(e,t)=>I$(e.keyTree,t)?e:A$(M$(e.keyTree,t,!0)));var N$=d(2,(e,t)=>A$(O$(e.keyTree,t)));var fte="effect/Supervisor",Cd=Symbol.for(fte),bh={_T:e=>e},Ed=class e{underlying;value0;[Cd]=bh;constructor(t,n){this.underlying=t,this.value0=n}get value(){return this.value0}onStart(t,n,r,o){this.underlying.onStart(t,n,r,o)}onEnd(t,n){this.underlying.onEnd(t,n)}onEffect(t,n){this.underlying.onEffect(t,n)}onSuspend(t){this.underlying.onSuspend(t)}onResume(t){this.underlying.onResume(t)}map(t){return new e(this,m(this.value,w(t)))}zip(t){return new _d(this,t)}},_d=class e{left;right;_tag="Zip";[Cd]=bh;constructor(t,n){this.left=t,this.right=n}get value(){return Uc(this.left.value,this.right.value)}onStart(t,n,r,o){this.left.onStart(t,n,r,o),this.right.onStart(t,n,r,o)}onEnd(t,n){this.left.onEnd(t,n),this.right.onEnd(t,n)}onEffect(t,n){this.left.onEffect(t,n),this.right.onEffect(t,n)}onSuspend(t){this.left.onSuspend(t),this.right.onSuspend(t)}onResume(t){this.left.onResume(t),this.right.onResume(t)}map(t){return new Ed(this,m(this.value,w(t)))}zip(t){return new e(this,t)}},zT=e=>A(e,Cd)&&As(e,"Zip"),$T=class{[Cd]=bh;fibers=new Set;get value(){return E(()=>Array.from(this.fibers))}onStart(t,n,r,o){this.fibers.add(o)}onEnd(t,n){this.fibers.delete(n)}onEffect(t,n){}onSuspend(t){}onResume(t){}map(t){return new Ed(this,m(this.value,w(t)))}zip(t){return new _d(this,t)}onRun(t,n){return t()}},qT=class{effect;[Cd]=bh;constructor(t){this.effect=t}get value(){return this.effect}onStart(t,n,r,o){}onEnd(t,n){}onEffect(t,n){}onSuspend(t){}onResume(t){}map(t){return new Ed(this,m(this.value,w(t)))}zip(t){return new _d(this,t)}onRun(t,n){return t()}},P$=class{ref;[Cd]=bh;constructor(t){this.ref=t}get value(){return E(()=>Dn(this.ref))}onStart(t,n,r,o){m(this.ref,fr(m(Dn(this.ref),k$(o))))}onEnd(t,n){m(this.ref,fr(m(Dn(this.ref),N$(n))))}onEffect(t,n){}onSuspend(t){}onResume(t){}map(t){return new Ed(this,m(this.value,w(t)))}zip(t){return new _d(this,t)}onRun(t,n){return t()}},pte=()=>new $T,L$=E(pte),hte=e=>new qT(e),pu=U("effect/Supervisor/none",()=>hte(G));var j$=zs;var H$="Empty",V$="AddSupervisor",U$="RemoveSupervisor",$$="AndThen",Sd={_tag:H$},kb=(e,t)=>({_tag:$$,first:e,second:t}),mte=(e,t)=>gte(t,Ye(e)),gte=(e,t)=>{let n=e,r=t;for(;Wt(r);){let o=Vt(r);switch(o._tag){case H$:{r=on(r);break}case V$:{n=n.zip(o.supervisor),r=on(r);break}case U$:{n=WT(n,o.supervisor),r=on(r);break}case $$:{r=Ht(o.first)(Ht(o.second)(on(r)));break}}}return n},WT=(e,t)=>T(e,t)?pu:zT(e)?WT(e.left,t).zip(WT(e.right,t)):e,Nb=e=>T(e,pu)?Po():zT(e)?m(Nb(e.left),Mi(Nb(e.right))):Cc(e),yte=(e,t)=>{if(T(e,t))return Sd;let n=Nb(e),r=Nb(t),o=m(r,Iw(n),wc(Sd,(s,a)=>kb(s,{_tag:V$,supervisor:a}))),i=m(n,Iw(r),wc(Sd,(s,a)=>kb(s,{_tag:U$,supervisor:a})));return kb(o,i)},q$=j$({empty:Sd,patch:mte,combine:kb,diff:yte});var bte=vh("effect_fiber_started",{incremental:!0}),z$=vh("effect_fiber_active"),Ete=vh("effect_fiber_successes",{incremental:!0}),_te=vh("effect_fiber_failures",{incremental:!0}),Cte=v$(y$("effect_fiber_lifetimes",AU({start:.5,factor:2,count:35})),"time_unit","milliseconds"),Eh="Continue",Ste="Done",W$="Yield",Dte={_E:e=>e,_A:e=>e},Fb=e=>{throw new Error(`BUG: FiberRuntime - ${xi(e)} - please report an issue at https://github.com/Effect-TS/effect/issues`)},Zi=Symbol.for("effect/internal/fiberRuntime/YieldedOp"),Ji=U("effect/internal/fiberRuntime/yieldedOpChannel",()=>({currentOp:null})),_h={[wl]:(e,t,n)=>Ke(()=>t.effect_instruction_i1(n)),OnStep:(e,t,n)=>je(je(n)),[Il]:(e,t,n)=>Ke(()=>t.effect_instruction_i2(n)),[op]:(e,t,n)=>(e.patchRuntimeFlags(e.currentRuntimeFlags,t.patch),Ri(e.currentRuntimeFlags)&&e.isInterrupted()?_e(e.getInterruptedCause()):je(n)),[Ml]:(e,t,n)=>(Ke(()=>t.effect_instruction_i2(n)),Ke(()=>t.effect_instruction_i0())?(e.pushStack(t),Ke(()=>t.effect_instruction_i1())):G),[mc]:(e,t,n)=>{for(;;){let r=Ke(()=>t.effect_instruction_i0.next(n));if(r.done)return je(r.value);let o=np(r.value);if(td(o)){if(o._tag==="Failure")return o}else return e.pushStack(t),o;n=o.value}}},wte={[Sb]:(e,t,n,r)=>(e.processNewInterruptSignal(r.cause),Ri(t)?_e(r.cause):n),[wb]:(e,t,n,r)=>{throw new Error("It is illegal to have multiple concurrent run loops in a single fiber")},[Db]:(e,t,n,r)=>(r.onFiber(e,JM(t)),n),[Ib]:(e,t,n,r)=>g($o(),()=>n)},Ite=e=>zn(pj(e),t=>Qi(mj(t),([n,r])=>{let o=new Map,i=[];for(let a of r){i.push(lr(a));for(let c of a)o.set(c.request,c)}let s=i.flat();return ot(Ute(n.runAll(i),s,()=>s.forEach(a=>{a.listeners.interrupted=!0})),Cb,o)},!1,!1)),Mte=sp(),Ch=class extends Wi{[lh]=dh;[dT]=Dte;_fiberRefs;_fiberId;_queue=new Array;_children=null;_observers=new Array;_running=!1;_stack=[];_asyncInterruptor=null;_asyncBlockingOn=null;_exitValue=null;_steps=[];_isYielding=!1;currentRuntimeFlags;currentOpCount=0;currentSupervisor;currentScheduler;currentTracer;currentSpan;currentContext;currentDefaultServices;constructor(t,n,r){if(super(),this.currentRuntimeFlags=r,this._fiberId=t,this._fiberRefs=n,Xw(r)){let o=this.getFiberRef(Hi);bte.unsafeUpdate(1,o),z$.unsafeUpdate(1,o)}this.refreshRefCache()}commit(){return no(this)}id(){return this._fiberId}resume(t){this.tell(du(t))}get status(){return this.ask((t,n)=>n)}get runtimeFlags(){return this.ask((t,n)=>tU(n)?t.currentRuntimeFlags:n.runtimeFlags)}scope(){return xU(this)}get children(){return this.ask(t=>Array.from(t.getChildren()))}getChildren(){return this._children===null&&(this._children=new Set),this._children}getInterruptedCause(){return this.getFiberRef(Wc)}fiberRefs(){return this.ask(t=>t.getFiberRefs())}ask(t){return B(()=>{let n=Kp(this._fiberId);return this.tell(xd((r,o)=>{Jp(n,E(()=>t(r,o)))})),kt(n)})}tell(t){this._queue.push(t),this._running||(this._running=!0,this.drainQueueLaterOnExecutor())}get await(){return sn(t=>{let n=r=>t(b(r));return this.tell(xd((r,o)=>{r._exitValue!==null?n(this._exitValue):r.addObserver(n)})),E(()=>this.tell(xd((r,o)=>{r.removeObserver(n)})))},this.id())}get inheritAll(){return X((t,n)=>{let r=t.id(),o=t.getFiberRefs(),i=n.runtimeFlags,s=this.getFiberRefs(),a=Px(o,r,s);t.setFiberRefs(a);let c=t.getFiberRef(Y$),u=m(pr(i,c),rI(Jr),rI(Gv));return ea(u)})}get poll(){return E(()=>Wr(this._exitValue))}unsafePoll(){return this._exitValue}interruptAsFork(t){return E(()=>this.tell(Mb(hr(t))))}unsafeInterruptAsFork(t){this.tell(Mb(hr(t)))}addObserver(t){this._exitValue!==null?t(this._exitValue):this._observers.push(t)}removeObserver(t){this._observers=this._observers.filter(n=>n!==t)}getFiberRefs(){return this.setFiberRef(Y$,this.currentRuntimeFlags),this._fiberRefs}unsafeDeleteFiberRef(t){this._fiberRefs=th(this._fiberRefs,t)}getFiberRef(t){return this._fiberRefs.locals.has(t)?this._fiberRefs.locals.get(t)[0][1]:t.initial}setFiberRef(t,n){this._fiberRefs=cd(this._fiberRefs,{fiberId:this._fiberId,fiberRef:t,value:n}),this.refreshRefCache()}refreshRefCache(){this.currentDefaultServices=this.getFiberRef(it),this.currentTracer=this.currentDefaultServices.unsafeMap.get($i.key),this.currentSupervisor=this.getFiberRef(t0),this.currentScheduler=this.getFiberRef(lu),this.currentContext=this.getFiberRef(An),this.currentSpan=this.currentContext.unsafeMap.get(zo.key)}setFiberRefs(t){this._fiberRefs=t,this.refreshRefCache()}addChild(t){this.getChildren().add(t)}removeChild(t){this.getChildren().delete(t)}transferChildren(t){let n=this._children;if(this._children=null,n!==null&&n.size>0)for(let r of n)r._exitValue===null&&t.add(this.currentRuntimeFlags,r)}drainQueueOnCurrentThread(){let t=!0;for(;t;){let n=Eh,r=globalThis[la];globalThis[la]=this;try{for(;n===Eh;)n=this._queue.length===0?Ste:this.evaluateMessageWhileSuspended(this._queue.splice(0,1)[0])}finally{this._running=!1,globalThis[la]=r}this._queue.length>0&&!this._running?(this._running=!0,n===W$?(this.drainQueueLaterOnExecutor(),t=!1):t=!0):t=!1}}drainQueueLaterOnExecutor(){this.currentScheduler.scheduleTask(this.run,this.getFiberRef(Bi))}drainQueueWhileRunning(t,n){let r=n;for(;this._queue.length>0;){let o=this._queue.splice(0,1)[0];r=wte[o._tag](this,t,r,o)}return r}isInterrupted(){return!fI(this.getFiberRef(Wc))}addInterruptedCause(t){let n=this.getFiberRef(Wc);this.setFiberRef(Wc,Ze(n,t))}processNewInterruptSignal(t){this.addInterruptedCause(t),this.sendInterruptSignalToAllChildren()}sendInterruptSignalToAllChildren(){if(this._children===null||this._children.size===0)return!1;let t=!1;for(let n of this._children)n.tell(Mb(hr(this.id()))),t=!0;return t}interruptAllChildren(){if(this.sendInterruptSignalToAllChildren()){let t=this._children.values();this._children=null;let n=!1;return ta({while:()=>!n,body:()=>{let o=t.next();return o.done?E(()=>{n=!0}):Qe(o.value.await)},step:()=>{}})}return null}reportExitValue(t){if(Xw(this.currentRuntimeFlags)){let n=this.getFiberRef(Hi),r=this.id().startTimeMillis,o=Date.now();switch(Cte.unsafeUpdate(o-r,n),z$.unsafeUpdate(-1,n),t._tag){case rt:{Ete.unsafeUpdate(1,n);break}case nt:{_te.unsafeUpdate(1,n);break}}}if(t._tag==="Failure"){let n=this.getFiberRef(MI);!Op(t.cause)&&n._tag==="Some"&&this.log("Fiber terminated with an unhandled error",t.cause,n)}}setExitValue(t){this._exitValue=t,this.reportExitValue(t);for(let n=this._observers.length-1;n>=0;n--)this._observers[n](t);this._observers=[]}getLoggers(){return this.getFiberRef(Ate)}log(t,n,r){let o=De(r)?r.value:this.getFiberRef(DI),i=this.getFiberRef(J$);if(mM(i,o))return;let s=this.getFiberRef(yx),a=this.getFiberRef(na),c=this.getLoggers(),u=this.getFiberRefs();if(Sc(c)>0){let l=Sn(this.getFiberRef(it),Jn),f=new Date(l.unsafeCurrentTimeMillis());qP(u,()=>{for(let p of c)p.log({fiberId:this.id(),logLevel:o,message:t,cause:n,context:u,spans:s,annotations:a,date:f})})}}evaluateMessageWhileSuspended(t){switch(t._tag){case Ib:return W$;case Sb:return this.processNewInterruptSignal(t.cause),this._asyncInterruptor!==null&&(this._asyncInterruptor(_e(t.cause)),this._asyncInterruptor=null),Eh;case wb:return this._asyncInterruptor=null,this._asyncBlockingOn=null,this.evaluateEffect(t.effect),Eh;case Db:return t.onFiber(this,this._exitValue!==null?XV:eU(this.currentRuntimeFlags,this._asyncBlockingOn)),Eh;default:return Fb(t)}}evaluateEffect(t){this.currentSupervisor.onResume(this);try{let n=Ri(this.currentRuntimeFlags)&&this.isInterrupted()?_e(this.getInterruptedCause()):t;for(;n!==null;){let r=n,o=this.runLoop(r);if(o===Zi){let i=Ji.currentOp;Ji.currentOp=null,i._op===Tl?uj(this.currentRuntimeFlags)?(this.tell(yU()),this.tell(du(mn)),n=null):n=mn:i._op===pc&&(n=null)}else{this.currentRuntimeFlags=m(this.currentRuntimeFlags,Jw(Gv));let i=this.interruptAllChildren();i!==null?n=g(i,()=>o):(this._queue.length===0?this.setExitValue(o):this.tell(du(o)),n=null)}}}finally{this.currentSupervisor.onSuspend(this)}}start(t){if(this._running)this.tell(du(t));else{this._running=!0;let n=globalThis[la];globalThis[la]=this;try{this.evaluateEffect(t)}finally{this._running=!1,globalThis[la]=n,this._queue.length>0&&this.drainQueueLaterOnExecutor()}}}startFork(t){this.tell(du(t))}patchRuntimeFlags(t,n){let r=Ai(t,n);return globalThis[la]=this,this.currentRuntimeFlags=r,r}initiateAsync(t,n){let r=!1,o=i=>{r||(r=!0,this.tell(du(i)))};Ri(t)&&(this._asyncInterruptor=o);try{n(o)}catch(i){o(ie(Rt(i)))}}pushStack(t){this._stack.push(t),t._op==="OnStep"&&this._steps.push({refs:this.getFiberRefs(),flags:this.currentRuntimeFlags})}popStack(){let t=this._stack.pop();if(t)return t._op==="OnStep"&&this._steps.pop(),t}getNextSuccessCont(){let t=this.popStack();for(;t;){if(t._op!==Dl)return t;t=this.popStack()}}getNextFailCont(){let t=this.popStack();for(;t;){if(t._op!==wl&&t._op!==Ml&&t._op!==mc)return t;t=this.popStack()}}Tag(t){return E(()=>Bs(this.currentContext,t))}Left(t){return ee(t.left)}None(t){return ee(new Kn)}Right(t){return je(t.right)}Some(t){return je(t.value)}Micro(t){return Zl(n=>{let r=n,o=pU(dU(t,this.currentContext));return o.addObserver(i=>{if(i._tag==="Success")return r(je(i.value));switch(i.cause._tag){case"Interrupt":return r(_e(hr(wn)));case"Fail":return r(ee(i.cause.error));case"Die":return r(pn(i.cause.defect))}}),Zl(i=>{r=s=>{i(G)},o.unsafeInterrupt()})})}[Qy](t){let n=Ke(()=>t.effect_instruction_i0()),r=this.getNextSuccessCont();return r!==void 0?(r._op in _h||Fb(r),_h[r._op](this,r,n)):(Ji.currentOp=je(n),Zi)}[rt](t){let n=t,r=this.getNextSuccessCont();return r!==void 0?(r._op in _h||Fb(r),_h[r._op](this,r,n.effect_instruction_i0)):(Ji.currentOp=n,Zi)}[nt](t){let n=t.effect_instruction_i0,r=this.getNextFailCont();if(r!==void 0)switch(r._op){case Dl:case Il:return Ri(this.currentRuntimeFlags)&&this.isInterrupted()?_e(mI(n)):Ke(()=>r.effect_instruction_i1(n));case"OnStep":return Ri(this.currentRuntimeFlags)&&this.isInterrupted()?_e(mI(n)):je(_e(n));case op:return this.patchRuntimeFlags(this.currentRuntimeFlags,r.patch),Ri(this.currentRuntimeFlags)&&this.isInterrupted()?_e(Ze(n,this.getInterruptedCause())):_e(n);default:Fb(r)}else return Ji.currentOp=_e(n),Zi}[Xy](t){return Ke(()=>t.effect_instruction_i0(this,JM(this.currentRuntimeFlags)))}Blocked(t){let n=this.getFiberRefs(),r=this.currentRuntimeFlags;if(this._steps.length>0){let o=[],i=this._steps[this._steps.length-1],s=this.popStack();for(;s&&s._op!=="OnStep";)o.push(s),s=this.popStack();this.setFiberRefs(i.refs),this.currentRuntimeFlags=i.flags;let a=au(i.refs,n),c=pr(i.flags,r);return je(Fi(t.effect_instruction_i0,X(u=>{for(;o.length>0;)u.pushStack(o.pop());return u.setFiberRefs(cu(u.id(),u.getFiberRefs())(a)),u.currentRuntimeFlags=Ai(c)(u.currentRuntimeFlags),t.effect_instruction_i1})))}return Xe(o=>g(wh(ox(t.effect_instruction_i0)),()=>o(t.effect_instruction_i1)))}RunBlocked(t){return Ite(t.effect_instruction_i0)}[bi](t){let n=t.effect_instruction_i0,r=this.currentRuntimeFlags,o=Ai(r,n);if(Ri(o)&&this.isInterrupted())return _e(this.getInterruptedCause());if(this.patchRuntimeFlags(this.currentRuntimeFlags,n),t.effect_instruction_i1){let i=pr(o,r);return this.pushStack(new tx(i,t)),Ke(()=>t.effect_instruction_i1(r))}else return mn}[wl](t){return this.pushStack(t),t.effect_instruction_i0}OnStep(t){return this.pushStack(t),t.effect_instruction_i0}[Dl](t){return this.pushStack(t),t.effect_instruction_i0}[Il](t){return this.pushStack(t),t.effect_instruction_i0}[pc](t){return this._asyncBlockingOn=t.effect_instruction_i1,this.initiateAsync(this.currentRuntimeFlags,t.effect_instruction_i0),Ji.currentOp=t,Zi}[Tl](t){return this._isYielding=!1,Ji.currentOp=t,Zi}[Ml](t){let n=t.effect_instruction_i0,r=t.effect_instruction_i1;return n()?(this.pushStack(t),r()):mn}[mc](t){return _h[mc](this,t,void 0)}[hc](t){return Ke(()=>t.commit())}runLoop(t){let n=t;for(this.currentOpCount=0;;){if((this.currentRuntimeFlags&cj)!==0&&this.currentSupervisor.onEffect(this,n),this._queue.length>0&&(n=this.drainQueueWhileRunning(this.currentRuntimeFlags,n)),!this._isYielding){this.currentOpCount+=1;let r=this.currentScheduler.shouldYield(this);if(r!==!1){this._isYielding=!0,this.currentOpCount=0;let o=n;n=g($o({priority:r}),()=>o)}}try{if(n=this.currentTracer.context(()=>{if(Mte!==n[Pi]._V){let r=this.getFiberRef(r2);if(r._tag==="Some"){let o=n[Pi]._V;this.log(`Executing an Effect versioned ${o} with a Runtime of version ${sp()}, you may want to dedupe the effect dependencies, you can use the language service plugin to detect this at compile time: https://github.com/Effect-TS/language-service`,In,r)}}return this[n._op](n)},this),n===Zi){let r=Ji.currentOp;return r._op===Tl||r._op===pc?Zi:(Ji.currentOp=null,r._op===rt||r._op===nt?r:_e(Rt(r)))}}catch(r){n!==Zi&&!A(n,"_op")||!(n._op in this)?n=Gs(`Not a valid effect: ${xi(n)}`):a2(r)?n=_e(Ze(Rt(r),hr(wn))):n=pn(r)}}}run=()=>{this.drainQueueOnCurrentThread()}},J$=U("effect/FiberRef/currentMinimumLogLevel",()=>Ge(gM("Info"))),Tte=e=>Ob(t=>{let n=MB(t.context,it);Sn(n,Ui).unsafe.log(e.log(t))});var Ote=U(Symbol.for("effect/Logger/defaultLogger"),()=>Tte(TU));var Rte=U(Symbol.for("effect/Logger/tracerLogger"),()=>Ob(({annotations:e,cause:t,context:n,fiberId:r,logLevel:o,message:i})=>{let s=Yr(zi(n,An),zo);if(s._tag==="None"||s.value._tag==="ExternalSpan")return;let a=Bs(zi(n,it),Jn),c={};for(let[u,l]of e)c[u]=l;c["effect.fiberId"]=k1(r),c["effect.logLevel"]=o.label,t!==null&&t._tag!=="Empty"&&(c["effect.cause"]=Ni(t,{renderErrorCause:!0})),s.value.event(xi(Array.isArray(i)&&i.length===1?i[0]:i),a.unsafeCurrentTimeNanos(),c)}));var Ate=U(Symbol.for("effect/FiberRef/currentLoggers"),()=>e2(Cc(Ote,Rte)));var Q$=function(){if(typeof arguments[0]=="string")return br(na,Zr(arguments[0],arguments[1]));let e=Object.entries(arguments[0]);return br(na,P1(t=>{for(let n=0;n<e.length;n++){let[r,o]=e[n];Zr(t,r,o)}return t}))},X$=d(2,(e,t)=>{let n=typeof t=="string"?gM(t):t;return X(r=>{let o=r.getFiberRef(J$);return mM(o,n)?b(_()):w(e,C)})}),Dh=d(e=>xe(e[0]),(e,t)=>ji(Xr(e,n=>Dd(r=>t(n,r))))),eq=d(e=>xe(e[0]),(e,t)=>Er(e,Dd(n=>t(n)))),Dd=e=>X(t=>{let n=t.getFiberRefs(),r=Zw(t.currentRuntimeFlags,Jr);return g(e0,o=>Gc(o,i=>X(s=>{let a=s.getFiberRefs(),c=s.currentRuntimeFlags,u=au(a,n),l=pr(c,r),f=au(n,a);return s.setFiberRefs(cu(u,s.id(),n)),Er(hx(e(i),l),E(()=>{s.setFiberRefs(cu(f,s.id(),s.getFiberRefs()))}))})))}),tq=e=>ot(Fp,C(Ki))(e),G$=Symbol.for("effect/Effect/existsPar/found"),nq=d(e=>ar(e[0])&&!xe(e[0]),(e,t,n)=>uh(n?.concurrency,()=>B(()=>rq(e[Symbol.iterator](),0,t)),()=>Et(Qn(e,(r,o)=>cx(t(r,o),{onTrue:()=>ee(G$),onFalse:()=>G}),n),{onFailure:r=>r===G$?b(!0):ee(r),onSuccess:()=>b(!1)}))),rq=(e,t,n)=>{let r=e.next();return r.done?b(!1):g(n(r.value,t),o=>o?b(o):rq(e,t+1,n))},oq=d(e=>ar(e[0])&&!xe(e[0]),(e,t,n)=>{let r=n?.negate?(o,i)=>w(t(o,i),ML):t;return uh(n?.concurrency,()=>B(()=>ae(e).reduceRight((o,i,s)=>qo(o,B(()=>r(i,s)),(a,c)=>c?[i,...a]:a),E(()=>new Array))),()=>w(Qn(e,(o,i)=>w(r(o,i),s=>s?C(o):_()),n),SL))}),kte=e=>{if(Array.isArray(e)||ar(e))return[e,_()];let t=Object.keys(e),n=t.length;return[t.map(r=>e[r]),C(r=>{let o={};for(let i=0;i<n;i++)o[t[i]]=r[i];return o})]},Nte=(e,t,n)=>{let r=[];for(let o of e)r.push(mr(o));return g(Qn(r,Z,{concurrency:n?.concurrency,batching:n?.batching,concurrentFinalizers:n?.concurrentFinalizers}),o=>{let i=_(),s=o.length,a=new Array(s),c=new Array(s),u=!1;for(let l=0;l<s;l++){let f=o[l];f._tag==="Left"?(a[l]=C(f.left),u=!0):(c[l]=f.right,a[l]=i)}return u?t._tag==="Some"?ee(t.value(a)):ee(a):n?.discard?G:t._tag==="Some"?b(t.value(c)):b(c)})},Fte=(e,t,n)=>{let r=[];for(let o of e)r.push(mr(o));return n?.discard?Qn(r,Z,{concurrency:n?.concurrency,batching:n?.batching,discard:!0,concurrentFinalizers:n?.concurrentFinalizers}):w(Qn(r,Z,{concurrency:n?.concurrency,batching:n?.batching,concurrentFinalizers:n?.concurrentFinalizers}),o=>t._tag==="Some"?t.value(o):o)},fa=(e,t)=>{let[n,r]=kte(e);return t?.mode==="validate"?Nte(n,r,t):t?.mode==="either"?Fte(n,r,t):t?.discard!==!0&&r._tag==="Some"?w(Qn(n,Z,t),r.value):Qn(n,Z,t)},iq=e=>t=>fa(t,e),sq=(e,t)=>w(fa(ae(e).map(We),t),Fl(n=>Cx(n)?C(n.effect_instruction_i0):_())),KT=d(2,(e,t)=>Array.from({length:t},()=>e)),aq=d(e=>xe(e[0]),(e,t,n)=>fa(KT(e,t),n)),Qn=d(e=>ar(e[0]),(e,t,n)=>X(r=>{let o=n?.batching===!0||n?.batching==="inherit"&&r.getFiberRef(II);return n?.discard?cT(n.concurrency,()=>hu(nb,n?.concurrentFinalizers)(i=>o?Qi(e,(s,a)=>i(t(s,a)),!0,!1,1):zn(e,(s,a)=>i(t(s,a)))),()=>hu(rb,n?.concurrentFinalizers)(i=>Qi(e,(s,a)=>i(t(s,a)),o,!1)),i=>hu(ob(i),n?.concurrentFinalizers)(s=>Qi(e,(a,c)=>s(t(a,c)),o,!1,i))):cT(n?.concurrency,()=>hu(nb,n?.concurrentFinalizers)(i=>o?GT(e,1,(s,a)=>i(t(s,a)),!0):Gt(e,(s,a)=>i(t(s,a)))),()=>hu(rb,n?.concurrentFinalizers)(i=>Pb(e,(s,a)=>i(t(s,a)),o)),i=>hu(ob(i),n?.concurrentFinalizers)(s=>GT(e,i,(a,c)=>s(t(a,c)),o)))})),Pb=(e,t,n)=>B(()=>{let r=ae(e),o=new Array(r.length);return pe(Qi(r,(s,a)=>g(t(s,a),c=>E(()=>o[a]=c)),n,!1),b(o))}),Qi=(e,t,n,r,o)=>Xe(i=>fx(s=>X(a=>{let c=Array.from(e).reverse(),u=c.length;if(u===0)return G;let l=0,f=!1,p=o?Math.min(c.length,o):c.length,h=new Set,y=new Array,S=()=>h.forEach(st=>{st.currentScheduler.scheduleTask(()=>{st.unsafeInterruptAsFork(a.id())},0)}),I=new Array,O=new Array,K=new Array,qe=()=>{let st=y.filter(({exit:Nn})=>Nn._tag==="Failure").sort((Nn,oo)=>Nn.index<oo.index?-1:Nn.index===oo.index?0:1).map(({exit:Nn})=>Nn);return st.length===0&&st.push(mn),st},le=(st,Nn=!1)=>{let oo=ji(s(st)),Zt=Pte(oo,a,a.currentRuntimeFlags,Ki);return a.currentScheduler.scheduleTask(()=>{Nn&&Zt.unsafeInterruptAsFork(a.id()),Zt.resume(oo)},0),Zt},Ut=()=>{r||(u-=c.length,c=[]),f=!0,S()},$t=n?ax:We,Xn=le(sn(st=>{let Nn=(Zt,Yo)=>{Zt._op==="Blocked"?K.push(Zt):(y.push({index:Yo,exit:Zt}),Zt._op==="Failure"&&!f&&Ut())},oo=()=>{if(c.length>0){let Zt=c.pop(),Yo=l++,aE=()=>{let _r=c.pop();return Yo=l++,g($o(),()=>g($t(i(t(_r,Yo))),Od))},Od=_r=>c.length>0&&(Nn(_r,Yo),c.length>0)?aE():b(_r),yu=g($t(i(t(Zt,Yo))),Od),io=le(yu);I.push(io),h.add(io),f&&io.currentScheduler.scheduleTask(()=>{io.unsafeInterruptAsFork(a.id())},0),io.addObserver(_r=>{let ns;if(_r._op==="Failure"?ns=_r:ns=_r.effect_instruction_i0,O.push(io),h.delete(io),Nn(ns,Yo),y.length===u)st(b(ht(Zc(qe(),{parallel:!0}),()=>mn)));else if(K.length+y.length===u){let cE=qe(),uE=K.map(Rd=>Rd.effect_instruction_i0).reduce(aI);st(b(Fi(uE,Qi([ht(Zc(cE,{parallel:!0}),()=>mn),...K.map(Rd=>Rd.effect_instruction_i1)],Rd=>Rd,n,!0,o))))}else oo()})}};for(let Zt=0;Zt<p;Zt++)oo()}));return Qe(hn(On(i(no(Xn))),nd({onFailure:st=>{Ut();let Nn=K.length+1,oo=Math.min(typeof o=="number"?o:K.length,K.length),Zt=Array.from(K);return sn(Yo=>{let aE=[],Od=0,yu=0,io=(ns,cE)=>uE=>{aE[ns]=uE,Od++,Od===Nn&&Yo(je(_e(st))),Zt.length>0&&cE&&_r()},_r=()=>{le(Zt.pop(),!0).addObserver(io(yu,!0)),yu++};Xn.addObserver(io(yu,!1)),yu++;for(let ns=0;ns<oo;ns++)_r()})},onSuccess:()=>Gt(O,st=>st.inheritAll)})))}))),GT=(e,t,n,r)=>B(()=>{let o=ae(e),i=new Array(o.length);return pe(Qi(o,(a,c)=>w(n(a,c),u=>i[c]=u),r,!1,t),b(i))}),Xi=e=>X((t,n)=>b(Ih(e,t,n.runtimeFlags))),wh=e=>Lte(e,Ki),cq=d(2,(e,t)=>Xi(dx(e,n=>{let r=ki(n);switch(r._tag){case"Left":return t(r.left);case"Right":return ie(r.right)}}))),Ih=(e,t,n,r=null)=>{let o=Lb(e,t,n,r);return o.resume(e),o},Pte=(e,t,n,r=null)=>Lb(e,t,n,r),Lb=(e,t,n,r=null)=>{let o=Lv(),i=t.getFiberRefs(),s=sM(i,o),a=new Ch(o,s,n),c=zi(s,An),u=a.currentSupervisor;return u.onStart(c,e,C(t),a),a.addObserver(f=>u.onEnd(f,a)),(r!==null?r:m(t.getFiberRef(Fp),ht(()=>t.scope()))).add(n,a),a},Lte=(e,t)=>X((n,r)=>b(Ih(e,n,r.runtimeFlags,t))),YT=d(e=>Rs(e[2]),(e,t,n,r)=>uh(r?.concurrency,()=>ae(e).reduce((o,i,s)=>qo(o,i,(a,c)=>n(a,c,s)),b(t)),()=>g(Vx(t),o=>g(Qn(e,(i,s)=>g(i,a=>HB(o,c=>n(c,a,s))),r),()=>Ux(o))))),ZT=d(e=>ar(e[0]),(e,t,n)=>m(Qn(e,(r,o)=>mr(t(r,o)),n),w(r=>$j(r,Z)))),uq=d(e=>ar(e[0]),(e,t,n)=>g(ZT(e,t,{concurrency:n?.concurrency,batching:n?.batching,concurrentFinalizers:n?.concurrentFinalizers}),([r,o])=>cv(r)?ee(r):n?.discard?G:b(o))),lq=e=>X((t,n)=>sn(r=>{let o=new Set,i,s=In,a=()=>{for(let l of o)l.unsafeInterruptAsFork(t.id())},c=!1,u=!0;for(let l of e){u=!1;let f=Ih(Li(l),t,n.runtimeFlags);if(o.add(f),f.addObserver(p=>{o.delete(f),i||(p._tag==="Success"?(c=!0,i=f,s=In,a()):s=Mn(p.cause,s)),c&&o.size===0&&r(i?pe(CU(i),i.unsafePoll()):ie(s))}),i)break}return u?r(Ks(()=>new $p("Received an empty collection of effects"))):(c=!0,SU(o,t.id()))})),dq=d(e=>ar(e[0])&&!xe(e[0]),(e,t,n,r)=>uh(r?.concurrency,()=>ae(e).reduce((o,i,s)=>qo(o,i,(a,c)=>n(a,c,s)),t),()=>B(()=>m(YT([t,...e],_(),(o,i,s)=>{switch(o._tag){case"None":return C(i);case"Some":return C(n(o.value,i,s))}},r),w(o=>{switch(o._tag){case"None":throw new Error("BUG: Effect.reduceEffect - please report an issue at https://github.com/Effect-TS/effect/issues");case"Some":return o.value}}))))),jb=e=>yr(t=>bt(Yr(t,pa),{onNone:()=>e,onSome:n=>{switch(n.strategy._tag){case"Parallel":return e;case"Sequential":case"ParallelN":return g(Gn(n,rb),r=>ha(e,r))}}})),K$=e=>t=>yr(n=>bt(Yr(n,pa),{onNone:()=>t,onSome:r=>r.strategy._tag==="ParallelN"&&r.strategy.parallelism===e?t:g(Gn(r,ob(e)),o=>ha(t,o))})),fq=e=>t=>hu(e,!0)(t),hu=(e,t)=>n=>yr(r=>bt(Yr(r,pa),{onNone:()=>n(Z),onSome:o=>{if(t===!0){let i=e._tag==="Parallel"?jb:e._tag==="Sequential"?Bb:K$(e.parallelism);switch(o.strategy._tag){case"Parallel":return i(n(jb));case"Sequential":return i(n(Bb));case"ParallelN":return i(n(K$(o.strategy.parallelism)))}}else return n(Z)}})),mu=e=>g(pa,e),Mh=e=>g(Hb(),t=>hn(e(t),n=>t.close(n))),JT=e=>g(Hb(),t=>Hte(e,t)),Bb=e=>yr(t=>bt(Yr(t,pa),{onNone:()=>e,onSome:n=>{switch(n.strategy._tag){case"Sequential":return e;case"Parallel":case"ParallelN":return g(Gn(n,nb),r=>ha(e,r))}}})),pq=(e,t)=>QT([ru(e,t)]),QT=e=>br(Hi,t=>Gr(t,e)),hq=d(2,(e,t)=>Mh(n=>g(ha(e,n),t))),mq=d(e=>xe(e[1]),(e,t,n)=>XT(e,t,(r,o)=>[r,o],n)),XT=d(e=>xe(e[1]),(e,t,n,r)=>On(es(We(e),We(t),(o,i)=>Gp(o,i,{onSuccess:n,onFailure:(s,a)=>r?.concurrent?Mn(s,a):Ze(s,a)}),r)));var gq=d(e=>ar(e[0]),(e,t,n)=>Qs(Qn(e,(r,o)=>Qs(t(r,o)),n))),yq=e=>br(it,Be(Jn,e)),vq=e=>br(it,Be(eu,e)),xq=e=>br(it,Be(id,e)),bq=e=>mu(t=>g(Gn(t,xr),n=>m(e,ha(n),w(r=>[Tn(o=>Kc(n,Sx(o))),r])))),Eq=d(e=>xe(e[1]),(e,t,n)=>es(e,t,(r,o)=>[r,o],n)),_q=d(e=>xe(e[1]),(e,t,n)=>n?.concurrent!==!0&&(n?.batching===void 0||n.batching===!1)?$c(e,t):es(e,t,(r,o)=>r,n)),Cq=d(e=>xe(e[1]),(e,t,n)=>n?.concurrent!==!0&&(n?.batching===void 0||n.batching===!1)?pe(e,t):es(e,t,(r,o)=>o,n)),es=d(e=>xe(e[1]),(e,t,n,r)=>w(fa([e,t],{concurrency:r?.concurrent?2:1,batching:r?.batching,concurrentFinalizers:r?.concurrentFinalizers}),([o,i])=>n(o,i))),Sq=e=>e===dj?G:m(Jl,g(t=>{let n=Ai(t,e),r=pr(n,t);return m(ea(e),pe(Dd(()=>ea(r))),Qe)}),ji),pa=dn("effect/Scope"),e0=pa,jte=(e,t)=>{e.state._tag==="Open"&&e.state.finalizers.set({},t)},Bte={[bx]:bx,[Ex]:Ex,pipe(){return R(this,arguments)},fork(e){return E(()=>{let t=Dq(e);if(this.state._tag==="Closed")return t.state=this.state,t;let n={},r=o=>t.close(o);return this.state.finalizers.set(n,r),jte(t,o=>E(()=>{this.state._tag==="Open"&&this.state.finalizers.delete(n)})),t})},close(e){return B(()=>{if(this.state._tag==="Closed")return G;let t=Array.from(this.state.finalizers.values()).reverse();return this.state={_tag:"Closed",exit:e},t.length===0?G:zM(this.strategy)?m(Gt(t,n=>We(n(e))),g(n=>m(Zc(n),pt(zp),ht(()=>mn)))):WM(this.strategy)?m(Pb(t,n=>We(n(e)),!1),g(n=>m(Zc(n,{parallel:!0}),pt(zp),ht(()=>mn)))):m(GT(t,this.strategy.parallelism,n=>We(n(e)),!1),g(n=>m(Zc(n,{parallel:!0}),pt(zp),ht(()=>mn))))})},addFinalizer(e){return B(()=>this.state._tag==="Closed"?e(this.state.exit):(this.state.finalizers.set({},e),G))}},Dq=(e=xr)=>{let t=Object.create(Bte);return t.strategy=e,t.state={_tag:"Open",finalizers:new Map},t},Hb=(e=xr)=>E(()=>Dq(e)),ha=d(2,(e,t)=>Jc(e,Di(vc(pa,t)))),Hte=d(2,(e,t)=>m(e,ha(t),hn(n=>t.close(n)))),Vte=e=>zc(e,{differ:q$,fork:Sd}),Vb=d(2,(e,t)=>Qe(Dh(g(Wn(e),n=>Pe(Bc(e,t),n)),n=>Bc(e,n)))),br=d(2,(e,t)=>Kt(e,n=>Vb(e,t(n))));var Y$=t2(lj),t0=Vte(pu),wq=e=>Qn(e,_U),n0=e=>N(x({},bM),{commit(){return no(this)},[lh]:dh,id:()=>ae(e).reduce((n,r)=>kw(n,r.id()),wn),await:We(Pb(e,n=>On(n.await),!1)),children:w(Pb(e,n=>n.children,!1),lv),inheritAll:zn(e,n=>n.inheritAll),poll:w(Gt(e,n=>n.poll),dv(C(je(new Array)),(n,r)=>{switch(r._tag){case"None":return _();case"Some":switch(n._tag){case"None":return _();case"Some":return C(Gp(r.value,n.value,{onSuccess:(o,i)=>[o,...i],onFailure:Mn}))}}})),interruptAsFork:n=>zn(e,r=>r.interruptAsFork(n))});var r0=d(3,(e,t,n)=>o0(e,t,{onSelfWin:(r,o)=>g(r.await,i=>{switch(i._tag){case rt:return g(r.inheritAll,()=>n.onSelfDone(i,o));case nt:return n.onSelfDone(i,o)}}),onOtherWin:(r,o)=>g(r.await,i=>{switch(i._tag){case rt:return g(r.inheritAll,()=>n.onOtherDone(i,o));case nt:return n.onOtherDone(i,o)}})})),Iq=e=>Xe(t=>Tn(n=>g(wh(t(e)),r=>m(t(no(r)),Uo(()=>m(r,DU(n))))))),Ub=d(2,(e,t)=>Tn(n=>r0(e,t,{onSelfDone:(r,o)=>rd(r,{onFailure:i=>m(no(o),fd(s=>Mn(i,s))),onSuccess:i=>m(o,Rn(n),Pe(i))}),onOtherDone:(r,o)=>rd(r,{onFailure:i=>m(no(o),fd(s=>Mn(s,i))),onSuccess:i=>m(o,Rn(n),Pe(i))})}))),o0=d(3,(e,t,n)=>X((r,o)=>{let i=o.runtimeFlags,s=Lo(!0),a=Lb(e,r,i,n.selfScope),c=Lb(t,r,i,n.otherScope);return sn(u=>{a.addObserver(()=>Z$(a,c,n.onSelfWin,s,u)),c.addObserver(()=>Z$(c,a,n.onOtherWin,s,u)),a.startFork(e),c.startFork(t)},kw(a.id(),c.id()))})),Z$=(e,t,n,r,o)=>{Rv(!0,!1)(r)&&o(n(e,t))},Er=d(2,(e,t)=>Xe(n=>He(n(e),{onFailure:r=>He(t,{onFailure:o=>ie(Ze(r,o)),onSuccess:()=>ie(r)}),onSuccess:r=>Pe(t,r)}))),Ute=(e,t,n)=>Tn(r=>g(g(wh(Li(e)),o=>sn(i=>{let s=t.map(u=>u.listeners.count),a=()=>{s.every(u=>u===0)&&t.every(u=>u.result.state.current._tag==="Pending"?!0:!!(u.result.state.current._tag==="Done"&&td(u.result.state.current.effect)&&u.result.state.current.effect._tag==="Failure"&&pI(u.result.state.current.effect.cause)))&&(c.forEach(u=>u()),n?.(),i(Vp(o)))};o.addObserver(u=>{c.forEach(l=>l()),i(u)});let c=t.map((u,l)=>{let f=p=>{s[l]=p,a()};return u.listeners.addObserver(f),()=>u.listeners.removeObserver(f)});return a(),E(()=>{c.forEach(u=>u())})})),()=>B(()=>{let o=t.flatMap(i=>i.state.completed?[]:[i]);return zn(o,i=>jT(i.request,Sx(r)))})));var Sh=(e,t)=>(t=qi(t),ji(X(n=>{let r=Bs(n.getFiberRef(An),pa),o=eb(n,e,t),i=n.getFiberRef(ed),s=Sn(n.getFiberRef(it),Jn);return Pe(Gc(r,a=>$M(o,a,s,i)),o)}))),Mq=e=>br(it,Be($i,e)),Tq=function(){let e=typeof arguments[0]!="string",t=e?arguments[1]:arguments[0],n=qi(e?arguments[2]:arguments[1]);if(e){let r=arguments[0];return g(Sh(t,qi(n)),o=>ia(r,zo,o))}return r=>g(Sh(t,qi(n)),o=>ia(r,zo,o))};var Oq=(e,t,n,r)=>Hv({_tag:"Complete",key:e,exit:t,entryStats:n,timeToLiveMillis:r}),Rq=(e,t)=>Hv({_tag:"Pending",key:e,deferred:t}),$te=(e,t)=>Hv({_tag:"Refreshing",deferred:e,complete:t}),i0=Symbol.for("effect/Cache/MapKey"),s0=class{current;[i0]=i0;previous=void 0;next=void 0;constructor(t){this.current=t}[j](){return m(M(this.current),H(M(this.previous)),H(M(this.next)),J(this))}[P](t){return this===t?!0:qte(t)&&T(this.current,t.current)&&T(this.previous,t.previous)&&T(this.next,t.next)}},wd=e=>new s0(e),qte=e=>A(e,i0),a0=class{head=void 0;tail=void 0;add(t){if(t!==this.tail)if(this.tail===void 0)this.head=t,this.tail=t;else{let n=t.previous,r=t.next;r!==void 0&&(t.next=void 0,n!==void 0?(n.next=r,r.previous=n):(this.head=r,this.head.previous=void 0)),this.tail.next=t,t.previous=this.tail,this.tail=t}}remove(){let t=this.head;if(t!==void 0){let n=t.next;n!==void 0?(t.next=void 0,this.head=n,this.head.previous=void 0):(this.head=void 0,this.tail=void 0)}return t}},zte=()=>new a0,Wte=(e,t,n,r,o,i)=>({map:e,keys:t,accesses:n,updating:r,hits:o,misses:i}),Gte=()=>Wte(Qc(),zte(),R2(),Lo(!1),0,0),Kte="effect/Cache",Yte=Symbol.for(Kte),Zte={_Key:e=>e,_Error:e=>e,_Value:e=>e},Jte="effect/ConsumerCache",Qte=Symbol.for(Jte),Xte={_Key:e=>e,_Error:e=>e,_Value:e=>e},ene=e=>e,$b=e=>({loadedMillis:e}),c0=class{capacity;context;fiberId;lookup;timeToLive;[Yte]=Zte;[Qte]=Xte;cacheState;constructor(t,n,r,o,i){this.capacity=t,this.context=n,this.fiberId=r,this.lookup=o,this.timeToLive=i,this.cacheState=Gte()}get(t){return w(this.getEither(t),iv)}get cacheStats(){return E(()=>ene({hits:this.cacheState.hits,misses:this.cacheState.misses,size:Ix(this.cacheState.map)}))}getOption(t){return B(()=>bt(gt(this.cacheState.map,t),{onNone:()=>{let n=wd(t);return this.trackAccess(n),this.trackMiss(),b(_())},onSome:n=>this.resolveMapValue(n)}))}getOptionComplete(t){return B(()=>bt(gt(this.cacheState.map,t),{onNone:()=>{let n=wd(t);return this.trackAccess(n),this.trackMiss(),b(_())},onSome:n=>this.resolveMapValue(n,!0)}))}contains(t){return E(()=>to(this.cacheState.map,t))}entryStats(t){return E(()=>{let n=gt(this.cacheState.map,t);if(De(n))switch(n.value._tag){case"Complete":{let r=n.value.entryStats.loadedMillis;return C($b(r))}case"Pending":return _();case"Refreshing":{let r=n.value.complete.entryStats.loadedMillis;return C($b(r))}}return _()})}getEither(t){return B(()=>{let n=t,r,o,i=zt(gt(this.cacheState.map,n));return i===void 0&&(o=PI(this.fiberId),r=wd(n),to(this.cacheState.map,n)?i=zt(gt(this.cacheState.map,n)):kn(this.cacheState.map,n,Rq(r,o))),i===void 0?(this.trackAccess(r),this.trackMiss(),w(this.lookupValueOf(t,o),un)):g(this.resolveMapValue(i),bt({onNone:()=>this.getEither(t),onSome:s=>b(ur(s))}))})}invalidate(t){return E(()=>{Xc(this.cacheState.map,t)})}invalidateWhen(t,n){return E(()=>{let r=gt(this.cacheState.map,t);De(r)&&r.value._tag==="Complete"&&r.value.exit._tag==="Success"&&n(r.value.exit.value)&&Xc(this.cacheState.map,t)})}get invalidateAll(){return E(()=>{this.cacheState.map=Qc()})}refresh(t){return Ko(n=>B(()=>{let r=t,o=PI(this.fiberId),i=zt(gt(this.cacheState.map,r));if(i===void 0&&(to(this.cacheState.map,r)?i=zt(gt(this.cacheState.map,r)):kn(this.cacheState.map,r,Rq(wd(r),o))),i===void 0)return Qe(this.lookupValueOf(t,o));switch(i._tag){case"Complete":{if(this.hasExpired(n,i.timeToLiveMillis)){let s=zt(gt(this.cacheState.map,r));return T(s,i)&&Xc(this.cacheState.map,r),Qe(this.get(t))}return m(this.lookupValueOf(t,o),Qx(()=>{let s=zt(gt(this.cacheState.map,r));if(T(s,i)){let a=$te(o,i);return kn(this.cacheState.map,r,a),!0}return!1}),Qe)}case"Pending":return Qp(i.deferred);case"Refreshing":return Qp(i.deferred)}}))}set(t,n){return Ko(r=>E(()=>{let o=r.unsafeCurrentTimeMillis(),i=t,s=E2(n),a=Oq(wd(i),s,$b(o),o+No(Ot(this.timeToLive(s))));kn(this.cacheState.map,i,a)}))}get size(){return E(()=>Ix(this.cacheState.map))}get values(){return E(()=>{let t=[];for(let n of this.cacheState.map)n[1]._tag==="Complete"&&n[1].exit._tag==="Success"&&t.push(n[1].exit.value);return t})}get entries(){return E(()=>{let t=[];for(let n of this.cacheState.map)n[1]._tag==="Complete"&&n[1].exit._tag==="Success"&&t.push([n[0],n[1].exit.value]);return t})}get keys(){return E(()=>{let t=[];for(let n of this.cacheState.map)n[1]._tag==="Complete"&&n[1].exit._tag==="Success"&&t.push(n[0]);return t})}resolveMapValue(t,n=!1){return Ko(r=>{switch(t._tag){case"Complete":return this.trackAccess(t.key),this.hasExpired(r,t.timeToLiveMillis)?(Xc(this.cacheState.map,t.key.current),b(_())):(this.trackHit(),w(t.exit,C));case"Pending":return this.trackAccess(t.key),this.trackHit(),n?b(_()):w(Qp(t.deferred),C);case"Refreshing":return this.trackAccess(t.complete.key),this.trackHit(),this.hasExpired(r,t.complete.timeToLiveMillis)?n?b(_()):w(Qp(t.deferred),C):w(t.complete.exit,C)}})}trackHit(){this.cacheState.hits=this.cacheState.hits+1}trackMiss(){this.cacheState.misses=this.cacheState.misses+1}trackAccess(t){if(A2(this.cacheState.accesses,t),Rv(this.cacheState.updating,!1,!0)){let n=!0;for(;n;){let o=k2(this.cacheState.accesses,VI);o===VI?n=!1:this.cacheState.keys.add(o)}let r=Ix(this.cacheState.map);for(n=r>this.capacity;n;){let o=this.cacheState.keys.remove();o!==void 0?to(this.cacheState.map,o.current)&&(Xc(this.cacheState.map,o.current),r=r-1,n=r>this.capacity):n=!1}fr(this.cacheState.updating,!1)}}hasExpired(t,n){return t.unsafeCurrentTimeMillis()>n}lookupValueOf(t,n){return Ko(r=>B(()=>{let o=t;return m(this.lookup(t),eo(this.context),We,g(i=>{let s=r.unsafeCurrentTimeMillis(),a=$b(s),c=Oq(wd(o),i,a,s+No(Ot(this.timeToLive(i))));return kn(this.cacheState.map,o,c),pe(y2(n,i),i)}),Uo(()=>pe(v2(n),E(()=>{Xc(this.cacheState.map,o)}))))}))}};var Aq=(e,t,n)=>new c0(e,Un(),Nv,t,r=>Ot(n(r)));var ma={};iO(ma,{Do:()=>sse,EffectTypeId:()=>Jne,Service:()=>$ce,Tag:()=>Uce,acquireRelease:()=>Hoe,acquireReleaseInterruptible:()=>Voe,acquireUseRelease:()=>Uoe,addFinalizer:()=>$oe,all:()=>ore,allSuccesses:()=>sre,allWith:()=>ire,allowInterrupt:()=>yoe,andThen:()=>Tse,annotateCurrentSpan:()=>Dce,annotateLogs:()=>_ae,annotateLogsScoped:()=>Cae,annotateSpans:()=>Sce,ap:()=>uce,as:()=>Moe,asSome:()=>Toe,asSomeError:()=>Ooe,asVoid:()=>Roe,async:()=>Mre,asyncEffect:()=>Tre,awaitAllChildren:()=>nie,bind:()=>ase,bindAll:()=>cse,bindTo:()=>use,blocked:()=>lce,cacheRequestResult:()=>hce,cached:()=>tre,cachedFunction:()=>nre,cachedInvalidateWithTTL:()=>ere,cachedWithTTL:()=>Xne,catch:()=>Gre,catchAll:()=>Kre,catchAllCause:()=>Yre,catchAllDefect:()=>Zre,catchIf:()=>Jre,catchSome:()=>Qre,catchSomeCause:()=>Xre,catchSomeDefect:()=>eoe,catchTag:()=>toe,catchTags:()=>noe,cause:()=>roe,checkInterruptible:()=>voe,clock:()=>Die,clockWith:()=>wie,configProviderWith:()=>Uie,console:()=>Tie,consoleWith:()=>Oie,context:()=>zie,contextWith:()=>Wie,contextWithEffect:()=>Gie,currentParentSpan:()=>Ice,currentSpan:()=>wce,custom:()=>Ore,daemonChildren:()=>rie,delay:()=>kie,descriptor:()=>oie,descriptorWith:()=>iie,die:()=>Q0,dieMessage:()=>Fre,dieSync:()=>Pre,diffFiberRefs:()=>sie,disconnect:()=>xoe,dropUntil:()=>are,dropWhile:()=>cre,either:()=>fse,ensureErrorType:()=>Gce,ensureRequirementsType:()=>Kce,ensureSuccessType:()=>Wce,ensuring:()=>qoe,ensuringChild:()=>aie,ensuringChildren:()=>cie,eventually:()=>ooe,every:()=>dre,exists:()=>fre,exit:()=>pse,fail:()=>Are,failCause:()=>FW,failCauseSync:()=>Nre,failSync:()=>kre,fiberId:()=>uie,fiberIdWith:()=>lie,filter:()=>pre,filterEffectOrElse:()=>bse,filterEffectOrFail:()=>Ese,filterMap:()=>hre,filterOrDie:()=>gse,filterOrDieMessage:()=>yse,filterOrElse:()=>vse,filterOrFail:()=>xse,finalizersMask:()=>Yoe,findFirst:()=>mre,firstSuccessOf:()=>Aae,flatMap:()=>Mse,flatten:()=>Ose,flip:()=>Aoe,flipWith:()=>koe,fn:()=>qce,fnUntraced:()=>zce,forEach:()=>gre,forever:()=>Use,fork:()=>die,forkAll:()=>pie,forkDaemon:()=>fie,forkIn:()=>hie,forkScoped:()=>mie,forkWithErrorHandler:()=>gie,fromFiber:()=>yie,fromFiberEffect:()=>vie,fromNullable:()=>jce,functionWithSpan:()=>Fce,gen:()=>Lre,getFiberRefs:()=>Qse,getRuntimeFlags:()=>jae,head:()=>yre,if:()=>mse,ignore:()=>ioe,ignoreLogged:()=>soe,inheritFiberRefs:()=>Xse,interrupt:()=>boe,interruptWith:()=>Eoe,interruptible:()=>_oe,interruptibleMask:()=>Coe,intoDeferred:()=>hse,isEffect:()=>Qne,isFailure:()=>aae,isSuccess:()=>cae,iterate:()=>$se,labelMetrics:()=>$ae,labelMetricsScoped:()=>zae,let:()=>lse,liftPredicate:()=>Ioe,linkSpanCurrent:()=>Rce,linkSpans:()=>Oce,locally:()=>eae,locallyScoped:()=>nae,locallyScopedWith:()=>rae,locallyWith:()=>tae,log:()=>pae,logAnnotations:()=>Sae,logDebug:()=>gae,logError:()=>xae,logFatal:()=>bae,logInfo:()=>yae,logTrace:()=>mae,logWarning:()=>vae,logWithLevel:()=>hae,loop:()=>qse,makeLatch:()=>Jae,makeSemaphore:()=>Yae,makeSpan:()=>Ace,makeSpanScoped:()=>kce,map:()=>gu,mapAccum:()=>Noe,mapBoth:()=>Foe,mapError:()=>Poe,mapErrorCause:()=>Loe,mapInputContext:()=>Kie,match:()=>uae,matchCause:()=>lae,matchCauseEffect:()=>dae,matchEffect:()=>fae,merge:()=>joe,mergeAll:()=>vre,metricLabels:()=>Wae,negate:()=>Boe,never:()=>jre,none:()=>Bre,onError:()=>zoe,onExit:()=>Woe,onInterrupt:()=>Soe,once:()=>rre,option:()=>dse,optionFromOptional:()=>Bce,orDie:()=>Iae,orDieWith:()=>Mae,orElse:()=>Tae,orElseFail:()=>Oae,orElseSucceed:()=>Rae,parallelErrors:()=>aoe,parallelFinalizers:()=>Goe,partition:()=>xre,patchFiberRefs:()=>oae,patchRuntimeFlags:()=>Bae,promise:()=>Hre,provide:()=>Yie,provideService:()=>Zie,provideServiceEffect:()=>Jie,race:()=>Rse,raceAll:()=>Ase,raceFirst:()=>kse,raceWith:()=>Nse,random:()=>kae,randomWith:()=>Nae,reduce:()=>bre,reduceEffect:()=>Cre,reduceRight:()=>_re,reduceWhile:()=>Ere,repeat:()=>zse,repeatN:()=>Wse,repeatOrElse:()=>Gse,replicate:()=>Sre,replicateEffect:()=>Dre,request:()=>pce,retry:()=>uoe,retryOrElse:()=>doe,runCallback:()=>Xae,runFork:()=>Qae,runPromise:()=>ece,runPromiseExit:()=>tce,runRequestBlock:()=>dce,runSync:()=>nce,runSyncExit:()=>rce,runtime:()=>Lae,sandbox:()=>coe,schedule:()=>Kse,scheduleForked:()=>Yse,scheduleFrom:()=>Zse,scope:()=>Zoe,scopeWith:()=>Joe,scoped:()=>Xoe,scopedWith:()=>Qoe,sequentialFinalizers:()=>Koe,serviceConstants:()=>tse,serviceFunction:()=>Qie,serviceFunctionEffect:()=>Xie,serviceFunctions:()=>ese,serviceMembers:()=>nse,serviceOption:()=>rse,serviceOptional:()=>ose,setFiberRefs:()=>iae,sleep:()=>Nie,spanAnnotations:()=>Mce,spanLinks:()=>Tce,step:()=>fce,succeed:()=>Vre,succeedNone:()=>X0,succeedSome:()=>Ure,summarized:()=>Fse,supervised:()=>xie,suspend:()=>$re,sync:()=>qre,tagMetrics:()=>Uae,tagMetricsScoped:()=>qae,takeUntil:()=>ure,takeWhile:()=>lre,tap:()=>Pse,tapBoth:()=>Lse,tapDefect:()=>jse,tapError:()=>Bse,tapErrorCause:()=>Vse,tapErrorTag:()=>Hse,timed:()=>Fie,timedWith:()=>Pie,timeout:()=>Lie,timeoutFail:()=>Bie,timeoutFailCause:()=>Hie,timeoutOption:()=>jie,timeoutTo:()=>Vie,tracer:()=>vce,tracerWith:()=>xce,transplant:()=>bie,transposeMapOption:()=>Vce,transposeOption:()=>Hce,try:()=>foe,tryMap:()=>poe,tryMapPromise:()=>hoe,tryPromise:()=>moe,uninterruptible:()=>Doe,uninterruptibleMask:()=>woe,unless:()=>_se,unlessEffect:()=>Cse,unsafeMakeLatch:()=>Zae,unsafeMakeSemaphore:()=>Kae,unsandbox:()=>goe,updateFiberRefs:()=>sae,updateService:()=>ise,useSpan:()=>Nce,using:()=>eie,validate:()=>oce,validateAll:()=>wre,validateFirst:()=>Ire,validateWith:()=>ice,void:()=>zre,when:()=>Sse,whenEffect:()=>Dse,whenFiberRef:()=>wse,whenLogLevel:()=>wae,whenRef:()=>Ise,whileLoop:()=>Jse,withClock:()=>Mie,withClockScoped:()=>Iie,withConcurrency:()=>Eie,withConfigProvider:()=>$ie,withConfigProviderScoped:()=>qie,withConsole:()=>Aie,withConsoleScoped:()=>Rie,withEarlyRelease:()=>tie,withExecutionPlan:()=>loe,withFiberRuntime:()=>Rre,withLogSpan:()=>Eae,withMaxOpsBeforeYield:()=>Sie,withMetric:()=>Gae,withParentSpan:()=>Lce,withRandom:()=>PW,withRandomFixed:()=>Fae,withRandomScoped:()=>Pae,withRequestBatching:()=>mce,withRequestCache:()=>yce,withRequestCaching:()=>gce,withRuntimeFlagsPatch:()=>Hae,withRuntimeFlagsPatchScoped:()=>Vae,withScheduler:()=>_ie,withSchedulingPriority:()=>Cie,withSpan:()=>jW,withSpanScoped:()=>Pce,withTracer:()=>bce,withTracerEnabled:()=>_ce,withTracerScoped:()=>Ece,withTracerTiming:()=>Cce,withUnhandledErrorLogLevel:()=>Dae,yieldNow:()=>Wre,zip:()=>sce,zipLeft:()=>ace,zipRight:()=>cce,zipWith:()=>LW});var tne="effect/ScheduleInterval",Oh=Symbol.for(tne),u0={[Oh]:Oh,startMillis:0,endMillis:0},l0=(e,t)=>e>t?u0:{[Oh]:Oh,startMillis:e,endMillis:t},kq=d(2,(e,t)=>Nq(e,t)===e),Nq=d(2,(e,t)=>e.endMillis<=t.startMillis?e:t.endMillis<=e.startMillis?t:e.startMillis<t.startMillis?e:t.startMillis<e.startMillis?t:e.endMillis<=t.endMillis?e:t);var Fq=e=>e.startMillis>=e.endMillis;var Pq=d(2,(e,t)=>{let n=Math.max(e.startMillis,t.startMillis),r=Math.min(e.endMillis,t.endMillis);return l0(n,r)});var Lq=e=>l0(e,Number.POSITIVE_INFINITY);var d0=u0,jq=kq;var Bq=Fq;var Hq=Pq;var Vq=Lq;var one="effect/ScheduleIntervals",p0=Symbol.for(one),h0=e=>({[p0]:p0,intervals:e});var Uq=d(2,(e,t)=>ine(e.intervals,t.intervals,fn())),ine=(e,t,n)=>{let r=e,o=t,i=n;for(;Wt(r)&&Wt(o);){let s=m(Vt(r),Hq(Vt(o))),a=Bq(s)?i:m(i,Ht(s));m(Vt(r),jq(Vt(o)))?r=on(r):o=on(o),i=a}return h0(ko(i))},qb=e=>m(e.intervals,hv,ht(()=>d0)).startMillis,$q=e=>m(e.intervals,hv,ht(()=>d0)).endMillis,qq=d(2,(e,t)=>qb(e)<qb(t)),zq=e=>Wt(e.intervals);var Wq=h0;var Gq=Uq,Kq=qb,m0=$q,Yq=qq,Zq=zq;var y0="Continue",Jq="Done",Qq=e=>({_tag:y0,intervals:e}),Xq=e=>({_tag:y0,intervals:Wq(Ye(e))}),ez={_tag:Jq},tz=e=>e._tag===y0,nz=e=>e._tag===Jq;var rz=Qq;var oz=Xq,Id=ez,v0=tz,Rh=nz;var sz=Kc;var az=Gn;var b0=class{permits;waiters=new Set;taken=0;constructor(t){this.permits=t}get free(){return this.permits-this.taken}take=t=>Lp(n=>{if(this.free<t){let r=()=>{this.free<t||(this.waiters.delete(r),this.taken+=t,n(b(t)))};return this.waiters.add(r),E(()=>{this.waiters.delete(r)})}return this.taken+=t,n(b(t))});updateTakenUnsafe(t,n){return this.taken=n(this.taken),this.waiters.size>0&&t.getFiberRef(lu).scheduleTask(()=>{let r=this.waiters.values(),o=r.next();for(;o.done===!1&&this.free>0;)o.value(),o=r.next()},t.getFiberRef(Bi)),b(this.free)}updateTaken(t){return X(n=>this.updateTakenUnsafe(n,t))}resize=t=>Qe(X(n=>(this.permits=t,this.free<0?G:this.updateTakenUnsafe(n,r=>r))));release=t=>this.updateTaken(n=>n-t);releaseAll=this.updateTaken(t=>0);withPermits=t=>n=>Xe(r=>g(r(this.take(t)),o=>Er(r(n),this.release(o))));withPermitsIfAvailable=t=>n=>Xe(r=>B(()=>this.free<t?su:(this.taken+=t,Er(r(ld(n)),this.release(t)))))},Wb=e=>new b0(e),lz=e=>E(()=>Wb(e)),E0=class extends Wi{isOpen;waiters=[];scheduled=!1;constructor(t){super(),this.isOpen=t}commit(){return this.await}unsafeSchedule(t){return this.scheduled||this.waiters.length===0?G:(this.scheduled=!0,t.currentScheduler.scheduleTask(this.flushWaiters,t.getFiberRef(Bi)),G)}flushWaiters=()=>{this.scheduled=!1;let t=this.waiters;this.waiters=[];for(let n=0;n<t.length;n++)t[n](mn)};open=X(t=>this.isOpen?G:(this.isOpen=!0,this.unsafeSchedule(t)));unsafeOpen(){this.isOpen||(this.isOpen=!0,this.flushWaiters())}release=X(t=>this.isOpen?G:this.unsafeSchedule(t));await=Lp(t=>this.isOpen?t(G):(this.waiters.push(t),E(()=>{let n=this.waiters.indexOf(t);n!==-1&&this.waiters.splice(n,1)})));unsafeClose(){this.isOpen=!1}close=E(()=>{this.isOpen=!1});whenOpen=t=>pe(this.await,t)},C0=e=>new E0(e??!1),dz=e=>E(()=>C0(e)),fz=e=>Gb(e,wq),pz=d(2,(e,t)=>w(S0(e,t),n=>n[0])),S0=d(2,(e,t)=>{let n=Ot(t);return g(Zn(),r=>w(Yb(_()),o=>[eo(cne(e,n,o),r),une(o)]))}),uz=(e,t,n)=>{let r=No(Ot(t));return m(Yn(),Xr(o=>Vo(e,o)),w(o=>C([n+r,o])))},cne=(e,t,n)=>Xe(r=>m(Ko(o=>o.currentTimeMillis),g(o=>pne(n,i=>{switch(i._tag){case"None":return C(uz(e,t,o));case"Some":{let[s]=i.value;return s-o<=0?C(uz(e,t,o)):_()}}})),g(o=>ce(o)?Gs("BUG: Effect.cachedInvalidate - please report an issue at https://github.com/Effect-TS/effect/issues"):r(kt(o.value[1]))))),une=e=>Go(e,_()),hz=d(2,(e,t)=>Gb(e,n=>t(n0(n)))),Gb=d(2,(e,t)=>g(L$,n=>m(w0(e,n),Er(g(n.value,t))))),mz=d(e=>ar(e[0]),(e,t)=>t?.discard?zn(e,Xi):w(Gt(e,Xi),n0)),D0=d(2,(e,t)=>X((n,r)=>{let o=t,i=Ih(e,n,r.runtimeFlags,Ki);if(o.state._tag==="Open"){let s=()=>Tn(c=>T(c,i.id())?G:Qe(Vp(i))),a={};o.state.finalizers.set(a,s),i.addObserver(()=>{o.state._tag!=="Closed"&&o.state.finalizers.delete(a)})}else i.unsafeInterruptAsFork(n.id());return b(i)})),Kb=e=>mu(t=>D0(e,t)),gz=e=>no(e),yz=e=>B(()=>g(e,no)),x0=Symbol.for("effect/Effect/memoizeFunction.key"),zb=class{a;eq;[x0]=x0;constructor(t,n){this.a=t,this.eq=n}[P](t){return A(t,x0)?this.eq?this.eq(this.a,t.a):T(this.a,t.a):!1}[j](){return this.eq?0:J(this,M(this.a))}},vz=(e,t)=>m(E(()=>Qc()),g(Yb),w(n=>r=>m(n.modifyEffect(o=>{let i=m(o,gt(new zb(r,t)));return ce(i)?m(Yn(),Xr(s=>m(dd(e(r)),Vo(s),Xi)),w(s=>[s,m(o,kn(new zb(r,t),s))])):b([i.value,o])}),g(kt),g(([o,i])=>m(ou(o),Pe(i)))))),xz=d(2,(e,t)=>m(We(e),Ub(We(t)),n=>On(n))),w0=d(2,(e,t)=>At(t0,r=>r.zip(t))(e)),bz=d(2,(e,t)=>I0(e,{onTimeout:()=>u2(t),duration:t})),I0=d(2,(e,{duration:t,onTimeout:n})=>On(Ah(e,{onTimeout:()=>gr(n),onSuccess:b,duration:t}))),Ez=d(2,(e,{duration:t,onTimeout:n})=>On(Ah(e,{onTimeout:()=>Ys(n),onSuccess:b,duration:t}))),_z=d(2,(e,t)=>Ah(e,{duration:t,onSuccess:C,onTimeout:_})),Ah=d(2,(e,{duration:t,onSuccess:n,onTimeout:r})=>Tn(o=>Xe(i=>o0(i(e),Li(iu(t)),{onSelfWin:(s,a)=>g(s.await,c=>c._tag==="Success"?g(s.inheritAll,()=>Pe(Rn(a,o),n(c.value))):g(Rn(a,o),()=>_e(c.cause))),onOtherWin:(s,a)=>g(s.await,c=>c._tag==="Success"?g(s.inheritAll,()=>Pe(Rn(a,o),r())):g(Rn(a,o),()=>_e(c.cause))),otherScope:Ki})))),lne="effect/Ref/SynchronizedRef",dne=Symbol.for(lne),fne={_A:e=>e},_0=class extends Wi{ref;withLock;[dne]=fne;[Bx]=CM;[oa]=oa;constructor(t,n){super(),this.ref=t,this.withLock=n,this.get=Yt(this.ref)}get;commit(){return this.get}modify(t){return this.modifyEffect(n=>b(t(n)))}modifyEffect(t){return this.withLock(m(g(Yt(this.ref),t),g(([n,r])=>Pe(Go(this.ref,r),n))))}},Yb=e=>E(()=>M0(e)),M0=e=>{let t=ud(e),n=Wb(1);return new _0(t,n.withPermits(1))},pne=d(2,(e,t)=>e.modifyEffect(n=>{let r=t(n);switch(r._tag){case"None":return b([n,n]);case"Some":return w(r.value,o=>[o,o])}}));var Cz=d(e=>xe(e[0]),(e,t,n)=>g(e,r=>fa(t(r),n).pipe(w(o=>Object.assign({},r,o)))));var Dz=Symbol.for("effect/ManagedRuntime");var wz="Fresh",Iz="FromEffect",Mz="Scoped",Tz="Suspend",Oz="Provide",Rz="ProvideMerge",Az="MergeAll";var kz=Rn;var Md=e=>function(){if(arguments.length===1){let t=arguments[0];return(n,...r)=>e(t,n,...r)}return e.apply(this,arguments)},Qb=Md((e,t,n)=>{let r=Lv(),o=[[An,[[r,e.context]]]];n?.scheduler&&o.push([lu,[[r,n.scheduler]]]);let i=RB(e.fiberRefs,{entries:o,forkAs:r});n?.updateRefs&&(i=n.updateRefs(i,r));let s=new Ch(r,i,e.runtimeFlags),a=t;n?.scope&&(a=g(az(n.scope,xr),u=>pe(_x(u,Tn(l=>T(l,s.id())?G:Rn(s,l))),hn(t,l=>sz(u,l)))));let c=s.currentSupervisor;return c!==pu&&(c.onStart(e.context,a,_(),s),s.addObserver(u=>c.onEnd(u,s))),Ki.add(e.runtimeFlags,s),n?.immediate===!1?s.resume(a):s.start(a),s}),A0=Md((e,t,n={})=>{let r=Qb(e,t,n);return n.onExit&&r.addObserver(o=>{n.onExit(o)}),(o,i)=>A0(e)(m(r,kz(o??wn)),N(x({},i),{onExit:i?.onExit?s=>i.onExit(b2(s)):void 0}))}),gne=Md((e,t)=>{let n=Lz(e)(t);if(n._tag==="Failure")throw Fz(n.effect_instruction_i0);return n.effect_instruction_i0}),O0=class extends Error{fiber;_tag="AsyncFiberException";constructor(t){super(`Fiber #${t.id().id} cannot be resolved synchronously. This is caused by using runSync on an effect that performs async work`),this.fiber=t,this.name=this._tag,this.stack=this.message}},yne=e=>{let t=Error.stackTraceLimit;Error.stackTraceLimit=0;let n=new O0(e);return Error.stackTraceLimit=t,n};var T0=Symbol.for("effect/Runtime/FiberFailure"),Zb=Symbol.for("effect/Runtime/FiberFailure/Cause"),R0=class extends Error{[T0];[Zb];constructor(t){let n=yI(t)[0];super(n?.message||"An error has occurred"),this[T0]=T0,this[Zb]=t,this.name=n?`(FiberFailure) ${n.name}`:"FiberFailure",n?.stack&&(this.stack=n.stack)}toJSON(){return{_id:"FiberFailure",cause:this[Zb].toJSON()}}toString(){return"(FiberFailure) "+Ni(this[Zb],{renderErrorCause:!0})}[Q](){return this.toString()}},Fz=e=>{let t=Error.stackTraceLimit;Error.stackTraceLimit=0;let n=new R0(e);return Error.stackTraceLimit=t,n};var Pz=e=>{let t=e;switch(t._op){case"Failure":case"Success":return t;case"Left":return Wp(t.left);case"Right":return je(t.right);case"Some":return je(t.value);case"None":return Wp(new Kn)}},Lz=Md((e,t)=>{let n=Pz(t);if(n)return n;let r=new _b,o=Qb(e)(t,{scheduler:r});r.flush();let i=o.unsafePoll();return i||RI(sx(yne(o),wx(o)))}),vne=Md((e,t,n)=>jz(e,t,n).then(r=>{switch(r._tag){case rt:return r.effect_instruction_i0;case nt:throw Fz(r.effect_instruction_i0)}})),jz=Md((e,t,n)=>new Promise(r=>{let o=Pz(t);o&&r(o);let i=Qb(e)(t);i.addObserver(s=>{r(s)}),n?.signal!==void 0&&(n.signal.aborted?i.unsafeInterruptAsFork(i.id()):n.signal.addEventListener("abort",()=>{i.unsafeInterruptAsFork(i.id())},{once:!0}))})),Jb=class{context;runtimeFlags;fiberRefs;constructor(t,n,r){this.context=t,this.runtimeFlags=n,this.fiberRefs=r}pipe(){return R(this,arguments)}},xne=e=>new Jb(e.context,e.runtimeFlags,e.fiberRefs),Xb=()=>X((e,t)=>b(new Jb(e.getFiberRef(An),t.runtimeFlags,e.getFiberRefs()))),bne=Qw(Jr,Yw,Kw),ts=xne({context:Un(),runtimeFlags:bne,fiberRefs:AB()});var Bz=A0(ts),Hz=Qb(ts),Vz=vne(ts),Uz=jz(ts),$z=gne(ts),qz=Lz(ts),zz=e=>B(()=>{let t;return g(Yn(),n=>g(Xb(),r=>Xe(o=>pe(Xi(o(He(e(i=>A0(r)(Vo(i,n))),{onFailure:i=>Zp(n,i),onSuccess:i=>(t=i,G)}))),o(Uo(kt(n),()=>t??G))))))});var Gz=d(2,(e,t)=>e.modifyEffect(t));var _ne="effect/Layer",Zz=Symbol.for(_ne),Cne={_RIn:e=>e,_E:e=>e,_ROut:e=>e},Td={[Zz]:Cne,pipe(){return R(this,arguments)}},Sne="effect/Layer/MemoMap",k0=Symbol.for(Sne),Dne=Ro()("effect/Layer/CurrentMemoMap",{defaultValue:()=>Tne()}),wne=e=>A(e,Zz),Ine=e=>e._op_layer===wz,eE=class{ref;[k0];constructor(t){this.ref=t,this[k0]=k0}getOrElseMemoize(t,n){return m(Gz(this.ref,r=>{let o=r.get(t);if(o!==void 0){let[i,s]=o,a=m(i,g(([c,u])=>m(ou(c),Pe(u))),hn(nd({onFailure:()=>G,onSuccess:()=>Gc(n,s)})));return b([a,r])}return m(tu(0),g(i=>m(Yn(),g(s=>m(tu(()=>G),w(a=>{let c=Xe(l=>m(Hb(),g(f=>m(l(g(Qz(t,f,!0),p=>dd(p(this)))),We,g(p=>{switch(p._tag){case nt:return m(Zp(s,p.effect_instruction_i0),pe(Kc(f,p)),pe(ie(p.effect_instruction_i0)));case rt:return m(Go(a,h=>m(Kc(f,h),Ql(SM(i,y=>[y===1,y-1])),Qe)),pe(nu(i,h=>h+1)),pe(Gc(n,h=>m(E(()=>r.delete(t)),pe(Yt(a)),g(y=>y(h))))),pe(NI(s,p.effect_instruction_i0)),Pe(p.effect_instruction_i0[1]))}}))))),u=[m(kt(s),hn(rd({onFailure:()=>G,onSuccess:()=>nu(i,l=>l+1)}))),l=>m(Yt(a),g(f=>f(l)))];return[c,Ine(t)?r:r.set(t,u)]}))))))}),On)}},Mne=B(()=>w(Yb(new Map),e=>new eE(e))),Tne=()=>new eE(M0(new Map));var Jz=d(2,(e,t)=>g(Mne,n=>One(e,n,t))),One=d(3,(e,t,n)=>g(Qz(e,n),r=>ia(r(t),Dne,t))),Qz=(e,t,n=!1)=>{let r=e;switch(r._op_layer){case"Locally":return E(()=>o=>r.f(o.getOrElseMemoize(r.self,t)));case"ExtendScope":return E(()=>o=>mu(i=>o.getOrElseMemoize(r.layer,i)));case"Fold":return E(()=>o=>m(o.getOrElseMemoize(r.layer,t),He({onFailure:i=>o.getOrElseMemoize(r.failureK(i),t),onSuccess:i=>o.getOrElseMemoize(r.successK(i),t)})));case"Fresh":return E(()=>o=>m(r.layer,Jz(t)));case"FromEffect":return n?E(()=>o=>r.effect):E(()=>o=>o.getOrElseMemoize(e,t));case"Provide":return E(()=>o=>m(o.getOrElseMemoize(r.first,t),g(i=>m(o.getOrElseMemoize(r.second,t),eo(i)))));case"Scoped":return n?E(()=>o=>ha(r.effect,t)):E(()=>o=>o.getOrElseMemoize(e,t));case"Suspend":return E(()=>o=>o.getOrElseMemoize(r.evaluate(),t));case"ProvideMerge":return E(()=>o=>m(o.getOrElseMemoize(r.first,t),qo(o.getOrElseMemoize(r.second,t),r.zipK)));case"ZipWith":return px(function*(){let o=yield*Zo(Gn(t,ah)),i=yield*Zo(Gn(o,xr)),s=yield*Zo(Gn(o,xr));return a=>m(a.getOrElseMemoize(r.first,i),es(a.getOrElseMemoize(r.second,s),r.zipK,{concurrent:!0}))});case"MergeAll":{let o=r.layers;return w(Gn(t,ah),i=>s=>{let a=new Array(o.length);return w(Qi(o,Xl(function*(c,u){let l=yield*Zo(Gn(i,xr)),f=yield*Zo(s.getOrElseMemoize(c,l));a[u]=f}),!1,!1),()=>$L(...a))})}}};var Rne=()=>tE(Zn());var N0=d(2,(e,t)=>{let n=lp(e),r=n?e:t;return tE(w(n?t:e,i=>vc(r,i)))});function tE(e){let t=Object.create(Td);return t._op_layer=Iz,t.effect=e,t}var Xz=(...e)=>{let t=Object.create(Td);return t._op_layer=Az,t.layers=e,t};var F0=d(2,(e,t)=>{let n=lp(e),r=n?e:t;return Ane(w(n?t:e,i=>vc(r,i)))});var Ane=e=>{let t=Object.create(Td);return t._op_layer=Mz,t.effect=e,t};var eW=d(2,(e,t)=>{let n=lp(e);return tE(b(vc(n?e:t,n?t:e)))});var kne=e=>{let t=Object.create(Td);return t._op_layer=Tz,t.evaluate=e,t},tW=d(2,(e,t)=>{let n=lp(e),r=n?e:t,o=n?t:e;return tE(E(()=>vc(r,o())))});var P0=d(2,(e,t)=>kne(()=>{let n=Object.create(Td);return n._op_layer=Oz,n.first=Object.create(Td,{_op_layer:{value:Rz,enumerable:!0},first:{value:Rne(),enumerable:!0},second:{value:Array.isArray(t)?Xz(...t):t},zipK:{value:(r,o)=>m(r,Di(o))}}),n.second=e,n}));var Kz=d(2,(e,t)=>Mh(n=>g(Jz(t,n),r=>Dx(e,r)))),Yz=d(2,(e,t)=>{let n=au(ts.fiberRefs,t.fiberRefs),r=pr(ts.runtimeFlags,t.runtimeFlags);return Xe(o=>X(i=>{let s=i.getFiberRef(An),a=i.getFiberRefs(),c=cu(i.id(),a)(n),u=i.currentRuntimeFlags,l=Ai(r)(u),f=au(c,a),p=pr(l,u);return i.setFiberRefs(c),i.currentRuntimeFlags=l,Er(Dx(o(e),Di(s,t.context)),X(h=>(h.setFiberRefs(cu(h.id(),h.getFiberRefs())(f)),h.currentRuntimeFlags=Ai(p)(h.currentRuntimeFlags),G)))}))}),nE=d(2,(e,t)=>Array.isArray(t)?Kz(e,Xz(...t)):wne(t)?Kz(e,t):UL(t)?Dx(e,t):Dz in t?g(t.runtimeEffect,n=>Yz(e,n)):Yz(e,t));var rW=w(Wn(it),Sn(Ui)),oW=e=>Kt(it,t=>e(Sn(t,Ui))),iW=d(2,(e,t)=>At(e,it,Be(Ui,t))),sW=e=>br(it,Be(Ui,e));var aW=sB;var Fne="effect/Schedule",dW=Symbol.for(Fne),fW=e=>A(e,dW),Pne="effect/ScheduleDriver",Lne=Symbol.for(Pne),L0={start:0,now:0,input:void 0,output:void 0,elapsed:Vs,elapsedSincePrevious:Vs,recurrence:0},kh=Ro()("effect/Schedule/CurrentIterationMetadata",{defaultValue:()=>L0}),jne={_Out:e=>e,_In:e=>e,_R:e=>e},Bne={_Out:e=>e,_In:e=>e,_R:e=>e},j0=class{initial;step;[dW]=jne;constructor(t,n){this.initial=t,this.step=n}pipe(){return R(this,arguments)}},uW=(e,t,n,r)=>nu(e,o=>o.recurrence===0?{now:t,input:n,output:r,recurrence:o.recurrence+1,elapsed:Vs,elapsedSincePrevious:Vs,start:t}:{now:t,input:n,output:r,recurrence:o.recurrence+1,elapsed:Hs(t-o.start),elapsedSincePrevious:Hs(t-o.now),start:o.start}),B0=class{schedule;ref;[Lne]=Bne;constructor(t,n){this.schedule=t,this.ref=n}get state(){return w(Yt(this.ref),t=>t[1])}get last(){return g(Yt(this.ref),([t,n])=>{switch(t._tag){case"None":return gr(()=>new Kn);case"Some":return b(t.value)}})}iterationMeta=ud(L0);get reset(){return Go(this.ref,[_(),this.schedule.initial]).pipe($c(Go(this.iterationMeta,L0)))}next(t){return m(w(Yt(this.ref),n=>n[1]),g(n=>m(Fx,g(r=>m(B(()=>this.schedule.step(r,t,n)),g(([o,i,s])=>{let a=Go(this.ref,[C(i),o]);if(Rh(s))return a.pipe(pe(ee(_())));let c=Kq(s.intervals)-r;if(c<=0)return a.pipe(pe(uW(this.iterationMeta,r,t,i)),Pe(i));let u=Hs(c);return m(a,pe(uW(this.iterationMeta,r,t,i)),pe(iu(u)),Pe(i))}))))))}},Fh=(e,t)=>new j0(e,t);var Hne=e=>hW(e,wo);var Vne=d(2,(e,t)=>U0(e,(n,r)=>E(()=>t(n,r)))),U0=d(2,(e,t)=>Fh(e.initial,(n,r,o)=>g(e.step(n,r,o),([i,s,a])=>Rh(a)?b([i,s,Id]):w(t(r,s),c=>c?[i,s,a]:[i,s,Id]))));var $0=e=>m(tu([_(),e.initial]),w(t=>new B0(e,t)));var pW=d(2,(e,t)=>Une(e,t,Gq)),Une=d(3,(e,t,n)=>Fh([e.initial,t.initial],(r,o,i)=>m(qo(e.step(r,o,i[0]),t.step(r,o,i[1]),(s,a)=>[s,a]),g(([[s,a,c],[u,l,f]])=>v0(c)&&v0(f)?H0(e,t,o,s,a,c.intervals,u,l,f.intervals,n):b([[s,u],[a,l],Id]))))),H0=(e,t,n,r,o,i,s,a,c,u)=>{let l=u(i,c);return Zq(l)?b([[r,s],[o,a],rz(l)]):m(i,Yq(c))?g(e.step(m0(i),n,r),([f,p,h])=>Rh(h)?b([[f,s],[p,a],Id]):H0(e,t,n,f,p,h.intervals,s,a,c,u)):g(t.step(m0(c),n,s),([f,p,h])=>Rh(h)?b([[r,f],[o,p],Id]):H0(e,t,n,r,o,i,f,p,h.intervals,u))};var hW=d(2,(e,t)=>$ne(e,n=>E(()=>t(n)))),$ne=d(2,(e,t)=>Fh(e.initial,(n,r,o)=>g(e.step(n,r,o),([i,s,a])=>w(t(s),c=>[i,c,a]))));var qne=e=>Fh(e.initial,(t,n,r)=>m(e.step(t,n,r),w(([o,i,s])=>[o,n,s])));var q0=e=>Wne(Y0,t=>t<e);var zne=(e,t)=>Fh(e,(n,r,o)=>E(()=>[t(o),o,oz(Vq(n))]));var mW=d(2,(e,t)=>U0(e,(n,r)=>Zx(t(n))));var gW=d(2,(e,t)=>U0(e,(n,r)=>t(n))),Wne=d(2,(e,t)=>Vne(e,(n,r)=>t(r)));var rE=Symbol.for("effect/Schedule/ScheduleDefect"),V0=class{error;[rE];constructor(t){this.error=t,this[rE]=rE}},Gne=e=>A(e,rE),oE=e=>Qr(e,t=>pn(new V0(t))),Kne=e=>bt(Pc(e,t=>Tp(t)&&Gne(t.defect)?C(t.defect):_()),{onNone:()=>e,onSome:t=>Fc(t.error)}),Ph=e=>Ho(e,t=>ie(Kne(t))),lW=d(2,(e,t)=>z0(e,t,(n,r)=>ee(n))),yW=d(2,(e,t)=>{if(fW(t))return lW(e,t);let n=t.schedule??qne(Y0),r=t.while?gW(n,s=>{let a=t.while(s);return typeof a=="boolean"?b(a):oE(a)}):n,o=t.until?mW(r,s=>{let a=t.until(s);return typeof a=="boolean"?b(a):oE(a)}):r,i=t.times?pW(o,q0(t.times)).pipe(hW(s=>s[0])):o;return Ph(lW(e,i))}),z0=d(3,(e,t,n)=>g($0(t),r=>Et(e,{onFailure:o=>n(o,_()),onSuccess:o=>vW(sa(e,kh,Yt(r.iterationMeta)),r,(i,s)=>sa(n(i,s),kh,Yt(r.iterationMeta)),o)}))),vW=(e,t,n,r)=>Et(t.next(r),{onFailure:()=>Vc(t.last),onSuccess:o=>Et(e,{onFailure:i=>n(i,C(o)),onSuccess:i=>vW(e,t,n,i)})}),Nh=d(2,(e,t)=>W0(e,t,(n,r)=>ee(n))),xW=d(2,(e,t)=>fW(t)?Nh(e,t):Ph(Nh(e,iE(t)))),iE=e=>{let t=e.schedule??Y0,n=e.while?gW(t,o=>{let i=e.while(o);return typeof i=="boolean"?b(i):oE(i)}):t,r=e.until?mW(n,o=>{let i=e.until(o);return typeof i=="boolean"?b(i):oE(i)}):n;return e.times!==void 0?pW(r,q0(e.times)):r},W0=d(3,(e,t,n)=>g($0(t),r=>bW(sa(e,kh,Yt(r.iterationMeta)),r,(o,i)=>sa(n(o,i),kh,Yt(r.iterationMeta))))),bW=(e,t,n)=>Qr(e,r=>Et(t.next(r),{onFailure:()=>m(t.last,Vc,g(o=>n(r,o))),onSuccess:()=>bW(e,t,n)})),G0=d(2,(e,t)=>K0(e,void 0,t)),K0=d(3,(e,t,n)=>g($0(n),r=>EW(sa(e,kh,Yt(r.iterationMeta)),t,r))),EW=(e,t,n)=>Et(n.next(t),{onFailure:()=>Vc(n.last),onSuccess:()=>g(e,r=>EW(e,r,n))});var Y0=zne(0,e=>e+1),_W=Hne(q0(1));var CW=d(2,(e,t)=>Kb(G0(e,t)));var wW=d(2,(e,t)=>B(()=>{let n=0,r;return g(ta({while:()=>n<t.steps.length&&(r===void 0||Mo(r)),body:()=>{let o=t.steps[n],i=nE(e,o.provide);if(r){let s=!1,a=i;i=B(()=>s?a:(s=!0,r)),i=Ph(Nh(i,DW(o,!1)))}else{let s=DW(o,!0);i=s?Ph(Nh(i,s)):i}return mr(i)},step:o=>{r=o,n++}}),()=>r)})),DW=(e,t)=>{if(t){if(e.attempts===1||!(e.schedule||e.attempts))return}else return iE({schedule:e.schedule?e.schedule:e.attempts?void 0:_W,times:e.attempts,while:e.while});return iE({schedule:e.schedule,while:e.while,times:e.attempts?e.attempts-1:void 0})};var Z0=U(Symbol.for("effect/FiberRef/currentCache"),()=>Ge(Aq(65536,()=>w(Yn(),e=>({listeners:new bd,handle:e})),()=>pw(60)))),J0=U(Symbol.for("effect/FiberRef/currentCacheEnabled"),()=>Ge(!1)),IW=(e,t)=>g(xe(t)?t:b(t),n=>Tn(r=>{let o=new Proxy(e,{});return Kt(J0,i=>{if(i){let a=Kt(Z0,c=>g(c.getEither(o),u=>{switch(u._tag){case"Left":return u.left.listeners.interrupted?g(c.invalidateWhen(o,l=>l.handle===u.left.handle),()=>a):(u.left.listeners.increment(),Xe(l=>g(We(Fi(fj,l(kt(u.left.handle)))),f=>(u.left.listeners.decrement(),f))));case"Right":return u.right.listeners.increment(),Xe(l=>g(We(Fi(cI(n,uI({request:o,result:u.right.handle,listeners:u.right.listeners,ownerId:r,state:{completed:!1}})),l(kt(u.right.handle)))),()=>(u.right.listeners.decrement(),kt(u.right.handle))))}}));return a}let s=new bd;return s.increment(),g(Yn(),a=>Er(Fi(cI(n,uI({request:o,result:a,listeners:s,ownerId:r,state:{completed:!1}})),kt(a)),E(()=>s.decrement())))})})),MW=(e,t)=>Kt(J0,n=>n?Kt(Z0,r=>g(r.getEither(e),o=>{switch(o._tag){case"Left":return G;case"Right":return AI(o.right.handle,t)}})):G),TW=d(2,(e,t)=>ot(e,J0,t)),OW=d(2,(e,t)=>ot(e,Z0,t));var RW=x$;var Jne=Pi,Qne=xe,Xne=pz,ere=S0,tre=NM,nre=vz,rre=FM,ore=fa,ire=iq,sre=sq,are=hH,cre=mH,ure=uV,lre=lV,dre=wH,fre=nq,pre=oq,hre=yH,mre=_H,gre=Qn,yre=MH,vre=YT,xre=ZT,bre=XH,Ere=tV,_re=eV,Cre=dq,Sre=KT,Dre=aq,wre=uq,Ire=gq,Mre=sn,Tre=zz,Ore=Pp,Rre=X,Are=ee,kre=gr,FW=ie,Nre=Ys,Q0=pn,Fre=Gs,Pre=Ks,Lre=px,jre=qc,Bre=WH,Hre=JH,Vre=b,X0=su,Ure=aV,$re=B,qre=E,zre=G;var Wre=$o,Gre=XB;var Kre=Qr,Yre=Ho,Zre=eH,Jre=jp,Qre=Hj,Xre=tH,eoe=nH,toe=rH,noe=oH,roe=iH,ooe=OM,ioe=Yx,soe=TH,aoe=ZH,coe=iV,uoe=xW,loe=wW,doe=W0,foe=TM;var poe=yV,hoe=vV,moe=BM,goe=EV,yoe=cH,voe=Vj,xoe=Iq,boe=ux,Eoe=lx,_oe=Li,Coe=Uj,Soe=Uo,Doe=ji,woe=Xe,Ioe=bH,Moe=Pe,Toe=ld,Ooe=QB,Roe=Qe,Aoe=Qs,koe=DH,gu=w,Noe=qH,Foe=Hp,Poe=Xs,Loe=fd,joe=zH,Boe=Zx,Hoe=Dh,Voe=eq,Uoe=ix,$oe=Dd,qoe=Er,zoe=dx,Woe=hn,Goe=jb,Koe=Bb,Yoe=fq,Zoe=e0,Joe=mu,Qoe=Mh,Xoe=JT,eie=hq,tie=bq,nie=fz,rie=tq,oie=uH,iie=Gx,sie=dd,aie=hz,cie=Gb,uie=Zs,lie=Tn,die=Xi,fie=wh,pie=mz,hie=D0,mie=Kb,gie=cq,yie=gz,vie=yz,xie=w0,bie=fx,Eie=qj,_ie=gU,Cie=wI,Sie=n2,Die=sH,wie=Ko,Iie=yq,Mie=hB,Tie=rW,Oie=oW,Rie=sW,Aie=iW,kie=aH,Nie=iu,Fie=mV,Pie=jM,Lie=bz,jie=_z,Bie=I0,Hie=Ez,Vie=Ah,Uie=gB,$ie=mB,qie=xq,zie=Zn,Wie=gH,Gie=yr,Kie=Jc,Yie=nE,Zie=ia,Jie=sa,Qie=IV,Xie=wV,ese=HM,tse=VM,nse=MV,rse=TV,ose=UM,ise=_V,sse=lH,ase=dH,cse=Cz,use=fH,lse=pH;var dse=GH,fse=mr,pse=We,hse=Vo,mse=cx;var gse=vH,yse=xH,vse=oh,xse=EH,bse=FI,Ese=m2,_se=xV,Cse=bV,Sse=Qx,Dse=Ql,wse=CV,Ise=SV,Mse=g,Tse=Js,Ose=On,Rse=Ub,Ase=lq,kse=xz,Nse=r0,Fse=sh,Pse=Xr,Lse=dV,jse=fV,Bse=LM,Hse=pV,Vse=hV,Use=RM,$se=AM,qse=VH,zse=yW,Wse=rV,Gse=z0,Kse=G0,Yse=CW,Zse=K0,Jse=ta,Qse=Kx,Xse=OH,eae=ot,tae=At,nae=Vb,rae=br,oae=ou,iae=sV,sae=Jx,aae=RH,cae=AH,uae=ih,lae=Bp,dae=He,fae=Et,pae=kH,hae=(e,...t)=>Gi(e)(...t),mae=NH,gae=kM,yae=FH,vae=PH,xae=LH,bae=jH,Eae=BH,_ae=JB,Cae=Q$,Sae=HH,Dae=o2,wae=X$,Iae=Vc,Mae=EI,Tae=Hc,Oae=KH,Rae=YH,Aae=SH,kae=QH,Nae=kx,PW=yB,Fae=d(2,(e,t)=>PW(e,aW(t))),Pae=vq,Lae=Xb,jae=Jl,Bae=ea,Hae=hx,Vae=Sq,Uae=cV,$ae=PM,qae=pq,zae=QT,Wae=i2,Gae=DV,Kae=Wb,Yae=lz,Zae=C0,Jae=dz,Qae=Hz,Xae=Bz,ece=Vz,tce=Uz,nce=$z,rce=qz,oce=mq,ice=XT,sce=Eq,ace=_q,cce=Cq,LW=es,uce=d(2,(e,t)=>LW(e,t,(n,r)=>n(r))),lce=Fi,dce=ox,fce=ax,pce=d(e=>RW(e[0]),IW),hce=MW,mce=zj,gce=TW,yce=OW,vce=gV,xce=Nx,bce=vB,Ece=Mq,_ce=Wj,Cce=Gj,Sce=AV,Dce=OV,wce=Xx,Ice=kV,Mce=jV,Tce=BV,Oce=NV,Rce=RV,Ace=LV,kce=Sh,Nce=zx,jW=qM,Fce=HV,Pce=Tq,Lce=Wx,jce=VV,Bce=UV,Hce=e=>gc(e)?X0:gu(e.value,cr),Vce=d(2,(e,t)=>gc(e)?X0:gu(t(e.value),cr)),BW=e=>{let t=new Map;return new Proxy(e,{get(n,r,o){if(r in n)return Reflect.get(n,r,o);if(t.has(r))return t.get(r);let i=(...f)=>Js(n,p=>typeof p[r]=="function"?(t.set(r,(...h)=>Js(n,y=>y[r](...h))),p[r](...f)):(t.set(r,Js(n,h=>h[r])),p[r])),s=Js(n,f=>f[r]);Object.assign(i,s);let a=i.apply,c=i.bind,u=i.call,l=Object.setPrototypeOf({},Object.getPrototypeOf(s));return l.apply=a,l.bind=c,l.call=u,Object.setPrototypeOf(i,l),t.set(r,i),i}})},Uce=e=>()=>{let t=Error.stackTraceLimit;Error.stackTraceLimit=2;let n=new Error;Error.stackTraceLimit=t;function r(){}return Object.setPrototypeOf(r,up),r.key=e,Object.defineProperty(r,"use",{get(){return o=>Js(this,o)}}),Object.defineProperty(r,"stack",{get(){return n.stack}}),BW(r)},$ce=function(){return function(){let[e,t]=arguments,n="accessors"in t?t.accessors:!1,r=Error.stackTraceLimit;Error.stackTraceLimit=2;let o=new Error;Error.stackTraceLimit=r;let i="unchecked",s=function(f){if(i==="unchecked"){let p=Object.getPrototypeOf(f);if(p===Object.prototype||p===null)i="plain";else{let h=Object.getPrototypeOf(this);Object.setPrototypeOf(h,p),i="patched"}}if(i==="plain")Object.assign(this,f);else if(i==="patched")return Object.setPrototypeOf(f,Object.getPrototypeOf(this)),f};s.prototype._tag=e,Object.defineProperty(s,"make",{get(){return f=>new this(f)}}),Object.defineProperty(s,"use",{get(){return f=>Js(this,f)}}),s.key=e,Object.assign(s,up),Object.defineProperty(s,"stack",{get(){return o.stack}});let a="dependencies"in t&&t.dependencies.length>0,c=a?"DefaultWithoutDependencies":"Default",u,l=!1;if("effect"in t?(l=typeof t.effect=="function",Object.defineProperty(s,c,{get(){return l?function(){return N0(s,gu(t.effect.apply(null,arguments),f=>new this(f)))}.bind(this):u??=N0(s,gu(t.effect,f=>new this(f)))}})):"scoped"in t?(l=typeof t.scoped=="function",Object.defineProperty(s,c,{get(){return l?function(){return F0(s,gu(t.scoped.apply(null,arguments),f=>new this(f)))}.bind(this):u??=F0(s,gu(t.scoped,f=>new this(f)))}})):"sync"in t?Object.defineProperty(s,c,{get(){return u??=tW(s,()=>new this(t.sync()))}}):Object.defineProperty(s,c,{get(){return u??=eW(s,new this(t.succeed))}}),a){let f;Object.defineProperty(s,"Default",{get(){return l?function(){return P0(this.DefaultWithoutDependencies.apply(null,arguments),t.dependencies)}:f??=P0(this.DefaultWithoutDependencies,t.dependencies)}})}return n===!0?BW(s):s}},qce=function(e,...t){let n=Error.stackTraceLimit;Error.stackTraceLimit=2;let r=new Error;if(Error.stackTraceLimit=n,typeof e!="string")return kW(e.length,function(...s){let a=Error.stackTraceLimit;Error.stackTraceLimit=2;let c=new Error;return Error.stackTraceLimit=a,NW({self:this,body:e,args:s,pipeables:t,spanName:"<anonymous>",spanOptions:{context:sd.context(!0)},errorDef:r,errorCall:c})});let o=e,i=t[0];return(s,...a)=>kW(s.length,{[o](...c){let u=Error.stackTraceLimit;Error.stackTraceLimit=2;let l=new Error;return Error.stackTraceLimit=u,NW({self:this,body:s,args:c,pipeables:a,spanName:o,spanOptions:i,errorDef:r,errorCall:l})}}[o])};function kW(e,t){return Object.defineProperty(t,"length",{value:e,configurable:!0})}function NW(e){let t,n;if(VP(e.body))t=Np(()=>e.body.apply(e.self,e.args));else try{t=e.body.apply(e.self,e.args)}catch(s){n=s,t=Q0(s)}if(e.pipeables.length>0)try{for(let s of e.pipeables)t=s(t,...e.args)}catch(s){t=n?FW(Ze(Rt(n),Rt(s))):Q0(s)}let r=!1,o=()=>{if(r!==!1)return r;if(e.errorCall.stack){let s=e.errorDef.stack.trim().split(`
`),a=e.errorCall.stack.trim().split(`
`),c=s.slice(2).join(`
`).trim();c.includes("(")||(c=c.replace(/at (.*)/,"at ($1)"));let u=a.slice(2).join(`
`).trim();return u.includes("(")||(u=u.replace(/at (.*)/,"at ($1)")),r=`${c}
${u}`,r}},i=e.spanOptions&&"captureStackTrace"in e.spanOptions?e.spanOptions:x({captureStackTrace:o},e.spanOptions);return jW(t,e.spanName,i)}var zce=Xl,Wce=()=>e=>e,Gce=()=>e=>e,Kce=()=>e=>e;var sE=class{getAudioBuffer(t){return be(this,null,function*(){try{let n=yield fetch(`assets/sounds/${t}`);if(!n.ok)return Ee.none();let r=yield n.arrayBuffer(),o=yield new AudioContext().decodeAudioData(r);return Ee.some(o)}catch(n){return Ee.none()}})}};var VW=(()=>{class e{constructor(n,r){this.zone=n,this.tempoService=r,this.audioFilesService=new sE,this.tracks=[],this.index=cc(0),this.isPlaying=!1,this.trackStepMap=new Map,this.trackSampleBuilderMap=new Map,this.pause=()=>{this.isPlaying=!1,this.clock.stop()},this.uiNextStep=()=>{this.zone.run(()=>{let o=Math.floor(this.context.currentTime/this.tempoService.stepDuration);this.index=cc(o%this.tempoService.numberOfSteps)})},this.context=new AudioContext,document.addEventListener("click",this.resumeAudioContext.bind(this),{once:!0})}resumeAudioContext(){this.context.state==="suspended"&&this.context.resume().then(()=>{}).catch(n=>{console.error("Failed to resume AudioContext",n)})}play(){this.isPlaying=!0,this.clock=new HW.default(this.context,{toleranceEarly:.1}),this.clock.start(),this.tracks.forEach(n=>{n.steps.steps.forEach((r,o)=>{r&&this.enableStep(n.fileName,cc(o))})}),this.clock.callbackAtTime(this.uiNextStep,this.tempoService.getNextStepTime(bl(this.context.currentTime),cc(0))).repeat(this.tempoService.stepDuration).tolerance({late:100})}setTracks(n){this.isPlaying&&this.pause(),this.tracks=n;let o=n.map(i=>i.fileName).map(i=>this.audioFilesService.getAudioBuffer(i).then(s=>{if(Ee.isNone(s))return;let a=()=>{let c=this.context.createBufferSource();return c.buffer=Ee.getOrThrow(s),c.connect(this.context.destination),c};this.trackSampleBuilderMap.set(i,a)}));Promise.all(o).then(()=>{}).catch(()=>{})}playPause(){this.isPlaying?this.pause():this.play()}enableStep(n,r){if(!this.clock)return;let o=this.clock.callbackAtTime(i=>{let s=this.trackSampleBuilderMap.get(n);if(s==null)return;s().start(i.deadline)},this.tempoService.getNextStepTime(bl(this.context.currentTime),r));o.repeat(this.tempoService.barDuration),this.trackStepMap.get(n)||this.trackStepMap.set(n,new Map),this.trackStepMap.get(n).set(r,o)}disableStep(n,r){let o=this.trackStepMap.get(n);o&&o.get(r).clear()}playTrack(n){let r=this.trackSampleBuilderMap.get(n);if(r==null)return;let o=r();o.connect(this.context.destination),o.start()}static{this.\u0275fac=function(r){return new(r||e)(L(we),L(Py))}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var UW=(()=>{class e{constructor(n){this.http=n,this.loadAllBeats=r=>ma.all(r.map(o=>this.fromObservable(()=>this.http.get(`/assets/beats/${o}.json`)).pipe(ma.catchAll(()=>ma.succeed(null)))),{discard:!1}),this.fromObservable=r=>ma.tryPromise({try:()=>Hd(r()),catch:o=>o})}loadAllJson(){let n=["hypnotic-techno/tresillo","hypnotic-techno/son-clave"].concat("techno/techno","techno/off-beat-clap").concat("hardcore-techno/gabber").concat("psytrance/psytrance").concat("dub/dub").concat("dancehall/standard").concat("hip-hop/trap").concat("metal/metal","metal/metal-blastbeat","metal/half-time-groove").concat("rock/rock","rock/variation").concat("punk/punk-beat-quarter-note-groove","punk/punk-beat-quarter-note-groove-variation","punk/punk-beat-eight-note-fill");return Ve(ma.runPromise(this.loadAllBeats(n)))}static{this.\u0275fac=function(r){return new(r||e)(L(Ds))}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var eO=new k("TRANSLATE_HTTP_LOADER_CONFIG"),Yce=(()=>{class e{http;config;constructor(){this.config=x({prefix:"/assets/i18n/",suffix:".json",enforceLoading:!1,useHttpBackend:!1},v(eO)),this.http=this.config.useHttpBackend?new Ds(v(tl)):v(Ds)}getTranslation(n){let r=this.config.enforceLoading?`?enforceLoading=${Date.now()}`:"";return this.http.get(`${this.config.prefix}${n}${this.config.suffix}${r}`)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac})}return e})();function $W(e={}){let t=e.useHttpBackend??!1;return[{provide:eO,useValue:e},{provide:Os,useClass:Yce,deps:[t?tl:Ds,eO]}]}var qW=[{path:"",component:SP}];pD.forRoot(qW,{onSameUrlNavigation:"reload"});var zW=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=Dt({type:e,bootstrap:[cP]})}static{this.\u0275inj=vt({providers:[{provide:Xg,useClass:DP,multi:!0},{provide:By,useClass:UW},{provide:Fy,useClass:VW},{provide:Ny,useClass:wP},lD(qW,fD()),NS(FS()),Xk(),sP({lang:"fr",fallbackLang:"en",loader:$W({prefix:"./assets/i18n/",suffix:".json"})})],imports:[IS,VF,vl,ky]})}}return e})();var WW={production:!0,httpClientInMemory:!0};WW.production&&void 0;wS().bootstrapModule(zW).catch(e=>console.error(e));
