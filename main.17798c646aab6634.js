"use strict";(self.webpackChunkDrumBeatRepo=self.webpackChunkDrumBeatRepo||[]).push([[792],{486:()=>{function Eu(e,t,n,r,o,s,i){try{var a=e[s](i),c=a.value}catch(l){return void n(l)}a.done?t(c):Promise.resolve(c).then(r,o)}function To(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var s=e.apply(t,n);function i(c){Eu(s,r,o,i,a,"next",c)}function a(c){Eu(s,r,o,i,a,"throw",c)}i(void 0)})}}let dt=null,$h=1;const _i=Symbol("SIGNAL");function ce(e){const t=dt;return dt=e,t}function GM(e){if((!wu(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==$h)){if(!e.producerMustRecompute(e)&&!nv(e))return e.dirty=!1,void(e.lastCleanEpoch=$h);e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=$h}}function nv(e){Va(e);for(let t=0;t<e.producerNode.length;t++){const n=e.producerNode[t],r=e.producerLastReadVersion[t];if(r!==n.version||(GM(n),r!==n.version))return!0}return!1}function Hh(e,t){if(function n0(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}(e),Va(e),1===e.liveConsumerNode.length)for(let r=0;r<e.producerNode.length;r++)Hh(e.producerNode[r],e.producerIndexOfThis[r]);const n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){const r=e.liveConsumerIndexOfThis[t],o=e.liveConsumerNode[t];Va(o),o.producerIndexOfThis[r]=t}}function wu(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Va(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}let r0=null;function Ze(e){return"function"==typeof e}function ov(e){const n=e(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const sv=ov(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,o)=>`${o+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function qh(e,t){if(e){const n=e.indexOf(t);0<=n&&e.splice(n,1)}}class gn{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(Ze(r))try{r()}catch(s){t=s instanceof sv?s.errors:[s]}const{_finalizers:o}=this;if(o){this._finalizers=null;for(const s of o)try{l0(s)}catch(i){t=t??[],i instanceof sv?t=[...t,...i.errors]:t.push(i)}}if(t)throw new sv(t)}}add(t){var n;if(t&&t!==this)if(this.closed)l0(t);else{if(t instanceof gn){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}}_hasParent(t){const{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){const{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&qh(n,t)}remove(t){const{_finalizers:n}=this;n&&qh(n,t),t instanceof gn&&t._removeParent(this)}}gn.EMPTY=(()=>{const e=new gn;return e.closed=!0,e})();const a0=gn.EMPTY;function c0(e){return e instanceof gn||e&&"closed"in e&&Ze(e.remove)&&Ze(e.add)&&Ze(e.unsubscribe)}function l0(e){Ze(e)?e():e.unsubscribe()}const yi={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},zh={setTimeout(e,t,...n){const{delegate:r}=zh;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){const{delegate:t}=zh;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function u0(e){zh.setTimeout(()=>{const{onUnhandledError:t}=yi;if(!t)throw e;t(e)})}function iv(){}const n3=av("C",void 0,void 0);function av(e,t,n){return{kind:e,value:t,error:n}}let vi=null;function Wh(e){if(yi.useDeprecatedSynchronousErrorHandling){const t=!vi;if(t&&(vi={errorThrown:!1,error:null}),e(),t){const{errorThrown:n,error:r}=vi;if(vi=null,n)throw r}}else e()}class cv extends gn{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,c0(t)&&t.add(this)):this.destination=l3}static create(t,n,r){return new Cu(t,n,r)}next(t){this.isStopped?uv(function o3(e){return av("N",e,void 0)}(t),this):this._next(t)}error(t){this.isStopped?uv(function r3(e){return av("E",void 0,e)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?uv(n3,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const i3=Function.prototype.bind;function lv(e,t){return i3.call(e,t)}class a3{constructor(t){this.partialObserver=t}next(t){const{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){Xh(r)}}error(t){const{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){Xh(r)}else Xh(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){Xh(n)}}}class Cu extends cv{constructor(t,n,r){let o;if(super(),Ze(t)||!t)o={next:t??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&yi.useDeprecatedNextContext?(s=Object.create(t),s.unsubscribe=()=>this.unsubscribe(),o={next:t.next&&lv(t.next,s),error:t.error&&lv(t.error,s),complete:t.complete&&lv(t.complete,s)}):o=t}this.destination=new a3(o)}}function Xh(e){yi.useDeprecatedSynchronousErrorHandling?function s3(e){yi.useDeprecatedSynchronousErrorHandling&&vi&&(vi.errorThrown=!0,vi.error=e)}(e):u0(e)}function uv(e,t){const{onStoppedNotification:n}=yi;n&&zh.setTimeout(()=>n(e,t))}const l3={closed:!0,next:iv,error:function c3(e){throw e},complete:iv},fv="function"==typeof Symbol&&Symbol.observable||"@@observable";function bi(e){return e}function f0(e){return 0===e.length?bi:1===e.length?e[0]:function(n){return e.reduce((r,o)=>o(r),n)}}let et=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,o){const s=function d3(e){return e&&e instanceof cv||function f3(e){return e&&Ze(e.next)&&Ze(e.error)&&Ze(e.complete)}(e)&&c0(e)}(n)?n:new Cu(n,r,o);return Wh(()=>{const{operator:i,source:a}=this;s.add(i?i.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=d0(r))((o,s)=>{const i=new Cu({next:a=>{try{n(a)}catch(c){s(c),i.unsubscribe()}},error:s,complete:o});this.subscribe(i)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[fv](){return this}pipe(...n){return f0(n)(this)}toPromise(n){return new(n=d0(n))((r,o)=>{let s;this.subscribe(i=>s=i,i=>o(i),()=>r(s))})}}return e.create=t=>new e(t),e})();function d0(e){var t;return null!==(t=e??yi.Promise)&&void 0!==t?t:Promise}const h3=ov(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Vt=(()=>{class e extends et{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new h0(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new h3}next(n){Wh(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){Wh(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Wh(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:o,observers:s}=this;return r||o?a0:(this.currentObservers=null,s.push(n),new gn(()=>{this.currentObservers=null,qh(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:o,isStopped:s}=this;r?n.error(o):s&&n.complete()}asObservable(){const n=new et;return n.source=this,n}}return e.create=(t,n)=>new h0(t,n),e})();class h0 extends Vt{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,t)}error(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,t)}complete(){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===n||n.call(t)}_subscribe(t){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(t))&&void 0!==r?r:a0}}class Mn extends Vt{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){const{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}function p0(e){return Ze(e?.lift)}function Mt(e){return t=>{if(p0(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Tt(e,t,n,r,o){return new p3(e,t,n,r,o)}class p3 extends cv{constructor(t,n,r,o,s,i){super(t),this.onFinalize=s,this.shouldUnsubscribe=i,this._next=n?function(a){try{n(a)}catch(c){t.error(c)}}:super._next,this._error=o?function(a){try{o(a)}catch(c){t.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function le(e,t){return Mt((n,r)=>{let o=0;n.subscribe(Tt(r,s=>{r.next(e.call(t,s,o++))}))})}class k extends Error{constructor(t,n){super(function $a(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}(t,n)),this.code=t}}function Ro(e){return{toString:e}.toString()}const qa="__parameters__";function Wa(e,t,n){return Ro(()=>{const r=function dv(e){return function(...n){if(e){const r=e(...n);for(const o in r)this[o]=r[o]}}}(t);function o(...s){if(this instanceof o)return r.apply(this,s),this;const i=new o(...s);return a.annotation=i,a;function a(c,l,u){const f=c.hasOwnProperty(qa)?c[qa]:Object.defineProperty(c,qa,{value:[]})[qa];for(;f.length<=u;)f.push(null);return(f[u]=f[u]||[]).push(i),c}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=e,o.annotationCls=o,o})}const Ae=globalThis;function Ne(e){for(let t in e)if(e[t]===Ne)return t;throw Error("Could not find renamed property on target object.")}function g3(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function Rt(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(Rt).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function hv(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const m3=Ne({__forward_ref__:Ne});function pv(e){return e.__forward_ref__=pv,e.toString=function(){return Rt(this())},e}function G(e){return Kh(e)?e():e}function Kh(e){return"function"==typeof e&&e.hasOwnProperty(m3)&&e.__forward_ref__===pv}function F(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Oo(e){return{providers:e.providers||[],imports:e.imports||[]}}function Yh(e){return v0(e,Jh)||v0(e,b0)}function v0(e,t){return e.hasOwnProperty(t)?e[t]:null}function Qh(e){return e&&(e.hasOwnProperty(gv)||e.hasOwnProperty(S3))?e[gv]:null}const Jh=Ne({\u0275prov:Ne}),gv=Ne({\u0275inj:Ne}),b0=Ne({ngInjectableDef:Ne}),S3=Ne({ngInjectorDef:Ne});class P{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=F({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function bv(e){return e&&!!e.\u0275providers}const Du=Ne({\u0275cmp:Ne}),Ev=Ne({\u0275dir:Ne}),Sv=Ne({\u0275pipe:Ne}),S0=Ne({\u0275mod:Ne}),ko=Ne({\u0275fac:Ne}),Iu=Ne({__NG_ELEMENT_ID__:Ne}),w0=Ne({__NG_ENV_ID__:Ne});function te(e){return"string"==typeof e?e:null==e?"":String(e)}function wv(e,t){throw new k(-201,!1)}var he=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(he||{});let Cv;function C0(){return Cv}function Tn(e){const t=Cv;return Cv=e,t}function D0(e,t,n){const r=Yh(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&he.Optional?null:void 0!==t?t:void wv()}const Mu={},Dv="__NG_DI_FLAG__",Zh="ngTempTokenPath",T3=/\n/gm,I0="__source";let Xa;function bs(e){const t=Xa;return Xa=e,t}function k3(e,t=he.Default){if(void 0===Xa)throw new k(-203,!1);return null===Xa?D0(e,void 0,t):Xa.get(e,t&he.Optional?null:void 0,t)}function j(e,t=he.Default){return(C0()||k3)(G(e),t)}function A(e,t=he.Default){return j(e,ep(t))}function ep(e){return typeof e>"u"||"number"==typeof e?e:(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Iv(e){const t=[];for(let n=0;n<e.length;n++){const r=G(e[n]);if(Array.isArray(r)){if(0===r.length)throw new k(900,!1);let o,s=he.Default;for(let i=0;i<r.length;i++){const a=r[i],c=A3(a);"number"==typeof c?-1===c?o=a.token:s|=c:o=a}t.push(j(o,s))}else t.push(j(r))}return t}function Tu(e,t){return e[Dv]=t,e.prototype[Dv]=t,e}function A3(e){return e[Dv]}const Mv=Tu(Wa("Optional"),8),Tv=Tu(Wa("SkipSelf"),4);function Ei(e,t){return e.hasOwnProperty(ko)?e[ko]:null}function Ga(e,t){e.forEach(n=>Array.isArray(n)?Ga(n,t):t(n))}function T0(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function tp(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Bn(e,t,n){let r=Ka(e,t);return r>=0?e[1|r]=n:(r=~r,function R0(e,t,n,r){let o=e.length;if(o==t)e.push(n,r);else if(1===o)e.push(r,e[0]),e[0]=n;else{for(o--,e.push(e[o-1],e[o]);o>t;)e[o]=e[o-2],o--;e[t]=n,e[t+1]=r}}(e,r,t,n)),r}function Ov(e,t){const n=Ka(e,t);if(n>=0)return e[1|n]}function Ka(e,t){return function O0(e,t,n){let r=0,o=e.length>>n;for(;o!==r;){const s=r+(o-r>>1),i=e[s<<n];if(t===i)return s<<n;i>t?o=s:r=s+1}return~(o<<n)}(e,t,1)}const Gr={},we=[],Si=new P(""),k0=new P("",-1),kv=new P("");class rp{get(t,n=Mu){if(n===Mu){const r=new Error(`NullInjectorError: No provider for ${Rt(t)}!`);throw r.name="NullInjectorError",r}return n}}var op=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(op||{}),Tr=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Tr||{}),Rr=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(Rr||{});function B3(e,t,n){let r=e.length;for(;;){const o=e.indexOf(t,n);if(-1===o)return o;if(0===o||e.charCodeAt(o-1)<=32){const s=t.length;if(o+s===r||e.charCodeAt(o+s)<=32)return o}n=o+1}}function Av(e,t,n){let r=0;for(;r<n.length;){const o=n[r];if("number"==typeof o){if(0!==o)break;r++;const s=n[r++],i=n[r++],a=n[r++];e.setAttribute(t,i,a,s)}else{const s=o,i=n[++r];x0(s)?e.setProperty(t,s,i):e.setAttribute(t,s,i),r++}}return r}function A0(e){return 3===e||4===e||6===e}function x0(e){return 64===e.charCodeAt(0)}function Ru(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const o=t[r];"number"==typeof o?n=o:0===n||N0(e,n,o,null,-1===n||2===n?t[++r]:null)}}return e}function N0(e,t,n,r,o){let s=0,i=e.length;if(-1===t)i=-1;else for(;s<e.length;){const a=e[s++];if("number"==typeof a){if(a===t){i=-1;break}if(a>t){i=s-1;break}}}for(;s<e.length;){const a=e[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==o&&(e[s+1]=o));if(r===e[s+1])return void(e[s+2]=o)}s++,null!==r&&s++,null!==o&&s++}-1!==i&&(e.splice(i,0,t),s=i+1),e.splice(s++,0,n),null!==r&&e.splice(s++,0,r),null!==o&&e.splice(s++,0,o)}const P0="ng-template";function U3(e,t,n,r){let o=0;if(r){for(;o<t.length&&"string"==typeof t[o];o+=2)if("class"===t[o]&&-1!==B3(t[o+1].toLowerCase(),n,0))return!0}else if(xv(e))return!1;if(o=t.indexOf(1,o),o>-1){let s;for(;++o<t.length&&"string"==typeof(s=t[o]);)if(s.toLowerCase()===n)return!0}return!1}function xv(e){return 4===e.type&&e.value!==P0}function V3(e,t,n){return t===(4!==e.type||n?e.value:P0)}function $3(e,t,n){let r=4;const o=e.attrs,s=null!==o?function z3(e){for(let t=0;t<e.length;t++)if(A0(e[t]))return t;return e.length}(o):0;let i=!1;for(let a=0;a<t.length;a++){const c=t[a];if("number"!=typeof c){if(!i)if(4&r){if(r=2|1&r,""!==c&&!V3(e,c,n)||""===c&&1===t.length){if(Or(r))return!1;i=!0}}else if(8&r){if(null===o||!U3(e,o,c,n)){if(Or(r))return!1;i=!0}}else{const l=t[++a],u=H3(c,o,xv(e),n);if(-1===u){if(Or(r))return!1;i=!0;continue}if(""!==l){let f;if(f=u>s?"":o[u+1].toLowerCase(),2&r&&l!==f){if(Or(r))return!1;i=!0}}}}else{if(!i&&!Or(r)&&!Or(c))return!1;if(i&&Or(c))continue;i=!1,r=c|1&r}}return Or(r)||i}function Or(e){return!(1&e)}function H3(e,t,n,r){if(null===t)return-1;let o=0;if(r||!n){let s=!1;for(;o<t.length;){const i=t[o];if(i===e)return o;if(3===i||6===i)s=!0;else{if(1===i||2===i){let a=t[++o];for(;"string"==typeof a;)a=t[++o];continue}if(4===i)break;if(0===i){o+=4;continue}}o+=s?1:2}return-1}return function W3(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function F0(e,t,n=!1){for(let r=0;r<t.length;r++)if($3(e,t[r],n))return!0;return!1}function L0(e,t){return e?":not("+t.trim()+")":t}function G3(e){let t=e[0],n=1,r=2,o="",s=!1;for(;n<e.length;){let i=e[n];if("string"==typeof i)if(2&r){const a=e[++n];o+="["+i+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?o+="."+i:4&r&&(o+=" "+i);else""!==o&&!Or(i)&&(t+=L0(s,o),o=""),r=i,s=s||!Or(r);n++}return""!==o&&(t+=L0(s,o)),t}function Es(e){return Ro(()=>{const t=B0(e),n={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===op.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Tr.Emulated,styles:e.styles||we,_:null,schemas:e.schemas||null,tView:null,id:""};U0(n);const r=e.dependencies;return n.directiveDefs=sp(r,!1),n.pipeDefs=sp(r,!0),n.id=function eq(e){let t=0;const n=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const o of n)t=Math.imul(31,t)+o.charCodeAt(0)|0;return t+=2147483648,"c"+t}(n),n})}function Q3(e){return de(e)||Ot(e)}function J3(e){return null!==e}function Ss(e){return Ro(()=>({type:e.type,bootstrap:e.bootstrap||we,declarations:e.declarations||we,imports:e.imports||we,exports:e.exports||we,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function j0(e,t){if(null==e)return Gr;const n={};for(const r in e)if(e.hasOwnProperty(r)){const o=e[r];let s,i,a=Rr.None;Array.isArray(o)?(a=o[0],s=o[1],i=o[2]??s):(s=o,i=o),t?(n[s]=a!==Rr.None?[r,a]:r,t[s]=i):n[s]=r}return n}function mn(e){return Ro(()=>{const t=B0(e);return U0(t),t})}function On(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function de(e){return e[Du]||null}function Ot(e){return e[Ev]||null}function Kt(e){return e[Sv]||null}function tn(e,t){const n=e[S0]||null;if(!n&&!0===t)throw new Error(`Type ${Rt(e)} does not have '\u0275mod' property.`);return n}function B0(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||Gr,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||we,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:j0(e.inputs,t),outputs:j0(e.outputs),debugInfo:null}}function U0(e){e.features?.forEach(t=>t(e))}function sp(e,t){if(!e)return null;const n=t?Kt:Q3;return()=>("function"==typeof e?e():e).map(r=>n(r)).filter(J3)}function Ya(e){return{\u0275providers:e}}function tq(...e){return{\u0275providers:Nv(0,e),\u0275fromNgModule:!0}}function Nv(e,...t){const n=[],r=new Set;let o;const s=i=>{n.push(i)};return Ga(t,i=>{const a=i;ip(a,s,[],r)&&(o||=[],o.push(a))}),void 0!==o&&V0(o,s),n}function V0(e,t){for(let n=0;n<e.length;n++){const{ngModule:r,providers:o}=e[n];Pv(o,s=>{t(s,r)})}}function ip(e,t,n,r){if(!(e=G(e)))return!1;let o=null,s=Qh(e);const i=!s&&de(e);if(s||i){if(i&&!i.standalone)return!1;o=e}else{const c=e.ngModule;if(s=Qh(c),!s)return!1;o=c}const a=r.has(o);if(i){if(a)return!1;if(r.add(o),i.dependencies){const c="function"==typeof i.dependencies?i.dependencies():i.dependencies;for(const l of c)ip(l,t,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let l;r.add(o);try{Ga(s.imports,u=>{ip(u,t,n,r)&&(l||=[],l.push(u))})}finally{}void 0!==l&&V0(l,t)}if(!a){const l=Ei(o)||(()=>new o);t({provide:o,useFactory:l,deps:we},o),t({provide:kv,useValue:o,multi:!0},o),t({provide:Si,useValue:()=>j(o),multi:!0},o)}const c=s.providers;if(null!=c&&!a){const l=e;Pv(c,u=>{t(u,l)})}}}return o!==e&&void 0!==e.providers}function Pv(e,t){for(let n of e)bv(n)&&(n=n.\u0275providers),Array.isArray(n)?Pv(n,t):t(n)}const nq=Ne({provide:String,useValue:Ne});function Fv(e){return null!==e&&"object"==typeof e&&nq in e}function wi(e){return"function"==typeof e}const Lv=new P(""),ap={},oq={};let jv;function cp(){return void 0===jv&&(jv=new rp),jv}class Un{}class Qa extends Un{get destroyed(){return this._destroyed}constructor(t,n,r,o){super(),this.parent=n,this.source=r,this.scopes=o,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Uv(t,i=>this.processProvider(i)),this.records.set(k0,Ja(void 0,this)),o.has("environment")&&this.records.set(Un,Ja(void 0,this));const s=this.records.get(Lv);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(kv,we,he.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const t=ce(null);try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ce(t)}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const n=bs(this),r=Tn(void 0);try{return t()}finally{bs(n),Tn(r)}}get(t,n=Mu,r=he.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(w0))return t[w0](this);r=ep(r);const s=bs(this),i=Tn(void 0);try{if(!(r&he.SkipSelf)){let c=this.records.get(t);if(void 0===c){const l=function lq(e){return"function"==typeof e||"object"==typeof e&&e instanceof P}(t)&&Yh(t);c=l&&this.injectableDefInScope(l)?Ja(Bv(t),ap):null,this.records.set(t,c)}if(null!=c)return this.hydrate(t,c)}return(r&he.Self?cp():this.parent).get(t,n=r&he.Optional&&n===Mu?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[Zh]=a[Zh]||[]).unshift(Rt(t)),s)throw a;return function x3(e,t,n,r){const o=e[Zh];throw t[I0]&&o.unshift(t[I0]),e.message=function N3(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let o=Rt(t);if(Array.isArray(t))o=t.map(Rt).join(" -> ");else if("object"==typeof t){let s=[];for(let i in t)if(t.hasOwnProperty(i)){let a=t[i];s.push(i+":"+("string"==typeof a?JSON.stringify(a):Rt(a)))}o=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${o}]: ${e.replace(T3,"\n  ")}`}("\n"+e.message,o,n,r),e.ngTokenPath=o,e[Zh]=null,e}(a,t,"R3InjectorError",this.source)}throw a}finally{Tn(i),bs(s)}}resolveInjectorInitializers(){const t=ce(null),n=bs(this),r=Tn(void 0);try{const s=this.get(Si,we,he.Self);for(const i of s)i()}finally{bs(n),Tn(r),ce(t)}}toString(){const t=[],n=this.records;for(const r of n.keys())t.push(Rt(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new k(205,!1)}processProvider(t){let n=wi(t=G(t))?t:G(t&&t.provide);const r=function iq(e){return Fv(e)?Ja(void 0,e.useValue):Ja(function q0(e,t,n){let r;if(wi(e)){const o=G(e);return Ei(o)||Bv(o)}if(Fv(e))r=()=>G(e.useValue);else if(function H0(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...Iv(e.deps||[]));else if(function $0(e){return!(!e||!e.useExisting)}(e))r=()=>j(G(e.useExisting));else{const o=G(e&&(e.useClass||e.provide));if(!function aq(e){return!!e.deps}(e))return Ei(o)||Bv(o);r=()=>new o(...Iv(e.deps))}return r}(e),ap)}(t);if(!wi(t)&&!0===t.multi){let o=this.records.get(n);o||(o=Ja(void 0,ap,!0),o.factory=()=>Iv(o.multi),this.records.set(n,o)),n=t,o.multi.push(t)}this.records.set(n,r)}hydrate(t,n){const r=ce(null);try{return n.value===ap&&(n.value=oq,n.value=n.factory()),"object"==typeof n.value&&n.value&&function cq(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{ce(r)}}injectableDefInScope(t){if(!t.providedIn)return!1;const n=G(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){const n=this._onDestroyHooks.indexOf(t);-1!==n&&this._onDestroyHooks.splice(n,1)}}function Bv(e){const t=Yh(e),n=null!==t?t.factory:Ei(e);if(null!==n)return n;if(e instanceof P)throw new k(204,!1);if(e instanceof Function)return function sq(e){if(e.length>0)throw new k(204,!1);const n=function E3(e){return e&&(e[Jh]||e[b0])||null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new k(204,!1)}function Ja(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function Uv(e,t){for(const n of e)Array.isArray(n)?Uv(n,t):n&&bv(n)?Uv(n.\u0275providers,t):t(n)}function Ao(e,t){e instanceof Qa&&e.assertNotDestroyed();const r=bs(e),o=Tn(void 0);try{return t()}finally{bs(r),Tn(o)}}const nt=0,x=1,$=2,ht=3,kr=4,nn=5,Vn=6,ec=7,ze=8,Et=9,Ar=10,K=11,ku=12,X0=13,tc=14,ct=15,Au=16,nc=17,xo=18,xu=19,G0=20,Cs=21,fp=22,Ci=23,ne=25,$v=1,Kr=7,rc=9,pt=10;var Hv=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(Hv||{});function rn(e){return Array.isArray(e)&&"object"==typeof e[$v]}function on(e){return Array.isArray(e)&&!0===e[$v]}function qv(e){return!!(4&e.flags)}function Di(e){return e.componentOffset>-1}function hp(e){return!(1&~e.flags)}function xr(e){return!!e.template}function zv(e){return!!(512&e[$])}class Sq{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function J0(e,t,n,r){null!==t?t.applyValueToInputSignal(t,r):e[n]=r}function Ii(){return Z0}function Z0(e){return e.type.prototype.ngOnChanges&&(e.setInput=Cq),wq}function wq(){const e=tT(this),t=e?.current;if(t){const n=e.previous;if(n===Gr)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function Cq(e,t,n,r,o){const s=this.declaredInputs[r],i=tT(e)||function Dq(e,t){return e[eT]=t}(e,{previous:Gr,current:null}),a=i.current||(i.current={}),c=i.previous,l=c[s];a[s]=new Sq(l&&l.currentValue,n,c===Gr),J0(e,t,o,n)}Ii.ngInherit=!0;const eT="__ngSimpleChanges__";function tT(e){return e[eT]||null}const Yr=function(e,t,n){};let oT=!1;function Le(e){for(;Array.isArray(e);)e=e[nt];return e}function Pu(e,t){return Le(t[e])}function _n(e,t){return Le(t[e.index])}function Fu(e,t){return e.data[t]}function $n(e,t){const n=t[e];return rn(n)?n:n[nt]}function Yv(e){return!(128&~e[$])}function Qr(e,t){return null==t?null:e[t]}function sT(e){e[nc]=0}function kq(e){1024&e[$]||(e[$]|=1024,Yv(e)&&Lu(e))}function Qv(e){return!!(9216&e[$]||e[Ci]?.dirty)}function Jv(e){e[Ar].changeDetectionScheduler?.notify(1),Qv(e)?Lu(e):64&e[$]&&(function Mq(){return oT}()?(e[$]|=1024,Lu(e)):e[Ar].changeDetectionScheduler?.notify())}function Lu(e){e[Ar].changeDetectionScheduler?.notify();let t=Mi(e);for(;null!==t&&!(8192&t[$])&&(t[$]|=8192,Yv(t));)t=Mi(t)}function pp(e,t){if(!(256&~e[$]))throw new k(911,!1);null===e[Cs]&&(e[Cs]=[]),e[Cs].push(t)}function Mi(e){const t=e[ht];return on(t)?t[ht]:t}const Y={lFrame:gT(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function cT(){return Y.bindingsEnabled}function C(){return Y.lFrame.lView}function pe(){return Y.lFrame.tView}function eb(e){return Y.lFrame.contextLView=e,e[ze]}function tb(e){return Y.lFrame.contextLView=null,e}function Pe(){let e=lT();for(;null!==e&&64===e.type;)e=e.parent;return e}function lT(){return Y.lFrame.currentTNode}function Jr(e,t){const n=Y.lFrame;n.currentTNode=e,n.isParent=t}function nb(){return Y.lFrame.isParent}function rb(){Y.lFrame.isParent=!1}function yn(){const e=Y.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function Nr(){return Y.lFrame.bindingIndex++}function $q(e,t){const n=Y.lFrame;n.bindingIndex=n.bindingRootIndex=e,ob(t)}function ob(e){Y.lFrame.currentDirectiveIndex=e}function gp(e){Y.lFrame.currentQueryIndex=e}function qq(e){const t=e[x];return 2===t.type?t.declTNode:1===t.type?e[nn]:null}function hT(e,t,n){if(n&he.SkipSelf){let o=t,s=e;for(;!(o=o.parent,null!==o||n&he.Host||(o=qq(s),null===o||(s=s[tc],10&o.type))););if(null===o)return!1;t=o,e=s}const r=Y.lFrame=pT();return r.currentTNode=t,r.lView=e,!0}function ab(e){const t=pT(),n=e[x];Y.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function pT(){const e=Y.lFrame,t=null===e?null:e.child;return null===t?gT(e):t}function gT(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function mT(){const e=Y.lFrame;return Y.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const _T=mT;function cb(){const e=mT();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function sn(){return Y.lFrame.selectedIndex}function Ti(e){Y.lFrame.selectedIndex=e}function We(){const e=Y.lFrame;return Fu(e.tView,e.selectedIndex)}let vT=!0;function Bu(){return vT}function Zr(e){vT=e}function mp(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const s=e.data[n].type.prototype,{ngAfterContentInit:i,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=s;i&&(e.contentHooks??=[]).push(-n,i),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),c&&(e.viewHooks??=[]).push(-n,c),l&&((e.viewHooks??=[]).push(n,l),(e.viewCheckHooks??=[]).push(n,l)),null!=u&&(e.destroyHooks??=[]).push(n,u)}}function _p(e,t,n){bT(e,t,3,n)}function yp(e,t,n,r){(3&e[$])===n&&bT(e,t,n,r)}function lb(e,t){let n=e[$];(3&n)===t&&(n&=16383,n+=1,e[$]=n)}function bT(e,t,n,r){const s=r??-1,i=t.length-1;let a=0;for(let c=void 0!==r?65535&e[nc]:0;c<i;c++)if("number"==typeof t[c+1]){if(a=t[c],null!=r&&a>=r)break}else t[c]<0&&(e[nc]+=65536),(a<s||-1==s)&&(Qq(e,n,t,c),e[nc]=(4294901760&e[nc])+c+2),c++}function ET(e,t){Yr(4,e,t);const n=ce(null);try{t.call(e)}finally{ce(n),Yr(5,e,t)}}function Qq(e,t,n,r){const o=n[r]<0,s=n[r+1],a=e[o?-n[r]:n[r]];o?e[$]>>14<e[nc]>>16&&(3&e[$])===t&&(e[$]+=16384,ET(a,s)):ET(a,s)}const ic=-1;class Uu{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function fb(e){return e!==ic}function Vu(e){return 32767&e}function $u(e,t){let n=function nz(e){return e>>16}(e),r=t;for(;n>0;)r=r[tc],n--;return r}let db=!0;function vp(e){const t=db;return db=e,t}const ST=255,wT=5;let rz=0;const eo={};function bp(e,t){const n=CT(e,t);if(-1!==n)return n;const r=t[x];r.firstCreatePass&&(e.injectorIndex=t.length,hb(r.data,e),hb(t,null),hb(r.blueprint,null));const o=Ep(e,t),s=e.injectorIndex;if(fb(o)){const i=Vu(o),a=$u(o,t),c=a[x].data;for(let l=0;l<8;l++)t[s+l]=a[i+l]|c[i+l]}return t[s+8]=o,s}function hb(e,t){e.push(0,0,0,0,0,0,0,0,t)}function CT(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Ep(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,o=t;for(;null!==o;){if(r=kT(o),null===r)return ic;if(n++,o=o[tc],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return ic}function pb(e,t,n){!function oz(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Iu)&&(r=n[Iu]),null==r&&(r=n[Iu]=rz++);const o=r&ST;t.data[e+(o>>wT)]|=1<<o}(e,t,n)}function DT(e,t,n){if(n&he.Optional||void 0!==e)return e;wv()}function IT(e,t,n,r){if(n&he.Optional&&void 0===r&&(r=null),!(n&(he.Self|he.Host))){const o=e[Et],s=Tn(void 0);try{return o?o.get(t,r,n&he.Optional):D0(t,r,n&he.Optional)}finally{Tn(s)}}return DT(r,0,n)}function MT(e,t,n,r=he.Default,o){if(null!==e){if(2048&t[$]&&!(r&he.Self)){const i=function lz(e,t,n,r,o){let s=e,i=t;for(;null!==s&&null!==i&&2048&i[$]&&!(512&i[$]);){const a=TT(s,i,n,r|he.Self,eo);if(a!==eo)return a;let c=s.parent;if(!c){const l=i[G0];if(l){const u=l.get(n,eo,r);if(u!==eo)return u}c=kT(i),i=i[tc]}s=c}return o}(e,t,n,r,eo);if(i!==eo)return i}const s=TT(e,t,n,r,eo);if(s!==eo)return s}return IT(t,n,r,o)}function TT(e,t,n,r,o){const s=function az(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Iu)?e[Iu]:void 0;return"number"==typeof t?t>=0?t&ST:cz:t}(n);if("function"==typeof s){if(!hT(t,e,r))return r&he.Host?DT(o,0,r):IT(t,n,r,o);try{let i;if(i=s(r),null!=i||r&he.Optional)return i;wv()}finally{_T()}}else if("number"==typeof s){let i=null,a=CT(e,t),c=ic,l=r&he.Host?t[ct][nn]:null;for((-1===a||r&he.SkipSelf)&&(c=-1===a?Ep(e,t):t[a+8],c!==ic&&OT(r,!1)?(i=t[x],a=Vu(c),t=$u(c,t)):a=-1);-1!==a;){const u=t[x];if(RT(s,a,u.data)){const f=iz(a,t,n,i,r,l);if(f!==eo)return f}c=t[a+8],c!==ic&&OT(r,t[x].data[a+8]===l)&&RT(s,a,t)?(i=u,a=Vu(c),t=$u(c,t)):a=-1}}return o}function iz(e,t,n,r,o,s){const i=t[x],a=i.data[e+8],u=function Sp(e,t,n,r,o){const s=e.providerIndexes,i=t.data,a=1048575&s,c=e.directiveStart,u=s>>20,d=o?a+u:e.directiveEnd;for(let p=r?a:a+u;p<d;p++){const g=i[p];if(p<c&&n===g||p>=c&&g.type===n)return p}if(o){const p=i[c];if(p&&xr(p)&&p.type===n)return c}return null}(a,i,n,null==r?Di(a)&&db:r!=i&&!!(3&a.type),o&he.Host&&s===a);return null!==u?Ri(t,i,u,a):eo}function Ri(e,t,n,r){let o=e[n];const s=t.data;if(function Jq(e){return e instanceof Uu}(o)){const i=o;i.resolving&&function D3(e,t){throw t&&t.join(" > "),new k(-200,e)}(function Me(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():te(e)}(s[n]));const a=vp(i.canSeeViewProviders);i.resolving=!0;const l=i.injectImpl?Tn(i.injectImpl):null;hT(e,r,he.Default);try{o=e[n]=i.factory(void 0,s,e,r),t.firstCreatePass&&n>=r.directiveStart&&function Yq(e,t,n){const{ngOnChanges:r,ngOnInit:o,ngDoCheck:s}=t.type.prototype;if(r){const i=Z0(t);(n.preOrderHooks??=[]).push(e,i),(n.preOrderCheckHooks??=[]).push(e,i)}o&&(n.preOrderHooks??=[]).push(0-e,o),s&&((n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s))}(n,s[n],t)}finally{null!==l&&Tn(l),vp(a),i.resolving=!1,_T()}}return o}function RT(e,t,n){return!!(n[t+(e>>wT)]&1<<e)}function OT(e,t){return!(e&he.Self||e&he.Host&&t)}class At{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return MT(this._tNode,this._lView,t,ep(r),n)}}function cz(){return new At(Pe(),C())}function wp(e){return Ro(()=>{const t=e.prototype.constructor,n=t[ko]||gb(t),r=Object.prototype;let o=Object.getPrototypeOf(e.prototype).constructor;for(;o&&o!==r;){const s=o[ko]||gb(o);if(s&&s!==n)return s;o=Object.getPrototypeOf(o)}return s=>new s})}function gb(e){return Kh(e)?()=>{const t=gb(G(e));return t&&t()}:Ei(e)}function kT(e){const t=e[x],n=t.type;return 2===n?t.declTNode:1===n?e[nn]:null}function FT(e,t=null,n=null,r){const o=LT(e,t,n,r);return o.resolveInjectorInitializers(),o}function LT(e,t=null,n=null,r,o=new Set){const s=[n||we,tq(e)];return r=r||("object"==typeof e?void 0:Rt(e)),new Qa(s,t||cp(),r||null,o)}let Hn=(()=>{class e{static{this.THROW_IF_NOT_FOUND=Mu}static{this.NULL=new rp}static create(n,r){if(Array.isArray(n))return FT({name:""},r,n,"");{const o=n.name??"";return FT({name:o},n.parent,n.providers,o)}}static{this.\u0275prov=F({token:e,providedIn:"any",factory:()=>j(k0)})}static{this.__NG_ELEMENT_ID__=-1}}return e})();function _b(e){return e.ngOriginalError}class to{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&_b(t);for(;n&&_b(n);)n=_b(n);return n||null}}const BT=new P("",{providedIn:"root",factory:()=>A(to).handleError.bind(void 0)});let lc=(()=>{class e{static{this.__NG_ELEMENT_ID__=yz}static{this.__NG_ENV_ID__=n=>n}}return e})();class _z extends lc{constructor(t){super(),this._lView=t}onDestroy(t){return pp(this._lView,t),()=>function Zv(e,t){if(null===e[Cs])return;const n=e[Cs].indexOf(t);-1!==n&&e[Cs].splice(n,1)}(this._lView,t)}}function yz(){return new _z(C())}function vz(){return uc(Pe(),C())}function uc(e,t){return new Ds(_n(e,t))}let Ds=(()=>{class e{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=vz}}return e})();function yb(e){return t=>{setTimeout(e,void 0,t)}}const an=class bz extends Vt{constructor(t=!1){super(),this.destroyRef=void 0,this.__isAsync=t,function z0(){return void 0!==C0()||null!=function O3(){return Xa}()}()&&(this.destroyRef=A(lc,{optional:!0})??void 0)}emit(t){const n=ce(null);try{super.next(t)}finally{ce(n)}}subscribe(t,n,r){let o=t,s=n||(()=>null),i=r;if(t&&"object"==typeof t){const c=t;o=c.next?.bind(c),s=c.error?.bind(c),i=c.complete?.bind(c)}this.__isAsync&&(s=yb(s),o&&(o=yb(o)),i&&(i=yb(i)));const a=super.subscribe({next:o,error:s,complete:i});return t instanceof gn&&t.add(a),a}};function Dp(e){return!(128&~e.flags)}const bb=new Map;let wz=0;const Sb="__ngContext__";function cn(e,t){rn(t)?(e[Sb]=t[xu],function Dz(e){bb.set(e[xu],e)}(t)):e[Sb]=t}function QT(e){return ZT(e[ku])}function JT(e){return ZT(e[kr])}function ZT(e){for(;null!==e&&!on(e);)e=e[kr];return e}let wb;const Tp=new P("",{providedIn:"root",factory:()=>Hz}),Hz="ng",aR=new P(""),Fo=new P("",{providedIn:"platform",factory:()=>"unknown"}),Cb=new P("",{providedIn:"root",factory:()=>function Is(){if(void 0!==wb)return wb;if(typeof document<"u")return document;throw new k(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let cR=()=>null;function Ab(e,t,n=!1){return cR(e,t,n)}const hR=new P("",{providedIn:"root",factory:()=>!1});class yR{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}const T4=/^>|^->|<!--|-->|--!>|<!-$/g,R4=/(<|>)/g,O4="\u200b$1\u200b";function xR(e){return e.ownerDocument.defaultView}function NR(e){return e.ownerDocument}function qn(e){return e instanceof Function?e():e}var Ts=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Ts||{});let zb;function Wb(e,t){return zb(e,t)}function mc(e,t,n,r,o){if(null!=r){let s,i=!1;on(r)?s=r:rn(r)&&(i=!0,r=r[nt]);const a=Le(r);0===e&&null!==n?null==o?HR(t,n,a):Oi(t,n,a,o||null,!0):1===e&&null!==n?Oi(t,n,a,o||null,!0):2===e?function tf(e,t,n){const r=$p(e,t);r&&function X4(e,t,n,r){e.removeChild(t,n,r)}(e,r,t,n)}(t,a,i):3===e&&t.destroyNode(a),null!=s&&function Y4(e,t,n,r,o){const s=n[Kr];s!==Le(n)&&mc(t,e,r,s,o);for(let a=pt;a<n.length;a++){const c=n[a];qp(c[x],c,e,t,r,s)}}(t,e,s,n,o)}}function Gb(e,t){return e.createComment(function OR(e){return e.replace(T4,t=>t.replace(R4,O4))}(t))}function Up(e,t,n){return e.createElement(t,n)}function UR(e,t){t[Ar].changeDetectionScheduler?.notify(1),qp(e,t,t[K],2,null,null)}function VR(e,t){const n=e[rc],r=n.indexOf(t);n.splice(r,1)}function Zu(e,t){if(e.length<=pt)return;const n=pt+t,r=e[n];if(r){const o=r[Au];null!==o&&o!==e&&VR(o,r),t>0&&(e[n-1][kr]=r[kr]);const s=tp(e,pt+t);!function U4(e,t){UR(e,t),t[nt]=null,t[nn]=null}(r[x],r);const i=s[xo];null!==i&&i.detachView(s[x]),r[ht]=null,r[kr]=null,r[$]&=-129}return r}function Vp(e,t){if(!(256&t[$])){const n=t[K];n.destroyNode&&qp(e,t,n,3,null,null),function $4(e){let t=e[ku];if(!t)return Kb(e[x],e);for(;t;){let n=null;if(rn(t))n=t[ku];else{const r=t[pt];r&&(n=r)}if(!n){for(;t&&!t[kr]&&t!==e;)rn(t)&&Kb(t[x],t),t=t[ht];null===t&&(t=e),rn(t)&&Kb(t[x],t),n=t&&t[kr]}t=n}}(t)}}function Kb(e,t){if(256&t[$])return;const n=ce(null);try{t[$]&=-129,t[$]|=256,t[Ci]&&function e0(e){if(Va(e),wu(e))for(let t=0;t<e.producerNode.length;t++)Hh(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}(t[Ci]),function W4(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const o=t[n[r]];if(!(o instanceof Uu)){const s=n[r+1];if(Array.isArray(s))for(let i=0;i<s.length;i+=2){const a=o[s[i]],c=s[i+1];Yr(4,a,c);try{c.call(a)}finally{Yr(5,a,c)}}else{Yr(4,o,s);try{s.call(o)}finally{Yr(5,o,s)}}}}}(e,t),function z4(e,t){const n=e.cleanup,r=t[ec];if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const i=n[s+3];i>=0?r[i]():r[-i].unsubscribe(),s+=2}else n[s].call(r[n[s+1]]);null!==r&&(t[ec]=null);const o=t[Cs];if(null!==o){t[Cs]=null;for(let s=0;s<o.length;s++)(0,o[s])()}}(e,t),1===t[x].type&&t[K].destroy();const r=t[Au];if(null!==r&&on(t[ht])){r!==t[ht]&&VR(r,t);const o=t[xo];null!==o&&o.detachView(e)}!function Iz(e){bb.delete(e[xu])}(t)}finally{ce(n)}}function Yb(e,t,n){return function $R(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[nt];{const{componentOffset:o}=r;if(o>-1){const{encapsulation:s}=e.data[r.directiveStart+o];if(s===Tr.None||s===Tr.Emulated)return null}return _n(r,n)}}(e,t.parent,n)}function Oi(e,t,n,r,o){e.insertBefore(t,n,r,o)}function HR(e,t,n){e.appendChild(t,n)}function qR(e,t,n,r,o){null!==r?Oi(e,t,n,r,o):HR(e,t,n)}function $p(e,t){return e.parentNode(t)}let Qb,XR=function WR(e,t,n){return 40&e.type?_n(e,n):null};function Hp(e,t,n,r){const o=Yb(e,r,t),s=t[K],a=function zR(e,t,n){return XR(e,t,n)}(r.parent||t[nn],r,t);if(null!=o)if(Array.isArray(n))for(let c=0;c<n.length;c++)qR(s,o,n[c],a,!1);else qR(s,o,n,a,!1);void 0!==Qb&&Qb(s,r,t,n,o)}function ef(e,t){if(null!==t){const n=t.type;if(3&n)return _n(t,e);if(4&n)return Jb(-1,e[t.index]);if(8&n){const r=t.child;if(null!==r)return ef(e,r);{const o=e[t.index];return on(o)?Jb(-1,o):Le(o)}}if(32&n)return Wb(t,e)()||Le(e[t.index]);{const r=KR(e,t);return null!==r?Array.isArray(r)?r[0]:ef(Mi(e[ct]),r):ef(e,t.next)}}return null}function KR(e,t){return null!==t?e[ct][nn].projection[t.projection]:null}function Jb(e,t){const n=pt+e+1;if(n<t.length){const r=t[n],o=r[x].firstChild;if(null!==o)return ef(r,o)}return t[Kr]}function Zb(e,t,n,r,o,s,i){for(;null!=n;){const a=r[n.index],c=n.type;if(i&&0===t&&(a&&cn(Le(a),r),n.flags|=2),32&~n.flags)if(8&c)Zb(e,t,n.child,r,o,s,!1),mc(t,e,o,a,s);else if(32&c){const l=Wb(n,r);let u;for(;u=l();)mc(t,e,o,u,s);mc(t,e,o,a,s)}else 16&c?QR(e,t,r,n,o,s):mc(t,e,o,a,s);n=i?n.projectionNext:n.next}}function qp(e,t,n,r,o,s){Zb(n,r,e.firstChild,t,o,s,!1)}function QR(e,t,n,r,o,s){const i=n[ct],c=i[nn].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++)mc(t,e,o,c[l],s);else{let l=c;const u=i[ht];Dp(r)&&(l.flags|=128),Zb(e,t,l,u,o,s,!0)}}function JR(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function ZR(e,t,n){const{mergedAttrs:r,classes:o,styles:s}=n;null!==r&&Av(e,t,r),null!==o&&JR(e,t,o),null!==s&&function J4(e,t,n){e.setAttribute(t,"style",n)}(e,t,s)}const re={};function Fe(e=1){eO(pe(),C(),sn()+e,!1)}function eO(e,t,n,r){if(!r)if(3&~t[$]){const s=e.preOrderHooks;null!==s&&yp(t,s,0,n)}else{const s=e.preOrderCheckHooks;null!==s&&_p(t,s,n)}Ti(n)}function H(e,t=he.Default){const n=C();return null===n?j(e,t):MT(Pe(),n,G(e),t)}function tO(e,t,n,r,o,s){const i=ce(null);try{let a=null;o&Rr.SignalBased&&(a=t[r][_i]),null!==a&&void 0!==a.transformFn&&(s=a.transformFn(s)),o&Rr.HasDecoratorInputTransform&&(s=e.inputTransforms[r].call(t,s)),null!==e.setInput?e.setInput(t,a,s,n,r):J0(t,a,r,s)}finally{ce(i)}}function zp(e,t,n,r,o,s,i,a,c,l,u){const f=t.blueprint.slice();return f[nt]=o,f[$]=204|r,(null!==l||e&&2048&e[$])&&(f[$]|=2048),sT(f),f[ht]=f[tc]=e,f[ze]=n,f[Ar]=i||e&&e[Ar],f[K]=a||e&&e[K],f[Et]=c||e&&e[Et]||null,f[nn]=s,f[xu]=function Cz(){return wz++}(),f[Vn]=u,f[G0]=l,f[ct]=2==t.type?e[ct]:f,f}function _c(e,t,n,r,o){let s=e.data[t];if(null===s)s=function eE(e,t,n,r,o){const s=lT(),i=nb(),c=e.data[t]=function aW(e,t,n,r,o,s){let i=t?t.injectorIndex:-1,a=0;return function sc(){return null!==Y.skipHydrationRootTNode}()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:i,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:o,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,i?s:s&&s.parent,n,t,r,o);return null===e.firstChild&&(e.firstChild=c),null!==s&&(i?null==s.child&&null!==c.parent&&(s.child=c):null===s.next&&(s.next=c,c.prev=s)),c}(e,t,n,r,o),function Vq(){return Y.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=r,s.attrs=o;const i=function ju(){const e=Y.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();s.injectorIndex=null===i?-1:i.injectorIndex}return Jr(s,!0),s}function nf(e,t,n,r){if(0===n)return-1;const o=t.length;for(let s=0;s<n;s++)t.push(r),e.blueprint.push(r),e.data.push(null);return o}function nO(e,t,n,r,o){const s=sn(),i=2&r;try{Ti(-1),i&&t.length>ne&&eO(e,t,ne,!1),Yr(i?2:0,o),n(r,o)}finally{Ti(s),Yr(i?3:1,o)}}function tE(e,t,n){if(qv(t)){const r=ce(null);try{const s=t.directiveEnd;for(let i=t.directiveStart;i<s;i++){const a=e.data[i];a.contentQueries&&a.contentQueries(1,n[i],i)}}finally{ce(r)}}}function nE(e,t,n){cT()&&(function pW(e,t,n,r){const o=n.directiveStart,s=n.directiveEnd;Di(n)&&function EW(e,t,n){const r=_n(t,e),o=rO(n);let i=16;n.signals?i=4096:n.onPush&&(i=64);const a=Wp(e,zp(e,o,null,i,r,t,null,e[Ar].rendererFactory.createRenderer(r,n),null,null,null));e[t.index]=a}(t,n,e.data[o+n.componentOffset]),e.firstCreatePass||bp(n,t),cn(r,t);const i=n.initialInputs;for(let a=o;a<s;a++){const c=e.data[a],l=Ri(t,e,a,n);cn(l,t),null!==i&&SW(0,a-o,l,c,0,i),xr(c)&&($n(n.index,t)[ze]=Ri(t,e,a,n))}}(e,t,n,_n(n,t)),!(64&~n.flags)&&cO(e,t,n))}function rE(e,t,n=_n){const r=t.localNames;if(null!==r){let o=t.index+1;for(let s=0;s<r.length;s+=2){const i=r[s+1],a=-1===i?n(t,e):e[i];e[o++]=a}}}function rO(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=oE(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function oE(e,t,n,r,o,s,i,a,c,l,u){const f=ne+r,d=f+o,p=function tW(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:re);return n}(f,d),g="function"==typeof l?l():l;return p[x]={type:e,blueprint:p,template:n,queries:null,viewQuery:a,declTNode:t,data:p.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof i?i():i,firstChild:null,schemas:c,consts:g,incompleteFirstPass:!1,ssrId:u}}let oO=()=>null;function sO(e,t,n,r,o){for(let s in t){if(!t.hasOwnProperty(s))continue;const i=t[s];if(void 0===i)continue;r??={};let a,c=Rr.None;Array.isArray(i)?(a=i[0],c=i[1]):a=i;let l=s;if(null!==o){if(!o.hasOwnProperty(s))continue;l=o[s]}0===e?iO(r,n,l,a,c):iO(r,n,l,a)}return r}function iO(e,t,n,r,o){let s;e.hasOwnProperty(n)?(s=e[n]).push(t,r):s=e[n]=[t,r],void 0!==o&&s.push(o)}function sE(e,t,n,r){if(cT()){const o=null===r?null:{"":-1},s=function mW(e,t){const n=e.directiveRegistry;let r=null,o=null;if(n)for(let s=0;s<n.length;s++){const i=n[s];if(F0(t,i.selectors,!1))if(r||(r=[]),xr(i))if(null!==i.findHostDirectiveDefs){const a=[];o=o||new Map,i.findHostDirectiveDefs(i,a,o),r.unshift(...a,i),iE(e,t,a.length)}else r.unshift(i),iE(e,t,0);else o=o||new Map,i.findHostDirectiveDefs?.(i,r,o),r.push(i)}return null===r?null:[r,o]}(e,n);let i,a;null===s?i=a=null:[i,a]=s,null!==i&&aO(e,t,n,i,o,a),o&&function _W(e,t,n){if(t){const r=e.localNames=[];for(let o=0;o<t.length;o+=2){const s=n[t[o+1]];if(null==s)throw new k(-301,!1);r.push(t[o],s)}}}(n,r,o)}n.mergedAttrs=Ru(n.mergedAttrs,n.attrs)}function aO(e,t,n,r,o,s){for(let l=0;l<r.length;l++)pb(bp(n,t),e,r[l].type);!function vW(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,r.length);for(let l=0;l<r.length;l++){const u=r[l];u.providersResolver&&u.providersResolver(u)}let i=!1,a=!1,c=nf(e,t,r.length,null);for(let l=0;l<r.length;l++){const u=r[l];n.mergedAttrs=Ru(n.mergedAttrs,u.hostAttrs),bW(e,n,t,c,u),yW(c,u,o),null!==u.contentQueries&&(n.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(n.flags|=64);const f=u.type.prototype;!i&&(f.ngOnChanges||f.ngOnInit||f.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),i=!0),!a&&(f.ngOnChanges||f.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}!function cW(e,t,n){const o=t.directiveEnd,s=e.data,i=t.attrs,a=[];let c=null,l=null;for(let u=t.directiveStart;u<o;u++){const f=s[u],d=n?n.get(f):null,g=d?d.outputs:null;c=sO(0,f.inputs,u,c,d?d.inputs:null),l=sO(1,f.outputs,u,l,g);const m=null===c||null===i||xv(t)?null:wW(c,u,i);a.push(m)}null!==c&&(c.hasOwnProperty("class")&&(t.flags|=8),c.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=c,t.outputs=l}(e,n,s)}function cO(e,t,n){const r=n.directiveStart,o=n.directiveEnd,s=n.index,i=function Hq(){return Y.lFrame.currentDirectiveIndex}();try{Ti(s);for(let a=r;a<o;a++){const c=e.data[a],l=t[a];ob(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&gW(c,l)}}finally{Ti(-1),ob(i)}}function gW(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function iE(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function yW(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;xr(t)&&(n[""]=e)}}function bW(e,t,n,r,o){e.data[r]=o;const s=o.factory||(o.factory=Ei(o.type)),i=new Uu(s,xr(o),H);e.blueprint[r]=i,n[r]=i,function dW(e,t,n,r,o){const s=o.hostBindings;if(s){let i=e.hostBindingOpCodes;null===i&&(i=e.hostBindingOpCodes=[]);const a=~t.index;(function hW(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(i)!=a&&i.push(a),i.push(n,r,s)}}(e,t,r,nf(e,n,o.hostVars,re),o)}function no(e,t,n,r,o,s){const i=_n(e,t);!function aE(e,t,n,r,o,s,i){if(null==s)e.removeAttribute(t,o,n);else{const a=null==i?te(s):i(s,r||"",o);e.setAttribute(t,o,a,n)}}(t[K],i,s,e.value,n,r,o)}function SW(e,t,n,r,o,s){const i=s[t];if(null!==i)for(let a=0;a<i.length;)tO(r,n,i[a++],i[a++],i[a++],i[a++])}function wW(e,t,n){let r=null,o=0;for(;o<n.length;){const s=n[o];if(0!==s)if(5!==s){if("number"==typeof s)break;if(e.hasOwnProperty(s)){null===r&&(r=[]);const i=e[s];for(let a=0;a<i.length;a+=3)if(i[a]===t){r.push(s,i[a+1],i[a+2],n[o+1]);break}}o+=2}else o+=2;else o+=4}return r}function lO(e,t,n,r){return[e,!0,0,t,null,r,null,n,null,null]}function uO(e,t){const n=e.contentQueries;if(null!==n){const r=ce(null);try{for(let o=0;o<n.length;o+=2){const i=n[o+1];if(-1!==i){const a=e.data[i];gp(n[o]),a.contentQueries(2,t[i],i)}}}finally{ce(r)}}}function Wp(e,t){return e[ku]?e[X0][kr]=t:e[ku]=t,e[X0]=t,t}function cE(e,t,n){gp(0);const r=ce(null);try{t(e,n)}finally{ce(r)}}function Xp(e,t){const n=e[Et],r=n?n.get(to,null):null;r&&r.handleError(t)}function lE(e,t,n,r,o){for(let s=0;s<n.length;){const i=n[s++],a=n[s++],c=n[s++];tO(e.data[i],t[i],r,a,c,o)}}function CW(e,t){const n=$n(t,e),r=n[x];!function DW(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(r,n);const o=n[nt];null!==o&&null===n[Vn]&&(n[Vn]=Ab(o,n[Et])),uE(r,n,n[ze])}function uE(e,t,n){ab(t);try{const r=e.viewQuery;null!==r&&cE(1,r,n);const o=e.template;null!==o&&nO(e,t,o,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[xo]?.finishViewCreation(e),e.staticContentQueries&&uO(e,t),e.staticViewQueries&&cE(2,e.viewQuery,n);const s=e.components;null!==s&&function IW(e,t){for(let n=0;n<t.length;n++)CW(e,t[n])}(t,s)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[$]&=-5,cb()}}function yc(e,t){return!t||null===t.firstChild||Dp(e)}function sf(e,t,n,r=!0){const o=t[x];if(function H4(e,t,n,r){const o=pt+r,s=n.length;r>0&&(n[o-1][kr]=t),r<s-pt?(t[kr]=n[o],T0(n,pt+r,t)):(n.push(t),t[kr]=null),t[ht]=n;const i=t[Au];null!==i&&n!==i&&function q4(e,t){const n=e[rc];t[ct]!==t[ht][ht][ct]&&(e[$]|=Hv.HasTransplantedViews),null===n?e[rc]=[t]:n.push(t)}(i,t);const a=t[xo];null!==a&&a.insertView(e),Jv(t),t[$]|=128}(o,t,e,n),r){const i=Jb(n,e),a=t[K],c=$p(a,e[Kr]);null!==c&&function V4(e,t,n,r,o,s){r[nt]=o,r[nn]=t,qp(e,r,n,1,o,s)}(o,e[nn],a,t,c,i)}const s=t[Vn];null!==s&&null!==s.firstChild&&(s.firstChild=null)}function af(e,t,n,r,o=!1){for(;null!==n;){const s=t[n.index];null!==s&&r.push(Le(s)),on(s)&&gO(s,r);const i=n.type;if(8&i)af(e,t,n.child,r);else if(32&i){const a=Wb(n,t);let c;for(;c=a();)r.push(c)}else if(16&i){const a=KR(t,n);if(Array.isArray(a))r.push(...a);else{const c=Mi(t[ct]);af(c[x],c,a,r,!0)}}n=o?n.projectionNext:n.next}return r}function gO(e,t){for(let n=pt;n<e.length;n++){const r=e[n],o=r[x].firstChild;null!==o&&af(r[x],r,o,t)}e[Kr]!==e[nt]&&t.push(e[Kr])}let mO=[];const OW={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{},consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{Lu(e.lView)},consumerOnSignalRead(){this.lView[Ci]=this}},_O=100;function Gp(e,t=!0,n=0){const r=e[Ar],o=r.rendererFactory;o.begin?.();try{!function kW(e,t){dE(e,t);let n=0;for(;Qv(e);){if(n===_O)throw new k(103,!1);n++,dE(e,1)}}(e,n)}catch(i){throw t&&Xp(e,i),i}finally{o.end?.(),r.inlineEffectRunner?.flush()}}function AW(e,t,n,r){const o=t[$];if(!(256&~o))return;t[Ar].inlineEffectRunner?.flush(),ab(t);let i=null,a=null;(function xW(e){return 2!==e.type})(e)&&(a=function MW(e){return e[Ci]??function TW(e){const t=mO.pop()??Object.create(OW);return t.lView=e,t}(e)}(t),i=function JM(e){return e&&(e.nextProducerIndex=0),ce(e)}(a));try{sT(t),function fT(e){return Y.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&nO(e,t,n,2,r);const c=!(3&~o);if(c){const f=e.preOrderCheckHooks;null!==f&&_p(t,f,null)}else{const f=e.preOrderHooks;null!==f&&yp(t,f,0,null),lb(t,0)}if(function NW(e){for(let t=QT(e);null!==t;t=JT(t)){if(!(t[$]&Hv.HasTransplantedViews))continue;const n=t[rc];for(let r=0;r<n.length;r++){kq(n[r])}}}(t),yO(t,0),null!==e.contentQueries&&uO(e,t),c){const f=e.contentCheckHooks;null!==f&&_p(t,f)}else{const f=e.contentHooks;null!==f&&yp(t,f,1),lb(t,1)}!function eW(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const o=n[r];if(o<0)Ti(~o);else{const s=o,i=n[++r],a=n[++r];$q(i,s),a(2,t[s])}}}finally{Ti(-1)}}(e,t);const l=e.components;null!==l&&bO(t,l,0);const u=e.viewQuery;if(null!==u&&cE(2,u,r),c){const f=e.viewCheckHooks;null!==f&&_p(t,f)}else{const f=e.viewHooks;null!==f&&yp(t,f,2),lb(t,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[fp]){for(const f of t[fp])f();t[fp]=null}t[$]&=-73}catch(c){throw Lu(t),c}finally{null!==a&&(function ZM(e,t){if(ce(t),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(wu(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)Hh(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}(a,i),function RW(e){e.lView[Ci]!==e&&(e.lView=null,mO.push(e))}(a)),cb()}}function yO(e,t){for(let n=QT(e);null!==n;n=JT(n))for(let r=pt;r<n.length;r++)vO(n[r],t)}function PW(e,t,n){vO($n(t,e),n)}function vO(e,t){Yv(e)&&dE(e,t)}function dE(e,t){const r=e[x],o=e[$],s=e[Ci];let i=!!(0===t&&16&o);if(i||=!!(64&o&&0===t),i||=!!(1024&o),i||=!(!s?.dirty||!nv(s)),s&&(s.dirty=!1),e[$]&=-9217,i)AW(r,e,r.template,e[ze]);else if(8192&o){yO(e,1);const a=r.components;null!==a&&bO(e,a,1)}}function bO(e,t,n){for(let r=0;r<t.length;r++)PW(e,t[r],n)}function cf(e){for(e[Ar].changeDetectionScheduler?.notify();e;){e[$]|=64;const t=Mi(e);if(zv(e)&&!t)return e;e=t}return null}class lf{get rootNodes(){const t=this._lView,n=t[x];return af(n,t,n.firstChild,[])}constructor(t,n,r=!0){this._lView=t,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ze]}set context(t){this._lView[ze]=t}get destroyed(){return!(256&~this._lView[$])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[ht];if(on(t)){const n=t[8],r=n?n.indexOf(this):-1;r>-1&&(Zu(t,r),tp(n,r))}this._attachedToViewContainer=!1}Vp(this._lView[x],this._lView)}onDestroy(t){pp(this._lView,t)}markForCheck(){cf(this._cdRefInjectingView||this._lView)}detach(){this._lView[$]&=-129}reattach(){Jv(this._lView),this._lView[$]|=128}detectChanges(){this._lView[$]|=1024,Gp(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new k(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,UR(this._lView[x],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new k(902,!1);this._appRef=t,Jv(this._lView)}}let Bo=(()=>{class e{static{this.__NG_ELEMENT_ID__=jW}}return e})();const FW=Bo,LW=class extends FW{constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n)}createEmbeddedViewImpl(t,n,r){const o=function rf(e,t,n,r){const o=ce(null);try{const s=t.tView,c=zp(e,s,n,4096&e[$]?4096:16,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null);c[Au]=e[t.index];const u=e[xo];return null!==u&&(c[xo]=u.createEmbeddedView(s)),uE(s,c,n),c}finally{ce(o)}}(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:n,dehydratedView:r});return new lf(o)}};function jW(){return function Kp(e,t){return 4&e.type?new LW(t,e,uc(e,t)):null}(Pe(),C())}class yE{}class cX{}class MO{}class uX{resolveComponentFactory(t){throw function lX(e){const t=Error(`No component factory found for ${Rt(e)}.`);return t.ngComponent=e,t}(t)}}let eg=(()=>{class e{static{this.NULL=new uX}}return e})();class RO{}let tg=(()=>{class e{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function fX(){const e=C(),n=$n(Pe().index,e);return(rn(n)?n:e)[K]}()}}return e})(),dX=(()=>{class e{static{this.\u0275prov=F({token:e,providedIn:"root",factory:()=>null})}}return e})();const vE={},OO=new Set;function kO(...e){}class xe{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new an(!1),this.onMicrotaskEmpty=new an(!1),this.onStable=new an(!1),this.onError=new an(!1),typeof Zone>"u")throw new k(908,!1);Zone.assertZonePatched();const o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!r&&n,o.shouldCoalesceRunChangeDetection=r,o.lastRequestAnimationFrameId=-1,o.nativeRequestAnimationFrame=function hX(){const e="function"==typeof Ae.requestAnimationFrame;let t=Ae[e?"requestAnimationFrame":"setTimeout"],n=Ae[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&n){const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r);const o=n[Zone.__symbol__("OriginalDelegate")];o&&(n=o)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function mX(e){const t=()=>{!function gX(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Ae,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,EE(e),e.isCheckStableRunning=!0,bE(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),EE(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,o,s,i,a)=>{if(function _X(e){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0].data?.__ignore_ng_zone__}(a))return n.invokeTask(o,s,i,a);try{return AO(e),n.invokeTask(o,s,i,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||e.shouldCoalesceRunChangeDetection)&&t(),xO(e)}},onInvoke:(n,r,o,s,i,a,c)=>{try{return AO(e),n.invoke(o,s,i,a,c)}finally{e.shouldCoalesceRunChangeDetection&&t(),xO(e)}},onHasTask:(n,r,o,s)=>{n.hasTask(o,s),r===o&&("microTask"==s.change?(e._hasPendingMicrotasks=s.microTask,EE(e),bE(e)):"macroTask"==s.change&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,o,s)=>(n.handleError(o,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}(o)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!xe.isInAngularZone())throw new k(909,!1)}static assertNotInAngularZone(){if(xe.isInAngularZone())throw new k(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,o){const s=this._inner,i=s.scheduleEventTask("NgZoneEvent: "+o,t,pX,kO,kO);try{return s.runTask(i,n,r)}finally{s.cancelTask(i)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const pX={};function bE(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function EE(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function AO(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function xO(e){e._nesting--,bE(e)}class NO{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new an,this.onMicrotaskEmpty=new an,this.onStable=new an,this.onError=new an}run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,o){return t.apply(n,r)}}let pf=(()=>{class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){const n=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const r of n)r()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static{this.\u0275prov=F({token:e,providedIn:"root",factory:()=>new e})}}return e})();function rg(e,t,n){let r=n?e.styles:null,o=n?e.classes:null,s=0;if(null!==t)for(let i=0;i<t.length;i++){const a=t[i];"number"==typeof a?s=a:1==s?o=hv(o,a):2==s&&(r=hv(r,a+": "+t[++i]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=o:e.classesWithoutHost=o}class UO extends eg{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=de(t);return new _f(n,this.ngModule)}}function VO(e){const t=[];for(const n in e){if(!e.hasOwnProperty(n))continue;const r=e[n];void 0!==r&&t.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return t}class og{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=ep(r);const o=this.injector.get(t,vE,r);return o!==vE||n===vE?o:this.parentInjector.get(t,n,r)}}class _f extends MO{get inputs(){const t=this.componentDef,n=t.inputTransforms,r=VO(t.inputs);if(null!==n)for(const o of r)n.hasOwnProperty(o.propName)&&(o.transform=n[o.propName]);return r}get outputs(){return VO(this.componentDef.outputs)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function K3(e){return e.map(G3).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,r,o){const s=ce(null);try{let i=(o=o||this.ngModule)instanceof Un?o:o?.injector;i&&null!==this.componentDef.getStandaloneInjector&&(i=this.componentDef.getStandaloneInjector(i)||i);const a=i?new og(t,i):t,c=a.get(RO,null);if(null===c)throw new k(407,!1);const l=a.get(dX,null),d={rendererFactory:c,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:a.get(pf,null),changeDetectionScheduler:a.get(yE,null)},p=c.createRenderer(null,this.componentDef),g=this.componentDef.selectors[0][0]||"div",m=r?function nW(e,t,n,r){const s=r.get(hR,!1)||n===Tr.ShadowDom,i=e.selectRootElement(t,s);return function rW(e){oO(e)}(i),i}(p,r,this.componentDef.encapsulation,a):Up(p,g,function wX(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(g));let y=512;this.componentDef.signals?y|=4096:this.componentDef.onPush||(y|=16);let b=null;null!==m&&(b=Ab(m,a,!0));const S=oE(0,null,null,1,0,null,null,null,null,null,null),R=zp(null,S,null,y,null,null,d,p,a,null,b);let L,V;ab(R);try{const fe=this.componentDef;let Qe,Je=null;fe.findHostDirectiveDefs?(Qe=[],Je=new Map,fe.findHostDirectiveDefs(fe,Qe,Je),Qe.push(fe)):Qe=[fe];const w=function DX(e,t){const n=e[x],r=ne;return e[r]=t,_c(n,r,2,"#host",null)}(R,m),sr=function IX(e,t,n,r,o,s,i){const a=o[x];!function MX(e,t,n,r){for(const o of e)t.mergedAttrs=Ru(t.mergedAttrs,o.hostAttrs);null!==t.mergedAttrs&&(rg(t,t.mergedAttrs,!0),null!==n&&ZR(r,n,t))}(r,e,t,i);let c=null;null!==t&&(c=Ab(t,o[Et]));const l=s.rendererFactory.createRenderer(t,n);let u=16;n.signals?u=4096:n.onPush&&(u=64);const f=zp(o,rO(n),null,u,o[e.index],e,s,l,null,null,c);return a.firstCreatePass&&iE(a,e,r.length-1),Wp(o,f),o[e.index]=f}(w,m,fe,Qe,R,d,p);V=Fu(S,ne),m&&function RX(e,t,n,r){if(r)Av(e,n,["ng-version","17.3.12"]);else{const{attrs:o,classes:s}=function Y3(e){const t=[],n=[];let r=1,o=2;for(;r<e.length;){let s=e[r];if("string"==typeof s)2===o?""!==s&&t.push(s,e[++r]):8===o&&n.push(s);else{if(!Or(o))break;o=s}r++}return{attrs:t,classes:n}}(t.selectors[0]);o&&Av(e,n,o),s&&s.length>0&&JR(e,n,s.join(" "))}}(p,fe,m,r),void 0!==n&&function OX(e,t,n){const r=e.projection=[];for(let o=0;o<t.length;o++){const s=n[o];r.push(null!=s?Array.from(s):null)}}(V,this.ngContentSelectors,n),L=function TX(e,t,n,r,o,s){const i=Pe(),a=o[x],c=_n(i,o);aO(a,o,i,n,null,r);for(let u=0;u<n.length;u++)cn(Ri(o,a,i.directiveStart+u,i),o);cO(a,o,i),c&&cn(c,o);const l=Ri(o,a,i.directiveStart+i.componentOffset,i);if(e[ze]=o[ze]=l,null!==s)for(const u of s)u(l,t);return tE(a,i,o),l}(sr,fe,Qe,Je,R,[kX]),uE(S,R,null)}finally{cb()}return new CX(this.componentType,L,uc(V,R),R,V)}finally{ce(s)}}}class CX extends cX{constructor(t,n,r,o,s){super(),this.location=r,this._rootLView=o,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new lf(o,void 0,!1),this.componentType=t}setInput(t,n){const r=this._tNode.inputs;let o;if(null!==r&&(o=r[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;const s=this._rootLView;lE(s[x],s,o,t,n),this.previousInputValues.set(t,n),cf($n(this._tNode.index,s))}}get injector(){return new At(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function kX(){const e=Pe();mp(C()[x],e)}let Fr=(()=>{class e{static{this.__NG_ELEMENT_ID__=AX}}return e})();function AX(){return function qO(e,t){let n;const r=t[e.index];return on(r)?n=r:(n=lO(r,t,null,e),t[e.index]=n,Wp(t,n)),zO(n,t,e,r),new $O(n,e,t)}(Pe(),C())}const xX=Fr,$O=class extends xX{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return uc(this._hostTNode,this._hostLView)}get injector(){return new At(this._hostTNode,this._hostLView)}get parentInjector(){const t=Ep(this._hostTNode,this._hostLView);if(fb(t)){const n=$u(t,this._hostLView),r=Vu(t);return new At(n[x].data[r+8],n)}return new At(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=HO(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-pt}createEmbeddedView(t,n,r){let o,s;"number"==typeof r?o=r:null!=r&&(o=r.index,s=r.injector);const a=t.createEmbeddedViewImpl(n||{},s,null);return this.insertImpl(a,o,yc(this._hostTNode,null)),a}createComponent(t,n,r,o,s){const i=t&&!function Ou(e){return"function"==typeof e}(t);let a;if(i)a=n;else{const g=n||{};a=g.index,r=g.injector,o=g.projectableNodes,s=g.environmentInjector||g.ngModuleRef}const c=i?t:new _f(de(t)),l=r||this.parentInjector;if(!s&&null==c.ngModule){const m=(i?l:this.parentInjector).get(Un,null);m&&(s=m)}de(c.componentType??{});const p=c.create(l,o,null,s);return this.insertImpl(p.hostView,a,yc(this._hostTNode,null)),p}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,r){const o=t._lView;if(function Oq(e){return on(e[ht])}(o)){const a=this.indexOf(t);if(-1!==a)this.detach(a);else{const c=o[ht],l=new $O(c,c[nn],c[ht]);l.detach(l.indexOf(t))}}const s=this._adjustIndex(n),i=this._lContainer;return sf(i,o,s,r),t.attachToViewContainerRef(),T0(DE(i),s,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=HO(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),r=Zu(this._lContainer,n);r&&(tp(DE(this._lContainer),n),Vp(r[x],r))}detach(t){const n=this._adjustIndex(t,-1),r=Zu(this._lContainer,n);return r&&null!=tp(DE(this._lContainer),n)?new lf(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function HO(e){return e[8]}function DE(e){return e[8]||(e[8]=[])}let zO=function XO(e,t,n,r){if(e[Kr])return;let o;o=8&n.type?Le(r):function NX(e,t){const n=e[K],r=n.createComment(""),o=_n(t,e);return Oi(n,$p(n,o),r,function G4(e,t){return e.nextSibling(t)}(n,o),!1),r}(t,n),e[Kr]=o},IE=()=>!1;function PE(e){let t=function pk(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const r=[e];for(;t;){let o;if(xr(e))o=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new k(903,!1);o=t.\u0275dir}if(o){if(n){r.push(o);const i=e;i.inputs=ig(e.inputs),i.inputTransforms=ig(e.inputTransforms),i.declaredInputs=ig(e.declaredInputs),i.outputs=ig(e.outputs);const a=o.hostBindings;a&&oG(e,a);const c=o.viewQuery,l=o.contentQueries;if(c&&nG(e,c),l&&rG(e,l),eG(e,o),g3(e.outputs,o.outputs),xr(o)&&o.data.animation){const u=e.data;u.animation=(u.animation||[]).concat(o.data.animation)}}const s=o.features;if(s)for(let i=0;i<s.length;i++){const a=s[i];a&&a.ngInherit&&a(e),a===PE&&(n=!1)}}t=Object.getPrototypeOf(t)}!function tG(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){const o=e[r];o.hostVars=t+=o.hostVars,o.hostAttrs=Ru(o.hostAttrs,n=Ru(n,o.hostAttrs))}}(r)}function eG(e,t){for(const n in t.inputs){if(!t.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;const r=t.inputs[n];if(void 0!==r&&(e.inputs[n]=r,e.declaredInputs[n]=t.declaredInputs[n],null!==t.inputTransforms)){const o=Array.isArray(r)?r[0]:r;if(!t.inputTransforms.hasOwnProperty(o))continue;e.inputTransforms??={},e.inputTransforms[o]=t.inputTransforms[o]}}}function ig(e){return e===Gr?{}:e===we?[]:e}function nG(e,t){const n=e.viewQuery;e.viewQuery=n?(r,o)=>{t(r,o),n(r,o)}:t}function rG(e,t){const n=e.contentQueries;e.contentQueries=n?(r,o,s)=>{t(r,o,s),n(r,o,s)}:t}function oG(e,t){const n=e.hostBindings;e.hostBindings=n?(r,o)=>{t(r,o),n(r,o)}:t}class Ai{}class vk{}class FE extends Ai{constructor(t,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new UO(this);const o=tn(t);this._bootstrapComponents=qn(o.bootstrap),this._r3Injector=LT(t,n,[{provide:Ai,useValue:this},{provide:eg,useValue:this.componentFactoryResolver},...r],Rt(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class LE extends vk{constructor(t){super(),this.moduleType=t}create(t){return new FE(this.moduleType,t,[])}}class bk extends Ai{constructor(t){super(),this.componentFactoryResolver=new UO(this),this.instance=null;const n=new Qa([...t.providers,{provide:Ai,useValue:this},{provide:eg,useValue:this.componentFactoryResolver}],t.parent||cp(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function jE(e,t,n=null){return new bk({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}let ks=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Mn(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function cg(e){return!!function BE(e){return null!==e&&("function"==typeof e||"object"==typeof e)}(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function gt(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function Yt(e,t,n,r,o,s,i,a){const c=C(),l=pe(),u=e+ne,f=l.firstCreatePass?function _G(e,t,n,r,o,s,i,a,c){const l=t.consts,u=_c(t,e,4,i||null,Qr(l,a));sE(t,n,u,Qr(l,c)),mp(t,u);const f=u.tView=oE(2,u,r,o,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,l,null);return null!==t.queries&&(t.queries.template(t,u),f.queries=t.queries.embeddedTView(u)),u}(u,l,c,t,n,r,o,s,i):l.data[u];Jr(f,!1);const d=Ek(l,c,f,e);Bu()&&Hp(l,c,d,f),cn(d,c);const p=lO(d,c,d,f);return c[u]=p,Wp(c,p),function WO(e,t,n){return IE(e,t,n)}(p,f,c),hp(f)&&nE(l,c,f),null!=i&&rE(c,f,a),Yt}let Ek=function Sk(e,t,n,r){return Zr(!0),t[K].createComment("")};function Cf(e,t,n,r){const o=C();return gt(o,Nr(),t)&&(pe(),no(We(),o,e,t,n,r)),Cf}function gg(e,t){return e<<17|t<<2}function xs(e){return e>>17&32767}function KE(e){return 2|e}function Pi(e){return(131068&e)>>2}function YE(e,t){return-131069&e|t<<2}function QE(e){return 1|e}function Zk(e,t,n,r){const o=e[n+1],s=null===t;let i=r?xs(o):Pi(o),a=!1;for(;0!==i&&(!1===a||s);){const l=e[i+1];r8(e[i],t)&&(a=!0,e[i+1]=r?QE(l):KE(l)),i=r?xs(l):Pi(l)}a&&(e[n+1]=r?KE(o):QE(o))}function r8(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&Ka(e,t)>=0}function rt(e,t,n){const r=C();return gt(r,Nr(),t)&&function An(e,t,n,r,o,s,i,a){const c=_n(t,n);let u,l=t.inputs;!a&&null!=l&&(u=l[r])?(lE(e,n,u,r,o),Di(t)&&function uW(e,t){const n=$n(t,e);16&n[$]||(n[$]|=64)}(n,t.index)):3&t.type&&(r=function lW(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),o=null!=i?i(o,t.value||"",r):o,s.setProperty(c,r,o))}(pe(),We(),r,e,t,r[K],n,!1),rt}function JE(e,t,n,r,o){const i=o?"class":"style";lE(e,n,t.inputs[i],i,r)}function Ns(e,t,n){return Lr(e,t,n,!1),Ns}function mg(e,t){return Lr(e,t,null,!0),mg}function Lr(e,t,n,r){const o=C(),s=pe(),i=function Po(e){const t=Y.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}(2);s.firstUpdatePass&&function aA(e,t,n,r){const o=e.data;if(null===o[n+1]){const s=o[sn()],i=function iA(e,t){return t>=e.expandoStartIndex}(e,n);(function fA(e,t){return!!(e.flags&(t?8:16))})(s,r)&&null===t&&!i&&(t=!1),t=function d8(e,t,n,r){const o=function sb(e){const t=Y.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let s=r?t.residualClasses:t.residualStyles;if(null===o)0===(r?t.classBindings:t.styleBindings)&&(n=Df(n=ZE(null,e,t,n,r),t.attrs,r),s=null);else{const i=t.directiveStylingLast;if(-1===i||e[i]!==o)if(n=ZE(o,e,t,n,r),null===s){let c=function h8(e,t,n){const r=n?t.classBindings:t.styleBindings;if(0!==Pi(r))return e[xs(r)]}(e,t,r);void 0!==c&&Array.isArray(c)&&(c=ZE(null,e,t,c[1],r),c=Df(c,t.attrs,r),function p8(e,t,n,r){e[xs(n?t.classBindings:t.styleBindings)]=r}(e,t,r,c))}else s=function g8(e,t,n){let r;const o=t.directiveEnd;for(let s=1+t.directiveStylingLast;s<o;s++)r=Df(r,e[s].hostAttrs,n);return Df(r,t.attrs,n)}(e,t,r)}return void 0!==s&&(r?t.residualClasses=s:t.residualStyles=s),n}(o,s,t,r),function t8(e,t,n,r,o,s){let i=s?t.classBindings:t.styleBindings,a=xs(i),c=Pi(i);e[r]=n;let u,l=!1;if(Array.isArray(n)?(u=n[1],(null===u||Ka(n,u)>0)&&(l=!0)):u=n,o)if(0!==c){const d=xs(e[a+1]);e[r+1]=gg(d,a),0!==d&&(e[d+1]=YE(e[d+1],r)),e[a+1]=function ZG(e,t){return 131071&e|t<<17}(e[a+1],r)}else e[r+1]=gg(a,0),0!==a&&(e[a+1]=YE(e[a+1],r)),a=r;else e[r+1]=gg(c,0),0===a?a=r:e[c+1]=YE(e[c+1],r),c=r;l&&(e[r+1]=KE(e[r+1])),Zk(e,u,r,!0),Zk(e,u,r,!1),function n8(e,t,n,r,o){const s=o?e.residualClasses:e.residualStyles;null!=s&&"string"==typeof t&&Ka(s,t)>=0&&(n[r+1]=QE(n[r+1]))}(t,u,e,r,s),i=gg(a,c),s?t.classBindings=i:t.styleBindings=i}(o,s,t,n,i,r)}}(s,e,i,r),t!==re&&gt(o,i,t)&&function lA(e,t,n,r,o,s,i,a){if(!(3&t.type))return;const c=e.data,l=c[a+1],u=function e8(e){return!(1&~e)}(l)?uA(c,t,n,o,Pi(l),i):void 0;_g(u)||(_g(s)||function JG(e){return!(2&~e)}(l)&&(s=uA(c,null,n,o,a,i)),function Q4(e,t,n,r,o){if(t)o?e.addClass(n,r):e.removeClass(n,r);else{let s=-1===r.indexOf("-")?void 0:Ts.DashCase;null==o?e.removeStyle(n,r,s):("string"==typeof o&&o.endsWith("!important")&&(o=o.slice(0,-10),s|=Ts.Important),e.setStyle(n,r,o,s))}}(r,i,Pu(sn(),n),o,s))}(s,s.data[sn()],o,o[K],e,o[i+1]=function v8(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=Rt(function Ms(e){return e instanceof yR?e.changingThisBreaksApplicationSecurity:e}(e)))),e}(t,n),r,i)}function ZE(e,t,n,r,o){let s=null;const i=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<i&&(s=t[a],r=Df(r,s.hostAttrs,o),s!==e);)a++;return null!==e&&(n.directiveStylingLast=a),r}function Df(e,t,n){const r=n?1:2;let o=-1;if(null!==t)for(let s=0;s<t.length;s++){const i=t[s];"number"==typeof i?o=i:o===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Bn(e,i,!!n||t[++s]))}return void 0===e?null:e}function uA(e,t,n,r,o,s){const i=null===t;let a;for(;o>0;){const c=e[o],l=Array.isArray(c),u=l?c[1]:c,f=null===u;let d=n[o+1];d===re&&(d=f?we:void 0);let p=f?Ov(d,r):u===r?d:void 0;if(l&&!_g(p)&&(p=Ov(c,r)),_g(p)&&(a=p,i))return a;const g=e[o+1];o=i?xs(g):Pi(g)}if(null!==t){let c=s?t.residualClasses:t.residualStyles;null!=c&&(a=Ov(c,r))}return a}function _g(e){return void 0!==e}function Ie(e,t,n,r){const o=C(),s=pe(),i=ne+e,a=o[K],c=s.firstCreatePass?function $8(e,t,n,r,o,s){const i=t.consts,c=_c(t,e,2,r,Qr(i,o));return sE(t,n,c,Qr(i,s)),null!==c.attrs&&rg(c,c.attrs,!1),null!==c.mergedAttrs&&rg(c,c.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,c),c}(i,s,o,t,n,r):s.data[i],l=gA(s,o,c,a,t,e);o[i]=l;const u=hp(c);return Jr(c,!0),ZR(a,l,c),!function bf(e){return!(32&~e.flags)}(c)&&Bu()&&Hp(s,o,l,c),0===function Aq(){return Y.lFrame.elementDepthCount}()&&cn(l,o),function xq(){Y.lFrame.elementDepthCount++}(),u&&(nE(s,o,c),tE(s,c,o)),null!==r&&rE(o,c),Ie}function Ee(){let e=Pe();nb()?rb():(e=e.parent,Jr(e,!1));const t=e;(function Pq(e){return Y.skipHydrationRootTNode===e})(t)&&function Bq(){Y.skipHydrationRootTNode=null}(),function Nq(){Y.lFrame.elementDepthCount--}();const n=pe();return n.firstCreatePass&&(mp(n,e),qv(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function ez(e){return!!(8&e.flags)}(t)&&JE(n,t,C(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function tz(e){return!!(16&e.flags)}(t)&&JE(n,t,C(),t.stylesWithoutHost,!1),Ee}function vn(e,t,n,r){return Ie(e,t,n,r),Ee(),vn}let gA=(e,t,n,r,o,s)=>(Zr(!0),Up(r,o,function yT(){return Y.lFrame.currentNamespace}()));function Ps(e,t,n){const r=C(),o=pe(),s=e+ne,i=o.firstCreatePass?function z8(e,t,n,r,o){const s=t.consts,i=Qr(s,r),a=_c(t,e,8,"ng-container",i);return null!==i&&rg(a,i,!0),sE(t,n,a,Qr(s,o)),null!==t.queries&&t.queries.elementStart(t,a),a}(s,o,r,t,n):o.data[s];Jr(i,!0);const a=_A(o,r,i,e);return r[s]=a,Bu()&&Hp(o,r,a,i),cn(a,r),hp(i)&&(nE(o,r,i),tE(o,i,r)),null!=n&&rE(r,i),Ps}function Fs(){let e=Pe();const t=pe();return nb()?rb():(e=e.parent,Jr(e,!1)),t.firstCreatePass&&(mp(t,e),qv(e)&&t.queries.elementEnd(e)),Fs}let _A=(e,t,n,r)=>(Zr(!0),Gb(t[K],""));function oS(){return C()}const jc="en-US";let SA=jc;function cr(e,t,n,r){const o=C(),s=pe(),i=Pe();return function aS(e,t,n,r,o,s,i){const a=hp(r),l=e.firstCreatePass&&function dO(e){return e.cleanup||(e.cleanup=[])}(e),u=t[ze],f=function fO(e){return e[ec]||(e[ec]=[])}(t);let d=!0;if(3&r.type||i){const m=_n(r,t),y=i?i(m):m,b=f.length,S=i?L=>i(Le(L[r.index])):r.index;let R=null;if(!i&&a&&(R=function W5(e,t,n,r){const o=e.cleanup;if(null!=o)for(let s=0;s<o.length-1;s+=2){const i=o[s];if(i===n&&o[s+1]===r){const a=t[ec],c=o[s+2];return a.length>c?a[c]:null}"string"==typeof i&&(s+=2)}return null}(e,t,o,r.index)),null!==R)(R.__ngLastListenerFn__||R).__ngNextListenerFn__=s,R.__ngLastListenerFn__=s,d=!1;else{s=QA(r,t,u,s,!1);const L=n.listen(y,o,s);f.push(s,L),l&&l.push(o,S,b,b+1)}}else s=QA(r,t,u,s,!1);const p=r.outputs;let g;if(d&&null!==p&&(g=p[o])){const m=g.length;if(m)for(let y=0;y<m;y+=2){const V=t[g[y]][g[y+1]].subscribe(s),fe=f.length;f.push(s,V),l&&l.push(o,r.index,fe,-(fe+1))}}}(s,o,o[K],i,e,t,r),cr}function YA(e,t,n,r){const o=ce(null);try{return Yr(6,t,n),!1!==n(r)}catch(s){return Xp(e,s),!1}finally{Yr(7,t,n),ce(o)}}function QA(e,t,n,r,o){return function s(i){if(i===Function)return r;cf(e.componentOffset>-1?$n(e.index,t):t);let c=YA(t,n,r,i),l=s.__ngNextListenerFn__;for(;l;)c=YA(t,n,l,i)&&c,l=l.__ngNextListenerFn__;return o&&!1===c&&i.preventDefault(),c}}function Nt(e=1){return function zq(e){return(Y.lFrame.contextLView=function iT(e,t){for(;e>0;)t=t[tc],e--;return t}(e,Y.lFrame.contextLView))[ze]}(e)}function ln(e,t=""){const n=C(),r=pe(),o=e+ne,s=r.firstCreatePass?_c(r,o,1,t,null):r.data[o],i=vx(r,n,s,t,e);n[o]=i,Bu()&&Hp(r,n,i,s),Jr(s,!1)}let vx=(e,t,n,r,o)=>(Zr(!0),function Xb(e,t){return e.createText(t)}(t[K],r));function Af(e){return Li("",e,""),Af}function Li(e,t,n){const r=C(),o=function Tc(e,t,n,r){return gt(e,Nr(),n)?t+te(n)+r:re}(r,e,t,n);return o!==re&&function jo(e,t,n){const r=Pu(t,e);!function BR(e,t,n){e.setValue(t,n)}(e[K],r,n)}(r,sn(),o),Li}let v6=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=Nv(0,n.type),o=r.length>0?jE([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,o)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=F({token:e,providedIn:"environment",factory:()=>new e(j(Un))})}}return e})();function Bc(e){(function ro(e){OO.has(e)||(OO.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))})("NgStandalone"),e.getStandaloneInjector=t=>t.get(v6).getOrCreateStandaloneInjector(e)}function hS(e,t,n,r){return Ax(C(),yn(),e,t,n,r)}function Ax(e,t,n,r,o,s){const i=t+n;return gt(e,i,o)?function oo(e,t,n){return e[t]=n}(e,i+1,s?r.call(s,o):r(o)):function xf(e,t){const n=e[t];return n===re?void 0:n}(e,i+1)}function pS(e,t){const n=pe();let r;const o=e+ne;n.firstCreatePass?(r=function k6(e,t){if(t)for(let n=t.length-1;n>=0;n--){const r=t[n];if(e===r.name)return r}}(t,n.pipeRegistry),n.data[o]=r,r.onDestroy&&(n.destroyHooks??=[]).push(o,r.onDestroy)):r=n.data[o];const s=r.factory||(r.factory=Ei(r.type)),a=Tn(H);try{const c=vp(!1),l=s();return vp(c),function e6(e,t,n,r){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=r}(n,C(),o,l),l}finally{Tn(a)}}function gS(e,t,n){const r=e+ne,o=C(),s=function oc(e,t){return e[t]}(o,r);return function Nf(e,t){return e[x].data[t].pure}(o,r)?Ax(o,yn(),t,s.transform,n,s):s.transform(n)}let Jx=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();const rN=new P(""),Ig=new P("");let wS,ES=(()=>{class e{constructor(n,r,o){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,wS||(function R7(e){wS=e}(o),o.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{xe.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb()}});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,o){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(i=>i.timeoutId!==s),n()},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:o})}whenStable(n,r,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,o),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,o){return[]}static{this.\u0275fac=function(r){return new(r||e)(j(xe),j(SS),j(Ig))}}static{this.\u0275prov=F({token:e,factory:e.\u0275fac})}}return e})(),SS=(()=>{class e{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return wS?.findTestabilityInTree(this,n,r)??null}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();function Mg(e){return!!e&&"function"==typeof e.then}function oN(e){return!!e&&"function"==typeof e.subscribe}const O7=new P("");let CS=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=A(O7,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const o of this.appInits){const s=o();if(Mg(s))n.push(s);else if(oN(s)){const i=new Promise((a,c)=>{s.subscribe({complete:a,error:c})});n.push(i)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(o=>{this.reject(o)}),0===n.length&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const DS=new P("");function aN(e,t){return Array.isArray(t)?t.reduce(aN,e):{...e,...t}}let Ls=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=A(BT),this.afterRenderEffectManager=A(pf),this.externalTestViews=new Set,this.beforeRender=new Vt,this.afterTick=new Vt,this.componentTypes=[],this.components=[],this.isStable=A(ks).hasPendingTasks.pipe(le(n=>!n)),this._injector=A(Un)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const o=n instanceof MO;if(!this._injector.get(CS).done)throw!o&&function ws(e){const t=de(e)||Ot(e)||Kt(e);return null!==t&&t.standalone}(n),new k(405,!1);let i;i=o?n:this._injector.get(eg).resolveComponentFactory(n),this.componentTypes.push(i.componentType);const a=function k7(e){return e.isBoundToModule}(i)?void 0:this._injector.get(Ai),l=i.create(Hn.NULL,[],r||i.selector,a),u=l.location.nativeElement,f=l.injector.get(rN,null);return f?.registerApplication(u),l.onDestroy(()=>{this.detachView(l.hostView),Tg(this.components,l),f?.unregisterApplication(u)}),this._loadComponent(l),l}tick(){this._tick(!0)}_tick(n){if(this._runningTick)throw new k(101,!1);const r=ce(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(n)}catch(o){this.internalErrorHandler(o)}finally{this.afterTick.next(),this._runningTick=!1,ce(r)}}detectChangesInAttachedViews(n){let r=0;const o=this.afterRenderEffectManager;for(;;){if(r===_O)throw new k(103,!1);if(n){const s=0===r;this.beforeRender.next(s);for(let{_lView:i,notifyErrorHandler:a}of this._views)x7(i,s,a)}if(r++,o.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>IS(s))&&(o.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>IS(s))))break}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;Tg(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(DS,[]);[...this._bootstrapListeners,...r].forEach(o=>o(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Tg(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new k(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Tg(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}function x7(e,t,n){!t&&!IS(e)||function N7(e,t,n){let r;n?(r=0,e[$]|=1024):r=64&e[$]?0:1,Gp(e,t,r)}(e,n,t)}function IS(e){return Qv(e)}class P7{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let F7=(()=>{class e{compileModuleSync(n){return new LE(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),s=qn(tn(n).declarations).reduce((i,a)=>{const c=de(a);return c&&i.push(new _f(c)),i},[]);return new P7(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),B7=(()=>{class e{constructor(){this.zone=A(xe),this.applicationRef=A(Ls)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function U7(){const e=A(xe),t=A(to);return n=>e.runOutsideAngular(()=>t.handleError(n))}let $7=(()=>{class e{constructor(){this.subscription=new gn,this.initialized=!1,this.zone=A(xe),this.pendingTasks=A(ks)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{xe.assertNotInAngularZone(),queueMicrotask(()=>{null!==n&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{xe.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const Uo=new P("",{providedIn:"root",factory:()=>A(Uo,he.Optional|he.SkipSelf)||function H7(){return typeof $localize<"u"&&$localize.locale||jc}()}),MS=new P("");let fN=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const o=function yX(e="zone.js",t){return"noop"===e?new NO:"zone.js"===e?new xe(t):e}(r?.ngZone,function uN(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return o.run(()=>{const s=function fG(e,t,n){return new FE(e,t,n)}(n.moduleType,this.injector,function lN(e){return[{provide:xe,useFactory:e},{provide:Si,multi:!0,useFactory:()=>{const t=A(B7,{optional:!0});return()=>t.initialize()}},{provide:Si,multi:!0,useFactory:()=>{const t=A($7);return()=>{t.initialize()}}},{provide:BT,useFactory:U7}]}(()=>o)),i=s.injector.get(to,null);return o.runOutsideAngular(()=>{const a=o.onError.subscribe({next:c=>{i.handleError(c)}});s.onDestroy(()=>{Tg(this._modules,s),a.unsubscribe()})}),function iN(e,t,n){try{const r=n();return Mg(r)?r.catch(o=>{throw t.runOutsideAngular(()=>e.handleError(o)),o}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(i,o,()=>{const a=s.injector.get(CS);return a.runInitializers(),a.donePromise.then(()=>(function wA(e){"string"==typeof e&&(SA=e.toLowerCase().replace(/_/g,"-"))}(s.injector.get(Uo,jc)||jc),this._moduleDoBootstrap(s),s))})})}bootstrapModule(n,r=[]){const o=aN({},r);return function j7(e,t,n){const r=new LE(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,o))}_moduleDoBootstrap(n){const r=n.injector.get(Ls);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(o=>r.bootstrap(o));else{if(!n.instance.ngDoBootstrap)throw new k(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new k(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(MS,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(r){return new(r||e)(j(Hn))}}static{this.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})(),js=null;const dN=new P("");function hN(e,t,n=[]){const r=`Platform: ${t}`,o=new P(r);return(s=[])=>{let i=TS();if(!i||i.injector.get(dN,!1)){const a=[...n,...s,{provide:o,useValue:!0}];e?e(a):function W7(e){if(js&&!js.get(dN,!1))throw new k(400,!1);(function sN(){!function QH(e){r0=e}(()=>{throw new k(600,!1)})})(),js=e;const t=e.get(fN);(function gN(e){e.get(aR,null)?.forEach(n=>n())})(e)}(function pN(e=[],t){return Hn.create({name:t,providers:[{provide:Lv,useValue:"platform"},{provide:MS,useValue:new Set([()=>js=null])},...e]})}(a,r))}return function X7(e){const t=TS();if(!t)throw new k(401,!1);return t}()}}function TS(){return js?.get(fN)??null}let Og=(()=>{class e{static{this.__NG_ELEMENT_ID__=K7}}return e})();function K7(e){return function Y7(e,t,n){if(Di(e)&&!n){const r=$n(e.index,t);return new lf(r,r)}return 47&e.type?new lf(t[ct],t):null}(Pe(),C(),!(16&~e))}class bN{constructor(){}supports(t){return cg(t)}create(t){return new t9(t)}}const e9=(e,t)=>t;class t9{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||e9}forEachItem(t){let n;for(n=this._itHead;null!==n;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,o=0,s=null;for(;n||r;){const i=!r||n&&n.currentIndex<SN(r,o,s)?n:r,a=SN(i,o,s),c=i.currentIndex;if(i===r)o--,r=r._nextRemoved;else if(n=n._next,null==i.previousIndex)o++;else{s||(s=[]);const l=a-o,u=c-o;if(l!=u){for(let d=0;d<l;d++){const p=d<s.length?s[d]:s[d]=0,g=p+d;u<=g&&g<l&&(s[d]=p+1)}s[i.previousIndex]=u-l}}a!==c&&t(i,a,c)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)t(n)}diff(t){if(null==t&&(t=[]),!cg(t))throw new k(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let o,s,i,n=this._itHead,r=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)s=t[a],i=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,i)?(r&&(n=this._verifyReinsertion(n,s,i,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,i,a),r=!0),n=n._next}else o=0,function gG(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Symbol.iterator]();let r;for(;!(r=n.next()).done;)t(r.value)}}(t,a=>{i=this._trackByFn(o,a),null!==n&&Object.is(n.trackById,i)?(r&&(n=this._verifyReinsertion(n,a,i,o)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,i,o),r=!0),n=n._next,o++}),this.length=o;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,o){let s;return null===t?s=this._itTail:(s=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,s,o)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(r,o))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,s,o)):t=this._addAfter(new n9(n,r),s,o),t}_verifyReinsertion(t,n,r,o){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?t=this._reinsertAfter(s,t._prev,o):t.currentIndex!=o&&(t.currentIndex=o,this._addToMoves(t,o)),t}_truncate(t){for(;null!==t;){const n=t._next;this._addToRemovals(this._unlink(t)),t=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const o=t._prevRemoved,s=t._nextRemoved;return null===o?this._removalsHead=s:o._nextRemoved=s,null===s?this._removalsTail=o:s._prevRemoved=o,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){const o=null===n?this._itHead:n._next;return t._next=o,t._prev=n,null===o?this._itTail=t:o._prev=t,null===n?this._itHead=t:n._next=t,null===this._linkedRecords&&(this._linkedRecords=new EN),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const n=t._prev,r=t._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new EN),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class n9{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class r9{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){const n=t._prevDup,r=t._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class EN{constructor(){this.map=new Map}put(t){const n=t.trackById;let r=this.map.get(n);r||(r=new r9,this.map.set(n,r)),r.add(t)}get(t,n){const o=this.map.get(t);return o?o.get(t,n):null}remove(t){const n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function SN(e,t,n){const r=e.previousIndex;if(null===r)return r;let o=0;return n&&r<n.length&&(o=n[r]),r+t+o}function CN(){return new xS([new bN])}let xS=(()=>{class e{static{this.\u0275prov=F({token:e,providedIn:"root",factory:CN})}constructor(n){this.factories=n}static create(n,r){if(null!=r){const o=r.factories.slice();n=n.concat(o)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||CN()),deps:[[e,new Tv,new Mv]]}}find(n){const r=this.factories.find(o=>o.supports(n));if(null!=r)return r;throw new k(901,!1)}}return e})();const c9=hN(null,"core",[]);let l9=(()=>{class e{constructor(n){}static{this.\u0275fac=function(r){return new(r||e)(j(Ls))}}static{this.\u0275mod=Ss({type:e})}static{this.\u0275inj=Oo({})}}return e})();function XN(e){const t=ce(null);try{return e()}finally{ce(t)}}let GN=null;function Hc(){return GN}class z9{}const lr=new P("");let KN=(()=>{class e{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=F({token:e,factory:()=>A(W9),providedIn:"platform"})}}return e})(),W9=(()=>{class e extends KN{constructor(){super(),this._doc=A(lr),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Hc().getBaseHref(this._doc)}onPopState(n){const r=Hc().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=Hc().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,o){this._history.pushState(n,r,o)}replaceState(n,r,o){this._history.replaceState(n,r,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=F({token:e,factory:()=>new e,providedIn:"platform"})}}return e})();function YN(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function QN(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function Bi(e){return e&&"?"!==e[0]?"?"+e:e}let Bg=(()=>{class e{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=F({token:e,factory:()=>A(G9),providedIn:"root"})}}return e})();const X9=new P("");let G9=(()=>{class e extends Bg{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??A(lr).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return YN(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+Bi(this._platformLocation.search),o=this._platformLocation.hash;return o&&n?`${r}${o}`:r}pushState(n,r,o,s){const i=this.prepareExternalUrl(o+Bi(s));this._platformLocation.pushState(n,r,i)}replaceState(n,r,o,s){const i=this.prepareExternalUrl(o+Bi(s));this._platformLocation.replaceState(n,r,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||e)(j(KN),j(X9,8))}}static{this.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Bf=(()=>{class e{constructor(n){this._subject=new an,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function Q9(e){if(new RegExp("^(https?:)?//").test(e)){const[,n]=e.split(/\/\/[^\/]+/);return n}return e}(QN(JN(r))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Bi(r))}normalize(n){return e.stripTrailingSlash(function Y9(e,t){if(!e||!t.startsWith(e))return t;const n=t.substring(e.length);return""===n||["/",";","?","#"].includes(n[0])?n:t}(this._basePath,JN(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",o=null){this._locationStrategy.pushState(o,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Bi(r)),o)}replaceState(n,r="",o=null){this._locationStrategy.replaceState(o,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Bi(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(o=>o(n,r))}subscribe(n,r,o){return this._subject.subscribe({next:n,error:r,complete:o})}static{this.normalizeQueryParams=Bi}static{this.joinWithSlash=YN}static{this.stripTrailingSlash=QN}static{this.\u0275fac=function(r){return new(r||e)(j(Bg))}}static{this.\u0275prov=F({token:e,factory:()=>function K9(){return new Bf(j(Bg))}(),providedIn:"root"})}}return e})();function JN(e){return e.replace(/\/index.html$/,"")}function aP(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const r=n.indexOf("="),[o,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(o.trim()===t)return decodeURIComponent(s)}return null}const WS=/\s+/,cP=[];let lP=(()=>{class e{constructor(n,r){this._ngEl=n,this._renderer=r,this.initialClasses=cP,this.stateMap=new Map}set klass(n){this.initialClasses=null!=n?n.trim().split(WS):cP}set ngClass(n){this.rawClass="string"==typeof n?n.trim().split(WS):n}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(const r of n)this._updateState(r,!0);else if(null!=n)for(const r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){const o=this.stateMap.get(n);void 0!==o?(o.enabled!==r&&(o.changed=!0,o.enabled=r),o.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const n of this.stateMap){const r=n[0],o=n[1];o.changed?(this._toggleClass(r,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),o.touched=!1}}_toggleClass(n,r){(n=n.trim()).length>0&&n.split(WS).forEach(o=>{r?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}static{this.\u0275fac=function(r){return new(r||e)(H(Ds),H(tg))}}static{this.\u0275dir=mn({type:e,selectors:[["","ngClass",""]],inputs:{klass:[Rr.None,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return e})();class FK{constructor(t,n,r,o){this.$implicit=t,this.ngForOf=n,this.index=r,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let XS=(()=>{class e{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,o){this._viewContainer=n,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((o,s,i)=>{if(null==o.previousIndex)r.createEmbeddedView(this._template,new FK(o.item,this._ngForOf,-1,-1),null===i?void 0:i);else if(null==i)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,i),fP(a,o)}});for(let o=0,s=r.length;o<s;o++){const a=r.get(o).context;a.index=o,a.count=s,a.ngForOf=this._ngForOf}n.forEachIdentityChange(o=>{fP(r.get(o.currentIndex),o)})}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||e)(H(Fr),H(Bo),H(xS))}}static{this.\u0275dir=mn({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return e})();function fP(e,t){e.context.$implicit=t.item}let Qg=(()=>{class e{constructor(n,r){this._viewContainer=n,this._context=new LK,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){dP("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){dP("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||e)(H(Fr),H(Bo))}}static{this.\u0275dir=mn({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return e})();class LK{constructor(){this.$implicit=null,this.ngIf=null}}function dP(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${Rt(t)}'.`)}class VK{createSubscription(t,n){return XN(()=>t.subscribe({next:n,error:r=>{throw r}}))}dispose(t){XN(()=>t.unsubscribe())}}class $K{createSubscription(t,n){return t.then(n,r=>{throw r})}dispose(t){}}const HK=new $K,qK=new VK;let YS=(()=>{class e{constructor(n){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){if(!this._obj){if(n)try{this.markForCheckOnValueUpdate=!1,this._subscribe(n)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,r=>this._updateLatestValue(n,r))}_selectStrategy(n){if(Mg(n))return HK;if(oN(n))return qK;throw function Ur(e,t){return new k(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,r){n===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static{this.\u0275fac=function(r){return new(r||e)(H(Og,16))}}static{this.\u0275pipe=On({name:"async",type:e,pure:!1,standalone:!0})}}return e})(),gP=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=Ss({type:e})}static{this.\u0275inj=Oo({})}}return e})();const mP="browser";function _P(e){return e===mP}function yP(e){return"server"===e}class Jg{}class BY extends z9{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ew extends BY{static makeCurrent(){!function q9(e){GN??=e}(new ew)}onAndCancel(t,n,r){return t.addEventListener(n,r),()=>{t.removeEventListener(n,r)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,n){return(n=n||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return"window"===n?window:"document"===n?t:"body"===n?t.body:null}getBaseHref(t){const n=function UY(){return Hf=Hf||document.querySelector("base"),Hf?Hf.getAttribute("href"):null}();return null==n?null:function VY(e){return new URL(e,document.baseURI).pathname}(n)}resetBaseElement(){Hf=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return aP(document.cookie,t)}}let Hf=null,HY=(()=>{class e{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=F({token:e,factory:e.\u0275fac})}}return e})();const tw=new P("");let MP=(()=>{class e{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(o=>{o.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,o){return this._findPluginFor(r).addEventListener(n,r,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(s=>s.supports(n)),!r)throw new k(5101,!1);return this._eventNameToPlugin.set(n,r),r}static{this.\u0275fac=function(r){return new(r||e)(j(tw),j(xe))}}static{this.\u0275prov=F({token:e,factory:e.\u0275fac})}}return e})();class TP{constructor(t){this._doc=t}}const nw="ng-app-id";let RP=(()=>{class e{constructor(n,r,o,s={}){this.doc=n,this.appId=r,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=yP(s),this.resetHostNodes()}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.elements?.forEach(o=>o.remove()),r.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${nw}="${this.appId}"]`);if(n?.length){const r=new Map;return n.forEach(o=>{null!=o.textContent&&r.set(o.textContent,o)}),r}return null}changeUsageCount(n,r){const o=this.styleRef;if(o.has(n)){const s=o.get(n);return s.usage+=r,s.usage}return o.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){const o=this.styleNodesInDOM,s=o?.get(r);if(s?.parentNode===n)return o.delete(r),s.removeAttribute(nw),s;{const i=this.doc.createElement("style");return this.nonce&&i.setAttribute("nonce",this.nonce),i.textContent=r,this.platformIsServer&&i.setAttribute(nw,this.appId),n.appendChild(i),i}}addStyleToHost(n,r){const o=this.getStyleElement(n,r),s=this.styleRef,i=s.get(r)?.elements;i?i.push(o):s.set(r,{elements:[o],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||e)(j(lr),j(Tp),j(Cb,8),j(Fo))}}static{this.\u0275prov=F({token:e,factory:e.\u0275fac})}}return e})();const rw={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ow=/%COMP%/g,XY=new P("",{providedIn:"root",factory:()=>!0});function kP(e,t){return t.map(n=>n.replace(ow,e))}let AP=(()=>{class e{constructor(n,r,o,s,i,a,c,l=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=i,this.platformId=a,this.ngZone=c,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=yP(a),this.defaultRenderer=new sw(n,i,c,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Tr.ShadowDom&&(r={...r,encapsulation:Tr.Emulated});const o=this.getOrCreateRenderer(n,r);return o instanceof NP?o.applyToHost(n):o instanceof iw&&o.applyStyles(),o}getOrCreateRenderer(n,r){const o=this.rendererByCompId;let s=o.get(r.id);if(!s){const i=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,f=this.platformIsServer;switch(r.encapsulation){case Tr.Emulated:s=new NP(c,l,r,this.appId,u,i,a,f);break;case Tr.ShadowDom:return new QY(c,l,n,r,i,a,this.nonce,f);default:s=new iw(c,l,r,u,i,a,f)}o.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||e)(j(MP),j(RP),j(Tp),j(XY),j(lr),j(Fo),j(xe),j(Cb))}}static{this.\u0275prov=F({token:e,factory:e.\u0275fac})}}return e})();class sw{constructor(t,n,r,o){this.eventManager=t,this.doc=n,this.ngZone=r,this.platformIsServer=o,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t,n){return n?this.doc.createElementNS(rw[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(xP(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(xP(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){t&&t.removeChild(n)}selectRootElement(t,n){let r="string"==typeof t?this.doc.querySelector(t):t;if(!r)throw new k(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,o){if(o){n=o+":"+n;const s=rw[o];s?t.setAttributeNS(s,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){const o=rw[r];o?t.removeAttributeNS(o,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,o){o&(Ts.DashCase|Ts.Important)?t.style.setProperty(n,r,o&Ts.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&Ts.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){null!=t&&(t[n]=r)}setValue(t,n){t.nodeValue=n}listen(t,n,r){if("string"==typeof t&&!(t=Hc().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${n}`);return this.eventManager.addEventListener(t,n,this.decoratePreventDefault(r))}decoratePreventDefault(t){return n=>{if("__ngUnwrap__"===n)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(n)):t(n))&&n.preventDefault()}}}function xP(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class QY extends sw{constructor(t,n,r,o,s,i,a,c){super(t,s,i,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=kP(o.id,o.styles);for(const u of l){const f=document.createElement("style");a&&f.setAttribute("nonce",a),f.textContent=u,this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(this.nodeOrShadowRoot(t),n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class iw extends sw{constructor(t,n,r,o,s,i,a,c){super(t,s,i,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=o,this.styles=c?kP(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class NP extends iw{constructor(t,n,r,o,s,i,a,c){const l=o+"-"+r.id;super(t,n,r,s,i,a,c,l),this.contentAttr=function GY(e){return"_ngcontent-%COMP%".replace(ow,e)}(l),this.hostAttr=function KY(e){return"_nghost-%COMP%".replace(ow,e)}(l)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){const r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}}let JY=(()=>{class e extends TP{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,o){return n.addEventListener(r,o,!1),()=>this.removeEventListener(n,r,o)}removeEventListener(n,r,o){return n.removeEventListener(r,o)}static{this.\u0275fac=function(r){return new(r||e)(j(lr))}}static{this.\u0275prov=F({token:e,factory:e.\u0275fac})}}return e})();const PP=["alt","control","meta","shift"],ZY={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},eQ={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let tQ=(()=>{class e extends TP{constructor(n){super(n)}supports(n){return null!=e.parseEventName(n)}addEventListener(n,r,o){const s=e.parseEventName(r),i=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Hc().onAndCancel(n,s.domEventName,i))}static parseEventName(n){const r=n.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const s=e._normalizeKey(r.pop());let i="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),i="code."),PP.forEach(l=>{const u=r.indexOf(l);u>-1&&(r.splice(u,1),i+=l+".")}),i+=s,0!=r.length||0===s.length)return null;const c={};return c.domEventName=o,c.fullKey=i,c}static matchEventFullKeyCode(n,r){let o=ZY[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(o=n.code,s="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),PP.forEach(i=>{i!==o&&(0,eQ[i])(n)&&(s+=i+".")}),s+=o,s===r)}static eventCallback(n,r,o){return s=>{e.matchEventFullKeyCode(s,n)&&o.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}static{this.\u0275fac=function(r){return new(r||e)(j(lr))}}static{this.\u0275prov=F({token:e,factory:e.\u0275fac})}}return e})();const sQ=hN(c9,"browser",[{provide:Fo,useValue:mP},{provide:aR,useValue:function nQ(){ew.makeCurrent()},multi:!0},{provide:lr,useFactory:function oQ(){return function $z(e){wb=e}(document),document},deps:[]}]),iQ=new P(""),jP=[{provide:Ig,useClass:class $Y{addToWindow(t){Ae.getAngularTestability=(r,o=!0)=>{const s=t.findTestabilityInTree(r,o);if(null==s)throw new k(5103,!1);return s},Ae.getAllAngularTestabilities=()=>t.getAllTestabilities(),Ae.getAllAngularRootElements=()=>t.getAllRootElements(),Ae.frameworkStabilizers||(Ae.frameworkStabilizers=[]),Ae.frameworkStabilizers.push(r=>{const o=Ae.getAllAngularTestabilities();let s=o.length;const i=function(){s--,0==s&&r()};o.forEach(a=>{a.whenStable(i)})})}findTestabilityInTree(t,n,r){return null==n?null:t.getTestability(n)??(r?Hc().isShadowRoot(n)?this.findTestabilityInTree(t,n.host,!0):this.findTestabilityInTree(t,n.parentElement,!0):null)}},deps:[]},{provide:rN,useClass:ES,deps:[xe,SS,Ig]},{provide:ES,useClass:ES,deps:[xe,SS,Ig]}],BP=[{provide:Lv,useValue:"root"},{provide:to,useFactory:function rQ(){return new to},deps:[]},{provide:tw,useClass:JY,multi:!0,deps:[lr,xe,Fo]},{provide:tw,useClass:tQ,multi:!0,deps:[lr]},AP,RP,MP,{provide:RO,useExisting:AP},{provide:Jg,useClass:HY,deps:[]},[]];let aQ=(()=>{class e{constructor(n){}static withServerTransition(n){return{ngModule:e,providers:[{provide:Tp,useValue:n.appId}]}}static{this.\u0275fac=function(r){return new(r||e)(j(iQ,12))}}static{this.\u0275mod=Ss({type:e})}static{this.\u0275inj=Oo({providers:[...BP,...jP],imports:[gP,l9]})}}return e})(),cQ=(()=>{class e{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static{this.\u0275fac=function(r){return new(r||e)(j(lr))}}static{this.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function HP(e){return Array.isArray(e)?e:[e]}const{isArray:hQ}=Array,{getPrototypeOf:pQ,prototype:gQ,keys:mQ}=Object;function Bs(e){return this instanceof Bs?(this.v=e,this):new Bs(e)}function XP(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=e[Symbol.asyncIterator];return t?t.call(e):(e=function uw(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=e[s]&&function(i){return new Promise(function(a,c){!function o(s,i,a,c){Promise.resolve(c).then(function(l){s({value:l,done:a})},i)}(a,c,(i=e[s](i)).done,i.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const GP=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function KP(e){return Ze(e?.then)}function YP(e){return Ze(e[fv])}function QP(e){return Symbol.asyncIterator&&Ze(e?.[Symbol.asyncIterator])}function JP(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const ZP=function UQ(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function eF(e){return Ze(e?.[ZP])}function tF(e){return function WP(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,r=n.apply(e,t||[]),s=[];return o={},i("next"),i("throw"),i("return"),o[Symbol.asyncIterator]=function(){return this},o;function i(d){r[d]&&(o[d]=function(p){return new Promise(function(g,m){s.push([d,p,g,m])>1||a(d,p)})})}function a(d,p){try{!function c(d){d.value instanceof Bs?Promise.resolve(d.value.v).then(l,u):f(s[0][2],d)}(r[d](p))}catch(g){f(s[0][3],g)}}function l(d){a("next",d)}function u(d){a("throw",d)}function f(d,p){d(p),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const n=e.getReader();try{for(;;){const{value:r,done:o}=yield Bs(n.read());if(o)return yield Bs(void 0);yield yield Bs(r)}}finally{n.releaseLock()}})}function nF(e){return Ze(e?.getReader)}function ao(e){if(e instanceof et)return e;if(null!=e){if(YP(e))return function VQ(e){return new et(t=>{const n=e[fv]();if(Ze(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(GP(e))return function $Q(e){return new et(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}(e);if(KP(e))return function HQ(e){return new et(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,u0)})}(e);if(QP(e))return rF(e);if(eF(e))return function qQ(e){return new et(t=>{for(const n of e)if(t.next(n),t.closed)return;t.complete()})}(e);if(nF(e))return function zQ(e){return rF(tF(e))}(e)}throw JP(e)}function rF(e){return new et(t=>{(function WQ(e,t){var n,r,o,s;return function qP(e,t,n,r){return new(n||(n=Promise))(function(s,i){function a(u){try{l(r.next(u))}catch(f){i(f)}}function c(u){try{l(r.throw(u))}catch(f){i(f)}}function l(u){u.done?s(u.value):function o(s){return s instanceof n?s:new n(function(i){i(s)})}(u.value).then(a,c)}l((r=r.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){try{for(n=XP(e);!(r=yield n.next()).done;)if(t.next(r.value),t.closed)return}catch(i){o={error:i}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(o)throw o.error}}t.complete()})})(e,t).catch(n=>t.error(n))})}function Ho(e,t,n,r=0,o=!1){const s=t.schedule(function(){n(),o?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(s),!o)return s}function oF(e,t=0){return Mt((n,r)=>{n.subscribe(Tt(r,o=>Ho(r,e,()=>r.next(o),t),()=>Ho(r,e,()=>r.complete(),t),o=>Ho(r,e,()=>r.error(o),t)))})}function sF(e,t=0){return Mt((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function iF(e,t){if(!e)throw new Error("Iterable cannot be null");return new et(n=>{Ho(n,t,()=>{const r=e[Symbol.asyncIterator]();Ho(n,t,()=>{r.next().then(o=>{o.done?n.complete():n.next(o.value)})},0,!0)})})}function Qt(e,t){return t?function JQ(e,t){if(null!=e){if(YP(e))return function XQ(e,t){return ao(e).pipe(sF(t),oF(t))}(e,t);if(GP(e))return function KQ(e,t){return new et(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}(e,t);if(KP(e))return function GQ(e,t){return ao(e).pipe(sF(t),oF(t))}(e,t);if(QP(e))return iF(e,t);if(eF(e))return function YQ(e,t){return new et(n=>{let r;return Ho(n,t,()=>{r=e[ZP](),Ho(n,t,()=>{let o,s;try{({value:o,done:s}=r.next())}catch(i){return void n.error(i)}s?n.complete():n.next(o)},0,!0)}),()=>Ze(r?.return)&&r.return()})}(e,t);if(nF(e))return function QQ(e,t){return iF(tF(e),t)}(e,t)}throw JP(e)}(e,t):ao(e)}const{isArray:ZQ}=Array;function aF(e){return e&&Ze(e.schedule)}function fw(e){return e[e.length-1]}function nm(e){return aF(fw(e))?e.pop():void 0}function rm(...e){const t=nm(e),n=function nJ(e){return Ze(fw(e))?e.pop():void 0}(e),{args:r,keys:o}=function _Q(e){if(1===e.length){const t=e[0];if(hQ(t))return{args:t,keys:null};if(function yQ(e){return e&&"object"==typeof e&&pQ(e)===gQ}(t)){const n=mQ(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}(e);if(0===r.length)return Qt([],t);const s=new et(function oJ(e,t,n=bi){return r=>{cF(t,()=>{const{length:o}=e,s=new Array(o);let i=o,a=o;for(let c=0;c<o;c++)cF(t,()=>{const l=Qt(e[c],t);let u=!1;l.subscribe(Tt(r,f=>{s[c]=f,u||(u=!0,a--),a||r.next(n(s.slice()))},()=>{--i||r.complete()}))},r)},r)}}(r,t,o?i=>function rJ(e,t){return e.reduce((n,r,o)=>(n[r]=t[o],n),{})}(o,i):bi));return n?s.pipe(function tJ(e){return le(t=>function eJ(e,t){return ZQ(t)?e(...t):e(t)}(e,t))}(n)):s}function cF(e,t,n){e?Ho(n,e,t):t()}function wn(e,t,n=1/0){return Ze(t)?wn((r,o)=>le((s,i)=>t(r,s,o,i))(ao(e(r,o))),n):("number"==typeof t&&(n=t),Mt((r,o)=>function sJ(e,t,n,r,o,s,i,a){const c=[];let l=0,u=0,f=!1;const d=()=>{f&&!c.length&&!l&&t.complete()},p=m=>l<r?g(m):c.push(m),g=m=>{s&&t.next(m),l++;let y=!1;ao(n(m,u++)).subscribe(Tt(t,b=>{o?.(b),s?p(b):t.next(b)},()=>{y=!0},void 0,()=>{if(y)try{for(l--;c.length&&l<r;){const b=c.shift();i?Ho(t,i,()=>g(b)):g(b)}d()}catch(b){t.error(b)}}))};return e.subscribe(Tt(t,p,()=>{f=!0,d()})),()=>{a?.()}}(r,o,e,n)))}function om(...e){return function iJ(){return function dw(e=1/0){return wn(bi,e)}(1)}()(Qt(e,nm(e)))}const co=new et(e=>e.complete());function Us(e){return e<=0?()=>co:Mt((t,n)=>{let r=0;t.subscribe(Tt(n,o=>{++r<=e&&(n.next(o),e<=r&&n.complete())}))})}function qo(e,t){return Mt((n,r)=>{let o=0;n.subscribe(Tt(r,s=>e.call(t,s,o++)&&r.next(s)))})}class lJ extends gn{constructor(t,n){super()}schedule(t,n=0){return this}}const sm={setInterval(e,t,...n){const{delegate:r}=sm;return r?.setInterval?r.setInterval(e,t,...n):setInterval(e,t,...n)},clearInterval(e){const{delegate:t}=sm;return(t?.clearInterval||clearInterval)(e)},delegate:void 0},hw={now:()=>(hw.delegate||Date).now(),delegate:void 0};class zf{constructor(t,n=zf.now){this.schedulerActionCtor=t,this.now=n}schedule(t,n=0,r){return new this.schedulerActionCtor(this,t).schedule(r,n)}}zf.now=hw.now;const lF=new class fJ extends zf{constructor(t,n=zf.now){super(t,n),this.actions=[],this._active=!1}flush(t){const{actions:n}=this;if(this._active)return void n.push(t);let r;this._active=!0;do{if(r=t.execute(t.state,t.delay))break}while(t=n.shift());if(this._active=!1,r){for(;t=n.shift();)t.unsubscribe();throw r}}}(class uJ extends lJ{constructor(t,n){super(t,n),this.scheduler=t,this.work=n,this.pending=!1}schedule(t,n=0){var r;if(this.closed)return this;this.state=t;const o=this.id,s=this.scheduler;return null!=o&&(this.id=this.recycleAsyncId(s,o,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(t,n,r=0){return sm.setInterval(t.flush.bind(t,this),r)}recycleAsyncId(t,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&sm.clearInterval(n)}execute(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(t,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,n){let o,r=!1;try{this.work(t)}catch(s){r=!0,o=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),o}unsubscribe(){if(!this.closed){const{id:t,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,qh(r,this),null!=t&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,super.unsubscribe()}}}),dJ=lF;function im(...e){const t=nm(e);return Mt((n,r)=>{(t?om(e,n,t):om(e,n)).subscribe(r)})}function uF(e){return Mt((t,n)=>{ao(e).subscribe(Tt(n,()=>n.complete(),iv)),!n.closed&&t.subscribe(n)})}let pw;try{pw=typeof Intl<"u"&&Intl.v8BreakIterator}catch{pw=!1}let pJ=(()=>{class e{constructor(n){this._platformId=n,this.isBrowser=this._platformId?_P(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!pw)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static{this.\u0275fac=function(r){return new(r||e)(j(Fo))}}static{this.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const dF=new Set;let Vi,_J=(()=>{class e{constructor(n,r){this._platform=n,this._nonce=r,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):vJ}matchMedia(n){return(this._platform.WEBKIT||this._platform.BLINK)&&function yJ(e,t){if(!dF.has(e))try{Vi||(Vi=document.createElement("style"),t&&Vi.setAttribute("nonce",t),Vi.setAttribute("type","text/css"),document.head.appendChild(Vi)),Vi.sheet&&(Vi.sheet.insertRule(`@media ${e} {body{ }}`,0),dF.add(e))}catch(n){console.error(n)}}(n,this._nonce),this._matchMedia(n)}static{this.\u0275fac=function(r){return new(r||e)(j(pJ),j(Cb,8))}}static{this.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function vJ(e){return{matches:"all"===e||""===e,media:e,addListener:()=>{},removeListener:()=>{}}}let bJ=(()=>{class e{constructor(n,r){this._mediaMatcher=n,this._zone=r,this._queries=new Map,this._destroySubject=new Vt}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(n){return hF(HP(n)).some(o=>this._registerQuery(o).mql.matches)}observe(n){let s=rm(hF(HP(n)).map(i=>this._registerQuery(i).observable));return s=om(s.pipe(Us(1)),s.pipe(function cJ(e){return qo((t,n)=>e<=n)}(1),function hJ(e,t=lF){return Mt((n,r)=>{let o=null,s=null,i=null;const a=()=>{if(o){o.unsubscribe(),o=null;const l=s;s=null,r.next(l)}};function c(){const l=i+e,u=t.now();if(u<l)return o=this.schedule(void 0,l-u),void r.add(o);a()}n.subscribe(Tt(r,l=>{s=l,i=t.now(),o||(o=t.schedule(c,e),r.add(o))},()=>{a(),r.complete()},void 0,()=>{s=o=null}))})}(0))),s.pipe(le(i=>{const a={matches:!1,breakpoints:{}};return i.forEach(({matches:c,query:l})=>{a.matches=a.matches||c,a.breakpoints[l]=c}),a}))}_registerQuery(n){if(this._queries.has(n))return this._queries.get(n);const r=this._mediaMatcher.matchMedia(n),s={observable:new et(i=>{const a=c=>this._zone.run(()=>i.next(c));return r.addListener(a),()=>{r.removeListener(a)}}).pipe(im(r),le(({matches:i})=>({query:n,matches:i})),uF(this._destroySubject)),mql:r};return this._queries.set(n,s),s}static{this.\u0275fac=function(r){return new(r||e)(j(_J),j(xe))}}static{this.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function hF(e){return e.map(t=>t.split(",")).reduce((t,n)=>t.concat(n)).map(t=>t.trim())}const mw=new P("IManageGenres");var $i=function(e){return e.LIGHT="light",e.DARK="dark",e}($i||{});let SJ=(()=>{class e{constructor(n){this.document=n,this.currentMode=$i.LIGHT,this.modeChangedSubject=new Mn(this.currentMode),this.modeChanged$=this.modeChangedSubject.asObservable(),this.init()}updateCurrentMode(n){this.currentMode=n,this.modeChangedSubject.next(this.currentMode)}init(){const n=window.matchMedia("(prefers-color-scheme: dark)");let r=$i.LIGHT;r=n.matches?$i.DARK:$i.LIGHT,this.updateCurrentMode(r),this.document.body.classList.add(this.currentMode)}static{this.\u0275fac=function(r){return new(r||e)(j(lr))}}static{this.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function ee(...e){return Qt(e,nm(e))}const Gf=ov(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function pF(e){return new et(t=>{ao(e()).subscribe(t)})}function cm(e,t){const n=Ze(e)?e:()=>e,r=o=>o.error(n());return new et(t?o=>t.schedule(r,0,o):r)}function _w(){return Mt((e,t)=>{let n=null;e._refCount++;const r=Tt(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(n=null);const o=e._connection,s=n;n=null,o&&(!s||o===s)&&o.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}class gF extends et{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,p0(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new gn;const n=this.getSubject();t.add(this.source.subscribe(Tt(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=gn.EMPTY)}return t}refCount(){return _w()(this)}}function dr(e,t){return Mt((n,r)=>{let o=null,s=0,i=!1;const a=()=>i&&!o&&r.complete();n.subscribe(Tt(r,c=>{o?.unsubscribe();let l=0;const u=s++;ao(e(c,u)).subscribe(o=Tt(r,f=>r.next(t?t(c,f,u,l++):f),()=>{o=null,a()}))},()=>{i=!0,a()}))})}function lm(e){return Mt((t,n)=>{let r=!1;t.subscribe(Tt(n,o=>{r=!0,n.next(o)},()=>{r||n.next(e),n.complete()}))})}function mF(e=CJ){return Mt((t,n)=>{let r=!1;t.subscribe(Tt(n,o=>{r=!0,n.next(o)},()=>r?n.complete():n.error(e())))})}function CJ(){return new Gf}function zo(e,t){const n=arguments.length>=2;return r=>r.pipe(e?qo((o,s)=>e(o,s,r)):bi,Us(1),n?lm(t):mF(()=>new Gf))}function Hi(e,t){return Ze(t)?wn(e,t,1):wn(e,1)}function un(e,t,n){const r=Ze(e)||t||n?{next:e,error:t,complete:n}:e;return r?Mt((o,s)=>{var i;null===(i=r.subscribe)||void 0===i||i.call(r);let a=!0;o.subscribe(Tt(s,c=>{var l;null===(l=r.next)||void 0===l||l.call(r,c),s.next(c)},()=>{var c;a=!1,null===(c=r.complete)||void 0===c||c.call(r),s.complete()},c=>{var l;a=!1,null===(l=r.error)||void 0===l||l.call(r,c),s.error(c)},()=>{var c,l;a&&(null===(c=r.unsubscribe)||void 0===c||c.call(r)),null===(l=r.finalize)||void 0===l||l.call(r)}))}):bi}function Wc(e){return Mt((t,n)=>{let s,r=null,o=!1;r=t.subscribe(Tt(n,void 0,void 0,i=>{s=ao(e(i,Wc(e)(t))),r?(r.unsubscribe(),r=null,s.subscribe(n)):o=!0})),o&&(r.unsubscribe(),r=null,s.subscribe(n))})}function yw(e){return e<=0?()=>co:Mt((t,n)=>{let r=[];t.subscribe(Tt(n,o=>{r.push(o),e<r.length&&r.shift()},()=>{for(const o of r)n.next(o);n.complete()},void 0,()=>{r=null}))})}function Xc(e){return Mt((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}const se="primary",Kf=Symbol("RouteTitle");class RJ{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Gc(e){return new RJ(e)}function OJ(e,t,n){const r=n.path.split("/");if(r.length>e.length||"full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;const o={};for(let s=0;s<r.length;s++){const i=r[s],a=e[s];if(i.startsWith(":"))o[i.substring(1)]=a;else if(i!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:o}}function lo(e,t){const n=e?vw(e):void 0,r=t?vw(t):void 0;if(!n||!r||n.length!=r.length)return!1;let o;for(let s=0;s<n.length;s++)if(o=n[s],!_F(e[o],t[o]))return!1;return!0}function vw(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function _F(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const n=[...e].sort(),r=[...t].sort();return n.every((o,s)=>r[s]===o)}return e===t}function yF(e){return e.length>0?e[e.length-1]:null}function Vs(e){return function wJ(e){return!!e&&(e instanceof et||Ze(e.lift)&&Ze(e.subscribe))}(e)?e:Mg(e)?Qt(Promise.resolve(e)):ee(e)}const AJ={exact:function EF(e,t,n){if(!qi(e.segments,t.segments)||!um(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!e.children[r]||!EF(e.children[r],t.children[r],n))return!1;return!0},subset:SF},vF={exact:function xJ(e,t){return lo(e,t)},subset:function NJ(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>_F(e[n],t[n]))},ignored:()=>!0};function bF(e,t,n){return AJ[n.paths](e.root,t.root,n.matrixParams)&&vF[n.queryParams](e.queryParams,t.queryParams)&&!("exact"===n.fragment&&e.fragment!==t.fragment)}function SF(e,t,n){return wF(e,t,t.segments,n)}function wF(e,t,n,r){if(e.segments.length>n.length){const o=e.segments.slice(0,n.length);return!(!qi(o,n)||t.hasChildren()||!um(o,n,r))}if(e.segments.length===n.length){if(!qi(e.segments,n)||!um(e.segments,n,r))return!1;for(const o in t.children)if(!e.children[o]||!SF(e.children[o],t.children[o],r))return!1;return!0}{const o=n.slice(0,e.segments.length),s=n.slice(e.segments.length);return!!(qi(e.segments,o)&&um(e.segments,o,r)&&e.children[se])&&wF(e.children[se],t,s,r)}}function um(e,t,n){return t.every((r,o)=>vF[n](e[o].parameters,r.parameters))}class Kc{constructor(t=new je([],{}),n={},r=null){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Gc(this.queryParams),this._queryParamMap}toString(){return LJ.serialize(this)}}class je{constructor(t,n){this.segments=t,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return fm(this)}}class Yf{constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap??=Gc(this.parameters),this._parameterMap}toString(){return IF(this)}}function qi(e,t){return e.length===t.length&&e.every((n,r)=>n.path===t[r].path)}let Yc=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=F({token:e,factory:()=>new bw,providedIn:"root"})}}return e})();class bw{parse(t){const n=new GJ(t);return new Kc(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){const n=`/${Qf(t.root,!0)}`,r=function UJ(e){const t=Object.entries(e).map(([n,r])=>Array.isArray(r)?r.map(o=>`${dm(n)}=${dm(o)}`).join("&"):`${dm(n)}=${dm(r)}`).filter(n=>n);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${n}${r}${"string"==typeof t.fragment?`#${function jJ(e){return encodeURI(e)}(t.fragment)}`:""}`}}const LJ=new bw;function fm(e){return e.segments.map(t=>IF(t)).join("/")}function Qf(e,t){if(!e.hasChildren())return fm(e);if(t){const n=e.children[se]?Qf(e.children[se],!1):"",r=[];return Object.entries(e.children).forEach(([o,s])=>{o!==se&&r.push(`${o}:${Qf(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function FJ(e,t){let n=[];return Object.entries(e.children).forEach(([r,o])=>{r===se&&(n=n.concat(t(o,r)))}),Object.entries(e.children).forEach(([r,o])=>{r!==se&&(n=n.concat(t(o,r)))}),n}(e,(r,o)=>o===se?[Qf(e.children[se],!1)]:[`${o}:${Qf(r,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[se]?`${fm(e)}/${n[0]}`:`${fm(e)}/(${n.join("//")})`}}function CF(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function dm(e){return CF(e).replace(/%3B/gi,";")}function Ew(e){return CF(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function hm(e){return decodeURIComponent(e)}function DF(e){return hm(e.replace(/\+/g,"%20"))}function IF(e){return`${Ew(e.path)}${function BJ(e){return Object.entries(e).map(([t,n])=>`;${Ew(t)}=${Ew(n)}`).join("")}(e.parameters)}`}const VJ=/^[^\/()?;#]+/;function Sw(e){const t=e.match(VJ);return t?t[0]:""}const $J=/^[^\/()?;=#]+/,qJ=/^[^=?&#]+/,WJ=/^[^&#]+/;class GJ{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new je([],{}):new je([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[se]=new je(t,n)),r}parseSegment(){const t=Sw(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new k(4009,!1);return this.capture(t),new Yf(hm(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const n=function HJ(e){const t=e.match($J);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=Sw(this.remaining);o&&(r=o,this.capture(r))}t[hm(n)]=hm(r)}parseQueryParam(t){const n=function zJ(e){const t=e.match(qJ);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=function XJ(e){const t=e.match(WJ);return t?t[0]:""}(this.remaining);i&&(r=i,this.capture(r))}const o=DF(n),s=DF(r);if(t.hasOwnProperty(o)){let i=t[o];Array.isArray(i)||(i=[i],t[o]=i),i.push(s)}else t[o]=s}parseParens(t){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Sw(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new k(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=se);const i=this.parseChildren();n[s]=1===Object.keys(i).length?i[se]:new je([],i),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new k(4011,!1)}}function MF(e){return e.segments.length>0?new je([],{[se]:e}):e}function TF(e){const t={};for(const[r,o]of Object.entries(e.children)){const s=TF(o);if(r===se&&0===s.segments.length&&s.hasChildren())for(const[i,a]of Object.entries(s.children))t[i]=a;else(s.segments.length>0||s.hasChildren())&&(t[r]=s)}return function KJ(e){if(1===e.numberOfChildren&&e.children[se]){const t=e.children[se];return new je(e.segments.concat(t.segments),t.children)}return e}(new je(e.segments,t))}function Qc(e){return e instanceof Kc}function RF(e){let t;const o=MF(function n(s){const i={};for(const c of s.children){const l=n(c);i[c.outlet]=l}const a=new je(s.url,i);return s===e&&(t=a),a}(e.root));return t??o}function OF(e,t,n,r){let o=e;for(;o.parent;)o=o.parent;if(0===t.length)return ww(o,o,o,n,r);const s=function QJ(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new AF(!0,0,e);let t=0,n=!1;const r=e.reduce((o,s,i)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([c,l])=>{a[c]="string"==typeof l?l.split("/"):l}),[...o,{outlets:a}]}if(s.segmentPath)return[...o,s.segmentPath]}return"string"!=typeof s?[...o,s]:0===i?(s.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?n=!0:".."===a?t++:""!=a&&o.push(a))}),o):[...o,s]},[]);return new AF(n,t,r)}(t);if(s.toRoot())return ww(o,o,new je([],{}),n,r);const i=function JJ(e,t,n){if(e.isAbsolute)return new gm(t,!0,0);if(!n)return new gm(t,!1,NaN);if(null===n.parent)return new gm(n,!0,0);const r=pm(e.commands[0])?0:1;return function ZJ(e,t,n){let r=e,o=t,s=n;for(;s>o;){if(s-=o,r=r.parent,!r)throw new k(4005,!1);o=r.segments.length}return new gm(r,!1,o-s)}(n,n.segments.length-1+r,e.numberOfDoubleDots)}(s,o,e),a=i.processChildren?Zf(i.segmentGroup,i.index,s.commands):xF(i.segmentGroup,i.index,s.commands);return ww(o,i.segmentGroup,a,n,r)}function pm(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Jf(e){return"object"==typeof e&&null!=e&&e.outlets}function ww(e,t,n,r,o){let i,s={};r&&Object.entries(r).forEach(([c,l])=>{s[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`}),i=e===t?n:kF(e,t,n);const a=MF(TF(i));return new Kc(a,s,o)}function kF(e,t,n){const r={};return Object.entries(e.children).forEach(([o,s])=>{r[o]=s===t?n:kF(s,t,n)}),new je(e.segments,r)}class AF{constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&pm(r[0]))throw new k(4003,!1);const o=r.find(Jf);if(o&&o!==yF(r))throw new k(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class gm{constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}}function xF(e,t,n){if(e??=new je([],{}),0===e.segments.length&&e.hasChildren())return Zf(e,t,n);const r=function tZ(e,t,n){let r=0,o=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;o<e.segments.length;){if(r>=n.length)return s;const i=e.segments[o],a=n[r];if(Jf(a))break;const c=`${a}`,l=r<n.length-1?n[r+1]:null;if(o>0&&void 0===c)break;if(c&&l&&"object"==typeof l&&void 0===l.outlets){if(!PF(c,l,i))return s;r+=2}else{if(!PF(c,{},i))return s;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(e,t,n),o=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const s=new je(e.segments.slice(0,r.pathIndex),{});return s.children[se]=new je(e.segments.slice(r.pathIndex),e.children),Zf(s,0,o)}return r.match&&0===o.length?new je(e.segments,{}):r.match&&!e.hasChildren()?Cw(e,t,n):r.match?Zf(e,0,o):Cw(e,t,n)}function Zf(e,t,n){if(0===n.length)return new je(e.segments,{});{const r=function eZ(e){return Jf(e[0])?e[0].outlets:{[se]:e}}(n),o={};if(Object.keys(r).some(s=>s!==se)&&e.children[se]&&1===e.numberOfChildren&&0===e.children[se].segments.length){const s=Zf(e.children[se],t,n);return new je(e.segments,s.children)}return Object.entries(r).forEach(([s,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(o[s]=xF(e.children[s],t,i))}),Object.entries(e.children).forEach(([s,i])=>{void 0===r[s]&&(o[s]=i)}),new je(e.segments,o)}}function Cw(e,t,n){const r=e.segments.slice(0,t);let o=0;for(;o<n.length;){const s=n[o];if(Jf(s)){const c=nZ(s.outlets);return new je(r,c)}if(0===o&&pm(n[0])){r.push(new Yf(e.segments[t].path,NF(n[0]))),o++;continue}const i=Jf(s)?s.outlets[se]:`${s}`,a=o<n.length-1?n[o+1]:null;i&&a&&pm(a)?(r.push(new Yf(i,NF(a))),o+=2):(r.push(new Yf(i,{})),o++)}return new je(r,{})}function nZ(e){const t={};return Object.entries(e).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(t[n]=Cw(new je([],{}),0,r))}),t}function NF(e){const t={};return Object.entries(e).forEach(([n,r])=>t[n]=`${r}`),t}function PF(e,t,n){return e==n.path&&lo(t,n.parameters)}const ed="imperative";var ye=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(ye||{});class uo{constructor(t,n){this.id=t,this.url=n}}class Dw extends uo{constructor(t,n,r="imperative",o=null){super(t,n),this.type=ye.NavigationStart,this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class zi extends uo{constructor(t,n,r){super(t,n),this.urlAfterRedirects=r,this.type=ye.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var Xn=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(Xn||{}),Iw=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(Iw||{});class Jc extends uo{constructor(t,n,r,o){super(t,n),this.reason=r,this.code=o,this.type=ye.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class td extends uo{constructor(t,n,r,o){super(t,n),this.reason=r,this.code=o,this.type=ye.NavigationSkipped}}class mm extends uo{constructor(t,n,r,o){super(t,n),this.error=r,this.target=o,this.type=ye.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class FF extends uo{constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o,this.type=ye.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rZ extends uo{constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o,this.type=ye.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class oZ extends uo{constructor(t,n,r,o,s){super(t,n),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=s,this.type=ye.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class sZ extends uo{constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o,this.type=ye.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class iZ extends uo{constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o,this.type=ye.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class aZ{constructor(t){this.route=t,this.type=ye.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class cZ{constructor(t){this.route=t,this.type=ye.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class lZ{constructor(t){this.snapshot=t,this.type=ye.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class uZ{constructor(t){this.snapshot=t,this.type=ye.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fZ{constructor(t){this.snapshot=t,this.type=ye.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class dZ{constructor(t){this.snapshot=t,this.type=ye.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Mw{}class Tw{constructor(t){this.url=t}}class hZ{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new nd,this.attachRef=null}}let nd=(()=>{class e{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const o=this.getOrCreateContext(n);o.outlet=r,this.contexts.set(n,o)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new hZ,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();class LF{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){const n=Rw(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){const n=Rw(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){const n=Ow(t,this._root);return n.length<2?[]:n[n.length-2].children.map(o=>o.value).filter(o=>o!==t)}pathFromRoot(t){return Ow(t,this._root).map(n=>n.value)}}function Rw(e,t){if(e===t.value)return t;for(const n of t.children){const r=Rw(e,n);if(r)return r}return null}function Ow(e,t){if(e===t.value)return[t];for(const n of t.children){const r=Ow(e,n);if(r.length)return r.unshift(t),r}return[]}class Vr{constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}}function Zc(e){const t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}class jF extends LF{constructor(t,n){super(t),this.snapshot=n,xw(this,t)}toString(){return this.snapshot.toString()}}function BF(e){const t=function pZ(e){const s=new Aw([],{},{},"",{},se,e,null,{});return new UF("",new Vr(s,[]))}(e),n=new Mn([new Yf("",{})]),r=new Mn({}),o=new Mn({}),s=new Mn({}),i=new Mn(""),a=new Wi(n,r,s,i,o,se,e,t.root);return a.snapshot=t.root,new jF(new Vr(a,[]),t)}class Wi{constructor(t,n,r,o,s,i,a,c){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=o,this.dataSubject=s,this.outlet=i,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(le(l=>l[Kf]))??ee(void 0),this.url=t,this.params=n,this.queryParams=r,this.fragment=o,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(le(t=>Gc(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(le(t=>Gc(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function kw(e,t,n="emptyOnly"){let r;const{routeConfig:o}=e;return r=null===t||"always"!==n&&""!==o?.path&&(t.component||t.routeConfig?.loadComponent)?{params:{...e.params},data:{...e.data},resolve:{...e.data,...e._resolvedData??{}}}:{params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.data,...o?.data,...e._resolvedData}},o&&$F(o)&&(r.resolve[Kf]=o.title),r}class Aw{get title(){return this.data?.[Kf]}constructor(t,n,r,o,s,i,a,c,l){this.url=t,this.params=n,this.queryParams=r,this.fragment=o,this.data=s,this.outlet=i,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Gc(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Gc(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class UF extends LF{constructor(t,n){super(n),this.url=t,xw(this,n)}toString(){return VF(this._root)}}function xw(e,t){t.value._routerState=e,t.children.forEach(n=>xw(e,n))}function VF(e){const t=e.children.length>0?` { ${e.children.map(VF).join(", ")} } `:"";return`${e.value}${t}`}function Nw(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,lo(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),lo(t.params,n.params)||e.paramsSubject.next(n.params),function kJ(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!lo(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.urlSubject.next(n.url),lo(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function Pw(e,t){const n=lo(e.params,t.params)&&function PJ(e,t){return qi(e,t)&&e.every((n,r)=>lo(n.parameters,t[r].parameters))}(e.url,t.url);return n&&!(!e.parent!=!t.parent)&&(!e.parent||Pw(e.parent,t.parent))}function $F(e){return"string"==typeof e.title||null===e.title}let Fw=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=se,this.activateEvents=new an,this.deactivateEvents=new an,this.attachEvents=new an,this.detachEvents=new an,this.parentContexts=A(nd),this.location=A(Fr),this.changeDetector=A(Og),this.environmentInjector=A(Un),this.inputBinder=A(_m,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:o}=n.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new k(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new k(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new k(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new k(4013,!1);this._activatedRoute=n;const o=this.location,i=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new Lw(n,a,o.injector);this.activated=o.createComponent(i,{index:o.length,injector:c,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275dir=mn({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Ii]})}}return e})();class Lw{__ngOutletInjector(t){return new Lw(this.route,this.childContexts,t)}constructor(t,n,r){this.route=t,this.childContexts=n,this.parent=r}get(t,n){return t===Wi?this.route:t===nd?this.childContexts:this.parent.get(t,n)}}const _m=new P("");function rd(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=t.value;const o=function mZ(e,t,n){return t.children.map(r=>{for(const o of n.children)if(e.shouldReuseRoute(r.value,o.value.snapshot))return rd(e,r,o);return rd(e,r)})}(e,t,n);return new Vr(r,o)}{if(e.shouldAttach(t.value)){const s=e.retrieve(t.value);if(null!==s){const i=s.route;return i.value._futureSnapshot=t.value,i.children=t.children.map(a=>rd(e,a)),i}}const r=function _Z(e){return new Wi(new Mn(e.url),new Mn(e.params),new Mn(e.queryParams),new Mn(e.fragment),new Mn(e.data),e.outlet,e.component,e)}(t.value),o=t.children.map(s=>rd(e,s));return new Vr(r,o)}}const qF="ngNavigationCancelingError";function zF(e,t){const{redirectTo:n,navigationBehaviorOptions:r}=Qc(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,o=WF(!1,Xn.Redirect);return o.url=n,o.navigationBehaviorOptions=r,o}function WF(e,t){const n=new Error(`NavigationCancelingError: ${e||""}`);return n[qF]=!0,n.cancellationCode=t,n}function XF(e){return!!e&&e[qF]}let GF=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=Es({type:e,selectors:[["ng-component"]],standalone:!0,features:[Bc],decls:1,vars:0,template:function(r,o){1&r&&vn(0,"router-outlet")},dependencies:[Fw],encapsulation:2})}}return e})();function jw(e){const t=e.children&&e.children.map(jw),n=t?{...e,children:t}:{...e};return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==se&&(n.component=GF),n}function fo(e){return e.outlet||se}function od(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){const n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class DZ{constructor(t,n,r,o,s){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=o,this.inputBindingEnabled=s}activate(t){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),Nw(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){const o=Zc(n);t.children.forEach(s=>{const i=s.value.outlet;this.deactivateRoutes(s,o[i],r),delete o[i]}),Object.values(o).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(t,n,r){const o=t.value,s=n?n.value:null;if(o===s)if(o.component){const i=r.getContext(o.outlet);i&&this.deactivateChildRoutes(t,n,i.children)}else this.deactivateChildRoutes(t,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){const r=n.getContext(t.value.outlet),o=r&&t.value.component?r.children:n,s=Zc(t);for(const i of Object.values(s))this.deactivateRouteAndItsChildren(i,o);if(r&&r.outlet){const i=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:i,route:t,contexts:a})}}deactivateRouteAndOutlet(t,n){const r=n.getContext(t.value.outlet),o=r&&t.value.component?r.children:n,s=Zc(t);for(const i of Object.values(s))this.deactivateRouteAndItsChildren(i,o);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,n,r){const o=Zc(n);t.children.forEach(s=>{this.activateRoutes(s,o[s.value.outlet],r),this.forwardEvent(new dZ(s.value.snapshot))}),t.children.length&&this.forwardEvent(new uZ(t.value.snapshot))}activateRoutes(t,n,r){const o=t.value,s=n?n.value:null;if(Nw(o),o===s)if(o.component){const i=r.getOrCreateContext(o.outlet);this.activateChildRoutes(t,n,i.children)}else this.activateChildRoutes(t,n,r);else if(o.component){const i=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const a=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),i.children.onOutletReAttached(a.contexts),i.attachRef=a.componentRef,i.route=a.route.value,i.outlet&&i.outlet.attach(a.componentRef,a.route.value),Nw(a.route.value),this.activateChildRoutes(t,null,i.children)}else{const a=od(o.snapshot);i.attachRef=null,i.route=o,i.injector=a,i.outlet&&i.outlet.activateWith(o,i.injector),this.activateChildRoutes(t,null,i.children)}}else this.activateChildRoutes(t,null,r)}}class KF{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class ym{constructor(t,n){this.component=t,this.route=n}}function IZ(e,t,n){const r=e._root;return sd(r,t?t._root:null,n,[r.value])}function el(e,t){const n=Symbol(),r=t.get(e,n);return r===n?"function"!=typeof e||function b3(e){return null!==Yh(e)}(e)?t.get(e):e:r}function sd(e,t,n,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=Zc(t);return e.children.forEach(i=>{(function TZ(e,t,n,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=e.value,i=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(i&&s.routeConfig===i.routeConfig){const c=function RZ(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!qi(e.url,t.url);case"pathParamsOrQueryParamsChange":return!qi(e.url,t.url)||!lo(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Pw(e,t)||!lo(e.queryParams,t.queryParams);default:return!Pw(e,t)}}(i,s,s.routeConfig.runGuardsAndResolvers);c?o.canActivateChecks.push(new KF(r)):(s.data=i.data,s._resolvedData=i._resolvedData),sd(e,t,s.component?a?a.children:null:n,r,o),c&&a&&a.outlet&&a.outlet.isActivated&&o.canDeactivateChecks.push(new ym(a.outlet.component,i))}else i&&id(t,a,o),o.canActivateChecks.push(new KF(r)),sd(e,null,s.component?a?a.children:null:n,r,o)})(i,s[i.value.outlet],n,r.concat([i.value]),o),delete s[i.value.outlet]}),Object.entries(s).forEach(([i,a])=>id(a,n.getContext(i),o)),o}function id(e,t,n){const r=Zc(e),o=e.value;Object.entries(r).forEach(([s,i])=>{id(i,o.component?t?t.children.getContext(s):null:t,n)}),n.canDeactivateChecks.push(new ym(o.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,o))}function ad(e){return"function"==typeof e}function YF(e){return e instanceof Gf||"EmptyError"===e?.name}const vm=Symbol("INITIAL_VALUE");function tl(){return dr(e=>rm(e.map(t=>t.pipe(Us(1),im(vm)))).pipe(le(t=>{for(const n of t)if(!0!==n){if(n===vm)return vm;if(!1===n||n instanceof Kc)return n}return!0}),qo(t=>t!==vm),Us(1)))}function QF(e){return function u3(...e){return f0(e)}(un(t=>{if(Qc(t))throw zF(0,t)}),le(t=>!0===t))}class Bw{constructor(t){this.segmentGroup=t||null}}class Uw extends Error{constructor(t){super(),this.urlTree=t}}function nl(e){return cm(new Bw(e))}class GZ{constructor(t,n){this.urlSerializer=t,this.urlTree=n}lineralizeSegments(t,n){let r=[],o=n.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return ee(r);if(o.numberOfChildren>1||!o.children[se])return cm(new k(4e3,!1));o=o.children[se]}}applyRedirectCommands(t,n,r){const o=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,r);if(n.startsWith("/"))throw new Uw(o);return o}applyRedirectCreateUrlTree(t,n,r,o){const s=this.createSegmentGroup(t,n.root,r,o);return new Kc(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){const r={};return Object.entries(t).forEach(([o,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);r[o]=n[a]}else r[o]=s}),r}createSegmentGroup(t,n,r,o){const s=this.createSegments(t,n.segments,r,o);let i={};return Object.entries(n.children).forEach(([a,c])=>{i[a]=this.createSegmentGroup(t,c,r,o)}),new je(s,i)}createSegments(t,n,r,o){return n.map(s=>s.path.startsWith(":")?this.findPosParam(t,s,o):this.findOrReturn(s,r))}findPosParam(t,n,r){const o=r[n.path.substring(1)];if(!o)throw new k(4001,!1);return o}findOrReturn(t,n){let r=0;for(const o of n){if(o.path===t.path)return n.splice(r),o;r++}return t}}const Vw={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function KZ(e,t,n,r,o){const s=$w(e,t,n);return s.matched?(r=function vZ(e,t){return e.providers&&!e._injector&&(e._injector=jE(e.providers,t,`Route: ${e.path}`)),e._injector??t}(t,r),function zZ(e,t,n,r){const o=t.canMatch;return o&&0!==o.length?ee(o.map(i=>{const a=el(i,e);return Vs(function PZ(e){return e&&ad(e.canMatch)}(a)?a.canMatch(t,n):Ao(e,()=>a(t,n)))})).pipe(tl(),QF()):ee(!0)}(r,t,n).pipe(le(i=>!0===i?s:{...Vw}))):ee(s)}function $w(e,t,n){if("**"===t.path)return function YZ(e){return{matched:!0,parameters:e.length>0?yF(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}(n);if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{...Vw}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const o=(t.matcher||OJ)(n,e,t);if(!o)return{...Vw};const s={};Object.entries(o.posParams??{}).forEach(([a,c])=>{s[a]=c.path});const i=o.consumed.length>0?{...s,...o.consumed[o.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:o.consumed,remainingSegments:n.slice(o.consumed.length),parameters:i,positionalParamSegments:o.posParams??{}}}function JF(e,t,n,r){return n.length>0&&function ZZ(e,t,n){return n.some(r=>bm(e,t,r)&&fo(r)!==se)}(e,n,r)?{segmentGroup:new je(t,JZ(r,new je(n,e.children))),slicedSegments:[]}:0===n.length&&function eee(e,t,n){return n.some(r=>bm(e,t,r))}(e,n,r)?{segmentGroup:new je(e.segments,QZ(e,n,r,e.children)),slicedSegments:n}:{segmentGroup:new je(e.segments,e.children),slicedSegments:n}}function QZ(e,t,n,r){const o={};for(const s of n)if(bm(e,t,s)&&!r[fo(s)]){const i=new je([],{});o[fo(s)]=i}return{...r,...o}}function JZ(e,t){const n={};n[se]=t;for(const r of e)if(""===r.path&&fo(r)!==se){const o=new je([],{});n[fo(r)]=o}return n}function bm(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path}class ree{}class iee{constructor(t,n,r,o,s,i,a){this.injector=t,this.configLoader=n,this.rootComponentType=r,this.config=o,this.urlTree=s,this.paramsInheritanceStrategy=i,this.urlSerializer=a,this.applyRedirects=new GZ(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(t){return new k(4002,`'${t.segmentGroup}'`)}recognize(){const t=JF(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(le(n=>{const r=new Aw([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},se,this.rootComponentType,null,{}),o=new Vr(r,n),s=new UF("",o),i=function YJ(e,t,n=null,r=null){return OF(RF(e),t,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return i.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(i),this.inheritParamsAndData(s._root,null),{state:s,tree:i}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t,se).pipe(Wc(r=>{if(r instanceof Uw)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Bw?this.noMatchError(r):r}))}inheritParamsAndData(t,n){const r=t.value,o=kw(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(o.params),r.data=Object.freeze(o.data),t.children.forEach(s=>this.inheritParamsAndData(s,r))}processSegmentGroup(t,n,r,o){return 0===r.segments.length&&r.hasChildren()?this.processChildren(t,n,r):this.processSegment(t,n,r,r.segments,o,!0).pipe(le(s=>s instanceof Vr?[s]:[]))}processChildren(t,n,r){const o=[];for(const s of Object.keys(r.children))"primary"===s?o.unshift(s):o.push(s);return Qt(o).pipe(Hi(s=>{const i=r.children[s],a=function wZ(e,t){const n=e.filter(r=>fo(r)===t);return n.push(...e.filter(r=>fo(r)!==t)),n}(n,s);return this.processSegmentGroup(t,a,i,s)}),function IJ(e,t){return Mt(function DJ(e,t,n,r,o){return(s,i)=>{let a=n,c=t,l=0;s.subscribe(Tt(i,u=>{const f=l++;c=a?e(c,u,f):(a=!0,u),r&&i.next(c)},o&&(()=>{a&&i.next(c),i.complete()})))}}(e,t,arguments.length>=2,!0))}((s,i)=>(s.push(...i),s)),lm(null),function MJ(e,t){const n=arguments.length>=2;return r=>r.pipe(e?qo((o,s)=>e(o,s,r)):bi,yw(1),n?lm(t):mF(()=>new Gf))}(),wn(s=>{if(null===s)return nl(r);const i=ZF(s);return function aee(e){e.sort((t,n)=>t.value.outlet===se?-1:n.value.outlet===se?1:t.value.outlet.localeCompare(n.value.outlet))}(i),ee(i)}))}processSegment(t,n,r,o,s,i){return Qt(n).pipe(Hi(a=>this.processSegmentAgainstRoute(a._injector??t,n,a,r,o,s,i).pipe(Wc(c=>{if(c instanceof Bw)return ee(null);throw c}))),zo(a=>!!a),Wc(a=>{if(YF(a))return function nee(e,t,n){return 0===t.length&&!e.children[n]}(r,o,s)?ee(new ree):nl(r);throw a}))}processSegmentAgainstRoute(t,n,r,o,s,i,a){return function tee(e,t,n,r){return!!(fo(e)===r||r!==se&&bm(t,n,e))&&$w(t,e,n).matched}(r,o,s,i)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,o,r,s,i):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,o,n,r,s,i):nl(o):nl(o)}expandSegmentAgainstRouteUsingRedirect(t,n,r,o,s,i){const{matched:a,consumedSegments:c,positionalParamSegments:l,remainingSegments:u}=$w(n,o,s);if(!a)return nl(n);o.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const f=this.applyRedirects.applyRedirectCommands(c,o.redirectTo,l);return this.applyRedirects.lineralizeSegments(o,f).pipe(wn(d=>this.processSegment(t,r,n,d.concat(u),i,!1)))}matchSegmentAgainstRoute(t,n,r,o,s){const i=KZ(n,r,o,t);return"**"===r.path&&(n.children={}),i.pipe(dr(a=>a.matched?this.getChildConfig(t=r._injector??t,r,o).pipe(dr(({routes:c})=>{const l=r._loadedInjector??t,{consumedSegments:u,remainingSegments:f,parameters:d}=a,p=new Aw(u,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function lee(e){return e.data||{}}(r),fo(r),r.component??r._loadedComponent??null,r,function uee(e){return e.resolve||{}}(r)),{segmentGroup:g,slicedSegments:m}=JF(n,u,f,c);if(0===m.length&&g.hasChildren())return this.processChildren(l,c,g).pipe(le(b=>null===b?null:new Vr(p,b)));if(0===c.length&&0===m.length)return ee(new Vr(p,[]));const y=fo(r)===s;return this.processSegment(l,c,g,m,y?se:s,!0).pipe(le(b=>new Vr(p,b instanceof Vr?[b]:[])))})):nl(n)))}getChildConfig(t,n,r){return n.children?ee({routes:n.children,injector:t}):n.loadChildren?void 0!==n._loadedRoutes?ee({routes:n._loadedRoutes,injector:n._loadedInjector}):function qZ(e,t,n,r){const o=t.canLoad;return void 0===o||0===o.length?ee(!0):ee(o.map(i=>{const a=el(i,e);return Vs(function kZ(e){return e&&ad(e.canLoad)}(a)?a.canLoad(t,n):Ao(e,()=>a(t,n)))})).pipe(tl(),QF())}(t,n,r).pipe(wn(o=>o?this.configLoader.loadChildren(t,n).pipe(un(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function XZ(e){return cm(WF(!1,Xn.GuardRejected))}())):ee({routes:[],injector:t})}}function cee(e){const t=e.value.routeConfig;return t&&""===t.path}function ZF(e){const t=[],n=new Set;for(const r of e){if(!cee(r)){t.push(r);continue}const o=t.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==o?(o.children.push(...r.children),n.add(o)):t.push(r)}for(const r of n){const o=ZF(r.children);t.push(new Vr(r.value,o))}return t.filter(r=>!n.has(r))}function e1(e){const t=e.children.map(n=>e1(n)).flat();return[e,...t]}function Hw(e){return dr(t=>{const n=e(t);return n?Qt(n).pipe(le(()=>t)):ee(t)})}let t1=(()=>{class e{buildTitle(n){let r,o=n.root;for(;void 0!==o;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(s=>s.outlet===se);return r}getResolvedTitleForRoute(n){return n.data[Kf]}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=F({token:e,factory:()=>A(mee),providedIn:"root"})}}return e})(),mee=(()=>{class e extends t1{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||e)(j(cQ))}}static{this.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const cd=new P("",{providedIn:"root",factory:()=>({})}),Em=new P("");let n1=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=A(F7)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return ee(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=Vs(n.loadComponent()).pipe(le(r1),un(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),Xc(()=>{this.componentLoaders.delete(n)})),o=new gF(r,()=>new Vt).pipe(_w());return this.componentLoaders.set(n,o),o}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return ee({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=function _ee(e,t,n,r){return Vs(e.loadChildren()).pipe(le(r1),wn(o=>o instanceof vk||Array.isArray(o)?ee(o):Qt(t.compileModuleAsync(o))),le(o=>{r&&r(e);let s,i,a=!1;return Array.isArray(o)?(i=o,!0):(s=o.create(n).injector,i=s.get(Em,[],{optional:!0,self:!0}).flat()),{routes:i.map(jw),injector:s}}))}(r,this.compiler,n,this.onLoadEndListener).pipe(Xc(()=>{this.childrenLoaders.delete(r)})),i=new gF(s,()=>new Vt).pipe(_w());return this.childrenLoaders.set(r,i),i}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function r1(e){return function yee(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let qw=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=F({token:e,factory:()=>A(vee),providedIn:"root"})}}return e})(),vee=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const o1=new P("");let Sm=(()=>{class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Vt,this.transitionAbortSubject=new Vt,this.configLoader=A(n1),this.environmentInjector=A(Un),this.urlSerializer=A(Yc),this.rootContexts=A(nd),this.location=A(Bf),this.inputBindingEnabled=null!==A(_m,{optional:!0}),this.titleStrategy=A(t1),this.options=A(cd,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=A(qw),this.createViewTransition=A(o1,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>ee(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=o=>this.events.next(new cZ(o)),this.configLoader.onLoadStartListener=o=>this.events.next(new aZ(o))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n,r,o){return this.transitions=new Mn({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ed,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(qo(s=>0!==s.id),le(s=>({...s,extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),dr(s=>{let i=!1,a=!1;return ee(s).pipe(dr(c=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",Xn.SupersededByNewNavigation),co;this.currentTransition=s,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const l=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!l&&"reload"!==(c.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const f="";return this.events.next(new td(c.id,this.urlSerializer.serialize(c.rawUrl),f,Iw.IgnoredSameUrlNavigation)),c.resolve(null),co}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return ee(c).pipe(dr(f=>{const d=this.transitions?.getValue();return this.events.next(new Dw(f.id,this.urlSerializer.serialize(f.extractedUrl),f.source,f.restoredState)),d!==this.transitions?.getValue()?co:Promise.resolve(f)}),function fee(e,t,n,r,o,s){return wn(i=>function oee(e,t,n,r,o,s,i="emptyOnly"){return new iee(e,t,n,r,o,i,s).recognize()}(e,t,n,r,i.extractedUrl,o,s).pipe(le(({state:a,tree:c})=>({...i,targetSnapshot:a,urlAfterRedirects:c}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),un(f=>{s.targetSnapshot=f.targetSnapshot,s.urlAfterRedirects=f.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:f.urlAfterRedirects};const d=new FF(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(d)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){const{id:f,extractedUrl:d,source:p,restoredState:g,extras:m}=c,y=new Dw(f,this.urlSerializer.serialize(d),p,g);this.events.next(y);const b=BF(this.rootComponentType).snapshot;return this.currentTransition=s={...c,targetSnapshot:b,urlAfterRedirects:d,extras:{...m,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=d,ee(s)}{const f="";return this.events.next(new td(c.id,this.urlSerializer.serialize(c.extractedUrl),f,Iw.IgnoredByUrlHandlingStrategy)),c.resolve(null),co}}),un(c=>{const l=new rZ(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),le(c=>(this.currentTransition=s={...c,guards:IZ(c.targetSnapshot,c.currentSnapshot,this.rootContexts)},s)),function FZ(e,t){return wn(n=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:s,canDeactivateChecks:i}}=n;return 0===i.length&&0===s.length?ee({...n,guardsResult:!0}):function LZ(e,t,n,r){return Qt(e).pipe(wn(o=>function HZ(e,t,n,r,o){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return s&&0!==s.length?ee(s.map(a=>{const c=od(t)??o,l=el(a,c);return Vs(function NZ(e){return e&&ad(e.canDeactivate)}(l)?l.canDeactivate(e,t,n,r):Ao(c,()=>l(e,t,n,r))).pipe(zo())})).pipe(tl()):ee(!0)}(o.component,o.route,n,t,r)),zo(o=>!0!==o,!0))}(i,r,o,e).pipe(wn(a=>a&&function OZ(e){return"boolean"==typeof e}(a)?function jZ(e,t,n,r){return Qt(t).pipe(Hi(o=>om(function UZ(e,t){return null!==e&&t&&t(new lZ(e)),ee(!0)}(o.route.parent,r),function BZ(e,t){return null!==e&&t&&t(new fZ(e)),ee(!0)}(o.route,r),function $Z(e,t,n){const r=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(i=>function MZ(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(i)).filter(i=>null!==i).map(i=>pF(()=>ee(i.guards.map(c=>{const l=od(i.node)??n,u=el(c,l);return Vs(function xZ(e){return e&&ad(e.canActivateChild)}(u)?u.canActivateChild(r,e):Ao(l,()=>u(r,e))).pipe(zo())})).pipe(tl())));return ee(s).pipe(tl())}(e,o.path,n),function VZ(e,t,n){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return ee(!0);const o=r.map(s=>pF(()=>{const i=od(t)??n,a=el(s,i);return Vs(function AZ(e){return e&&ad(e.canActivate)}(a)?a.canActivate(t,e):Ao(i,()=>a(t,e))).pipe(zo())}));return ee(o).pipe(tl())}(e,o.route,n))),zo(o=>!0!==o,!0))}(r,s,e,t):ee(a)),le(a=>({...n,guardsResult:a})))})}(this.environmentInjector,c=>this.events.next(c)),un(c=>{if(s.guardsResult=c.guardsResult,Qc(c.guardsResult))throw zF(0,c.guardsResult);const l=new oZ(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(l)}),qo(c=>!!c.guardsResult||(this.cancelNavigationTransition(c,"",Xn.GuardRejected),!1)),Hw(c=>{if(c.guards.canActivateChecks.length)return ee(c).pipe(un(l=>{const u=new sZ(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),dr(l=>{let u=!1;return ee(l).pipe(function dee(e,t){return wn(n=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=n;if(!o.length)return ee(n);const s=new Set(o.map(c=>c.route)),i=new Set;for(const c of s)if(!i.has(c))for(const l of e1(c))i.add(l);let a=0;return Qt(i).pipe(Hi(c=>s.has(c)?function hee(e,t,n,r){const o=e.routeConfig,s=e._resolve;return void 0!==o?.title&&!$F(o)&&(s[Kf]=o.title),function pee(e,t,n,r){const o=vw(e);if(0===o.length)return ee({});const s={};return Qt(o).pipe(wn(i=>function gee(e,t,n,r){const o=od(t)??r,s=el(e,o);return Vs(s.resolve?s.resolve(t,n):Ao(o,()=>s(t,n)))}(e[i],t,n,r).pipe(zo(),un(a=>{s[i]=a}))),yw(1),function TJ(e){return le(()=>e)}(s),Wc(i=>YF(i)?co:cm(i)))}(s,e,t,r).pipe(le(i=>(e._resolvedData=i,e.data=kw(e,e.parent,n).resolve,null)))}(c,r,e,t):(c.data=kw(c,c.parent,e).resolve,ee(void 0))),un(()=>a++),yw(1),wn(c=>a===i.size?ee(n):co))})}(this.paramsInheritanceStrategy,this.environmentInjector),un({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(l,"",Xn.NoDataFromResolver)}}))}),un(l=>{const u=new iZ(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}))}),Hw(c=>{const l=u=>{const f=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(u.routeConfig).pipe(un(d=>{u.component=d}),le(()=>{})));for(const d of u.children)f.push(...l(d));return f};return rm(l(c.targetSnapshot.root)).pipe(lm(null),Us(1))}),Hw(()=>this.afterPreactivation()),dr(()=>{const{currentSnapshot:c,targetSnapshot:l}=s,u=this.createViewTransition?.(this.environmentInjector,c.root,l.root);return u?Qt(u).pipe(le(()=>s)):ee(s)}),le(c=>{const l=function gZ(e,t,n){const r=rd(e,t._root,n?n._root:void 0);return new jF(r,t)}(n.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=s={...c,targetRouterState:l},this.currentNavigation.targetRouterState=l,s}),un(()=>{this.events.next(new Mw)}),((e,t,n,r)=>le(o=>(new DZ(t,o.targetRouterState,o.currentRouterState,n,r).activate(e),o)))(this.rootContexts,n.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),Us(1),un({next:c=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new zi(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{i=!0}}),uF(this.transitionAbortSubject.pipe(un(c=>{throw c}))),Xc(()=>{!i&&!a&&this.cancelNavigationTransition(s,"",Xn.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),Wc(c=>{if(a=!0,XF(c))this.events.next(new Jc(s.id,this.urlSerializer.serialize(s.extractedUrl),c.message,c.cancellationCode)),function yZ(e){return XF(e)&&Qc(e.url)}(c)?this.events.next(new Tw(c.url)):s.resolve(!1);else{this.events.next(new mm(s.id,this.urlSerializer.serialize(s.extractedUrl),c,s.targetSnapshot??void 0));try{s.resolve(n.errorHandler(c))}catch(l){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(l)}}return co}))}))}cancelNavigationTransition(n,r,o){const s=new Jc(n.id,this.urlSerializer.serialize(n.extractedUrl),r,o);this.events.next(s),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function See(e){return e!==ed}let wee=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=F({token:e,factory:()=>A(Dee),providedIn:"root"})}}return e})();class Cee{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}}let Dee=(()=>{class e extends Cee{static{this.\u0275fac=(()=>{let n;return function(o){return(n||(n=wp(e)))(o||e)}})()}static{this.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),i1=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=F({token:e,factory:()=>A(Iee),providedIn:"root"})}}return e})(),Iee=(()=>{class e extends i1{constructor(){super(...arguments),this.location=A(Bf),this.urlSerializer=A(Yc),this.options=A(cd,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=A(qw),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Kc,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=BF(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{"popstate"===r.type&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof Dw)this.stateMemento=this.createStateMemento();else if(n instanceof td)this.rawUrlTree=r.initialUrl;else if(n instanceof FF){if("eager"===this.urlUpdateStrategy&&!r.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(o,r)}}else n instanceof Mw?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,"deferred"===this.urlUpdateStrategy&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r))):n instanceof Jc&&(n.code===Xn.GuardRejected||n.code===Xn.NoDataFromResolver)?this.restoreHistory(r):n instanceof mm?this.restoreHistory(r,!0):n instanceof zi&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){const o=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl){const i={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(o,"",i)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(o,"",s)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===n.finalUrl&&0===s&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static{this.\u0275fac=(()=>{let n;return function(o){return(n||(n=wp(e)))(o||e)}})()}static{this.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var ld=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(ld||{});function Mee(e){throw e}const Tee={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ree={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ho=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=A(Jx),this.stateManager=A(i1),this.options=A(cd,{optional:!0})||{},this.pendingTasks=A(ks),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=A(Sm),this.urlSerializer=A(Yc),this.location=A(Bf),this.urlHandlingStrategy=A(qw),this._events=new Vt,this.errorHandler=this.options.errorHandler||Mee,this.navigated=!1,this.routeReuseStrategy=A(wee),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=A(Em,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!A(_m,{optional:!0}),this.eventsSubscription=new gn,this.isNgZoneEnabled=A(xe)instanceof xe&&xe.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const n=this.navigationTransitions.events.subscribe(r=>{try{const o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(null!==o&&null!==s)if(this.stateManager.handleRouterEvent(r,s),r instanceof Jc&&r.code!==Xn.Redirect&&r.code!==Xn.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof zi)this.navigated=!0;else if(r instanceof Tw){const i=this.urlHandlingStrategy.merge(r.url,o.currentRawUrl),a={info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||See(o.source)};this.scheduleNavigation(i,ed,null,a,{resolve:o.resolve,reject:o.reject,promise:o.promise})}(function kee(e){return!(e instanceof Mw||e instanceof Tw)})(r)&&this._events.next(r)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ed,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,o){const s={replaceUrl:!0},i=o?.navigationId?o:null;if(o){const c={...o};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(s.state=c)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,i,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(jw),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){const{relativeTo:o,queryParams:s,fragment:i,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:i;let f,u=null;switch(a){case"merge":u={...this.currentUrlTree.queryParams,...s};break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=s||null}null!==u&&(u=this.removeEmptyProps(u));try{f=RF(o?o.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),f=this.currentUrlTree.root}return OF(f,n,u,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){const o=Qc(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,ed,null,r)}navigate(n,r={skipLocationChange:!1}){return function Oee(e){for(let t=0;t<e.length;t++)if(null==e[t])throw new k(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let o;if(o=!0===r?{...Tee}:!1===r?{...Ree}:r,Qc(n))return bF(this.currentUrlTree,n,o);const s=this.parseUrl(n);return bF(this.currentUrlTree,s,o)}removeEmptyProps(n){return Object.entries(n).reduce((r,[o,s])=>(null!=s&&(r[o]=s),r),{})}scheduleNavigation(n,r,o,s,i){if(this.disposed)return Promise.resolve(!1);let a,c,l;i?(a=i.resolve,c=i.reject,l=i.promise):l=new Promise((f,d)=>{a=f,c=d});const u=this.pendingTasks.add();return function a1(e,t){e.events.pipe(qo(n=>n instanceof zi||n instanceof Jc||n instanceof mm||n instanceof td),le(n=>n instanceof zi||n instanceof td?ld.COMPLETE:n instanceof Jc&&(n.code===Xn.Redirect||n.code===Xn.SupersededByNewNavigation)?ld.REDIRECTING:ld.FAILED),qo(n=>n!==ld.REDIRECTING),Us(1)).subscribe(()=>{t()})}(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(f=>Promise.reject(f))}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const Ww=new P("");function Fee(e,...t){return Ya([{provide:Em,multi:!0,useValue:e},[],{provide:Wi,useFactory:l1,deps:[ho]},{provide:DS,multi:!0,useFactory:u1},t.map(n=>n.\u0275providers)])}function l1(e){return e.routerState.root}function u1(){const e=A(Hn);return t=>{const n=e.get(Ls);if(t!==n.components[0])return;const r=e.get(ho),o=e.get(f1);1===e.get(Xw)&&r.initialNavigation(),e.get(d1,null,he.Optional)?.setUpPreloading(),e.get(Ww,null,he.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}const f1=new P("",{factory:()=>new Vt}),Xw=new P("",{providedIn:"root",factory:()=>1}),d1=new P("");function p1(e=0,t,n=dJ){let r=-1;return null!=t&&(aF(t)?n=t:r=t),new et(o=>{let s=function Uee(e){return e instanceof Date&&!isNaN(e)}(e)?+e-n.now():e;s<0&&(s=0);let i=0;return n.schedule(function(){o.closed||(o.next(i++),0<=r?this.schedule(void 0,r):o.complete())},s)})}class Vee extends Vt{constructor(t=1/0,n=1/0,r=hw){super(),this._bufferSize=t,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,n)}next(t){const{isStopped:n,_buffer:r,_infiniteTimeWindow:o,_timestampProvider:s,_windowTime:i}=this;n||(r.push(t),!o&&r.push(s.now()+i)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const n=this._innerSubscribe(t),{_infiniteTimeWindow:r,_buffer:o}=this,s=o.slice();for(let i=0;i<s.length&&!t.closed;i+=r?1:2)t.next(s[i]);return this._checkFinalizedStatuses(t),n}_trimBuffer(){const{_bufferSize:t,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:o}=this,s=(o?1:2)*t;if(t<1/0&&s<r.length&&r.splice(0,r.length-s),!o){const i=n.now();let a=0;for(let c=1;c<r.length&&r[c]<=i;c+=2)a=c;a&&r.splice(0,a+1)}}}function Gw(e,t,...n){if(!0===t)return void e();if(!1===t)return;const r=new Cu({next:()=>{r.unsubscribe(),e()}});return t(...n).subscribe(r)}function qee(e,t){if(1&e&&(Ie(0,"div",3),vn(1,"div",4),Ee()),2&e){const n=Nt(2);Fe(),Ns("width",n.diameter)("height",n.diameter)}}function zee(e,t){if(1&e&&vn(0,"div",5),2&e){const n=Nt().ngIf,r=Nt();Ns("background",r.color)("height",r.height)("width",n+"%")}}function Wee(e,t){if(1&e&&(Ps(0),Yt(1,qee,2,4,"div",1)(2,zee,1,6,"div",2),Fs()),2&e){const n=Nt();Fe(),rt("ngIf",n.includeSpinner),Fe(),rt("ngIf",n.includeBar)}}function Xee(e,t){if(1&e&&(Ie(0,"div",3),vn(1,"div",4),Ee()),2&e){const n=Nt(2);Fe(),Ns("width",n.diameter)("height",n.diameter)}}function Gee(e,t){if(1&e&&vn(0,"div",5),2&e){const n=Nt().ngIf,r=Nt();Ns("background",r.color)("height",r.height)("width",n+"%")}}function Kee(e,t){if(1&e&&(Ps(0),Yt(1,Xee,2,4,"div",1)(2,Gee,1,6,"div",2),Fs()),2&e){const n=Nt();Fe(),rt("ngIf",n.includeSpinner),Fe(),rt("ngIf",n.includeBar)}}class Qee{constructor(t={}){this.config=t,this.state={action:null,value:0,initialValue:0},this.requests=null,this.disabled=!1,this.stream$=new Vt,this._value$=null,this.timer$=n=>{let r=ee(n);switch(n.action){case"start":case"increment":case"set":"start"===n.action&&0===this.config.latencyThreshold&&0===n.value&&(n.value=n.initialValue),this.requests>0&&(r=p1(this.config.latencyThreshold,250).pipe(le(o=>({...n,value:0===o?this.state.value||n.initialValue:this._increment()}))));break;case"complete":case"stop":r=0===n.value?ee({...n}):p1(0,500).pipe(Us(2),le(o=>({value:0===o?100:0})))}return r.pipe(le(o=>({...o,action:"set"})),un(o=>this.next(o,!1)))},this.config={latencyThreshold:0,...t}}get value$(){return this._value$?this._value$:this._value$=this.stream$.pipe(im(this.state),dr(t=>this.timer$(t)),function Hee(e,t,n){let r,o=!1;return e&&"object"==typeof e?({bufferSize:r=1/0,windowTime:t=1/0,refCount:o=!1,scheduler:n}=e):r=e??1/0,function $ee(e={}){const{connector:t=(()=>new Vt),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:o=!0}=e;return s=>{let i,a,c,l=0,u=!1,f=!1;const d=()=>{a?.unsubscribe(),a=void 0},p=()=>{d(),i=c=void 0,u=f=!1},g=()=>{const m=i;p(),m?.unsubscribe()};return Mt((m,y)=>{l++,!f&&!u&&d();const b=c=c??t();y.add(()=>{l--,0===l&&!f&&!u&&(a=Gw(g,o))}),b.subscribe(y),!i&&l>0&&(i=new Cu({next:S=>b.next(S),error:S=>{f=!0,d(),a=Gw(p,n,S),b.error(S)},complete:()=>{u=!0,d(),a=Gw(p,r),b.complete()}}),ao(m).subscribe(i))})(s)}}({connector:()=>new Vee(r,t,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}(),le(t=>t.value))}start(t=2){this.disabled||this.next({action:"start",initialValue:t})}stop(){this.next({action:"stop"})}complete(){this.next({action:"complete"})}disable(){this.disabled=!0}set(t){this.next({action:"set",value:t})}increment(t=0){this.next({action:"increment",value:t})}next(t,n=!0){switch(t.action){case"start":this.requests=(this.requests||0)+1;break;case"complete":if(this.requests=(this.requests||1)-1,this.requests>0)return;break;case"stop":this.requests=0;break;case"increment":t.value=this._increment(t.value)}this.state={...this.state,action:null,...t},n&&this.stream$.next(this.state)}_increment(t=0){const n=this.state.value;return n>=99&&(t=0),0===t&&(t=n>=0&&n<25?3*Math.random()+3:n>=25&&n<65?3*Math.random():n>=65&&n<90?2*Math.random():n>=90&&n<99?.5:0),t+n}}const g1=new P("LOADING_BAR_CONFIG");let Kw=(()=>{class e{get progress$(){return this.value$}constructor(n,r={},o){this.platformId=n,this.config=r,this.zone=o,this.refs={},this.streams$=new Vt,this.value$=this.streams$.pipe(im(null),dr(()=>rm(Object.keys(this.refs).map(s=>this.refs[s].value$))),function Jee(e){return e?t=>new et(n=>t.subscribe(r=>e.run(()=>n.next(r)),r=>e.run(()=>n.error(r)),()=>e.run(()=>n.complete()))):t=>t}(this.zone),le(s=>Math.max(0,...s)))}start(n=2){this.useRef().start(n)}set(n){this.useRef().set(n)}increment(n){this.useRef().increment(n)}complete(){this.useRef().complete()}stop(){this.useRef().stop()}useRef(n="default"){return this.refs[n]||(this.refs[n]=new Qee(this.config),this.streams$.next(),_P(this.platformId)||this.refs[n].disable()),this.refs[n]}static{this.\u0275fac=function(r){return new(r||e)(j(Fo),j(g1,8),j(xe,8))}}static{this.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Zee=(()=>{class e{get value$(){return this.ref?this.loader.useRef(this.ref).value$:this.loader.value$}constructor(n){this.loader=n,this.includeSpinner=!0,this.includeBar=!0,this.fixed=!0,this.color="#29d"}static{this.\u0275fac=function(r){return new(r||e)(H(Kw))}}static{this.\u0275cmp=Es({type:e,selectors:[["ngx-loading-bar"]],hostVars:3,hostBindings:function(r,o){2&r&&(Cf("fixed",o.fixed),Ns("color",o.color))},inputs:{includeSpinner:"includeSpinner",includeBar:"includeBar",fixed:"fixed",color:"color",value:"value",ref:"ref",height:"height",diameter:"diameter"},standalone:!0,features:[Bc],decls:2,vars:3,consts:[[4,"ngIf"],["class","ngx-spinner",4,"ngIf"],["class","ngx-bar",3,"background","height","width",4,"ngIf"],[1,"ngx-spinner"],[1,"ngx-spinner-icon"],[1,"ngx-bar"]],template:function(r,o){1&r&&(Yt(0,Wee,3,2,"ng-container",0),pS(1,"async")),2&r&&rt("ngIf",null!=o.value?o.value:gS(1,1,o.value$))},dependencies:[YS,Qg],styles:["[_nghost-%COMP%]{position:relative;display:block;pointer-events:none}[_nghost-%COMP%]   .ngx-spinner[_ngcontent-%COMP%]{transition:.35s linear all;display:block;position:absolute;top:5px;left:0}[_nghost-%COMP%]   .ngx-spinner[_ngcontent-%COMP%]   .ngx-spinner-icon[_ngcontent-%COMP%]{width:14px;height:14px;border:solid 2px transparent;border-top-color:inherit;border-left-color:inherit;border-radius:50%;animation:_ngcontent-%COMP%_loading-bar-spinner .4s linear infinite}[_nghost-%COMP%]   .ngx-bar[_ngcontent-%COMP%]{transition:width .35s;position:absolute;top:0;left:0;width:100%;height:2px;border-bottom-right-radius:1px;border-top-right-radius:1px}[dir=rtl]   [_nghost-%COMP%]   .ngx-bar[_ngcontent-%COMP%]{right:0;left:unset}[fixed=true][_nghost-%COMP%]{z-index:10002}[fixed=true][_nghost-%COMP%]   .ngx-bar[_ngcontent-%COMP%]{position:fixed}[fixed=true][_nghost-%COMP%]   .ngx-spinner[_ngcontent-%COMP%]{position:fixed;top:10px;left:10px}[dir=rtl]   [fixed=true][_nghost-%COMP%]   .ngx-spinner[_ngcontent-%COMP%]{right:10px;left:unset}@keyframes _ngcontent-%COMP%_loading-bar-spinner{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"],changeDetection:0})}}return e})(),ete=(()=>{class e extends Zee{static{this.\u0275fac=(()=>{let n;return function(o){return(n||(n=wp(e)))(o||e)}})()}static{this.\u0275cmp=Es({type:e,selectors:[["ngx-loading-bar"]],hostVars:3,hostBindings:function(r,o){2&r&&(Cf("fixed",o.fixed),Ns("color",o.color))},features:[PE],decls:2,vars:3,consts:[[4,"ngIf"],["class","ngx-spinner",4,"ngIf"],["class","ngx-bar",3,"background","height","width",4,"ngIf"],[1,"ngx-spinner"],[1,"ngx-spinner-icon"],[1,"ngx-bar"]],template:function(r,o){1&r&&(Yt(0,Kee,3,2,"ng-container",0),pS(1,"async")),2&r&&rt("ngIf",null!=o.value?o.value:gS(1,1,o.value$))},dependencies:[Qg,YS],styles:["[_nghost-%COMP%]{position:relative;display:block;pointer-events:none}[_nghost-%COMP%]   .ngx-spinner[_ngcontent-%COMP%]{transition:.35s linear all;display:block;position:absolute;top:5px;left:0}[_nghost-%COMP%]   .ngx-spinner[_ngcontent-%COMP%]   .ngx-spinner-icon[_ngcontent-%COMP%]{width:14px;height:14px;border:solid 2px transparent;border-top-color:inherit;border-left-color:inherit;border-radius:50%;animation:_ngcontent-%COMP%_loading-bar-spinner .4s linear infinite}[_nghost-%COMP%]   .ngx-bar[_ngcontent-%COMP%]{transition:width .35s;position:absolute;top:0;left:0;width:100%;height:2px;border-bottom-right-radius:1px;border-top-right-radius:1px}[dir=rtl]   [_nghost-%COMP%]   .ngx-bar[_ngcontent-%COMP%]{right:0;left:unset}[fixed=true][_nghost-%COMP%]{z-index:10002}[fixed=true][_nghost-%COMP%]   .ngx-bar[_ngcontent-%COMP%]{position:fixed}[fixed=true][_nghost-%COMP%]   .ngx-spinner[_ngcontent-%COMP%]{position:fixed;top:10px;left:10px}[dir=rtl]   [fixed=true][_nghost-%COMP%]   .ngx-spinner[_ngcontent-%COMP%]{right:10px;left:unset}@keyframes _ngcontent-%COMP%_loading-bar-spinner{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"],changeDetection:0})}}return e})(),tte=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=Ss({type:e})}static{this.\u0275inj=Oo({imports:[gP]})}}return e})();const m1=e=>({selected:e});function nte(e,t){if(1&e){const n=oS();Ie(0,"button",9),cr("click",function(){const o=eb(n).$implicit;return tb(Nt(3).selectGenre(o))}),ln(1),Ee()}if(2&e){const n=t.$implicit,r=Nt(3);rt("ngClass",hS(2,m1,n.label==r.selectedGenre.label)),Fe(),Li(" ",n.label," ")}}function rte(e,t){if(1&e&&(Ie(0,"section",7)(1,"h2"),ln(2,"Genre"),Ee(),Yt(3,nte,2,4,"button",8),Ee()),2&e){const n=Nt(2);Fe(3),rt("ngForOf",n.musicGenres)}}function ote(e,t){if(1&e){const n=oS();Ie(0,"button",9),cr("click",function(){const o=eb(n).$implicit;return tb(Nt(3).selectBeat(o))}),ln(1),Ee()}if(2&e){const n=t.$implicit,r=Nt(3);rt("ngClass",hS(2,m1,n.id==r.selectedBeat.id)),Fe(),Li(" ",n.label," ")}}function ste(e,t){if(1&e&&(Ie(0,"section",10)(1,"h2"),ln(2),Ee(),Yt(3,ote,2,4,"button",8),Ee()),2&e){const n=Nt(2);Fe(2),Li("",n.selectedGenre.label," beats"),Fe(),rt("ngForOf",n.selectedGenre.beats)}}function ite(e,t){if(1&e&&(Ps(0),Ie(1,"main",1)(2,"nav",2),vn(3,"img",3),Yt(4,rte,4,1,"section",4)(5,ste,4,2,"section",5),Ee(),Ie(6,"section",6),vn(7,"router-outlet"),Ee()(),Fs()),2&e){const n=Nt();Fe(4),rt("ngIf",0!=n.musicGenres.length),Fe(),rt("ngIf",0!=n.musicGenres.length)}}function ate(e,t){1&e&&(Ps(0),Ie(1,"main",11)(2,"section",6),vn(3,"router-outlet"),Ee()(),Fs())}function cte(e,t){1&e&&vn(0,"img",18)}function lte(e,t){1&e&&vn(0,"img",19)}function ute(e,t){if(1&e&&(Ps(0),Ie(1,"header",12),vn(2,"img",13),Ee(),Ie(3,"div",14),Yt(4,cte,1,0,"img",15)(5,lte,1,0,"img",16),Ee(),Ie(6,"div",17)(7,"h1"),ln(8,"Only available in landscape mode"),Ee(),Ie(9,"h3"),ln(10,"Turn your device!"),Ee()(),Fs()),2&e){const n=Nt();Fe(4),rt("ngIf",n.mode==n.Mode.LIGHT),Fe(),rt("ngIf",n.mode==n.Mode.DARK)}}let fte=(()=>{class e{constructor(n,r,o,s){this.responsive=n,this._genresManager=r,this.modeToggleService=o,this.router=s,this.isMobileDisplay=!0,this.selectedGenre={},this.selectedBeat={},this.musicGenres=[],this.isPortrait=!1,this.isLandscape=!1,this.mode=$i.LIGHT,this.Mode=$i,this.modeToggleService.modeChanged$.subscribe(i=>this.mode=i),this.checkOrientation()}ngOnInit(){this.responsive.observe(["(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)"]).subscribe(n=>{this.isMobileDisplay=!n.matches}),this._genresManager.getGenres().then(n=>{this.musicGenres=n,this.selectGenre(this.musicGenres[0])}).catch(n=>{console.log(n)})}selectGenre(n){this.selectedGenre=n,this.selectBeat(this.selectedGenre.beats[0])}selectBeat(n){this.selectedBeat=n,this.navigateToBeat(n).then(r=>console.log("Navigation success:",r)).catch(r=>console.error("Navigation error:",r))}navigateToBeat(n){return this.router.navigate([""],{queryParams:{genre:this.selectedGenre.label,beat:n.id},queryParamsHandling:"merge",replaceUrl:!0})}onOrientationChange(n){this.checkOrientation()}checkOrientation(){const n=window.screen.orientation.angle;this.isPortrait=0===n||180===n,this.isLandscape=90===n||-90===n}static{this.\u0275fac=function(r){return new(r||e)(H(bJ),H(mw),H(SJ),H(ho))}}static{this.\u0275cmp=Es({type:e,selectors:[["app-root"]],hostBindings:function(r,o){1&r&&cr("orientationchange",function(i){return o.onOrientationChange(i)},0,xR)},decls:4,vars:3,consts:[[4,"ngIf"],[1,"flex","app-container"],[1,"flex","column","left-menu"],["src","./assets/images/title.svg","id","title-image","alt","Website Title"],["class","flex menu genre",4,"ngIf"],["class","flex menu",4,"ngIf"],[1,"flex","content"],[1,"flex","menu","genre"],["class","button pointer",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"button","pointer",3,"click","ngClass"],[1,"flex","menu"],[1,"app-container"],[1,"header-mobile","mt-40","mb-40"],["src","./assets/images/title-mobile.svg","alt","Website Title",1,"title-image-mobile"],[1,"portrait-to-landscape"],["src","./assets/images/light/orientation.png","class","portrait-to-landscape-image","alt","Portrait to landscape image",4,"ngIf"],["src","./assets/images/dark/orientation.png","class","portrait-to-landscape-image","alt","Portrait to landscape image",4,"ngIf"],[1,"ml-10"],["src","./assets/images/light/orientation.png","alt","Portrait to landscape image",1,"portrait-to-landscape-image"],["src","./assets/images/dark/orientation.png","alt","Portrait to landscape image",1,"portrait-to-landscape-image"]],template:function(r,o){1&r&&(vn(0,"ngx-loading-bar"),Yt(1,ite,8,2,"ng-container",0)(2,ate,4,0,"ng-container",0)(3,ute,11,2,"ng-container",0)),2&r&&(Fe(),rt("ngIf",!o.isMobileDisplay),Fe(),rt("ngIf",o.isMobileDisplay&&o.isLandscape),Fe(),rt("ngIf",o.isMobileDisplay&&o.isPortrait))},dependencies:[lP,XS,Qg,ete,Fw],styles:['html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%;margin:0}[_ngcontent-%COMP%]:root{font-family:Inter,sans-serif;font-feature-settings:"liga" 1,"calt" 1,"ss01" on}@supports (font-variation-settings: normal){[_ngcontent-%COMP%]:root{font-family:InterVariable,sans-serif}}a[_ngcontent-%COMP%]{all:unset}h3[_ngcontent-%COMP%]{margin:0}button[_ngcontent-%COMP%]{font-family:inherit;font-size:100%;line-height:1.15;margin:0;overflow:visible;text-transform:none;-webkit-appearance:button}.flex[_ngcontent-%COMP%]{display:flex}.mt-40[_ngcontent-%COMP%]{margin-top:40px}.mb-40[_ngcontent-%COMP%]{margin-bottom:40px}.mb-10[_ngcontent-%COMP%]{margin-bottom:10px}.ml-10[_ngcontent-%COMP%]{margin-left:10px}body.dark[_ngcontent-%COMP%]{--backgroundColor: #2e2e2e;--textColor: white;--borderColor: white;--menuButtonColor: #CC71FA;--gridHighLightColor: #474747;background-color:var(--backgroundColor);color:var(--textColor)}body.light[_ngcontent-%COMP%]{--backgroundColor: white;--textColor: black;--borderColor: black;--menuButtonColor: #70F1FA;--gridHighLightColor: #e8e8e8;background-color:var(--backgroundColor);color:var(--textColor)}.app-container[_ngcontent-%COMP%]{height:100%}.menu[_ngcontent-%COMP%]{flex-direction:column;justify-content:flex-start;align-items:flex-start}.menu.genre[_ngcontent-%COMP%]{justify-content:flex-end}.menu[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{border-radius:5px;width:90%;padding:5px;background-color:var(--backgroundColor);border:none;text-align:left;color:var(--textColor)}.menu[_ngcontent-%COMP%]   .button.selected[_ngcontent-%COMP%]{background-color:var(--menuButtonColor);border:solid 1px var(--borderColor)}.menu[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:hover:not(.selected){background-color:#cecece}.content[_ngcontent-%COMP%]{flex:1;justify-content:center;align-items:center;overflow:auto;height:100%}.header[_ngcontent-%COMP%]{width:240px;font-size:30px}.column[_ngcontent-%COMP%]{flex-direction:column}.left-menu[_ngcontent-%COMP%]{padding:10px;justify-content:space-between;margin-bottom:150px}.nowrap[_ngcontent-%COMP%]{white-space:nowrap}.header-mobile[_ngcontent-%COMP%]{font-size:30px;width:100%;text-align:center}.pointer[_ngcontent-%COMP%]{cursor:pointer}#title-image[_ngcontent-%COMP%]{width:150px;aspect-ratio:1}.title-image-mobile[_ngcontent-%COMP%]{width:300px}.portrait-to-landscape[_ngcontent-%COMP%]{justify-content:center;display:flex;flex-direction:row;margin:50px}.portrait-to-landscape[_ngcontent-%COMP%]   .portrait-to-landscape-image[_ngcontent-%COMP%]{width:100px}.beat-name[_ngcontent-%COMP%]{height:40px;text-align:center;vertical-align:middle;width:200px;min-width:200px;font-size:20px}.bpm[_ngcontent-%COMP%]{height:40px;text-align:center;vertical-align:middle;width:120px;min-width:120px;font-size:20px}.corner[_ngcontent-%COMP%]{position:absolute;width:75px;aspect-ratio:1;clip-path:polygon(0 100%,0 0,100% 100%,0 100%)}']})}}return e})();class wm{}class ud{}class Gn{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?"string"==typeof t?this.lazyInit=()=>{this.headers=new Map,t.split("\n").forEach(n=>{const r=n.indexOf(":");if(r>0){const o=n.slice(0,r),s=o.toLowerCase(),i=n.slice(r+1).trim();this.maybeSetNormalizedName(o,s),this.headers.has(s)?this.headers.get(s).push(i):this.headers.set(s,[i])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const n=this.headers.get(t.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,n){return this.clone({name:t,value:n,op:"a"})}set(t,n){return this.clone({name:t,value:n,op:"s"})}delete(t,n){return this.clone({name:t,value:n,op:"d"})}maybeSetNormalizedName(t,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,t)}init(){this.lazyInit&&(this.lazyInit instanceof Gn?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(n=>{this.headers.set(n,t.headers.get(n)),this.normalizedNames.set(n,t.normalizedNames.get(n))})}clone(t){const n=new Gn;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof Gn?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}applyUpdate(t){const n=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(t.name,n);const o=("a"===t.op?this.headers.get(n):void 0)||[];o.push(...r),this.headers.set(n,o);break;case"d":const s=t.value;if(s){let i=this.headers.get(n);if(!i)return;i=i.filter(a=>-1===s.indexOf(a)),0===i.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,i)}else this.headers.delete(n),this.normalizedNames.delete(n)}}setHeaderEntries(t,n){const r=(Array.isArray(n)?n:[n]).map(s=>s.toString()),o=t.toLowerCase();this.headers.set(o,r),this.maybeSetNormalizedName(t,o)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>t(this.normalizedNames.get(n),this.headers.get(n)))}}class dte{encodeKey(t){return _1(t)}encodeValue(t){return _1(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const pte=/%(\d[a-f0-9])/gi,gte={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function _1(e){return encodeURIComponent(e).replace(pte,(t,n)=>gte[n]??t)}function Cm(e){return`${e}`}class Wo{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new dte,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function hte(e,t){const n=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(o=>{const s=o.indexOf("="),[i,a]=-1==s?[t.decodeKey(o),""]:[t.decodeKey(o.slice(0,s)),t.decodeValue(o.slice(s+1))],c=n.get(i)||[];c.push(a),n.set(i,c)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(n=>{const r=t.fromObject[n],o=Array.isArray(r)?r.map(Cm):[Cm(r)];this.map.set(n,o)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const n=this.map.get(t);return n?n[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,n){return this.clone({param:t,value:n,op:"a"})}appendAll(t){const n=[];return Object.keys(t).forEach(r=>{const o=t[r];Array.isArray(o)?o.forEach(s=>{n.push({param:r,value:s,op:"a"})}):n.push({param:r,value:o,op:"a"})}),this.clone(n)}set(t,n){return this.clone({param:t,value:n,op:"s"})}delete(t,n){return this.clone({param:t,value:n,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const n=this.encoder.encodeKey(t);return this.map.get(t).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const n=new Wo({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(t),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const n=("a"===t.op?this.map.get(t.param):void 0)||[];n.push(Cm(t.value)),this.map.set(t.param,n);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let r=this.map.get(t.param)||[];const o=r.indexOf(Cm(t.value));-1!==o&&r.splice(o,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class mte{constructor(){this.map=new Map}set(t,n){return this.map.set(t,n),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function y1(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function v1(e){return typeof Blob<"u"&&e instanceof Blob}function b1(e){return typeof FormData<"u"&&e instanceof FormData}class fd{constructor(t,n,r,o){let s;if(this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function _te(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==r?r:null,s=o):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new Gn,this.context??=new mte,this.params){const i=this.params.toString();if(0===i.length)this.urlWithParams=n;else{const a=n.indexOf("?");this.urlWithParams=n+(-1===a?"?":a<n.length-1?"&":"")+i}}else this.params=new Wo,this.urlWithParams=n}serializeBody(){return null===this.body?null:"string"==typeof this.body||y1(this.body)||v1(this.body)||b1(this.body)||function yte(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}(this.body)?this.body:this.body instanceof Wo?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||b1(this.body)?null:v1(this.body)?this.body.type||null:y1(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Wo?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const n=t.method||this.method,r=t.url||this.url,o=t.responseType||this.responseType,s=t.transferCache??this.transferCache,i=void 0!==t.body?t.body:this.body,a=t.withCredentials??this.withCredentials,c=t.reportProgress??this.reportProgress;let l=t.headers||this.headers,u=t.params||this.params;const f=t.context??this.context;return void 0!==t.setHeaders&&(l=Object.keys(t.setHeaders).reduce((d,p)=>d.set(p,t.setHeaders[p]),l)),t.setParams&&(u=Object.keys(t.setParams).reduce((d,p)=>d.set(p,t.setParams[p]),u)),new fd(n,r,i,{params:u,headers:l,context:f,reportProgress:c,responseType:o,withCredentials:a,transferCache:s})}}var $s=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}($s||{});class Yw{constructor(t,n=dd.Ok,r="OK"){this.headers=t.headers||new Gn,this.status=void 0!==t.status?t.status:n,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class Dm extends Yw{constructor(t={}){super(t),this.type=$s.ResponseHeader}clone(t={}){return new Dm({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Hs extends Yw{constructor(t={}){super(t),this.type=$s.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Hs({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class rl extends Yw{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}var dd=function(e){return e[e.Continue=100]="Continue",e[e.SwitchingProtocols=101]="SwitchingProtocols",e[e.Processing=102]="Processing",e[e.EarlyHints=103]="EarlyHints",e[e.Ok=200]="Ok",e[e.Created=201]="Created",e[e.Accepted=202]="Accepted",e[e.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",e[e.NoContent=204]="NoContent",e[e.ResetContent=205]="ResetContent",e[e.PartialContent=206]="PartialContent",e[e.MultiStatus=207]="MultiStatus",e[e.AlreadyReported=208]="AlreadyReported",e[e.ImUsed=226]="ImUsed",e[e.MultipleChoices=300]="MultipleChoices",e[e.MovedPermanently=301]="MovedPermanently",e[e.Found=302]="Found",e[e.SeeOther=303]="SeeOther",e[e.NotModified=304]="NotModified",e[e.UseProxy=305]="UseProxy",e[e.Unused=306]="Unused",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect",e[e.BadRequest=400]="BadRequest",e[e.Unauthorized=401]="Unauthorized",e[e.PaymentRequired=402]="PaymentRequired",e[e.Forbidden=403]="Forbidden",e[e.NotFound=404]="NotFound",e[e.MethodNotAllowed=405]="MethodNotAllowed",e[e.NotAcceptable=406]="NotAcceptable",e[e.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",e[e.RequestTimeout=408]="RequestTimeout",e[e.Conflict=409]="Conflict",e[e.Gone=410]="Gone",e[e.LengthRequired=411]="LengthRequired",e[e.PreconditionFailed=412]="PreconditionFailed",e[e.PayloadTooLarge=413]="PayloadTooLarge",e[e.UriTooLong=414]="UriTooLong",e[e.UnsupportedMediaType=415]="UnsupportedMediaType",e[e.RangeNotSatisfiable=416]="RangeNotSatisfiable",e[e.ExpectationFailed=417]="ExpectationFailed",e[e.ImATeapot=418]="ImATeapot",e[e.MisdirectedRequest=421]="MisdirectedRequest",e[e.UnprocessableEntity=422]="UnprocessableEntity",e[e.Locked=423]="Locked",e[e.FailedDependency=424]="FailedDependency",e[e.TooEarly=425]="TooEarly",e[e.UpgradeRequired=426]="UpgradeRequired",e[e.PreconditionRequired=428]="PreconditionRequired",e[e.TooManyRequests=429]="TooManyRequests",e[e.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",e[e.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",e[e.InternalServerError=500]="InternalServerError",e[e.NotImplemented=501]="NotImplemented",e[e.BadGateway=502]="BadGateway",e[e.ServiceUnavailable=503]="ServiceUnavailable",e[e.GatewayTimeout=504]="GatewayTimeout",e[e.HttpVersionNotSupported=505]="HttpVersionNotSupported",e[e.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",e[e.InsufficientStorage=507]="InsufficientStorage",e[e.LoopDetected=508]="LoopDetected",e[e.NotExtended=510]="NotExtended",e[e.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",e}(dd||{});function Qw(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,transferCache:e.transferCache}}let E1=(()=>{class e{constructor(n){this.handler=n}request(n,r,o={}){let s;if(n instanceof fd)s=n;else{let c,l;c=o.headers instanceof Gn?o.headers:new Gn(o.headers),o.params&&(l=o.params instanceof Wo?o.params:new Wo({fromObject:o.params})),s=new fd(n,r,void 0!==o.body?o.body:null,{headers:c,context:o.context,params:l,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache})}const i=ee(s).pipe(Hi(c=>this.handler.handle(c)));if(n instanceof fd||"events"===o.observe)return i;const a=i.pipe(qo(c=>c instanceof Hs));switch(o.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(le(c=>{if(null!==c.body&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return a.pipe(le(c=>{if(null!==c.body&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return a.pipe(le(c=>{if(null!==c.body&&"string"!=typeof c.body)throw new Error("Response is not a string.");return c.body}));default:return a.pipe(le(c=>c.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:(new Wo).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,o={}){return this.request("PATCH",n,Qw(o,r))}post(n,r,o={}){return this.request("POST",n,Qw(o,r))}put(n,r,o={}){return this.request("PUT",n,Qw(o,r))}static{this.\u0275fac=function(r){return new(r||e)(j(wm))}}static{this.\u0275prov=F({token:e,factory:e.\u0275fac})}}return e})();function w1(e,t){return t(e)}function wte(e,t){return(n,r)=>t.intercept(n,{handle:o=>e(o,r)})}const C1=new P(""),hd=new P(""),D1=new P(""),I1=new P("");function Dte(){let e=null;return(t,n)=>{null===e&&(e=(A(C1,{optional:!0})??[]).reduceRight(wte,w1));const r=A(ks),o=r.add();return e(t,n).pipe(Xc(()=>r.remove(o)))}}let M1=(()=>{class e extends wm{constructor(n,r){super(),this.backend=n,this.injector=r,this.chain=null,this.pendingTasks=A(ks);const o=A(I1,{optional:!0});this.backend=o??n}handle(n){if(null===this.chain){const o=Array.from(new Set([...this.injector.get(hd),...this.injector.get(D1,[])]));this.chain=o.reduceRight((s,i)=>function Cte(e,t,n){return(r,o)=>Ao(n,()=>t(r,s=>e(s,o)))}(s,i,this.injector),w1)}const r=this.pendingTasks.add();return this.chain(n,o=>this.backend.handle(o)).pipe(Xc(()=>this.pendingTasks.remove(r)))}static{this.\u0275fac=function(r){return new(r||e)(j(ud),j(Un))}}static{this.\u0275prov=F({token:e,factory:e.\u0275fac})}}return e})();const Ote=/^\)\]\}',?\n/;let eC=(()=>{class e{constructor(n){this.xhrFactory=n}handle(n){if("JSONP"===n.method)throw new k(-2800,!1);const r=this.xhrFactory;return(r.\u0275loadImpl?Qt(r.\u0275loadImpl()):ee(null)).pipe(dr(()=>new et(s=>{const i=r.build();if(i.open(n.method,n.urlWithParams),n.withCredentials&&(i.withCredentials=!0),n.headers.forEach((m,y)=>i.setRequestHeader(m,y.join(","))),n.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){const m=n.detectContentTypeHeader();null!==m&&i.setRequestHeader("Content-Type",m)}if(n.responseType){const m=n.responseType.toLowerCase();i.responseType="json"!==m?m:"text"}const a=n.serializeBody();let c=null;const l=()=>{if(null!==c)return c;const m=i.statusText||"OK",y=new Gn(i.getAllResponseHeaders()),b=function kte(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(i)||n.url;return c=new Dm({headers:y,status:i.status,statusText:m,url:b}),c},u=()=>{let{headers:m,status:y,statusText:b,url:S}=l(),R=null;y!==dd.NoContent&&(R=typeof i.response>"u"?i.responseText:i.response),0===y&&(y=R?dd.Ok:0);let L=y>=200&&y<300;if("json"===n.responseType&&"string"==typeof R){const V=R;R=R.replace(Ote,"");try{R=""!==R?JSON.parse(R):null}catch(fe){R=V,L&&(L=!1,R={error:fe,text:R})}}L?(s.next(new Hs({body:R,headers:m,status:y,statusText:b,url:S||void 0})),s.complete()):s.error(new rl({error:R,headers:m,status:y,statusText:b,url:S||void 0}))},f=m=>{const{url:y}=l(),b=new rl({error:m,status:i.status||0,statusText:i.statusText||"Unknown Error",url:y||void 0});s.error(b)};let d=!1;const p=m=>{d||(s.next(l()),d=!0);let y={type:$s.DownloadProgress,loaded:m.loaded};m.lengthComputable&&(y.total=m.total),"text"===n.responseType&&i.responseText&&(y.partialText=i.responseText),s.next(y)},g=m=>{let y={type:$s.UploadProgress,loaded:m.loaded};m.lengthComputable&&(y.total=m.total),s.next(y)};return i.addEventListener("load",u),i.addEventListener("error",f),i.addEventListener("timeout",f),i.addEventListener("abort",f),n.reportProgress&&(i.addEventListener("progress",p),null!==a&&i.upload&&i.upload.addEventListener("progress",g)),i.send(a),s.next({type:$s.Sent}),()=>{i.removeEventListener("error",f),i.removeEventListener("abort",f),i.removeEventListener("load",u),i.removeEventListener("timeout",f),n.reportProgress&&(i.removeEventListener("progress",p),null!==a&&i.upload&&i.upload.removeEventListener("progress",g)),i.readyState!==i.DONE&&i.abort()}})))}static{this.\u0275fac=function(r){return new(r||e)(j(Jg))}}static{this.\u0275prov=F({token:e,factory:e.\u0275fac})}}return e})();const tC=new P(""),R1=new P("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),O1=new P("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class k1{}let Nte=(()=>{class e{constructor(n,r,o){this.doc=n,this.platform=r,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=aP(n,this.cookieName),this.lastCookieString=n),this.lastToken}static{this.\u0275fac=function(r){return new(r||e)(j(lr),j(Fo),j(R1))}}static{this.\u0275prov=F({token:e,factory:e.\u0275fac})}}return e})();function Pte(e,t){const n=e.url.toLowerCase();if(!A(tC)||"GET"===e.method||"HEAD"===e.method||n.startsWith("http://")||n.startsWith("https://"))return t(e);const r=A(k1).getToken(),o=A(O1);return null!=r&&!e.headers.has(o)&&(e=e.clone({headers:e.headers.set(o,r)})),t(e)}var qs=function(e){return e[e.Interceptors=0]="Interceptors",e[e.LegacyInterceptors=1]="LegacyInterceptors",e[e.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",e[e.NoXsrfProtection=3]="NoXsrfProtection",e[e.JsonpSupport=4]="JsonpSupport",e[e.RequestsMadeViaParent=5]="RequestsMadeViaParent",e[e.Fetch=6]="Fetch",e}(qs||{});function Xi(e,t){return{\u0275kind:e,\u0275providers:t}}function Fte(...e){const t=[E1,eC,M1,{provide:wm,useExisting:M1},{provide:ud,useExisting:eC},{provide:hd,useValue:Pte,multi:!0},{provide:tC,useValue:!0},{provide:k1,useClass:Nte}];for(const n of e)t.push(...n.\u0275providers);return Ya(t)}const A1=new P("");let jte=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=Ss({type:e})}static{this.\u0275inj=Oo({providers:[Fte(Xi(qs.LegacyInterceptors,[{provide:A1,useFactory:Dte},{provide:hd,useExisting:A1,multi:!0}]))]})}}return e})();const zte={100:{code:100,text:"Continue",description:'"The initial part of a request has been received and has not yet been rejected by the server."',spec_title:"RFC7231#6.2.1",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.2.1"},101:{code:101,text:"Switching Protocols",description:'"The server understands and is willing to comply with the client\'s request, via the Upgrade header field, for a change in the application protocol being used on this connection."',spec_title:"RFC7231#6.2.2",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.2.2"},200:{code:200,text:"OK",description:'"The request has succeeded."',spec_title:"RFC7231#6.3.1",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.3.1"},201:{code:201,text:"Created",description:'"The request has been fulfilled and has resulted in one or more new resources being created."',spec_title:"RFC7231#6.3.2",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.3.2"},202:{code:202,text:"Accepted",description:'"The request has been accepted for processing, but the processing has not been completed."',spec_title:"RFC7231#6.3.3",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.3.3"},203:{code:203,text:"Non-Authoritative Information",description:'"The request was successful but the enclosed payload has been modified from that of the origin server\'s 200 (OK) response by a transforming proxy."',spec_title:"RFC7231#6.3.4",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.3.4"},204:{code:204,text:"No Content",description:'"The server has successfully fulfilled the request and that there is no additional content to send in the response payload body."',spec_title:"RFC7231#6.3.5",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.3.5"},205:{code:205,text:"Reset Content",description:'"The server has fulfilled the request and desires that the user agent reset the "document view", which caused the request to be sent, to its original state as received from the origin server."',spec_title:"RFC7231#6.3.6",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.3.6"},206:{code:206,text:"Partial Content",description:'"The server is successfully fulfilling a range request for the target resource by transferring one or more parts of the selected representation that correspond to the satisfiable ranges found in the requests\'s Range header field."',spec_title:"RFC7233#4.1",spec_href:"https://tools.ietf.org/html/rfc7233#section-4.1"},300:{code:300,text:"Multiple Choices",description:'"The target resource has more than one representation, each with its own more specific identifier, and information about the alternatives is being provided so that the user (or user agent) can select a preferred representation by redirecting its request to one or more of those identifiers."',spec_title:"RFC7231#6.4.1",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.4.1"},301:{code:301,text:"Moved Permanently",description:'"The target resource has been assigned a new permanent URI and any future references to this resource ought to use one of the enclosed URIs."',spec_title:"RFC7231#6.4.2",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.4.2"},302:{code:302,text:"Found",description:'"The target resource resides temporarily under a different URI."',spec_title:"RFC7231#6.4.3",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.4.3"},303:{code:303,text:"See Other",description:'"The server is redirecting the user agent to a different resource, as indicated by a URI in the Location header field, that is intended to provide an indirect response to the original request."',spec_title:"RFC7231#6.4.4",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.4.4"},304:{code:304,text:"Not Modified",description:'"A conditional GET request has been received and would have resulted in a 200 (OK) response if it were not for the fact that the condition has evaluated to false."',spec_title:"RFC7232#4.1",spec_href:"https://tools.ietf.org/html/rfc7232#section-4.1"},305:{code:305,text:"Use Proxy",description:"*deprecated*",spec_title:"RFC7231#6.4.5",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.4.5"},307:{code:307,text:"Temporary Redirect",description:'"The target resource resides temporarily under a different URI and the user agent MUST NOT change the request method if it performs an automatic redirection to that URI."',spec_title:"RFC7231#6.4.7",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.4.7"},400:{code:400,text:"Bad Request",description:'"The server cannot or will not process the request because the received syntax is invalid, nonsensical, or exceeds some limitation on what the server is willing to process."',spec_title:"RFC7231#6.5.1",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.1"},401:{code:401,text:"Unauthorized",description:'"The request has not been applied because it lacks valid authentication credentials for the target resource."',spec_title:"RFC7235#6.3.1",spec_href:"https://tools.ietf.org/html/rfc7235#section-3.1"},402:{code:402,text:"Payment Required",description:"*reserved*",spec_title:"RFC7231#6.5.2",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.2"},403:{code:403,text:"Forbidden",description:'"The server understood the request but refuses to authorize it."',spec_title:"RFC7231#6.5.3",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.3"},404:{code:404,text:"Not Found",description:'"The origin server did not find a current representation for the target resource or is not willing to disclose that one exists."',spec_title:"RFC7231#6.5.4",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.4"},405:{code:405,text:"Method Not Allowed",description:'"The method specified in the request-line is known by the origin server but not supported by the target resource."',spec_title:"RFC7231#6.5.5",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.5"},406:{code:406,text:"Not Acceptable",description:'"The target resource does not have a current representation that would be acceptable to the user agent, according to the proactive negotiation header fields received in the request, and the server is unwilling to supply a default representation."',spec_title:"RFC7231#6.5.6",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.6"},407:{code:407,text:"Proxy Authentication Required",description:'"The client needs to authenticate itself in order to use a proxy."',spec_title:"RFC7231#6.3.2",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.3.2"},408:{code:408,text:"Request Timeout",description:'"The server did not receive a complete request message within the time that it was prepared to wait."',spec_title:"RFC7231#6.5.7",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.7"},409:{code:409,text:"Conflict",description:'"The request could not be completed due to a conflict with the current state of the resource."',spec_title:"RFC7231#6.5.8",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.8"},410:{code:410,text:"Gone",description:'"Access to the target resource is no longer available at the origin server and that this condition is likely to be permanent."',spec_title:"RFC7231#6.5.9",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.9"},411:{code:411,text:"Length Required",description:'"The server refuses to accept the request without a defined Content-Length."',spec_title:"RFC7231#6.5.10",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.10"},412:{code:412,text:"Precondition Failed",description:'"One or more preconditions given in the request header fields evaluated to false when tested on the server."',spec_title:"RFC7232#4.2",spec_href:"https://tools.ietf.org/html/rfc7232#section-4.2"},413:{code:413,text:"Payload Too Large",description:'"The server is refusing to process a request because the request payload is larger than the server is willing or able to process."',spec_title:"RFC7231#6.5.11",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.11"},414:{code:414,text:"URI Too Long",description:'"The server is refusing to service the request because the request-target is longer than the server is willing to interpret."',spec_title:"RFC7231#6.5.12",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.12"},415:{code:415,text:"Unsupported Media Type",description:'"The origin server is refusing to service the request because the payload is in a format not supported by the target resource for this method."',spec_title:"RFC7231#6.5.13",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.13"},416:{code:416,text:"Range Not Satisfiable",description:'"None of the ranges in the request\'s Range header field overlap the current extent of the selected resource or that the set of ranges requested has been rejected due to invalid ranges or an excessive request of small or overlapping ranges."',spec_title:"RFC7233#4.4",spec_href:"https://tools.ietf.org/html/rfc7233#section-4.4"},417:{code:417,text:"Expectation Failed",description:'"The expectation given in the request\'s Expect header field could not be met by at least one of the inbound servers."',spec_title:"RFC7231#6.5.14",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.14"},418:{code:418,text:"I'm a teapot",description:'"1988 April Fools Joke. Returned by tea pots requested to brew coffee."',spec_title:"RFC 2324",spec_href:"https://tools.ietf.org/html/rfc2324"},426:{code:426,text:"Upgrade Required",description:'"The server refuses to perform the request using the current protocol but might be willing to do so after the client upgrades to a different protocol."',spec_title:"RFC7231#6.5.15",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.15"},500:{code:500,text:"Internal Server Error",description:'"The server encountered an unexpected condition that prevented it from fulfilling the request."',spec_title:"RFC7231#6.6.1",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.6.1"},501:{code:501,text:"Not Implemented",description:'"The server does not support the functionality required to fulfill the request."',spec_title:"RFC7231#6.6.2",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.6.2"},502:{code:502,text:"Bad Gateway",description:'"The server, while acting as a gateway or proxy, received an invalid response from an inbound server it accessed while attempting to fulfill the request."',spec_title:"RFC7231#6.6.3",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.6.3"},503:{code:503,text:"Service Unavailable",description:'"The server is currently unable to handle the request due to a temporary overload or scheduled maintenance, which will likely be alleviated after some delay."',spec_title:"RFC7231#6.6.4",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.6.4"},504:{code:504,text:"Gateway Time-out",description:'"The server, while acting as a gateway or proxy, did not receive a timely response from an upstream server it needed to access in order to complete the request."',spec_title:"RFC7231#6.6.5",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.6.5"},505:{code:505,text:"HTTP Version Not Supported",description:'"The server does not support, or refuses to support, the protocol version that was used in the request message."',spec_title:"RFC7231#6.6.6",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.6.6"},102:{code:102,text:"Processing",description:'"An interim response to inform the client that the server has accepted the complete request, but has not yet completed it."',spec_title:"RFC5218#10.1",spec_href:"https://tools.ietf.org/html/rfc2518#section-10.1"},207:{code:207,text:"Multi-Status",description:'"Status for multiple independent operations."',spec_title:"RFC5218#10.2",spec_href:"https://tools.ietf.org/html/rfc2518#section-10.2"},226:{code:226,text:"IM Used",description:'"The server has fulfilled a GET request for the resource, and the response is a representation of the result of one or more instance-manipulations applied to the current instance."',spec_title:"RFC3229#10.4.1",spec_href:"https://tools.ietf.org/html/rfc3229#section-10.4.1"},308:{code:308,text:"Permanent Redirect",description:'"The target resource has been assigned a new permanent URI and any future references to this resource SHOULD use one of the returned URIs. [...] This status code is similar to 301 Moved Permanently (Section 7.3.2 of rfc7231), except that it does not allow rewriting the request method from POST to GET."',spec_title:"RFC7238",spec_href:"https://tools.ietf.org/html/rfc7238"},422:{code:422,text:"Unprocessable Entity",description:'"The server understands the content type of the request entity (hence a 415(Unsupported Media Type) status code is inappropriate), and the syntax of the request entity is correct (thus a 400 (Bad Request) status code is inappropriate) but was unable to process the contained instructions."',spec_title:"RFC5218#10.3",spec_href:"https://tools.ietf.org/html/rfc2518#section-10.3"},423:{code:423,text:"Locked",description:'"The source or destination resource of a method is locked."',spec_title:"RFC5218#10.4",spec_href:"https://tools.ietf.org/html/rfc2518#section-10.4"},424:{code:424,text:"Failed Dependency",description:'"The method could not be performed on the resource because the requested action depended on another action and that action failed."',spec_title:"RFC5218#10.5",spec_href:"https://tools.ietf.org/html/rfc2518#section-10.5"},428:{code:428,text:"Precondition Required",description:'"The origin server requires the request to be conditional."',spec_title:"RFC6585#3",spec_href:"https://tools.ietf.org/html/rfc6585#section-3"},429:{code:429,text:"Too Many Requests",description:'"The user has sent too many requests in a given amount of time ("rate limiting")."',spec_title:"RFC6585#4",spec_href:"https://tools.ietf.org/html/rfc6585#section-4"},431:{code:431,text:"Request Header Fields Too Large",description:'"The server is unwilling to process the request because its header fields are too large."',spec_title:"RFC6585#5",spec_href:"https://tools.ietf.org/html/rfc6585#section-5"},451:{code:451,text:"Unavailable For Legal Reasons",description:'"The server is denying access to the resource in response to a legal demand."',spec_title:"draft-ietf-httpbis-legally-restricted-status",spec_href:"https://tools.ietf.org/html/draft-ietf-httpbis-legally-restricted-status"},506:{code:506,text:"Variant Also Negotiates",description:'"The server has an internal configuration error: the chosen variant resource is configured to engage in transparent content negotiation itself, and is therefore not a proper end point in the negotiation process."',spec_title:"RFC2295#8.1",spec_href:"https://tools.ietf.org/html/rfc2295#section-8.1"},507:{code:507,text:"Insufficient Storage",description:'The method could not be performed on the resource because the server is unable to store the representation needed to successfully complete the request."',spec_title:"RFC5218#10.6",spec_href:"https://tools.ietf.org/html/rfc2518#section-10.6"},511:{code:511,text:"Network Authentication Required",description:'"The client needs to authenticate to gain network access."',spec_title:"RFC6585#6",spec_href:"https://tools.ietf.org/html/rfc6585#section-6"}};class nC{}class Gte{}let Mm=(()=>{class e{constructor(n={}){Object.assign(this,{caseSensitiveSearch:!1,dataEncapsulation:!1,delay:500,delete404:!1,passThruUnknownUrl:!1,post204:!0,post409:!1,put204:!0,put404:!1,apiBase:void 0,host:void 0,rootPath:void 0},n)}static{this.\u0275fac=function(r){return new(r||e)(j(Gte))}}static{this.\u0275prov=F({token:e,factory:e.\u0275fac})}}return e})();class Qte{constructor(t,n={}){this.inMemDbService=t,this.config=new Mm,this.db={},this.requestInfoUtils=this.getRequestInfoUtils();const r=this.getLocation("/");this.config.host=r.host,this.config.rootPath=r.path,Object.assign(this.config,n)}get dbReady(){return this.dbReadySubject||(this.dbReadySubject=new Mn(!1),this.resetDb()),this.dbReadySubject.asObservable().pipe(zo(t=>t))}handleRequest(t){return this.dbReady.pipe(Hi(()=>this.handleRequest_(t)))}handleRequest_(t){const n=t.urlWithParams?t.urlWithParams:t.url,r=this.bind("parseRequestUrl"),o=r&&r(n,this.requestInfoUtils)||this.parseRequestUrl(n),s=o.collectionName,i=this.db[s],a={req:t,apiBase:o.apiBase,collection:i,collectionName:s,headers:this.createHeaders({"Content-Type":"application/json"}),id:this.parseId(i,s,o.id),method:this.getRequestMethod(t),query:o.query,resourceUrl:o.resourceUrl,url:n,utils:this.requestInfoUtils};let c;if(/commands\/?$/i.test(a.apiBase))return this.commands(a);const l=this.bind(a.method);if(l){const u=l(a);if(u)return u}return this.db[s]?this.createResponse$(()=>this.collectionHandler(a)):this.config.passThruUnknownUrl?this.getPassThruBackend().handle(t):(c=this.createErrorResponseOptions(n,404,`Collection '${s}' not found`),this.createResponse$(()=>c))}addDelay(t){const n=this.config.delay;return 0===n?t:function qte(e,t){return new et(n=>{let r=!1,o=!1;const s=e.subscribe(i=>{o=!0,setTimeout(()=>{n.next(i),r&&n.complete()},t)},i=>setTimeout(()=>n.error(i),t),()=>{r=!0,o||n.complete()});return()=>s.unsubscribe()})}(t,n||500)}applyQuery(t,n){const r=[],o=this.config.caseSensitiveSearch?void 0:"i";n.forEach((i,a)=>{i.forEach(c=>r.push({name:a,rx:new RegExp(decodeURI(c),o)}))});const s=r.length;return s?t.filter(i=>{let a=!0,c=s;for(;a&&c;){c-=1;const l=r[c];a=l.rx.test(i[l.name])}return a}):t}bind(t){const n=this.inMemDbService[t];return n?n.bind(this.inMemDbService):void 0}bodify(t){return this.config.dataEncapsulation?{data:t}:t}clone(t){return JSON.parse(JSON.stringify(t))}collectionHandler(t){let n;switch(t.method){case"get":n=this.get(t);break;case"post":n=this.post(t);break;case"put":n=this.put(t);break;case"delete":n=this.delete(t);break;default:n=this.createErrorResponseOptions(t.url,405,"Method not allowed")}const r=this.bind("responseInterceptor");return r?r(n,t):n}commands(t){const n=t.collectionName.toLowerCase(),r=t.method;let o={url:t.url};switch(n){case"resetdb":return o.status=204,this.resetDb(t).pipe(Hi(()=>this.createResponse$(()=>o,!1)));case"config":if("get"===r)o.status=200,o.body=this.clone(this.config);else{const s=this.getJsonBody(t.req);Object.assign(this.config,s),this.passThruBackend=void 0,o.status=204}break;default:o=this.createErrorResponseOptions(t.url,500,`Unknown command "${n}"`)}return this.createResponse$(()=>o,!1)}createErrorResponseOptions(t,n,r){return{body:{error:`${r}`},url:t,headers:this.createHeaders({"Content-Type":"application/json"}),status:n}}createResponse$(t,n=!0){const r=this.createResponseOptions$(t);let o=this.createResponse$fromResponseOptions$(r);return n?this.addDelay(o):o}createResponseOptions$(t){return new et(n=>{let r;try{r=t()}catch(s){r=this.createErrorResponseOptions("",500,`${s.message||s}`)}const o=r.status;try{r.statusText=null!=o?function Wte(e){return zte[e+""].text||"Unknown Status"}(o):void 0}catch{}return null!=o&&function Xte(e){return e>=200&&e<300}(o)?(n.next(r),n.complete()):n.error(r),()=>{}})}delete({collection:t,collectionName:n,headers:r,id:o,url:s}){return null==o?this.createErrorResponseOptions(s,404,`Missing "${n}" id`):{headers:r,status:this.removeById(t,o)||!this.config.delete404?204:404}}findById(t,n){return t.find(r=>r.id===n)}genId(t,n){const r=this.bind("genId");if(r){const o=r(t,n);if(null!=o)return o}return this.genIdDefault(t,n)}genIdDefault(t,n){if(!this.isCollectionIdNumeric(t,n))throw new Error(`Collection '${n}' id type is non-numeric or unknown. Can only generate numeric ids.`);let r=0;return t.reduce((o,s)=>{r=Math.max(r,"number"==typeof s.id?s.id:r)},void 0),r+1}get({collection:t,collectionName:n,headers:r,id:o,query:s,url:i}){let a=t;return null!=o&&""!==o?a=this.findById(t,o):s&&(a=this.applyQuery(t,s)),a?{body:this.bodify(this.clone(a)),headers:r,status:200}:this.createErrorResponseOptions(i,404,`'${n}' with id='${o}' not found`)}getLocation(t){if(!t.startsWith("http")){const n=typeof document>"u"?void 0:document,r=n?n.location.protocol+"//"+n.location.host:"http://fake";t=t.startsWith("/")?r+t:r+"/"+t}return function Kte(e){const n=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(e),r={source:"",protocol:"",authority:"",userInfo:"",user:"",password:"",host:"",port:"",relative:"",path:"",directory:"",file:"",query:"",anchor:""},o=Object.keys(r);let s=o.length;for(;s--;)r[o[s]]=n&&n[s]||"";return r}(t)}getPassThruBackend(){return this.passThruBackend?this.passThruBackend:this.passThruBackend=this.createPassThruBackend()}getRequestInfoUtils(){return{createResponse$:this.createResponse$.bind(this),findById:this.findById.bind(this),isCollectionIdNumeric:this.isCollectionIdNumeric.bind(this),getConfig:()=>this.config,getDb:()=>this.db,getJsonBody:this.getJsonBody.bind(this),getLocation:this.getLocation.bind(this),getPassThruBackend:this.getPassThruBackend.bind(this),parseRequestUrl:this.parseRequestUrl.bind(this)}}indexOf(t,n){return t.findIndex(r=>r.id===n)}parseId(t,n,r){if(!this.isCollectionIdNumeric(t,n))return r;const o=parseFloat(r);return isNaN(o)?r:o}isCollectionIdNumeric(t,n){return!(!t||!t[0])&&"number"==typeof t[0].id}parseRequestUrl(t){try{const n=this.getLocation(t);let r=(this.config.rootPath||"").length,o="";n.host!==this.config.host&&(r=1,o=n.protocol+"//"+n.host+"/");const i=n.path.substring(r).split("/");let c,a=0;null==this.config.apiBase?c=i[a++]:(c=function Yte(e){return e.replace(/\/$/,"")}(this.config.apiBase.trim()),a=c?c.split("/").length:0),c+="/";let l=i[a++];l=l&&l.split(".")[0];return{apiBase:c,collectionName:l,id:i[a++],query:this.createQueryMap(n.query),resourceUrl:o+c+l+"/"}}catch(n){throw new Error(`unable to parse url '${t}'; original error: ${n.message}`)}}post({collection:t,collectionName:n,headers:r,id:o,req:s,resourceUrl:i,url:a}){const c=this.clone(this.getJsonBody(s));if(null==c.id)try{c.id=o||this.genId(t,n)}catch(f){const d=f.message||"";return/id type is non-numeric/.test(d)?this.createErrorResponseOptions(a,422,d):this.createErrorResponseOptions(a,500,`Failed to generate new id for '${n}'`)}if(o&&o!==c.id)return this.createErrorResponseOptions(a,400,"Request id does not match item.id");const l=this.indexOf(t,o=c.id),u=this.bodify(c);return-1===l?(t.push(c),r.set("Location",i+"/"+o),{headers:r,body:u,status:201}):this.config.post409?this.createErrorResponseOptions(a,409,`'${n}' item with id='${o} exists and may not be updated with POST; use PUT instead.`):(t[l]=c,this.config.post204?{headers:r,status:204}:{headers:r,body:u,status:200})}put({collection:t,collectionName:n,headers:r,id:o,req:s,url:i}){const a=this.clone(this.getJsonBody(s));if(null==a.id)return this.createErrorResponseOptions(i,404,`Missing '${n}' id`);if(o&&o!==a.id)return this.createErrorResponseOptions(i,400,`Request for '${n}' id does not match item.id`);const c=this.indexOf(t,o=a.id),l=this.bodify(a);return c>-1?(t[c]=a,this.config.put204?{headers:r,status:204}:{headers:r,body:l,status:200}):this.config.put404?this.createErrorResponseOptions(i,404,`'${n}' item with id='${o} not found and may not be created with PUT; use POST instead.`):(t.push(a),{headers:r,body:l,status:201})}removeById(t,n){const r=this.indexOf(t,n);return r>-1&&(t.splice(r,1),!0)}resetDb(t){this.dbReadySubject&&this.dbReadySubject.next(!1);const n=this.inMemDbService.createDb(t);return(n instanceof et?n:"function"==typeof n.then?Qt(n):ee(n)).pipe(zo()).subscribe(o=>{this.db=o,this.dbReadySubject&&this.dbReadySubject.next(!0)}),this.dbReady}}let Jte=(()=>{class e extends Qte{constructor(n,r,o){super(n,r),this.xhrFactory=o}handle(n){try{return this.handleRequest(n)}catch(r){const s=this.createErrorResponseOptions(n.url,500,`${r.message||r}`);return this.createResponse$(()=>s)}}getJsonBody(n){return n.body}getRequestMethod(n){return(n.method||"get").toLowerCase()}createHeaders(n){return new Gn(n)}createQueryMap(n){const r=new Map;if(n){const o=new Wo({fromString:n});o.keys().forEach(s=>r.set(s,o.getAll(s)||[]))}return r}createResponse$fromResponseOptions$(n){return n.pipe(le(r=>new Hs(r)))}createPassThruBackend(){try{return new eC(this.xhrFactory)}catch(n){throw n.message="Cannot create passThru404 backend; "+(n.message||""),n}}static{this.\u0275fac=function(r){return new(r||e)(j(nC),j(Mm,8),j(Jg))}}static{this.\u0275prov=F({token:e,factory:e.\u0275fac})}}return e})();function Zte(e,t,n){return new Jte(e,t,n)}let ene=(()=>{class e{static forRoot(n,r){return{ngModule:e,providers:[{provide:nC,useClass:n},{provide:Mm,useValue:r},{provide:ud,useFactory:Zte,deps:[nC,Mm,Jg]}]}}static forFeature(n,r){return e.forRoot(n,r)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=Ss({type:e})}static{this.\u0275inj=Oo({})}}return e})(),tne=(()=>{class e{createDb(){const n={id:"metal",label:"Metal",bpm:180,tracks:[{name:"Snare",fileName:"metal/snare.mp3",steps:"____X_______X___".split("").map(w=>"X"===w)},{name:"Hats",fileName:"metal/crash.mp3",steps:"X___X___X___X___".split("").map(w=>"X"===w)},{name:"Kick",fileName:"metal/kick.mp3",steps:"XXXXXXXXXXXXXXXX".split("").map(w=>"X"===w)}]},r={id:"techno",label:"4 on the floor",bpm:128,tracks:[{name:"Snare",fileName:"techno/snare.wav",steps:"____X_______X___".split("").map(w=>"X"===w)},{name:"Hats",fileName:"techno/hat.wav",steps:"X_X_X_X_X_X_X_X_".split("").map(w=>"X"===w)},{name:"Kick",fileName:"techno/kick.wav",steps:"X   X   X   X   ".split("").map(w=>"X"===w)}]},o={id:"rock-beat",label:"Rock",bpm:145,tracks:[{name:"Snare",fileName:"metal/snare.mp3",steps:"    X       X   ".split("").map(w=>"X"===w)},{name:"Hats",fileName:"metal/hat.mp3",steps:"X   X   X   X   ".split("").map(w=>"X"===w)},{name:"Kick",fileName:"metal/kick.mp3",steps:"X       X       ".split("").map(w=>"X"===w)}]},s={id:"rock-beat-variation",label:"Rock variation",bpm:145,tracks:[{name:"Snare",fileName:"metal/snare.mp3",steps:"    X       X   ".split("").map(w=>"X"===w)},{name:"Crash",fileName:"metal/crash.mp3",steps:"X   X   X   X   ".split("").map(w=>"X"===w)},{name:"Kick",fileName:"metal/kick.mp3",steps:"X       X       ".split("").map(w=>"X"===w)}]},i={id:"psytrance",label:"Psytrance",bpm:135,tracks:[{name:"Closed hats",fileName:"psytrance/closed-hat.wav",steps:"X   X   X   X   ".split("").map(w=>"X"===w)},{name:"Open hats",fileName:"psytrance/open-hat.wav",steps:"  X   X   X   X ".split("").map(w=>"X"===w)},{name:"Snare",fileName:"psytrance/snare.wav",steps:"    X       X   ".split("").map(w=>"X"===w)},{name:"Kick",fileName:"psytrance/kick.wav",steps:"X   X   X   X   ".split("").map(w=>"X"===w)},{name:"Bass",fileName:"psytrance/bass.wav",steps:" XXX XXX XXX XXX".split("").map(w=>"X"===w)}]},a={id:"off-beat-techno-clap",label:"OffBeat clap",bpm:128,tracks:[{name:"Clap",fileName:"gabber/clap.wav",steps:"    X      XX       X      XX   ".split("").map(w=>"X"===w)},{name:"Hats",fileName:"techno/hat.wav",steps:"  X   X   X   X   X   X   X   X ".split("").map(w=>"X"===w)},{name:"Kick",fileName:"techno/kick.wav",steps:"X   X   X   X   X   X   X   X   ".split("").map(w=>"X"===w)}]},c={id:"jersey-club",label:"Jersey club",bpm:140,tracks:[{name:"Bed squeak (low)",fileName:"jersey-club/squeak_low.mp3",steps:"X       X       ".split("").map(w=>"X"===w)},{name:"Bed squeak (high)",fileName:"jersey-club/squeak_high.mp3",steps:"    X       X   ".split("").map(w=>"X"===w)},{name:"Snare",fileName:"jersey-club/snare.mp3",steps:"X   X   X  X  X ".split("").map(w=>"X"===w)},{name:"Kick",fileName:"jersey-club/kick.mp3",steps:"X   X   X  X  X ".split("").map(w=>"X"===w)}]},l={id:"half-time-groove",label:"Half time groove",bpm:145,tracks:[{name:"Snare",fileName:"metal/snare.mp3",steps:"        X       ".split("").map(w=>"X"===w)},{name:"Crash",fileName:"metal/crash.mp3",steps:"X   X   X   X   ".split("").map(w=>"X"===w)},{name:"Kick",fileName:"metal/kick.mp3",steps:"X               ".split("").map(w=>"X"===w)}]},u={id:"garage",label:"Garage",bpm:130,tracks:[{name:"Snare",fileName:"techno/snare.wav",steps:"    X       X   ".split("").map(w=>"X"===w)},{name:"Hats",fileName:"techno/hat.wav",steps:"  X   X   X   X ".split("").map(w=>"X"===w)},{name:"Kick",fileName:"techno/kick.wav",steps:"X           X   ".split("").map(w=>"X"===w)}]},f={id:"gabber",label:"Gabber",bpm:200,tracks:[{name:"Crash Cymbal",fileName:"gabber/crash.wav",steps:"                               X".split("").map(w=>"X"===w)},{name:"Open HiHats",fileName:"gabber/open-hihat.wav",steps:"X X X X X X X X X X X X X X X X ".split("").map(w=>"X"===w)},{name:"Clap",fileName:"gabber/clap.wav",steps:"X   X   X   X   X   X   X   X   ".split("").map(w=>"X"===w)},{name:"Kick",fileName:"gabber/kick.wav",steps:"X   X   X   X   X   X   X   X   ".split("").map(w=>"X"===w)}]},d={id:"ebm",label:"EBM",bpm:120,tracks:[{name:"Clap",fileName:"ebm/clap.wav",steps:[" "," ","X"," ","X"," ","X"," "," "," ","X"," "," "," ","X","X"," "," ","X","X","X","X"," "," "," ","X"," ","X"," "," ","X"," "].map(w=>"X"===w)},{name:"Open High-Hat",fileName:"ebm/open-hihat.wav",steps:[" "," ","X"," "," "," ","X"," "," "," ","X"," "," "," ","X"," "," "," ","X"," "," "," ","X"," "," "," ","X"," "," "," ","X"," "].map(w=>"X"===w)},{name:"Closed High-Hat",fileName:"ebm/closed-hihat.wav",steps:["X","X"," "," ","X","X"," "," ","X","X"," "," ","X","X"," "," ","X","X"," "," ","X","X"," "," ","X","X"," "," ","X","X"," "," "].map(w=>"X"===w)},{name:"Snare",fileName:"ebm/snare.wav",steps:"    X       X       X       X XX".split("").map(w=>"X"===w)},{name:"Kick",fileName:"ebm/kick.wav",steps:"X   X   X   X   X   X   X   X   ".split("").map(w=>"X"===w)}]},p={id:"dub",label:"Dub",bpm:140,tracks:[{name:"Kick",fileName:"dub/kick.wav",steps:"X_______X_______X_______X_______X_______X_______X_______X_______".split("").map(w=>"X"===w)},{name:"Sub Bass",fileName:"dub/sub.wav",steps:["X"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","X"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","X"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","X"," "," "," "," "," "," "," ","X"," "," "," "," "," "," "," "].map(w=>"X"===w)},{name:"Skank",fileName:"dub/skank.wav",steps:"____X_______X_______X_______X_______X_______X_______X_______X___".split("").map(w=>"X"===w)},{name:"Snare",fileName:"dub/snare.wav",steps:[" "," "," "," "," "," "," "," ","X"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","X"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","X"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","X"," ","X"," "," "," "," "," "].map(w=>"X"===w)},{name:"Arpeggio",fileName:"dub/arpeggio_si.wav",steps:"____X_______X_______X_______X_______X_______X_______X_______X___".split("").map(w=>"X"===w)},{name:"Closed Hat",fileName:"dub/closed-hat.wav",steps:[" "," "," "," ","X"," ","X"," "," "," "," "," ","X"," "," "," "," "," "," "," ","X","X","X"," "," "," "," "," ","X"," "," "," "," "," "," "," ","X"," ","X"," "," "," "," "," ","X","X"," "," "," "," "," "," ","X"," ","X"," "," "," "," "," ","X"," ","X","X"].map(w=>"X"===w)},{name:"Bass",fileName:"dub/bass.wav",steps:"X                                         X                     ".split("").map(w=>"X"===w)}]},g={id:"blast-beat",label:"Blast beat",bpm:180,tracks:[{name:"Snare",fileName:"metal/snare.mp3",steps:"_X_X_X_X_X_X_X_X".split("").map(w=>"X"===w)},{name:"Hats",fileName:"metal/hat.mp3",steps:"X_X_X_X_X_X_X_X_".split("").map(w=>"X"===w)},{name:"Kick",fileName:"metal/kick.mp3",steps:"X_X_X_X_X_X_X_X_".split("").map(w=>"X"===w)}]},m={id:"breakcore",label:"Breakcore",bpm:180,tracks:[{name:"Snare (accent)",fileName:"techno/snare.wav",steps:"    X        X  ".split("").map(w=>"X"===w)},{name:"Snare (main)",fileName:"drum-n-bass/snare.wav",steps:"    X  X X   X  ".split("").map(w=>"X"===w)},{name:"Hats",fileName:"techno/hat.wav",steps:"XXXXXXXXXXXXXXXX".split("").map(w=>"X"===w)},{name:"Kick",fileName:"techno/kick.wav",steps:"X X       XX    ".split("").map(w=>"X"===w)}]},y={id:"drum-n-bass",label:"Drum & bass",bpm:170,tracks:[{name:"Snare",fileName:"drum-n-bass/snare.wav",steps:"    X       X   ".split("").map(w=>"X"===w)},{name:"Hats",fileName:"drum-n-bass/hat.wav",steps:"XXXXXXXXXXXXXXXX".split("").map(w=>"X"===w)},{name:"Kick",fileName:"drum-n-bass/kick.wav",steps:"X         X     ".split("").map(w=>"X"===w)}]},b={id:"dancehall-standard",label:"Standard dancehall",bpm:105,tracks:[{name:"Hats",fileName:"techno/hat.wav",steps:"XXXXXXXXXXXXXXXX".split("").map(w=>"X"===w)},{name:"Snare",fileName:"techno/snare.wav",steps:"      X       X ".split("").map(w=>"X"===w)},{name:"Kick",fileName:"techno/kick.wav",steps:"X  X  X X  X  X ".split("").map(w=>"X"===w)}]},S={id:"dancehall-reggaeton",label:"Reggaeton",bpm:105,tracks:[{name:"Hats",fileName:"techno/hat.wav",steps:"XXXXXXXXXXXXXXXX".split("").map(w=>"X"===w)},{name:"Snare",fileName:"techno/snare.wav",steps:"   X  X    X  X ".split("").map(w=>"X"===w)},{name:"Kick",fileName:"techno/kick.wav",steps:"X   X   X   X   ".split("").map(w=>"X"===w)}]},R={id:"dancehall-modern",label:"Modern dancehall",bpm:105,tracks:[{name:"Hats",fileName:"techno/hat.wav",steps:"XXXXXXXXXXXXXXXX".split("").map(w=>"X"===w)},{name:"Rim",fileName:"techno/snare.wav",steps:"   X  X     X   ".split("").map(w=>"X"===w)},{name:"Kick",fileName:"techno/kick.wav",steps:"X         X     ".split("").map(w=>"X"===w)}]};return{genres:[{label:"Techno",beats:[r,f,a]},{label:"Garage",beats:[u,y]},{label:"Breakbeat",beats:[c,m]},{label:"Dancehall",beats:[S,b,R]},{label:"Trance",beats:[i]},{label:"Dub",beats:[p]},{label:"Indus",beats:[d]},{label:"Metal",beats:[n,l,o,s,g]},{label:"Punk",beats:[{id:"punk-beat-quarter-note-groove",label:"Quarter note groove",bpm:170,tracks:[{name:"Hats",fileName:"metal/hat.mp3",steps:"X___X___X___X___".split("").map(w=>"X"===w)},{name:"Snare",fileName:"metal/snare.mp3",steps:"____X_______X___".split("").map(w=>"X"===w)},{name:"Kick",fileName:"metal/kick.mp3",steps:"X_______X_______".split("").map(w=>"X"===w)}]},{id:"punk-beat-quarter-note-groove-variation",label:"Quarter note groove variation",bpm:170,tracks:[{name:"Hats",fileName:"metal/hat.mp3",steps:"X___X___X___X___".split("").map(w=>"X"===w)},{name:"Snare",fileName:"metal/snare.mp3",steps:"____X_______X___".split("").map(w=>"X"===w)},{name:"Kick",fileName:"metal/kick.mp3",steps:"X_X_____X_X_____".split("").map(w=>"X"===w)}]},{id:"punk-beat-eight-note-fill",label:"Eight note fill",bpm:170,tracks:[{name:"Hats",fileName:"metal/hat.mp3",steps:"X_X_X_X_X_X_X_X_".split("").map(w=>"X"===w)},{name:"Snare",fileName:"metal/snare.mp3",steps:"____X_______X___".split("").map(w=>"X"===w)},{name:"Kick",fileName:"metal/kick.mp3",steps:"X_X___X_X_X_____".split("").map(w=>"X"===w)}]}]}],beats:[R,b,S,y,m,g,p,d,n,r,o,s,i,a,c,l,u,f]}}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const nne={sixteen:16,thirty_two:32,sixty_four:64};class rne{getAudioBuffer(t){return To(function*(){const n=new Request(`assets/sounds/${t}`),o=yield(yield fetch(n)).arrayBuffer();return yield(new AudioContext).decodeAudioData(o).then(s=>s)})()}}let one=(()=>{class e{getRenderedBuffer(n,r,o,s){var i=this;return To(function*(){const a=i.getTickLength(o),c=new OfflineAudioContext(1,2*s*a*44100,44100);return n.forEach(l=>{i.getDuplicatedTrackSteps(l).forEach((f,d)=>{if(!f)return;const p=r.find(y=>y.fileName===l.fileName).sample,g=c.createBufferSource();g.buffer=p,g.connect(c.destination),g.start(d*a)})}),c.oncomplete=l=>l.renderedBuffer,yield c.startRendering()})()}getDuplicatedTrackSteps(n){const r=[...n.steps];return r.push(...n.steps),r}getTickLength(n){return 60/n/4}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Tm=(()=>{class e{static{this.maxBpm=300}static{this.minBpm=30}constructor(n,r){this.soundGeneratorService=n,this.loader=r,this.bpm=120,this.isPlaying=!1,this.index=0,this.samples=[],this.tracks=[],this.stepNumber=16,this.audioFilesService=new rne,this.loopBuffer=null,this.context=new AudioContext,this.playbackSource=new AudioBufferSourceNode(this.context)}playPause(){var n=this;return To(function*(){n.isPlaying=!n.isPlaying,n.isPlaying?(n.loopBuffer||(n.loopBuffer=yield n.soundGeneratorService.getRenderedBuffer(n.tracks,n.samples,n.bpm,n.stepNumber)),n.play()):n.pause()})()}pause(){this.playbackSource.stop(this.context.currentTime),this.reset()}playSound(n){const r=this.context.createBufferSource();r.buffer=n,r.connect(this.context.destination),r.loop=!0,r.loopStart=r.buffer.duration/2,r.loopEnd=r.buffer.duration;const o=this.context.currentTime;r.start();const s=()=>{this.index=Math.trunc(1e3*(this.context.currentTime-o)/this.getMillisStepFromBpm()%this.stepNumber),this.isPlaying&&requestAnimationFrame(s)};s(),this.playbackSource.buffer&&this.playbackSource.stop(this.context.currentTime),this.playbackSource=r}getMillisStepFromBpm(){let r=6e4/this.bpm/4;return r=Math.min(r,1e3),r=Math.max(r,10),r}reset(){this.isPlaying=!1,this.index=0}resetLoopBuffer(){this.loopBuffer=null}setBpm(n){this.bpm=n}setTracks(n){this.tracks=n;const r=n.map(o=>o.fileName);this.loadTracks(r)}loadTracks(n){this.loader.start(),n.forEach(o=>this.samples.push({fileName:o}));const r=this.samples.map(o=>this.audioFilesService.getAudioBuffer(o.fileName).then(s=>o.sample=s));Promise.all(r).then(()=>this.loader.complete()).catch(()=>this.loader.complete())}setStepNumber(n){this.stepNumber=n}generateLoopBuffer(){var n=this;return To(function*(){n.loopBuffer=yield n.soundGeneratorService.getRenderedBuffer(n.tracks,n.samples,n.bpm,n.stepNumber)})()}play(){this.loopBuffer&&this.playSound(this.loopBuffer)}static{this.\u0275fac=function(r){return new(r||e)(j(one),j(Kw))}}static{this.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),sne=(()=>{class e{constructor(){this.maxBpm=Tm.maxBpm,this.minBpm=Tm.minBpm,this.bpm=Tm.minBpm,this.bpmChange=new an}incrementBpm(){this.updateBpm(Math.min(this.bpm+1,this.maxBpm))}decrementBpm(){this.updateBpm(Math.max(this.bpm-1,this.minBpm))}updateNumber(n){let o=Number(n.target.value);o=Math.min(o,this.maxBpm),o=Math.max(o,this.minBpm),this.updateBpm(o)}updateBpm(n){this.bpm=n,this.bpmChange.emit(this.bpm)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=Es({type:e,selectors:[["app-bpm-input"]],inputs:{bpm:"bpm"},outputs:{bpmChange:"bpmChange"},standalone:!0,features:[Bc],decls:4,vars:1,consts:[[1,"number-control"],[1,"number-left",3,"click"],["type","number","name","number",1,"number-quantity",3,"change","value"],[1,"number-right",3,"click"]],template:function(r,o){1&r&&(Ie(0,"div",0)(1,"div",1),cr("click",function(){return o.decrementBpm()}),Ee(),Ie(2,"input",2),cr("change",function(i){return o.updateNumber(i)}),Ee(),Ie(3,"div",3),cr("click",function(){return o.incrementBpm()}),Ee()()),2&r&&(Fe(2),rt("value",o.bpm))},styles:['.number-control[_ngcontent-%COMP%]{display:flex;align-items:center}.number-control[_ngcontent-%COMP%]   .number-left[_ngcontent-%COMP%]:before, .number-control[_ngcontent-%COMP%]   .number-right[_ngcontent-%COMP%]:after{content:attr(data-content);background-color:var(--backgroundColor);display:flex;align-items:center;justify-content:center;border:1px solid var(--borderColor);width:20px;color:var(--textColor);cursor:pointer}.number-control[_ngcontent-%COMP%]   .number-left[_ngcontent-%COMP%]:before{content:"-"}.number-control[_ngcontent-%COMP%]   .number-right[_ngcontent-%COMP%]:after{content:"+"}.number-control[_ngcontent-%COMP%]   .number-quantity[_ngcontent-%COMP%]{padding:.25rem;width:50px;height:12px;-moz-appearance:textfield;border:0;border-top:1px solid var(--borderColor);border-bottom:1px solid var(--borderColor);background-color:var(--backgroundColor);color:var(--textColor)}']})}}return e})();function ine(e,t){if(1&e&&(Ie(0,"h3",13),ln(1),Ee()),2&e){const n=t.$implicit;Fe(),Af(n.name)}}function ane(e,t){if(1&e&&vn(0,"div",16),2&e){const n=t.$implicit,r=t.index,o=Nt(2);mg("active",n)("current",r===o.soundService.index)("highlight",o.Math.floor(r/4)%2==0)}}function cne(e,t){if(1&e&&(Ie(0,"article")(1,"div",14),Yt(2,ane,1,6,"div",15),Ee()()),2&e){const n=t.$implicit,r=Nt();Fe(),mg("sixteen-steps",n.steps.length==r.StepLengths.sixteen)("thirty-two-steps",n.steps.length==r.StepLengths.thirty_two)("sixty-four-steps",n.steps.length==r.StepLengths.sixty_four),Fe(),rt("ngForOf",n.steps)}}let lne=(()=>{class e{constructor(n,r,o){this._genresManager=n,this.soundService=r,this.route=o,this.beat={},this.genre={},this.StepLengths=nne,this.Math=Math,this.beatBehaviourSubject=new Vt}ngOnInit(){this._genresManager.getGenres().then(n=>{this.route.queryParamMap.subscribe(r=>{this.selectGenre(n,r.get("genre"),r.get("beat"))})}).catch(n=>{console.log(n)}),this.beatBehaviourSubject.subscribe(n=>{this.soundService.isPlaying&&this.soundService.pause(),this.soundService.reset(),this.soundService.resetLoopBuffer(),this.soundService.setBpm(n.bpm),this.soundService.setTracks(n.tracks),this.soundService.setStepNumber(n.tracks[0].steps.length)})}toggleIsPlaying(){this.soundService.playPause().then(()=>{},()=>{})}handleKeyboardEvent(n){"Space"==n.code&&this.toggleIsPlaying()}selectGenre(n,r,o){const s=r?n.find(a=>a.label===r):n[0];if(!s)return;this.genre=s;const i=o?s.beats.find(a=>a.id===o):s.beats[0];this.selectBeat(i)}selectBeat(n){null!=n&&(this.beat=n,this.beatBehaviourSubject.next(this.beat))}changeBeatBpm(n){const r=this.soundService.isPlaying;this.soundService.setBpm(n),this.soundService.generateLoopBuffer().then(()=>{r&&this.soundService.play()},()=>{})}static{this.\u0275fac=function(r){return new(r||e)(H(mw),H(Tm),H(Wi))}}static{this.\u0275cmp=Es({type:e,selectors:[["sequencer"]],hostBindings:function(r,o){1&r&&cr("keydown",function(i){return o.handleKeyboardEvent(i)},0,NR)},standalone:!0,features:[Bc],decls:25,vars:6,consts:[["id","main-container"],[1,"play-button-container","flex"],[1,"play-pause-button","pointer",3,"click"],[1,"sequencer-header"],[1,"label"],[1,"small"],[1,"large"],[1,"flex","label",2,"align-items","center","gap","5px","margin-top","2px"],[3,"bpmChange","bpm"],[1,"tracks-name"],["class","track-name",4,"ngFor","ngForOf"],[1,"tracks-container"],[4,"ngFor","ngForOf"],[1,"track-name"],["id","track"],["class","step",3,"active","current","highlight",4,"ngFor","ngForOf"],[1,"step"]],template:function(r,o){1&r&&(Ie(0,"div",0)(1,"div",1)(2,"button",2),cr("click",function(){return o.toggleIsPlaying()}),ln(3),Ee()(),Ie(4,"div",3)(5,"div",4)(6,"span",5),ln(7,"Genre : "),Ee(),Ie(8,"span",6),ln(9),Ee()(),Ie(10,"div",4)(11,"span",5),ln(12,"Beat : "),Ee(),Ie(13,"span",6),ln(14),Ee()(),Ie(15,"div",7)(16,"span",5),ln(17,"Tempo : "),Ee(),Ie(18,"app-bpm-input",8),cr("bpmChange",function(i){return o.changeBeatBpm(i)}),Ee(),Ie(19,"span",5),ln(20," bpm"),Ee()()(),Ie(21,"div",9),Yt(22,ine,2,1,"h3",10),Ee(),Ie(23,"section",11),Yt(24,cne,3,7,"article",12),Ee()()),2&r&&(Fe(3),Li(" ",o.soundService.isPlaying?"\u23f8":"\u25b6"," "),Fe(6),Af(o.genre.label),Fe(5),Af(o.beat.label),Fe(4),rt("bpm",o.beat.bpm),Fe(4),rt("ngForOf",o.beat.tracks),Fe(2),rt("ngForOf",o.beat.tracks))},dependencies:[XS,sne],styles:['html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%;margin:0}[_ngcontent-%COMP%]:root{font-family:Inter,sans-serif;font-feature-settings:"liga" 1,"calt" 1,"ss01" on}@supports (font-variation-settings: normal){[_ngcontent-%COMP%]:root{font-family:InterVariable,sans-serif}}a[_ngcontent-%COMP%]{all:unset}h3[_ngcontent-%COMP%]{margin:0}button[_ngcontent-%COMP%]{font-family:inherit;font-size:100%;line-height:1.15;margin:0;overflow:visible;text-transform:none;-webkit-appearance:button}.flex[_ngcontent-%COMP%]{display:flex}.mt-40[_ngcontent-%COMP%]{margin-top:40px}.mb-40[_ngcontent-%COMP%]{margin-bottom:40px}.mb-10[_ngcontent-%COMP%]{margin-bottom:10px}.ml-10[_ngcontent-%COMP%]{margin-left:10px}body.dark[_ngcontent-%COMP%]{--backgroundColor: #2e2e2e;--textColor: white;--borderColor: white;--menuButtonColor: #CC71FA;--gridHighLightColor: #474747;background-color:var(--backgroundColor);color:var(--textColor)}body.light[_ngcontent-%COMP%]{--backgroundColor: white;--textColor: black;--borderColor: black;--menuButtonColor: #70F1FA;--gridHighLightColor: #e8e8e8;background-color:var(--backgroundColor);color:var(--textColor)}#main-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:max-content auto;gap:10px}.sequencer-grid[_ngcontent-%COMP%]{flex-direction:column}#track[_ngcontent-%COMP%]{display:grid;grid-template-rows:repeat(1,1fr);gap:4px}#track[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]{height:40px;width:40px;background-color:var(--backgroundColor);border-radius:4px;border:1px solid var(--borderColor)}#track[_ngcontent-%COMP%]   .current[_ngcontent-%COMP%]{background:repeating-linear-gradient(-45deg,var(--backgroundColor),var(--backgroundColor) 10px,var(--textColor) 5px,var(--textColor) 15px)}#track[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%], #track[_ngcontent-%COMP%]   .active.highlight[_ngcontent-%COMP%]{background-color:#cc71fa}#track[_ngcontent-%COMP%]   .active.current[_ngcontent-%COMP%], #track[_ngcontent-%COMP%]   .active.highlight.current[_ngcontent-%COMP%]{background:repeating-linear-gradient(-45deg,#CC71FA,#CC71FA 10px,var(--backgroundColor) 5px,var(--backgroundColor) 15px)}#track[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%]{background:var(--gridHighLightColor)}#track[_ngcontent-%COMP%]   .current.highlight[_ngcontent-%COMP%]{background:repeating-linear-gradient(-45deg,var(--gridHighLightColor),var(--gridHighLightColor) 10px,var(--textColor) 5px,var(--textColor) 15px)}.sixteen-steps[_ngcontent-%COMP%]{grid-template-columns:repeat(16,1fr)}.thirty-two-steps[_ngcontent-%COMP%]{grid-template-columns:repeat(32,1fr)}.sixty-four-steps[_ngcontent-%COMP%]{grid-template-columns:repeat(64,1fr)}.tracks-container[_ngcontent-%COMP%]{grid-column-start:2;grid-row-start:2;display:grid;grid-template-columns:auto;gap:4px;overflow-x:auto}.tracks-name[_ngcontent-%COMP%]{margin-top:10px;grid-column-start:1;grid-row-start:2}.tracks-name[_ngcontent-%COMP%]   .track-name[_ngcontent-%COMP%]{white-space:nowrap;height:44px}.sequencer-header[_ngcontent-%COMP%]{grid-column-start:2;grid-row-start:1}.sequencer-header[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{vertical-align:bottom}.sequencer-header[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]   .small[_ngcontent-%COMP%]{font-size:small}.sequencer-header[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]   .large[_ngcontent-%COMP%]{font-size:large;font-weight:700}.sequencer-header[_ngcontent-%COMP%]   div[_ngcontent-%COMP%] + div[_ngcontent-%COMP%]{margin-top:3px}.play-button-container[_ngcontent-%COMP%]{grid-column-start:1;grid-row-start:1;justify-content:center;align-items:center}.play-button-container[_ngcontent-%COMP%]   .play-pause-button[_ngcontent-%COMP%]{height:40px;width:40px;min-width:40px;background-color:var(--backgroundColor);color:var(--textColor);font-size:20px;border:none}']})}}return e})();const h=function(e,t){if("function"==typeof e)return function(){return e(arguments)?t.apply(this,arguments):n=>t(n,...arguments)};switch(e){case 0:case 1:throw new RangeError(`Invalid arity ${e}`);case 2:return function(n,r){return arguments.length>=2?t(n,r):function(o){return t(o,n)}};case 3:return function(n,r,o){return arguments.length>=3?t(n,r,o):function(s){return t(s,n,r)}};case 4:return function(n,r,o,s){return arguments.length>=4?t(n,r,o,s):function(i){return t(i,n,r,o)}};case 5:return function(n,r,o,s,i){return arguments.length>=5?t(n,r,o,s,i):function(a){return t(a,n,r,o,s)}};default:return function(){if(arguments.length>=e)return t.apply(this,arguments);const n=arguments;return function(r){return t(r,...n)}}}},Se=e=>e,Rm=e=>()=>e,pd=Rm(!0),Xo=Rm(!1),U1=Rm(void 0),Om=U1;function _(e,t,n,r,o,s,i,a,c){switch(arguments.length){case 1:return e;case 2:return t(e);case 3:return n(t(e));case 4:return r(n(t(e)));case 5:return o(r(n(t(e))));case 6:return s(o(r(n(t(e)))));case 7:return i(s(o(r(n(t(e))))));case 8:return a(i(s(o(r(n(t(e)))))));case 9:return c(a(i(s(o(r(n(t(e))))))));default:{let l=arguments[0];for(let u=1;u<arguments.length;u++)l=arguments[u](l);return l}}}const km=()=>"3.12.0",rC=Symbol.for(`effect/GlobalValue/globalStoreId/${km()}`);rC in globalThis||(globalThis[rC]=new Map);const oC=globalThis[rC],ge=(e,t)=>(oC.has(e)||oC.set(e,t()),oC.get(e)),gd=e=>"number"==typeof e,Gi=e=>"function"==typeof e,Am=e=>(e=>"object"==typeof e&&null!==e)(e)||Gi(e),W=h(2,(e,t)=>Am(e)&&t in e),xm=h(2,(e,t)=>W(e,"_tag")&&e._tag===t),ol=e=>null==e,md=e=>`BUG: ${e} - please report an issue at https://github.com/Effect-TS/effect/issues`;Symbol;class _d{self;called=!1;constructor(t){this.self=t}next(t){return this.called?{value:t,done:!0}:(this.called=!0,{value:this.self,done:!1})}return(t){return{value:t,done:!0}}throw(t){throw t}[Symbol.iterator](){return new _d(this.self)}}class vne{_state;constructor(t,n,r,o){return ol(n)&&ol(t)?(n=4294967295*Math.random()>>>0,t=0):ol(n)&&(n=t,t=0),ol(o)&&ol(r)?(o=this._state?this._state[3]:4150755663,r=this._state?this._state[2]:335903614):ol(o)&&(o=r,r=0),this._state=new Int32Array([0,0,r>>>0,(1|(o||0))>>>0]),this._next(),X1(this._state,this._state[0],this._state[1],t>>>0,n>>>0),this._next(),this}getState(){return[this._state[0],this._state[1],this._state[2],this._state[3]]}setState(t){this._state[0]=t[0],this._state[1]=t[1],this._state[2]=t[2],this._state[3]=1|t[3]}integer(t){return Math.round(this.number()*Number.MAX_SAFE_INTEGER)%t}number(){return(1*(67108863&this._next())*134217728+1*(134217727&this._next()))/9007199254740992}_next(){const t=this._state[0]>>>0,n=this._state[1]>>>0;(function bne(e,t,n,r,o){let s=(n>>>16)*(65535&o)>>>0,i=(65535&n)*(o>>>16)>>>0,a=(65535&n)*(65535&o)>>>0,c=(n>>>16)*(o>>>16)+((i>>>16)+(s>>>16))>>>0;i=i<<16>>>0,a=a+i>>>0,a>>>0<i>>>0&&(c=c+1>>>0),s=s<<16>>>0,a=a+s>>>0,a>>>0<s>>>0&&(c=c+1>>>0),c=c+Math.imul(n,r)>>>0,c=c+Math.imul(t,o)>>>0,e[0]=c,e[1]=a})(this._state,t,n,1481765933,1284865837),X1(this._state,this._state[0],this._state[1],this._state[2],this._state[3]);let r=t>>>18,o=(n>>>18|t<<14)>>>0;r=(r^t)>>>0,o=(o^n)>>>0;const s=(o>>>27|r<<5)>>>0,i=t>>>27;return(s>>>i|s<<((-i>>>0&31)>>>0))>>>0}}function X1(e,t,n,r,o){let s=t+r>>>0;const i=n+o>>>0;i>>>0<n>>>0&&(s=s+1|0),e[0]=s,e[1]=i}const aC=Symbol.for("effect/Utils/YieldWrap");class yd{#e;constructor(t){this.#e=t}[aC](){return this.#e}}const $t=ge("effect/Utils/isStructuralRegion",()=>({enabled:!1,tester:void 0})),Ht=(e=>{const t={[e]:n=>n()};return function(n){return t[e](n)}})("effect_internal_function"),cC=ge(Symbol.for("effect/Hash/randomHashCache"),()=>new WeakMap),Q=Symbol.for("effect/Hash"),B=e=>{if(!0===$t.enabled)return 0;switch(typeof e){case"number":return lC(e);case"bigint":return ot(e.toString(10));case"boolean":case"symbol":return ot(String(e));case"string":return ot(e);case"undefined":return ot("undefined");case"function":case"object":return null===e?ot("null"):e instanceof Date?B(e.toISOString()):Sne(e)?e[Q]():Nm(e);default:throw new Error(`BUG: unhandled typeof ${typeof e} - please report an issue at https://github.com/Effect-TS/effect/issues`)}},Nm=e=>(cC.has(e)||cC.set(e,lC(Math.floor(Math.random()*Number.MAX_SAFE_INTEGER))),cC.get(e)),oe=e=>t=>53*t^e,Pm=e=>3221225471&e|e>>>1&1073741824,Sne=e=>W(e,Q),lC=e=>{if(e!=e||e===1/0)return 0;let t=0|e;for(t!==e&&(t^=4294967295*e);e>4294967295;)t^=e/=4294967295;return Pm(t)},ot=e=>{let t=5381,n=e.length;for(;n;)t=33*t^e.charCodeAt(--n);return Pm(t)},K1=e=>((e,t)=>{let n=12289;for(let r=0;r<t.length;r++)n^=_(ot(t[r]),oe(B(e[t[r]])));return Pm(n)})(e,Object.keys(e)),Ki=e=>{let t=6151;for(let n=0;n<e.length;n++)t=_(t,oe(B(e[n])));return Pm(t)},Ue=function(){if(1===arguments.length){const n=arguments[0];return function(r){return Object.defineProperty(n,Q,{value:()=>r,enumerable:!1}),r}}const t=arguments[1];return Object.defineProperty(arguments[0],Q,{value:()=>t,enumerable:!1}),t},J=Symbol.for("effect/Equal");function U(){return 1===arguments.length?e=>Fm(e,arguments[0]):Fm(arguments[0],arguments[1])}function Fm(e,t){if(e===t)return!0;const n=typeof e;if(n!==typeof t)return!1;if("object"===n||"function"===n){if(null!==e&&null!==t){if(vd(e)&&vd(t))return!(B(e)!==B(t)||!e[J](t))||!(!$t.enabled||!$t.tester)&&$t.tester(e,t);if(e instanceof Date&&t instanceof Date)return e.toISOString()===t.toISOString()}if($t.enabled){if(Array.isArray(e)&&Array.isArray(t))return e.length===t.length&&e.every((r,o)=>Fm(r,t[o]));if(Object.getPrototypeOf(e)===Object.prototype&&Object.getPrototypeOf(e)===Object.prototype){const r=Object.keys(e),o=Object.keys(t);if(r.length===o.length){for(const s of r)if(!(s in t)||!Fm(e[s],t[s]))return!!$t.tester&&$t.tester(e,t);return!0}}return!!$t.tester&&$t.tester(e,t)}}return!(!$t.enabled||!$t.tester)&&$t.tester(e,t)}const vd=e=>W(e,J),uC=()=>U,Ve=Symbol.for("nodejs.util.inspect.custom"),tt=e=>{try{if(W(e,"toJSON")&&Gi(e.toJSON)&&0===e.toJSON.length)return e.toJSON();if(Array.isArray(e))return e.map(tt)}catch{return{}}return Dne(e)},lt=e=>JSON.stringify(e,null,2),sl=(e,t=2)=>{if("string"==typeof e)return e;try{return"object"==typeof e?fC(e,t):String(e)}catch{return String(e)}},fC=(e,t)=>{let n=[];const r=JSON.stringify(e,(o,s)=>"object"==typeof s&&null!==s?n.includes(s)?void 0:n.push(s)&&(void 0!==Yi.fiberRefs&&Y1(s)?s[dC](Yi.fiberRefs):s):s,t);return n=void 0,r},dC=Symbol.for("effect/Inspectable/Redactable"),Y1=e=>"object"==typeof e&&null!==e&&dC in e,Yi=ge("effect/Inspectable/redactableState",()=>({fiberRefs:void 0})),Dne=e=>Y1(e)&&void 0!==Yi.fiberRefs?e[dC](Yi.fiberRefs):e,z=(e,t)=>{switch(t.length){case 0:return e;case 1:return t[0](e);case 2:return t[1](t[0](e));case 3:return t[2](t[1](t[0](e)));case 4:return t[3](t[2](t[1](t[0](e))));case 5:return t[4](t[3](t[2](t[1](t[0](e)))));case 6:return t[5](t[4](t[3](t[2](t[1](t[0](e))))));case 7:return t[6](t[5](t[4](t[3](t[2](t[1](t[0](e)))))));case 8:return t[7](t[6](t[5](t[4](t[3](t[2](t[1](t[0](e))))))));case 9:return t[8](t[7](t[6](t[5](t[4](t[3](t[2](t[1](t[0](e)))))))));default:{let n=e;for(let r=0,o=t.length;r<o;r++)n=t[r](n);return n}}},bd="Async",Lm="Commit",$e="Failure",jm="OnFailure",Bm="OnSuccess",Um="OnSuccessAndFailure",He="Success",Qi="UpdateRuntimeFlags",Vm="While",Ed="Iterator",J1="WithRuntime",$m="Yield",hC="RevertFlags",Z1=Symbol.for("effect/Effect"),eL=Symbol.for("effect/Stream"),tL=Symbol.for("effect/Sink"),nL=Symbol.for("effect/Channel"),il={_R:e=>e,_E:e=>e,_A:e=>e,_V:km()},Sd={[Z1]:il,[eL]:il,[tL]:{_A:e=>e,_In:e=>e,_L:e=>e,_E:e=>e,_R:e=>e},[nL]:{_Env:e=>e,_InErr:e=>e,_InElem:e=>e,_InDone:e=>e,_OutErr:e=>e,_OutElem:e=>e,_OutDone:e=>e},[J](e){return this===e},[Q](){return Ue(this,Nm(this))},[Symbol.iterator](){return new _d(new yd(this))},pipe(){return z(this,arguments)}},Hm={[Q](){return Ue(this,K1(this))},[J](e){const t=Object.keys(this),n=Object.keys(e);if(t.length!==n.length)return!1;for(const r of t)if(!(r in e)||!U(this[r],e[r]))return!1;return!0}},Ko={...Sd,_op:Lm},pC={...Ko,...Hm},Rne=function(){function e(){}return e.prototype=Ko,e}(),rL=Symbol.for("effect/Option"),oL={...Sd,[rL]:{_A:e=>e},[Ve](){return this.toJSON()},toString(){return lt(this.toJSON())}},kne=Object.assign(Object.create(oL),{_tag:"Some",_op:"Some",[J](e){return gC(e)&&sL(e)&&U(this.value,e.value)},[Q](){return Ue(this,oe(B(this._tag))(B(this.value)))},toJSON(){return{_id:"Option",_tag:this._tag,value:tt(this.value)}}}),Ane=B("None"),xne=Object.assign(Object.create(oL),{_tag:"None",_op:"None",[J]:e=>gC(e)&&mC(e),[Q]:()=>Ane,toJSON(){return{_id:"Option",_tag:this._tag}}}),gC=e=>W(e,rL),mC=e=>"None"===e._tag,sL=e=>"Some"===e._tag,qm=Object.create(xne),wd=e=>{const t=Object.create(kne);return t.value=e,t},_C=Symbol.for("effect/Context/Tag"),Cd=Symbol.for("effect/Context/Reference"),yC={...Sd,_op:"Tag",[Symbol.for("effect/STM")]:il,[_C]:{_Service:e=>e,_Identifier:e=>e},toString(){return lt(this.toJSON())},toJSON(){return{_id:"Tag",key:this.key,stack:this.stack}},[Ve](){return this.toJSON()},of:e=>e,context(e){return aL(this,e)}},Nne={...yC,[Cd]:Cd},vC=Symbol.for("effect/Context"),jne={[vC]:{_Services:e=>e},[J](e){if(iL(e)&&this.unsafeMap.size===e.unsafeMap.size){for(const t of this.unsafeMap.keys())if(!e.unsafeMap.has(t)||!U(this.unsafeMap.get(t),e.unsafeMap.get(t)))return!1;return!0}return!1},[Q](){return Ue(this,lC(this.unsafeMap.size))},pipe(){return z(this,arguments)},toString(){return lt(this.toJSON())},toJSON(){return{_id:"Context",services:Array.from(this.unsafeMap).map(tt)}},[Ve](){return this.toJSON()}},go=e=>{const t=Object.create(jne);return t.unsafeMap=e,t},iL=e=>W(e,vC),Vne=go(new Map),aL=(e,t)=>go(new Map([[e.key,t]])),Hne=h(3,(e,t,n)=>{const r=new Map(e.unsafeMap);return r.set(t.key,n),go(r)}),EC=ge("effect/Context/defaultValueCache",()=>new Map),zm=e=>{if(EC.has(e.key))return EC.get(e.key);const t=e.defaultValue();return EC.set(e.key,t),t},cL=h(2,(e,t)=>{if(!e.unsafeMap.has(t.key)){if(Cd in t)return zm(t);throw(e=>{const t=new Error("Service not found"+(e.key?`: ${String(e.key)}`:""));if(e.stack){const n=e.stack.split("\n");if(n.length>2){const r=n[2].match(/at (.*)/);r&&(t.message=t.message+` (defined at ${r[1]})`)}}if(t.stack){const n=t.stack.split("\n");n.splice(1,3),t.stack=n.join("\n")}return t})(t)}return e.unsafeMap.get(t.key)}),Ji=e=>{const t=Error.stackTraceLimit;Error.stackTraceLimit=2;const n=new Error;Error.stackTraceLimit=t;const r=Object.create(yC);return Object.defineProperty(r,"stack",{get:()=>n.stack}),r.key=e,r},Zi=()=>Vne,Ft=Hne,mo=cL,Wm=cL,zs=h(2,(e,t)=>e.unsafeMap.has(t.key)?wd(e.unsafeMap.get(t.key)):(e=>W(e,Cd))(t)?wd(zm(t)):qm),Dd=h(2,(e,t)=>{const n=new Map(e.unsafeMap);for(const[r,o]of t.unsafeMap)n.set(r,o);return go(n)}),Xm=()=>(e,t)=>{const n=Error.stackTraceLimit;Error.stackTraceLimit=2;const r=new Error;function o(){}return Error.stackTraceLimit=n,Object.setPrototypeOf(o,Nne),o.key=e,o.defaultValue=t.defaultValue,Object.defineProperty(o,"stack",{get:()=>r.stack}),o},SC=Symbol.for("effect/Either"),lL={...Sd,[SC]:{_R:e=>e},[Ve](){return this.toJSON()},toString(){return lt(this.toJSON())}},ere=Object.assign(Object.create(lL),{_tag:"Right",_op:"Right",[J](e){return wC(e)&&DC(e)&&U(this.right,e.right)},[Q](){return oe(B(this._tag))(B(this.right))},toJSON(){return{_id:"Either",_tag:this._tag,right:tt(this.right)}}}),tre=Object.assign(Object.create(lL),{_tag:"Left",_op:"Left",[J](e){return wC(e)&&CC(e)&&U(this.left,e.left)},[Q](){return oe(B(this._tag))(B(this.left))},toJSON(){return{_id:"Either",_tag:this._tag,left:tt(this.left)}}}),wC=e=>W(e,SC),CC=e=>"Left"===e._tag,DC=e=>"Right"===e._tag,yt=e=>{const t=Object.create(ere);return t.right=e,t},Kn=e=>{const t=Object.create(tre);return t.left=e,t},Yn=CC,Id=DC,pL=h(2,(e,{onLeft:t,onRight:n})=>Yn(e)?t(e.left):n(e.right))({onLeft:Se,onRight:Se}),al=e=>(t,n)=>t===n||e(t,n),ure=h(2,(e,t)=>al((n,r)=>e(t(n),t(r)))),_L=e=>e.length>0,I=()=>qm,T=wd,ve=mC,ue=sL,Qn=h(2,(e,{onNone:t,onSome:n})=>ve(e)?t():n(e.value)),Jn=h(2,(e,t)=>ve(e)?t():e.value),hre=h(2,(e,t)=>ve(e)?T(t()):e),cl=e=>null==e?I():T(e),Zn=Jn(U1),yL=h(2,(e,t)=>{if(ue(e))return e.value;throw t()})(()=>new Error("getOrThrow called on a None")),ll=h(2,(e,t)=>ve(e)?I():T(t(e.value))),IC=h(2,(e,t)=>ve(e)?I():t(e.value)),mre=(e=>h(2,(t,n)=>!ve(t)&&e(t.value,n)))(uC()),Ws=(Symbol,e=>(t,n)=>t===n?0:e(t,n)),EL=Ws((e,t)=>e<t?-1:1),SL=h(2,(e,t)=>Ws((n,r)=>e(t(n),t(r)))),CL=e=>h(2,(t,n)=>1===e(t,n)),xre=(...e)=>e,MC=e=>new Array(e),ie=e=>Array.isArray(e)?e:Array.from(e),Gm=h(2,(e,t)=>[t,...e]),Pre=h(2,(e,t)=>[...e,t]),RL=h(2,(e,t)=>ie(e).concat(ie(t))),Lre=_L,Jt=_L,OL=(e,t)=>e<0||e>=t.length,Bre=h(2,(e,t)=>{const n=Math.floor(t);return OL(n,e)?I():T(e[n])}),kL=h(2,(e,t)=>{const n=Math.floor(t);if(OL(n,e))throw new Error(`Index ${n} out of bounds`);return e[n]}),Md=Bre(0),Nn=kL(0),TC=e=>e[e.length-1],Xs=e=>e.slice(1),$re=h(2,(e,t)=>Yre(e,((e,t)=>{let n=0;for(const r of e){if(!t(r,n))break;n++}return n})(e,t))),Hre=h(2,(e,t)=>{const n=ie(e);return n.slice(((e,t)=>Math.floor(Math.min(Math.max(0,e),t.length)))(t,n),n.length)}),xL=e=>Array.from(e).reverse(),Td=h(2,(e,t)=>{const n=Array.from(e);return n.sort(t),n}),NL=h(2,(e,t)=>Gre(e,t,xre)),Gre=h(3,(e,t,n)=>{const r=ie(e),o=ie(t);if(Jt(r)&&Jt(o)){const s=[n(Nn(r),Nn(o))],i=Math.min(r.length,o.length);for(let a=1;a<i;a++)s[a]=n(r[a],o[a]);return s}return[]}),PL=uC(),Yre=h(2,(e,t)=>{const n=Array.from(e),r=Math.floor(t);return Jt(n)?r>=1?Qre(n,r):[[],n]:[n,[]]}),Qre=h(2,(e,t)=>{const n=Math.max(1,Math.floor(t));return n>=e.length?[Jre(e),[]]:[Gm(e.slice(1,n),Nn(e)),e.slice(n)]}),Jre=e=>e.slice(),Zre=h(3,(e,t,n)=>{const r=ie(e),o=ie(t);return Jt(r)?Jt(o)?BL(n)(RL(r,o)):r:o}),fl=h(2,(e,t)=>Zre(e,t,PL)),hr=e=>[e],dl=h(2,(e,t)=>e.map(t)),FL=h(2,(e,t)=>{if((e=>0===e.length)(e))return[];const n=[];for(let r=0;r<e.length;r++){const o=t(e[r],r);for(let s=0;s<o.length;s++)n.push(o[s])}return n})(Se),ea=h(3,(e,t,n)=>ie(e).reduce((r,o,s)=>n(r,o,s),t)),jL=(e,t)=>{const n=[];let o,r=e;for(;ue(o=t(r));){const[s,i]=o.value;n.push(s),r=i}return n},OC=e=>al((t,n)=>{if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(!e(t[r],n[r]))return!1;return!0}),BL=h(2,(e,t)=>{const n=ie(e);if(Jt(n)){const r=[Nn(n)],o=Xs(n);for(const s of o)r.every(i=>!t(s,i))&&r.push(s);return r}return[]}),roe=e=>BL(e,uC()),ta=h(2,(e,t)=>ie(e).join(t)),UL=Symbol.for("effect/Chunk"),VL=[],soe=(e=>al((t,n)=>t.length===n.length&&Pn(t).every((r,o)=>e(r,yo(n,o)))))(U),ioe={[UL]:{_A:e=>e},toString(){return lt(this.toJSON())},toJSON(){return{_id:"Chunk",values:Pn(this).map(tt)}},[Ve](){return this.toJSON()},[J](e){return $L(e)&&soe(this,e)},[Q](){return Ue(this,Ki(Pn(this)))},[Symbol.iterator](){switch(this.backing._tag){case"IArray":return this.backing.array[Symbol.iterator]();case"IEmpty":return VL[Symbol.iterator]();default:return Pn(this)[Symbol.iterator]()}},pipe(){return z(this,arguments)}},Ct=e=>{const t=Object.create(ioe);switch(t.backing=e,e._tag){case"IEmpty":t.length=0,t.depth=0,t.left=t,t.right=t;break;case"IConcat":t.length=e.left.length+e.right.length,t.depth=1+Math.max(e.left.depth,e.right.depth),t.left=e.left,t.right=e.right;break;case"IArray":t.length=e.array.length,t.depth=0,t.left=_o,t.right=_o;break;case"ISingleton":t.length=1,t.depth=0,t.left=_o,t.right=_o;break;case"ISlice":t.length=e.length,t.depth=e.chunk.depth+1,t.left=_o,t.right=_o}return t},$L=e=>W(e,UL),_o=Ct({_tag:"IEmpty"}),Zt=()=>_o,kC=(...e)=>1===e.length?Lt(e[0]):aoe(e),Lt=e=>Ct({_tag:"ISingleton",a:e}),hl=e=>$L(e)?e:Ct({_tag:"IArray",array:ie(e)}),AC=(e,t,n)=>{switch(e.backing._tag){case"IArray":!function ooe(e,t,n,r,o){for(let s=t;s<Math.min(e.length,t+o);s++)n[r+s-t]=e[s]}(e.backing.array,0,t,n,e.length);break;case"IConcat":AC(e.left,t,n),AC(e.right,t,n+e.left.length);break;case"ISingleton":t[n]=e.backing.a;break;case"ISlice":{let r=0,o=n;for(;r<e.length;)t[o]=yo(e,r),r+=1,o+=1;break}}},Pn=e=>{switch(e.backing._tag){case"IEmpty":return VL;case"IArray":return e.backing.array;default:{const t=new Array(e.length);return AC(e,t,0),e.backing={_tag:"IArray",array:t},e.left=_o,e.right=_o,e.depth=0,t}}},Ks=e=>{switch(e.backing._tag){case"IEmpty":case"ISingleton":return e;case"IArray":return Ct({_tag:"IArray",array:xL(e.backing.array)});case"IConcat":return Ct({_tag:"IConcat",left:Ks(e.backing.right),right:Ks(e.backing.left)});case"ISlice":return er(xL(Pn(e)))}},er=e=>Ct({_tag:"IArray",array:e}),aoe=e=>er(e),yo=h(2,(e,t)=>{switch(e.backing._tag){case"IEmpty":throw new Error("Index out of bounds");case"ISingleton":if(0!==t)throw new Error("Index out of bounds");return e.backing.a;case"IArray":if(t>=e.length||t<0)throw new Error("Index out of bounds");return e.backing.array[t];case"IConcat":return t<e.left.length?yo(e.left,t):yo(e.right,t-e.left.length);case"ISlice":return yo(e.backing.chunk,t+e.backing.offset)}}),qL=h(2,(e,t)=>pr(e,Lt(t))),st=h(2,(e,t)=>pr(Lt(t),e)),Rd=h(2,(e,t)=>{if(t<=0)return e;if(t>=e.length)return _o;switch(e.backing._tag){case"ISlice":return Ct({_tag:"ISlice",chunk:e.backing.chunk,offset:e.backing.offset+t,length:e.backing.length-t});case"IConcat":return t>e.left.length?Rd(e.right,t-e.left.length):Ct({_tag:"IConcat",left:Rd(e.left,t),right:e.right});default:return Ct({_tag:"ISlice",chunk:e,offset:t,length:e.length-t})}}),pr=h(2,(e,t)=>{if("IEmpty"===e.backing._tag)return t;if("IEmpty"===t.backing._tag)return e;const n=t.depth-e.depth;if(Math.abs(n)<=1)return Ct({_tag:"IConcat",left:e,right:t});if(n<-1){if(e.left.depth>=e.right.depth){const r=pr(e.right,t);return Ct({_tag:"IConcat",left:e.left,right:r})}{const r=pr(e.right.right,t);if(r.depth===e.depth-3){const o=Ct({_tag:"IConcat",left:e.right.left,right:r});return Ct({_tag:"IConcat",left:e.left,right:o})}{const o=Ct({_tag:"IConcat",left:e.left,right:e.right.left});return Ct({_tag:"IConcat",left:o,right:r})}}}if(t.right.depth>=t.left.depth){const r=pr(e,t.left);return Ct({_tag:"IConcat",left:r,right:t.right})}{const r=pr(e,t.left.left);if(r.depth===t.depth-3){const o=Ct({_tag:"IConcat",left:r,right:t.left.right});return Ct({_tag:"IConcat",left:o,right:t.right})}{const o=Ct({_tag:"IConcat",left:t.left.right,right:t.right});return Ct({_tag:"IConcat",left:r,right:o})}}}),zL=e=>0===e.length,ut=e=>e.length>0,XL=e=>yo(e,0),Ce=XL,it=e=>Rd(e,1),xC=Symbol.for("effect/Duration"),GL=BigInt(0),KL=BigInt(24),Ym=BigInt(60),NC=BigInt(1e3),YL=BigInt(1e6),PC=BigInt(1e9),QL=/^(-?\d+(?:\.\d+)?)\s+(nanos?|micros?|millis?|seconds?|minutes?|hours?|days?|weeks?)$/,fn=e=>{if(ZL(e))return e;if(gd(e))return Od(e);if((e=>"bigint"==typeof e)(e))return Qm(e);if(Array.isArray(e)){if(2===e.length&&gd(e[0])&&gd(e[1]))return Qm(BigInt(e[0])*PC+BigInt(e[1]))}else if((e=>"string"==typeof e)(e)){QL.lastIndex=0;const t=QL.exec(e);if(t){const[n,r,o]=t,s=Number(r);switch(o){case"nano":case"nanos":return Qm(BigInt(r));case"micro":case"micros":return hoe(BigInt(r));case"milli":case"millis":return Od(s);case"second":case"seconds":return e2(s);case"minute":case"minutes":return poe(s);case"hour":case"hours":return goe(s);case"day":case"days":return moe(s);case"week":case"weeks":return _oe(s)}}}throw new Error("Invalid DurationInput")},JL={_tag:"Millis",millis:0},uoe={_tag:"Infinity"},foe={[xC]:xC,[Q](){return Ue(this,K1(this.value))},[J](e){return ZL(e)&&Soe(this,e)},toString(){return`Duration(${n2(this)})`},toJSON(){switch(this.value._tag){case"Millis":return{_id:"Duration",_tag:"Millis",millis:this.value.millis};case"Nanos":return{_id:"Duration",_tag:"Nanos",hrtime:voe(this)};case"Infinity":return{_id:"Duration",_tag:"Infinity"}}},[Ve](){return this.toJSON()},pipe(){return z(this,arguments)}},Yo=e=>{const t=Object.create(foe);return t.value=gd(e)?isNaN(e)||e<=0?JL:Number.isFinite(e)?Number.isInteger(e)?{_tag:"Millis",millis:e}:{_tag:"Nanos",nanos:BigInt(Math.round(1e6*e))}:uoe:e<=GL?JL:{_tag:"Nanos",nanos:e},t},ZL=e=>W(e,xC),doe=Yo(0),Qm=e=>Yo(e),hoe=e=>Yo(e*NC),Od=e=>Yo(e),e2=e=>Yo(1e3*e),poe=e=>Yo(6e4*e),goe=e=>Yo(36e5*e),moe=e=>Yo(864e5*e),_oe=e=>Yo(6048e5*e),pl=e=>gl(e,{onMillis:t=>t,onNanos:t=>Number(t)/1e6}),voe=e=>{const t=fn(e);switch(t.value._tag){case"Infinity":return[1/0,0];case"Nanos":return[Number(t.value.nanos/PC),Number(t.value.nanos%PC)];case"Millis":return[Math.floor(t.value.millis/1e3),Math.round(t.value.millis%1e3*1e6)]}},gl=h(2,(e,t)=>{const n=fn(e);switch(n.value._tag){case"Nanos":return t.onNanos(n.value.nanos);case"Infinity":return t.onMillis(1/0);case"Millis":return t.onMillis(n.value.millis)}}),t2=h(3,(e,t,n)=>{const r=fn(e),o=fn(t);if("Infinity"===r.value._tag||"Infinity"===o.value._tag)return n.onMillis(pl(r),pl(o));if("Nanos"===r.value._tag||"Nanos"===o.value._tag){const s="Nanos"===r.value._tag?r.value.nanos:BigInt(Math.round(1e6*r.value.millis)),i="Nanos"===o.value._tag?o.value.nanos:BigInt(Math.round(1e6*o.value.millis));return n.onNanos(s,i)}return n.onMillis(r.value.millis,o.value.millis)}),Eoe=h(2,(e,t)=>t2(e,t,{onMillis:(n,r)=>n>=r,onNanos:(n,r)=>n>=r})),Soe=h(2,(e,t)=>((e,t)=>t2(e,t,{onMillis:(n,r)=>n===r,onNanos:(n,r)=>n===r}))(fn(e),fn(t))),n2=e=>{const t=fn(e);if("Infinity"===t.value._tag)return"Infinity";const n=(e=>{const t=fn(e);if("Infinity"===t.value._tag)return{days:1/0,hours:1/0,minutes:1/0,seconds:1/0,millis:1/0,nanos:1/0};const n=(e=>{const t=fn(e);switch(t.value._tag){case"Infinity":throw new Error("Cannot convert infinite duration to nanos");case"Nanos":return t.value.nanos;case"Millis":return BigInt(Math.round(1e6*t.value.millis))}})(t),r=n/YL,o=r/NC,s=o/Ym,i=s/Ym;return{days:Number(i/KL),hours:Number(i%KL),minutes:Number(s%Ym),seconds:Number(o%Ym),millis:Number(r%NC),nanos:Number(n%YL)}})(t),r=[];return 0!==n.days&&r.push(`${n.days}d`),0!==n.hours&&r.push(`${n.hours}h`),0!==n.minutes&&r.push(`${n.minutes}m`),0!==n.seconds&&r.push(`${n.seconds}s`),0!==n.millis&&r.push(`${n.millis}ms`),0!==n.nanos&&r.push(`${n.nanos}ns`),r.join(" ")},FC=Math.pow(2,5),Coe=FC-1,Doe=FC/2,Ioe=FC/4;function ml(e,t){return t>>>e&Coe}function _l(e){return 1<<e}function r2(e,t){return function Moe(e){return e=(e=(858993459&(e-=e>>1&1431655765))+(e>>2&858993459))+(e>>4)&252645135,127&(e+=e>>8)+(e>>16)}(e&t-1)}const Toe=(e,t)=>({value:e,previous:t});function yl(e,t,n,r){let o=r;if(!e){const s=r.length;o=new Array(s);for(let i=0;i<s;++i)o[i]=r[i]}return o[t]=n,o}function o2(e,t,n){const r=n.length-1;let o=0,s=0,i=n;if(e)o=s=t;else for(i=new Array(r);o<t;)i[s++]=n[o++];for(++o;o<=r;)i[s++]=n[o++];return e&&(i.length=r),i}class Ys{_tag="EmptyNode";modify(t,n,r,o,s,i){const a=r(I());return ve(a)?new Ys:(++i.value,new ra(t,o,s,a))}}function $r(e){return xm(e,"EmptyNode")}function Jm(e,t){return!$r(e)&&t===e.edit}class ra{edit;hash;key;value;_tag="LeafNode";constructor(t,n,r,o){this.edit=t,this.hash=n,this.key=r,this.value=o}modify(t,n,r,o,s,i){if(U(s,this.key)){const c=r(this.value);return c===this.value?this:ve(c)?(--i.value,new Ys):Jm(this,t)?(this.value=c,this):new ra(t,o,s,c)}const a=r(I());return ve(a)?this:(++i.value,s2(t,n,this.hash,this,o,new ra(t,o,s,a)))}}class LC{edit;hash;children;_tag="CollisionNode";constructor(t,n,r){this.edit=t,this.hash=n,this.children=r}modify(t,n,r,o,s,i){if(o===this.hash){const c=Jm(this,t),l=this.updateCollisionList(c,t,this.hash,this.children,r,s,i);return l===this.children?this:l.length>1?new LC(t,this.hash,l):l[0]}const a=r(I());return ve(a)?this:(++i.value,s2(t,n,this.hash,this,o,new ra(t,o,s,a)))}updateCollisionList(t,n,r,o,s,i,a){const c=o.length;for(let u=0;u<c;++u){const f=o[u];if("key"in f&&U(i,f.key)){const d=f.value,p=s(d);return p===d?o:ve(p)?(--a.value,o2(t,u,o)):yl(t,u,new ra(n,r,i,p),o)}}const l=s(I());return ve(l)?o:(++a.value,yl(t,c,new ra(n,r,i,l),o))}}class vl{edit;mask;children;_tag="IndexedNode";constructor(t,n,r){this.edit=t,this.mask=n,this.children=r}modify(t,n,r,o,s,i){const a=this.mask,c=this.children,l=ml(n,o),u=_l(l),f=r2(a,u),d=a&u,p=Jm(this,t);if(!d){const S=(new Ys).modify(t,n+5,r,o,s,i);return S?c.length>=Doe?function Aoe(e,t,n,r,o){const s=[];let i=r,a=0;for(let c=0;i;++c)1&i&&(s[c]=o[a++]),i>>>=1;return s[t]=n,new jC(e,a+1,s)}(t,l,S,a,c):new vl(t,a|u,function Roe(e,t,n,r){const o=r.length;if(e){let c=o;for(;c>=t;)r[c--]=r[c];return r[t]=n,r}let s=0,i=0;const a=new Array(o+1);for(;s<t;)a[i++]=r[s++];for(a[t]=n;s<o;)a[++i]=r[s++];return a}(p,f,S,c)):this}const g=c[f],m=g.modify(t,n+5,r,o,s,i);if(g===m)return this;let b,y=a;if($r(m)){if(y&=~u,!y)return new Ys;if(c.length<=2&&function Ooe(e){return $r(e)||"LeafNode"===e._tag||"CollisionNode"===e._tag}(c[1^f]))return c[1^f];b=o2(p,f,c)}else b=yl(p,f,m,c);return p?(this.mask=y,this.children=b,this):new vl(t,y,b)}}class jC{edit;size;children;_tag="ArrayNode";constructor(t,n,r){this.edit=t,this.size=n,this.children=r}modify(t,n,r,o,s,i){let a=this.size;const c=this.children,l=ml(n,o),u=c[l],f=(u||new Ys).modify(t,n+5,r,o,s,i);if(u===f)return this;const d=Jm(this,t);let p;if($r(u)&&!$r(f))++a,p=yl(d,l,f,c);else if(!$r(u)&&$r(f)){if(--a,a<=Ioe)return function koe(e,t,n,r){const o=new Array(t-1);let s=0,i=0;for(let a=0,c=r.length;a<c;++a)if(a!==n){const l=r[a];l&&!$r(l)&&(o[s++]=l,i|=1<<a)}return new vl(e,i,o)}(t,a,l,c);p=yl(d,l,new Ys,c)}else p=yl(d,l,f,c);return d?(this.size=a,this.children=p,this):new jC(t,a,p)}}function xoe(e,t,n,r,o,s){if(n===o)return new LC(e,n,[s,r]);const i=ml(t,n),a=ml(t,o);if(i===a)return c=>new vl(e,_l(i)|_l(a),[c]);{const c=i<a?[r,s]:[s,r];return new vl(e,_l(i)|_l(a),c)}}function s2(e,t,n,r,o,s){let i,a=t;for(;;){const c=xoe(e,a,n,r,o,s);if("function"!=typeof c){let l=c;for(;null!=i;)l=i.value(l),i=i.previous;return l}i=Toe(c,i),a+=5}}const i2="effect/HashMap",Zm=Symbol.for(i2),Noe={[Zm]:Zm,[Symbol.iterator](){return new bl(this,(e,t)=>[e,t])},[Q](){let e=B(i2);for(const t of this)e^=_(B(t[0]),oe(B(t[1])));return Ue(this,e)},[J](e){if(u2(e)){if(e._size!==this._size)return!1;for(const t of this){const n=_(e,El(t[0],B(t[0])));if(ve(n))return!1;if(!U(t[1],n.value))return!1}return!0}return!1},toString(){return lt(this.toJSON())},toJSON(){return{_id:"HashMap",values:Array.from(this).map(tt)}},[Ve](){return this.toJSON()},pipe(){return z(this,arguments)}},BC=(e,t,n,r)=>{const o=Object.create(Noe);return o._editable=e,o._edit=t,o._root=n,o._size=r,o};class bl{map;f;v;constructor(t,n){this.map=t,this.f=n,this.v=a2(this.map._root,this.f,void 0)}next(){if(ve(this.v))return{done:!0,value:void 0};const t=this.v.value;return this.v=e_(t.cont),{done:!1,value:t.value}}[Symbol.iterator](){return new bl(this.map,this.f)}}const e_=e=>e?c2(e[0],e[1],e[2],e[3],e[4]):I(),a2=(e,t,n=void 0)=>{switch(e._tag){case"LeafNode":return ue(e.value)?T({value:t(e.key,e.value.value),cont:n}):e_(n);case"CollisionNode":case"ArrayNode":case"IndexedNode":{const r=e.children;return c2(r.length,r,0,t,n)}default:return e_(n)}},c2=(e,t,n,r,o)=>{for(;n<e;){const s=t[n++];if(s&&!$r(s))return a2(s,r,[e,t,n,r,o])}return e_(o)},Poe=BC(!1,0,new Ys,0),oa=()=>Poe,u2=e=>W(e,Zm),joe=h(2,(e,t)=>El(e,t,B(t))),El=h(3,(e,t,n)=>{let r=e._root,o=0;for(;;)switch(r._tag){case"LeafNode":return U(t,r.key)?r.value:I();case"CollisionNode":if(n===r.hash){const s=r.children;for(let i=0,a=s.length;i<a;++i){const c=s[i];if("key"in c&&U(t,c.key))return c.value}}return I();case"IndexedNode":{const i=_l(ml(o,n));if(r.mask&i){r=r.children[r2(r.mask,i)],o+=5;break}return I()}case"ArrayNode":if(r=r.children[ml(o,n)],r){o+=5;break}return I();default:return I()}}),f2=h(2,(e,t)=>ue(El(e,t,B(t)))),Qo=h(3,(e,t,n)=>r_(e,t,()=>T(n))),Voe=h(3,(e,t,n)=>e._editable?(e._root=t,e._size=n,e):t===e._root?e:BC(e._editable,e._edit,t,n)),UC=e=>new bl(e,t=>t),t_=e=>e._size,kd=e=>BC(!0,e._edit+1,e._root,e._size),n_=e=>(e._editable=!1,e),r_=h(3,(e,t,n)=>d2(e,t,B(t),n)),d2=h(4,(e,t,n,r)=>{const o={value:e._size},s=e._root.modify(e._editable?e._edit:NaN,0,r,n,t,o);return _(e,Voe(s,o.value))}),o_=h(2,(e,t)=>r_(e,t,I)),Xoe=h(2,(e,t)=>xd(e,oa(),(n,r,o)=>Qo(n,o,t(r,o)))),s_=h(2,(e,t)=>xd(e,void 0,(n,r,o)=>t(r,o))),xd=h(3,(e,t,n)=>{const r=e._root;if("LeafNode"===r._tag)return ue(r.value)?n(t,r.value.value,r.key):t;if("EmptyNode"===r._tag)return t;const o=[r.children];let s;for(;s=o.pop();)for(let i=0,a=s.length;i<a;){const c=s[i++];c&&!$r(c)&&("LeafNode"===c._tag?ue(c.value)&&(t=n(t,c.value.value,c.key)):o.push(c.children))}return t}),p2="effect/HashSet",i_=Symbol.for(p2),Joe={[i_]:i_,[Symbol.iterator](){return UC(this._keyMap)},[Q](){return Ue(this,oe(B(this._keyMap))(B(p2)))},[J](e){return!!g2(e)&&t_(this._keyMap)===t_(e._keyMap)&&U(this._keyMap,e._keyMap)},toString(){return lt(this.toJSON())},toJSON(){return{_id:"HashSet",values:Array.from(this).map(tt)}},[Ve](){return this.toJSON()},pipe(){return z(this,arguments)}},Nd=e=>{const t=Object.create(Joe);return t._keyMap=e,t},g2=e=>W(e,i_),Zoe=Nd(oa()),vo=()=>Zoe,Sl=h(2,(e,t)=>f2(e._keyMap,t)),wl=e=>Nd(kd(e._keyMap)),Cl=e=>(e._keyMap._editable=!1,e),sa=h(2,(e,t)=>{const n=wl(e);return t(n),Cl(n)}),gr=h(2,(e,t)=>e._keyMap._editable?(Qo(t,!0)(e._keyMap),e):Nd(Qo(t,!0)(e._keyMap))),$C=h(2,(e,t)=>e._keyMap._editable?(o_(t)(e._keyMap),e):Nd(o_(t)(e._keyMap))),ose=h(2,(e,t)=>sa(e,n=>{for(const r of t)$C(n,r)})),ise=h(2,(e,t)=>sa(vo(),n=>{a_(e,r=>gr(n,r));for(const r of t)gr(n,r)})),a_=h(2,(e,t)=>s_(e._keyMap,(n,r)=>t(r))),Qs=vo,c_=(...e)=>{const t=wl(vo());for(const n of e)gr(t,n);return Cl(t)},hse=Sl,Pd=e=>t_(e._keyMap),Fd=gr,v2=$C,b2=ose,Dl=ise,Ld=h(3,(e,t,n)=>xd(e._keyMap,t,(r,o,s)=>n(r,s))),E2=Symbol.for("effect/MutableRef"),gse={[E2]:E2,toString(){return lt(this.toJSON())},toJSON(){return{_id:"MutableRef",current:tt(this.current)}},[Ve](){return this.toJSON()},pipe(){return z(this,arguments)}},jd=e=>{const t=Object.create(gse);return t.current=e,t},Jo=e=>e.current,Bd=h(2,(e,t)=>(e.current=t,e)),l_="effect/FiberId",Js=Symbol.for(l_),Zs="None",Ud="Runtime",mse=ot(`${l_}-${Zs}`);class _se{[Js]=Js;_tag=Zs;id=-1;startTimeMillis=-1;[Q](){return mse}[J](t){return u_(t)&&t._tag===Zs}toString(){return lt(this.toJSON())}toJSON(){return{_id:"FiberId",_tag:this._tag}}[Ve](){return this.toJSON()}}class qC{id;startTimeMillis;[Js]=Js;_tag=Ud;constructor(t,n){this.id=t,this.startTimeMillis=n}[Q](){return Ue(this,ot(`${l_}-${this._tag}-${this.id}-${this.startTimeMillis}`))}[J](t){return u_(t)&&t._tag===Ud&&this.id===t.id&&this.startTimeMillis===t.startTimeMillis}toString(){return lt(this.toJSON())}toJSON(){return{_id:"FiberId",_tag:this._tag,id:this.id,startTimeMillis:this.startTimeMillis}}[Ve](){return this.toJSON()}}const zC=new _se,u_=e=>W(e,Js),f_=e=>{switch(e._tag){case Zs:return Qs();case Ud:return c_(e.id);case"Composite":return _(f_(e.left),Dl(f_(e.right)))}},I2=ge(Symbol.for("effect/Fiber/Id/_fiberCounter"),()=>jd(0)),GC=e=>Array.from(f_(e)).map(n=>`#${n}`).join(","),bo=zC,Tse=GC,R2=()=>{const e=Jo(I2);return _(I2,Bd(e+1)),new qC(e,Date.now())},d_=oa,Ose=e=>{const t=kd(oa());for(const n of e)Qo(t,n[0],n[1]);return n_(t)},h_=joe,Eo=Qo,O2=UC,k2=t_,Nse=r_,Pse=Xoe,p_=xd,Hd=Symbol.for("effect/List"),YC=e=>ie(e),Lse=(e=>ure(OC(e),YC))(U),jse={[Hd]:Hd,_tag:"Cons",toString(){return lt(this.toJSON())},toJSON(){return{_id:"List",_tag:"Cons",values:YC(this).map(tt)}},[Ve](){return this.toJSON()},[J](e){return A2(e)&&this._tag===e._tag&&Lse(this,e)},[Q](){return Ue(this,Ki(YC(this)))},[Symbol.iterator](){let e=!1,t=this;return{next(){if(e)return this.return();if("Nil"===t._tag)return e=!0,this.return();const n=t.head;return t=t.tail,{done:e,value:n}},return:n=>(e||(e=!0),{done:!0,value:n})}},pipe(){return z(this,arguments)}},Zo=(e,t)=>{const n=Object.create(jse);return n.head=e,n.tail=t,n},Bse=ot("Nil"),Use={[Hd]:Hd,_tag:"Nil",toString(){return lt(this.toJSON())},toJSON:()=>({_id:"List",_tag:"Nil"}),[Ve](){return this.toJSON()},[Q]:()=>Bse,[J](e){return A2(e)&&this._tag===e._tag},[Symbol.iterator]:()=>({next:()=>({done:!0,value:void 0})}),pipe(){return z(this,arguments)}},es=Object.create(Use),A2=e=>W(e,Hd),vt=e=>"Nil"===e._tag,QC=e=>"Cons"===e._tag,ia=(e,t)=>Zo(e,t),aa=()=>es,JC=e=>Zo(e,es),Hse=h(2,(e,t)=>qse(t,e)),ZC=h(2,(e,t)=>ia(t,e)),qse=h(2,(e,t)=>{if(vt(e))return t;if(vt(t))return e;{const n=Zo(t.head,e);let r=n,o=t.tail;for(;!vt(o);){const s=Zo(o.head,e);r.tail=s,r=s,o=o.tail}return n}}),Gse=h(3,(e,t,n)=>{let r=t,o=e;for(;!vt(o);)r=n(r,o.head),o=o.tail;return r}),Kse=e=>{let t=aa(),n=e;for(;!vt(n);)t=ZC(t,n.head),n=n.tail;return t},Il=function(){function e(t){t&&Object.assign(this,t)}return e.prototype=Hm,e}();function L2(e){return e}const zd={...Il.prototype,[Symbol.for("effect/DifferContextPatch")]:{_Value:L2,_Patch:L2}},lie=Object.create(Object.assign(Object.create(zd),{_tag:"Empty"})),j2=()=>lie,uie=Object.assign(Object.create(zd),{_tag:"AndThen"}),die=Object.assign(Object.create(zd),{_tag:"AddService"}),hie=(e,t)=>{const n=Object.create(die);return n.key=e,n.service=t,n},pie=Object.assign(Object.create(zd),{_tag:"RemoveService"}),gie=e=>{const t=Object.create(pie);return t.key=e,t},mie=Object.assign(Object.create(zd),{_tag:"UpdateService"}),_ie=(e,t)=>{const n=Object.create(mie);return n.key=e,n.update=t,n},__=h(2,(e,t)=>((e,t)=>{const n=Object.create(uie);return n.first=e,n.second=t,n})(e,t)),vie=h(2,(e,t)=>{if("Empty"===e._tag)return t;let n=!1,r=Lt(e);const o=new Map(t.unsafeMap);for(;ut(r);){const i=Ce(r),a=it(r);switch(i._tag){case"Empty":r=a;break;case"AddService":o.set(i.key,i.service),r=a;break;case"AndThen":r=st(st(a,i.second),i.first);break;case"RemoveService":o.delete(i.key),r=a;break;case"UpdateService":o.set(i.key,i.update(o.get(i.key))),n=!0,r=a}}if(!n)return go(o);const s=new Map;for(const[i]of t.unsafeMap)o.has(i)&&(s.set(i,o.get(i)),o.delete(i));for(const[i,a]of o)s.set(i,a);return go(s)});function rD(e){return e}const v_={...Il.prototype,[Symbol.for("effect/DifferHashSetPatch")]:{_Value:rD,_Key:rD,_Patch:rD}},kie=Object.create(Object.assign(Object.create(v_),{_tag:"Empty"})),$2=()=>kie,Aie=Object.assign(Object.create(v_),{_tag:"AndThen"}),Nie=Object.assign(Object.create(v_),{_tag:"Add"}),Pie=e=>{const t=Object.create(Nie);return t.value=e,t},Fie=Object.assign(Object.create(v_),{_tag:"Remove"}),oD=h(2,(e,t)=>((e,t)=>{const n=Object.create(Aie);return n.first=e,n.second=t,n})(e,t)),Bie=h(2,(e,t)=>{if("Empty"===e._tag)return t;let n=t,r=Lt(e);for(;ut(r);){const o=Ce(r),s=it(r);switch(o._tag){case"Empty":r=s;break;case"AndThen":r=st(o.first)(st(o.second)(s));break;case"Add":n=Fd(o.value)(n),r=s;break;case"Remove":n=v2(o.value)(n),r=s}}return n});function z2(e){return e}const Xd={...Il.prototype,[Symbol.for("effect/DifferReadonlyArrayPatch")]:{_Value:z2,_Patch:z2}},eae=Object.create(Object.assign(Object.create(Xd),{_tag:"Empty"})),W2=()=>eae,tae=Object.assign(Object.create(Xd),{_tag:"AndThen"}),rae=Object.assign(Object.create(Xd),{_tag:"Append"}),sae=Object.assign(Object.create(Xd),{_tag:"Slice"}),aae=Object.assign(Object.create(Xd),{_tag:"Update"}),cae=(e,t)=>{const n=Object.create(aae);return n.index=e,n.patch=t,n},b_=h(2,(e,t)=>((e,t)=>{const n=Object.create(tae);return n.first=e,n.second=t,n})(e,t)),uae=h(3,(e,t,n)=>{if("Empty"===e._tag)return t;let r=t.slice(),o=hr(e);for(;Lre(o);){const s=Nn(o),i=Xs(o);switch(s._tag){case"Empty":o=i;break;case"AndThen":i.unshift(s.first,s.second),o=i;break;case"Append":for(const a of s.values)r.push(a);o=i;break;case"Slice":r=r.slice(s.from,s.until),o=i;break;case"Update":r[s.index]=n.patch(s.patch,r[s.index]),o=i}}return r}),fae={[Symbol.for("effect/Differ")]:{_P:Se,_V:Se}},Hr=e=>{const t=Object.create(fae);return t.empty=e.empty,t.diff=e.diff,t.combine=e.combine,t.patch=e.patch,t},K2=()=>Hr({empty:$2(),combine:(e,t)=>oD(t)(e),diff:(e,t)=>((e,t)=>{const[n,r]=Ld([e,$2()],([o,s],i)=>hse(i)(o)?[v2(i)(o),s]:[o,oD(Pie(i))(s)])(t);return Ld(r,(o,s)=>oD((e=>{const t=Object.create(Fie);return t.value=e,t})(s))(o))(n)})(e,t),patch:(e,t)=>Bie(t)(e)}),Y2=e=>Hr({empty:W2(),combine:(t,n)=>b_(t,n),diff:(t,n)=>(e=>{let t=0,n=W2();for(;t<e.oldValue.length&&t<e.newValue.length;){const s=e.differ.diff(e.oldValue[t],e.newValue[t]);U(s,e.differ.empty)||(n=b_(n,cae(t,s))),t+=1}return t<e.oldValue.length&&(n=b_(n,((e,t)=>{const n=Object.create(sae);return n.from=0,n.until=t,n})(0,t))),t<e.newValue.length&&(n=b_(n,(e=>{const t=Object.create(rae);return t.values=e,t})(Hre(t)(e.newValue)))),n})({oldValue:t,newValue:n,differ:e}),patch:(t,n)=>uae(t,n,e)}),aD=()=>Q2((e,t)=>t),Q2=e=>Hr({empty:Se,combine:(t,n)=>t===Se?n:n===Se?t:r=>n(t(r)),diff:(t,n)=>U(t,n)?Se:Rm(n),patch:(t,n)=>e(n,t(n))}),mr=e=>255&e,_r=e=>e>>8&255,ts=(e,t)=>(255&e)+((t&e&255)<<8),Z2=ts(0,0),Sae=h(2,(e,t)=>ts(mr(e)&~t,_r(e))),tj=h(2,(e,t)=>e|t),Mae=h(2,(e,t)=>e|t),rs=e=>C_(e)&&!Rae(e),C_=e=>ca(e,1),ca=h(2,(e,t)=>!!(e&t)),oj=(...e)=>e.reduce((t,n)=>t|n,0),Tae=oj(0),sj=e=>ca(e,4),Rae=e=>ca(e,16),os=h(2,(e,t)=>ts(e^t,t)),la=h(2,(e,t)=>e&((e=>~e>>>0&255)(mr(t))|_r(t))|mr(t)&_r(t)),lj=Hr({empty:Z2,diff:(e,t)=>os(e,t),combine:(e,t)=>tj(t)(e),patch:(e,t)=>la(t,e)}),fj=e=>ts(e,0),dj=Sae,Tl="Die",Rl="Empty",Ol="Fail",kl="Interrupt",Al="Parallel",xl="Sequential",hj="effect/Cause",pj=Symbol.for(hj),Nl={[pj]:{_E:e=>e},[Q](){return _(B(hj),oe(B(Uae(this))),Ue(this))},[J](e){return gj(e)&&Bae(this,e)},pipe(){return z(this,arguments)},toJSON(){switch(this._tag){case"Empty":return{_id:"Cause",_tag:this._tag};case"Die":return{_id:"Cause",_tag:this._tag,defect:tt(this.defect)};case"Interrupt":return{_id:"Cause",_tag:this._tag,fiberId:this.fiberId.toJSON()};case"Fail":return{_id:"Cause",_tag:this._tag,failure:tt(this.error)};case"Sequential":case"Parallel":return{_id:"Cause",_tag:this._tag,left:tt(this.left),right:tt(this.right)}}},toString(){return Yd(this)},[Ve](){return this.toJSON()}},yr=(()=>{const e=Object.create(Nl);return e._tag=Rl,e})(),ss=e=>{const t=Object.create(Nl);return t._tag=Ol,t.error=e,t},en=e=>{const t=Object.create(Nl);return t._tag=Tl,t.defect=e,t},tr=e=>{const t=Object.create(Nl);return t._tag=kl,t.fiberId=e,t},qt=(e,t)=>{const n=Object.create(Nl);return n._tag=Al,n.left=e,n.right=t,n},at=(e,t)=>{const n=Object.create(Nl);return n._tag=xl,n.left=e,n.right=t,n},gj=e=>W(e,pj),fD=e=>D_(void 0,Hae)(e),Pl=e=>{const t=(e=>Fl(e,t=>t._tag===Ol?T(t.error):I()))(e);switch(t._tag){case"None":return yt(e);case"Some":return Kn(t.value)}},Nae=e=>Fl(e,t=>t._tag===kl?T(t.fiberId):I()),Sj=e=>ua(e,{onEmpty:yr,onFail:()=>yr,onDie:t=>en(t),onInterrupt:t=>tr(t),onSequential:at,onParallel:qt}),Bae=(e,t)=>{let n=Lt(e),r=Lt(t);for(;ut(n)&&ut(r);){const[o,s]=_(Ce(n),Ll([Qs(),Zt()],([c,l],u)=>{const[f,d]=dD(u);return T([_(c,Dl(f)),_(l,pr(d))])})),[i,a]=_(Ce(r),Ll([Qs(),Zt()],([c,l],u)=>{const[f,d]=dD(u);return T([_(c,Dl(f)),_(l,pr(d))])}));if(!U(o,i))return!1;n=s,r=a}return!0},Uae=e=>Vae(Lt(e),Zt()),Vae=(e,t)=>{for(;;){const[n,r]=_(e,ea([Qs(),Zt()],([s,i],a)=>{const[c,l]=dD(a);return[_(s,Dl(c)),_(i,pr(l))]})),o=Pd(n)>0?_(t,st(n)):t;if(zL(r))return Ks(o);e=r,t=o}throw new Error(md("Cause.flattenCauseLoop"))},Fl=h(2,(e,t)=>{const n=[e];for(;n.length>0;){const r=n.pop(),o=t(r);switch(o._tag){case"None":switch(r._tag){case xl:case Al:n.push(r.right),n.push(r.left)}break;case"Some":return o}}return I()}),dD=e=>{let t=e;const n=[];let r=Qs(),o=Zt();for(;void 0!==t;)switch(t._tag){case Rl:if(0===n.length)return[r,o];t=n.pop();break;case Ol:if(r=Fd(r,kC(t._tag,t.error)),0===n.length)return[r,o];t=n.pop();break;case Tl:if(r=Fd(r,kC(t._tag,t.defect)),0===n.length)return[r,o];t=n.pop();break;case kl:if(r=Fd(r,kC(t._tag,t.fiberId)),0===n.length)return[r,o];t=n.pop();break;case xl:switch(t.left._tag){case Rl:t=t.right;break;case xl:t=at(t.left.left,at(t.left.right,t.right));break;case Al:t=qt(at(t.left.left,t.right),at(t.left.right,t.right));break;default:o=st(o,t.right),t=t.left}break;case Al:n.push(t.right),t=t.left}throw new Error(md("Cause.evaluateCauseLoop"))},Hae={emptyCase:pd,failCase:Xo,dieCase:Xo,interruptCase:pd,sequentialCase:(e,t,n)=>t&&n,parallelCase:(e,t,n)=>t&&n},Dj="SequentialCase",Ij="ParallelCase",ua=h(2,(e,{onDie:t,onEmpty:n,onFail:r,onInterrupt:o,onParallel:s,onSequential:i})=>D_(e,void 0,{emptyCase:()=>n,failCase:(a,c)=>r(c),dieCase:(a,c)=>t(c),interruptCase:(a,c)=>o(c),sequentialCase:(a,c,l)=>i(c,l),parallelCase:(a,c,l)=>s(c,l)})),Ll=h(3,(e,t,n)=>{let r=t,o=e;const s=[];for(;void 0!==o;){const i=n(r,o);switch(r=ue(i)?i.value:r,o._tag){case xl:case Al:s.push(o.right),o=o.left;break;default:o=void 0}void 0===o&&s.length>0&&(o=s.pop())}return r}),D_=h(3,(e,t,n)=>{const r=[e],o=[];for(;r.length>0;){const i=r.pop();switch(i._tag){case Rl:o.push(yt(n.emptyCase(t)));break;case Ol:o.push(yt(n.failCase(t,i.error)));break;case Tl:o.push(yt(n.dieCase(t,i.defect)));break;case kl:o.push(yt(n.interruptCase(t,i.fiberId)));break;case xl:r.push(i.right),r.push(i.left),o.push(Kn({_tag:Dj}));break;case Al:r.push(i.right),r.push(i.left),o.push(Kn({_tag:Ij}))}}const s=[];for(;o.length>0;){const i=o.pop();switch(i._tag){case"Left":switch(i.left._tag){case Dj:{const a=s.pop(),c=s.pop(),l=n.sequentialCase(t,a,c);s.push(l);break}case Ij:{const a=s.pop(),c=s.pop(),l=n.parallelCase(t,a,c);s.push(l);break}}break;case"Right":s.push(i.right)}}if(0===s.length)throw new Error("BUG: Cause.reduceWithContext - please report an issue at https://github.com/Effect-TS/effect/issues");return s.pop()}),Yd=(e,t)=>fD(e)?"All fibers interrupted without errors.":Rj(e).map(function(n){return!0!==t?.renderErrorCause||void 0===n.cause?n.stack:`${n.stack} {\n${Mj(n.cause,"  ")}\n}`}).join("\n"),Mj=(e,t)=>{const n=e.stack.split("\n");let r=`${t}[cause]: ${n[0]}`;for(let o=1,s=n.length;o<s;o++)r+=`\n${t}${n[o]}`;return e.cause&&(r+=` {\n${Mj(e.cause,`${t}  `)}\n${t}}`),r};class I_ extends globalThis.Error{span=void 0;constructor(t){const n="object"==typeof t&&null!==t,r=Error.stackTraceLimit;Error.stackTraceLimit=1,super(qae(t),n&&"cause"in t&&typeof t.cause<"u"?{cause:new I_(t.cause)}:void 0),""===this.message&&(this.message="An error has occurred"),Error.stackTraceLimit=r,this.name=t instanceof Error?t.name:"Error",n&&(Tj in t&&(this.span=t[Tj]),Object.keys(t).forEach(o=>{o in this||(this[o]=t[o])})),this.stack=Wae(`${this.name}: ${this.message}`,t instanceof Error&&t.stack?t.stack:"",this.span)}}const qae=e=>{if("string"==typeof e)return e;if("object"==typeof e&&null!==e&&e instanceof Error)return e.message;try{if(W(e,"toString")&&Gi(e.toString)&&e.toString!==Object.prototype.toString&&e.toString!==globalThis.Array.prototype.toString)return e.toString()}catch{}return fC(e)},zae=/\((.*)\)/g,M_=ge("effect/Tracer/spanToTrace",()=>new WeakMap),Wae=(e,t,n)=>{const r=[e],o=t.startsWith(e)?t.slice(e.length).split("\n"):t.split("\n");for(let s=1;s<o.length&&!o[s].includes("Generator.next");s++){if(o[s].includes("effect_internal_function")){r.pop();break}r.push(o[s].replace(/at .*effect_instruction_i.*\((.*)\)/,"at $1").replace(/EffectPrimitive\.\w+/,"<anonymous>"))}if(n){let s=n,i=0;for(;s&&"Span"===s._tag&&i<10;){const a=M_.get(s);if("function"==typeof a){const c=a();if("string"==typeof c){const l=c.matchAll(zae);let u=!1;for(const[,f]of l)u=!0,r.push(`    at ${s.name} (${f})`);u||r.push(`    at ${s.name} (${c.replace(/^at /,"")})`)}else r.push(`    at ${s.name}`)}else r.push(`    at ${s.name}`);s=Zn(s.parent),i++}}return r.join("\n")},Tj=Symbol.for("effect/SpanAnnotation"),Rj=e=>D_(e,void 0,{emptyCase:()=>[],dieCase:(t,n)=>[new I_(n)],failCase:(t,n)=>[new I_(n)],interruptCase:()=>[],parallelCase:(t,n,r)=>[...n,...r],sequentialCase:(t,n,r)=>[...n,...r]}),jl="Pending",Oj=Symbol.for("effect/Deferred"),Xae={_E:e=>e,_A:e=>e},Gae=e=>({_tag:jl,joiners:e});class Jd{self;called=!1;constructor(t){this.self=t}next(t){return this.called?{value:t,done:!0}:(this.called=!0,{value:this.self,done:!1})}return(t){return{value:t,done:!0}}throw(t){throw t}[Symbol.iterator](){return new Jd(this.self)}}const hD=Symbol.for("effect/EffectError"),Bl=(e,t)=>{const n=new bt("Blocked");return n.effect_instruction_i0=e,n.effect_instruction_i1=t,n},fa=Symbol.for("effect/Effect");class Qae{patch;op;_op=hC;constructor(t,n){this.patch=t,this.op=n}}class bt{_op;effect_instruction_i0=void 0;effect_instruction_i1=void 0;effect_instruction_i2=void 0;trace=void 0;[fa]=il;constructor(t){this._op=t}[J](t){return this===t}[Q](){return Ue(this,Nm(this))}pipe(){return z(this,arguments)}toJSON(){return{_id:"Effect",_op:this._op,effect_instruction_i0:tt(this.effect_instruction_i0),effect_instruction_i1:tt(this.effect_instruction_i1),effect_instruction_i2:tt(this.effect_instruction_i2)}}toString(){return lt(this.toJSON())}[Ve](){return this.toJSON()}[Symbol.iterator](){return new Jd(new yd(this))}}class xj{_op;effect_instruction_i0=void 0;effect_instruction_i1=void 0;effect_instruction_i2=void 0;trace=void 0;[fa]=il;constructor(t){this._op=t,this._tag=t}[J](t){return U_(t)&&"Failure"===t._op&&U(this.effect_instruction_i0,t.effect_instruction_i0)}[Q](){return _(ot(this._tag),oe(B(this.effect_instruction_i0)),Ue(this))}get cause(){return this.effect_instruction_i0}pipe(){return z(this,arguments)}toJSON(){return{_id:"Exit",_tag:this._op,cause:this.cause.toJSON()}}toString(){return lt(this.toJSON())}[Ve](){return this.toJSON()}[Symbol.iterator](){return new Jd(new yd(this))}}class Nj{_op;effect_instruction_i0=void 0;effect_instruction_i1=void 0;effect_instruction_i2=void 0;trace=void 0;[fa]=il;constructor(t){this._op=t,this._tag=t}[J](t){return U_(t)&&"Success"===t._op&&U(this.effect_instruction_i0,t.effect_instruction_i0)}[Q](){return _(ot(this._tag),oe(B(this.effect_instruction_i0)),Ue(this))}get value(){return this.effect_instruction_i0}pipe(){return z(this,arguments)}toJSON(){return{_id:"Exit",_tag:this._op,value:tt(this.value)}}toString(){return lt(this.toJSON())}[Ve](){return this.toJSON()}[Symbol.iterator](){return new Jd(new yd(this))}}const qe=e=>W(e,fa),be=e=>{const t=new bt(J1);return t.effect_instruction_i0=e,t},Pj=h(3,(e,t,n)=>Wt(r=>v(e,o=>v(Dt(q(()=>r(t(o)))),s=>q(()=>n(o,s)).pipe(It({onFailure:i=>{switch(s._tag){case $e:return me(at(s.effect_instruction_i0,i));case He:return me(i)}},onSuccess:()=>s})))))),ft=h(2,(e,t)=>v(e,()=>D(t))),zt=e=>ft(e,void 0),T_=function(){const e=new bt(Lm);switch(arguments.length){case 2:e.effect_instruction_i0=arguments[0],e.commit=arguments[1];break;case 3:e.effect_instruction_i0=arguments[0],e.effect_instruction_i1=arguments[1],e.commit=arguments[2];break;case 4:e.effect_instruction_i0=arguments[0],e.effect_instruction_i1=arguments[1],e.effect_instruction_i2=arguments[2],e.commit=arguments[3];break;default:throw new Error(md("you're not supposed to end up here"))}return e},Zd=(e,t=bo)=>{const n=new bt(bd);let r;return n.effect_instruction_i0=o=>{r=e(o)},n.effect_instruction_i1=t,_a(n,o=>qe(r)?r:Z)},R_=(e,t=bo)=>q(()=>Zd(e,t)),qr=(e,t=bo)=>T_(e,function(){let n,r;function o(c){n?n(c):void 0===r&&(r=c)}const s=new bt(bd);let i,a;return s.effect_instruction_i0=c=>{n=c,r&&c(r)},s.effect_instruction_i1=t,1!==this.effect_instruction_i0.length?(a=new AbortController,i=Ht(()=>this.effect_instruction_i0(o,a.signal))):i=Ht(()=>this.effect_instruction_i0(o)),i||a?_a(s,c=>(a&&a.abort(),i??Z)):s}),ha=h(2,(e,t)=>dn(e,{onFailure:t,onSuccess:D})),O_=Symbol.for("effect/SpanAnnotation"),k_=Symbol.for("effect/OriginalAnnotation"),gD=(e,t)=>ue(t)?new Proxy(e,{has:(n,r)=>r===O_||r===k_||r in n,get:(n,r)=>r===O_?t.value:r===k_?e:n[r]}):e,pa=e=>Am(e)&&!(O_ in e)?be(t=>me(en(gD(e,HD(t))))):me(en(e)),eh=e=>nh(()=>en(new Dce(e))),ga=e=>dn(e,{onFailure:t=>D(Kn(t)),onSuccess:t=>D(yt(t))}),Dt=e=>mD(e,{onFailure:_e,onSuccess:De}),ae=e=>Am(e)&&!(O_ in e)?be(t=>me(ss(gD(e,HD(t))))):me(ss(e)),vr=e=>v(M(e),ae),me=e=>{const t=new xj($e);return t.effect_instruction_i0=e,t},nh=e=>v(M(e),me),Ul=be(e=>D(e.id())),is=e=>be(t=>e(t.id())),v=h(2,(e,t)=>{const n=new bt(Bm);return n.effect_instruction_i0=e,n.effect_instruction_i1=t,n}),Fj=e=>{const t=new bt("OnStep");return t.effect_instruction_i0=e,t},br=e=>v(e,Se),mD=h(2,(e,t)=>It(e,{onFailure:n=>D(t.onFailure(n)),onSuccess:n=>D(t.onSuccess(n))})),It=h(2,(e,t)=>{const n=new bt(Um);return n.effect_instruction_i0=e,n.effect_instruction_i1=t.onFailure,n.effect_instruction_i2=t.onSuccess,n}),dn=h(2,(e,t)=>It(e,{onFailure:n=>{if((e=>Ks(Ll(e,Zt(),(t,n)=>n._tag===Tl?T(_(t,st(n.defect))):I())))(n).length>0)return me((e=>ua(e,{onEmpty:yr,onFail:t=>en(t),onDie:t=>en(t),onInterrupt:t=>tr(t),onSequential:(t,n)=>at(t,n),onParallel:(t,n)=>qt(t,n)}))(n));const o=(e=>Ks(Ll(e,Zt(),(t,n)=>n._tag===Ol?T(_(t,st(n.error))):I())))(n);return o.length>0?t.onFailure(XL(o)):me(n)},onSuccess:t.onSuccess})),Fn=h(2,(e,t)=>q(()=>{const n=ie(e),r=MC(n.length);let o=0;return ft(N_({while:()=>o<n.length,body:()=>t(n[o],o),step:s=>{r[o++]=s}}),r)})),So=h(2,(e,t)=>q(()=>{const n=ie(e);let r=0;return N_({while:()=>r<n.length,body:()=>t(n[r],r),step:()=>{r++}})})),ma=e=>{const t=new bt(Qi);return t.effect_instruction_i0=(e=>ts(e,e))(1),t.effect_instruction_i1=()=>e,t},N=h(2,(e,t)=>v(e,n=>M(()=>t(n)))),_D=h(2,(e,t)=>dn(e,{onFailure:n=>vr(()=>t.onFailure(n)),onSuccess:n=>M(()=>t.onSuccess(n))})),oh=h(2,(e,t)=>It(e,{onFailure:n=>{const r=Pl(n);switch(r._tag){case"Left":return vr(()=>t(r.left));case"Right":return me(r.right)}},onSuccess:D})),zr=h(2,(e,t)=>Wt(n=>It(n(e),{onFailure:r=>{const o=_e(r);return It(t(o),{onFailure:s=>_e(at(r,s)),onSuccess:()=>o})},onSuccess:r=>{const o=De(r);return Oe(t(o),o)}}))),_a=h(2,(e,t)=>zr(e,H_({onFailure:n=>fD(n)?zt(t((e=>Ll(e,Qs(),(t,n)=>n._tag===kl?T(_(t,Fd(n.fiberId))):I()))(n))):Z,onSuccess:()=>Z}))),D=e=>{const t=new Nj(He);return t.effect_instruction_i0=e,t},q=e=>{const t=new bt(Lm);return t.commit=e,t},M=e=>{const t=new bt("Sync");return t.effect_instruction_i0=e,t},ya=h(e=>3===e.length||2===e.length&&!(Am(e[1])&&"onlyEffect"in e[1]),(e,t)=>v(e,n=>{const r="function"==typeof t?t(n):t;return qe(r)?ft(r,n):(e=>W(e,"then")&&Gi(e.then))(r)?Zd(o=>{r.then(s=>o(D(n)),s=>o(ae(new wa(s))))}):D(n)})),va=e=>{const t=new bt(Qi);return t.effect_instruction_i0=fj(1),t.effect_instruction_i1=()=>e,t},Wt=e=>T_(e,function(){const t=new bt(Qi);return t.effect_instruction_i0=fj(1),t.effect_instruction_i1=n=>C_(n)?Ht(()=>this.effect_instruction_i0(ma)):Ht(()=>this.effect_instruction_i0(va)),t}),Z=D(void 0),N_=e=>{const t=new bt(Vm);return t.effect_instruction_i0=e.while,t.effect_instruction_i1=e.body,t.effect_instruction_i2=e.step,t},ba=e=>{const t=new bt($m);return typeof e?.priority<"u"?eB(t,e.priority):t},P_=h(2,(e,t)=>v(e,n=>N(t,r=>[n,r]))),ah=h(2,(e,t)=>v(e,n=>ft(t,n))),Oe=h(2,(e,t)=>v(e,()=>t)),Wr=h(2,(e,t)=>v(e.interruptAsFork(t),()=>e.await)),bD={_tag:"Info",syslog:6,label:"INFO",ordinal:2e4,pipe(){return z(this,arguments)}},ED={_tag:"Debug",syslog:7,label:"DEBUG",ordinal:1e4,pipe(){return z(this,arguments)}},fce=Symbol.for("effect/FiberRef"),dce={_A:e=>e},wo=e=>be(t=>De(t.getFiberRef(e))),Er=h(2,(e,t)=>v(wo(e),t)),$l=h(2,(e,t)=>Kj(e,()=>[void 0,t])),Kj=h(2,(e,t)=>be(n=>{const[r,o]=t(n.getFiberRef(e));return n.setFiberRef(e,o),D(r)})),hn=h(3,(e,t,n)=>Pj(ah(wo(t),$l(t,n)),()=>e,r=>$l(t,r))),jt=(e,t)=>Hl(e,{differ:aD(),fork:t?.fork??Se,join:t?.join}),Jj=e=>{const t=Hr({empty:j2(),combine:(e,t)=>__(t)(e),diff:(e,t)=>((e,t)=>{const n=new Map(e.unsafeMap);let r=j2();for(const[o,s]of t.unsafeMap.entries())if(n.has(o)){const i=n.get(o);n.delete(o),U(i,s)||(r=__(_ie(o,()=>s))(r))}else n.delete(o),r=__(hie(o,s))(r);for(const[o]of n.entries())r=__(gie(o))(r);return r})(e,t),patch:(e,t)=>vie(t)(e)});return Hl(e,{differ:t,fork:t.empty})},Hl=(e,t)=>({...Ko,[fce]:dce,initial:e,commit(){return wo(this)},diff:(r,o)=>t.differ.diff(r,o),combine:(r,o)=>t.differ.combine(r,o),patch:r=>o=>t.differ.patch(r,o),fork:t.fork,join:t.join??((r,o)=>o)}),vce=e=>Hl(e,{differ:lj,fork:lj.empty}),Co=ge(Symbol.for("effect/FiberRef/currentContext"),()=>Jj(Zi())),ql=ge(Symbol.for("effect/FiberRef/currentSchedulingPriority"),()=>jt(0)),SD=ge(Symbol.for("effect/FiberRef/currentMaxOpsBeforeYield"),()=>jt(2048)),ch=ge(Symbol.for("effect/FiberRef/currentLogAnnotation"),()=>jt(d_())),bce=ge(Symbol.for("effect/FiberRef/currentLogLevel"),()=>jt(bD)),Zj=ge(Symbol.for("effect/FiberRef/currentLogSpan"),()=>jt(aa())),eB=h(2,(e,t)=>hn(e,ql,t)),nB=ge(Symbol.for("effect/FiberRef/currentUnhandledErrorLogLevel"),()=>jt(T(ED))),zl=ge(Symbol.for("effect/FiberRef/currentMetricLabels"),()=>(e=>{const t=Y2(aD());return Hl([],{differ:t,fork:t.empty})})()),L_=ge(Symbol.for("effect/FiberRef/currentForkScopeOverride"),()=>jt(I(),{fork:()=>I(),join:(e,t)=>e})),lh=ge(Symbol.for("effect/FiberRef/currentInterruptedCause"),()=>jt(yr,{fork:()=>yr,join:(e,t)=>e})),sB=function(){class e extends globalThis.Error{commit(){return ae(this)}toJSON(){return{...this}}[Ve](){return this.toString!==globalThis.Error.prototype.toString?this.stack?`${this.toString()}\n${this.stack.split("\n").slice(1).join("\n")}`:this.toString():"Bun"in globalThis?Yd(ss(this),{renderErrorCause:!0}):this}}return Object.assign(e.prototype,pC),e}(),Sa=(e,t)=>{class n extends sB{_tag=t}return Object.assign(n.prototype,e),n.prototype.name=t,n},TD=Symbol.for("effect/Cause/errors/RuntimeException"),Dce=Sa({[TD]:TD},"RuntimeException"),RD=Symbol.for("effect/Cause/errors/InterruptedException"),kD=Symbol.for("effect/Cause/errors/NoSuchElement"),ti=Sa({[kD]:kD},"NoSuchElementException"),PD=Symbol.for("effect/Cause/errors/UnknownException"),wa=function(){class e extends sB{cause;_tag="UnknownException";error;constructor(n,r){super(r??"An unknown error occurred",{cause:n}),this.cause=n,this.error=n}}return Object.assign(e.prototype,{[PD]:PD,name:"UnknownException"}),e}(),U_=e=>qe(e)&&"_tag"in e&&("Success"===e._tag||"Failure"===e._tag),Ca=(e,t)=>Gce(e,t?.parallel?qt:at),Da=e=>_e(ss(e)),_e=e=>{const t=new xj($e);return t.effect_instruction_i0=e,t},$_=h(2,(e,t)=>{switch(e._tag){case $e:return _e(e.effect_instruction_i0);case He:return De(t(e.effect_instruction_i0))}}),H_=h(2,(e,{onFailure:t,onSuccess:n})=>{switch(e._tag){case $e:return t(e.effect_instruction_i0);case He:return n(e.effect_instruction_i0)}}),De=e=>{const t=new Nj(He);return t.effect_instruction_i0=e,t},rr=De(void 0),Do=h(3,(e,t,{onFailure:n,onSuccess:r})=>{switch(e._tag){case $e:switch(t._tag){case He:return _e(e.effect_instruction_i0);case $e:return _e(n(e.effect_instruction_i0,t.effect_instruction_i0))}case He:switch(t._tag){case He:return De(r(e.effect_instruction_i0,t.effect_instruction_i0));case $e:return _e(t.effect_instruction_i0)}}}),Gce=(e,t)=>{const n=hl(e);return ut(n)?_(it(n),ea(_(Ce(n),$_(Lt)),(r,o)=>_(r,Do(o,{onSuccess:(s,i)=>_(s,st(i)),onFailure:t}))),$_(Ks),$_(r=>Pn(r)),T):I()},jD=e=>({...Ko,[Oj]:Xae,state:jd(Gae([])),commit(){return Sr(this)},blockingOn:e}),Sr=e=>R_(t=>{const n=Jo(e.state);switch(n._tag){case"Done":return t(n.effect);case jl:return n.joiners.push(t),sle(e,t)}},e.blockingOn),UD=(e,t)=>{const n=Jo(e.state);if(n._tag===jl){Bd(e.state,(e=>({_tag:"Done",effect:e}))(t));for(let r=0,o=n.joiners.length;r<o;r++)n.joiners[r](t)}},sle=(e,t)=>M(()=>{const n=Jo(e.state);if(n._tag===jl){const r=n.joiners.indexOf(t);r>=0&&n.joiners.splice(r,1)}}),HD=e=>{const t=e.currentSpan;return void 0!==t&&"Span"===t._tag?T(t):I()},qD=Symbol.for("effect/Clock"),cs=Ji("effect/Clock"),hB={unsafeSchedule(e,t){const n=pl(t);if(n>2147483647)return Xo;let r=!1;const o=setTimeout(()=>{r=!0,e()},n);return()=>(clearTimeout(o),!r)}},pB=function(){const e=BigInt(1e6);if(typeof performance>"u")return()=>BigInt(Date.now())*e;if("number"==typeof performance.timeOrigin&&0===performance.timeOrigin)return()=>BigInt(Math.round(1e6*performance.now()));const t=BigInt(Date.now())*e-BigInt(Math.round(1e6*performance.now()));return()=>t+BigInt(Math.round(1e6*performance.now()))}(),ule=function(){const e="object"==typeof process&&"hrtime"in process&&"function"==typeof process.hrtime.bigint?process.hrtime:void 0;if(!e)return pB;const t=pB()-e.bigint();return()=>t+e.bigint()}();class fle{[qD]=qD;unsafeCurrentTimeMillis(){return Date.now()}unsafeCurrentTimeNanos(){return ule()}currentTimeMillis=M(()=>this.unsafeCurrentTimeMillis());currentTimeNanos=M(()=>this.unsafeCurrentTimeNanos());scheduler(){return D(hB)}sleep(t){return qr(n=>{const r=hB.unsafeSchedule(()=>n(Z),t);return zt(M(r))})}}const gB=()=>new fle,oi=EL,yB="InvalidData",vB="MissingData",bB="SourceUnavailable",EB="Unsupported",zD=Symbol.for("effect/ConfigError"),Gl={_tag:"ConfigError",[zD]:zD},SB=(e,t)=>{const n=Object.create(Gl);return n._op="And",n.left=e,n.right=t,Object.defineProperty(n,"toString",{enumerable:!1,value(){return`${this.left} and ${this.right}`}}),n},wB=(e,t)=>{const n=Object.create(Gl);return n._op="Or",n.left=e,n.right=t,Object.defineProperty(n,"toString",{enumerable:!1,value(){return`${this.left} or ${this.right}`}}),n},hle=(e,t,n={pathDelim:"."})=>{const r=Object.create(Gl);return r._op=yB,r.path=e,r.message=t,Object.defineProperty(r,"toString",{enumerable:!1,value(){return`(Invalid data at ${_(this.path,ta(n.pathDelim))}: "${this.message}")`}}),r},Ia=(e,t,n={pathDelim:"."})=>{const r=Object.create(Gl);return r._op=vB,r.path=e,r.message=t,Object.defineProperty(r,"toString",{enumerable:!1,value(){return`(Missing data at ${_(this.path,ta(n.pathDelim))}: "${this.message}")`}}),r},ple=(e,t,n,r={pathDelim:"."})=>{const o=Object.create(Gl);return o._op=bB,o.path=e,o.message=t,o.cause=n,Object.defineProperty(o,"toString",{enumerable:!1,value(){return`(Source unavailable at ${_(this.path,ta(r.pathDelim))}: "${this.message}")`}}),o},gle=(e,t,n={pathDelim:"."})=>{const r=Object.create(Gl);return r._op=EB,r.path=e,r.message=t,Object.defineProperty(r,"toString",{enumerable:!1,value(){return`(Unsupported operation at ${_(this.path,ta(n.pathDelim))}: "${this.message}")`}}),r},Ma=h(2,(e,t)=>{switch(e._op){case"And":return SB(Ma(e.left,t),Ma(e.right,t));case"Or":return wB(Ma(e.left,t),Ma(e.right,t));case yB:return hle([...t,...e.path],e.message);case vB:return Ia([...t,...e.path],e.message);case bB:return ple([...t,...e.path],e.message,e.cause);case EB:return gle([...t,...e.path],e.message)}}),yle={_tag:"Empty"},WD=h(2,(e,t)=>{let n=JC(t),r=e;for(;QC(n);){const o=n.head;switch(o._tag){case"Empty":n=n.tail;break;case"AndThen":n=ia(o.first,ia(o.second,n.tail));break;case"MapName":r=dl(r,o.f),n=n.tail;break;case"Nested":r=Gm(r,o.name),n=n.tail;break;case"Unnested":if(!_(Md(r),mre(o.name)))return Kn(Ia(r,`Expected ${o.name} to be in path in ConfigProvider#unnested`));r=Xs(r),n=n.tail}}return yt(r)}),z_=(e,t)=>[...e,...t],CB=Symbol.for("effect/ConfigProvider"),W_=Ji("effect/ConfigProvider"),DB=Symbol.for("effect/ConfigProviderFlat"),Ole=e=>({[CB]:CB,pipe(){return z(this,arguments)},...e}),kle=e=>{const{pathDelim:t,seqDelim:n}=Object.assign({},{pathDelim:"_",seqDelim:","},e),s=()=>typeof process<"u"&&"env"in process&&"object"==typeof process.env?process.env:{};return(e=>Ole({load:t=>v(Cr(e,[],t,!1),n=>Qn(Md(n),{onNone:()=>ae(Ia([],`Expected a single value having structure: ${t}`)),onSome:D})),flattened:e}))((e=>({[DB]:DB,patch:e.patch,load:(t,n,r=!0)=>e.load(t,n,r),enumerateChildren:e.enumerateChildren}))({load:(c,l,u=!0)=>{const f=(c=>_(c,ta(t)))(c),d=s();return _(f in d?T(d[f]):I(),oh(()=>Ia(c,`Expected ${f} to exist in the process context`)),v(g=>MB(g,c,l,n,u)))},enumerateChildren:c=>M(()=>{const l=s(),d=Object.keys(l).map(p=>(c=>c.split(t))(p.toUpperCase())).filter(p=>{for(let g=0;g<c.length;g++){const m=_(c,kL(g)),y=p[g];if(void 0===y||m!==y)return!1}return!0}).flatMap(p=>p.slice(c.length,c.length+1));return(e=>{const t=wl(vo());for(const n of e)gr(t,n);return Cl(t)})(d)}),patch:yle}))},Cr=(e,t,n,r)=>{const o=n;switch(o._tag){case"Constant":return D(hr(o.value));case"Described":return q(()=>Cr(e,t,o.config,r));case"Fail":return ae(Ia(t,o.message));case"Fallback":return _(q(()=>Cr(e,t,o.first,r)),ha(s=>o.condition(s)?_(Cr(e,t,o.second,r),ha(i=>ae(wB(s,i)))):ae(s)));case"Lazy":return q(()=>Cr(e,t,o.config(),r));case"MapOrFail":return q(()=>_(Cr(e,t,o.original,r),v(Fn(s=>_(o.mapOrFail(s),oh(Ma(((e,t)=>{let n=t;if("Nested"===n._tag){const r=e.slice();for(;"Nested"===n._tag;)r.push(n.name),n=n.config;return r}return e})(t,o.original))))))));case"Nested":return q(()=>Cr(e,z_(t,hr(o.name)),o.config,r));case"Primitive":return _(WD(t,e.patch),v(s=>_(e.load(s,o,r),v(i=>{if(0===i.length){const a=_((e=>Jt(e)?T(TC(e)):I())(s),Jn(()=>"<n/a>"));return ae(Ia([],`Expected ${o.description} with name ${a}`))}return D(i)}))));case"Sequence":return _(WD(t,e.patch),v(s=>_(e.enumerateChildren(s),v(jle),v(i=>0===i.length?q(()=>N(Cr(e,t,o.config,!0),hr)):_(Fn(i,a=>Cr(e,Pre(t,`[${a}]`),o.config,!0)),N(a=>{const c=FL(a);return hr(0===c.length?[]:c)}))))));case"HashMap":return q(()=>_(WD(t,e.patch),v(s=>_(e.enumerateChildren(s),v(i=>_(i,Fn(a=>Cr(e,z_(s,hr(a)),o.valueConfig,r)),N(a=>0===a.length?hr(d_()):_(Lle(a),dl(c=>Ose(NL(ie(i),c)))))))))));case"ZipWith":return q(()=>_(Cr(e,t,o.left,r),ga,v(s=>_(Cr(e,t,o.right,r),ga,v(i=>{if(Yn(s)&&Yn(i))return ae(SB(s.left,i.left));if(Yn(s)&&Id(i))return ae(s.left);if(Id(s)&&Yn(i))return ae(i.left);if(Id(s)&&Id(i)){const a=_(t,ta(".")),c=Ple(t,a),[l,u]=((e,t,n,r)=>{const o=jL(n.length,c=>c>=r.length?I():T([e(c),c+1])),s=jL(r.length,c=>c>=n.length?I():T([t(c),c+1]));return[z_(n,o),z_(r,s)]})(c,c,_(s.right,dl(yt)),_(i.right,dl(yt)));return _(l,NL(u),Fn(([f,d])=>_(P_(f,d),N(([p,g])=>o.zip(p,g)))))}throw new Error("BUG: ConfigProvider.fromFlatLoop - please report an issue at https://github.com/Effect-TS/effect/issues")})))))}},Ple=(e,t)=>n=>Kn(Ia(e,`The element at index ${n} in a sequence at path "${t}" was missing`)),MB=(e,t,n,r,o)=>o?_(((e,t)=>e.split(new RegExp(`\\s*${(e=>e.replace(/[/\\^$*+?.()|[\]{}]/g,"\\$&"))(t)}\\s*`)))(e,r),Fn(s=>n.parse(s.trim())),oh(Ma(t))):_(n.parse(e),_D({onFailure:Ma(t),onSuccess:hr})),Lle=e=>Object.keys(e[0]).map(t=>e.map(n=>n[t])),jle=e=>_(Fn(e,Vle),_D({onFailure:()=>[],onSuccess:Td(oi)}),ga,N(pL)),Ule=/^(\[(\d+)\])$/,Vle=e=>{const t=e.match(Ule);if(null!==t){const n=t[2];return _(void 0!==n&&n.length>0?T(n):I(),IC(TB))}return I()},TB=e=>{const t=Number.parseInt(e);return Number.isNaN(t)?I():T(t)},RB=Symbol.for("effect/Console"),Kl=Ji("effect/Console"),Gle={[RB]:RB,assert:(e,...t)=>M(()=>{console.assert(e,...t)}),clear:M(()=>{console.clear()}),count:e=>M(()=>{console.count(e)}),countReset:e=>M(()=>{console.countReset(e)}),debug:(...e)=>M(()=>{console.debug(...e)}),dir:(e,t)=>M(()=>{console.dir(e,t)}),dirxml:(...e)=>M(()=>{console.dirxml(...e)}),error:(...e)=>M(()=>{console.error(...e)}),group:e=>M(e?.collapsed?()=>console.groupCollapsed(e?.label):()=>console.group(e?.label)),groupEnd:M(()=>{console.groupEnd()}),info:(...e)=>M(()=>{console.info(...e)}),log:(...e)=>M(()=>{console.log(...e)}),table:(e,t)=>M(()=>{console.table(e,t)}),time:e=>M(()=>console.time(e)),timeEnd:e=>M(()=>console.timeEnd(e)),timeLog:(e,...t)=>M(()=>{console.timeLog(e,...t)}),trace:(...e)=>M(()=>{console.trace(...e)}),warn:(...e)=>M(()=>{console.warn(...e)}),unsafe:console},OB=Symbol.for("effect/Random"),G_=Ji("effect/Random");class Kle{seed;[OB]=OB;PRNG;constructor(t){this.seed=t,this.PRNG=new vne(t)}get next(){return M(()=>this.PRNG.number())}get nextBoolean(){return N(this.next,t=>t>.5)}get nextInt(){return M(()=>this.PRNG.integer(Number.MAX_SAFE_INTEGER))}nextRange(t,n){return N(this.next,r=>(n-t)*r+t)}nextIntBetween(t,n){return M(()=>this.PRNG.integer(n-t)+t)}shuffle(t){return Yle(t,n=>this.nextIntBetween(0,n))}}const Yle=(e,t)=>q(()=>_(M(()=>Array.from(e)),v(n=>{const r=[];for(let o=n.length;o>=2;o-=1)r.push(o);return _(r,So(o=>_(t(o),N(s=>Qle(n,o-1,s)))),ft(hl(n)))}))),Qle=(e,t,n)=>{const r=e[t];return e[t]=e[n],e[n]=r,e},Jle=e=>new Kle(B(e)),XD=Symbol.for("effect/Tracer"),kB=e=>({[XD]:XD,...e}),Ta=Ji("effect/Tracer"),ls=Ji("effect/ParentSpan"),AB=function(){return function(n){let r="";for(let o=0;o<n;o++)r+="abcdef0123456789".charAt(Math.floor(16*Math.random()));return r}}();class Zle{name;parent;context;links;startTime;kind;_tag="Span";spanId;traceId="native";sampled=!0;status;attributes;events=[];constructor(t,n,r,o,s,i){this.name=t,this.parent=n,this.context=r,this.links=o,this.startTime=s,this.kind=i,this.status={_tag:"Started",startTime:s},this.attributes=new Map,this.traceId="Some"===n._tag?n.value.traceId:AB(32),this.spanId=AB(16)}end(t,n){this.status={_tag:"Ended",endTime:t,exit:n,startTime:this.status.startTime}}attribute(t,n){this.attributes.set(t,n)}event(t,n,r){this.events.push([t,n,r??{}])}}const eue=kB({span:(e,t,n,r,o,s)=>new Zle(e,t,n,r,o,s),context:e=>e()}),nue=_(Zi(),Ft(cs,gB()),Ft(Kl,Gle),Ft(G_,Jle(Math.random())),Ft(W_,kle()),Ft(Ta,eue)),Bt=ge(Symbol.for("effect/DefaultServices/currentServices"),()=>Jj(nue)),hue=Sd,pue=Rne;class J_ extends pue{}const Ql={_tag:"Sequential"};const tI=Symbol.for("effect/FiberRefs");class si{locals;[tI]=tI;constructor(t){this.locals=t}pipe(){return z(this,arguments)}}const BB=h(3,(e,t,n)=>{const r=new Map(e.locals);return n.locals.forEach((o,s)=>{const i=o[0][1];if(!o[0][0][J](t)){if(!r.has(s)){if(U(i,s.initial))return;return void r.set(s,[[t,s.join(s.initial,i)]])}const a=r.get(s),[c,l]=((e,t,n,r=!1)=>{const o=e;let c,s=t,i=n,a=r;for(;void 0===c;)if(Jt(s)&&Jt(i)){const l=Nn(s)[0],u=Xs(s),f=Nn(i)[0],d=Nn(i)[1],p=Xs(i);l.startTimeMillis<f.startTimeMillis?(i=p,a=!0):l.startTimeMillis>f.startTimeMillis?s=u:l.id<f.id?(i=p,a=!0):l.id>f.id?s=u:c=[d,a]}else c=[o.initial,!0];return c})(s,a,o);if(l){const u=s.diff(c,i),f=a[0][1],d=s.join(f,s.patch(u)(f));if(!U(f,d)){let p;const g=a[0][0];p=g[J](t)?[[g,d],...a.slice(1)]:[[t,d],...a],r.set(s,p)}}}}),new si(r)}),UB=h(2,(e,t)=>{const n=new Map;return VB(e,n,t),new si(n)}),VB=(e,t,n)=>{e.locals.forEach((r,o)=>{const s=r[0][1],i=o.patch(o.fork)(s);U(s,i)?t.set(o,r):t.set(o,[[n,i],...r])})},nI=h(2,(e,t)=>{const n=new Map(e.locals);return n.delete(t),new si(n)}),HB=h(2,(e,t)=>e.locals.has(t)?T(Nn(e.locals.get(t))[1]):I()),Jl=h(2,(e,t)=>_(HB(e,t),Jn(()=>t.initial))),Z_=h(2,(e,{fiberId:t,fiberRef:n,value:r})=>{if(0===e.locals.size)return new si(new Map([[n,[[t,r]]]]));const o=new Map(e.locals);return rI(o,t,n,r),new si(o)}),rI=(e,t,n,r)=>{const o=e.get(n)??[];let s;if(Jt(o)){const[i,a]=Nn(o);if(i[J](t)){if(U(a,r))return;s=[[t,r],...o.slice(1)]}else s=[[t,r],...o]}else s=[[t,r]];e.set(n,s)},wue=Jl,Iue=h(2,(e,{entries:t,forkAs:n})=>{if(0===e.locals.size)return new si(new Map(t));const r=new Map(e.locals);return void 0!==n&&VB(e,r,n),t.forEach(([o,s])=>{1===s.length?rI(r,s[0][0],o,s[0][1]):s.forEach(([i,a])=>{rI(r,i,o,a)})}),new si(r)}),Mue=function vue(){return function jB(e){return new si(e)}(new Map)},KB="AndThen",YB={_tag:"Empty"},ey=h(2,(e,t)=>({_tag:KB,first:e,second:t})),gh=(e,t)=>{const n=new Map(e.locals);let r=YB;for(const[o,s]of t.locals.entries()){const i=Nn(s)[1],a=n.get(o);if(void 0!==a){const c=Nn(a)[1];U(c,i)||(r=ey({_tag:"Update",fiberRef:o,patch:o.diff(c,i)})(r))}else r=ey({_tag:"Add",fiberRef:o,value:i})(r);n.delete(o)}for(const[o]of n.entries())r=ey({_tag:"Remove",fiberRef:o})(r);return r},mh=h(3,(e,t,n)=>{let r=n,o=hr(e);for(;Jt(o);){const s=Nn(o),i=Xs(o);switch(s._tag){case"Empty":o=i;break;case"Add":r=Z_(r,{fiberId:t,fiberRef:s.fiberRef,value:s.value}),o=i;break;case"Remove":r=nI(r,s.fiberRef),o=i;break;case"Update":{const a=Jl(r,s.fiberRef);r=Z_(r,{fiberId:t,fiberRef:s.fiberRef,value:s.fiberRef.patch(s.patch)(a)}),o=i;break}case KB:o=Gm(s.first)(Gm(s.second)(i))}}return r}),ty="effect/FiberStatus",ii=Symbol.for(ty),ny="Done",sI="Running",iI="Suspended",Tue=ot(`${ty}-${ny}`);class Rue{[ii]=ii;_tag=ny;[Q](){return Tue}[J](t){return ry(t)&&t._tag===ny}}class Oue{runtimeFlags;[ii]=ii;_tag=sI;constructor(t){this.runtimeFlags=t}[Q](){return _(B(ty),oe(B(this._tag)),oe(B(this.runtimeFlags)),Ue(this))}[J](t){return ry(t)&&t._tag===sI&&this.runtimeFlags===t.runtimeFlags}}class kue{runtimeFlags;blockingOn;[ii]=ii;_tag=iI;constructor(t,n){this.runtimeFlags=t,this.blockingOn=n}[Q](){return _(B(ty),oe(B(this._tag)),oe(B(this.runtimeFlags)),oe(B(this.blockingOn)),Ue(this))}[J](t){return ry(t)&&t._tag===iI&&this.runtimeFlags===t.runtimeFlags&&U(this.blockingOn,t.blockingOn)}}const ry=e=>W(e,ii),jue=new Rue,JB=e=>new Oue(e),rU=bD,zue=CL(_(oi,SL(e=>e.ordinal))),iU=Symbol.for("effect/Micro"),oy=Symbol.for("effect/Micro/MicroExit"),aI=Symbol.for("effect/Micro/MicroCause"),Xue={_E:Se};class cI extends globalThis.Error{_tag;traces;[aI];constructor(t,n,r){const o=`MicroCause.${t}`;let s,i,a;if(n instanceof globalThis.Error){s=`(${o}) ${n.name}`,i=n.message;const c=i.split("\n").length;a=n.stack?`(${o}) ${n.stack.split("\n").slice(0,c+3).join("\n")}`:`${s}: ${i}`}else s=o,i=sl(n,0),a=`${s}: ${i}`;r.length>0&&(a+=`\n    ${r.join("\n    ")}`),super(i),this._tag=t,this.traces=r,this[aI]=Xue,this.name=s,this.stack=a}pipe(){return z(this,arguments)}toString(){return this.stack}[Ve](){return this.stack}}class Kue extends cI{defect;constructor(t,n=[]){super("Die",t,n),this.defect=t}}class Que extends cI{constructor(t=[]){super("Interrupt","interrupted",t)}}const Jue=(e=[])=>new Que(e),cU=e=>"Interrupt"===e._tag,lU=Symbol.for("effect/Micro/MicroFiber"),efe={_A:Se,_E:Se};class uU{context;interruptible;[lU];_stack=[];_observers=[];_exit;_children;currentOpCount=0;constructor(t,n=!0){this.context=t,this.interruptible=n,this[lU]=efe}getRef(t){return((e,t)=>e.unsafeMap.has(t.key)?e.unsafeMap.get(t.key):zm(t))(this.context,t)}addObserver(t){return this._exit?(t(this._exit),Om):(this._observers.push(t),()=>{const n=this._observers.indexOf(t);n>=0&&this._observers.splice(n,1)})}_interrupted=!1;unsafeInterrupt(){this._exit||(this._interrupted=!0,this.interruptible&&this.evaluate(hI))}unsafePoll(){return this._exit}evaluate(t){if(this._exit)return;if(void 0!==this._yielded){const o=this._yielded;this._yielded=void 0,o()}const n=this.runLoop(t);if(n===tu)return;const r=lI.interruptChildren&&lI.interruptChildren(this);if(void 0!==r)return this.evaluate(Cn(r,()=>n));this._exit=n;for(let o=0;o<this._observers.length;o++)this._observers[o](n);this._observers.length=0}runLoop(t){let n=!1,r=t;this.currentOpCount=0;try{for(;;){if(this.currentOpCount++,!n&&this.getRef(cy).shouldYield(this)){n=!0;const o=r;r=Cn(sfe,()=>o)}if(r=r[uI](this),r===tu){const o=this._yielded;return oy in o?(this._yielded=void 0,o):tu}}}catch(o){return W(r,uI)?ru(o):ru(`MicroFiber.runLoop: Not a valid effect: ${String(r)}`)}}getCont(t){for(;;){const n=this._stack.pop();if(!n)return;const r=n[sy]&&n[sy](this);if(r)return{[t]:r};if(n[t])return n}}_yielded=void 0;yieldWith(t){return this._yielded=t,tu}children(){return this._children??=new Set}}const lI=ge("effect/Micro/fiberMiddleware",()=>({interruptChildren:void 0})),dU=Symbol.for("effect/Micro/identifier"),ke=Symbol.for("effect/Micro/args"),uI=Symbol.for("effect/Micro/evaluate"),us=Symbol.for("effect/Micro/successCont"),eu=Symbol.for("effect/Micro/failureCont"),sy=Symbol.for("effect/Micro/ensureCont"),tu=Symbol.for("effect/Micro/Yield"),rfe={...hue,_op:"Micro",[iU]:{_A:Se,_E:Se,_R:Se},pipe(){return z(this,arguments)},[Symbol.iterator](){return new _d(new yd(this))},toJSON(){return{_id:"Micro",op:this[dU],...ke in this?{args:this[ke]}:void 0}},toString(){return lt(this)},[Ve](){return lt(this)}};function ofe(e){return ru("Micro.evaluate: Not implemented")}const _h=e=>({...rfe,[dU]:e.op,[uI]:e.eval??ofe,[us]:e.contA,[eu]:e.contE,[sy]:e.ensure}),fs=e=>{const t=_h(e);return function(){const n=Object.create(t);return n[ke]=!1===e.single?arguments:arguments[0],n}},hU=e=>{const t={..._h(e),[oy]:oy,_tag:e.op,get[e.prop](){return this[ke]},toJSON(){return{_id:"MicroExit",_tag:e.op,[e.prop]:this[ke]}},[J](n){return hfe(n)&&n._tag===e.op&&U(this[ke],n[ke])},[Q](){return Ue(this,oe(ot(e.op))(B(this[ke])))}};return function(n){const r=Object.create(t);return r[ke]=n,r[us]=void 0,r[eu]=void 0,r[sy]=void 0,r}},Ut=hU({op:"Success",prop:"value",eval(e){const t=e.getCont(us);return t?t[us](this[ke],e):e.yieldWith(this)}}),ai=hU({op:"Failure",prop:"cause",eval(e){let t=e.getCont(eu);for(;cU(this[ke])&&t&&e.interruptible;)t=e.getCont(eu);return t?t[eu](this[ke],e):e.yieldWith(this)}}),sfe=fs({op:"Yield",eval(e){let t=!1;return e.getRef(cy).scheduleTask(()=>{t||e.evaluate(Oa)},this[ke]??0),e.yieldWith(()=>{t=!0})}})(0),li=Ut(void 0),Xr=fs({op:"WithMicroFiber",eval(e){return this[ke](e)}}),Cn=h(2,(e,t)=>{const n=Object.create(ffe);return n[ke]=e,n[us]=t,n}),ffe=_h({op:"OnSuccess",eval(e){return e._stack.push(this),this[ke]}}),hfe=e=>W(e,oy),ay=Ut,vh=ai,hI=vh(Jue()),ru=e=>vh(((e,t=[])=>new Kue(e,t))(e)),Oa=ay(void 0),gfe="setImmediate"in globalThis?globalThis.setImmediate:e=>setTimeout(e,0);class gI{tasks=[];running=!1;scheduleTask(t,n){this.tasks.push(t),this.running||(this.running=!0,gfe(this.afterScheduled))}afterScheduled=()=>{this.running=!1,this.runTasks()};runTasks(){const t=this.tasks;this.tasks=[];for(let n=0,r=t.length;n<r;n++)t[n]()}shouldYield(t){return t.currentOpCount>=t.getRef(bfe)}flush(){for(;this.tasks.length>0;)this.runTasks()}}const mfe=h(2,(e,t)=>Xr(n=>{const r=n.context;return n.context=t(r),_U(e,()=>(n.context=r,li))})),yfe=h(2,(e,t)=>mfe(e,Dd(t)));class bfe extends(Xm()("effect/Micro/currentMaxOpsBeforeYield",{defaultValue:()=>2048})){}class cy extends(Xm()("effect/Micro/currentScheduler",{defaultValue:()=>new gI})){}const Dfe=h(2,(e,t)=>{const n=Object.create(Ife);return n[ke]=e,n[us]=t.onSuccess,n[eu]=t.onFailure,n}),Ife=_h({op:"OnSuccessAndFailure",eval(e){return e._stack.push(this),this[ke]}}),_U=h(2,(e,t)=>vU(n=>Dfe(n(e),{onFailure:r=>Cn(t(vh(r)),()=>ai(r)),onSuccess:r=>Cn(t(ay(r)),()=>Ut(r))}))),uy=fs({op:"SetInterruptible",ensure(e){if(e.interruptible=this[ke],e._interrupted&&e.interruptible)return()=>hI}}),vI=e=>Xr(t=>t.interruptible?e:(t.interruptible=!0,t._stack.push(uy(!1)),t._interrupted?hI:e)),vU=e=>Xr(t=>t.interruptible?(t.interruptible=!1,t._stack.push(uy(!0)),e(vI)):e(Se));class dy{buckets=[];scheduleTask(t,n){const r=this.buckets.length;let o,s=0;for(;s<r&&this.buckets[s][0]<=n;s++)o=this.buckets[s];o&&o[0]===n?o[1].push(t):s===r?this.buckets.push([n,[t]]):this.buckets.splice(s,0,[n,[t]])}}class Qfe{maxNextTickBeforeTimer;running=!1;tasks=new dy;constructor(t){this.maxNextTickBeforeTimer=t}starveInternal(t){const n=this.tasks.buckets;this.tasks.buckets=[];for(const[r,o]of n)for(let s=0;s<o.length;s++)o[s]();0===this.tasks.buckets.length?this.running=!1:this.starve(t)}starve(t=0){t>=this.maxNextTickBeforeTimer?setTimeout(()=>this.starveInternal(0),0):Promise.resolve(void 0).then(()=>this.starveInternal(t+1))}shouldYield(t){return t.currentOpCount>t.getFiberRef(SD)&&t.getFiberRef(ql)}scheduleTask(t,n){this.tasks.scheduleTask(t,n),this.running||(this.running=!0,this.starve())}}const Sh=ge(Symbol.for("effect/Scheduler/defaultScheduler"),()=>new Qfe(2048)),py=ge(Symbol.for("effect/FiberRef/currentScheduler"),()=>jt(Sh)),DI=(e,t)=>({_tag:"Par",left:e,right:t}),wh=(e,t)=>({_tag:"Seq",left:e,right:t}),ode=e=>{let t=e,n=IU(),r=aa(),o=aa();for(;;)switch(t._tag){case"Empty":if(vt(r))return[n,o];t=r.head,r=r.tail;break;case"Par":r=ia(t.right,r),t=t.left;break;case"Seq":{const s=t.left,i=t.right;switch(s._tag){case"Empty":t=i;break;case"Par":{const c=s.right;t=DI(wh(s.left,i),wh(c,i));break}case"Seq":t=wh(s.left,wh(s.right,i));break;case"Single":t=s,o=ia(i,o)}break}case"Single":if(n=fde(n,t),vt(r))return[n,o];t=r.head,r=r.tail}throw new Error("BUG: BlockedRequests.step - please report an issue at https://github.com/Effect-TS/effect/issues")},sde=(e,t)=>{if(vt(e))return JC(TI(t));if(hde(t))return e;const n=vde(e.head),r=pde(t);return 1===n.length&&1===r.length&&U(n[0],r[0])?ia(yde(e.head,TI(t)),e.tail):ia(TI(t),e)},lde=Symbol.for("effect/RequestBlock/RequestBlockParallel"),ude={_R:e=>e};class gy{map;[lde]=ude;constructor(t){this.map=t}}const IU=()=>new gy(d_()),fde=(e,t)=>new gy(Nse(e.map,t.dataSource,n=>hre(ll(n,qL(t.blockedRequest)),()=>Lt(t.blockedRequest)))),dde=(e,t)=>new gy(p_(e.map,t.map,(n,r,o)=>Eo(n,o,Qn(h_(n,o),{onNone:()=>r,onSome:s=>pr(r,s)})))),hde=e=>(e=>e&&$r(e._root))(e.map),pde=e=>Array.from(O2(e.map)),TI=e=>_de(Pse(e.map,t=>Lt(t))),gde=Symbol.for("effect/RequestBlock/RequestBlockSequential"),mde={_R:e=>e};class MU{map;[gde]=mde;constructor(t){this.map=t}}const _de=e=>new MU(e),yde=(e,t)=>new MU(p_(t.map,e.map,(n,r,o)=>Eo(n,o,Qn(h_(n,o),{onNone:()=>Zt(),onSome:s=>pr(s,r)})))),vde=e=>Array.from(O2(e.map)),RI=ge(Symbol.for("effect/FiberRef/currentRequestMap"),()=>jt(new Map)),Mde=e=>t=>`${t.label.replace(/[\s="]/g,"_")}=${e-t.startTime}ms`,OU="effect/MetricLabel",kI=Symbol.for(OU);class Ade{key;value;[kI]=kI;_hash;constructor(t,n){this.key=t,this.value=n,this._hash=ot(OU+this.key+this.value)}[Q](){return this._hash}[J](t){return xde(t)&&this.key===t.key&&this.value===t.value}pipe(){return z(this,arguments)}}const _y=(e,t)=>new Ade(e,t),xde=e=>W(e,kI),UI="InterruptSignal",VI="Stateful",$I="Resume",HI="YieldNow",qI=e=>({_tag:UI,cause:e}),Dy=e=>({_tag:VI,onFiber:e}),su=e=>({_tag:$I,effect:e}),Iy=Symbol.for("effect/FiberScope");class Tpe{[Iy]=Iy;fiberId=bo;roots=new Set;add(t,n){this.roots.add(n),n.addObserver(()=>{this.roots.delete(n)})}}class Rpe{fiberId;parent;[Iy]=Iy;constructor(t,n){this.fiberId=t,this.parent=n}add(t,n){this.parent.tell(Dy(r=>{r.addChild(n),n.addObserver(()=>{r.removeChild(n)})}))}}const iu=ge(Symbol.for("effect/FiberScope/Global"),()=>new Tpe),au=Symbol.for("effect/Fiber"),My={_E:e=>e,_A:e=>e},zI=Symbol.for("effect/Fiber"),Dn=e=>ah(br(e.await),e.inheritAll),fi="effect/FiberCurrent",Oy=Symbol.for("effect/Logger"),KI={_Message:e=>e,_Output:e=>e},Na=e=>({[Oy]:KI,log:e,pipe(){return z(this,arguments)}}),Zpe=Na(({annotations:e,cause:t,date:n,fiberId:r,logLevel:o,message:s,spans:i})=>{const a=n.getTime();let l=[`timestamp=${n.toISOString()}`,`level=${o.label}`,`fiber=${GC(r)}`].join(" ");const u=(e=>Array.isArray(e)?e:[e])(s);for(let f=0;f<u.length;f++){const d=sl(u[f]);d.length>0&&(l+=" message=",l=YI(d,l))}if(null!=t&&"Empty"!==t._tag&&(l+=" cause=",l=YI(Yd(t,{renderErrorCause:!0}),l)),QC(i)){l+=" ";let f=!0;for(const d of i)f?f=!1:l+=" ",l+=_(d,Mde(a))}if(k2(e)>0){l+=" ";let f=!0;for(const[d,p]of e)f?f=!1:l+=" ",l+=mV(d),l+="=",l=YI(sl(p),l)}return l}),gV=/^[^\s"=]+$/,YI=(e,t)=>t+(e.match(gV)?e:(e=>`"${e.replace(/\\([\s\S])|(")/g,"\\$1$2")}"`)(e)),mV=e=>e.replace(/[\s="]/g,"_"),yV="object"==typeof process&&null!==process&&"object"==typeof process.stdout&&null!==process.stdout,lu=(yV&&process,yV||globalThis,Symbol.for("effect/MetricKeyType")),bV="effect/MetricKeyType/Counter",QI=Symbol.for(bV),JI=Symbol.for("effect/MetricKeyType/Frequency"),ZI=Symbol.for("effect/MetricKeyType/Gauge"),wV="effect/MetricKeyType/Histogram",eM=Symbol.for(wV),tM=Symbol.for("effect/MetricKeyType/Summary"),Ih={_In:e=>e,_Out:e=>e};class fge{incremental;bigint;[lu]=Ih;[QI]=QI;constructor(t,n){this.incremental=t,this.bigint=n,this._hash=ot(bV)}_hash;[Q](){return this._hash}[J](t){return DV(t)}pipe(){return z(this,arguments)}}class mge{boundaries;[lu]=Ih;[eM]=eM;constructor(t){this.boundaries=t,this._hash=_(ot(wV),oe(B(this.boundaries)))}_hash;[Q](){return this._hash}[J](t){return TV(t)&&U(this.boundaries,t.boundaries)}pipe(){return z(this,arguments)}}const DV=e=>W(e,QI),TV=e=>W(e,eM),OV=Symbol.for("effect/MetricKey"),bge={_Type:e=>e},Ege=OC(U);class uu{name;keyType;description;tags;[OV]=bge;constructor(t,n,r,o=[]){this.name=t,this.keyType=n,this.description=r,this.tags=o,this._hash=_(ot(this.name+this.description),oe(B(this.keyType)),oe(Ki(this.tags)))}_hash;[Q](){return this._hash}[J](t){return Sge(t)&&this.name===t.name&&U(this.keyType,t.keyType)&&U(this.description,t.description)&&Ege(this.tags,t.tags)}pipe(){return z(this,arguments)}}const Sge=e=>W(e,OV),Dge=h(2,(e,t)=>0===t.length?e:new uu(e.name,e.keyType,e.description,fl(e.tags,t))),kV=Symbol.for("effect/MutableHashMap"),Ige={[kV]:kV,[Symbol.iterator](){return new nM(this)},toString(){return lt(this.toJSON())},toJSON(){return{_id:"MutableHashMap",values:Array.from(this).map(tt)}},[Ve](){return this.toJSON()},pipe(){return z(this,arguments)}};class nM{self;referentialIterator;bucketIterator;constructor(t){this.self=t,this.referentialIterator=t.referential[Symbol.iterator]()}next(){if(void 0!==this.bucketIterator)return this.bucketIterator.next();const t=this.referentialIterator.next();return t.done?(this.bucketIterator=new Mge(this.self.buckets.values()),this.next()):t}[Symbol.iterator](){return new nM(this.self)}}class Mge{backing;constructor(t){this.backing=t}currentBucket;next(){if(void 0===this.currentBucket){const n=this.backing.next();if(n.done)return n;this.currentBucket=n.value[Symbol.iterator]()}const t=this.currentBucket.next();return t.done?(this.currentBucket=void 0,this.next()):t}}const Mh=()=>{const e=Object.create(Ige);return e.referential=new Map,e.buckets=new Map,e.bucketsSize=0,e},Xt=h(2,(e,t)=>{if(!1===vd(t))return e.referential.has(t)?T(e.referential.get(t)):I();const n=t[Q](),r=e.buckets.get(n);return void 0===r?I():Rge(e,r,t)}),Rge=(e,t,n,r=!1)=>{for(let o=0,s=t.length;o<s;o++)if(n[J](t[o][0])){const i=t[o][1];return r&&(t.splice(o,1),e.bucketsSize--),T(i)}return I()},ds=h(2,(e,t)=>ue(Xt(e,t))),Ir=h(3,(e,t,n)=>{if(!1===vd(t))return e.referential.set(t,n),e;const r=t[Q](),o=e.buckets.get(r);return void 0===o?(e.buckets.set(r,[[t,n]]),e.bucketsSize++,e):(AV(e,o,t),o.push([t,n]),e.bucketsSize++,e)}),AV=(e,t,n)=>{for(let r=0,o=t.length;r<o;r++)if(n[J](t[r][0]))return t.splice(r,1),void e.bucketsSize--},du=Symbol.for("effect/MetricState"),xV="effect/MetricState/Counter",oM=Symbol.for(xV),NV="effect/MetricState/Frequency",sM=Symbol.for(NV),PV="effect/MetricState/Gauge",iM=Symbol.for(PV),FV="effect/MetricState/Histogram",aM=Symbol.for(FV),LV="effect/MetricState/Summary",cM=Symbol.for(LV),Th={_A:e=>e};class Oge{count;[du]=Th;[oM]=oM;constructor(t){this.count=t}[Q](){return _(B(xV),oe(B(this.count)),Ue(this))}[J](t){return Vge(t)&&this.count===t.count}pipe(){return z(this,arguments)}}const kge=OC(U);class Age{occurrences;[du]=Th;[sM]=sM;constructor(t){this.occurrences=t}_hash;[Q](){return _(ot(NV),oe(Ki(ie(this.occurrences.entries()))),Ue(this))}[J](t){return $ge(t)&&kge(ie(this.occurrences.entries()),ie(t.occurrences.entries()))}pipe(){return z(this,arguments)}}class xge{value;[du]=Th;[iM]=iM;constructor(t){this.value=t}[Q](){return _(B(PV),oe(B(this.value)),Ue(this))}[J](t){return Hge(t)&&this.value===t.value}pipe(){return z(this,arguments)}}class Nge{buckets;count;min;max;sum;[du]=Th;[aM]=aM;constructor(t,n,r,o,s){this.buckets=t,this.count=n,this.min=r,this.max=o,this.sum=s}[Q](){return _(B(FV),oe(B(this.buckets)),oe(B(this.count)),oe(B(this.min)),oe(B(this.max)),oe(B(this.sum)),Ue(this))}[J](t){return qge(t)&&U(this.buckets,t.buckets)&&this.count===t.count&&this.min===t.min&&this.max===t.max&&this.sum===t.sum}pipe(){return z(this,arguments)}}class Pge{error;quantiles;count;min;max;sum;[du]=Th;[cM]=cM;constructor(t,n,r,o,s,i){this.error=t,this.quantiles=n,this.count=r,this.min=o,this.max=s,this.sum=i}[Q](){return _(B(LV),oe(B(this.error)),oe(B(this.quantiles)),oe(B(this.count)),oe(B(this.min)),oe(B(this.max)),oe(B(this.sum)),Ue(this))}[J](t){return zge(t)&&this.error===t.error&&U(this.quantiles,t.quantiles)&&this.count===t.count&&this.min===t.min&&this.max===t.max&&this.sum===t.sum}pipe(){return z(this,arguments)}}const Vge=e=>W(e,oM),$ge=e=>W(e,sM),Hge=e=>W(e,iM),qge=e=>W(e,aM),zge=e=>W(e,cM),Wge=Symbol.for("effect/MetricHook"),Xge={_In:e=>e,_Out:e=>e},Rh=e=>({[Wge]:Xge,pipe(){return z(this,arguments)},...e}),jV=BigInt(0),Zge=(e,t,n)=>{const r=n.length;if(!Jt(t))return[];const o=t[0],s=t.slice(1),i=BV(e,r,I(),0,o,n),a=hr(i);return s.forEach(c=>{a.push(BV(e,r,i.value,i.consumed,c,i.rest))}),dl(a,c=>[c.quantile,c.value])},BV=(e,t,n,r,o,s)=>{let i=e,a=t,c=n,l=r,u=o,f=s,d=e,p=t,g=n,m=r,y=o,b=s;for(;;){if(!Jt(f))return{quantile:u,value:I(),consumed:l,rest:[]};if(1===u)return{quantile:u,value:T(TC(f)),consumed:l+f.length,rest:[]};const S=$re(f,Qe=>Qe<=f[0]),R=u*a,L=i/2*R,V=l+S[0].length,fe=Math.abs(V-R);if(V<R-L)d=i,p=a,g=Md(f),m=V,y=u,b=S[1],i=d,a=p,c=g,l=m,u=y,f=b;else{if(V>R+L)return{quantile:u,value:c,consumed:l,rest:f};switch(c._tag){case"None":d=i,p=a,g=Md(f),m=V,y=u,b=S[1],i=d,a=p,c=g,l=m,u=y,f=b;continue;case"Some":if(fe<Math.abs(R-c.value)){d=i,p=a,g=Md(f),m=V,y=u,b=S[1],i=d,a=p,c=g,l=m,u=y,f=b;continue}return{quantile:u,value:T(c.value),consumed:l,rest:f}}}}throw new Error("BUG: MetricHook.resolveQuantiles - please report an issue at https://github.com/Effect-TS/effect/issues")},UV=Symbol.for("effect/MetricPair"),VV={_Type:e=>e},eme=(e,t)=>({[UV]:VV,metricKey:e,metricState:t,pipe(){return z(this,arguments)}}),$V=Symbol.for("effect/MetricRegistry");class tme{[$V]=$V;map=Mh();snapshot(){const t=[];for(const[n,r]of this.map)t.push(eme(n,r.get()));return t}get(t){const n=_(this.map,Xt(t),Zn);if(null==n){if(DV(t.keyType))return this.getCounter(t);if(W(t.keyType,ZI))return this.getGauge(t);if((e=>W(e,JI))(t.keyType))return this.getFrequency(t);if(TV(t.keyType))return this.getHistogram(t);if((e=>W(e,tM))(t.keyType))return this.getSummary(t);throw new Error("BUG: MetricRegistry.get - unknown MetricKeyType - please report an issue at https://github.com/Effect-TS/effect/issues")}return n}getCounter(t){let n=_(this.map,Xt(t),Zn);if(null==n){const r=(e=>{let t=e.keyType.bigint?jV:0;const n=e.keyType.incremental?e.keyType.bigint?o=>o>=jV:o=>o>=0:o=>!0,r=o=>{n(o)&&(t+=o)};return Rh({get:()=>(e=>new Oge(e))(t),update:r,modify:r})})(t);_(this.map,ds(t))||_(this.map,Ir(t,r)),n=r}return n}getFrequency(t){let n=_(this.map,Xt(t),Zn);if(null==n){const r=(e=>{const t=new Map;for(const r of e.keyType.preregisteredWords)t.set(r,0);const n=r=>{const o=t.get(r)??0;t.set(r,o+1)};return Rh({get:()=>(e=>new Age(e))(t),update:n,modify:n})})(t);_(this.map,ds(t))||_(this.map,Ir(t,r)),n=r}return n}getGauge(t){let n=_(this.map,Xt(t),Zn);if(null==n){const r=((e,t)=>{let n=t;return Rh({get:()=>(e=>new xge(e))(n),update:r=>{n=r},modify:r=>{n+=r}})})(0,t.keyType.bigint?BigInt(0):0);_(this.map,ds(t))||_(this.map,Ir(t,r)),n=r}return n}getHistogram(t){let n=_(this.map,Xt(t),Zn);if(null==n){const r=(e=>{const t=e.keyType.boundaries.values,n=t.length,r=new Uint32Array(n+1),o=new Float32Array(n);let s=0,i=0,a=Number.MAX_VALUE,c=Number.MIN_VALUE;_(t,Td(oi),dl((f,d)=>{o[d]=f}));const l=f=>{let d=0,p=n;for(;d!==p;){const g=Math.floor(d+(p-d)/2);f<=o[g]?p=g:d=g,p===d+1&&(f<=o[d]?p=d:d=p)}r[d]=r[d]+1,s+=1,i+=f,f<a&&(a=f),f>c&&(c=f)},u=()=>{const f=MC(n);let d=0;for(let p=0;p<n;p++)d+=r[p],f[p]=[o[p],d];return f};return Rh({get:()=>(e=>new Nge(e.buckets,e.count,e.min,e.max,e.sum))({buckets:u(),count:s,min:a,max:c,sum:i}),update:l,modify:l})})(t);_(this.map,ds(t))||_(this.map,Ir(t,r)),n=r}return n}getSummary(t){let n=_(this.map,Xt(t),Zn);if(null==n){const r=(e=>{const{error:t,maxAge:n,maxSize:r,quantiles:o}=e.keyType,s=_(o,Td(oi)),i=MC(r);let a=0,c=0,l=0,u=Number.MAX_VALUE,f=Number.MIN_VALUE;const d=g=>{const m=[];let y=0;for(;y!==r-1;){const b=i[y];if(null!=b){const[S,R]=b,L=Od(g-S);Eoe(L,doe)&&L<=n&&m.push(R)}y+=1}return Zge(t,s,Td(m,oi))},p=(g,m)=>{r>0&&(a+=1,i[a%r]=[m,g]),c+=1,l+=g,g<u&&(u=g),g>f&&(f=g)};return Rh({get:()=>(e=>new Pge(e.error,e.quantiles,e.count,e.min,e.max,e.sum))({error:t,quantiles:d(Date.now()),count:c,min:u,max:f,sum:l}),update:([g,m])=>p(g,m),modify:([g,m])=>p(g,m)})})(t);_(this.map,ds(t))||_(this.map,Ir(t,r)),n=r}return n}}const rme=Symbol.for("effect/Metric"),ome={_Type:e=>e,_In:e=>e,_Out:e=>e},lM=ge(Symbol.for("effect/Metric/globalMetricRegistry"),()=>new tme),ky=function(e,t,n,r){const o=Object.assign(s=>ya(s,i=>HV(o,i)),{[rme]:ome,keyType:e,unsafeUpdate:t,unsafeValue:n,unsafeModify:r,register(){return this.unsafeValue([]),this},pipe(){return z(this,arguments)}});return o},Ay=(e,t)=>Oh(((e,t)=>new uu(e,(e=>new fge(e?.incremental??!1,e?.bigint??!1))(t),cl(t?.description)))(e,t)),Oh=e=>{let t;const n=new WeakMap,r=o=>{if(0===o.length)return void 0!==t||(t=lM.get(e)),t;let s=n.get(o);return void 0!==s||(s=lM.get(Dge(e,o)),n.set(o,s)),s};return ky(e.keyType,(o,s)=>r(s).update(o),o=>r(o).get(),(o,s)=>r(s).modify(o))},fM=(e,t,n)=>Oh(((e,t,n)=>new uu(e,(e=>new mge(e))(t),cl(n)))(e,t,n)),dM=h(3,(e,t,n)=>ame(e,[_y(t,n)])),ame=h(2,(e,t)=>ky(e.keyType,(n,r)=>e.unsafeUpdate(n,fl(t,r)),n=>e.unsafeValue(fl(t,n)),(n,r)=>e.unsafeModify(n,fl(t,r)))),HV=h(2,(e,t)=>Er(zl,n=>M(()=>e.unsafeUpdate(t,n)))),qV="effect/MetricBoundaries",hM=Symbol.for(qV);class lme{values;[hM]=hM;constructor(t){this.values=t,this._hash=_(ot(qV),oe(Ki(this.values)))}_hash;[Q](){return this._hash}[J](t){return ume(t)&&U(this.values,t.values)}pipe(){return z(this,arguments)}}const ume=e=>W(e,hM),zV=e=>{const t=_(e,RL(Lt(Number.POSITIVE_INFINITY)),roe);return new lme(t)},fme=e=>_(((e,t)=>{const n=Math.max(1,Math.floor(e)),r=new Array(n);for(let o=0;o<n;o++)r[o]=t(o);return r})(e.count-1,t=>e.start*Math.pow(e.factor,t)),er,zV),Pa=h(2,(e,t)=>Er(RI,n=>M(()=>{if(n.has(e)){const r=n.get(e);r.state.completed||(r.state.completed=!0,UD(r.result,t))}}))),hu=Symbol.for("effect/Supervisor"),kh={_T:e=>e};class pu{underlying;value0;[hu]=kh;constructor(t,n){this.underlying=t,this.value0=n}get value(){return this.value0}onStart(t,n,r,o){this.underlying.onStart(t,n,r,o)}onEnd(t,n){this.underlying.onEnd(t,n)}onEffect(t,n){this.underlying.onEffect(t,n)}onSuspend(t){this.underlying.onSuspend(t)}onResume(t){this.underlying.onResume(t)}map(t){return new pu(this,_(this.value,N(t)))}zip(t){return new gu(this,t)}}class gu{left;right;_tag="Zip";[hu]=kh;constructor(t,n){this.left=t,this.right=n}get value(){return P_(this.left.value,this.right.value)}onStart(t,n,r,o){this.left.onStart(t,n,r,o),this.right.onStart(t,n,r,o)}onEnd(t,n){this.left.onEnd(t,n),this.right.onEnd(t,n)}onEffect(t,n){this.left.onEffect(t,n),this.right.onEffect(t,n)}onSuspend(t){this.left.onSuspend(t),this.right.onSuspend(t)}onResume(t){this.left.onResume(t),this.right.onResume(t)}map(t){return new pu(this,_(this.value,N(t)))}zip(t){return new gu(this,t)}}const GV=e=>W(e,hu)&&xm(e,"Zip");class Sme{effect;[hu]=kh;constructor(t){this.effect=t}get value(){return this.effect}onStart(t,n,r,o){}onEnd(t,n){}onEffect(t,n){}onSuspend(t){}onResume(t){}map(t){return new pu(this,_(this.value,N(t)))}zip(t){return new gu(this,t)}onRun(t,n){return t()}}const xy=ge("effect/Supervisor/none",()=>new Sme(Z)),YV="AddSupervisor",QV="RemoveSupervisor",JV="AndThen",Ah={_tag:"Empty"},Ny=(e,t)=>({_tag:JV,first:e,second:t}),mM=(e,t)=>U(e,t)?xy:GV(e)?mM(e.left,t).zip(mM(e.right,t)):e,Py=e=>U(e,xy)?Qs():GV(e)?_(Py(e.left),Dl(Py(e.right))):c_(e),Rme=Hr({empty:Ah,patch:(e,t)=>((e,t)=>{let n=e,r=t;for(;ut(r);){const o=Ce(r);switch(o._tag){case"Empty":r=it(r);break;case YV:n=n.zip(o.supervisor),r=it(r);break;case QV:n=mM(n,o.supervisor),r=it(r);break;case JV:r=st(o.first)(st(o.second)(it(r)))}}return n})(t,Lt(e)),combine:Ny,diff:(e,t)=>{if(U(e,t))return Ah;const n=Py(e),r=Py(t),o=_(r,b2(n),Ld(Ah,(i,a)=>Ny(i,{_tag:YV,supervisor:a}))),s=_(n,b2(r),Ld(Ah,(i,a)=>Ny(i,{_tag:QV,supervisor:a})));return Ny(o,s)}}),Ome=Ay("effect_fiber_started",{incremental:!0}),ZV=Ay("effect_fiber_active"),kme=Ay("effect_fiber_successes",{incremental:!0}),Ame=Ay("effect_fiber_failures",{incremental:!0}),xme=dM(fM("effect_fiber_lifetimes",fme({start:.5,factor:2,count:35})),"time_unit","milliseconds"),xh="Continue",Pme={_E:e=>e,_A:e=>e},Fy=e=>{throw new Error(`BUG: FiberRuntime - ${sl(e)} - please report an issue at https://github.com/Effect-TS/effect/issues`)},hs=Symbol.for("effect/internal/fiberRuntime/YieldedOp"),ps=ge("effect/internal/fiberRuntime/yieldedOpChannel",()=>({currentOp:null})),Nh={[Bm]:(e,t,n)=>Ht(()=>t.effect_instruction_i1(n)),OnStep:(e,t,n)=>De(De(n)),[Um]:(e,t,n)=>Ht(()=>t.effect_instruction_i2(n)),[hC]:(e,t,n)=>(e.patchRuntimeFlags(e.currentRuntimeFlags,t.patch),rs(e.currentRuntimeFlags)&&e.isInterrupted()?_e(e.getInterruptedCause()):De(n)),[Vm]:(e,t,n)=>(Ht(()=>t.effect_instruction_i2(n)),Ht(()=>t.effect_instruction_i0())?(e.pushStack(t),Ht(()=>t.effect_instruction_i1())):Z),[Ed]:(e,t,n)=>{const r=Ht(()=>t.effect_instruction_i0.next(n));return r.done?De(r.value):(e.pushStack(t),function G1(e){if("object"==typeof e&&null!==e&&aC in e)return e[aC]();throw new Error(md("yieldWrapGet"))}(r.value))}},Fme={[UI]:(e,t,n,r)=>(e.processNewInterruptSignal(r.cause),rs(t)?_e(r.cause):n),[$I]:(e,t,n,r)=>{throw new Error("It is illegal to have multiple concurrent run loops in a single fiber")},[VI]:(e,t,n,r)=>(r.onFiber(e,JB(t)),n),[HI]:(e,t,n,r)=>v(ba(),()=>n)};class t$ extends J_{[au]=My;[zI]=Pme;_fiberRefs;_fiberId;_queue=new Array;_children=null;_observers=new Array;_running=!1;_stack=[];_asyncInterruptor=null;_asyncBlockingOn=null;_exitValue=null;_steps=[];_isYielding=!1;currentRuntimeFlags;currentOpCount=0;currentSupervisor;currentScheduler;currentTracer;currentSpan;currentContext;currentDefaultServices;constructor(t,n,r){if(super(),this.currentRuntimeFlags=r,this._fiberId=t,this._fiberRefs=n,sj(r)){const o=this.getFiberRef(zl);Ome.unsafeUpdate(1,o),ZV.unsafeUpdate(1,o)}this.refreshRefCache()}commit(){return Dn(this)}id(){return this._fiberId}resume(t){this.tell(su(t))}get status(){return this.ask((t,n)=>n)}get runtimeFlags(){return this.ask((t,n)=>n._tag===ny?t.currentRuntimeFlags:n.runtimeFlags)}scope(){return new Rpe((e=this).id(),e);var e}get children(){return this.ask(t=>Array.from(t.getChildren()))}getChildren(){return null===this._children&&(this._children=new Set),this._children}getInterruptedCause(){return this.getFiberRef(lh)}fiberRefs(){return this.ask(t=>t.getFiberRefs())}ask(t){return q(()=>{const n=jD(this._fiberId);return this.tell(Dy((r,o)=>{UD(n,M(()=>t(r,o)))})),Sr(n)})}tell(t){this._queue.push(t),this._running||(this._running=!0,this.drainQueueLaterOnExecutor())}get await(){return qr(t=>{const n=r=>t(D(r));return this.tell(Dy((r,o)=>{null!==r._exitValue?n(this._exitValue):r.addObserver(n)})),M(()=>this.tell(Dy((r,o)=>{r.removeObserver(n)})))},this.id())}get inheritAll(){return be((t,n)=>{const r=t.id(),o=t.getFiberRefs(),s=n.runtimeFlags,i=this.getFiberRefs(),a=BB(o,r,i);t.setFiberRefs(a);const c=t.getFiberRef(g$);return(e=>{const t=new bt(Qi);return t.effect_instruction_i0=e,t.effect_instruction_i1=void 0,t})(_(os(s,c),dj(1),dj(16)))})}get poll(){return M(()=>cl(this._exitValue))}unsafePoll(){return this._exitValue}interruptAsFork(t){return M(()=>this.tell(qI(tr(t))))}unsafeInterruptAsFork(t){this.tell(qI(tr(t)))}addObserver(t){null!==this._exitValue?t(this._exitValue):this._observers.push(t)}removeObserver(t){this._observers=this._observers.filter(n=>n!==t)}getFiberRefs(){return this.setFiberRef(g$,this.currentRuntimeFlags),this._fiberRefs}unsafeDeleteFiberRef(t){this._fiberRefs=nI(this._fiberRefs,t)}getFiberRef(t){return this._fiberRefs.locals.has(t)?this._fiberRefs.locals.get(t)[0][1]:t.initial}setFiberRef(t,n){this._fiberRefs=Z_(this._fiberRefs,{fiberId:this._fiberId,fiberRef:t,value:n}),this.refreshRefCache()}refreshRefCache(){this.currentDefaultServices=this.getFiberRef(Bt),this.currentTracer=this.currentDefaultServices.unsafeMap.get(Ta.key),this.currentSupervisor=this.getFiberRef(m$),this.currentScheduler=this.getFiberRef(py),this.currentContext=this.getFiberRef(Co),this.currentSpan=this.currentContext.unsafeMap.get(ls.key)}setFiberRefs(t){this._fiberRefs=t,this.refreshRefCache()}addChild(t){this.getChildren().add(t)}removeChild(t){this.getChildren().delete(t)}transferChildren(t){const n=this._children;if(this._children=null,null!==n&&n.size>0)for(const r of n)null===r._exitValue&&t.add(this.currentRuntimeFlags,r)}drainQueueOnCurrentThread(){let t=!0;for(;t;){let n=xh;const r=globalThis[fi];globalThis[fi]=this;try{for(;n===xh;)n=0===this._queue.length?"Done":this.evaluateMessageWhileSuspended(this._queue.splice(0,1)[0])}finally{this._running=!1,globalThis[fi]=r}this._queue.length>0&&!this._running?(this._running=!0,"Yield"===n?(this.drainQueueLaterOnExecutor(),t=!1):t=!0):t=!1}}drainQueueLaterOnExecutor(){this.currentScheduler.scheduleTask(this.run,this.getFiberRef(ql))}drainQueueWhileRunning(t,n){let r=n;for(;this._queue.length>0;){const o=this._queue.splice(0,1)[0];r=Fme[o._tag](this,t,r,o)}return r}isInterrupted(){return!((e=this.getFiberRef(lh))._tag===Rl||Ll(e,!0,(t,n)=>{switch(n._tag){case Rl:return T(t);case Tl:case Ol:case kl:return T(!1);default:return I()}}));var e}addInterruptedCause(t){const n=this.getFiberRef(lh);this.setFiberRef(lh,at(n,t))}processNewInterruptSignal(t){this.addInterruptedCause(t),this.sendInterruptSignalToAllChildren()}sendInterruptSignalToAllChildren(){if(null===this._children||0===this._children.size)return!1;let t=!1;for(const n of this._children)n.tell(qI(tr(this.id()))),t=!0;return t}interruptAllChildren(){if(this.sendInterruptSignalToAllChildren()){const t=this._children.values();this._children=null;let n=!1;return N_({while:()=>!n,body:()=>{const o=t.next();return o.done?M(()=>{n=!0}):zt(o.value.await)},step:()=>{}})}return null}reportExitValue(t){if(sj(this.currentRuntimeFlags)){const n=this.getFiberRef(zl),r=this.id().startTimeMillis,o=Date.now();switch(xme.unsafeUpdate(o-r,n),ZV.unsafeUpdate(-1,n),t._tag){case He:kme.unsafeUpdate(1,n);break;case $e:Ame.unsafeUpdate(1,n)}}if("Failure"===t._tag){const n=this.getFiberRef(nB);!fD(t.cause)&&"Some"===n._tag&&this.log("Fiber terminated with an unhandled error",t.cause,n)}}setExitValue(t){this._exitValue=t,this.reportExitValue(t);for(let n=this._observers.length-1;n>=0;n--)this._observers[n](t);this._observers=[]}getLoggers(){return this.getFiberRef($me)}log(t,n,r){const o=ue(r)?r.value:this.getFiberRef(bce),s=this.getFiberRef(jme);if(zue(s,o))return;const i=this.getFiberRef(Zj),a=this.getFiberRef(ch),c=this.getLoggers(),l=this.getFiberRefs();if(Pd(c)>0){const u=mo(this.getFiberRef(Bt),cs),f=new Date(u.unsafeCurrentTimeMillis());((e,t)=>{const n=Yi.fiberRefs;Yi.fiberRefs=e;try{return t()}finally{Yi.fiberRefs=n}})(l,()=>{for(const d of c)d.log({fiberId:this.id(),logLevel:o,message:t,cause:n,context:l,spans:i,annotations:a,date:f})})}}evaluateMessageWhileSuspended(t){switch(t._tag){case HI:return"Yield";case UI:return this.processNewInterruptSignal(t.cause),null!==this._asyncInterruptor&&(this._asyncInterruptor(_e(t.cause)),this._asyncInterruptor=null),xh;case $I:return this._asyncInterruptor=null,this._asyncBlockingOn=null,this.evaluateEffect(t.effect),xh;case VI:return t.onFiber(this,null!==this._exitValue?jue:((e,t)=>new kue(e,t))(this.currentRuntimeFlags,this._asyncBlockingOn)),xh;default:return Fy(t)}}evaluateEffect(t){this.currentSupervisor.onResume(this);try{let n=rs(this.currentRuntimeFlags)&&this.isInterrupted()?_e(this.getInterruptedCause()):t;for(;null!==n;){const o=this.runLoop(n);if(o===hs){const s=ps.currentOp;ps.currentOp=null,s._op===$m?ca(this.currentRuntimeFlags,32)?(this.tell({_tag:HI}),this.tell(su(rr)),n=null):n=rr:s._op===bd&&(n=null)}else{this.currentRuntimeFlags=_(this.currentRuntimeFlags,Mae(16));const s=this.interruptAllChildren();null!==s?n=v(s,()=>o):(0===this._queue.length?this.setExitValue(o):this.tell(su(o)),n=null)}}}finally{this.currentSupervisor.onSuspend(this)}}start(t){if(this._running)this.tell(su(t));else{this._running=!0;const n=globalThis[fi];globalThis[fi]=this;try{this.evaluateEffect(t)}finally{this._running=!1,globalThis[fi]=n,this._queue.length>0&&this.drainQueueLaterOnExecutor()}}}startFork(t){this.tell(su(t))}patchRuntimeFlags(t,n){const r=la(t,n);return globalThis[fi]=this,this.currentRuntimeFlags=r,r}initiateAsync(t,n){let r=!1;const o=s=>{r||(r=!0,this.tell(su(s)))};rs(t)&&(this._asyncInterruptor=o);try{n(o)}catch(s){o(me(en(s)))}}pushStack(t){this._stack.push(t),"OnStep"===t._op&&this._steps.push({refs:this.getFiberRefs(),flags:this.currentRuntimeFlags})}popStack(){const t=this._stack.pop();if(t)return"OnStep"===t._op&&this._steps.pop(),t}getNextSuccessCont(){let t=this.popStack();for(;t;){if(t._op!==jm)return t;t=this.popStack()}}getNextFailCont(){let t=this.popStack();for(;t;){if(t._op!==Bm&&t._op!==Vm&&t._op!==Ed)return t;t=this.popStack()}}Tag(t){return M(()=>Wm(this.currentContext,t))}Left(t){return ae(t.left)}None(t){return ae(new ti)}Right(t){return De(t.right)}Some(t){return De(t.value)}Micro(t){return Zd(n=>{let r=n;const o=((e,t)=>{const n=new uU(cy.context(t?.scheduler??new gI));if(n.evaluate(e),t?.signal)if(t.signal.aborted)n.unsafeInterrupt();else{const r=()=>n.unsafeInterrupt();t.signal.addEventListener("abort",r,{once:!0}),n.addObserver(()=>t.signal.removeEventListener("abort",r))}return n})(yfe(t,this.currentContext));return o.addObserver(s=>{if("Success"===s._tag)return r(De(s.value));switch(s.cause._tag){case"Interrupt":return r(_e(tr(bo)));case"Fail":return r(ae(s.cause.error));case"Die":return r(pa(s.cause.defect))}}),Zd(s=>{r=i=>{s(Z)},o.unsafeInterrupt()})})}Sync(t){const n=Ht(()=>t.effect_instruction_i0()),r=this.getNextSuccessCont();return void 0!==r?(r._op in Nh||Fy(r),Nh[r._op](this,r,n)):(ps.currentOp=De(n),hs)}[He](t){const n=t,r=this.getNextSuccessCont();return void 0!==r?(r._op in Nh||Fy(r),Nh[r._op](this,r,n.effect_instruction_i0)):(ps.currentOp=n,hs)}[$e](t){const n=t.effect_instruction_i0,r=this.getNextFailCont();if(void 0===r)return ps.currentOp=_e(n),hs;switch(r._op){case jm:case Um:return rs(this.currentRuntimeFlags)&&this.isInterrupted()?_e(Sj(n)):Ht(()=>r.effect_instruction_i1(n));case"OnStep":return rs(this.currentRuntimeFlags)&&this.isInterrupted()?_e(Sj(n)):De(_e(n));case hC:return this.patchRuntimeFlags(this.currentRuntimeFlags,r.patch),rs(this.currentRuntimeFlags)&&this.isInterrupted()?_e(at(n,this.getInterruptedCause())):_e(n);default:Fy(r)}}[J1](t){return Ht(()=>t.effect_instruction_i0(this,JB(this.currentRuntimeFlags)))}Blocked(t){const n=this.getFiberRefs(),r=this.currentRuntimeFlags;if(this._steps.length>0){const o=[],s=this._steps[this._steps.length-1];let i=this.popStack();for(;i&&"OnStep"!==i._op;)o.push(i),i=this.popStack();this.setFiberRefs(s.refs),this.currentRuntimeFlags=s.flags;const a=gh(s.refs,n),c=os(s.flags,r);return De(Bl(t.effect_instruction_i0,be(l=>{for(;o.length>0;)l.pushStack(o.pop());return l.setFiberRefs(mh(l.id(),l.getFiberRefs())(a)),l.currentRuntimeFlags=la(c)(l.currentRuntimeFlags),t.effect_instruction_i1})))}return Wt(o=>v(_u((e=>{const t=new bt("RunBlocked");return t.effect_instruction_i0=e,t})(t.effect_instruction_i0)),()=>o(t.effect_instruction_i1)))}RunBlocked(t){return So((e=>{let t=JC(e),n=aa();for(;;){const[r,o]=Gse(t,[IU(),aa()],([s,i],a)=>{const[c,l]=ode(a);return[dde(s,c),Hse(i,l)]});if(n=sde(n,r),vt(o))return Kse(n);t=o}throw new Error("BUG: BlockedRequests.flatten - please report an issue at https://github.com/Effect-TS/effect/issues")})(t.effect_instruction_i0),t=>Fa((e=>Array.from(e.map))(t),([n,r])=>{const o=new Map,s=[];for(const a of r){s.push(Pn(a));for(const c of a)o.set(c.request,c)}const i=s.flat();return hn(S$(n.runAll(s),i,()=>i.forEach(a=>{a.listeners.interrupted=!0})),RI,o)},!1,!1))}[Qi](t){const n=t.effect_instruction_i0,r=this.currentRuntimeFlags,o=la(r,n);if(rs(o)&&this.isInterrupted())return _e(this.getInterruptedCause());if(this.patchRuntimeFlags(this.currentRuntimeFlags,n),t.effect_instruction_i1){const s=os(o,r);return this.pushStack(new Qae(s,t)),Ht(()=>t.effect_instruction_i1(r))}return rr}[Bm](t){return this.pushStack(t),t.effect_instruction_i0}OnStep(t){return this.pushStack(t),t.effect_instruction_i0}[jm](t){return this.pushStack(t),t.effect_instruction_i0}[Um](t){return this.pushStack(t),t.effect_instruction_i0}[bd](t){return this._asyncBlockingOn=t.effect_instruction_i1,this.initiateAsync(this.currentRuntimeFlags,t.effect_instruction_i0),ps.currentOp=t,hs}[$m](t){return this._isYielding=!1,ps.currentOp=t,hs}[Vm](t){const r=t.effect_instruction_i1;return(0,t.effect_instruction_i0)()?(this.pushStack(t),r()):rr}[Ed](t){return Nh[Ed](this,t,void 0)}[Lm](t){return Ht(()=>t.commit())}runLoop(t){let n=t;for(this.currentOpCount=0;;){if(2&this.currentRuntimeFlags&&this.currentSupervisor.onEffect(this,n),this._queue.length>0&&(n=this.drainQueueWhileRunning(this.currentRuntimeFlags,n)),!this._isYielding){this.currentOpCount+=1;const r=this.currentScheduler.shouldYield(this);if(!1!==r){this._isYielding=!0,this.currentOpCount=0;const o=n;n=v(ba({priority:r}),()=>o)}}try{if(n=this.currentTracer.context(()=>"3.12.0"!==n[fa]._V?eh(`Cannot execute an Effect versioned ${n[fa]._V} with a Runtime of version 3.12.0`):this[n._op](n),this),n===hs){const r=ps.currentOp;return r._op===$m||r._op===bd?hs:(ps.currentOp=null,r._op===He||r._op===$e?r:_e(en(r)))}}catch(r){n=n!==hs&&!W(n,"_op")||!(n._op in this)?eh(`Not a valid effect: ${sl(n)}`):W(r,hD)?_e(r.cause):W(r,RD)?_e(at(en(r),tr(bo))):pa(r)}}}run=()=>{this.drainQueueOnCurrentThread()}}const jme=ge("effect/FiberRef/currentMinimumLogLevel",()=>jt(rU)),Ume=ge(Symbol.for("effect/Logger/defaultLogger"),()=>{return e=Zpe,Na(t=>{const n=wue(t.context,Bt);mo(n,Kl).unsafe.log(e.log(t))});var e}),Vme=ge(Symbol.for("effect/Logger/tracerLogger"),()=>Na(({annotations:e,cause:t,context:n,fiberId:r,logLevel:o,message:s})=>{const i=zs(Jl(n,Co),ls);if("None"===i._tag||"ExternalSpan"===i.value._tag)return;const a=Wm(Jl(n,Bt),cs),c={};for(const[l,u]of e)c[l]=u;c["effect.fiberId"]=Tse(r),c["effect.logLevel"]=o.label,null!==t&&"Empty"!==t._tag&&(c["effect.cause"]=Yd(t,{renderErrorCause:!0})),i.value.event(sl(Array.isArray(s)?s[0]:s),a.unsafeCurrentTimeNanos(),c)})),$me=ge(Symbol.for("effect/FiberRef/currentLoggers"),()=>(e=>{const t=K2();return Hl(e,{differ:t,fork:t.empty})})(c_(Ume,Vme))),Fa=(e,t,n,r,o)=>Wt(s=>(e=>be(t=>{const r=_(t.getFiberRef(L_),Jn(()=>t.scope()));return e(hn(L_,T(r)))}))(i=>be(a=>{let c=Array.from(e).reverse(),l=c.length;if(0===l)return Z;let u=0,f=!1;const d=o?Math.min(c.length,o):c.length,p=new Set,g=new Array,y=new Array,b=new Array,S=new Array,R=()=>{const Je=g.filter(({exit:w})=>"Failure"===w._tag).sort((w,sr)=>w.index<sr.index?-1:w.index===sr.index?0:1).map(({exit:w})=>w);return 0===Je.length&&Je.push(rr),Je},L=(Je,w=!1)=>{const sr=va(i(Je)),In=t_e(sr,a,a.currentRuntimeFlags,iu);return a.currentScheduler.scheduleTask(()=>{w&&In.unsafeInterruptAsFork(a.id()),In.resume(sr)},0),In},V=()=>{r||(l-=c.length,c=[]),f=!0,p.forEach(Je=>{Je.currentScheduler.scheduleTask(()=>{Je.unsafeInterruptAsFork(a.id())},0)})},fe=n?Fj:Dt,Qe=L(qr(Je=>{const w=(In,Io)=>{"Blocked"===In._op?S.push(In):(g.push({index:Io,exit:In}),"Failure"===In._op&&!f&&V())},sr=()=>{if(c.length>0){const In=c.pop();let Io=u++;const Zy=()=>{const ir=c.pop();return Io=u++,v(ba(),()=>v(fe(s(t(ir,Io))),Ua))},Ua=ir=>c.length>0&&(w(ir,Io),c.length>0)?Zy():D(ir),ev=v(fe(s(t(In,Io))),Ua),Mo=L(ev);y.push(Mo),p.add(Mo),f&&Mo.currentScheduler.scheduleTask(()=>{Mo.unsafeInterruptAsFork(a.id())},0),Mo.addObserver(ir=>{let Uh;if(Uh="Failure"===ir._op?ir:ir.effect_instruction_i0,b.push(Mo),p.delete(Mo),w(Uh,Io),g.length===l)Je(D(Jn(Ca(R(),{parallel:!0}),()=>rr)));else if(S.length+g.length===l){const XM=S.map(Vh=>Vh.effect_instruction_i0).reduce(DI);Je(D(Bl(XM,Fa([Jn(Ca(R(),{parallel:!0}),()=>rr),...S.map(Vh=>Vh.effect_instruction_i1)],Vh=>Vh,n,!0,o))))}else sr()})}};for(let In=0;In<d;In++)sr()}));return zt(zr(br(s(Dn(Qe))),H_({onFailure:()=>{V();const Je=S.length+1,w=Math.min("number"==typeof o?o:S.length,S.length),sr=Array.from(S);return qr(In=>{const Io=[];let Zy=0,Ua=0;const ev=(ir,Uh)=>XM=>{Io[ir]=XM,Zy++,Zy===Je&&In(yL(Ca(Io,{parallel:!0}))),sr.length>0&&Uh&&Mo()},Mo=()=>{L(sr.pop(),!0).addObserver(ev(Ua,!0)),Ua++};Qe.addObserver(ev(Ua,!1)),Ua++;for(let ir=0;ir<w;ir++)Mo()})},onSuccess:()=>Fn(b,Je=>Je.inheritAll)})))}))),_u=e=>n_e(e,iu),t_e=(e,t,n,r=null)=>Uy(e,t,n,r),Uy=(e,t,n,r=null)=>{const o=R2(),s=t.getFiberRefs(),i=UB(s,o),a=new t$(o,i,n),c=Jl(i,Co),l=a.currentSupervisor;return l.onStart(c,e,T(t),a),a.addObserver(f=>l.onEnd(f,a)),(null!==r?r:_(t.getFiberRef(L_),Jn(()=>t.scope()))).add(n,a),a},n_e=(e,t)=>be((n,r)=>D(((e,t,n,r=null)=>{const o=Uy(e,t,n,r);return o.resume(e),o})(e,n,r.runtimeFlags,t))),w_e=e=>Hl(e,{differ:Rme,fork:Ah}),g$=vce(Tae),m$=w_e(xy),S$=(e,t,n)=>is(r=>v(v(_u(ma(e)),o=>qr(s=>{const i=t.map(l=>l.listeners.count),a=()=>{i.every(l=>0===l)&&t.every(l=>"Pending"===l.result.state.current._tag||!("Done"!==l.result.state.current._tag||!U_(l.result.state.current.effect)||"Failure"!==l.result.state.current.effect._tag||!(e=>ue(Nae(e)))(l.result.state.current.effect.cause)))&&(c.forEach(l=>l()),n?.(),s((e=>v(Ul,t=>_(e,Wr(t))))(o)))};o.addObserver(l=>{c.forEach(u=>u()),s(l)});const c=t.map((l,u)=>{const f=d=>{i[u]=d,a()};return l.listeners.addObserver(f),()=>l.listeners.removeObserver(f)});return a(),M(()=>{c.forEach(l=>l())})})),()=>q(()=>{const o=t.flatMap(s=>s.state.completed?[]:[s]);return So(o,s=>Pa(s.request,(e=>_e(tr(e)))(r)))}))),vve=(e,t)=>e.close(t),bve=(e,t)=>e.fork(t),Yy=e=>(t,n)=>{const r=R2(),o=[[Co,[[r,e.context]]]];n?.scheduler&&o.push([py,[[r,n.scheduler]]]);let s=Iue(e.fiberRefs,{entries:o,forkAs:r});n?.updateRefs&&(s=n.updateRefs(s,r));const i=new t$(r,s,e.runtimeFlags);let a=t;n?.scope&&(a=v(bve(n.scope,Ql),l=>Oe(((e,t)=>e.addFinalizer(()=>zt(t)))(l,is(u=>U(u,i.id())?Z:Wr(i,u))),zr(t,u=>vve(l,u)))));const c=i.currentSupervisor;return c!==xy&&(c.onStart(e.context,a,I(),i),i.addObserver(l=>c.onEnd(l,i))),iu.add(e.runtimeFlags,i),!1===n?.immediate?i.resume(a):i.start(a),i};Error;const Qy=Symbol.for("effect/Runtime/FiberFailure"),UM=Symbol.for("effect/Runtime/FiberFailure/Cause");class Cve extends Error{[Qy];[UM];constructor(t){super(),this[Qy]=Qy,this[UM]=t;const n=Rj(t);if(n.length>0){const r=n[0];this.name=r.name,this.message=r.message,this.stack=r.stack}this.name=`(FiberFailure) ${this.name}`,(void 0===this.message||0===this.message.length)&&(this.message="An error has occurred")}toJSON(){return{_id:"FiberFailure",cause:this[UM].toJSON()}}toString(){return"(FiberFailure) "+(this.stack??this.message)}[Ve](){return this.toString()}}const Dve=e=>(t,n)=>hH(e)(t,n).then(r=>{switch(r._tag){case He:return r.effect_instruction_i0;case $e:throw(e=>{const t=Error.stackTraceLimit;Error.stackTraceLimit=0;const n=new Cve(e);return Error.stackTraceLimit=t,n})(r.effect_instruction_i0)}}),hH=e=>(t,n)=>new Promise(r=>{const o=(e=>{const t=e;switch(t._op){case"Failure":case"Success":return t;case"Left":return Da(t.left);case"Right":return De(t.right);case"Some":return De(t.value);case"None":return Da(ti())}})(t);o&&r(o);const s=Yy(e)(t);s.addObserver(i=>{r(i)}),void 0!==n?.signal&&(n.signal.aborted?s.unsafeInterruptAsFork(s.id()):n.signal.addEventListener("abort",()=>{s.unsafeInterruptAsFork(s.id())},{once:!0}))});class pH{context;runtimeFlags;fiberRefs;constructor(t,n,r){this.context=t,this.runtimeFlags=n,this.fiberRefs=r}pipe(){return z(this,arguments)}}const Rve=Dve((e=>new pH(e.context,e.runtimeFlags,e.fiberRefs))({context:Zi(),runtimeFlags:oj(1,32,4),fiberRefs:Mue()}));Symbol;Symbol;const Ibe=e=>{let t,n;return"function"==typeof e?t=e:(t=e.try,n=e.catch),qr(t.length>=1?(r,o)=>{try{t(o).then(s=>r(De(s)),s=>r(n?vr(()=>n(s)):ae(new wa(s))))}catch(s){r(n?vr(()=>n(s)):ae(new wa(s)))}}:r=>{try{t().then(o=>r(De(o)),o=>r(n?vr(()=>n(o)):ae(new wa(o))))}catch(o){r(n?vr(()=>n(o)):ae(new wa(o)))}})},Mbe=Rve;let Obe=(()=>{class e{constructor(n){this.http=n,this.genresUrl="api/genres"}getGenres(){const n=Ibe({try:()=>function Rbe(e,t){const n="object"==typeof t;return new Promise((r,o)=>{let i,s=!1;e.subscribe({next:a=>{i=a,s=!0},error:o,complete:()=>{s?r(i):n?r(t.defaultValue):o(new Gf)}})})}(this.http.get(this.genresUrl)),catch:()=>new Error("Can't get genres")});return Mbe(n)}static{this.\u0275fac=function(r){return new(r||e)(j(E1))}}static{this.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),kbe=(()=>{class e{constructor(n){this.loader=n}intercept(n,r){return this.loader.start(),r.handle(n).pipe(Xc(()=>this.loader.complete()))}static{this.\u0275fac=function(r){return new(r||e)(j(Kw))}}static{this.\u0275prov=F({token:e,factory:e.\u0275fac})}}return e})();const Abe=[{path:"",component:lne},{path:"add-beat",component:(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=Es({type:e,selectors:[["app-beat-creator"]],standalone:!0,features:[Bc],decls:2,vars:0,template:function(r,o){1&r&&(Ie(0,"p"),ln(1,"Welcome to the beat creator, Let us make some music ! \u{1f3b6}\u{1f3b6}"),Ee())}})}}return e})()}];let xbe=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=Ss({type:e,bootstrap:[fte]})}static{this.\u0275inj=Oo({providers:[{provide:mw,useClass:Obe},{provide:C1,useClass:kbe,multi:!0},Fee(Abe)],imports:[aQ,jte,tte,ene.forRoot(tne,{dataEncapsulation:!1})]})}}return e})();sQ().bootstrapModule(xbe).catch(e=>console.error(e))}},Eu=>{Eu(Eu.s=486)}]);