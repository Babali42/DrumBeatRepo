"use strict";(self.webpackChunkDrumBeatRepo=self.webpackChunkDrumBeatRepo||[]).push([[792],{928:()=>{let _t=null,_c=1;const Br=Symbol("SIGNAL");function de(e){const t=_t;return _t=e,t}const Tp={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function FT(e){if((!ed(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==_c)){if(!e.producerMustRecompute(e)&&!hb(e))return e.dirty=!1,void(e.lastCleanEpoch=_c);e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=_c}}function Rp(e){return e&&(e.nextProducerIndex=0),de(e)}function hb(e){Ap(e);for(let t=0;t<e.producerNode.length;t++){const n=e.producerNode[t],r=e.producerLastReadVersion[t];if(r!==n.version||(FT(n),r!==n.version))return!0}return!1}function pb(e){if(Ap(e),ed(e))for(let t=0;t<e.producerNode.length;t++)Op(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function Op(e,t){if(function BT(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}(e),1===e.liveConsumerNode.length&&function UT(e){return void 0!==e.producerNode}(e))for(let r=0;r<e.producerNode.length;r++)Op(e.producerNode[r],e.producerIndexOfThis[r]);const n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){const r=e.liveConsumerIndexOfThis[t],o=e.liveConsumerNode[t];Ap(o),o.producerIndexOfThis[r]=t}}function ed(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Ap(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}let HT=function CW(){throw new Error};function et(e){return"function"==typeof e}function _b(e){const n=e(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const yb=_b(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,o)=>`${o+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function xp(e,t){if(e){const n=e.indexOf(t);0<=n&&e.splice(n,1)}}class ln{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(et(r))try{r()}catch(s){t=s instanceof yb?s.errors:[s]}const{_finalizers:o}=this;if(o){this._finalizers=null;for(const s of o)try{XT(s)}catch(i){t=t??[],i instanceof yb?t=[...t,...i.errors]:t.push(i)}}if(t)throw new yb(t)}}add(t){var n;if(t&&t!==this)if(this.closed)XT(t);else{if(t instanceof ln){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}}_hasParent(t){const{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){const{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&xp(n,t)}remove(t){const{_finalizers:n}=this;n&&xp(n,t),t instanceof ln&&t._removeParent(this)}}ln.EMPTY=(()=>{const e=new ln;return e.closed=!0,e})();const WT=ln.EMPTY;function GT(e){return e instanceof ln||e&&"closed"in e&&et(e.remove)&&et(e.add)&&et(e.unsubscribe)}function XT(e){et(e)?e():e.unsubscribe()}const Fi={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Fp={setTimeout(e,t,...n){const{delegate:r}=Fp;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){const{delegate:t}=Fp;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function KT(e){Fp.setTimeout(()=>{const{onUnhandledError:t}=Fi;if(!t)throw e;t(e)})}function vb(){}const RW=bb("C",void 0,void 0);function bb(e,t,n){return{kind:e,value:t,error:n}}let Pi=null;function Pp(e){if(Fi.useDeprecatedSynchronousErrorHandling){const t=!Pi;if(t&&(Pi={errorThrown:!1,error:null}),e(),t){const{errorThrown:n,error:r}=Pi;if(Pi=null,n)throw r}}else e()}class Eb extends ln{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,GT(t)&&t.add(this)):this.destination=PW}static create(t,n,r){return new td(t,n,r)}next(t){this.isStopped?Sb(function AW(e){return bb("N",e,void 0)}(t),this):this._next(t)}error(t){this.isStopped?Sb(function OW(e){return bb("E",void 0,e)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Sb(RW,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const NW=Function.prototype.bind;function Cb(e,t){return NW.call(e,t)}class xW{constructor(t){this.partialObserver=t}next(t){const{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){Lp(r)}}error(t){const{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){Lp(r)}else Lp(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){Lp(n)}}}class td extends Eb{constructor(t,n,r){let o;if(super(),et(t)||!t)o={next:t??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Fi.useDeprecatedNextContext?(s=Object.create(t),s.unsubscribe=()=>this.unsubscribe(),o={next:t.next&&Cb(t.next,s),error:t.error&&Cb(t.error,s),complete:t.complete&&Cb(t.complete,s)}):o=t}this.destination=new xW(o)}}function Lp(e){Fi.useDeprecatedSynchronousErrorHandling?function kW(e){Fi.useDeprecatedSynchronousErrorHandling&&Pi&&(Pi.errorThrown=!0,Pi.error=e)}(e):KT(e)}function Sb(e,t){const{onStoppedNotification:n}=Fi;n&&Fp.setTimeout(()=>n(e,t))}const PW={closed:!0,next:vb,error:function FW(e){throw e},complete:vb},wb="function"==typeof Symbol&&Symbol.observable||"@@observable";function Li(e){return e}let Ge=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,o){const s=function jW(e){return e&&e instanceof Eb||function VW(e){return e&&et(e.next)&&et(e.error)&&et(e.complete)}(e)&&GT(e)}(n)?n:new td(n,r,o);return Pp(()=>{const{operator:i,source:a}=this;s.add(i?i.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=YT(r))((o,s)=>{const i=new td({next:a=>{try{n(a)}catch(c){s(c),i.unsubscribe()}},error:s,complete:o});this.subscribe(i)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[wb](){return this}pipe(...n){return function ZT(e){return 0===e.length?Li:1===e.length?e[0]:function(n){return e.reduce((r,o)=>o(r),n)}}(n)(this)}toPromise(n){return new(n=YT(n))((r,o)=>{let s;this.subscribe(i=>s=i,i=>o(i),()=>r(s))})}}return e.create=t=>new e(t),e})();function YT(e){var t;return null!==(t=e??Fi.Promise)&&void 0!==t?t:Promise}const BW=_b(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Nt=(()=>{class e extends Ge{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new QT(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new BW}next(n){Pp(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){Pp(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Pp(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:o,observers:s}=this;return r||o?WT:(this.currentObservers=null,s.push(n),new ln(()=>{this.currentObservers=null,xp(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:o,isStopped:s}=this;r?n.error(o):s&&n.complete()}asObservable(){const n=new Ge;return n.source=this,n}}return e.create=(t,n)=>new QT(t,n),e})();class QT extends Nt{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,t)}error(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,t)}complete(){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===n||n.call(t)}_subscribe(t){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(t))&&void 0!==r?r:WT}}class xn extends Nt{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){const{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}function xt(e){return t=>{if(function JT(e){return et(e?.lift)}(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Dt(e,t,n,r,o){return new UW(e,t,n,r,o)}class UW extends Eb{constructor(t,n,r,o,s,i){super(t),this.onFinalize=s,this.shouldUnsubscribe=i,this._next=n?function(a){try{n(a)}catch(c){t.error(c)}}:super._next,this._error=o?function(a){try{o(a)}catch(c){t.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function se(e,t){return xt((n,r)=>{let o=0;n.subscribe(Dt(r,s=>{r.next(e.call(t,s,o++))}))})}class M extends Error{constructor(t,n){super(function yc(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}(t,n)),this.code=t}}function Ho(e){return{toString:e}.toString()}const tt=globalThis;function Le(e){for(let t in e)if(e[t]===Le)return t;throw Error("Could not find renamed property on target object.")}function HW(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function Ft(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(Ft).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function Mb(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const $W=Le({__forward_ref__:Le});function Xe(e){return e.__forward_ref__=Xe,e.toString=function(){return Ft(this())},e}function K(e){return jp(e)?e():e}function jp(e){return"function"==typeof e&&e.hasOwnProperty($W)&&e.__forward_ref__===Xe}function V(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function co(e){return{providers:e.providers||[],imports:e.imports||[]}}function Bp(e){return oR(e,Hp)||oR(e,sR)}function oR(e,t){return e.hasOwnProperty(t)?e[t]:null}function Up(e){return e&&(e.hasOwnProperty(Ib)||e.hasOwnProperty(KW))?e[Ib]:null}const Hp=Le({\u0275prov:Le}),Ib=Le({\u0275inj:Le}),sR=Le({ngInjectableDef:Le}),KW=Le({ngInjectorDef:Le});class P{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=V({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function kb(e){return e&&!!e.\u0275providers}const nd=Le({\u0275cmp:Le}),Nb=Le({\u0275dir:Le}),xb=Le({\u0275pipe:Le}),aR=Le({\u0275mod:Le}),$o=Le({\u0275fac:Le}),rd=Le({__NG_ELEMENT_ID__:Le}),cR=Le({__NG_ENV_ID__:Le});function re(e){return"string"==typeof e?e:null==e?"":String(e)}function Fb(e,t){throw new M(-201,!1)}var me=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(me||{});let Pb;function lR(){return Pb}function Fn(e){const t=Pb;return Pb=e,t}function uR(e,t,n){const r=Bp(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&me.Optional?null:void 0!==t?t:void Fb()}const od={},Lb="__NG_DI_FLAG__",$p="ngTempTokenPath",t4=/\n/gm,dR="__source";let Sc;function Ps(e){const t=Sc;return Sc=e,t}function o4(e,t=me.Default){if(void 0===Sc)throw new M(-203,!1);return null===Sc?uR(e,void 0,t):Sc.get(e,t&me.Optional?null:void 0,t)}function j(e,t=me.Default){return(lR()||o4)(K(e),t)}function I(e,t=me.Default){return j(e,qp(t))}function qp(e){return typeof e>"u"||"number"==typeof e?e:(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Vb(e){const t=[];for(let n=0;n<e.length;n++){const r=K(e[n]);if(Array.isArray(r)){if(0===r.length)throw new M(900,!1);let o,s=me.Default;for(let i=0;i<r.length;i++){const a=r[i],c=s4(a);"number"==typeof c?-1===c?o=a.token:s|=c:o=a}t.push(j(o,s))}else t.push(j(r))}return t}function s4(e){return e[Lb]}function Vi(e,t){return e.hasOwnProperty($o)?e[$o]:null}function wc(e,t){e.forEach(n=>Array.isArray(n)?wc(n,t):t(n))}function hR(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function zp(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Gn(e,t,n){let r=Dc(e,t);return r>=0?e[1|r]=n:(r=~r,function pR(e,t,n,r){let o=e.length;if(o==t)e.push(n,r);else if(1===o)e.push(r,e[0]),e[0]=n;else{for(o--,e.push(e[o-1],e[o]);o>t;)e[o]=e[o-2],o--;e[t]=n,e[t+1]=r}}(e,r,t,n)),r}function Hb(e,t){const n=Dc(e,t);if(n>=0)return e[1|n]}function Dc(e,t){return function gR(e,t,n){let r=0,o=e.length>>n;for(;o!==r;){const s=r+(o-r>>1),i=e[s<<n];if(t===i)return s<<n;i>t?o=s:r=s+1}return~(o<<n)}(e,t,1)}const lo={},Se=[],uo=new P(""),mR=new P("",-1),$b=new P("");class Gp{get(t,n=od){if(n===od){const r=new Error(`NullInjectorError: No provider for ${Ft(t)}!`);throw r.name="NullInjectorError",r}return n}}var Xp=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Xp||{}),Ur=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Ur||{}),Ls=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(Ls||{});function f4(e,t,n){let r=e.length;for(;;){const o=e.indexOf(t,n);if(-1===o)return o;if(0===o||e.charCodeAt(o-1)<=32){const s=t.length;if(o+s===r||e.charCodeAt(o+s)<=32)return o}n=o+1}}function qb(e,t,n){let r=0;for(;r<n.length;){const o=n[r];if("number"==typeof o){if(0!==o)break;r++;const s=n[r++],i=n[r++],a=n[r++];e.setAttribute(t,i,a,s)}else{const s=o,i=n[++r];yR(s)?e.setProperty(t,s,i):e.setAttribute(t,s,i),r++}}return r}function _R(e){return 3===e||4===e||6===e}function yR(e){return 64===e.charCodeAt(0)}function id(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const o=t[r];"number"==typeof o?n=o:0===n||vR(e,n,o,null,-1===n||2===n?t[++r]:null)}}return e}function vR(e,t,n,r,o){let s=0,i=e.length;if(-1===t)i=-1;else for(;s<e.length;){const a=e[s++];if("number"==typeof a){if(a===t){i=-1;break}if(a>t){i=s-1;break}}}for(;s<e.length;){const a=e[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==o&&(e[s+1]=o));if(r===e[s+1])return void(e[s+2]=o)}s++,null!==r&&s++,null!==o&&s++}-1!==i&&(e.splice(i,0,t),s=i+1),e.splice(s++,0,n),null!==r&&e.splice(s++,0,r),null!==o&&e.splice(s++,0,o)}const bR="ng-template";function h4(e,t,n,r){let o=0;if(r){for(;o<t.length&&"string"==typeof t[o];o+=2)if("class"===t[o]&&-1!==f4(t[o+1].toLowerCase(),n,0))return!0}else if(zb(e))return!1;if(o=t.indexOf(1,o),o>-1){let s;for(;++o<t.length&&"string"==typeof(s=t[o]);)if(s.toLowerCase()===n)return!0}return!1}function zb(e){return 4===e.type&&e.value!==bR}function p4(e,t,n){return t===(4!==e.type||n?e.value:bR)}function g4(e,t,n){let r=4;const o=e.attrs,s=null!==o?function y4(e){for(let t=0;t<e.length;t++)if(_R(e[t]))return t;return e.length}(o):0;let i=!1;for(let a=0;a<t.length;a++){const c=t[a];if("number"!=typeof c){if(!i)if(4&r){if(r=2|1&r,""!==c&&!p4(e,c,n)||""===c&&1===t.length){if(Hr(r))return!1;i=!0}}else if(8&r){if(null===o||!h4(e,o,c,n)){if(Hr(r))return!1;i=!0}}else{const l=t[++a],u=m4(c,o,zb(e),n);if(-1===u){if(Hr(r))return!1;i=!0;continue}if(""!==l){let d;if(d=u>s?"":o[u+1].toLowerCase(),2&r&&l!==d){if(Hr(r))return!1;i=!0}}}}else{if(!i&&!Hr(r)&&!Hr(c))return!1;if(i&&Hr(c))continue;i=!1,r=c|1&r}}return Hr(r)||i}function Hr(e){return!(1&e)}function m4(e,t,n,r){if(null===t)return-1;let o=0;if(r||!n){let s=!1;for(;o<t.length;){const i=t[o];if(i===e)return o;if(3===i||6===i)s=!0;else{if(1===i||2===i){let a=t[++o];for(;"string"==typeof a;)a=t[++o];continue}if(4===i)break;if(0===i){o+=4;continue}}o+=s?1:2}return-1}return function v4(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function ER(e,t,n=!1){for(let r=0;r<t.length;r++)if(g4(e,t[r],n))return!0;return!1}function CR(e,t){return e?":not("+t.trim()+")":t}function E4(e){let t=e[0],n=1,r=2,o="",s=!1;for(;n<e.length;){let i=e[n];if("string"==typeof i)if(2&r){const a=e[++n];o+="["+i+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?o+="."+i:4&r&&(o+=" "+i);else""!==o&&!Hr(i)&&(t+=CR(s,o),o=""),r=i,s=s||!Hr(r);n++}return""!==o&&(t+=CR(s,o)),t}function qo(e){return Ho(()=>{const t=wR(e),n={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Xp.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Ur.Emulated,styles:e.styles||Se,_:null,schemas:e.schemas||null,tView:null,id:""};DR(n);const r=e.dependencies;return n.directiveDefs=Kp(r,!1),n.pipeDefs=Kp(r,!0),n.id=function I4(e){let t=0;const n=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const o of n)t=Math.imul(31,t)+o.charCodeAt(0)|0;return t+=2147483648,"c"+t}(n),n})}function w4(e){return pe(e)||Pt(e)}function D4(e){return null!==e}function zo(e){return Ho(()=>({type:e.type,bootstrap:e.bootstrap||Se,declarations:e.declarations||Se,imports:e.imports||Se,exports:e.exports||Se,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function SR(e,t){if(null==e)return lo;const n={};for(const r in e)if(e.hasOwnProperty(r)){const o=e[r];let s,i,a=Ls.None;Array.isArray(o)?(a=o[0],s=o[1],i=o[2]??s):(s=o,i=o),t?(n[s]=a!==Ls.None?[r,a]:r,t[s]=i):n[s]=r}return n}function te(e){return Ho(()=>{const t=wR(e);return DR(t),t})}function Ln(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function pe(e){return e[nd]||null}function Pt(e){return e[Nb]||null}function nn(e){return e[xb]||null}function wR(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||lo,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||Se,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:SR(e.inputs,t),outputs:SR(e.outputs),debugInfo:null}}function DR(e){e.features?.forEach(t=>t(e))}function Kp(e,t){if(!e)return null;const n=t?nn:w4;return()=>("function"==typeof e?e():e).map(r=>n(r)).filter(D4)}function T4(...e){return{\u0275providers:Wb(0,e),\u0275fromNgModule:!0}}function Wb(e,...t){const n=[],r=new Set;let o;const s=i=>{n.push(i)};return wc(t,i=>{const a=i;Zp(a,s,[],r)&&(o||=[],o.push(a))}),void 0!==o&&MR(o,s),n}function MR(e,t){for(let n=0;n<e.length;n++){const{ngModule:r,providers:o}=e[n];Gb(o,s=>{t(s,r)})}}function Zp(e,t,n,r){if(!(e=K(e)))return!1;let o=null,s=Up(e);const i=!s&&pe(e);if(s||i){if(i&&!i.standalone)return!1;o=e}else{const c=e.ngModule;if(s=Up(c),!s)return!1;o=c}const a=r.has(o);if(i){if(a)return!1;if(r.add(o),i.dependencies){const c="function"==typeof i.dependencies?i.dependencies():i.dependencies;for(const l of c)Zp(l,t,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let l;r.add(o);try{wc(s.imports,u=>{Zp(u,t,n,r)&&(l||=[],l.push(u))})}finally{}void 0!==l&&MR(l,t)}if(!a){const l=Vi(o)||(()=>new o);t({provide:o,useFactory:l,deps:Se},o),t({provide:$b,useValue:o,multi:!0},o),t({provide:uo,useValue:()=>j(o),multi:!0},o)}const c=s.providers;if(null!=c&&!a){const l=e;Gb(c,u=>{t(u,l)})}}}return o!==e&&void 0!==e.providers}function Gb(e,t){for(let n of e)kb(n)&&(n=n.\u0275providers),Array.isArray(n)?Gb(n,t):t(n)}const R4=Le({provide:String,useValue:Le});function Xb(e){return null!==e&&"object"==typeof e&&R4 in e}function ji(e){return"function"==typeof e}const Kb=new P(""),Yp={},A4={};let Zb;function Qp(){return void 0===Zb&&(Zb=new Gp),Zb}class Vn{}class Mc extends Vn{get destroyed(){return this._destroyed}constructor(t,n,r,o){super(),this.parent=n,this.source=r,this.scopes=o,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Qb(t,i=>this.processProvider(i)),this.records.set(mR,Ic(void 0,this)),o.has("environment")&&this.records.set(Vn,Ic(void 0,this));const s=this.records.get(Kb);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get($b,Se,me.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const t=de(null);try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),de(t)}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const n=Ps(this),r=Fn(void 0);try{return t()}finally{Ps(n),Fn(r)}}get(t,n=od,r=me.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(cR))return t[cR](this);r=qp(r);const s=Ps(this),i=Fn(void 0);try{if(!(r&me.SkipSelf)){let c=this.records.get(t);if(void 0===c){const l=function P4(e){return"function"==typeof e||"object"==typeof e&&e instanceof P}(t)&&Bp(t);c=l&&this.injectableDefInScope(l)?Ic(Yb(t),Yp):null,this.records.set(t,c)}if(null!=c)return this.hydrate(t,c)}return(r&me.Self?Qp():this.parent).get(t,n=r&me.Optional&&n===od?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[$p]=a[$p]||[]).unshift(Ft(t)),s)throw a;return function i4(e,t,n,r){const o=e[$p];throw t[dR]&&o.unshift(t[dR]),e.message=function a4(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let o=Ft(t);if(Array.isArray(t))o=t.map(Ft).join(" -> ");else if("object"==typeof t){let s=[];for(let i in t)if(t.hasOwnProperty(i)){let a=t[i];s.push(i+":"+("string"==typeof a?JSON.stringify(a):Ft(a)))}o=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${o}]: ${e.replace(t4,"\n  ")}`}("\n"+e.message,o,n,r),e.ngTokenPath=o,e[$p]=null,e}(a,t,"R3InjectorError",this.source)}throw a}finally{Fn(i),Ps(s)}}resolveInjectorInitializers(){const t=de(null),n=Ps(this),r=Fn(void 0);try{const s=this.get(uo,Se,me.Self);for(const i of s)i()}finally{Ps(n),Fn(r),de(t)}}toString(){const t=[],n=this.records;for(const r of n.keys())t.push(Ft(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new M(205,!1)}processProvider(t){let n=ji(t=K(t))?t:K(t&&t.provide);const r=function N4(e){return Xb(e)?Ic(void 0,e.useValue):Ic(function RR(e,t,n){let r;if(ji(e)){const o=K(e);return Vi(o)||Yb(o)}if(Xb(e))r=()=>K(e.useValue);else if(function TR(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...Vb(e.deps||[]));else if(function IR(e){return!(!e||!e.useExisting)}(e))r=()=>j(K(e.useExisting));else{const o=K(e&&(e.useClass||e.provide));if(!function x4(e){return!!e.deps}(e))return Vi(o)||Yb(o);r=()=>new o(...Vb(e.deps))}return r}(e),Yp)}(t);if(!ji(t)&&!0===t.multi){let o=this.records.get(n);o||(o=Ic(void 0,Yp,!0),o.factory=()=>Vb(o.multi),this.records.set(n,o)),n=t,o.multi.push(t)}this.records.set(n,r)}hydrate(t,n){const r=de(null);try{return n.value===Yp&&(n.value=A4,n.value=n.factory()),"object"==typeof n.value&&n.value&&function F4(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{de(r)}}injectableDefInScope(t){if(!t.providedIn)return!1;const n=K(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){const n=this._onDestroyHooks.indexOf(t);-1!==n&&this._onDestroyHooks.splice(n,1)}}function Yb(e){const t=Bp(e),n=null!==t?t.factory:Vi(e);if(null!==n)return n;if(e instanceof P)throw new M(204,!1);if(e instanceof Function)return function k4(e){if(e.length>0)throw new M(204,!1);const n=function XW(e){return e&&(e[Hp]||e[sR])||null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new M(204,!1)}function Ic(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function Qb(e,t){for(const n of e)Array.isArray(n)?Qb(n,t):n&&kb(n)?Qb(n.\u0275providers,t):t(n)}const ot=0,x=1,q=2,Mt=3,$r=4,rn=5,En=6,Rc=7,Ke=8,It=9,fo=10,Z=11,ld=12,kR=13,Oc=14,st=15,Bi=16,Ac=17,Go=18,kc=19,NR=20,js=21,eg=22,hr=23,U=25,tE=1,ho=7,Nc=9,yt=10;var ng=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(ng||{});function Vt(e){return Array.isArray(e)&&"object"==typeof e[tE]}function dn(e){return Array.isArray(e)&&!0===e[tE]}function nE(e){return!!(4&e.flags)}function Ui(e){return e.componentOffset>-1}function rg(e){return!(1&~e.flags)}function qr(e){return!!e.template}function dd(e){return!!(512&e[q])}class X4{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function VR(e,t,n,r){null!==t?t.applyValueToInputSignal(t,r):e[n]=r}function pr(){return jR}function jR(e){return e.type.prototype.ngOnChanges&&(e.setInput=Z4),K4}function K4(){const e=UR(this),t=e?.current;if(t){const n=e.previous;if(n===lo)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function Z4(e,t,n,r,o){const s=this.declaredInputs[r],i=UR(e)||function Y4(e,t){return e[BR]=t}(e,{previous:lo,current:null}),a=i.current||(i.current={}),c=i.previous,l=c[s];a[s]=new X4(l&&l.currentValue,n,c===lo),VR(e,t,o,n)}pr.ngInherit=!0;const BR="__ngSimpleChanges__";function UR(e){return e[BR]||null}const po=function(e,t,n){};function we(e){for(;Array.isArray(e);)e=e[ot];return e}function Cn(e,t){return we(t[e.index])}function hd(e,t){return e.data[t]}function Xn(e,t){const n=t[e];return Vt(n)?n:n[ot]}function aE(e){return!(128&~e[q])}function gr(e,t){return null==t?null:e[t]}function qR(e){e[Ac]=0}function zR(e){1024&e[q]||(e[q]|=1024,aE(e)&&sg(e))}function og(e){return!!(9216&e[q]||e[hr]?.dirty)}function cE(e){e[fo].changeDetectionScheduler?.notify(8),64&e[q]&&(e[q]|=1024),og(e)&&sg(e)}function sg(e){e[fo].changeDetectionScheduler?.notify(0);let t=Xo(e);for(;null!==t&&!(8192&t[q])&&(t[q]|=8192,aE(t));)t=Xo(t)}function ig(e,t){if(!(256&~e[q]))throw new M(911,!1);null===e[js]&&(e[js]=[]),e[js].push(t)}function Xo(e){const t=e[Mt];return dn(t)?t[Mt]:t}const Y={lFrame:oO(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let GR=!1;function XR(){return Y.bindingsEnabled}function w(){return Y.lFrame.lView}function fe(){return Y.lFrame.tView}function Ve(){let e=KR();for(;null!==e&&64===e.type;)e=e.parent;return e}function KR(){return Y.lFrame.currentTNode}function zr(e,t){const n=Y.lFrame;n.currentTNode=e,n.isParent=t}function dE(){return Y.lFrame.isParent}function fE(){Y.lFrame.isParent=!1}function QR(){return GR}function JR(e){GR=e}function Wr(){return Y.lFrame.bindingIndex++}function hG(e,t){const n=Y.lFrame;n.bindingIndex=n.bindingRootIndex=e,hE(t)}function hE(e){Y.lFrame.currentDirectiveIndex=e}function cg(e){Y.lFrame.currentQueryIndex=e}function gG(e){const t=e[x];return 2===t.type?t.declTNode:1===t.type?e[rn]:null}function nO(e,t,n){if(n&me.SkipSelf){let o=t,s=e;for(;!(o=o.parent,null!==o||n&me.Host||(o=gG(s),null===o||(s=s[Oc],10&o.type))););if(null===o)return!1;t=o,e=s}const r=Y.lFrame=rO();return r.currentTNode=t,r.lView=e,!0}function mE(e){const t=rO(),n=e[x];Y.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function rO(){const e=Y.lFrame,t=null===e?null:e.child;return null===t?oO(e):t}function oO(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function sO(){const e=Y.lFrame;return Y.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const iO=sO;function _E(){const e=sO();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function on(){return Y.lFrame.selectedIndex}function qi(e){Y.lFrame.selectedIndex=e}function Ze(){const e=Y.lFrame;return hd(e.tView,e.selectedIndex)}let cO=!0;function gd(){return cO}function go(e){cO=e}function lg(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const s=e.data[n].type.prototype,{ngAfterContentInit:i,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=s;i&&(e.contentHooks??=[]).push(-n,i),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),c&&(e.viewHooks??=[]).push(-n,c),l&&((e.viewHooks??=[]).push(n,l),(e.viewCheckHooks??=[]).push(n,l)),null!=u&&(e.destroyHooks??=[]).push(n,u)}}function ug(e,t,n){lO(e,t,3,n)}function dg(e,t,n,r){(3&e[q])===n&&lO(e,t,n,r)}function yE(e,t){let n=e[q];(3&n)===t&&(n&=16383,n+=1,e[q]=n)}function lO(e,t,n,r){const s=r??-1,i=t.length-1;let a=0;for(let c=void 0!==r?65535&e[Ac]:0;c<i;c++)if("number"==typeof t[c+1]){if(a=t[c],null!=r&&a>=r)break}else t[c]<0&&(e[Ac]+=65536),(a<s||-1==s)&&(CG(e,n,t,c),e[Ac]=(4294901760&e[Ac])+c+2),c++}function uO(e,t){po(4,e,t);const n=de(null);try{t.call(e)}finally{de(n),po(5,e,t)}}function CG(e,t,n,r){const o=n[r]<0,s=n[r+1],a=e[o?-n[r]:n[r]];o?e[q]>>14<e[Ac]>>16&&(3&e[q])===t&&(e[q]+=16384,uO(a,s)):uO(a,s)}const xc=-1;class md{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}const bE={};class zi{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=qp(r);const o=this.injector.get(t,bE,r);return o!==bE||n===bE?o:this.parentInjector.get(t,n,r)}}function EE(e){return e!==xc}function _d(e){return 32767&e}function yd(e,t){let n=function IG(e){return e>>16}(e),r=t;for(;n>0;)r=r[Oc],n--;return r}let CE=!0;function fg(e){const t=CE;return CE=e,t}const fO=255,hO=5;let RG=0;const mo={};function hg(e,t){const n=pO(e,t);if(-1!==n)return n;const r=t[x];r.firstCreatePass&&(e.injectorIndex=t.length,SE(r.data,e),SE(t,null),SE(r.blueprint,null));const o=pg(e,t),s=e.injectorIndex;if(EE(o)){const i=_d(o),a=yd(o,t),c=a[x].data;for(let l=0;l<8;l++)t[s+l]=a[i+l]|c[i+l]}return t[s+8]=o,s}function SE(e,t){e.push(0,0,0,0,0,0,0,0,t)}function pO(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function pg(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,o=t;for(;null!==o;){if(r=EO(o),null===r)return xc;if(n++,o=o[Oc],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return xc}function wE(e,t,n){!function OG(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(rd)&&(r=n[rd]),null==r&&(r=n[rd]=RG++);const o=r&fO;t.data[e+(o>>hO)]|=1<<o}(e,t,n)}function gO(e,t,n){if(n&me.Optional||void 0!==e)return e;Fb()}function mO(e,t,n,r){if(n&me.Optional&&void 0===r&&(r=null),!(n&(me.Self|me.Host))){const o=e[It],s=Fn(void 0);try{return o?o.get(t,r,n&me.Optional):uR(t,r,n&me.Optional)}finally{Fn(s)}}return gO(r,0,n)}function _O(e,t,n,r=me.Default,o){if(null!==e){if(2048&t[q]&&!(r&me.Self)){const i=function FG(e,t,n,r,o){let s=e,i=t;for(;null!==s&&null!==i&&2048&i[q]&&!(512&i[q]);){const a=yO(s,i,n,r|me.Self,mo);if(a!==mo)return a;let c=s.parent;if(!c){const l=i[NR];if(l){const u=l.get(n,mo,r);if(u!==mo)return u}c=EO(i),i=i[Oc]}s=c}return o}(e,t,n,r,mo);if(i!==mo)return i}const s=yO(e,t,n,r,mo);if(s!==mo)return s}return mO(t,n,r,o)}function yO(e,t,n,r,o){const s=function NG(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(rd)?e[rd]:void 0;return"number"==typeof t?t>=0?t&fO:xG:t}(n);if("function"==typeof s){if(!nO(t,e,r))return r&me.Host?gO(o,0,r):mO(t,n,r,o);try{let i;if(i=s(r),null!=i||r&me.Optional)return i;Fb()}finally{iO()}}else if("number"==typeof s){let i=null,a=pO(e,t),c=xc,l=r&me.Host?t[st][rn]:null;for((-1===a||r&me.SkipSelf)&&(c=-1===a?pg(e,t):t[a+8],c!==xc&&bO(r,!1)?(i=t[x],a=_d(c),t=yd(c,t)):a=-1);-1!==a;){const u=t[x];if(vO(s,a,u.data)){const d=kG(a,t,n,i,r,l);if(d!==mo)return d}c=t[a+8],c!==xc&&bO(r,t[x].data[a+8]===l)&&vO(s,a,t)?(i=u,a=_d(c),t=yd(c,t)):a=-1}}return o}function kG(e,t,n,r,o,s){const i=t[x],a=i.data[e+8],u=function gg(e,t,n,r,o){const s=e.providerIndexes,i=t.data,a=1048575&s,c=e.directiveStart,u=s>>20,f=o?a+u:e.directiveEnd;for(let h=r?a:a+u;h<f;h++){const g=i[h];if(h<c&&n===g||h>=c&&g.type===n)return h}if(o){const h=i[c];if(h&&qr(h)&&h.type===n)return c}return null}(a,i,n,null==r?Ui(a)&&CE:r!=i&&!!(3&a.type),o&me.Host&&s===a);return null!==u?Wi(t,i,u,a):mo}function Wi(e,t,n,r){let o=e[n];const s=t.data;if(function SG(e){return e instanceof md}(o)){const i=o;i.resolving&&function QW(e,t){throw t&&t.join(" > "),new M(-200,e)}(function Ie(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():re(e)}(s[n]));const a=fg(i.canSeeViewProviders);i.resolving=!0;const l=i.injectImpl?Fn(i.injectImpl):null;nO(e,r,me.Default);try{o=e[n]=i.factory(void 0,s,e,r),t.firstCreatePass&&n>=r.directiveStart&&function EG(e,t,n){const{ngOnChanges:r,ngOnInit:o,ngDoCheck:s}=t.type.prototype;if(r){const i=jR(t);(n.preOrderHooks??=[]).push(e,i),(n.preOrderCheckHooks??=[]).push(e,i)}o&&(n.preOrderHooks??=[]).push(0-e,o),s&&((n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s))}(n,s[n],t)}finally{null!==l&&Fn(l),fg(a),i.resolving=!1,iO()}}return o}function vO(e,t,n){return!!(n[t+(e>>hO)]&1<<e)}function bO(e,t){return!(e&me.Self||e&me.Host&&t)}class jt{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return _O(this._tNode,this._lView,t,qp(r),n)}}function xG(){return new jt(Ve(),w())}function DE(e){return jp(e)?()=>{const t=DE(K(e));return t&&t()}:Vi(e)}function EO(e){const t=e[x],n=t.type;return 2===n?t.declTNode:1===n?e[rn]:null}function MO(e,t=null,n=null,r){const o=IO(e,t,n,r);return o.resolveInjectorInitializers(),o}function IO(e,t=null,n=null,r,o=new Set){const s=[n||Se,T4(e)];return r=r||("object"==typeof e?void 0:Ft(e)),new Mc(s,t||Qp(),r||null,o)}class fn{static{this.THROW_IF_NOT_FOUND=od}static{this.NULL=new Gp}static create(t,n){if(Array.isArray(t))return MO({name:""},n,t,"");{const r=t.name??"";return MO({name:r},t.parent,t.providers,r)}}static{this.\u0275prov=V({token:fn,providedIn:"any",factory:()=>j(mR)})}static{this.__NG_ELEMENT_ID__=-1}}new P("").__NG_ELEMENT_ID__=e=>{const t=Ve();if(null===t)throw new M(204,!1);if(2&t.type)return t.value;if(e&me.Optional)return null;throw new M(204,!1)};function IE(e){return e.ngOriginalError}const RO=!0;let bd=(()=>{class e{static{this.__NG_ELEMENT_ID__=zG}static{this.__NG_ENV_ID__=n=>n}}return e})();class qG extends bd{constructor(t){super(),this._lView=t}onDestroy(t){return ig(this._lView,t),()=>function lE(e,t){if(null===e[js])return;const n=e[js].indexOf(t);-1!==n&&e[js].splice(n,1)}(this._lView,t)}}function zG(){return new qG(w())}let Yo=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new xn(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=V({token:e,providedIn:"root",factory:()=>new e})}}return e})();const it=class WG extends Nt{constructor(t=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=t,function OR(){return void 0!==lR()||null!=function r4(){return Sc}()}()&&(this.destroyRef=I(bd,{optional:!0})??void 0,this.pendingTasks=I(Yo,{optional:!0})??void 0)}emit(t){const n=de(null);try{super.next(t)}finally{de(n)}}subscribe(t,n,r){let o=t,s=n||(()=>null),i=r;if(t&&"object"==typeof t){const c=t;o=c.next?.bind(c),s=c.error?.bind(c),i=c.complete?.bind(c)}this.__isAsync&&(s=this.wrapInTimeout(s),o&&(o=this.wrapInTimeout(o)),i&&(i=this.wrapInTimeout(i)));const a=super.subscribe({next:o,error:s,complete:i});return t instanceof ln&&t.add(a),a}wrapInTimeout(t){return n=>{const r=this.pendingTasks?.add();setTimeout(()=>{t(n),void 0!==r&&this.pendingTasks?.remove(r)})}}};function _g(...e){}function OO(e){let t,n;function r(){e=_g;try{void 0!==n&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(n),void 0!==t&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),r()}),"function"==typeof requestAnimationFrame&&(n=requestAnimationFrame(()=>{e(),r()})),()=>r()}function AO(e){return queueMicrotask(()=>e()),()=>{e=_g}}const TE="isAngularZone",yg=TE+"_ID";let GG=0;class Te{constructor(t){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new it(!1),this.onMicrotaskEmpty=new it(!1),this.onStable=new it(!1),this.onError=new it(!1);const{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:o=!1,scheduleInRootZone:s=RO}=t;if(typeof Zone>"u")throw new M(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!o&&r,i.shouldCoalesceRunChangeDetection=o,i.callbackScheduled=!1,i.scheduleInRootZone=s,function ZG(e){const t=()=>{!function KG(e){function t(){OO(()=>{e.callbackScheduled=!1,OE(e),e.isCheckStableRunning=!0,RE(e),e.isCheckStableRunning=!1})}e.isCheckStableRunning||e.callbackScheduled||(e.callbackScheduled=!0,e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),OE(e))}(e)},n=GG++;e._inner=e._inner.fork({name:"angular",properties:{[TE]:!0,[yg]:n,[yg+n]:!0},onInvokeTask:(r,o,s,i,a,c)=>{if(function YG(e){return xO(e,"__ignore_ng_zone__")}(c))return r.invokeTask(s,i,a,c);try{return kO(e),r.invokeTask(s,i,a,c)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===i.type||e.shouldCoalesceRunChangeDetection)&&t(),NO(e)}},onInvoke:(r,o,s,i,a,c,l)=>{try{return kO(e),r.invoke(s,i,a,c,l)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!function QG(e){return xO(e,"__scheduler_tick__")}(c)&&t(),NO(e)}},onHasTask:(r,o,s,i)=>{r.hasTask(s,i),o===s&&("microTask"==i.change?(e._hasPendingMicrotasks=i.microTask,OE(e),RE(e)):"macroTask"==i.change&&(e.hasPendingMacrotasks=i.macroTask))},onHandleError:(r,o,s,i)=>(r.handleError(s,i),e.runOutsideAngular(()=>e.onError.emit(i)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(TE)}static assertInAngularZone(){if(!Te.isInAngularZone())throw new M(909,!1)}static assertNotInAngularZone(){if(Te.isInAngularZone())throw new M(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,o){const s=this._inner,i=s.scheduleEventTask("NgZoneEvent: "+o,t,XG,_g,_g);try{return s.runTask(i,n,r)}finally{s.cancelTask(i)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const XG={};function RE(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function OE(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&!0===e.callbackScheduled)}function kO(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function NO(e){e._nesting--,RE(e)}class AE{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new it,this.onMicrotaskEmpty=new it,this.onStable=new it,this.onError=new it}run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,o){return t.apply(n,r)}}function xO(e,t){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0]?.data?.[t]}class _o{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&IE(t);for(;n&&IE(n);)n=IE(n);return n||null}}const e8=new P("",{providedIn:"root",factory:()=>{const e=I(Te),t=I(_o);return n=>e.runOutsideAngular(()=>t.handleError(n))}});function t8(){return Lc(Ve(),w())}function Lc(e,t){return new Kn(Cn(e,t))}let Kn=(()=>{class e{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=t8}}return e})();function Cd(e){return!(128&~e.flags)}const xE=new Map;let o8=0;function FE(e){xE.delete(e[kc])}const vg="__ngContext__";function hn(e,t){Vt(t)?(e[vg]=t[kc],function i8(e){xE.set(e[kc],e)}(t)):e[vg]=t}function WO(e){return XO(e[ld])}function GO(e){return XO(e[$r])}function XO(e){for(;null!==e&&!dn(e);)e=e[$r];return e}let LE;const jc=new P("",{providedIn:"root",factory:()=>S8}),S8="ng",nA=new P(""),yo=new P("",{providedIn:"platform",factory:()=>"unknown"}),VE=new P("",{providedIn:"root",factory:()=>function Bs(){if(void 0!==LE)return LE;if(typeof document<"u")return document;throw new M(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let rA=()=>null;function zE(e,t,n=!1){return rA(e,t,n)}const dA=new P("",{providedIn:"root",factory:()=>!1});class _A{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}const cX=/^>|^->|<!--|-->|--!>|<!-$/g,lX=/(<|>)/g,uX="\u200b$1\u200b";function xA(e){return e.ownerDocument.defaultView}var Hs=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Hs||{});let oC;function sC(e,t){return oC(e,t)}function zc(e,t,n,r,o){if(null!=r){let s,i=!1;dn(r)?s=r:Vt(r)&&(i=!0,r=r[ot]);const a=we(r);0===e&&null!==n?null==o?qA(t,n,a):Xi(t,n,a,o||null,!0):1===e&&null!==n?Xi(t,n,a,o||null,!0):2===e?function Nd(e,t,n){e.removeChild(null,t,n)}(t,a,i):3===e&&t.destroyNode(a),null!=s&&function TX(e,t,n,r,o){const s=n[ho];s!==we(n)&&zc(t,e,r,s,o);for(let a=yt;a<n.length;a++){const c=n[a];Fg(c[x],c,e,t,r,s)}}(t,e,s,n,o)}}function aC(e,t){return e.createComment(function OA(e){return e.replace(cX,t=>t.replace(lX,uX))}(t))}function kg(e,t,n){return e.createElement(t,n)}function UA(e,t){t[fo].changeDetectionScheduler?.notify(9),Fg(e,t,t[Z],2,null,null)}function HA(e,t){const n=e[Nc],r=t[Mt];(Vt(r)||t[st]!==r[Mt][st])&&(e[q]|=ng.HasTransplantedViews),null===n?e[Nc]=[t]:n.push(t)}function cC(e,t){const n=e[Nc],r=n.indexOf(t);n.splice(r,1)}function kd(e,t){if(e.length<=yt)return;const n=yt+t,r=e[n];if(r){const o=r[Bi];null!==o&&o!==e&&cC(o,r),t>0&&(e[n-1][$r]=r[$r]);const s=zp(e,yt+t);!function bX(e,t){UA(e,t),t[ot]=null,t[rn]=null}(r[x],r);const i=s[Go];null!==i&&i.detachView(s[x]),r[Mt]=null,r[$r]=null,r[q]&=-129}return r}function Ng(e,t){if(!(256&t[q])){const n=t[Z];n.destroyNode&&Fg(e,t,n,3,null,null),function CX(e){let t=e[ld];if(!t)return lC(e[x],e);for(;t;){let n=null;if(Vt(t))n=t[ld];else{const r=t[yt];r&&(n=r)}if(!n){for(;t&&!t[$r]&&t!==e;)Vt(t)&&lC(t[x],t),t=t[Mt];null===t&&(t=e),Vt(t)&&lC(t[x],t),n=t&&t[$r]}t=n}}(t)}}function lC(e,t){if(256&t[q])return;const n=de(null);try{t[q]&=-129,t[q]|=256,t[hr]&&pb(t[hr]),function DX(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const o=t[n[r]];if(!(o instanceof md)){const s=n[r+1];if(Array.isArray(s))for(let i=0;i<s.length;i+=2){const a=o[s[i]],c=s[i+1];po(4,a,c);try{c.call(a)}finally{po(5,a,c)}}else{po(4,o,s);try{s.call(o)}finally{po(5,o,s)}}}}}(e,t),function wX(e,t){const n=e.cleanup,r=t[Rc];if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const i=n[s+3];i>=0?r[i]():r[-i].unsubscribe(),s+=2}else n[s].call(r[n[s+1]]);null!==r&&(t[Rc]=null);const o=t[js];if(null!==o){t[js]=null;for(let s=0;s<o.length;s++)(0,o[s])()}}(e,t),1===t[x].type&&t[Z].destroy();const r=t[Bi];if(null!==r&&dn(t[Mt])){r!==t[Mt]&&cC(r,t);const o=t[Go];null!==o&&o.detachView(e)}FE(t)}finally{de(n)}}function uC(e,t,n){return function $A(e,t,n){let r=t;for(;null!==r&&168&r.type;)r=(t=r).parent;if(null===r)return n[ot];{const{componentOffset:o}=r;if(o>-1){const{encapsulation:s}=e.data[r.directiveStart+o];if(s===Ur.None||s===Ur.Emulated)return null}return Cn(r,n)}}(e,t.parent,n)}function Xi(e,t,n,r,o){e.insertBefore(t,n,r,o)}function qA(e,t,n){e.appendChild(t,n)}function zA(e,t,n,r,o){null!==r?Xi(e,t,n,r,o):qA(e,t,n)}function dC(e,t){return e.parentNode(t)}let fC,XA=function GA(e,t,n){return 40&e.type?Cn(e,n):null};function xg(e,t,n,r){const o=uC(e,r,t),s=t[Z],a=function WA(e,t,n){return XA(e,t,n)}(r.parent||t[rn],r,t);if(null!=o)if(Array.isArray(n))for(let c=0;c<n.length;c++)zA(s,o,n[c],a,!1);else zA(s,o,n,a,!1);void 0!==fC&&fC(s,r,t,n,o)}function Ki(e,t){if(null!==t){const n=t.type;if(3&n)return Cn(t,e);if(4&n)return hC(-1,e[t.index]);if(8&n){const r=t.child;if(null!==r)return Ki(e,r);{const o=e[t.index];return dn(o)?hC(-1,o):we(o)}}if(128&n)return Ki(e,t.next);if(32&n)return sC(t,e)()||we(e[t.index]);{const r=ZA(e,t);return null!==r?Array.isArray(r)?r[0]:Ki(Xo(e[st]),r):Ki(e,t.next)}}return null}function ZA(e,t){return null!==t?e[st][rn].projection[t.projection]:null}function hC(e,t){const n=yt+e+1;if(n<t.length){const r=t[n],o=r[x].firstChild;if(null!==o)return Ki(r,o)}return t[ho]}function pC(e,t,n,r,o,s,i){for(;null!=n;){if(128===n.type){n=n.next;continue}const a=r[n.index],c=n.type;if(i&&0===t&&(a&&hn(we(a),r),n.flags|=2),32&~n.flags)if(8&c)pC(e,t,n.child,r,o,s,!1),zc(t,e,o,a,s);else if(32&c){const l=sC(n,r);let u;for(;u=l();)zc(t,e,o,u,s);zc(t,e,o,a,s)}else 16&c?QA(e,t,r,n,o,s):zc(t,e,o,a,s);n=i?n.projectionNext:n.next}}function Fg(e,t,n,r,o,s){pC(n,r,e.firstChild,t,o,s,!1)}function QA(e,t,n,r,o,s){const i=n[st],c=i[rn].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++)zc(t,e,o,c[l],s);else{let l=c;const u=i[Mt];Cd(r)&&(l.flags|=128),pC(e,t,l,u,o,s,!0)}}function JA(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function ek(e,t,n){const{mergedAttrs:r,classes:o,styles:s}=n;null!==r&&qb(e,t,r),null!==o&&JA(e,t,o),null!==s&&function OX(e,t,n){e.setAttribute(t,"style",n)}(e,t,s)}const oe={};function nt(e=1){tk(fe(),w(),on()+e,!1)}function tk(e,t,n,r){if(!r)if(3&~t[q]){const s=e.preOrderHooks;null!==s&&dg(t,s,0,n)}else{const s=e.preOrderCheckHooks;null!==s&&ug(t,s,n)}qi(n)}function k(e,t=me.Default){const n=w();return null===n?j(e,t):_O(Ve(),n,K(e),t)}function nk(e,t,n,r,o,s){const i=de(null);try{let a=null;o&Ls.SignalBased&&(a=t[r][Br]),null!==a&&void 0!==a.transformFn&&(s=a.transformFn(s)),o&Ls.HasDecoratorInputTransform&&(s=e.inputTransforms[r].call(t,s)),null!==e.setInput?e.setInput(t,a,s,n,r):VR(t,a,r,s)}finally{de(i)}}function Pg(e,t,n,r,o,s,i,a,c,l,u){const d=t.blueprint.slice();return d[ot]=o,d[q]=204|r,(null!==l||e&&2048&e[q])&&(d[q]|=2048),qR(d),d[Mt]=d[Oc]=e,d[Ke]=n,d[fo]=i||e&&e[fo],d[Z]=a||e&&e[Z],d[It]=c||e&&e[It]||null,d[rn]=s,d[kc]=function s8(){return o8++}(),d[En]=u,d[NR]=l,d[st]=2==t.type?e[st]:d,d}function Zi(e,t,n,r,o){let s=e.data[t];if(null===s)s=function gC(e,t,n,r,o){const s=KR(),i=dE(),c=e.data[t]=function jX(e,t,n,r,o,s){let i=t?t.injectorIndex:-1,a=0;return function $i(){return null!==Y.skipHydrationRootTNode}()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:i,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:o,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,i?s:s&&s.parent,n,t,r,o);return null===e.firstChild&&(e.firstChild=c),null!==s&&(i?null==s.child&&null!==c.parent&&(s.child=c):null===s.next&&(s.next=c,c.prev=s)),c}(e,t,n,r,o),function fG(){return Y.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=r,s.attrs=o;const i=function pd(){const e=Y.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();s.injectorIndex=null===i?-1:i.injectorIndex}return zr(s,!0),s}function xd(e,t,n,r){if(0===n)return-1;const o=t.length;for(let s=0;s<n;s++)t.push(r),e.blueprint.push(r),e.data.push(null);return o}function rk(e,t,n,r,o){const s=on(),i=2&r;try{qi(-1),i&&t.length>U&&tk(e,t,U,!1),po(i?2:0,o),n(r,o)}finally{qi(s),po(i?3:1,o)}}function mC(e,t,n){if(nE(t)){const r=de(null);try{const s=t.directiveEnd;for(let i=t.directiveStart;i<s;i++){const a=e.data[i];a.contentQueries&&a.contentQueries(1,n[i],i)}}finally{de(r)}}}function _C(e,t,n){XR()&&(function WX(e,t,n,r){const o=n.directiveStart,s=n.directiveEnd;Ui(n)&&function JX(e,t,n){const r=Cn(t,e),o=ok(n);let i=16;n.signals?i=4096:n.onPush&&(i=64);const a=Lg(e,Pg(e,o,null,i,r,t,null,e[fo].rendererFactory.createRenderer(r,n),null,null,null));e[t.index]=a}(t,n,e.data[o+n.componentOffset]),e.firstCreatePass||hg(n,t),hn(r,t);const i=n.initialInputs;for(let a=o;a<s;a++){const c=e.data[a],l=Wi(t,e,a,n);hn(l,t),null!==i&&e5(0,a-o,l,c,0,i),qr(c)&&(Xn(n.index,t)[Ke]=Wi(t,e,a,n))}}(e,t,n,Cn(n,t)),!(64&~n.flags)&&lk(e,t,n))}function yC(e,t,n=Cn){const r=t.localNames;if(null!==r){let o=t.index+1;for(let s=0;s<r.length;s+=2){const i=r[s+1],a=-1===i?n(t,e):e[i];e[o++]=a}}}function ok(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=vC(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function vC(e,t,n,r,o,s,i,a,c,l,u){const d=U+r,f=d+o,h=function NX(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:oe);return n}(d,f),g="function"==typeof l?l():l;return h[x]={type:e,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:t,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof i?i():i,firstChild:null,schemas:c,consts:g,incompleteFirstPass:!1,ssrId:u}}let sk=()=>null;function ik(e,t,n,r,o){for(let s in t){if(!t.hasOwnProperty(s))continue;const i=t[s];if(void 0===i)continue;r??={};let a,c=Ls.None;Array.isArray(i)?(a=i[0],c=i[1]):a=i;let l=s;if(null!==o){if(!o.hasOwnProperty(s))continue;l=o[s]}0===e?ak(r,n,l,a,c):ak(r,n,l,a)}return r}function ak(e,t,n,r,o){let s;e.hasOwnProperty(n)?(s=e[n]).push(t,r):s=e[n]=[t,r],void 0!==o&&s.push(o)}function bC(e,t,n,r){if(XR()){const o=null===r?null:{"":-1},s=function XX(e,t){const n=e.directiveRegistry;let r=null,o=null;if(n)for(let s=0;s<n.length;s++){const i=n[s];if(ER(t,i.selectors,!1))if(r||(r=[]),qr(i))if(null!==i.findHostDirectiveDefs){const a=[];o=o||new Map,i.findHostDirectiveDefs(i,a,o),r.unshift(...a,i),EC(e,t,a.length)}else r.unshift(i),EC(e,t,0);else o=o||new Map,i.findHostDirectiveDefs?.(i,r,o),r.push(i)}return null===r?null:[r,o]}(e,n);let i,a;null===s?i=a=null:[i,a]=s,null!==i&&ck(e,t,n,i,o,a),o&&function KX(e,t,n){if(t){const r=e.localNames=[];for(let o=0;o<t.length;o+=2){const s=n[t[o+1]];if(null==s)throw new M(-301,!1);r.push(t[o],s)}}}(n,r,o)}n.mergedAttrs=id(n.mergedAttrs,n.attrs)}function ck(e,t,n,r,o,s){for(let l=0;l<r.length;l++)wE(hg(n,t),e,r[l].type);!function YX(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,r.length);for(let l=0;l<r.length;l++){const u=r[l];u.providersResolver&&u.providersResolver(u)}let i=!1,a=!1,c=xd(e,t,r.length,null);for(let l=0;l<r.length;l++){const u=r[l];n.mergedAttrs=id(n.mergedAttrs,u.hostAttrs),QX(e,n,t,c,u),ZX(c,u,o),null!==u.contentQueries&&(n.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(n.flags|=64);const d=u.type.prototype;!i&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),i=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}!function BX(e,t,n){const o=t.directiveEnd,s=e.data,i=t.attrs,a=[];let c=null,l=null;for(let u=t.directiveStart;u<o;u++){const d=s[u],f=n?n.get(d):null,g=f?f.outputs:null;c=ik(0,d.inputs,u,c,f?f.inputs:null),l=ik(1,d.outputs,u,l,g);const m=null===c||null===i||zb(t)?null:t5(c,u,i);a.push(m)}null!==c&&(c.hasOwnProperty("class")&&(t.flags|=8),c.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=c,t.outputs=l}(e,n,s)}function lk(e,t,n){const r=n.directiveStart,o=n.directiveEnd,s=n.index,i=function pG(){return Y.lFrame.currentDirectiveIndex}();try{qi(s);for(let a=r;a<o;a++){const c=e.data[a],l=t[a];hE(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&GX(c,l)}}finally{qi(-1),hE(i)}}function GX(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function EC(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function ZX(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;qr(t)&&(n[""]=e)}}function QX(e,t,n,r,o){e.data[r]=o;const s=o.factory||(o.factory=Vi(o.type)),i=new md(s,qr(o),k);e.blueprint[r]=i,n[r]=i,function qX(e,t,n,r,o){const s=o.hostBindings;if(s){let i=e.hostBindingOpCodes;null===i&&(i=e.hostBindingOpCodes=[]);const a=~t.index;(function zX(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(i)!=a&&i.push(a),i.push(n,r,s)}}(e,t,r,xd(e,n,o.hostVars,oe),o)}function vo(e,t,n,r,o,s){const i=Cn(e,t);!function CC(e,t,n,r,o,s,i){if(null==s)e.removeAttribute(t,o,n);else{const a=null==i?re(s):i(s,r||"",o);e.setAttribute(t,o,a,n)}}(t[Z],i,s,e.value,n,r,o)}function e5(e,t,n,r,o,s){const i=s[t];if(null!==i)for(let a=0;a<i.length;)nk(r,n,i[a++],i[a++],i[a++],i[a++])}function t5(e,t,n){let r=null,o=0;for(;o<n.length;){const s=n[o];if(0!==s)if(5!==s){if("number"==typeof s)break;if(e.hasOwnProperty(s)){null===r&&(r=[]);const i=e[s];for(let a=0;a<i.length;a+=3)if(i[a]===t){r.push(s,i[a+1],i[a+2],n[o+1]);break}}o+=2}else o+=2;else o+=4}return r}function uk(e,t,n,r){return[e,!0,0,t,null,r,null,n,null,null]}function dk(e,t){const n=e.contentQueries;if(null!==n){const r=de(null);try{for(let o=0;o<n.length;o+=2){const i=n[o+1];if(-1!==i){const a=e.data[i];cg(n[o]),a.contentQueries(2,t[i],i)}}}finally{de(r)}}}function Lg(e,t){return e[ld]?e[kR][$r]=t:e[ld]=t,e[kR]=t,t}function SC(e,t,n){cg(0);const r=de(null);try{t(e,n)}finally{de(r)}}function Vg(e,t){const n=e[It],r=n?n.get(_o,null):null;r&&r.handleError(t)}function wC(e,t,n,r,o){for(let s=0;s<n.length;){const i=n[s++],a=n[s++],c=n[s++];nk(e.data[i],t[i],r,a,c,o)}}function n5(e,t){const n=Xn(t,e),r=n[x];!function r5(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(r,n);const o=n[ot];null!==o&&null===n[En]&&(n[En]=zE(o,n[It])),DC(r,n,n[Ke])}function DC(e,t,n){mE(t);try{const r=e.viewQuery;null!==r&&SC(1,r,n);const o=e.template;null!==o&&rk(e,t,o,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[Go]?.finishViewCreation(e),e.staticContentQueries&&dk(e,t),e.staticViewQueries&&SC(2,e.viewQuery,n);const s=e.components;null!==s&&function o5(e,t){for(let n=0;n<t.length;n++)n5(e,t[n])}(t,s)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[q]&=-5,_E()}}function Yi(e,t){return!t||null===t.firstChild||Cd(e)}function Fd(e,t,n,r,o=!1){for(;null!==n;){if(128===n.type){n=o?n.projectionNext:n.next;continue}const s=t[n.index];null!==s&&r.push(we(s)),dn(s)&&mk(s,r);const i=n.type;if(8&i)Fd(e,t,n.child,r);else if(32&i){const a=sC(n,t);let c;for(;c=a();)r.push(c)}else if(16&i){const a=ZA(t,n);if(Array.isArray(a))r.push(...a);else{const c=Xo(t[st]);Fd(c[x],c,a,r,!0)}}n=o?n.projectionNext:n.next}return r}function mk(e,t){for(let n=yt;n<e.length;n++){const r=e[n],o=r[x].firstChild;null!==o&&Fd(r[x],r,o,t)}e[ho]!==e[ot]&&t.push(e[ho])}let _k=[];const c5={...Tp,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{sg(e.lView)},consumerOnSignalRead(){this.lView[hr]=this}},u5={...Tp,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{let t=Xo(e.lView);for(;t&&!yk(t[x]);)t=Xo(t);t&&zR(t)},consumerOnSignalRead(){this.lView[hr]=this}};function yk(e){return 2!==e.type}const d5=100;function jg(e,t=!0,n=0){const r=e[fo],o=r.rendererFactory;o.begin?.();try{!function f5(e,t){const n=QR();try{JR(!0),IC(e,t);let r=0;for(;og(e);){if(r===d5)throw new M(103,!1);r++,IC(e,1)}}finally{JR(n)}}(e,n)}catch(i){throw t&&Vg(e,i),i}finally{o.end?.(),r.inlineEffectRunner?.flush()}}function h5(e,t,n,r){const o=t[q];if(!(256&~o))return;t[fo].inlineEffectRunner?.flush(),mE(t);let a=!0,c=null,l=null;yk(e)?(l=function s5(e){return e[hr]??function i5(e){const t=_k.pop()??Object.create(c5);return t.lView=e,t}(e)}(t),c=Rp(l)):null===function xT(){return _t}()?(a=!1,l=function l5(e){const t=e[hr]??Object.create(u5);return t.lView=e,t}(t),c=Rp(l)):t[hr]&&(pb(t[hr]),t[hr]=null);try{qR(t),function eO(e){return Y.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&rk(e,t,n,2,r);const u=!(3&~o);if(u){const h=e.preOrderCheckHooks;null!==h&&ug(t,h,null)}else{const h=e.preOrderHooks;null!==h&&dg(t,h,0,null),yE(t,0)}if(function p5(e){for(let t=WO(e);null!==t;t=GO(t)){if(!(t[q]&ng.HasTransplantedViews))continue;const n=t[Nc];for(let r=0;r<n.length;r++)zR(n[r])}}(t),bk(t,0),null!==e.contentQueries&&dk(e,t),u){const h=e.contentCheckHooks;null!==h&&ug(t,h)}else{const h=e.contentHooks;null!==h&&dg(t,h,1),yE(t,1)}!function kX(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const o=n[r];if(o<0)qi(~o);else{const s=o,i=n[++r],a=n[++r];hG(i,s),a(2,t[s])}}}finally{qi(-1)}}(e,t);const d=e.components;null!==d&&Ck(t,d,0);const f=e.viewQuery;if(null!==f&&SC(2,f,r),u){const h=e.viewCheckHooks;null!==h&&ug(t,h)}else{const h=e.viewHooks;null!==h&&dg(t,h,2),yE(t,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[eg]){for(const h of t[eg])h();t[eg]=null}t[q]&=-73}catch(u){throw sg(t),u}finally{null!==l&&(function fb(e,t){if(de(t),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(ed(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)Op(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}(l,c),a&&function a5(e){e.lView[hr]!==e&&(e.lView=null,_k.push(e))}(l)),_E()}}function bk(e,t){for(let n=WO(e);null!==n;n=GO(n))for(let r=yt;r<n.length;r++)Ek(n[r],t)}function g5(e,t,n){Ek(Xn(t,e),n)}function Ek(e,t){aE(e)&&IC(e,t)}function IC(e,t){const r=e[x],o=e[q],s=e[hr];let i=!!(0===t&&16&o);if(i||=!!(64&o&&0===t),i||=!!(1024&o),i||=!(!s?.dirty||!hb(s)),i||=!1,s&&(s.dirty=!1),e[q]&=-9217,i)h5(r,e,r.template,e[Ke]);else if(8192&o){bk(e,1);const a=r.components;null!==a&&Ck(e,a,1)}}function Ck(e,t,n){for(let r=0;r<t.length;r++)g5(e,t[r],n)}function Pd(e,t){const n=QR()?64:1088;for(e[fo].changeDetectionScheduler?.notify(t);e;){e[q]|=n;const r=Xo(e);if(dd(e)&&!r)return e;e=r}return null}class Ld{get rootNodes(){const t=this._lView,n=t[x];return Fd(n,t,n.firstChild,[])}constructor(t,n,r=!0){this._lView=t,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ke]}set context(t){this._lView[Ke]=t}get destroyed(){return!(256&~this._lView[q])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[Mt];if(dn(t)){const n=t[8],r=n?n.indexOf(this):-1;r>-1&&(kd(t,r),zp(n,r))}this._attachedToViewContainer=!1}Ng(this._lView[x],this._lView)}onDestroy(t){ig(this._lView,t)}markForCheck(){Pd(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[q]&=-129}reattach(){cE(this._lView),this._lView[q]|=128}detectChanges(){this._lView[q]|=1024,jg(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new M(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const t=dd(this._lView),n=this._lView[Bi];null!==n&&!t&&cC(n,this._lView),UA(this._lView[x],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new M(902,!1);this._appRef=t;const n=dd(this._lView),r=this._lView[Bi];null!==r&&!n&&HA(r,this._lView),cE(this._lView)}}let es=(()=>{class e{static{this.__NG_ELEMENT_ID__=y5}}return e})();const m5=es,_5=class extends m5{constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n)}createEmbeddedViewImpl(t,n,r){const o=function Wc(e,t,n,r){const o=de(null);try{const s=t.tView,c=Pg(e,s,n,4096&e[q]?4096:16,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null);c[Bi]=e[t.index];const u=e[Go];return null!==u&&(c[Go]=u.createEmbeddedView(s)),DC(s,c,n),c}finally{de(o)}}(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:n,dehydratedView:r});return new Ld(o)}};function y5(){return function Bg(e,t){return 4&e.type?new _5(t,e,Lc(e,t)):null}(Ve(),w())}class Kc{}const zd=new P("",{providedIn:"root",factory:()=>!1}),qk=new P(""),VC=new P("");class u6{}class zk{}class f6{resolveComponentFactory(t){throw function d6(e){const t=Error(`No component factory found for ${Ft(e)}.`);return t.ngComponent=e,t}(t)}}class Wg{static{this.NULL=new f6}}class jC{}let p6=(()=>{class e{static{this.\u0275prov=V({token:e,providedIn:"root",factory:()=>null})}}return e})();function Xg(e,t,n){let r=n?e.styles:null,o=n?e.classes:null,s=0;if(null!==t)for(let i=0;i<t.length;i++){const a=t[i];"number"==typeof a?s=a:1==s?o=Mb(o,a):2==s&&(r=Mb(r,a+": "+t[++i]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=o:e.classesWithoutHost=o}class Kk extends Wg{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=pe(t);return new Xd(n,this.ngModule)}}function Zk(e,t){const n=[];for(const r in e){if(!e.hasOwnProperty(r))continue;const o=e[r];if(void 0===o)continue;const s=Array.isArray(o),i=s?o[0]:o;n.push(t?{propName:i,templateName:r,isSignal:!!((s?o[1]:Ls.None)&Ls.SignalBased)}:{propName:i,templateName:r})}return n}class Xd extends zk{get inputs(){const t=this.componentDef,n=t.inputTransforms,r=Zk(t.inputs,!0);if(null!==n)for(const o of r)n.hasOwnProperty(o.propName)&&(o.transform=n[o.propName]);return r}get outputs(){return Zk(this.componentDef.outputs,!1)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function C4(e){return e.map(E4).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,r,o){const s=de(null);try{let i=(o=o||this.ngModule)instanceof Vn?o:o?.injector;i&&null!==this.componentDef.getStandaloneInjector&&(i=this.componentDef.getStandaloneInjector(i)||i);const a=i?new zi(t,i):t,c=a.get(jC,null);if(null===c)throw new M(407,!1);const d={rendererFactory:c,sanitizer:a.get(p6,null),inlineEffectRunner:null,changeDetectionScheduler:a.get(Kc,null)},f=c.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",g=r?function xX(e,t,n,r){const s=r.get(dA,!1)||n===Ur.ShadowDom,i=e.selectRootElement(t,s);return function FX(e){sk(e)}(i),i}(f,r,this.componentDef.encapsulation,a):kg(f,h,function _6(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(h));let m=512;this.componentDef.signals?m|=4096:this.componentDef.onPush||(m|=16);let y=null;null!==g&&(y=zE(g,a,!0));const S=vC(0,null,null,1,0,null,null,null,null,null,null),v=Pg(null,S,null,m,null,null,d,f,a,null,y);mE(v);let N,L,$=null;try{const ae=this.componentDef;let Pe,C=null;ae.findHostDirectiveDefs?(Pe=[],C=new Map,ae.findHostDirectiveDefs(ae,Pe,C),Pe.push(ae)):Pe=[ae];const bn=function v6(e,t){const n=e[x],r=U;return e[r]=t,Zi(n,r,2,"#host",null)}(v,g);$=function b6(e,t,n,r,o,s,i){const a=o[x];!function E6(e,t,n,r){for(const o of e)t.mergedAttrs=id(t.mergedAttrs,o.hostAttrs);null!==t.mergedAttrs&&(Xg(t,t.mergedAttrs,!0),null!==n&&ek(r,n,t))}(r,e,t,i);let c=null;null!==t&&(c=zE(t,o[It]));const l=s.rendererFactory.createRenderer(t,n);let u=16;n.signals?u=4096:n.onPush&&(u=64);const d=Pg(o,ok(n),null,u,o[e.index],e,s,l,null,null,c);return a.firstCreatePass&&EC(a,e,r.length-1),Lg(o,d),o[e.index]=d}(bn,g,ae,Pe,v,d,f),L=hd(S,U),g&&function S6(e,t,n,r){if(r)qb(e,n,["ng-version","18.2.13"]);else{const{attrs:o,classes:s}=function S4(e){const t=[],n=[];let r=1,o=2;for(;r<e.length;){let s=e[r];if("string"==typeof s)2===o?""!==s&&t.push(s,e[++r]):8===o&&n.push(s);else{if(!Hr(o))break;o=s}r++}return{attrs:t,classes:n}}(t.selectors[0]);o&&qb(e,n,o),s&&s.length>0&&JA(e,n,s.join(" "))}}(f,ae,g,r),void 0!==n&&function w6(e,t,n){const r=e.projection=[];for(let o=0;o<t.length;o++){const s=n[o];r.push(null!=s?Array.from(s):null)}}(L,this.ngContentSelectors,n),N=function C6(e,t,n,r,o,s){const i=Ve(),a=o[x],c=Cn(i,o);ck(a,o,i,n,null,r);for(let u=0;u<n.length;u++)hn(Wi(o,a,i.directiveStart+u,i),o);lk(a,o,i),c&&hn(c,o);const l=Wi(o,a,i.directiveStart+i.componentOffset,i);if(e[Ke]=o[Ke]=l,null!==s)for(const u of s)u(l,t);return mC(a,i,o),l}($,ae,Pe,C,v,[D6]),DC(S,v,null)}catch(ae){throw null!==$&&FE($),FE(v),ae}finally{_E()}return new y6(this.componentType,N,Lc(L,v),v,L)}finally{de(s)}}}class y6 extends u6{constructor(t,n,r,o,s){super(),this.location=r,this._rootLView=o,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Ld(o,void 0,!1),this.componentType=t}setInput(t,n){const r=this._tNode.inputs;let o;if(null!==r&&(o=r[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;const s=this._rootLView;wC(s[x],s,o,t,n),this.previousInputValues.set(t,n),Pd(Xn(this._tNode.index,s),1)}}get injector(){return new jt(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function D6(){const e=Ve();lg(w()[x],e)}let Gr=(()=>{class e{static{this.__NG_ELEMENT_ID__=M6}}return e})();function M6(){return function Jk(e,t){let n;const r=t[e.index];return dn(r)?n=r:(n=uk(r,t,null,e),t[e.index]=n,Lg(t,n)),eN(n,t,e,r),new Yk(n,e,t)}(Ve(),w())}const I6=Gr,Yk=class extends I6{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return Lc(this._hostTNode,this._hostLView)}get injector(){return new jt(this._hostTNode,this._hostLView)}get parentInjector(){const t=pg(this._hostTNode,this._hostLView);if(EE(t)){const n=yd(t,this._hostLView),r=_d(t);return new jt(n[x].data[r+8],n)}return new jt(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=Qk(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-yt}createEmbeddedView(t,n,r){let o,s;"number"==typeof r?o=r:null!=r&&(o=r.index,s=r.injector);const a=t.createEmbeddedViewImpl(n||{},s,null);return this.insertImpl(a,o,Yi(this._hostTNode,null)),a}createComponent(t,n,r,o,s){const i=t&&!function cd(e){return"function"==typeof e}(t);let a;if(i)a=n;else{const g=n||{};a=g.index,r=g.injector,o=g.projectableNodes,s=g.environmentInjector||g.ngModuleRef}const c=i?t:new Xd(pe(t)),l=r||this.parentInjector;if(!s&&null==c.ngModule){const m=(i?l:this.parentInjector).get(Vn,null);m&&(s=m)}pe(c.componentType??{});const h=c.create(l,o,null,s);return this.insertImpl(h.hostView,a,Yi(this._hostTNode,null)),h}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,r){const o=t._lView;if(function tG(e){return dn(e[Mt])}(o)){const a=this.indexOf(t);if(-1!==a)this.detach(a);else{const c=o[Mt],l=new Yk(c,c[rn],c[Mt]);l.detach(l.indexOf(t))}}const s=this._adjustIndex(n),i=this._lContainer;return function Gc(e,t,n,r=!0){const o=t[x];if(function SX(e,t,n,r){const o=yt+r,s=n.length;r>0&&(n[o-1][$r]=t),r<s-yt?(t[$r]=n[o],hR(n,yt+r,t)):(n.push(t),t[$r]=null),t[Mt]=n;const i=t[Bi];null!==i&&n!==i&&HA(i,t);const a=t[Go];null!==a&&a.insertView(e),cE(t),t[q]|=128}(o,t,e,n),r){const i=hC(n,e),a=t[Z],c=dC(a,e[ho]);null!==c&&function EX(e,t,n,r,o,s){r[ot]=o,r[rn]=t,Fg(e,r,n,1,o,s)}(o,e[rn],a,t,c,i)}const s=t[En];null!==s&&null!==s.firstChild&&(s.firstChild=null)}(i,o,s,r),t.attachToViewContainerRef(),hR(HC(i),s,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=Qk(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),r=kd(this._lContainer,n);r&&(zp(HC(this._lContainer),n),Ng(r[x],r))}detach(t){const n=this._adjustIndex(t,-1),r=kd(this._lContainer,n);return r&&null!=zp(HC(this._lContainer),n)?new Ld(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function Qk(e){return e[8]}function HC(e){return e[8]||(e[8]=[])}let eN=function nN(e,t,n,r){if(e[ho])return;let o;o=8&n.type?we(r):function T6(e,t){const n=e[Z],r=n.createComment(""),o=Cn(t,e);return Xi(n,dC(n,o),r,function MX(e,t){return e.nextSibling(t)}(n,o),!1),r}(t,n),e[ho]=o},$C=()=>!1;const uN=new Set;function xe(e){let t=function wN(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const r=[e];for(;t;){let o;if(qr(e))o=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new M(903,!1);o=t.\u0275dir}if(o){if(n){r.push(o);const i=e;i.inputs=Zg(e.inputs),i.inputTransforms=Zg(e.inputTransforms),i.declaredInputs=Zg(e.declaredInputs),i.outputs=Zg(e.outputs);const a=o.hostBindings;a&&Y6(e,a);const c=o.viewQuery,l=o.contentQueries;if(c&&K6(e,c),l&&Z6(e,l),G6(e,o),HW(e.outputs,o.outputs),qr(o)&&o.data.animation){const u=e.data;u.animation=(u.animation||[]).concat(o.data.animation)}}const s=o.features;if(s)for(let i=0;i<s.length;i++){const a=s[i];a&&a.ngInherit&&a(e),a===xe&&(n=!1)}}t=Object.getPrototypeOf(t)}!function X6(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){const o=e[r];o.hostVars=t+=o.hostVars,o.hostAttrs=id(o.hostAttrs,n=id(n,o.hostAttrs))}}(r)}function G6(e,t){for(const n in t.inputs){if(!t.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;const r=t.inputs[n];if(void 0!==r&&(e.inputs[n]=r,e.declaredInputs[n]=t.declaredInputs[n],null!==t.inputTransforms)){const o=Array.isArray(r)?r[0]:r;if(!t.inputTransforms.hasOwnProperty(o))continue;e.inputTransforms??={},e.inputTransforms[o]=t.inputTransforms[o]}}}function Zg(e){return e===lo?{}:e===Se?[]:e}function K6(e,t){const n=e.viewQuery;e.viewQuery=n?(r,o)=>{t(r,o),n(r,o)}:t}function Z6(e,t){const n=e.contentQueries;e.contentQueries=n?(r,o,s)=>{t(r,o,s),n(r,o,s)}:t}function Y6(e,t){const n=e.hostBindings;e.hostBindings=n?(r,o)=>{t(r,o),n(r,o)}:t}class ea{}class ON{}class JC extends ea{constructor(t,n,r,o=!0){super(),this.ngModuleType=t,this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Kk(this);const s=function un(e,t){const n=e[aR]||null;if(!n&&!0===t)throw new Error(`Type ${Ft(e)} does not have '\u0275mod' property.`);return n}(t);this._bootstrapComponents=function Zn(e){return e instanceof Function?e():e}(s.bootstrap),this._r3Injector=IO(t,n,[{provide:ea,useValue:this},{provide:Wg,useValue:this.componentFactoryResolver},...r],Ft(t),new Set(["environment"])),o&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class eS extends ON{constructor(t){super(),this.moduleType=t}create(t){return new JC(this.moduleType,t,[])}}class AN extends ea{constructor(t){super(),this.componentFactoryResolver=new Kk(this),this.instance=null;const n=new Mc([...t.providers,{provide:ea,useValue:this},{provide:Wg,useValue:this.componentFactoryResolver}],t.parent||Qp(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function vt(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function Yd(e,t,n,r,o,s,i,a,c,l){const u=n+U,d=t.firstCreatePass?function l7(e,t,n,r,o,s,i,a,c){const l=t.consts,u=Zi(t,e,4,i||null,a||null);bC(t,n,u,gr(l,c)),lg(t,u);const d=u.tView=vC(2,u,r,o,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,l,null);return null!==t.queries&&(t.queries.template(t,u),d.queries=t.queries.embeddedTView(u)),u}(u,t,e,r,o,s,i,a,c):t.data[u];zr(d,!1);const f=kN(t,e,d,n);gd()&&xg(t,e,f,d),hn(f,e);const h=uk(f,e,f,d);return e[u]=h,Lg(e,h),function tN(e,t,n){return $C(e,t,n)}(h,d,e),rg(d)&&_C(t,e,d),null!=c&&yC(e,d,l),d}function _r(e,t,n,r,o,s,i,a){const c=w(),l=fe();return Yd(c,l,e,t,n,r,o,gr(l.consts,s),i,a),_r}let kN=function NN(e,t,n,r){return go(!0),t[Z].createComment("")};var el=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(el||{});let jN=(()=>{class e{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=V({token:e,providedIn:"root",factory:()=>new e})}}return e})();class ef{constructor(){this.ngZone=I(Te),this.scheduler=I(Kc),this.errorHandler=I(_o,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[el.EarlyRead,el.Write,el.MixedReadWrite,el.Read]}execute(){this.executing=!0;for(const t of ef.PHASES)for(const n of this.sequences)if(!n.erroredOrDestroyed&&n.hooks[t])try{n.pipelinedValue=this.ngZone.runOutsideAngular(()=>n.hooks[t](n.pipelinedValue))}catch(r){n.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(const t of this.sequences)t.afterRun(),t.once&&(this.sequences.delete(t),t.destroy());for(const t of this.deferredRegistrations)this.sequences.add(t);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(t){this.executing?this.deferredRegistrations.add(t):(this.sequences.add(t),this.scheduler.notify(6))}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}static{this.\u0275prov=V({token:ef,providedIn:"root",factory:()=>new ef})}}function yr(e,t,n,r){const o=w();return vt(o,Wr(),t)&&(fe(),vo(Ze(),o,e,t,n,r)),yr}function om(e,t){return e<<17|t<<2}function Ws(e){return e>>17&32767}function pS(e){return 2|e}function ra(e){return(131068&e)>>2}function gS(e,t){return-131069&e|t<<2}function mS(e){return 1|e}function hx(e,t,n,r){const o=e[n+1],s=null===t;let i=r?Ws(o):ra(o),a=!1;for(;0!==i&&(!1===a||s);){const l=e[i+1];Y7(e[i],t)&&(a=!0,e[i+1]=r?mS(l):pS(l)),i=r?Ws(l):ra(l)}a&&(e[n+1]=r?pS(o):mS(o))}function Y7(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&Dc(e,t)>=0}function pt(e,t,n){const r=w();return vt(r,Wr(),t)&&function Bn(e,t,n,r,o,s,i,a){const c=Cn(t,n);let u,l=t.inputs;!a&&null!=l&&(u=l[r])?(wC(e,n,u,r,o),Ui(t)&&function HX(e,t){const n=Xn(t,e);16&n[q]||(n[q]|=64)}(n,t.index)):3&t.type&&(r=function UX(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),o=null!=i?i(o,t.value||"",r):o,s.setProperty(c,r,o))}(fe(),Ze(),r,e,t,r[Z],n,!1),pt}function _S(e,t,n,r,o){const i=o?"class":"style";wC(e,n,t.inputs[i],i,r)}function Gs(e,t,n){return function Xr(e,t,n,r){const o=w(),s=fe(),i=function Zo(e){const t=Y.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}(2);s.firstUpdatePass&&function Ex(e,t,n,r){const o=e.data;if(null===o[n+1]){const s=o[on()],i=function bx(e,t){return t>=e.expandoStartIndex}(e,n);(function Dx(e,t){return!!(e.flags&(t?8:16))})(s,r)&&null===t&&!i&&(t=!1),t=function i9(e,t,n,r){const o=function pE(e){const t=Y.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let s=r?t.residualClasses:t.residualStyles;if(null===o)0===(r?t.classBindings:t.styleBindings)&&(n=nf(n=yS(null,e,t,n,r),t.attrs,r),s=null);else{const i=t.directiveStylingLast;if(-1===i||e[i]!==o)if(n=yS(o,e,t,n,r),null===s){let c=function a9(e,t,n){const r=n?t.classBindings:t.styleBindings;if(0!==ra(r))return e[Ws(r)]}(e,t,r);void 0!==c&&Array.isArray(c)&&(c=yS(null,e,t,c[1],r),c=nf(c,t.attrs,r),function c9(e,t,n,r){e[Ws(n?t.classBindings:t.styleBindings)]=r}(e,t,r,c))}else s=function l9(e,t,n){let r;const o=t.directiveEnd;for(let s=1+t.directiveStylingLast;s<o;s++)r=nf(r,e[s].hostAttrs,n);return nf(r,t.attrs,n)}(e,t,r)}return void 0!==s&&(r?t.residualClasses=s:t.residualStyles=s),n}(o,s,t,r),function K7(e,t,n,r,o,s){let i=s?t.classBindings:t.styleBindings,a=Ws(i),c=ra(i);e[r]=n;let u,l=!1;if(Array.isArray(n)?(u=n[1],(null===u||Dc(n,u)>0)&&(l=!0)):u=n,o)if(0!==c){const f=Ws(e[a+1]);e[r+1]=om(f,a),0!==f&&(e[f+1]=gS(e[f+1],r)),e[a+1]=function G7(e,t){return 131071&e|t<<17}(e[a+1],r)}else e[r+1]=om(a,0),0!==a&&(e[a+1]=gS(e[a+1],r)),a=r;else e[r+1]=om(c,0),0===a?a=r:e[c+1]=gS(e[c+1],r),c=r;l&&(e[r+1]=pS(e[r+1])),hx(e,u,r,!0),hx(e,u,r,!1),function Z7(e,t,n,r,o){const s=o?e.residualClasses:e.residualStyles;null!=s&&"string"==typeof t&&Dc(s,t)>=0&&(n[r+1]=mS(n[r+1]))}(t,u,e,r,s),i=om(a,c),s?t.classBindings=i:t.styleBindings=i}(o,s,t,n,i,r)}}(s,e,i,r),t!==oe&&vt(o,i,t)&&function Sx(e,t,n,r,o,s,i,a){if(!(3&t.type))return;const c=e.data,l=c[a+1],u=function X7(e){return!(1&~e)}(l)?wx(c,t,n,o,ra(l),i):void 0;sm(u)||(sm(s)||function W7(e){return!(2&~e)}(l)&&(s=wx(c,null,n,o,a,i)),function RX(e,t,n,r,o){if(t)o?e.addClass(n,r):e.removeClass(n,r);else{let s=-1===r.indexOf("-")?void 0:Hs.DashCase;null==o?e.removeStyle(n,r,s):("string"==typeof o&&o.endsWith("!important")&&(o=o.slice(0,-10),s|=Hs.Important),e.setStyle(n,r,o,s))}}(r,i,function fd(e,t){return we(t[e])}(on(),n),o,s))}(s,s.data[on()],o,o[Z],e,o[i+1]=function h9(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=Ft(function Us(e){return e instanceof _A?e.changingThisBreaksApplicationSecurity:e}(e)))),e}(t,n),r,i)}(e,t,n,!1),Gs}function yS(e,t,n,r,o){let s=null;const i=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<i&&(s=t[a],r=nf(r,s.hostAttrs,o),s!==e);)a++;return null!==e&&(n.directiveStylingLast=a),r}function nf(e,t,n){const r=n?1:2;let o=-1;if(null!==t)for(let s=0;s<t.length;s++){const i=t[s];"number"==typeof i?o=i:o===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Gn(e,i,!!n||t[++s]))}return void 0===e?null:e}function wx(e,t,n,r,o,s){const i=null===t;let a;for(;o>0;){const c=e[o],l=Array.isArray(c),u=l?c[1]:c,d=null===u;let f=n[o+1];f===oe&&(f=d?Se:void 0);let h=d?Hb(f,r):u===r?f:void 0;if(l&&!sm(h)&&(h=Hb(c,r)),sm(h)&&(a=h,i))return a;const g=e[o+1];o=i?Ws(g):ra(g)}if(null!==t){let c=s?t.residualClasses:t.residualStyles;null!=c&&(a=Hb(c,r))}return a}function sm(e){return void 0!==e}function Re(e,t,n,r){const o=w(),s=fe(),i=U+e,a=o[Z],c=s.firstCreatePass?function P9(e,t,n,r,o,s){const i=t.consts,c=Zi(t,e,2,r,gr(i,o));return bC(t,n,c,gr(i,s)),null!==c.attrs&&Xg(c,c.attrs,!1),null!==c.mergedAttrs&&Xg(c,c.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,c),c}(i,s,o,t,n,r):s.data[i],l=Rx(s,o,c,a,t,e);o[i]=l;const u=rg(c);return zr(c,!0),ek(a,l,c),!function Qc(e){return!(32&~e.flags)}(c)&&gd()&&xg(s,o,l,c),0===function nG(){return Y.lFrame.elementDepthCount}()&&hn(l,o),function rG(){Y.lFrame.elementDepthCount++}(),u&&(_C(s,o,c),mC(s,c,o)),null!==r&&yC(o,c),Re}function Fe(){let e=Ve();dE()?fE():(e=e.parent,zr(e,!1));const t=e;(function sG(e){return Y.skipHydrationRootTNode===e})(t)&&function lG(){Y.skipHydrationRootTNode=null}(),function oG(){Y.lFrame.elementDepthCount--}();const n=fe();return n.firstCreatePass&&(lg(n,e),nE(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function DG(e){return!!(8&e.flags)}(t)&&_S(n,t,w(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function MG(e){return!!(16&e.flags)}(t)&&_S(n,t,w(),t.stylesWithoutHost,!1),Fe}function Dn(e,t,n,r){return Re(e,t,n,r),Fe(),Dn}let Rx=(e,t,n,r,o,s)=>(go(!0),kg(r,o,function aO(){return Y.lFrame.currentNamespace}()));function Xs(e,t,n){const r=w(),o=fe(),s=e+U,i=o.firstCreatePass?function j9(e,t,n,r,o){const s=t.consts,i=gr(s,r),a=Zi(t,e,8,"ng-container",i);return null!==i&&Xg(a,i,!0),bC(t,n,a,gr(s,o)),null!==t.queries&&t.queries.elementStart(t,a),a}(s,o,r,t,n):o.data[s];zr(i,!0);const a=Ax(o,r,i,e);return r[s]=a,gd()&&xg(o,r,a,i),hn(a,r),rg(i)&&(_C(o,r,i),mC(o,i,r)),null!=n&&yC(r,i),Xs}function Ks(){let e=Ve();const t=fe();return dE()?fE():(e=e.parent,zr(e,!1)),t.firstCreatePass&&(lg(t,e),nE(e)&&t.queries.elementEnd(e)),Ks}let Ax=(e,t,n,r)=>(go(!0),aC(t[Z],""));const am="en-US";let Px=am,eF=(e,t,n)=>{};function gt(e,t,n,r){const o=w(),s=fe(),i=Ve();return function wS(e,t,n,r,o,s,i){const a=rg(r),l=e.firstCreatePass&&function hk(e){return e.cleanup??=[]}(e),u=t[Ke],d=function fk(e){return e[Rc]??=[]}(t);let f=!0;if(3&r.type||i){const m=Cn(r,t),y=i?i(m):m,S=d.length,v=i?L=>i(we(L[r.index])):r.index;let N=null;if(!i&&a&&(N=function NK(e,t,n,r){const o=e.cleanup;if(null!=o)for(let s=0;s<o.length-1;s+=2){const i=o[s];if(i===n&&o[s+1]===r){const a=t[Rc],c=o[s+2];return a.length>c?a[c]:null}"string"==typeof i&&(s+=2)}return null}(e,t,o,r.index)),null!==N)(N.__ngLastListenerFn__||N).__ngNextListenerFn__=s,N.__ngLastListenerFn__=s,f=!1;else{s=oF(r,t,u,s),eF(m,o,s);const L=n.listen(y,o,s);d.push(s,L),l&&l.push(o,v,S,S+1)}}else s=oF(r,t,u,s);const h=r.outputs;let g;if(f&&null!==h&&(g=h[o])){const m=g.length;if(m)for(let y=0;y<m;y+=2){const $=t[g[y]][g[y+1]].subscribe(s),ae=d.length;d.push(s,$),l&&l.push(o,r.index,ae,-(ae+1))}}}(s,o,o[Z],i,e,t,r),gt}function rF(e,t,n,r){const o=de(null);try{return po(6,t,n),!1!==n(r)}catch(s){return Vg(e,s),!1}finally{po(7,t,n),de(o)}}function oF(e,t,n,r){return function o(s){if(s===Function)return r;Pd(e.componentOffset>-1?Xn(e.index,t):t,5);let a=rF(t,n,r,s),c=o.__ngNextListenerFn__;for(;c;)a=rF(t,n,c,s)&&a,c=c.__ngNextListenerFn__;return a}}function vr(e=1){return function mG(e){return(Y.lFrame.contextLView=function WR(e,t){for(;e>0;)t=t[Oc],e--;return t}(e,Y.lFrame.contextLView))[Ke]}(e)}function br(e,t=""){const n=w(),r=fe(),o=e+U,s=r.firstCreatePass?Zi(r,o,1,t,null):r.data[o],i=MF(r,n,s,t,e);n[o]=i,gd()&&xg(r,n,i,s),zr(s,!1)}let MF=(e,t,n,r,o)=>(go(!0),function iC(e,t){return e.createText(t)}(t[Z],r)),iZ=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=Wb(0,n.type),o=r.length>0?function tS(e,t,n=null){return new AN({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,o)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=V({token:e,providedIn:"environment",factory:()=>new e(j(Vn))})}}return e})();function sa(e){(function wn(e){uN.has(e)||(uN.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))})("NgStandalone"),e.getStandaloneInjector=t=>t.get(iZ).getOrCreateStandaloneInjector(e)}function UF(e,t,n,r,o,s){const i=t+n;return vt(e,i,o)?function bo(e,t,n){return e[t]=n}(e,i+1,s?r.call(s,o):r(o)):function df(e,t){const n=e[t];return n===oe?void 0:n}(e,i+1)}function kS(e,t){const n=fe();let r;const o=e+U;n.firstCreatePass?(r=function bZ(e,t){if(t)for(let n=t.length-1;n>=0;n--){const r=t[n];if(e===r.name)return r}}(t,n.pipeRegistry),n.data[o]=r,r.onDestroy&&(n.destroyHooks??=[]).push(o,r.onDestroy)):r=n.data[o];const s=r.factory||(r.factory=Vi(r.type)),a=Fn(k);try{const c=fg(!1),l=s();return fg(c),function DS(e,t,n,r){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=r}(n,w(),o,l),l}finally{Fn(a)}}function NS(e,t,n){const r=e+U,o=w(),s=function Hi(e,t){return e[t]}(o,r);return function ff(e,t){return e[x].data[t].pure}(o,r)?UF(o,function Sn(){const e=Y.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}(),t,s.transform,n,s):s.transform(n)}const fP=new P(""),_m=new P("");let US,jS=(()=>{class e{constructor(n,r,o){this._ngZone=n,this.registry=r,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,US||(function yY(e){US=e}(o),o.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Te.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb()}});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,o){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(i=>i.timeoutId!==s),n()},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:o})}whenStable(n,r,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,o),this._runCallbacksIfReady()}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,o){return[]}static{this.\u0275fac=function(r){return new(r||e)(j(Te),j(BS),j(_m))}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac})}}return e})(),BS=(()=>{class e{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return US?.findTestabilityInTree(this,n,r)??null}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();function mf(e){return!!e&&"function"==typeof e.then}function hP(e){return!!e&&"function"==typeof e.subscribe}const vY=new P("");let pP=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=I(vY,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const o of this.appInits){const s=o();if(mf(s))n.push(s);else if(hP(s)){const i=new Promise((a,c)=>{s.subscribe({complete:a,error:c})});n.push(i)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(o=>{this.reject(o)}),0===n.length&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const HS=new P("");function mP(e,t){return Array.isArray(t)?t.reduce(mP,e):{...e,...t}}let ns=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=I(e8),this.afterRenderManager=I(jN),this.zonelessEnabled=I(zd),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new Nt,this.afterTick=new Nt,this.componentTypes=[],this.components=[],this.isStable=I(Yo).hasPendingTasks.pipe(se(n=>!n)),this._injector=I(Vn)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:o=>{o&&r()}})}).finally(()=>{n.unsubscribe()})}get injector(){return this._injector}bootstrap(n,r){const o=n instanceof zk;if(!this._injector.get(pP).done)throw!o&&function Vs(e){const t=pe(e)||Pt(e)||nn(e);return null!==t&&t.standalone}(n),new M(405,!1);let i;i=o?n:this._injector.get(Wg).resolveComponentFactory(n),this.componentTypes.push(i.componentType);const a=function bY(e){return e.isBoundToModule}(i)?void 0:this._injector.get(ea),l=i.create(fn.NULL,[],r||i.selector,a),u=l.location.nativeElement,d=l.injector.get(fP,null);return d?.registerApplication(u),l.onDestroy(()=>{this.detachView(l.hostView),ym(this.components,l),d?.unregisterApplication(u)}),this._loadComponent(l),l}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new M(101,!1);const n=de(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,de(n),this.afterTick.next()}}synchronize(){let n=null;this._injector.destroyed||(n=this._injector.get(jC,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;0!==this.dirtyFlags&&r++<10;)this.synchronizeOnce(n)}synchronizeOnce(n){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,7&this.dirtyFlags){const r=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:o,notifyErrorHandler:s}of this._views)SY(o,s,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),7&this.dirtyFlags)return}else n?.begin?.(),n?.end?.();8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:n})=>og(n))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;ym(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(HS,[]);[...this._bootstrapListeners,...r].forEach(o=>o(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>ym(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new M(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function ym(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}function SY(e,t,n,r){(n||og(e))&&jg(e,t,n&&!r?0:1)}let TY=(()=>{class e{constructor(){this.zone=I(Te),this.changeDetectionScheduler=I(Kc),this.applicationRef=I(ns)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function $S({ngZoneFactory:e,ignoreChangesOutsideZone:t,scheduleInRootZone:n}){return e??=()=>new Te({...qS(),scheduleInRootZone:n}),[{provide:Te,useFactory:e},{provide:uo,multi:!0,useFactory:()=>{const r=I(TY,{optional:!0});return()=>r.initialize()}},{provide:uo,multi:!0,useFactory:()=>{const r=I(OY);return()=>{r.initialize()}}},!0===t?{provide:qk,useValue:!0}:[],{provide:VC,useValue:n??RO}]}function qS(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}let OY=(()=>{class e{constructor(){this.subscription=new ln,this.initialized=!1,this.zone=I(Te),this.pendingTasks=I(Yo)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Te.assertNotInAngularZone(),queueMicrotask(()=>{null!==n&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Te.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),_f=(()=>{class e{constructor(){this.appRef=I(ns),this.taskService=I(Yo),this.ngZone=I(Te),this.zonelessEnabled=I(zd),this.disableScheduling=I(qk,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new ln,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(yg):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(I(VC,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof AE||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&5===n)return;switch(n){case 0:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 7:this.appRef.deferredDirtyFlags|=8;break;default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;const r=this.useMicrotaskScheduler?AO:OO;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>r(()=>this.tick())):this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(yg+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,AO(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const Zs=new P("",{providedIn:"root",factory:()=>I(Zs,me.Optional|me.SkipSelf)||function AY(){return typeof $localize<"u"&&$localize.locale||am}()}),bm=new P("");function Em(e){return!e.moduleRef}let SP=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const o=r?.scheduleInRootZone,i=r?.ignoreChangesOutsideZone,a=[$S({ngZoneFactory:()=>function JG(e="zone.js",t){return"noop"===e?new AE:"zone.js"===e?new Te(t):e}(r?.ngZone,{...qS({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}),scheduleInRootZone:o}),ignoreChangesOutsideZone:i}),{provide:Kc,useExisting:_f}],c=function o7(e,t,n){return new JC(e,t,n,!1)}(n.moduleType,this.injector,a);return function CP(e){const t=Em(e)?e.r3Injector:e.moduleRef.injector,n=t.get(Te);return n.run(()=>{Em(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();const r=t.get(_o,null);let o;if(n.runOutsideAngular(()=>{o=n.onError.subscribe({next:s=>{r.handleError(s)}})}),Em(e)){const s=()=>t.destroy(),i=e.platformInjector.get(bm);i.add(s),t.onDestroy(()=>{o.unsubscribe(),i.delete(s)})}else{const s=()=>e.moduleRef.destroy(),i=e.platformInjector.get(bm);i.add(s),e.moduleRef.onDestroy(()=>{ym(e.allPlatformModules,e.moduleRef),o.unsubscribe(),i.delete(s)})}return function CY(e,t,n){try{const r=n();return mf(r)?r.catch(o=>{throw t.runOutsideAngular(()=>e.handleError(o)),o}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(r,n,()=>{const s=t.get(pP);return s.runInitializers(),s.donePromise.then(()=>{if(function K9(e){"string"==typeof e&&(Px=e.toLowerCase().replace(/_/g,"-"))}(t.get(Zs,am)||am),Em(e)){const a=t.get(ns);return void 0!==e.rootComponent&&a.bootstrap(e.rootComponent),a}return function LY(e,t){const n=e.injector.get(ns);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>n.bootstrap(r));else{if(!e.instance.ngDoBootstrap)throw new M(-403,!1);e.instance.ngDoBootstrap(n)}t.push(e)}(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}({moduleRef:c,allPlatformModules:this._modules,platformInjector:this.injector})}bootstrapModule(n,r=[]){const o=mP({},r);return function IY(e,t,n){const r=new eS(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,o))}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new M(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(bm,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(r){return new(r||e)(j(fn))}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})(),Ys=null;const wP=new P("");function DP(e,t,n=[]){const r=`Platform: ${t}`,o=new P(r);return(s=[])=>{let i=WS();if(!i||i.injector.get(wP,!1)){const a=[...n,...s,{provide:o,useValue:!0}];e?e(a):function VY(e){if(Ys&&!Ys.get(wP,!1))throw new M(400,!1);(function gP(){!function SW(e){HT=e}(()=>{throw new M(600,!1)})})(),Ys=e;const t=e.get(SP);(function IP(e){e.get(nA,null)?.forEach(n=>n())})(e)}(function MP(e=[],t){return fn.create({name:t,providers:[{provide:Kb,useValue:"platform"},{provide:bm,useValue:new Set([()=>Ys=null])},...e]})}(a,r))}return function jY(){const t=WS();if(!t)throw new M(401,!1);return t}()}}function WS(){return Ys?.get(SP)??null}let yf=(()=>{class e{static{this.__NG_ELEMENT_ID__=UY}}return e})();function UY(e){return function HY(e,t,n){if(Ui(e)&&!n){const r=Xn(e.index,t);return new Ld(r,r)}return 175&e.type?new Ld(t[st],t):null}(Ve(),w(),!(16&~e))}const eQ=DP(null,"core",[]);let tQ=(()=>{class e{constructor(n){}static{this.\u0275fac=function(r){return new(r||e)(j(ns))}}static{this.\u0275mod=zo({type:e})}static{this.\u0275inj=co({})}}return e})();function So(e){const t=de(null);try{return e()}finally{de(t)}}let i1=null;function Qs(){return i1}class jQ{}const Er=new P("");function v1(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const r=n.indexOf("="),[o,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(o.trim()===t)return decodeURIComponent(s)}return null}let $m=(()=>{class e{constructor(n,r){this._viewContainer=n,this._context=new kJ,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){S1("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){S1("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||e)(k(Gr),k(es))}}static{this.\u0275dir=te({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return e})();class kJ{constructor(){this.$implicit=null,this.ngIf=null}}function S1(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${Ft(t)}'.`)}class FJ{createSubscription(t,n){return So(()=>t.subscribe({next:n,error:r=>{throw r}}))}dispose(t){So(()=>t.unsubscribe())}}class PJ{createSubscription(t,n){return t.then(n,r=>{throw r})}dispose(t){}}const LJ=new PJ,VJ=new FJ;let hw=(()=>{class e{constructor(n){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){if(!this._obj){if(n)try{this.markForCheckOnValueUpdate=!1,this._subscribe(n)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,r=>this._updateLatestValue(n,r))}_selectStrategy(n){if(mf(n))return LJ;if(hP(n))return VJ;throw function Yr(e,t){return new M(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,r){n===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static{this.\u0275fac=function(r){return new(r||e)(k(yf,16))}}static{this.\u0275pipe=Ln({name:"async",type:e,pure:!1,standalone:!0})}}return e})(),M1=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=zo({type:e})}static{this.\u0275inj=co({})}}return e})();const I1="browser";function T1(e){return e===I1}function R1(e){return"server"===e}class qm{}class Aee extends jQ{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class vw extends Aee{static makeCurrent(){!function VQ(e){i1??=e}(new vw)}onAndCancel(t,n,r){return t.addEventListener(n,r),()=>{t.removeEventListener(n,r)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.remove()}createElement(t,n){return(n=n||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return"window"===n?window:"document"===n?t:"body"===n?t.body:null}getBaseHref(t){const n=function kee(){return If=If||document.querySelector("base"),If?If.getAttribute("href"):null}();return null==n?null:function Nee(e){return new URL(e,document.baseURI).pathname}(n)}resetBaseElement(){If=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return v1(document.cookie,t)}}let If=null,Fee=(()=>{class e{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac})}}return e})();const bw=new P("");let B1=(()=>{class e{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(o=>{o.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,o){return this._findPluginFor(r).addEventListener(n,r,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(s=>s.supports(n)),!r)throw new M(5101,!1);return this._eventNameToPlugin.set(n,r),r}static{this.\u0275fac=function(r){return new(r||e)(j(bw),j(Te))}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac})}}return e})();class U1{constructor(t){this._doc=t}}const Ew="ng-app-id";let H1=(()=>{class e{constructor(n,r,o,s={}){this.doc=n,this.appId=r,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=R1(s),this.resetHostNodes()}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.elements?.forEach(o=>o.remove()),r.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${Ew}="${this.appId}"]`);if(n?.length){const r=new Map;return n.forEach(o=>{null!=o.textContent&&r.set(o.textContent,o)}),r}return null}changeUsageCount(n,r){const o=this.styleRef;if(o.has(n)){const s=o.get(n);return s.usage+=r,s.usage}return o.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){const o=this.styleNodesInDOM,s=o?.get(r);if(s?.parentNode===n)return o.delete(r),s.removeAttribute(Ew),s;{const i=this.doc.createElement("style");return this.nonce&&i.setAttribute("nonce",this.nonce),i.textContent=r,this.platformIsServer&&i.setAttribute(Ew,this.appId),n.appendChild(i),i}}addStyleToHost(n,r){const o=this.getStyleElement(n,r),s=this.styleRef,i=s.get(r)?.elements;i?i.push(o):s.set(r,{elements:[o],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||e)(j(Er),j(jc),j(VE,8),j(yo))}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac})}}return e})();const Cw={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Sw=/%COMP%/g,jee=new P("",{providedIn:"root",factory:()=>!0});function q1(e,t){return t.map(n=>n.replace(Sw,e))}let z1=(()=>{class e{constructor(n,r,o,s,i,a,c,l=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=i,this.platformId=a,this.ngZone=c,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=R1(a),this.defaultRenderer=new ww(n,i,c,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Ur.ShadowDom&&(r={...r,encapsulation:Ur.Emulated});const o=this.getOrCreateRenderer(n,r);return o instanceof G1?o.applyToHost(n):o instanceof Dw&&o.applyStyles(),o}getOrCreateRenderer(n,r){const o=this.rendererByCompId;let s=o.get(r.id);if(!s){const i=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case Ur.Emulated:s=new G1(c,l,r,this.appId,u,i,a,d);break;case Ur.ShadowDom:return new $ee(c,l,n,r,i,a,this.nonce,d);default:s=new Dw(c,l,r,u,i,a,d)}o.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||e)(j(B1),j(H1),j(jc),j(jee),j(Er),j(yo),j(Te),j(VE))}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac})}}return e})();class ww{constructor(t,n,r,o){this.eventManager=t,this.doc=n,this.ngZone=r,this.platformIsServer=o,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t,n){return n?this.doc.createElementNS(Cw[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(W1(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(W1(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){n.remove()}selectRootElement(t,n){let r="string"==typeof t?this.doc.querySelector(t):t;if(!r)throw new M(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,o){if(o){n=o+":"+n;const s=Cw[o];s?t.setAttributeNS(s,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){const o=Cw[r];o?t.removeAttributeNS(o,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,o){o&(Hs.DashCase|Hs.Important)?t.style.setProperty(n,r,o&Hs.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&Hs.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){null!=t&&(t[n]=r)}setValue(t,n){t.nodeValue=n}listen(t,n,r){if("string"==typeof t&&!(t=Qs().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${n}`);return this.eventManager.addEventListener(t,n,this.decoratePreventDefault(r))}decoratePreventDefault(t){return n=>{if("__ngUnwrap__"===n)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(n)):t(n))&&n.preventDefault()}}}function W1(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class $ee extends ww{constructor(t,n,r,o,s,i,a,c){super(t,s,i,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=q1(o.id,o.styles);for(const u of l){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(null,n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Dw extends ww{constructor(t,n,r,o,s,i,a,c){super(t,s,i,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=o,this.styles=c?q1(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class G1 extends Dw{constructor(t,n,r,o,s,i,a,c){const l=o+"-"+r.id;super(t,n,r,s,i,a,c,l),this.contentAttr=function Bee(e){return"_ngcontent-%COMP%".replace(Sw,e)}(l),this.hostAttr=function Uee(e){return"_nghost-%COMP%".replace(Sw,e)}(l)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){const r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}}let qee=(()=>{class e extends U1{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,o){return n.addEventListener(r,o,!1),()=>this.removeEventListener(n,r,o)}removeEventListener(n,r,o){return n.removeEventListener(r,o)}static{this.\u0275fac=function(r){return new(r||e)(j(Er))}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac})}}return e})();const X1=["alt","control","meta","shift"],zee={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Wee={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let Gee=(()=>{class e extends U1{constructor(n){super(n)}supports(n){return null!=e.parseEventName(n)}addEventListener(n,r,o){const s=e.parseEventName(r),i=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Qs().onAndCancel(n,s.domEventName,i))}static parseEventName(n){const r=n.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const s=e._normalizeKey(r.pop());let i="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),i="code."),X1.forEach(l=>{const u=r.indexOf(l);u>-1&&(r.splice(u,1),i+=l+".")}),i+=s,0!=r.length||0===s.length)return null;const c={};return c.domEventName=o,c.fullKey=i,c}static matchEventFullKeyCode(n,r){let o=zee[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(o=n.code,s="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),X1.forEach(i=>{i!==o&&(0,Wee[i])(n)&&(s+=i+".")}),s+=o,s===r)}static eventCallback(n,r,o){return s=>{e.matchEventFullKeyCode(s,n)&&o.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}static{this.\u0275fac=function(r){return new(r||e)(j(Er))}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac})}}return e})();const Yee=DP(eQ,"browser",[{provide:yo,useValue:I1},{provide:nA,useValue:function Xee(){vw.makeCurrent()},multi:!0},{provide:Er,useFactory:function Zee(){return function C8(e){LE=e}(document),document},deps:[]}]),Qee=new P(""),Y1=[{provide:_m,useClass:class xee{addToWindow(t){tt.getAngularTestability=(r,o=!0)=>{const s=t.findTestabilityInTree(r,o);if(null==s)throw new M(5103,!1);return s},tt.getAllAngularTestabilities=()=>t.getAllTestabilities(),tt.getAllAngularRootElements=()=>t.getAllRootElements(),tt.frameworkStabilizers||(tt.frameworkStabilizers=[]),tt.frameworkStabilizers.push(r=>{const o=tt.getAllAngularTestabilities();let s=o.length;const i=function(){s--,0==s&&r()};o.forEach(a=>{a.whenStable(i)})})}findTestabilityInTree(t,n,r){return null==n?null:t.getTestability(n)??(r?Qs().isShadowRoot(n)?this.findTestabilityInTree(t,n.host,!0):this.findTestabilityInTree(t,n.parentElement,!0):null)}},deps:[]},{provide:fP,useClass:jS,deps:[Te,BS,_m]},{provide:jS,useClass:jS,deps:[Te,BS,_m]}],Q1=[{provide:Kb,useValue:"root"},{provide:_o,useFactory:function Kee(){return new _o},deps:[]},{provide:bw,useClass:qee,multi:!0,deps:[Er,Te,yo]},{provide:bw,useClass:Gee,multi:!0,deps:[Er]},z1,H1,B1,{provide:jC,useExisting:z1},{provide:qm,useClass:Fee,deps:[]},[]];let Jee=(()=>{class e{constructor(n){}static withServerTransition(n){return{ngModule:e,providers:[{provide:jc,useValue:n.appId}]}}static{this.\u0275fac=function(r){return new(r||e)(j(Qee,12))}}static{this.\u0275mod=zo({type:e})}static{this.\u0275inj=co({providers:[...Q1,...Y1],imports:[M1,tQ]})}}return e})();function tL(e){return Array.isArray(e)?e:[e]}const{isArray:ste}=Array,{getPrototypeOf:ite,prototype:ate,keys:cte}=Object;function Js(e){return this instanceof Js?(this.v=e,this):new Js(e)}function iL(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=e[Symbol.asyncIterator];return t?t.call(e):(e=function Rw(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=e[s]&&function(i){return new Promise(function(a,c){!function o(s,i,a,c){Promise.resolve(c).then(function(l){s({value:l,done:a})},i)}(a,c,(i=e[s](i)).done,i.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const aL=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function cL(e){return et(e?.then)}function lL(e){return et(e[wb])}function uL(e){return Symbol.asyncIterator&&et(e?.[Symbol.asyncIterator])}function dL(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const fL=function Ate(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function hL(e){return et(e?.[fL])}function pL(e){return function sL(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,r=n.apply(e,t||[]),s=[];return o={},a("next"),a("throw"),a("return",function i(h){return function(g){return Promise.resolve(g).then(h,d)}}),o[Symbol.asyncIterator]=function(){return this},o;function a(h,g){r[h]&&(o[h]=function(m){return new Promise(function(y,S){s.push([h,m,y,S])>1||c(h,m)})},g&&(o[h]=g(o[h])))}function c(h,g){try{!function l(h){h.value instanceof Js?Promise.resolve(h.value.v).then(u,d):f(s[0][2],h)}(r[h](g))}catch(m){f(s[0][3],m)}}function u(h){c("next",h)}function d(h){c("throw",h)}function f(h,g){h(g),s.shift(),s.length&&c(s[0][0],s[0][1])}}(this,arguments,function*(){const n=e.getReader();try{for(;;){const{value:r,done:o}=yield Js(n.read());if(o)return yield Js(void 0);yield yield Js(r)}}finally{n.releaseLock()}})}function gL(e){return et(e?.getReader)}function Qr(e){if(e instanceof Ge)return e;if(null!=e){if(lL(e))return function kte(e){return new Ge(t=>{const n=e[wb]();if(et(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(aL(e))return function Nte(e){return new Ge(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}(e);if(cL(e))return function xte(e){return new Ge(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,KT)})}(e);if(uL(e))return mL(e);if(hL(e))return function Fte(e){return new Ge(t=>{for(const n of e)if(t.next(n),t.closed)return;t.complete()})}(e);if(gL(e))return function Pte(e){return mL(pL(e))}(e)}throw dL(e)}function mL(e){return new Ge(t=>{(function Lte(e,t){var n,r,o,s;return function rL(e,t,n,r){return new(n||(n=Promise))(function(s,i){function a(u){try{l(r.next(u))}catch(d){i(d)}}function c(u){try{l(r.throw(u))}catch(d){i(d)}}function l(u){u.done?s(u.value):function o(s){return s instanceof n?s:new n(function(i){i(s)})}(u.value).then(a,c)}l((r=r.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){try{for(n=iL(e);!(r=yield n.next()).done;)if(t.next(r.value),t.closed)return}catch(i){o={error:i}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(o)throw o.error}}t.complete()})})(e,t).catch(n=>t.error(n))})}function ss(e,t,n,r=0,o=!1){const s=t.schedule(function(){n(),o?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(s),!o)return s}function _L(e,t=0){return xt((n,r)=>{n.subscribe(Dt(r,o=>ss(r,e,()=>r.next(o),t),()=>ss(r,e,()=>r.complete(),t),o=>ss(r,e,()=>r.error(o),t)))})}function yL(e,t=0){return xt((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function vL(e,t){if(!e)throw new Error("Iterable cannot be null");return new Ge(n=>{ss(n,t,()=>{const r=e[Symbol.asyncIterator]();ss(n,t,()=>{r.next().then(o=>{o.done?n.complete():n.next(o.value)})},0,!0)})})}function Xt(e,t){return t?function $te(e,t){if(null!=e){if(lL(e))return function Vte(e,t){return Qr(e).pipe(yL(t),_L(t))}(e,t);if(aL(e))return function Bte(e,t){return new Ge(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}(e,t);if(cL(e))return function jte(e,t){return Qr(e).pipe(yL(t),_L(t))}(e,t);if(uL(e))return vL(e,t);if(hL(e))return function Ute(e,t){return new Ge(n=>{let r;return ss(n,t,()=>{r=e[fL](),ss(n,t,()=>{let o,s;try{({value:o,done:s}=r.next())}catch(i){return void n.error(i)}s?n.complete():n.next(o)},0,!0)}),()=>et(r?.return)&&r.return()})}(e,t);if(gL(e))return function Hte(e,t){return vL(pL(e),t)}(e,t)}throw dL(e)}(e,t):Qr(e)}const{isArray:qte}=Array;function EL(e){return e&&et(e.schedule)}function Ow(e){return e[e.length-1]}function Km(e){return EL(Ow(e))?e.pop():void 0}function Zm(...e){const t=Km(e),n=function CL(e){return et(Ow(e))?e.pop():void 0}(e),{args:r,keys:o}=function nL(e){if(1===e.length){const t=e[0];if(ste(t))return{args:t,keys:null};if(function lte(e){return e&&"object"==typeof e&&ite(e)===ate}(t)){const n=cte(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}(e);if(0===r.length)return Xt([],t);const s=new Ge(function Wte(e,t,n=Li){return r=>{wL(t,()=>{const{length:o}=e,s=new Array(o);let i=o,a=o;for(let c=0;c<o;c++)wL(t,()=>{const l=Xt(e[c],t);let u=!1;l.subscribe(Dt(r,d=>{s[c]=d,u||(u=!0,a--),a||r.next(n(s.slice()))},()=>{--i||r.complete()}))},r)},r)}}(r,t,o?i=>function SL(e,t){return e.reduce((n,r,o)=>(n[r]=t[o],n),{})}(o,i):Li));return n?s.pipe(function bL(e){return se(t=>function zte(e,t){return qte(t)?e(...t):e(t)}(e,t))}(n)):s}function wL(e,t,n){e?ss(n,e,t):t()}function Rn(e,t,n=1/0){return et(t)?Rn((r,o)=>se((s,i)=>t(r,s,o,i))(Qr(e(r,o))),n):("number"==typeof t&&(n=t),xt((r,o)=>function Gte(e,t,n,r,o,s,i,a){const c=[];let l=0,u=0,d=!1;const f=()=>{d&&!c.length&&!l&&t.complete()},h=m=>l<r?g(m):c.push(m),g=m=>{s&&t.next(m),l++;let y=!1;Qr(n(m,u++)).subscribe(Dt(t,S=>{o?.(S),s?h(S):t.next(S)},()=>{y=!0},void 0,()=>{if(y)try{for(l--;c.length&&l<r;){const S=c.shift();i?ss(t,i,()=>g(S)):g(S)}f()}catch(S){t.error(S)}}))};return e.subscribe(Dt(t,h,()=>{d=!0,f()})),()=>{a?.()}}(r,o,e,n)))}function Ym(...e){return function Xte(){return function Aw(e=1/0){return Rn(Li,e)}(1)}()(Xt(e,Km(e)))}const wo=new Ge(e=>e.complete());function ei(e){return e<=0?()=>wo:xt((t,n)=>{let r=0;t.subscribe(Dt(n,o=>{++r<=e&&(n.next(o),e<=r&&n.complete())}))})}function is(e,t){return xt((n,r)=>{let o=0;n.subscribe(Dt(r,s=>e.call(t,s,o++)&&r.next(s)))})}class Yte extends ln{constructor(t,n){super()}schedule(t,n=0){return this}}const Qm={setInterval(e,t,...n){const{delegate:r}=Qm;return r?.setInterval?r.setInterval(e,t,...n):setInterval(e,t,...n)},clearInterval(e){const{delegate:t}=Qm;return(t?.clearInterval||clearInterval)(e)},delegate:void 0},kw={now:()=>(kw.delegate||Date).now(),delegate:void 0};class Tf{constructor(t,n=Tf.now){this.schedulerActionCtor=t,this.now=n}schedule(t,n=0,r){return new this.schedulerActionCtor(this,t).schedule(r,n)}}Tf.now=kw.now;const DL=new class Jte extends Tf{constructor(t,n=Tf.now){super(t,n),this.actions=[],this._active=!1}flush(t){const{actions:n}=this;if(this._active)return void n.push(t);let r;this._active=!0;do{if(r=t.execute(t.state,t.delay))break}while(t=n.shift());if(this._active=!1,r){for(;t=n.shift();)t.unsubscribe();throw r}}}(class Qte extends Yte{constructor(t,n){super(t,n),this.scheduler=t,this.work=n,this.pending=!1}schedule(t,n=0){var r;if(this.closed)return this;this.state=t;const o=this.id,s=this.scheduler;return null!=o&&(this.id=this.recycleAsyncId(s,o,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(t,n,r=0){return Qm.setInterval(t.flush.bind(t,this),r)}recycleAsyncId(t,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&Qm.clearInterval(n)}execute(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(t,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,n){let o,r=!1;try{this.work(t)}catch(s){r=!0,o=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),o}unsubscribe(){if(!this.closed){const{id:t,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,xp(r,this),null!=t&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,super.unsubscribe()}}}),ene=DL;function Jm(...e){const t=Km(e);return xt((n,r)=>{(t?Ym(e,n,t):Ym(e,n)).subscribe(r)})}function ML(e){return xt((t,n)=>{Qr(e).subscribe(Dt(n,()=>n.complete(),vb)),!n.closed&&t.subscribe(n)})}let Nw;try{Nw=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Nw=!1}let nne=(()=>{class e{constructor(n){this._platformId=n,this.isBrowser=this._platformId?T1(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Nw)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static{this.\u0275fac=function(r){return new(r||e)(j(yo))}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const TL=new Set;let ua,sne=(()=>{class e{constructor(n,r){this._platform=n,this._nonce=r,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):ane}matchMedia(n){return(this._platform.WEBKIT||this._platform.BLINK)&&function ine(e,t){if(!TL.has(e))try{ua||(ua=document.createElement("style"),t&&ua.setAttribute("nonce",t),ua.setAttribute("type","text/css"),document.head.appendChild(ua)),ua.sheet&&(ua.sheet.insertRule(`@media ${e} {body{ }}`,0),TL.add(e))}catch(n){console.error(n)}}(n,this._nonce),this._matchMedia(n)}static{this.\u0275fac=function(r){return new(r||e)(j(nne),j(VE,8))}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function ane(e){return{matches:"all"===e||""===e,media:e,addListener:()=>{},removeListener:()=>{}}}let cne=(()=>{class e{constructor(n,r){this._mediaMatcher=n,this._zone=r,this._queries=new Map,this._destroySubject=new Nt}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(n){return RL(tL(n)).some(o=>this._registerQuery(o).mql.matches)}observe(n){let s=Zm(RL(tL(n)).map(i=>this._registerQuery(i).observable));return s=Ym(s.pipe(ei(1)),s.pipe(function Zte(e){return is((t,n)=>e<=n)}(1),function tne(e,t=DL){return xt((n,r)=>{let o=null,s=null,i=null;const a=()=>{if(o){o.unsubscribe(),o=null;const l=s;s=null,r.next(l)}};function c(){const l=i+e,u=t.now();if(u<l)return o=this.schedule(void 0,l-u),void r.add(o);a()}n.subscribe(Dt(r,l=>{s=l,i=t.now(),o||(o=t.schedule(c,e),r.add(o))},()=>{a(),r.complete()},void 0,()=>{s=o=null}))})}(0))),s.pipe(se(i=>{const a={matches:!1,breakpoints:{}};return i.forEach(({matches:c,query:l})=>{a.matches=a.matches||c,a.breakpoints[l]=c}),a}))}_registerQuery(n){if(this._queries.has(n))return this._queries.get(n);const r=this._mediaMatcher.matchMedia(n),s={observable:new Ge(i=>{const a=c=>this._zone.run(()=>i.next(c));return r.addListener(a),()=>{r.removeListener(a)}}).pipe(Jm(r),se(({matches:i})=>({query:n,matches:i})),ML(this._destroySubject)),mql:r};return this._queries.set(n,s),s}static{this.\u0275fac=function(r){return new(r||e)(j(sne),j(Te))}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function RL(e){return e.map(t=>t.split(",")).reduce((t,n)=>t.concat(n)).map(t=>t.trim())}var da=function(e){return e.LIGHT="light",e.DARK="dark",e}(da||{});let une=(()=>{class e{constructor(n){this.document=n,this.currentMode=da.LIGHT,this.modeChangedSubject=new xn(this.currentMode),this.modeChanged$=this.modeChangedSubject.asObservable(),this.init()}updateCurrentMode(n){this.currentMode=n,this.modeChangedSubject.next(this.currentMode)}init(){const n=window.matchMedia("(prefers-color-scheme: dark)");let r=da.LIGHT;r=n.matches?da.DARK:da.LIGHT,this.updateCurrentMode(r),this.document.body.classList.add(this.currentMode)}static{this.\u0275fac=function(r){return new(r||e)(j(Er))}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function ne(...e){return Xt(e,Km(e))}function OL(e=0,t,n=ene){let r=-1;return null!=t&&(EL(t)?n=t:r=t),new Ge(o=>{let s=function dne(e){return e instanceof Date&&!isNaN(e)}(e)?+e-n.now():e;s<0&&(s=0);let i=0;return n.schedule(function(){o.closed||(o.next(i++),0<=r?this.schedule(void 0,r):o.complete())},s)})}function wr(e,t){return xt((n,r)=>{let o=null,s=0,i=!1;const a=()=>i&&!o&&r.complete();n.subscribe(Dt(r,c=>{o?.unsubscribe();let l=0;const u=s++;Qr(e(c,u)).subscribe(o=Dt(r,d=>r.next(t?t(c,d,u,l++):d),()=>{o=null,a()}))},()=>{i=!0,a()}))})}class fne extends Nt{constructor(t=1/0,n=1/0,r=kw){super(),this._bufferSize=t,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,n)}next(t){const{isStopped:n,_buffer:r,_infiniteTimeWindow:o,_timestampProvider:s,_windowTime:i}=this;n||(r.push(t),!o&&r.push(s.now()+i)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const n=this._innerSubscribe(t),{_infiniteTimeWindow:r,_buffer:o}=this,s=o.slice();for(let i=0;i<s.length&&!t.closed;i+=r?1:2)t.next(s[i]);return this._checkFinalizedStatuses(t),n}_trimBuffer(){const{_bufferSize:t,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:o}=this,s=(o?1:2)*t;if(t<1/0&&s<r.length&&r.splice(0,r.length-s),!o){const i=n.now();let a=0;for(let c=1;c<r.length&&r[c]<=i;c+=2)a=c;a&&r.splice(0,a+1)}}}function Fw(e,t,...n){if(!0===t)return void e();if(!1===t)return;const r=new td({next:()=>{r.unsubscribe(),e()}});return t(...n).subscribe(r)}function gne(e,t){if(1&e&&(Re(0,"div",3),Dn(1,"div",4),Fe()),2&e){const n=vr(2);nt(),Gs("width",n.diameter)("height",n.diameter)}}function mne(e,t){if(1&e&&Dn(0,"div",5),2&e){const n=vr().ngIf,r=vr();Gs("background",r.color)("height",r.height)("width",n+"%")}}function _ne(e,t){if(1&e&&(Xs(0),_r(1,gne,2,4,"div",1)(2,mne,1,6,"div",2),Ks()),2&e){const n=vr();nt(),pt("ngIf",n.includeSpinner),nt(),pt("ngIf",n.includeBar)}}function yne(e,t){if(1&e&&(Re(0,"div",3),Dn(1,"div",4),Fe()),2&e){const n=vr(2);nt(),Gs("width",n.diameter)("height",n.diameter)}}function vne(e,t){if(1&e&&Dn(0,"div",5),2&e){const n=vr().ngIf,r=vr();Gs("background",r.color)("height",r.height)("width",n+"%")}}function bne(e,t){if(1&e&&(Xs(0),_r(1,yne,2,4,"div",1)(2,vne,1,6,"div",2),Ks()),2&e){const n=vr();nt(),pt("ngIf",n.includeSpinner),nt(),pt("ngIf",n.includeBar)}}class Cne{constructor(t={}){this.config=t,this.state={action:null,value:0,initialValue:0},this.requests=null,this.disabled=!1,this.stream$=new Nt,this._value$=null,this.timer$=n=>{let r=ne(n);switch(n.action){case"start":case"increment":case"set":"start"===n.action&&0===this.config.latencyThreshold&&0===n.value&&(n.value=n.initialValue),this.requests>0&&(r=OL(this.config.latencyThreshold,250).pipe(se(o=>({...n,value:0===o?this.state.value||n.initialValue:this._increment()}))));break;case"complete":case"stop":r=0===n.value?ne({...n}):OL(0,500).pipe(ei(2),se(o=>({value:0===o?100:0})))}return r.pipe(se(o=>({...o,action:"set"})),function pn(e,t,n){const r=et(e)||t||n?{next:e,error:t,complete:n}:e;return r?xt((o,s)=>{var i;null===(i=r.subscribe)||void 0===i||i.call(r);let a=!0;o.subscribe(Dt(s,c=>{var l;null===(l=r.next)||void 0===l||l.call(r,c),s.next(c)},()=>{var c;a=!1,null===(c=r.complete)||void 0===c||c.call(r),s.complete()},c=>{var l;a=!1,null===(l=r.error)||void 0===l||l.call(r,c),s.error(c)},()=>{var c,l;a&&(null===(c=r.unsubscribe)||void 0===c||c.call(r)),null===(l=r.finalize)||void 0===l||l.call(r)}))}):Li}(o=>this.next(o,!1)))},this.config={latencyThreshold:0,...t}}get value$(){return this._value$?this._value$:this._value$=this.stream$.pipe(Jm(this.state),wr(t=>this.timer$(t)),function pne(e,t,n){let r,o=!1;return e&&"object"==typeof e?({bufferSize:r=1/0,windowTime:t=1/0,refCount:o=!1,scheduler:n}=e):r=e??1/0,function hne(e={}){const{connector:t=()=>new Nt,resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:o=!0}=e;return s=>{let i,a,c,l=0,u=!1,d=!1;const f=()=>{a?.unsubscribe(),a=void 0},h=()=>{f(),i=c=void 0,u=d=!1},g=()=>{const m=i;h(),m?.unsubscribe()};return xt((m,y)=>{l++,!d&&!u&&f();const S=c=c??t();y.add(()=>{l--,0===l&&!d&&!u&&(a=Fw(g,o))}),S.subscribe(y),!i&&l>0&&(i=new td({next:v=>S.next(v),error:v=>{d=!0,f(),a=Fw(h,n,v),S.error(v)},complete:()=>{u=!0,f(),a=Fw(h,r),S.complete()}}),Qr(m).subscribe(i))})(s)}}({connector:()=>new fne(r,t,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}(),se(t=>t.value))}start(t=2){this.disabled||this.next({action:"start",initialValue:t})}stop(){this.next({action:"stop"})}complete(){this.next({action:"complete"})}disable(){this.disabled=!0}set(t){this.next({action:"set",value:t})}increment(t=0){this.next({action:"increment",value:t})}next(t,n=!0){switch(t.action){case"start":this.requests=(this.requests||0)+1;break;case"complete":if(this.requests=(this.requests||1)-1,this.requests>0)return;break;case"stop":this.requests=0;break;case"increment":t.value=this._increment(t.value)}this.state={...this.state,action:null,...t},n&&this.stream$.next(this.state)}_increment(t=0){const n=this.state.value;return n>=99&&(t=0),0===t&&(t=n>=0&&n<25?3*Math.random()+3:n>=25&&n<65?3*Math.random():n>=65&&n<90?2*Math.random():n>=90&&n<99?.5:0),t+n}}const AL=new P("LOADING_BAR_CONFIG");let Pw=(()=>{class e{get progress$(){return this.value$}constructor(n,r={},o){this.platformId=n,this.config=r,this.zone=o,this.refs={},this.streams$=new Nt,this.value$=this.streams$.pipe(Jm(null),wr(()=>Zm(Object.keys(this.refs).map(s=>this.refs[s].value$))),function Sne(e){return e?t=>new Ge(n=>t.subscribe(r=>e.run(()=>n.next(r)),r=>e.run(()=>n.error(r)),()=>e.run(()=>n.complete()))):t=>t}(this.zone),se(s=>Math.max(0,...s)))}start(n=2){this.useRef().start(n)}set(n){this.useRef().set(n)}increment(n){this.useRef().increment(n)}complete(){this.useRef().complete()}stop(){this.useRef().stop()}useRef(n="default"){return this.refs[n]||(this.refs[n]=new Cne(this.config),this.streams$.next(),T1(this.platformId)||this.refs[n].disable()),this.refs[n]}static{this.\u0275fac=function(r){return new(r||e)(j(yo),j(AL,8),j(Te,8))}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),wne=(()=>{class e{get value$(){return this.ref?this.loader.useRef(this.ref).value$:this.loader.value$}constructor(n){this.loader=n,this.includeSpinner=!0,this.includeBar=!0,this.fixed=!0,this.color="#29d"}static{this.\u0275fac=function(r){return new(r||e)(k(Pw))}}static{this.\u0275cmp=qo({type:e,selectors:[["ngx-loading-bar"]],hostVars:3,hostBindings:function(r,o){2&r&&(yr("fixed",o.fixed),Gs("color",o.color))},inputs:{includeSpinner:"includeSpinner",includeBar:"includeBar",fixed:"fixed",color:"color",value:"value",ref:"ref",height:"height",diameter:"diameter"},standalone:!0,features:[sa],decls:2,vars:3,consts:[[4,"ngIf"],["class","ngx-spinner",4,"ngIf"],["class","ngx-bar",3,"background","height","width",4,"ngIf"],[1,"ngx-spinner"],[1,"ngx-spinner-icon"],[1,"ngx-bar"]],template:function(r,o){1&r&&(_r(0,_ne,3,2,"ng-container",0),kS(1,"async")),2&r&&pt("ngIf",null!=o.value?o.value:NS(1,1,o.value$))},dependencies:[hw,$m],styles:["[_nghost-%COMP%]{position:relative;display:block;pointer-events:none}[_nghost-%COMP%]   .ngx-spinner[_ngcontent-%COMP%]{transition:.35s linear all;display:block;position:absolute;top:5px;left:0}[_nghost-%COMP%]   .ngx-spinner[_ngcontent-%COMP%]   .ngx-spinner-icon[_ngcontent-%COMP%]{width:14px;height:14px;border:solid 2px transparent;border-top-color:inherit;border-left-color:inherit;border-radius:50%;animation:_ngcontent-%COMP%_loading-bar-spinner .4s linear infinite}[_nghost-%COMP%]   .ngx-bar[_ngcontent-%COMP%]{transition:width .35s;position:absolute;top:0;left:0;width:100%;height:2px;border-bottom-right-radius:1px;border-top-right-radius:1px}[dir=rtl]   [_nghost-%COMP%]   .ngx-bar[_ngcontent-%COMP%]{right:0;left:unset}[fixed=true][_nghost-%COMP%]{z-index:10002}[fixed=true][_nghost-%COMP%]   .ngx-bar[_ngcontent-%COMP%]{position:fixed}[fixed=true][_nghost-%COMP%]   .ngx-spinner[_ngcontent-%COMP%]{position:fixed;top:10px;left:10px}[dir=rtl]   [fixed=true][_nghost-%COMP%]   .ngx-spinner[_ngcontent-%COMP%]{right:10px;left:unset}@keyframes _ngcontent-%COMP%_loading-bar-spinner{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"],changeDetection:0})}}return e})(),Dne=(()=>{class e extends wne{static{this.\u0275fac=(()=>{let n;return function(o){return(n||(n=function Bt(e){return Ho(()=>{const t=e.prototype.constructor,n=t[$o]||DE(t),r=Object.prototype;let o=Object.getPrototypeOf(e.prototype).constructor;for(;o&&o!==r;){const s=o[$o]||DE(o);if(s&&s!==n)return s;o=Object.getPrototypeOf(o)}return s=>new s})}(e)))(o||e)}})()}static{this.\u0275cmp=qo({type:e,selectors:[["ngx-loading-bar"]],hostVars:3,hostBindings:function(r,o){2&r&&(yr("fixed",o.fixed),Gs("color",o.color))},features:[xe],decls:2,vars:3,consts:[[4,"ngIf"],["class","ngx-spinner",4,"ngIf"],["class","ngx-bar",3,"background","height","width",4,"ngIf"],[1,"ngx-spinner"],[1,"ngx-spinner-icon"],[1,"ngx-bar"]],template:function(r,o){1&r&&(_r(0,bne,3,2,"ng-container",0),kS(1,"async")),2&r&&pt("ngIf",null!=o.value?o.value:NS(1,1,o.value$))},dependencies:[$m,hw],styles:["[_nghost-%COMP%]{position:relative;display:block;pointer-events:none}[_nghost-%COMP%]   .ngx-spinner[_ngcontent-%COMP%]{transition:.35s linear all;display:block;position:absolute;top:5px;left:0}[_nghost-%COMP%]   .ngx-spinner[_ngcontent-%COMP%]   .ngx-spinner-icon[_ngcontent-%COMP%]{width:14px;height:14px;border:solid 2px transparent;border-top-color:inherit;border-left-color:inherit;border-radius:50%;animation:_ngcontent-%COMP%_loading-bar-spinner .4s linear infinite}[_nghost-%COMP%]   .ngx-bar[_ngcontent-%COMP%]{transition:width .35s;position:absolute;top:0;left:0;width:100%;height:2px;border-bottom-right-radius:1px;border-top-right-radius:1px}[dir=rtl]   [_nghost-%COMP%]   .ngx-bar[_ngcontent-%COMP%]{right:0;left:unset}[fixed=true][_nghost-%COMP%]{z-index:10002}[fixed=true][_nghost-%COMP%]   .ngx-bar[_ngcontent-%COMP%]{position:fixed}[fixed=true][_nghost-%COMP%]   .ngx-spinner[_ngcontent-%COMP%]{position:fixed;top:10px;left:10px}[dir=rtl]   [fixed=true][_nghost-%COMP%]   .ngx-spinner[_ngcontent-%COMP%]{right:10px;left:unset}@keyframes _ngcontent-%COMP%_loading-bar-spinner{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"],changeDetection:0})}}return e})(),Mne=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=zo({type:e})}static{this.\u0275inj=co({imports:[M1]})}}return e})();const Af=_b(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function xL(e=Tne){return xt((t,n)=>{let r=!1;t.subscribe(Dt(n,o=>{r=!0,n.next(o)},()=>r?n.complete():n.error(e())))})}function Tne(){return new Af}function as(e,t){const n=arguments.length>=2;return r=>r.pipe(e?is((o,s)=>e(o,s,r)):Li,ei(1),n?function n_(e){return xt((t,n)=>{let r=!1;t.subscribe(Dt(n,o=>{r=!0,n.next(o)},()=>{r||n.next(e),n.complete()}))})}(t):xL(()=>new Af))}function fa(e,t){return et(t)?Rn(e,t,1):Rn(e,1)}function Dl(e){return xt((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}const kf=Symbol("RouteTitle");class Nne{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Ml(e){return new Nne(e)}class Cre{get injector(){return function jf(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){const n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}(this.route?.snapshot)??this.rootInjector}set injector(t){}constructor(t){this.rootInjector=t,this.outlet=null,this.route=null,this.children=new Bf(this.rootInjector),this.attachRef=null}}let Bf=(()=>{class e{constructor(n){this.rootInjector=n,this.contexts=new Map}onChildOutletCreated(n,r){const o=this.getOrCreateContext(n);o.outlet=r,this.contexts.set(n,o)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new Cre(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static{this.\u0275fac=function(r){return new(r||e)(j(Vn))}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();class ya{constructor(t,n,r,o,s,i,a,c){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=o,this.dataSubject=s,this.outlet=i,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(se(l=>l[kf]))??ne(void 0),this.url=t,this.params=n,this.queryParams=r,this.fragment=o,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(se(t=>Ml(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(se(t=>Ml(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}let Jw=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name="primary",this.activateEvents=new it,this.deactivateEvents=new it,this.attachEvents=new it,this.detachEvents=new it,this.parentContexts=I(Bf),this.location=I(Gr),this.changeDetector=I(yf),this.inputBinder=I(h_,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:o}=n.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new M(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new M(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new M(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new M(4013,!1);this._activatedRoute=n;const o=this.location,i=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new eD(n,a,o.injector);this.activated=o.createComponent(i,{index:o.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275dir=te({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[pr]})}}return e})();class eD{__ngOutletInjector(t){return new eD(this.route,this.childContexts,t)}constructor(t,n,r){this.route=t,this.childContexts=n,this.parent=r}get(t,n){return t===ya?this.route:t===Bf?this.childContexts:this.parent.get(t,n)}}const h_=new P("");function Uoe(e,t){1&e&&(Xs(0),Re(1,"main",1),Dn(2,"img",2),Re(3,"section",3),Dn(4,"router-outlet"),Fe()(),Ks())}function Hoe(e,t){1&e&&(Xs(0),Re(1,"main",4)(2,"section",3),Dn(3,"router-outlet"),Fe()(),Ks())}function $oe(e,t){1&e&&Dn(0,"img",11)}function qoe(e,t){1&e&&Dn(0,"img",12)}function zoe(e,t){if(1&e&&(Xs(0),Re(1,"header",5),Dn(2,"img",6),Fe(),Re(3,"div",7),_r(4,$oe,1,0,"img",8)(5,qoe,1,0,"img",9),Fe(),Re(6,"div",10)(7,"h1"),br(8,"Only available in landscape mode"),Fe(),Re(9,"h3"),br(10,"Turn your device!"),Fe()(),Ks()),2&e){const n=vr();nt(4),pt("ngIf",n.mode==n.Mode.LIGHT),nt(),pt("ngIf",n.mode==n.Mode.DARK)}}Error;let Woe=(()=>{class e{constructor(n,r){this.responsive=n,this.modeToggleService=r,this.isMobileDisplay=!0,this.isPortrait=!1,this.isLandscape=!1,this.mode=da.LIGHT,this.Mode=da,this.modeToggleService.modeChanged$.subscribe(o=>this.mode=o),this.checkOrientation()}ngOnInit(){this.responsive.observe(["(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)"]).subscribe(n=>{this.isMobileDisplay=!n.matches})}onOrientationChange(n){this.checkOrientation()}checkOrientation(){const n=window.screen.orientation.angle;this.isPortrait=0===n||180===n,this.isLandscape=90===n||-90===n}static{this.\u0275fac=function(r){return new(r||e)(k(cne),k(une))}}static{this.\u0275cmp=qo({type:e,selectors:[["app-root"]],hostBindings:function(r,o){1&r&&gt("orientationchange",function(i){return o.onOrientationChange(i)},0,xA)},decls:4,vars:3,consts:[[4,"ngIf"],[1,"flex","app-container"],["src","./assets/images/title.svg","id","title-image","alt","Website Title",1,"top-left-corner"],[1,"flex","content"],[1,"app-container"],[1,"header-mobile","mt-40","mb-40"],["src","./assets/images/title-mobile.svg","alt","Website Title",1,"title-image-mobile"],[1,"portrait-to-landscape"],["src","./assets/images/light/orientation.png","class","portrait-to-landscape-image","alt","Portrait to landscape image",4,"ngIf"],["src","./assets/images/dark/orientation.png","class","portrait-to-landscape-image","alt","Portrait to landscape image",4,"ngIf"],[1,"ml-10"],["src","./assets/images/light/orientation.png","alt","Portrait to landscape image",1,"portrait-to-landscape-image"],["src","./assets/images/dark/orientation.png","alt","Portrait to landscape image",1,"portrait-to-landscape-image"]],template:function(r,o){1&r&&(Dn(0,"ngx-loading-bar"),_r(1,Uoe,5,0,"ng-container",0)(2,Hoe,4,0,"ng-container",0)(3,zoe,11,2,"ng-container",0)),2&r&&(nt(),pt("ngIf",!o.isMobileDisplay),nt(),pt("ngIf",o.isMobileDisplay&&o.isLandscape),nt(),pt("ngIf",o.isMobileDisplay&&o.isPortrait))},dependencies:[$m,Dne,Jw],styles:['html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%;margin:0}[_ngcontent-%COMP%]:root{font-family:Inter,sans-serif;font-feature-settings:"liga" 1,"calt" 1,"ss01" on}@supports (font-variation-settings: normal){[_ngcontent-%COMP%]:root{font-family:InterVariable,sans-serif}}a[_ngcontent-%COMP%]{all:unset}h3[_ngcontent-%COMP%]{margin:0}button[_ngcontent-%COMP%]{font-family:inherit;font-size:100%;line-height:1.15;margin:0;overflow:visible;text-transform:none;-webkit-appearance:button}.flex[_ngcontent-%COMP%]{display:flex}.mt-40[_ngcontent-%COMP%]{margin-top:40px}.mb-40[_ngcontent-%COMP%]{margin-bottom:40px}.mb-10[_ngcontent-%COMP%]{margin-bottom:10px}.ml-10[_ngcontent-%COMP%]{margin-left:10px}body.dark[_ngcontent-%COMP%]{--backgroundColor: #2e2e2e;--textColor: white;--borderColor: white;--menuButtonColor: #CC71FA;--gridHighLightColor: #474747;background-color:var(--backgroundColor);color:var(--textColor)}body.light[_ngcontent-%COMP%]{--backgroundColor: white;--textColor: black;--borderColor: black;--menuButtonColor: #70F1FA;--gridHighLightColor: #e8e8e8;background-color:var(--backgroundColor);color:var(--textColor)}.app-container[_ngcontent-%COMP%]{height:100%}.app-container[_ngcontent-%COMP%]   .top-left-corner[_ngcontent-%COMP%]{position:absolute;top:10px;left:10px}.menu[_ngcontent-%COMP%]{flex-direction:column;justify-content:flex-start;align-items:flex-start}.menu.genre[_ngcontent-%COMP%]{justify-content:flex-end}.content[_ngcontent-%COMP%]{flex:1;justify-content:center;align-items:center;overflow:auto;height:100%}.header[_ngcontent-%COMP%]{width:240px;font-size:30px}.column[_ngcontent-%COMP%]{flex-direction:column}.nowrap[_ngcontent-%COMP%]{white-space:nowrap}.header-mobile[_ngcontent-%COMP%]{font-size:30px;width:100%;text-align:center}.pointer[_ngcontent-%COMP%]{cursor:pointer}#title-image[_ngcontent-%COMP%]{width:150px;aspect-ratio:1}.title-image-mobile[_ngcontent-%COMP%]{width:300px}.portrait-to-landscape[_ngcontent-%COMP%]{justify-content:center;display:flex;flex-direction:row;margin:50px}.portrait-to-landscape[_ngcontent-%COMP%]   .portrait-to-landscape-image[_ngcontent-%COMP%]{width:100px}']})}}return e})();function F2(e,t,n,r,o,s,i){try{var a=e[s](i),c=a.value}catch(l){return void n(l)}a.done?t(c):Promise.resolve(c).then(r,o)}function va(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var s=e.apply(t,n);function i(c){F2(s,r,o,i,a,"next",c)}function a(c){F2(s,r,o,i,a,"throw",c)}i(void 0)})}}class E_{}class Gf{}class tr{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?"string"==typeof t?this.lazyInit=()=>{this.headers=new Map,t.split("\n").forEach(n=>{const r=n.indexOf(":");if(r>0){const o=n.slice(0,r),s=o.toLowerCase(),i=n.slice(r+1).trim();this.maybeSetNormalizedName(o,s),this.headers.has(s)?this.headers.get(s).push(i):this.headers.set(s,[i])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const n=this.headers.get(t.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,n){return this.clone({name:t,value:n,op:"a"})}set(t,n){return this.clone({name:t,value:n,op:"s"})}delete(t,n){return this.clone({name:t,value:n,op:"d"})}maybeSetNormalizedName(t,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,t)}init(){this.lazyInit&&(this.lazyInit instanceof tr?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(n=>{this.headers.set(n,t.headers.get(n)),this.normalizedNames.set(n,t.normalizedNames.get(n))})}clone(t){const n=new tr;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof tr?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}applyUpdate(t){const n=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(t.name,n);const o=("a"===t.op?this.headers.get(n):void 0)||[];o.push(...r),this.headers.set(n,o);break;case"d":const s=t.value;if(s){let i=this.headers.get(n);if(!i)return;i=i.filter(a=>-1===s.indexOf(a)),0===i.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,i)}else this.headers.delete(n),this.normalizedNames.delete(n)}}setHeaderEntries(t,n){const r=(Array.isArray(n)?n:[n]).map(s=>s.toString()),o=t.toLowerCase();this.headers.set(o,r),this.maybeSetNormalizedName(t,o)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>t(this.normalizedNames.get(n),this.headers.get(n)))}}class Goe{encodeKey(t){return P2(t)}encodeValue(t){return P2(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const Koe=/%(\d[a-f0-9])/gi,Zoe={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function P2(e){return encodeURIComponent(e).replace(Koe,(t,n)=>Zoe[n]??t)}function C_(e){return`${e}`}class cs{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new Goe,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Xoe(e,t){const n=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(o=>{const s=o.indexOf("="),[i,a]=-1==s?[t.decodeKey(o),""]:[t.decodeKey(o.slice(0,s)),t.decodeValue(o.slice(s+1))],c=n.get(i)||[];c.push(a),n.set(i,c)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(n=>{const r=t.fromObject[n],o=Array.isArray(r)?r.map(C_):[C_(r)];this.map.set(n,o)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const n=this.map.get(t);return n?n[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,n){return this.clone({param:t,value:n,op:"a"})}appendAll(t){const n=[];return Object.keys(t).forEach(r=>{const o=t[r];Array.isArray(o)?o.forEach(s=>{n.push({param:r,value:s,op:"a"})}):n.push({param:r,value:o,op:"a"})}),this.clone(n)}set(t,n){return this.clone({param:t,value:n,op:"s"})}delete(t,n){return this.clone({param:t,value:n,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const n=this.encoder.encodeKey(t);return this.map.get(t).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const n=new cs({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(t),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const n=("a"===t.op?this.map.get(t.param):void 0)||[];n.push(C_(t.value)),this.map.set(t.param,n);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let r=this.map.get(t.param)||[];const o=r.indexOf(C_(t.value));-1!==o&&r.splice(o,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class Yoe{constructor(){this.map=new Map}set(t,n){return this.map.set(t,n),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function L2(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function V2(e){return typeof Blob<"u"&&e instanceof Blob}function j2(e){return typeof FormData<"u"&&e instanceof FormData}class Xf{constructor(t,n,r,o){let s;if(this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function Qoe(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==r?r:null,s=o):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new tr,this.context??=new Yoe,this.params){const i=this.params.toString();if(0===i.length)this.urlWithParams=n;else{const a=n.indexOf("?");this.urlWithParams=n+(-1===a?"?":a<n.length-1?"&":"")+i}}else this.params=new cs,this.urlWithParams=n}serializeBody(){return null===this.body?null:"string"==typeof this.body||L2(this.body)||V2(this.body)||j2(this.body)||function Joe(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}(this.body)?this.body:this.body instanceof cs?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||j2(this.body)?null:V2(this.body)?this.body.type||null:L2(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof cs?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const n=t.method||this.method,r=t.url||this.url,o=t.responseType||this.responseType,s=t.transferCache??this.transferCache,i=void 0!==t.body?t.body:this.body,a=t.withCredentials??this.withCredentials,c=t.reportProgress??this.reportProgress;let l=t.headers||this.headers,u=t.params||this.params;const d=t.context??this.context;return void 0!==t.setHeaders&&(l=Object.keys(t.setHeaders).reduce((f,h)=>f.set(h,t.setHeaders[h]),l)),t.setParams&&(u=Object.keys(t.setParams).reduce((f,h)=>f.set(h,t.setParams[h]),u)),new Xf(n,r,i,{params:u,headers:l,context:d,reportProgress:c,responseType:o,withCredentials:a,transferCache:s})}}var ri=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(ri||{});class uD{constructor(t,n=200,r="OK"){this.headers=t.headers||new tr,this.status=void 0!==t.status?t.status:n,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class S_ extends uD{constructor(t={}){super(t),this.type=ri.ResponseHeader}clone(t={}){return new S_({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class oi extends uD{constructor(t={}){super(t),this.type=ri.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new oi({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class kl extends uD{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function dD(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,transferCache:e.transferCache}}let U2=(()=>{class e{constructor(n){this.handler=n}request(n,r,o={}){let s;if(n instanceof Xf)s=n;else{let c,l;c=o.headers instanceof tr?o.headers:new tr(o.headers),o.params&&(l=o.params instanceof cs?o.params:new cs({fromObject:o.params})),s=new Xf(n,r,void 0!==o.body?o.body:null,{headers:c,context:o.context,params:l,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache})}const i=ne(s).pipe(fa(c=>this.handler.handle(c)));if(n instanceof Xf||"events"===o.observe)return i;const a=i.pipe(is(c=>c instanceof oi));switch(o.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(se(c=>{if(null!==c.body&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return a.pipe(se(c=>{if(null!==c.body&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return a.pipe(se(c=>{if(null!==c.body&&"string"!=typeof c.body)throw new Error("Response is not a string.");return c.body}));default:return a.pipe(se(c=>c.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:(new cs).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,o={}){return this.request("PATCH",n,dD(o,r))}post(n,r,o={}){return this.request("POST",n,dD(o,r))}put(n,r,o={}){return this.request("PUT",n,dD(o,r))}static{this.\u0275fac=function(r){return new(r||e)(j(E_))}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac})}}return e})();const nse=/^\)\]\}',?\n/;function H2(e){if(e.url)return e.url;const t="X-Request-URL".toLocaleLowerCase();return e.headers.get(t)}let fD=(()=>{class e{constructor(){this.fetchImpl=I(ose,{optional:!0})?.fetch??((...n)=>globalThis.fetch(...n)),this.ngZone=I(Te)}handle(n){return new Ge(r=>{const o=new AbortController;return this.doRequest(n,o.signal,r).then(hD,s=>r.error(new kl({error:s}))),()=>o.abort()})}doRequest(n,r,o){var s=this;return va(function*(){const i=s.createRequestInit(n);let a;try{const g=s.ngZone.runOutsideAngular(()=>s.fetchImpl(n.urlWithParams,{signal:r,...i}));(function sse(e){e.then(hD,hD)})(g),o.next({type:ri.Sent}),a=yield g}catch(g){return void o.error(new kl({error:g,status:g.status??0,statusText:g.statusText,url:n.urlWithParams,headers:g.headers}))}const c=new tr(a.headers),l=a.statusText,u=H2(a)??n.urlWithParams;let d=a.status,f=null;if(n.reportProgress&&o.next(new S_({headers:c,status:d,statusText:l,url:u})),a.body){const g=a.headers.get("content-length"),m=[],y=a.body.getReader();let v,N,S=0;const L=typeof Zone<"u"&&Zone.current;yield s.ngZone.runOutsideAngular(va(function*(){for(;;){const{done:ae,value:Pe}=yield y.read();if(ae)break;if(m.push(Pe),S+=Pe.length,n.reportProgress){N="text"===n.responseType?(N??"")+(v??=new TextDecoder).decode(Pe,{stream:!0}):void 0;const C=()=>o.next({type:ri.DownloadProgress,total:g?+g:void 0,loaded:S,partialText:N});L?L.run(C):C()}}}));const $=s.concatChunks(m,S);try{const ae=a.headers.get("Content-Type")??"";f=s.parseBody(n,$,ae)}catch(ae){return void o.error(new kl({error:ae,headers:new tr(a.headers),status:a.status,statusText:a.statusText,url:H2(a)??n.urlWithParams}))}}0===d&&(d=f?200:0),d>=200&&d<300?(o.next(new oi({body:f,headers:c,status:d,statusText:l,url:u})),o.complete()):o.error(new kl({error:f,headers:c,status:d,statusText:l,url:u}))})()}parseBody(n,r,o){switch(n.responseType){case"json":const s=(new TextDecoder).decode(r).replace(nse,"");return""===s?null:JSON.parse(s);case"text":return(new TextDecoder).decode(r);case"blob":return new Blob([r],{type:o});case"arraybuffer":return r.buffer}}createRequestInit(n){const r={},o=n.withCredentials?"include":void 0;if(n.headers.forEach((s,i)=>r[s]=i.join(",")),n.headers.has("Accept")||(r.Accept="application/json, text/plain, */*"),!n.headers.has("Content-Type")){const s=n.detectContentTypeHeader();null!==s&&(r["Content-Type"]=s)}return{body:n.serializeBody(),method:n.method,headers:r,credentials:o}}concatChunks(n,r){const o=new Uint8Array(r);let s=0;for(const i of n)o.set(i,s),s+=i.length;return o}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac})}}return e})();class ose{}function hD(){}function $2(e,t){return t(e)}function ise(e,t){return(n,r)=>t.intercept(n,{handle:o=>e(o,r)})}const q2=new P(""),Kf=new P(""),z2=new P(""),W2=new P("",{providedIn:"root",factory:()=>!0});function cse(){let e=null;return(t,n)=>{null===e&&(e=(I(q2,{optional:!0})??[]).reduceRight(ise,$2));const r=I(Yo);if(I(W2)){const s=r.add();return e(t,n).pipe(Dl(()=>r.remove(s)))}return e(t,n)}}let G2=(()=>{class e extends E_{constructor(n,r){super(),this.backend=n,this.injector=r,this.chain=null,this.pendingTasks=I(Yo),this.contributeToStability=I(W2)}handle(n){if(null===this.chain){const r=Array.from(new Set([...this.injector.get(Kf),...this.injector.get(z2,[])]));this.chain=r.reduceRight((o,s)=>function ase(e,t,n){return(r,o)=>function Wo(e,t){e instanceof Mc&&e.assertNotDestroyed();const r=Ps(e),o=Fn(void 0);try{return t()}finally{Ps(r),Fn(o)}}(n,()=>t(r,s=>e(s,o)))}(o,s,this.injector),$2)}if(this.contributeToStability){const r=this.pendingTasks.add();return this.chain(n,o=>this.backend.handle(o)).pipe(Dl(()=>this.pendingTasks.remove(r)))}return this.chain(n,r=>this.backend.handle(r))}static{this.\u0275fac=function(r){return new(r||e)(j(Gf),j(Vn))}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac})}}return e})();const hse=/^\)\]\}',?\n/;let pD=(()=>{class e{constructor(n){this.xhrFactory=n}handle(n){if("JSONP"===n.method)throw new M(-2800,!1);const r=this.xhrFactory;return(r.\u0275loadImpl?Xt(r.\u0275loadImpl()):ne(null)).pipe(wr(()=>new Ge(s=>{const i=r.build();if(i.open(n.method,n.urlWithParams),n.withCredentials&&(i.withCredentials=!0),n.headers.forEach((m,y)=>i.setRequestHeader(m,y.join(","))),n.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){const m=n.detectContentTypeHeader();null!==m&&i.setRequestHeader("Content-Type",m)}if(n.responseType){const m=n.responseType.toLowerCase();i.responseType="json"!==m?m:"text"}const a=n.serializeBody();let c=null;const l=()=>{if(null!==c)return c;const m=i.statusText||"OK",y=new tr(i.getAllResponseHeaders()),S=function pse(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(i)||n.url;return c=new S_({headers:y,status:i.status,statusText:m,url:S}),c},u=()=>{let{headers:m,status:y,statusText:S,url:v}=l(),N=null;204!==y&&(N=typeof i.response>"u"?i.responseText:i.response),0===y&&(y=N?200:0);let L=y>=200&&y<300;if("json"===n.responseType&&"string"==typeof N){const $=N;N=N.replace(hse,"");try{N=""!==N?JSON.parse(N):null}catch(ae){N=$,L&&(L=!1,N={error:ae,text:N})}}L?(s.next(new oi({body:N,headers:m,status:y,statusText:S,url:v||void 0})),s.complete()):s.error(new kl({error:N,headers:m,status:y,statusText:S,url:v||void 0}))},d=m=>{const{url:y}=l(),S=new kl({error:m,status:i.status||0,statusText:i.statusText||"Unknown Error",url:y||void 0});s.error(S)};let f=!1;const h=m=>{f||(s.next(l()),f=!0);let y={type:ri.DownloadProgress,loaded:m.loaded};m.lengthComputable&&(y.total=m.total),"text"===n.responseType&&i.responseText&&(y.partialText=i.responseText),s.next(y)},g=m=>{let y={type:ri.UploadProgress,loaded:m.loaded};m.lengthComputable&&(y.total=m.total),s.next(y)};return i.addEventListener("load",u),i.addEventListener("error",d),i.addEventListener("timeout",d),i.addEventListener("abort",d),n.reportProgress&&(i.addEventListener("progress",h),null!==a&&i.upload&&i.upload.addEventListener("progress",g)),i.send(a),s.next({type:ri.Sent}),()=>{i.removeEventListener("error",d),i.removeEventListener("abort",d),i.removeEventListener("load",u),i.removeEventListener("timeout",d),n.reportProgress&&(i.removeEventListener("progress",h),null!==a&&i.upload&&i.upload.removeEventListener("progress",g)),i.readyState!==i.DONE&&i.abort()}})))}static{this.\u0275fac=function(r){return new(r||e)(j(qm))}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac})}}return e})();const gD=new P(""),K2=new P("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Z2=new P("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Y2{}let _se=(()=>{class e{constructor(n,r,o){this.doc=n,this.platform=r,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=v1(n,this.cookieName),this.lastCookieString=n),this.lastToken}static{this.\u0275fac=function(r){return new(r||e)(j(Er),j(yo),j(K2))}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac})}}return e})();function yse(e,t){const n=e.url.toLowerCase();if(!I(gD)||"GET"===e.method||"HEAD"===e.method||n.startsWith("http://")||n.startsWith("https://"))return t(e);const r=I(Y2).getToken(),o=I(Z2);return null!=r&&!e.headers.has(o)&&(e=e.clone({headers:e.headers.set(o,r)})),t(e)}var si=function(e){return e[e.Interceptors=0]="Interceptors",e[e.LegacyInterceptors=1]="LegacyInterceptors",e[e.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",e[e.NoXsrfProtection=3]="NoXsrfProtection",e[e.JsonpSupport=4]="JsonpSupport",e[e.RequestsMadeViaParent=5]="RequestsMadeViaParent",e[e.Fetch=6]="Fetch",e}(si||{});function ba(e,t){return{\u0275kind:e,\u0275providers:t}}function vse(...e){const t=[U2,pD,G2,{provide:E_,useExisting:G2},{provide:Gf,useFactory:()=>I(fD,{optional:!0})??I(pD)},{provide:Kf,useValue:yse,multi:!0},{provide:gD,useValue:!0},{provide:Y2,useClass:_se}];for(const n of e)t.push(...n.\u0275providers);return function ad(e){return{\u0275providers:e}}(t)}const Q2=new P(""),Ose={100:{code:100,text:"Continue",description:'"The initial part of a request has been received and has not yet been rejected by the server."',spec_title:"RFC7231#6.2.1",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.2.1"},101:{code:101,text:"Switching Protocols",description:'"The server understands and is willing to comply with the client\'s request, via the Upgrade header field, for a change in the application protocol being used on this connection."',spec_title:"RFC7231#6.2.2",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.2.2"},200:{code:200,text:"OK",description:'"The request has succeeded."',spec_title:"RFC7231#6.3.1",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.3.1"},201:{code:201,text:"Created",description:'"The request has been fulfilled and has resulted in one or more new resources being created."',spec_title:"RFC7231#6.3.2",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.3.2"},202:{code:202,text:"Accepted",description:'"The request has been accepted for processing, but the processing has not been completed."',spec_title:"RFC7231#6.3.3",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.3.3"},203:{code:203,text:"Non-Authoritative Information",description:'"The request was successful but the enclosed payload has been modified from that of the origin server\'s 200 (OK) response by a transforming proxy."',spec_title:"RFC7231#6.3.4",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.3.4"},204:{code:204,text:"No Content",description:'"The server has successfully fulfilled the request and that there is no additional content to send in the response payload body."',spec_title:"RFC7231#6.3.5",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.3.5"},205:{code:205,text:"Reset Content",description:'"The server has fulfilled the request and desires that the user agent reset the "document view", which caused the request to be sent, to its original state as received from the origin server."',spec_title:"RFC7231#6.3.6",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.3.6"},206:{code:206,text:"Partial Content",description:'"The server is successfully fulfilling a range request for the target resource by transferring one or more parts of the selected representation that correspond to the satisfiable ranges found in the requests\'s Range header field."',spec_title:"RFC7233#4.1",spec_href:"https://tools.ietf.org/html/rfc7233#section-4.1"},300:{code:300,text:"Multiple Choices",description:'"The target resource has more than one representation, each with its own more specific identifier, and information about the alternatives is being provided so that the user (or user agent) can select a preferred representation by redirecting its request to one or more of those identifiers."',spec_title:"RFC7231#6.4.1",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.4.1"},301:{code:301,text:"Moved Permanently",description:'"The target resource has been assigned a new permanent URI and any future references to this resource ought to use one of the enclosed URIs."',spec_title:"RFC7231#6.4.2",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.4.2"},302:{code:302,text:"Found",description:'"The target resource resides temporarily under a different URI."',spec_title:"RFC7231#6.4.3",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.4.3"},303:{code:303,text:"See Other",description:'"The server is redirecting the user agent to a different resource, as indicated by a URI in the Location header field, that is intended to provide an indirect response to the original request."',spec_title:"RFC7231#6.4.4",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.4.4"},304:{code:304,text:"Not Modified",description:'"A conditional GET request has been received and would have resulted in a 200 (OK) response if it were not for the fact that the condition has evaluated to false."',spec_title:"RFC7232#4.1",spec_href:"https://tools.ietf.org/html/rfc7232#section-4.1"},305:{code:305,text:"Use Proxy",description:"*deprecated*",spec_title:"RFC7231#6.4.5",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.4.5"},307:{code:307,text:"Temporary Redirect",description:'"The target resource resides temporarily under a different URI and the user agent MUST NOT change the request method if it performs an automatic redirection to that URI."',spec_title:"RFC7231#6.4.7",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.4.7"},400:{code:400,text:"Bad Request",description:'"The server cannot or will not process the request because the received syntax is invalid, nonsensical, or exceeds some limitation on what the server is willing to process."',spec_title:"RFC7231#6.5.1",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.1"},401:{code:401,text:"Unauthorized",description:'"The request has not been applied because it lacks valid authentication credentials for the target resource."',spec_title:"RFC7235#6.3.1",spec_href:"https://tools.ietf.org/html/rfc7235#section-3.1"},402:{code:402,text:"Payment Required",description:"*reserved*",spec_title:"RFC7231#6.5.2",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.2"},403:{code:403,text:"Forbidden",description:'"The server understood the request but refuses to authorize it."',spec_title:"RFC7231#6.5.3",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.3"},404:{code:404,text:"Not Found",description:'"The origin server did not find a current representation for the target resource or is not willing to disclose that one exists."',spec_title:"RFC7231#6.5.4",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.4"},405:{code:405,text:"Method Not Allowed",description:'"The method specified in the request-line is known by the origin server but not supported by the target resource."',spec_title:"RFC7231#6.5.5",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.5"},406:{code:406,text:"Not Acceptable",description:'"The target resource does not have a current representation that would be acceptable to the user agent, according to the proactive negotiation header fields received in the request, and the server is unwilling to supply a default representation."',spec_title:"RFC7231#6.5.6",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.6"},407:{code:407,text:"Proxy Authentication Required",description:'"The client needs to authenticate itself in order to use a proxy."',spec_title:"RFC7231#6.3.2",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.3.2"},408:{code:408,text:"Request Timeout",description:'"The server did not receive a complete request message within the time that it was prepared to wait."',spec_title:"RFC7231#6.5.7",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.7"},409:{code:409,text:"Conflict",description:'"The request could not be completed due to a conflict with the current state of the resource."',spec_title:"RFC7231#6.5.8",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.8"},410:{code:410,text:"Gone",description:'"Access to the target resource is no longer available at the origin server and that this condition is likely to be permanent."',spec_title:"RFC7231#6.5.9",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.9"},411:{code:411,text:"Length Required",description:'"The server refuses to accept the request without a defined Content-Length."',spec_title:"RFC7231#6.5.10",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.10"},412:{code:412,text:"Precondition Failed",description:'"One or more preconditions given in the request header fields evaluated to false when tested on the server."',spec_title:"RFC7232#4.2",spec_href:"https://tools.ietf.org/html/rfc7232#section-4.2"},413:{code:413,text:"Payload Too Large",description:'"The server is refusing to process a request because the request payload is larger than the server is willing or able to process."',spec_title:"RFC7231#6.5.11",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.11"},414:{code:414,text:"URI Too Long",description:'"The server is refusing to service the request because the request-target is longer than the server is willing to interpret."',spec_title:"RFC7231#6.5.12",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.12"},415:{code:415,text:"Unsupported Media Type",description:'"The origin server is refusing to service the request because the payload is in a format not supported by the target resource for this method."',spec_title:"RFC7231#6.5.13",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.13"},416:{code:416,text:"Range Not Satisfiable",description:'"None of the ranges in the request\'s Range header field overlap the current extent of the selected resource or that the set of ranges requested has been rejected due to invalid ranges or an excessive request of small or overlapping ranges."',spec_title:"RFC7233#4.4",spec_href:"https://tools.ietf.org/html/rfc7233#section-4.4"},417:{code:417,text:"Expectation Failed",description:'"The expectation given in the request\'s Expect header field could not be met by at least one of the inbound servers."',spec_title:"RFC7231#6.5.14",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.14"},418:{code:418,text:"I'm a teapot",description:'"1988 April Fools Joke. Returned by tea pots requested to brew coffee."',spec_title:"RFC 2324",spec_href:"https://tools.ietf.org/html/rfc2324"},426:{code:426,text:"Upgrade Required",description:'"The server refuses to perform the request using the current protocol but might be willing to do so after the client upgrades to a different protocol."',spec_title:"RFC7231#6.5.15",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.15"},500:{code:500,text:"Internal Server Error",description:'"The server encountered an unexpected condition that prevented it from fulfilling the request."',spec_title:"RFC7231#6.6.1",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.6.1"},501:{code:501,text:"Not Implemented",description:'"The server does not support the functionality required to fulfill the request."',spec_title:"RFC7231#6.6.2",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.6.2"},502:{code:502,text:"Bad Gateway",description:'"The server, while acting as a gateway or proxy, received an invalid response from an inbound server it accessed while attempting to fulfill the request."',spec_title:"RFC7231#6.6.3",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.6.3"},503:{code:503,text:"Service Unavailable",description:'"The server is currently unable to handle the request due to a temporary overload or scheduled maintenance, which will likely be alleviated after some delay."',spec_title:"RFC7231#6.6.4",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.6.4"},504:{code:504,text:"Gateway Time-out",description:'"The server, while acting as a gateway or proxy, did not receive a timely response from an upstream server it needed to access in order to complete the request."',spec_title:"RFC7231#6.6.5",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.6.5"},505:{code:505,text:"HTTP Version Not Supported",description:'"The server does not support, or refuses to support, the protocol version that was used in the request message."',spec_title:"RFC7231#6.6.6",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.6.6"},102:{code:102,text:"Processing",description:'"An interim response to inform the client that the server has accepted the complete request, but has not yet completed it."',spec_title:"RFC5218#10.1",spec_href:"https://tools.ietf.org/html/rfc2518#section-10.1"},207:{code:207,text:"Multi-Status",description:'"Status for multiple independent operations."',spec_title:"RFC5218#10.2",spec_href:"https://tools.ietf.org/html/rfc2518#section-10.2"},226:{code:226,text:"IM Used",description:'"The server has fulfilled a GET request for the resource, and the response is a representation of the result of one or more instance-manipulations applied to the current instance."',spec_title:"RFC3229#10.4.1",spec_href:"https://tools.ietf.org/html/rfc3229#section-10.4.1"},308:{code:308,text:"Permanent Redirect",description:'"The target resource has been assigned a new permanent URI and any future references to this resource SHOULD use one of the returned URIs. [...] This status code is similar to 301 Moved Permanently (Section 7.3.2 of rfc7231), except that it does not allow rewriting the request method from POST to GET."',spec_title:"RFC7238",spec_href:"https://tools.ietf.org/html/rfc7238"},422:{code:422,text:"Unprocessable Entity",description:'"The server understands the content type of the request entity (hence a 415(Unsupported Media Type) status code is inappropriate), and the syntax of the request entity is correct (thus a 400 (Bad Request) status code is inappropriate) but was unable to process the contained instructions."',spec_title:"RFC5218#10.3",spec_href:"https://tools.ietf.org/html/rfc2518#section-10.3"},423:{code:423,text:"Locked",description:'"The source or destination resource of a method is locked."',spec_title:"RFC5218#10.4",spec_href:"https://tools.ietf.org/html/rfc2518#section-10.4"},424:{code:424,text:"Failed Dependency",description:'"The method could not be performed on the resource because the requested action depended on another action and that action failed."',spec_title:"RFC5218#10.5",spec_href:"https://tools.ietf.org/html/rfc2518#section-10.5"},428:{code:428,text:"Precondition Required",description:'"The origin server requires the request to be conditional."',spec_title:"RFC6585#3",spec_href:"https://tools.ietf.org/html/rfc6585#section-3"},429:{code:429,text:"Too Many Requests",description:'"The user has sent too many requests in a given amount of time ("rate limiting")."',spec_title:"RFC6585#4",spec_href:"https://tools.ietf.org/html/rfc6585#section-4"},431:{code:431,text:"Request Header Fields Too Large",description:'"The server is unwilling to process the request because its header fields are too large."',spec_title:"RFC6585#5",spec_href:"https://tools.ietf.org/html/rfc6585#section-5"},451:{code:451,text:"Unavailable For Legal Reasons",description:'"The server is denying access to the resource in response to a legal demand."',spec_title:"draft-ietf-httpbis-legally-restricted-status",spec_href:"https://tools.ietf.org/html/draft-ietf-httpbis-legally-restricted-status"},506:{code:506,text:"Variant Also Negotiates",description:'"The server has an internal configuration error: the chosen variant resource is configured to engage in transparent content negotiation itself, and is therefore not a proper end point in the negotiation process."',spec_title:"RFC2295#8.1",spec_href:"https://tools.ietf.org/html/rfc2295#section-8.1"},507:{code:507,text:"Insufficient Storage",description:'The method could not be performed on the resource because the server is unable to store the representation needed to successfully complete the request."',spec_title:"RFC5218#10.6",spec_href:"https://tools.ietf.org/html/rfc2518#section-10.6"},511:{code:511,text:"Network Authentication Required",description:'"The client needs to authenticate to gain network access."',spec_title:"RFC6585#6",spec_href:"https://tools.ietf.org/html/rfc6585#section-6"}};class mD{}class Nse{}let D_=(()=>{class e{constructor(n={}){Object.assign(this,{caseSensitiveSearch:!1,dataEncapsulation:!1,delay:500,delete404:!1,passThruUnknownUrl:!1,post204:!0,post409:!1,put204:!0,put404:!1,apiBase:void 0,host:void 0,rootPath:void 0},n)}static{this.\u0275fac=function(r){return new(r||e)(j(Nse))}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac})}}return e})();class Pse{constructor(t,n={}){this.inMemDbService=t,this.config=new D_,this.db={},this.requestInfoUtils=this.getRequestInfoUtils();const r=this.getLocation("/");this.config.host=r.host,this.config.rootPath=r.path,Object.assign(this.config,n)}get dbReady(){return this.dbReadySubject||(this.dbReadySubject=new xn(!1),this.resetDb()),this.dbReadySubject.asObservable().pipe(as(t=>t))}handleRequest(t){return this.dbReady.pipe(fa(()=>this.handleRequest_(t)))}handleRequest_(t){const n=t.urlWithParams?t.urlWithParams:t.url,r=this.bind("parseRequestUrl"),o=r&&r(n,this.requestInfoUtils)||this.parseRequestUrl(n),s=o.collectionName,i=this.db[s],a={req:t,apiBase:o.apiBase,collection:i,collectionName:s,headers:this.createHeaders({"Content-Type":"application/json"}),id:this.parseId(i,s,o.id),method:this.getRequestMethod(t),query:o.query,resourceUrl:o.resourceUrl,url:n,utils:this.requestInfoUtils};let c;if(/commands\/?$/i.test(a.apiBase))return this.commands(a);const l=this.bind(a.method);if(l){const u=l(a);if(u)return u}return this.db[s]?this.createResponse$(()=>this.collectionHandler(a)):this.config.passThruUnknownUrl?this.getPassThruBackend().handle(t):(c=this.createErrorResponseOptions(n,404,`Collection '${s}' not found`),this.createResponse$(()=>c))}addDelay(t){const n=this.config.delay;return 0===n?t:function Rse(e,t){return new Ge(n=>{let r=!1,o=!1;const s=e.subscribe(i=>{o=!0,setTimeout(()=>{n.next(i),r&&n.complete()},t)},i=>setTimeout(()=>n.error(i),t),()=>{r=!0,o||n.complete()});return()=>s.unsubscribe()})}(t,n||500)}applyQuery(t,n){const r=[],o=this.config.caseSensitiveSearch?void 0:"i";n.forEach((i,a)=>{i.forEach(c=>r.push({name:a,rx:new RegExp(decodeURI(c),o)}))});const s=r.length;return s?t.filter(i=>{let a=!0,c=s;for(;a&&c;){c-=1;const l=r[c];a=l.rx.test(i[l.name])}return a}):t}bind(t){const n=this.inMemDbService[t];return n?n.bind(this.inMemDbService):void 0}bodify(t){return this.config.dataEncapsulation?{data:t}:t}clone(t){return JSON.parse(JSON.stringify(t))}collectionHandler(t){let n;switch(t.method){case"get":n=this.get(t);break;case"post":n=this.post(t);break;case"put":n=this.put(t);break;case"delete":n=this.delete(t);break;default:n=this.createErrorResponseOptions(t.url,405,"Method not allowed")}const r=this.bind("responseInterceptor");return r?r(n,t):n}commands(t){const n=t.collectionName.toLowerCase(),r=t.method;let o={url:t.url};switch(n){case"resetdb":return o.status=204,this.resetDb(t).pipe(fa(()=>this.createResponse$(()=>o,!1)));case"config":if("get"===r)o.status=200,o.body=this.clone(this.config);else{const s=this.getJsonBody(t.req);Object.assign(this.config,s),this.passThruBackend=void 0,o.status=204}break;default:o=this.createErrorResponseOptions(t.url,500,`Unknown command "${n}"`)}return this.createResponse$(()=>o,!1)}createErrorResponseOptions(t,n,r){return{body:{error:`${r}`},url:t,headers:this.createHeaders({"Content-Type":"application/json"}),status:n}}createResponse$(t,n=!0){const r=this.createResponseOptions$(t);let o=this.createResponse$fromResponseOptions$(r);return n?this.addDelay(o):o}createResponseOptions$(t){return new Ge(n=>{let r;try{r=t()}catch(s){r=this.createErrorResponseOptions("",500,`${s.message||s}`)}const o=r.status;try{r.statusText=null!=o?function Ase(e){return Ose[e+""].text||"Unknown Status"}(o):void 0}catch{}return null!=o&&function kse(e){return e>=200&&e<300}(o)?(n.next(r),n.complete()):n.error(r),()=>{}})}delete({collection:t,collectionName:n,headers:r,id:o,url:s}){return null==o?this.createErrorResponseOptions(s,404,`Missing "${n}" id`):{headers:r,status:this.removeById(t,o)||!this.config.delete404?204:404}}findById(t,n){return t.find(r=>r.id===n)}genId(t,n){const r=this.bind("genId");if(r){const o=r(t,n);if(null!=o)return o}return this.genIdDefault(t,n)}genIdDefault(t,n){if(!this.isCollectionIdNumeric(t,n))throw new Error(`Collection '${n}' id type is non-numeric or unknown. Can only generate numeric ids.`);let r=0;return t.reduce((o,s)=>{r=Math.max(r,"number"==typeof s.id?s.id:r)},void 0),r+1}get({collection:t,collectionName:n,headers:r,id:o,query:s,url:i}){let a=t;return null!=o&&""!==o?a=this.findById(t,o):s&&(a=this.applyQuery(t,s)),a?{body:this.bodify(this.clone(a)),headers:r,status:200}:this.createErrorResponseOptions(i,404,`'${n}' with id='${o}' not found`)}getLocation(t){if(!t.startsWith("http")){const n=typeof document>"u"?void 0:document,r=n?n.location.protocol+"//"+n.location.host:"http://fake";t=t.startsWith("/")?r+t:r+"/"+t}return function xse(e){const n=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(e),r={source:"",protocol:"",authority:"",userInfo:"",user:"",password:"",host:"",port:"",relative:"",path:"",directory:"",file:"",query:"",anchor:""},o=Object.keys(r);let s=o.length;for(;s--;)r[o[s]]=n&&n[s]||"";return r}(t)}getPassThruBackend(){return this.passThruBackend?this.passThruBackend:this.passThruBackend=this.createPassThruBackend()}getRequestInfoUtils(){return{createResponse$:this.createResponse$.bind(this),findById:this.findById.bind(this),isCollectionIdNumeric:this.isCollectionIdNumeric.bind(this),getConfig:()=>this.config,getDb:()=>this.db,getJsonBody:this.getJsonBody.bind(this),getLocation:this.getLocation.bind(this),getPassThruBackend:this.getPassThruBackend.bind(this),parseRequestUrl:this.parseRequestUrl.bind(this)}}indexOf(t,n){return t.findIndex(r=>r.id===n)}parseId(t,n,r){if(!this.isCollectionIdNumeric(t,n))return r;const o=parseFloat(r);return isNaN(o)?r:o}isCollectionIdNumeric(t,n){return!(!t||!t[0])&&"number"==typeof t[0].id}parseRequestUrl(t){try{const n=this.getLocation(t);let r=(this.config.rootPath||"").length,o="";n.host!==this.config.host&&(r=1,o=n.protocol+"//"+n.host+"/");const i=n.path.substring(r).split("/");let c,a=0;null==this.config.apiBase?c=i[a++]:(c=function Fse(e){return e.replace(/\/$/,"")}(this.config.apiBase.trim()),a=c?c.split("/").length:0),c+="/";let l=i[a++];l=l&&l.split(".")[0];return{apiBase:c,collectionName:l,id:i[a++],query:this.createQueryMap(n.query),resourceUrl:o+c+l+"/"}}catch(n){throw new Error(`unable to parse url '${t}'; original error: ${n.message}`)}}post({collection:t,collectionName:n,headers:r,id:o,req:s,resourceUrl:i,url:a}){const c=this.clone(this.getJsonBody(s));if(null==c.id)try{c.id=o||this.genId(t,n)}catch(d){const f=d.message||"";return/id type is non-numeric/.test(f)?this.createErrorResponseOptions(a,422,f):this.createErrorResponseOptions(a,500,`Failed to generate new id for '${n}'`)}if(o&&o!==c.id)return this.createErrorResponseOptions(a,400,"Request id does not match item.id");const l=this.indexOf(t,o=c.id),u=this.bodify(c);return-1===l?(t.push(c),r.set("Location",i+"/"+o),{headers:r,body:u,status:201}):this.config.post409?this.createErrorResponseOptions(a,409,`'${n}' item with id='${o} exists and may not be updated with POST; use PUT instead.`):(t[l]=c,this.config.post204?{headers:r,status:204}:{headers:r,body:u,status:200})}put({collection:t,collectionName:n,headers:r,id:o,req:s,url:i}){const a=this.clone(this.getJsonBody(s));if(null==a.id)return this.createErrorResponseOptions(i,404,`Missing '${n}' id`);if(o&&o!==a.id)return this.createErrorResponseOptions(i,400,`Request for '${n}' id does not match item.id`);const c=this.indexOf(t,o=a.id),l=this.bodify(a);return c>-1?(t[c]=a,this.config.put204?{headers:r,status:204}:{headers:r,body:l,status:200}):this.config.put404?this.createErrorResponseOptions(i,404,`'${n}' item with id='${o} not found and may not be created with PUT; use POST instead.`):(t.push(a),{headers:r,body:l,status:201})}removeById(t,n){const r=this.indexOf(t,n);return r>-1&&(t.splice(r,1),!0)}resetDb(t){this.dbReadySubject&&this.dbReadySubject.next(!1);const n=this.inMemDbService.createDb(t);return(n instanceof Ge?n:"function"==typeof n.then?Xt(n):ne(n)).pipe(as()).subscribe(o=>{this.db=o,this.dbReadySubject&&this.dbReadySubject.next(!0)}),this.dbReady}}let Lse=(()=>{class e extends Pse{constructor(n,r,o){super(n,r),this.xhrFactory=o}handle(n){try{return this.handleRequest(n)}catch(r){const s=this.createErrorResponseOptions(n.url,500,`${r.message||r}`);return this.createResponse$(()=>s)}}getJsonBody(n){return n.body}getRequestMethod(n){return(n.method||"get").toLowerCase()}createHeaders(n){return new tr(n)}createQueryMap(n){const r=new Map;if(n){const o=new cs({fromString:n});o.keys().forEach(s=>r.set(s,o.getAll(s)||[]))}return r}createResponse$fromResponseOptions$(n){return n.pipe(se(r=>new oi(r)))}createPassThruBackend(){try{return new pD(this.xhrFactory)}catch(n){throw n.message="Cannot create passThru404 backend; "+(n.message||""),n}}static{this.\u0275fac=function(r){return new(r||e)(j(mD),j(D_,8),j(qm))}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac})}}return e})();function Vse(e,t,n){return new Lse(e,t,n)}let iV=(()=>{class e{static forRoot(n,r){return{ngModule:e,providers:[{provide:mD,useClass:n},{provide:D_,useValue:r},{provide:Gf,useFactory:Vse,deps:[mD,D_,qm]}]}}static forFeature(n,r){return e.forRoot(n,r)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=zo({type:e})}static{this.\u0275inj=co({})}}return e})(),aV=(()=>{class e{createDb(){const n={id:"metal",label:"Metal",bpm:180,genre:"Metal",tracks:[{name:"Snare",fileName:"metal/snare.mp3",steps:"____X_______X___".split("").map(C=>"X"===C)},{name:"Hats",fileName:"metal/crash.mp3",steps:"X___X___X___X___".split("").map(C=>"X"===C)},{name:"Kick",fileName:"metal/kick.mp3",steps:"XXXXXXXXXXXXXXXX".split("").map(C=>"X"===C)}]},r={id:"techno",label:"4 on the floor",bpm:128,genre:"Techno",tracks:[{name:"Snare",fileName:"techno/snare.wav",steps:"____X_______X___".split("").map(C=>"X"===C)},{name:"Hats",fileName:"techno/hat.wav",steps:"X_X_X_X_X_X_X_X_".split("").map(C=>"X"===C)},{name:"Kick",fileName:"techno/kick.wav",steps:"X   X   X   X   ".split("").map(C=>"X"===C)}]},o={id:"rock-beat",label:"Rock",bpm:145,genre:"Metal",tracks:[{name:"Snare",fileName:"metal/snare.mp3",steps:"    X       X   ".split("").map(C=>"X"===C)},{name:"Hats",fileName:"metal/hat.mp3",steps:"X   X   X   X   ".split("").map(C=>"X"===C)},{name:"Kick",fileName:"metal/kick.mp3",steps:"X       X       ".split("").map(C=>"X"===C)}]},s={id:"rock-beat-variation",label:"Rock variation",bpm:145,genre:"Metal",tracks:[{name:"Snare",fileName:"metal/snare.mp3",steps:"    X       X   ".split("").map(C=>"X"===C)},{name:"Crash",fileName:"metal/crash.mp3",steps:"X   X   X   X   ".split("").map(C=>"X"===C)},{name:"Kick",fileName:"metal/kick.mp3",steps:"X       X       ".split("").map(C=>"X"===C)}]},i={id:"psytrance",label:"Psytrance",bpm:135,genre:"Trance",tracks:[{name:"Closed hats",fileName:"psytrance/closed-hat.wav",steps:"X   X   X   X   ".split("").map(C=>"X"===C)},{name:"Open hats",fileName:"psytrance/open-hat.wav",steps:"  X   X   X   X ".split("").map(C=>"X"===C)},{name:"Snare",fileName:"psytrance/snare.wav",steps:"    X       X   ".split("").map(C=>"X"===C)},{name:"Kick",fileName:"psytrance/kick.wav",steps:"X   X   X   X   ".split("").map(C=>"X"===C)},{name:"Bass",fileName:"psytrance/bass.wav",steps:" XXX XXX XXX XXX".split("").map(C=>"X"===C)}]},a={id:"off-beat-techno-clap",label:"OffBeat clap",bpm:128,genre:"Techno",tracks:[{name:"Clap",fileName:"gabber/clap.wav",steps:"    X      XX       X      XX   ".split("").map(C=>"X"===C)},{name:"Hats",fileName:"techno/hat.wav",steps:"  X   X   X   X   X   X   X   X ".split("").map(C=>"X"===C)},{name:"Kick",fileName:"techno/kick.wav",steps:"X   X   X   X   X   X   X   X   ".split("").map(C=>"X"===C)}]},c={id:"jersey-club",label:"Jersey club",bpm:140,genre:"Breakbeat",tracks:[{name:"Bed squeak (low)",fileName:"jersey-club/squeak_low.mp3",steps:"X       X       ".split("").map(C=>"X"===C)},{name:"Bed squeak (high)",fileName:"jersey-club/squeak_high.mp3",steps:"    X       X   ".split("").map(C=>"X"===C)},{name:"Snare",fileName:"jersey-club/snare.mp3",steps:"X   X   X  X  X ".split("").map(C=>"X"===C)},{name:"Kick",fileName:"jersey-club/kick.mp3",steps:"X   X   X  X  X ".split("").map(C=>"X"===C)}]},l={id:"half-time-groove",label:"Half time groove",bpm:145,genre:"Metal",tracks:[{name:"Snare",fileName:"metal/snare.mp3",steps:"        X       ".split("").map(C=>"X"===C)},{name:"Crash",fileName:"metal/crash.mp3",steps:"X   X   X   X   ".split("").map(C=>"X"===C)},{name:"Kick",fileName:"metal/kick.mp3",steps:"X               ".split("").map(C=>"X"===C)}]},u={id:"garage",label:"Garage",bpm:130,genre:"Garage",tracks:[{name:"Snare",fileName:"techno/snare.wav",steps:"    X       X   ".split("").map(C=>"X"===C)},{name:"Hats",fileName:"techno/hat.wav",steps:"  X   X   X   X ".split("").map(C=>"X"===C)},{name:"Kick",fileName:"techno/kick.wav",steps:"X           X   ".split("").map(C=>"X"===C)}]},d={id:"gabber",label:"Gabber",bpm:200,genre:"Techno",tracks:[{name:"Crash Cymbal",fileName:"gabber/crash.wav",steps:"                               X".split("").map(C=>"X"===C)},{name:"Open HiHats",fileName:"gabber/open-hihat.wav",steps:"X X X X X X X X X X X X X X X X ".split("").map(C=>"X"===C)},{name:"Clap",fileName:"gabber/clap.wav",steps:"X   X   X   X   X   X   X   X   ".split("").map(C=>"X"===C)},{name:"Kick",fileName:"gabber/kick.wav",steps:"X   X   X   X   X   X   X   X   ".split("").map(C=>"X"===C)}]},f={id:"ebm",label:"EBM",bpm:120,genre:"Industrial",tracks:[{name:"Clap",fileName:"ebm/clap.wav",steps:[" "," ","X"," ","X"," ","X"," "," "," ","X"," "," "," ","X","X"," "," ","X","X","X","X"," "," "," ","X"," ","X"," "," ","X"," "].map(C=>"X"===C)},{name:"Open High-Hat",fileName:"ebm/open-hihat.wav",steps:[" "," ","X"," "," "," ","X"," "," "," ","X"," "," "," ","X"," "," "," ","X"," "," "," ","X"," "," "," ","X"," "," "," ","X"," "].map(C=>"X"===C)},{name:"Closed High-Hat",fileName:"ebm/closed-hihat.wav",steps:["X","X"," "," ","X","X"," "," ","X","X"," "," ","X","X"," "," ","X","X"," "," ","X","X"," "," ","X","X"," "," ","X","X"," "," "].map(C=>"X"===C)},{name:"Snare",fileName:"ebm/snare.wav",steps:"    X       X       X       X XX".split("").map(C=>"X"===C)},{name:"Kick",fileName:"ebm/kick.wav",steps:"X   X   X   X   X   X   X   X   ".split("").map(C=>"X"===C)}]},h={id:"dub",label:"Dub",bpm:140,genre:"Dub",tracks:[{name:"Kick",fileName:"dub/kick.wav",steps:"X_______X_______X_______X_______X_______X_______X_______X_______".split("").map(C=>"X"===C)},{name:"Sub Bass",fileName:"dub/sub.wav",steps:["X"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","X"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","X"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","X"," "," "," "," "," "," "," ","X"," "," "," "," "," "," "," "].map(C=>"X"===C)},{name:"Skank",fileName:"dub/skank.wav",steps:"____X_______X_______X_______X_______X_______X_______X_______X___".split("").map(C=>"X"===C)},{name:"Snare",fileName:"dub/snare.wav",steps:[" "," "," "," "," "," "," "," ","X"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","X"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","X"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","X"," ","X"," "," "," "," "," "].map(C=>"X"===C)},{name:"Arpeggio",fileName:"dub/arpeggio_si.wav",steps:"____X_______X_______X_______X_______X_______X_______X_______X___".split("").map(C=>"X"===C)},{name:"Closed Hat",fileName:"dub/closed-hat.wav",steps:[" "," "," "," ","X"," ","X"," "," "," "," "," ","X"," "," "," "," "," "," "," ","X","X","X"," "," "," "," "," ","X"," "," "," "," "," "," "," ","X"," ","X"," "," "," "," "," ","X","X"," "," "," "," "," "," ","X"," ","X"," "," "," "," "," ","X"," ","X","X"].map(C=>"X"===C)},{name:"Bass",fileName:"dub/bass.wav",steps:"X                                         X                     ".split("").map(C=>"X"===C)}]},g={id:"blast-beat",label:"Blast beat",bpm:180,genre:"Metal",tracks:[{name:"Snare",fileName:"metal/snare.mp3",steps:"_X_X_X_X_X_X_X_X".split("").map(C=>"X"===C)},{name:"Hats",fileName:"metal/hat.mp3",steps:"X_X_X_X_X_X_X_X_".split("").map(C=>"X"===C)},{name:"Kick",fileName:"metal/kick.mp3",steps:"X_X_X_X_X_X_X_X_".split("").map(C=>"X"===C)}]},m={id:"breakcore",label:"Breakcore",bpm:180,genre:"Breakbeat",tracks:[{name:"Snare (accent)",fileName:"techno/snare.wav",steps:"    X        X  ".split("").map(C=>"X"===C)},{name:"Snare (main)",fileName:"drum-n-bass/snare.wav",steps:"    X  X X   X  ".split("").map(C=>"X"===C)},{name:"Hats",fileName:"techno/hat.wav",steps:"XXXXXXXXXXXXXXXX".split("").map(C=>"X"===C)},{name:"Kick",fileName:"techno/kick.wav",steps:"X X       XX    ".split("").map(C=>"X"===C)}]},y={id:"drum-n-bass",label:"Drum & bass",bpm:170,genre:"Garage",tracks:[{name:"Snare",fileName:"drum-n-bass/snare.wav",steps:"    X       X   ".split("").map(C=>"X"===C)},{name:"Hats",fileName:"drum-n-bass/hat.wav",steps:"XXXXXXXXXXXXXXXX".split("").map(C=>"X"===C)},{name:"Kick",fileName:"drum-n-bass/kick.wav",steps:"X         X     ".split("").map(C=>"X"===C)}]},S={id:"dancehall-standard",label:"Standard dancehall",bpm:105,genre:"Dancehall",tracks:[{name:"Hats",fileName:"techno/hat.wav",steps:"XXXXXXXXXXXXXXXX".split("").map(C=>"X"===C)},{name:"Snare",fileName:"techno/snare.wav",steps:"      X       X ".split("").map(C=>"X"===C)},{name:"Kick",fileName:"techno/kick.wav",steps:"X  X  X X  X  X ".split("").map(C=>"X"===C)}]},v={id:"dancehall-reggaeton",label:"Reggaeton",bpm:105,genre:"Dancehall",tracks:[{name:"Hats",fileName:"techno/hat.wav",steps:"XXXXXXXXXXXXXXXX".split("").map(C=>"X"===C)},{name:"Snare",fileName:"techno/snare.wav",steps:"   X  X    X  X ".split("").map(C=>"X"===C)},{name:"Kick",fileName:"techno/kick.wav",steps:"X   X   X   X   ".split("").map(C=>"X"===C)}]};return{beats:[r,{id:"dancehall-modern",label:"Modern dancehall",bpm:105,genre:"Dancehall",tracks:[{name:"Hats",fileName:"techno/hat.wav",steps:"XXXXXXXXXXXXXXXX".split("").map(C=>"X"===C)},{name:"Rim",fileName:"techno/snare.wav",steps:"   X  X     X   ".split("").map(C=>"X"===C)},{name:"Kick",fileName:"techno/kick.wav",steps:"X         X     ".split("").map(C=>"X"===C)}]},S,v,y,m,g,h,f,n,o,s,i,a,c,l,u,d,{id:"punk-beat-quarter-note-groove",label:"Quarter note groove",bpm:170,genre:"Punk",tracks:[{name:"Hats",fileName:"metal/hat.mp3",steps:"X___X___X___X___".split("").map(C=>"X"===C)},{name:"Snare",fileName:"metal/snare.mp3",steps:"____X_______X___".split("").map(C=>"X"===C)},{name:"Kick",fileName:"metal/kick.mp3",steps:"X_______X_______".split("").map(C=>"X"===C)}]},{id:"punk-beat-quarter-note-groove-variation",label:"Quarter note groove variation",bpm:170,genre:"Punk",tracks:[{name:"Hats",fileName:"metal/hat.mp3",steps:"X___X___X___X___".split("").map(C=>"X"===C)},{name:"Snare",fileName:"metal/snare.mp3",steps:"____X_______X___".split("").map(C=>"X"===C)},{name:"Kick",fileName:"metal/kick.mp3",steps:"X_X_____X_X_____".split("").map(C=>"X"===C)}]},{id:"punk-beat-eight-note-fill",label:"Eight note fill",bpm:170,genre:"Punk",tracks:[{name:"Hats",fileName:"metal/hat.mp3",steps:"X_X_X_X_X_X_X_X_".split("").map(C=>"X"===C)},{name:"Snare",fileName:"metal/snare.mp3",steps:"____X_______X___".split("").map(C=>"X"===C)},{name:"Kick",fileName:"metal/kick.mp3",steps:"X_X___X_X_X_____".split("").map(C=>"X"===C)}]}]}}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const _D=new P("IManageGenres"),Fl=new P("CallSetDisabledState",{providedIn:"root",factory:()=>N_}),N_="always";Promise.resolve(),Promise.resolve();let Bie=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=zo({type:e})}static{this.\u0275inj=co({})}}return e})(),hj=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:Fl,useValue:n.callSetDisabledState??N_}]}}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=zo({type:e})}static{this.\u0275inj=co({imports:[Bie]})}}return e})();const p=function(e,t){if("function"==typeof e)return function(){return e(arguments)?t.apply(this,arguments):n=>t(n,...arguments)};switch(e){case 0:case 1:throw new RangeError(`Invalid arity ${e}`);case 2:return function(n,r){return arguments.length>=2?t(n,r):function(o){return t(o,n)}};case 3:return function(n,r,o){return arguments.length>=3?t(n,r,o):function(s){return t(s,n,r)}};case 4:return function(n,r,o,s){return arguments.length>=4?t(n,r,o,s):function(i){return t(i,n,r,o)}};case 5:return function(n,r,o,s,i){return arguments.length>=5?t(n,r,o,s,i):function(a){return t(a,n,r,o,s)}};default:return function(){if(arguments.length>=e)return t.apply(this,arguments);const n=arguments;return function(r){return t(r,...n)}}}},Ce=e=>e,j_=e=>()=>e,eh=j_(!0),ls=j_(!1),pj=j_(void 0),B_=pj;function _(e,t,n,r,o,s,i,a,c){switch(arguments.length){case 1:return e;case 2:return t(e);case 3:return n(t(e));case 4:return r(n(t(e)));case 5:return o(r(n(t(e))));case 6:return s(o(r(n(t(e)))));case 7:return i(s(o(r(n(t(e))))));case 8:return a(i(s(o(r(n(t(e)))))));case 9:return c(a(i(s(o(r(n(t(e))))))));default:{let l=arguments[0];for(let u=1;u<arguments.length;u++)l=arguments[u](l);return l}}}const U_=()=>"3.12.0",UD=Symbol.for(`effect/GlobalValue/globalStoreId/${U_()}`);UD in globalThis||(globalThis[UD]=new Map);const HD=globalThis[UD],ge=(e,t)=>(HD.has(e)||HD.set(e,t()),HD.get(e)),th=e=>"number"==typeof e,Sa=e=>"function"==typeof e,H_=e=>(e=>"object"==typeof e&&null!==e)(e)||Sa(e),G=p(2,(e,t)=>H_(e)&&t in e),$_=p(2,(e,t)=>G(e,"_tag")&&e._tag===t),Pl=e=>null==e,nh=e=>`BUG: ${e} - please report an issue at https://github.com/Effect-TS/effect/issues`;Symbol;class rh{self;called=!1;constructor(t){this.self=t}next(t){return this.called?{value:t,done:!0}:(this.called=!0,{value:this.self,done:!1})}return(t){return{value:t,done:!0}}throw(t){throw t}[Symbol.iterator](){return new rh(this.self)}}class rae{_state;constructor(t,n,r,o){return Pl(n)&&Pl(t)?(n=4294967295*Math.random()>>>0,t=0):Pl(n)&&(n=t,t=0),Pl(o)&&Pl(r)?(o=this._state?this._state[3]:4150755663,r=this._state?this._state[2]:335903614):Pl(o)&&(o=r,r=0),this._state=new Int32Array([0,0,r>>>0,(1|(o||0))>>>0]),this._next(),Ej(this._state,this._state[0],this._state[1],t>>>0,n>>>0),this._next(),this}getState(){return[this._state[0],this._state[1],this._state[2],this._state[3]]}setState(t){this._state[0]=t[0],this._state[1]=t[1],this._state[2]=t[2],this._state[3]=1|t[3]}integer(t){return Math.round(this.number()*Number.MAX_SAFE_INTEGER)%t}number(){return(1*(67108863&this._next())*134217728+1*(134217727&this._next()))/9007199254740992}_next(){const t=this._state[0]>>>0,n=this._state[1]>>>0;(function oae(e,t,n,r,o){let s=(n>>>16)*(65535&o)>>>0,i=(65535&n)*(o>>>16)>>>0,a=(65535&n)*(65535&o)>>>0,c=(n>>>16)*(o>>>16)+((i>>>16)+(s>>>16))>>>0;i=i<<16>>>0,a=a+i>>>0,a>>>0<i>>>0&&(c=c+1>>>0),s=s<<16>>>0,a=a+s>>>0,a>>>0<s>>>0&&(c=c+1>>>0),c=c+Math.imul(n,r)>>>0,c=c+Math.imul(t,o)>>>0,e[0]=c,e[1]=a})(this._state,t,n,1481765933,1284865837),Ej(this._state,this._state[0],this._state[1],this._state[2],this._state[3]);let r=t>>>18,o=(n>>>18|t<<14)>>>0;r=(r^t)>>>0,o=(o^n)>>>0;const s=(o>>>27|r<<5)>>>0,i=t>>>27;return(s>>>i|s<<((-i>>>0&31)>>>0))>>>0}}function Ej(e,t,n,r,o){let s=t+r>>>0;const i=n+o>>>0;i>>>0<n>>>0&&(s=s+1|0),e[0]=s,e[1]=i}const zD=Symbol.for("effect/Utils/YieldWrap");class oh{#e;constructor(t){this.#e=t}[zD](){return this.#e}}const Kt=ge("effect/Utils/isStructuralRegion",()=>({enabled:!1,tester:void 0})),Zt=(e=>{const t={[e]:n=>n()};return function(n){return t[e](n)}})("effect_internal_function"),WD=ge(Symbol.for("effect/Hash/randomHashCache"),()=>new WeakMap),Q=Symbol.for("effect/Hash"),B=e=>{if(!0===Kt.enabled)return 0;switch(typeof e){case"number":return GD(e);case"bigint":return ct(e.toString(10));case"boolean":case"symbol":return ct(String(e));case"string":return ct(e);case"undefined":return ct("undefined");case"function":case"object":return null===e?ct("null"):e instanceof Date?B(e.toISOString()):iae(e)?e[Q]():q_(e);default:throw new Error(`BUG: unhandled typeof ${typeof e} - please report an issue at https://github.com/Effect-TS/effect/issues`)}},q_=e=>(WD.has(e)||WD.set(e,GD(Math.floor(Math.random()*Number.MAX_SAFE_INTEGER))),WD.get(e)),ie=e=>t=>53*t^e,z_=e=>3221225471&e|e>>>1&1073741824,iae=e=>G(e,Q),GD=e=>{if(e!=e||e===1/0)return 0;let t=0|e;for(t!==e&&(t^=4294967295*e);e>4294967295;)t^=e/=4294967295;return z_(t)},ct=e=>{let t=5381,n=e.length;for(;n;)t=33*t^e.charCodeAt(--n);return z_(t)},Sj=e=>((e,t)=>{let n=12289;for(let r=0;r<t.length;r++)n^=_(ct(t[r]),ie(B(e[t[r]])));return z_(n)})(e,Object.keys(e)),wa=e=>{let t=6151;for(let n=0;n<e.length;n++)t=_(t,ie(B(e[n])));return z_(t)},He=function(){if(1===arguments.length){const n=arguments[0];return function(r){return Object.defineProperty(n,Q,{value:()=>r,enumerable:!1}),r}}const t=arguments[1];return Object.defineProperty(arguments[0],Q,{value:()=>t,enumerable:!1}),t},J=Symbol.for("effect/Equal");function H(){return 1===arguments.length?e=>W_(e,arguments[0]):W_(arguments[0],arguments[1])}function W_(e,t){if(e===t)return!0;const n=typeof e;if(n!==typeof t)return!1;if("object"===n||"function"===n){if(null!==e&&null!==t){if(sh(e)&&sh(t))return!(B(e)!==B(t)||!e[J](t))||!(!Kt.enabled||!Kt.tester)&&Kt.tester(e,t);if(e instanceof Date&&t instanceof Date)return e.toISOString()===t.toISOString()}if(Kt.enabled){if(Array.isArray(e)&&Array.isArray(t))return e.length===t.length&&e.every((r,o)=>W_(r,t[o]));if(Object.getPrototypeOf(e)===Object.prototype&&Object.getPrototypeOf(e)===Object.prototype){const r=Object.keys(e),o=Object.keys(t);if(r.length===o.length){for(const s of r)if(!(s in t)||!W_(e[s],t[s]))return!!Kt.tester&&Kt.tester(e,t);return!0}}return!!Kt.tester&&Kt.tester(e,t)}}return!(!Kt.enabled||!Kt.tester)&&Kt.tester(e,t)}const sh=e=>G(e,J),XD=()=>H,$e=Symbol.for("nodejs.util.inspect.custom"),rt=e=>{try{if(G(e,"toJSON")&&Sa(e.toJSON)&&0===e.toJSON.length)return e.toJSON();if(Array.isArray(e))return e.map(rt)}catch{return{}}return lae(e)},ft=e=>JSON.stringify(e,null,2),Ll=(e,t=2)=>{if("string"==typeof e)return e;try{return"object"==typeof e?KD(e,t):String(e)}catch{return String(e)}},KD=(e,t)=>{let n=[];const r=JSON.stringify(e,(o,s)=>"object"==typeof s&&null!==s?n.includes(s)?void 0:n.push(s)&&(void 0!==Da.fiberRefs&&wj(s)?s[ZD](Da.fiberRefs):s):s,t);return n=void 0,r},ZD=Symbol.for("effect/Inspectable/Redactable"),wj=e=>"object"==typeof e&&null!==e&&ZD in e,Da=ge("effect/Inspectable/redactableState",()=>({fiberRefs:void 0})),lae=e=>wj(e)&&void 0!==Da.fiberRefs?e[ZD](Da.fiberRefs):e,W=(e,t)=>{switch(t.length){case 0:return e;case 1:return t[0](e);case 2:return t[1](t[0](e));case 3:return t[2](t[1](t[0](e)));case 4:return t[3](t[2](t[1](t[0](e))));case 5:return t[4](t[3](t[2](t[1](t[0](e)))));case 6:return t[5](t[4](t[3](t[2](t[1](t[0](e))))));case 7:return t[6](t[5](t[4](t[3](t[2](t[1](t[0](e)))))));case 8:return t[7](t[6](t[5](t[4](t[3](t[2](t[1](t[0](e))))))));case 9:return t[8](t[7](t[6](t[5](t[4](t[3](t[2](t[1](t[0](e)))))))));default:{let n=e;for(let r=0,o=t.length;r<o;r++)n=t[r](n);return n}}},ih="Async",G_="Commit",qe="Failure",X_="OnFailure",K_="OnSuccess",Z_="OnSuccessAndFailure",ze="Success",Dj="Sync",uae="Tag",Ma="UpdateRuntimeFlags",Y_="While",ah="Iterator",Mj="WithRuntime",Q_="Yield",YD="RevertFlags",Ij=Symbol.for("effect/Effect"),Tj=Symbol.for("effect/Stream"),Rj=Symbol.for("effect/Sink"),Oj=Symbol.for("effect/Channel"),Vl={_R:e=>e,_E:e=>e,_A:e=>e,_V:U_()},ch={[Ij]:Vl,[Tj]:Vl,[Rj]:{_A:e=>e,_In:e=>e,_L:e=>e,_E:e=>e,_R:e=>e},[Oj]:{_Env:e=>e,_InErr:e=>e,_InElem:e=>e,_InDone:e=>e,_OutErr:e=>e,_OutElem:e=>e,_OutDone:e=>e},[J](e){return this===e},[Q](){return He(this,q_(this))},[Symbol.iterator](){return new rh(new oh(this))},pipe(){return W(this,arguments)}},J_={[Q](){return He(this,Sj(this))},[J](e){const t=Object.keys(this),n=Object.keys(e);if(t.length!==n.length)return!1;for(const r of t)if(!(r in e)||!H(this[r],e[r]))return!1;return!0}},ds={...ch,_op:G_},QD={...ds,...J_},hae=function(){function e(){}return e.prototype=ds,e}(),Aj=Symbol.for("effect/Option"),kj={...ch,[Aj]:{_A:e=>e},[$e](){return this.toJSON()},toString(){return ft(this.toJSON())}},gae=Object.assign(Object.create(kj),{_tag:"Some",_op:"Some",[J](e){return JD(e)&&Nj(e)&&H(this.value,e.value)},[Q](){return He(this,ie(B(this._tag))(B(this.value)))},toJSON(){return{_id:"Option",_tag:this._tag,value:rt(this.value)}}}),mae=B("None"),_ae=Object.assign(Object.create(kj),{_tag:"None",_op:"None",[J]:e=>JD(e)&&eM(e),[Q]:()=>mae,toJSON(){return{_id:"Option",_tag:this._tag}}}),JD=e=>G(e,Aj),eM=e=>"None"===e._tag,Nj=e=>"Some"===e._tag,ey=Object.create(_ae),lh=e=>{const t=Object.create(gae);return t.value=e,t},tM=Symbol.for("effect/Context/Tag"),uh=Symbol.for("effect/Context/Reference"),nM={...ch,_op:"Tag",[Symbol.for("effect/STM")]:Vl,[tM]:{_Service:e=>e,_Identifier:e=>e},toString(){return ft(this.toJSON())},toJSON(){return{_id:"Tag",key:this.key,stack:this.stack}},[$e](){return this.toJSON()},of:e=>e,context(e){return Fj(this,e)}},yae={...nM,[uh]:uh},rM=Symbol.for("effect/Context"),Cae={[rM]:{_Services:e=>e},[J](e){if(xj(e)&&this.unsafeMap.size===e.unsafeMap.size){for(const t of this.unsafeMap.keys())if(!e.unsafeMap.has(t)||!H(this.unsafeMap.get(t),e.unsafeMap.get(t)))return!1;return!0}return!1},[Q](){return He(this,GD(this.unsafeMap.size))},pipe(){return W(this,arguments)},toString(){return ft(this.toJSON())},toJSON(){return{_id:"Context",services:Array.from(this.unsafeMap).map(rt)}},[$e](){return this.toJSON()}},Ro=e=>{const t=Object.create(Cae);return t.unsafeMap=e,t},xj=e=>G(e,rM),Dae=Ro(new Map),Fj=(e,t)=>Ro(new Map([[e.key,t]])),Iae=p(3,(e,t,n)=>{const r=new Map(e.unsafeMap);return r.set(t.key,n),Ro(r)}),sM=ge("effect/Context/defaultValueCache",()=>new Map),ty=e=>{if(sM.has(e.key))return sM.get(e.key);const t=e.defaultValue();return sM.set(e.key,t),t},Pj=p(2,(e,t)=>{if(!e.unsafeMap.has(t.key)){if(uh in t)return ty(t);throw(e=>{const t=new Error("Service not found"+(e.key?`: ${String(e.key)}`:""));if(e.stack){const n=e.stack.split("\n");if(n.length>2){const r=n[2].match(/at (.*)/);r&&(t.message=t.message+` (defined at ${r[1]})`)}}if(t.stack){const n=t.stack.split("\n");n.splice(1,3),t.stack=n.join("\n")}return t})(t)}return e.unsafeMap.get(t.key)}),Ia=e=>{const t=Error.stackTraceLimit;Error.stackTraceLimit=2;const n=new Error;Error.stackTraceLimit=t;const r=Object.create(nM);return Object.defineProperty(r,"stack",{get:()=>n.stack}),r.key=e,r},Ta=()=>Dae,$t=Iae,Oo=Pj,ny=Pj,li=p(2,(e,t)=>e.unsafeMap.has(t.key)?lh(e.unsafeMap.get(t.key)):(e=>G(e,uh))(t)?lh(ty(t)):ey),dh=p(2,(e,t)=>{const n=new Map(e.unsafeMap);for(const[r,o]of t.unsafeMap)n.set(r,o);return Ro(n)}),ry=()=>(e,t)=>{const n=Error.stackTraceLimit;Error.stackTraceLimit=2;const r=new Error;function o(){}return Error.stackTraceLimit=n,Object.setPrototypeOf(o,yae),o.key=e,o.defaultValue=t.defaultValue,Object.defineProperty(o,"stack",{get:()=>r.stack}),o},iM=Symbol.for("effect/Either"),Lj={...ch,[iM]:{_R:e=>e},[$e](){return this.toJSON()},toString(){return ft(this.toJSON())}},Vae=Object.assign(Object.create(Lj),{_tag:"Right",_op:"Right",[J](e){return aM(e)&&lM(e)&&H(this.right,e.right)},[Q](){return ie(B(this._tag))(B(this.right))},toJSON(){return{_id:"Either",_tag:this._tag,right:rt(this.right)}}}),jae=Object.assign(Object.create(Lj),{_tag:"Left",_op:"Left",[J](e){return aM(e)&&cM(e)&&H(this.left,e.left)},[Q](){return ie(B(this._tag))(B(this.left))},toJSON(){return{_id:"Either",_tag:this._tag,left:rt(this.left)}}}),aM=e=>G(e,iM),cM=e=>"Left"===e._tag,lM=e=>"Right"===e._tag,Ct=e=>{const t=Object.create(Vae);return t.right=e,t},nr=e=>{const t=Object.create(jae);return t.left=e,t},rr=cM,fh=lM,Hj=p(2,(e,{onLeft:t,onRight:n})=>rr(e)?t(e.left):n(e.right))({onLeft:Ce,onRight:Ce}),jl=e=>(t,n)=>t===n||e(t,n),Xae=p(2,(e,t)=>jl((n,r)=>e(t(n),t(r)))),zj=e=>e.length>0,T=()=>ey,A=lh,be=eM,he=Nj,or=p(2,(e,{onNone:t,onSome:n})=>be(e)?t():n(e.value)),sr=p(2,(e,t)=>be(e)?t():e.value),Yae=p(2,(e,t)=>be(e)?A(t()):e),Bl=e=>null==e?T():A(e),ir=sr(pj),Wj=p(2,(e,t)=>{if(he(e))return e.value;throw t()})(()=>new Error("getOrThrow called on a None")),Ul=p(2,(e,t)=>be(e)?T():A(t(e.value))),uM=p(2,(e,t)=>be(e)?T():t(e.value)),ece=(e=>p(2,(t,n)=>!be(t)&&e(t.value,n)))(XD()),ui=(Symbol,e=>(t,n)=>t===n?0:e(t,n)),Kj=ui((e,t)=>e<t?-1:1),Zj=p(2,(e,t)=>ui((n,r)=>e(t(n),t(r)))),Qj=e=>p(2,(t,n)=>1===e(t,n)),_ce=(...e)=>e,dM=e=>new Array(e),le=e=>Array.isArray(e)?e:Array.from(e),oy=p(2,(e,t)=>[t,...e]),vce=p(2,(e,t)=>[...e,t]),rB=p(2,(e,t)=>le(e).concat(le(t))),Ece=zj,sn=zj,oB=(e,t)=>e<0||e>=t.length,Sce=p(2,(e,t)=>{const n=Math.floor(t);return oB(n,e)?T():A(e[n])}),sB=p(2,(e,t)=>{const n=Math.floor(t);if(oB(n,e))throw new Error(`Index ${n} out of bounds`);return e[n]}),hh=Sce(0),Hn=sB(0),fM=e=>e[e.length-1],di=e=>e.slice(1),Mce=p(2,(e,t)=>xce(e,((e,t)=>{let n=0;for(const r of e){if(!t(r,n))break;n++}return n})(e,t))),Ice=p(2,(e,t)=>{const n=le(e);return n.slice(((e,t)=>Math.floor(Math.min(Math.max(0,e),t.length)))(t,n),n.length)}),aB=e=>Array.from(e).reverse(),ph=p(2,(e,t)=>{const n=Array.from(e);return n.sort(t),n}),cB=p(2,(e,t)=>kce(e,t,_ce)),kce=p(3,(e,t,n)=>{const r=le(e),o=le(t);if(sn(r)&&sn(o)){const s=[n(Hn(r),Hn(o))],i=Math.min(r.length,o.length);for(let a=1;a<i;a++)s[a]=n(r[a],o[a]);return s}return[]}),lB=XD(),xce=p(2,(e,t)=>{const n=Array.from(e),r=Math.floor(t);return sn(n)?r>=1?Fce(n,r):[[],n]:[n,[]]}),Fce=p(2,(e,t)=>{const n=Math.max(1,Math.floor(t));return n>=e.length?[Pce(e),[]]:[oy(e.slice(1,n),Hn(e)),e.slice(n)]}),Pce=e=>e.slice(),Lce=p(3,(e,t,n)=>{const r=le(e),o=le(t);return sn(r)?sn(o)?hB(n)(rB(r,o)):r:o}),$l=p(2,(e,t)=>Lce(e,t,lB)),Dr=e=>[e],ql=p(2,(e,t)=>e.map(t)),uB=p(2,(e,t)=>{if((e=>0===e.length)(e))return[];const n=[];for(let r=0;r<e.length;r++){const o=t(e[r],r);for(let s=0;s<o.length;s++)n.push(o[s])}return n})(Ce),Ra=p(3,(e,t,n)=>le(e).reduce((r,o,s)=>n(r,o,s),t)),fB=(e,t)=>{const n=[];let o,r=e;for(;he(o=t(r));){const[s,i]=o.value;n.push(s),r=i}return n},pM=e=>jl((t,n)=>{if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(!e(t[r],n[r]))return!1;return!0}),hB=p(2,(e,t)=>{const n=le(e);if(sn(n)){const r=[Hn(n)],o=di(n);for(const s of o)r.every(i=>!t(s,i))&&r.push(s);return r}return[]}),Uce=e=>hB(e,XD()),Oa=p(2,(e,t)=>le(e).join(t)),pB=Symbol.for("effect/Chunk"),gB=[],$ce=(e=>jl((t,n)=>t.length===n.length&&$n(t).every((r,o)=>e(r,ko(n,o)))))(H),qce={[pB]:{_A:e=>e},toString(){return ft(this.toJSON())},toJSON(){return{_id:"Chunk",values:$n(this).map(rt)}},[$e](){return this.toJSON()},[J](e){return mB(e)&&$ce(this,e)},[Q](){return He(this,wa($n(this)))},[Symbol.iterator](){switch(this.backing._tag){case"IArray":return this.backing.array[Symbol.iterator]();case"IEmpty":return gB[Symbol.iterator]();default:return $n(this)[Symbol.iterator]()}},pipe(){return W(this,arguments)}},Ot=e=>{const t=Object.create(qce);switch(t.backing=e,e._tag){case"IEmpty":t.length=0,t.depth=0,t.left=t,t.right=t;break;case"IConcat":t.length=e.left.length+e.right.length,t.depth=1+Math.max(e.left.depth,e.right.depth),t.left=e.left,t.right=e.right;break;case"IArray":t.length=e.array.length,t.depth=0,t.left=Ao,t.right=Ao;break;case"ISingleton":t.length=1,t.depth=0,t.left=Ao,t.right=Ao;break;case"ISlice":t.length=e.length,t.depth=e.chunk.depth+1,t.left=Ao,t.right=Ao}return t},mB=e=>G(e,pB),Ao=Ot({_tag:"IEmpty"}),an=()=>Ao,gM=(...e)=>1===e.length?qt(e[0]):zce(e),qt=e=>Ot({_tag:"ISingleton",a:e}),zl=e=>mB(e)?e:Ot({_tag:"IArray",array:le(e)}),mM=(e,t,n)=>{switch(e.backing._tag){case"IArray":!function Hce(e,t,n,r,o){for(let s=t;s<Math.min(e.length,t+o);s++)n[r+s-t]=e[s]}(e.backing.array,0,t,n,e.length);break;case"IConcat":mM(e.left,t,n),mM(e.right,t,n+e.left.length);break;case"ISingleton":t[n]=e.backing.a;break;case"ISlice":{let r=0,o=n;for(;r<e.length;)t[o]=ko(e,r),r+=1,o+=1;break}}},$n=e=>{switch(e.backing._tag){case"IEmpty":return gB;case"IArray":return e.backing.array;default:{const t=new Array(e.length);return mM(e,t,0),e.backing={_tag:"IArray",array:t},e.left=Ao,e.right=Ao,e.depth=0,t}}},hi=e=>{switch(e.backing._tag){case"IEmpty":case"ISingleton":return e;case"IArray":return Ot({_tag:"IArray",array:aB(e.backing.array)});case"IConcat":return Ot({_tag:"IConcat",left:hi(e.backing.right),right:hi(e.backing.left)});case"ISlice":return ar(aB($n(e)))}},ar=e=>Ot({_tag:"IArray",array:e}),zce=e=>ar(e),ko=p(2,(e,t)=>{switch(e.backing._tag){case"IEmpty":throw new Error("Index out of bounds");case"ISingleton":if(0!==t)throw new Error("Index out of bounds");return e.backing.a;case"IArray":if(t>=e.length||t<0)throw new Error("Index out of bounds");return e.backing.array[t];case"IConcat":return t<e.left.length?ko(e.left,t):ko(e.right,t-e.left.length);case"ISlice":return ko(e.backing.chunk,t+e.backing.offset)}}),yB=p(2,(e,t)=>Mr(e,qt(t))),lt=p(2,(e,t)=>Mr(qt(t),e)),gh=p(2,(e,t)=>{if(t<=0)return e;if(t>=e.length)return Ao;switch(e.backing._tag){case"ISlice":return Ot({_tag:"ISlice",chunk:e.backing.chunk,offset:e.backing.offset+t,length:e.backing.length-t});case"IConcat":return t>e.left.length?gh(e.right,t-e.left.length):Ot({_tag:"IConcat",left:gh(e.left,t),right:e.right});default:return Ot({_tag:"ISlice",chunk:e,offset:t,length:e.length-t})}}),Mr=p(2,(e,t)=>{if("IEmpty"===e.backing._tag)return t;if("IEmpty"===t.backing._tag)return e;const n=t.depth-e.depth;if(Math.abs(n)<=1)return Ot({_tag:"IConcat",left:e,right:t});if(n<-1){if(e.left.depth>=e.right.depth){const r=Mr(e.right,t);return Ot({_tag:"IConcat",left:e.left,right:r})}{const r=Mr(e.right.right,t);if(r.depth===e.depth-3){const o=Ot({_tag:"IConcat",left:e.right.left,right:r});return Ot({_tag:"IConcat",left:e.left,right:o})}{const o=Ot({_tag:"IConcat",left:e.left,right:e.right.left});return Ot({_tag:"IConcat",left:o,right:r})}}}if(t.right.depth>=t.left.depth){const r=Mr(e,t.left);return Ot({_tag:"IConcat",left:r,right:t.right})}{const r=Mr(e,t.left.left);if(r.depth===t.depth-3){const o=Ot({_tag:"IConcat",left:r,right:t.left.right});return Ot({_tag:"IConcat",left:o,right:t.right})}{const o=Ot({_tag:"IConcat",left:t.left.right,right:t.right});return Ot({_tag:"IConcat",left:r,right:o})}}}),vB=e=>0===e.length,ht=e=>e.length>0,EB=e=>ko(e,0),De=EB,ut=e=>gh(e,1),_M=Symbol.for("effect/Duration"),CB=BigInt(0),SB=BigInt(24),iy=BigInt(60),yM=BigInt(1e3),wB=BigInt(1e6),vM=BigInt(1e9),DB=/^(-?\d+(?:\.\d+)?)\s+(nanos?|micros?|millis?|seconds?|minutes?|hours?|days?|weeks?)$/,mn=e=>{if(IB(e))return e;if(th(e))return mh(e);if((e=>"bigint"==typeof e)(e))return ay(e);if(Array.isArray(e)){if(2===e.length&&th(e[0])&&th(e[1]))return ay(BigInt(e[0])*vM+BigInt(e[1]))}else if((e=>"string"==typeof e)(e)){DB.lastIndex=0;const t=DB.exec(e);if(t){const[n,r,o]=t,s=Number(r);switch(o){case"nano":case"nanos":return ay(BigInt(r));case"micro":case"micros":return Yce(BigInt(r));case"milli":case"millis":return mh(s);case"second":case"seconds":return TB(s);case"minute":case"minutes":return Qce(s);case"hour":case"hours":return Jce(s);case"day":case"days":return ele(s);case"week":case"weeks":return tle(s)}}}throw new Error("Invalid DurationInput")},MB={_tag:"Millis",millis:0},Xce={_tag:"Infinity"},Kce={[_M]:_M,[Q](){return He(this,Sj(this.value))},[J](e){return IB(e)&&ile(this,e)},toString(){return`Duration(${OB(this)})`},toJSON(){switch(this.value._tag){case"Millis":return{_id:"Duration",_tag:"Millis",millis:this.value.millis};case"Nanos":return{_id:"Duration",_tag:"Nanos",hrtime:rle(this)};case"Infinity":return{_id:"Duration",_tag:"Infinity"}}},[$e](){return this.toJSON()},pipe(){return W(this,arguments)}},fs=e=>{const t=Object.create(Kce);return t.value=th(e)?isNaN(e)||e<=0?MB:Number.isFinite(e)?Number.isInteger(e)?{_tag:"Millis",millis:e}:{_tag:"Nanos",nanos:BigInt(Math.round(1e6*e))}:Xce:e<=CB?MB:{_tag:"Nanos",nanos:e},t},IB=e=>G(e,_M),Zce=fs(0),ay=e=>fs(e),Yce=e=>fs(e*yM),mh=e=>fs(e),TB=e=>fs(1e3*e),Qce=e=>fs(6e4*e),Jce=e=>fs(36e5*e),ele=e=>fs(864e5*e),tle=e=>fs(6048e5*e),Wl=e=>Gl(e,{onMillis:t=>t,onNanos:t=>Number(t)/1e6}),rle=e=>{const t=mn(e);switch(t.value._tag){case"Infinity":return[1/0,0];case"Nanos":return[Number(t.value.nanos/vM),Number(t.value.nanos%vM)];case"Millis":return[Math.floor(t.value.millis/1e3),Math.round(t.value.millis%1e3*1e6)]}},Gl=p(2,(e,t)=>{const n=mn(e);switch(n.value._tag){case"Nanos":return t.onNanos(n.value.nanos);case"Infinity":return t.onMillis(1/0);case"Millis":return t.onMillis(n.value.millis)}}),RB=p(3,(e,t,n)=>{const r=mn(e),o=mn(t);if("Infinity"===r.value._tag||"Infinity"===o.value._tag)return n.onMillis(Wl(r),Wl(o));if("Nanos"===r.value._tag||"Nanos"===o.value._tag){const s="Nanos"===r.value._tag?r.value.nanos:BigInt(Math.round(1e6*r.value.millis)),i="Nanos"===o.value._tag?o.value.nanos:BigInt(Math.round(1e6*o.value.millis));return n.onNanos(s,i)}return n.onMillis(r.value.millis,o.value.millis)}),sle=p(2,(e,t)=>RB(e,t,{onMillis:(n,r)=>n>=r,onNanos:(n,r)=>n>=r})),ile=p(2,(e,t)=>((e,t)=>RB(e,t,{onMillis:(n,r)=>n===r,onNanos:(n,r)=>n===r}))(mn(e),mn(t))),OB=e=>{const t=mn(e);if("Infinity"===t.value._tag)return"Infinity";const n=(e=>{const t=mn(e);if("Infinity"===t.value._tag)return{days:1/0,hours:1/0,minutes:1/0,seconds:1/0,millis:1/0,nanos:1/0};const n=(e=>{const t=mn(e);switch(t.value._tag){case"Infinity":throw new Error("Cannot convert infinite duration to nanos");case"Nanos":return t.value.nanos;case"Millis":return BigInt(Math.round(1e6*t.value.millis))}})(t),r=n/wB,o=r/yM,s=o/iy,i=s/iy;return{days:Number(i/SB),hours:Number(i%SB),minutes:Number(s%iy),seconds:Number(o%iy),millis:Number(r%yM),nanos:Number(n%wB)}})(t),r=[];return 0!==n.days&&r.push(`${n.days}d`),0!==n.hours&&r.push(`${n.hours}h`),0!==n.minutes&&r.push(`${n.minutes}m`),0!==n.seconds&&r.push(`${n.seconds}s`),0!==n.millis&&r.push(`${n.millis}ms`),0!==n.nanos&&r.push(`${n.nanos}ns`),r.join(" ")},bM=Math.pow(2,5),cle=bM-1,lle=bM/2,ule=bM/4;function Xl(e,t){return t>>>e&cle}function Kl(e){return 1<<e}function AB(e,t){return function dle(e){return e=(e=(858993459&(e-=e>>1&1431655765))+(e>>2&858993459))+(e>>4)&252645135,127&(e+=e>>8)+(e>>16)}(e&t-1)}const fle=(e,t)=>({value:e,previous:t});function Zl(e,t,n,r){let o=r;if(!e){const s=r.length;o=new Array(s);for(let i=0;i<s;++i)o[i]=r[i]}return o[t]=n,o}function kB(e,t,n){const r=n.length-1;let o=0,s=0,i=n;if(e)o=s=t;else for(i=new Array(r);o<t;)i[s++]=n[o++];for(++o;o<=r;)i[s++]=n[o++];return e&&(i.length=r),i}class pi{_tag="EmptyNode";modify(t,n,r,o,s,i){const a=r(T());return be(a)?new pi:(++i.value,new ka(t,o,s,a))}}function to(e){return $_(e,"EmptyNode")}function cy(e,t){return!to(e)&&t===e.edit}class ka{edit;hash;key;value;_tag="LeafNode";constructor(t,n,r,o){this.edit=t,this.hash=n,this.key=r,this.value=o}modify(t,n,r,o,s,i){if(H(s,this.key)){const c=r(this.value);return c===this.value?this:be(c)?(--i.value,new pi):cy(this,t)?(this.value=c,this):new ka(t,o,s,c)}const a=r(T());return be(a)?this:(++i.value,NB(t,n,this.hash,this,o,new ka(t,o,s,a)))}}class EM{edit;hash;children;_tag="CollisionNode";constructor(t,n,r){this.edit=t,this.hash=n,this.children=r}modify(t,n,r,o,s,i){if(o===this.hash){const c=cy(this,t),l=this.updateCollisionList(c,t,this.hash,this.children,r,s,i);return l===this.children?this:l.length>1?new EM(t,this.hash,l):l[0]}const a=r(T());return be(a)?this:(++i.value,NB(t,n,this.hash,this,o,new ka(t,o,s,a)))}updateCollisionList(t,n,r,o,s,i,a){const c=o.length;for(let u=0;u<c;++u){const d=o[u];if("key"in d&&H(i,d.key)){const f=d.value,h=s(f);return h===f?o:be(h)?(--a.value,kB(t,u,o)):Zl(t,u,new ka(n,r,i,h),o)}}const l=s(T());return be(l)?o:(++a.value,Zl(t,c,new ka(n,r,i,l),o))}}class Yl{edit;mask;children;_tag="IndexedNode";constructor(t,n,r){this.edit=t,this.mask=n,this.children=r}modify(t,n,r,o,s,i){const a=this.mask,c=this.children,l=Xl(n,o),u=Kl(l),d=AB(a,u),f=a&u,h=cy(this,t);if(!f){const v=(new pi).modify(t,n+5,r,o,s,i);return v?c.length>=lle?function mle(e,t,n,r,o){const s=[];let i=r,a=0;for(let c=0;i;++c)1&i&&(s[c]=o[a++]),i>>>=1;return s[t]=n,new CM(e,a+1,s)}(t,l,v,a,c):new Yl(t,a|u,function hle(e,t,n,r){const o=r.length;if(e){let c=o;for(;c>=t;)r[c--]=r[c];return r[t]=n,r}let s=0,i=0;const a=new Array(o+1);for(;s<t;)a[i++]=r[s++];for(a[t]=n;s<o;)a[++i]=r[s++];return a}(h,d,v,c)):this}const g=c[d],m=g.modify(t,n+5,r,o,s,i);if(g===m)return this;let S,y=a;if(to(m)){if(y&=~u,!y)return new pi;if(c.length<=2&&function ple(e){return to(e)||"LeafNode"===e._tag||"CollisionNode"===e._tag}(c[1^d]))return c[1^d];S=kB(h,d,c)}else S=Zl(h,d,m,c);return h?(this.mask=y,this.children=S,this):new Yl(t,y,S)}}class CM{edit;size;children;_tag="ArrayNode";constructor(t,n,r){this.edit=t,this.size=n,this.children=r}modify(t,n,r,o,s,i){let a=this.size;const c=this.children,l=Xl(n,o),u=c[l],d=(u||new pi).modify(t,n+5,r,o,s,i);if(u===d)return this;const f=cy(this,t);let h;if(to(u)&&!to(d))++a,h=Zl(f,l,d,c);else if(!to(u)&&to(d)){if(--a,a<=ule)return function gle(e,t,n,r){const o=new Array(t-1);let s=0,i=0;for(let a=0,c=r.length;a<c;++a)if(a!==n){const l=r[a];l&&!to(l)&&(o[s++]=l,i|=1<<a)}return new Yl(e,i,o)}(t,a,l,c);h=Zl(f,l,new pi,c)}else h=Zl(f,l,d,c);return f?(this.size=a,this.children=h,this):new CM(t,a,h)}}function _le(e,t,n,r,o,s){if(n===o)return new EM(e,n,[s,r]);const i=Xl(t,n),a=Xl(t,o);if(i===a)return c=>new Yl(e,Kl(i)|Kl(a),[c]);{const c=i<a?[r,s]:[s,r];return new Yl(e,Kl(i)|Kl(a),c)}}function NB(e,t,n,r,o,s){let i,a=t;for(;;){const c=_le(e,a,n,r,o,s);if("function"!=typeof c){let l=c;for(;null!=i;)l=i.value(l),i=i.previous;return l}i=fle(c,i),a+=5}}const xB="effect/HashMap",ly=Symbol.for(xB),yle={[ly]:ly,[Symbol.iterator](){return new Ql(this,(e,t)=>[e,t])},[Q](){let e=B(xB);for(const t of this)e^=_(B(t[0]),ie(B(t[1])));return He(this,e)},[J](e){if(VB(e)){if(e._size!==this._size)return!1;for(const t of this){const n=_(e,Jl(t[0],B(t[0])));if(be(n))return!1;if(!H(t[1],n.value))return!1}return!0}return!1},toString(){return ft(this.toJSON())},toJSON(){return{_id:"HashMap",values:Array.from(this).map(rt)}},[$e](){return this.toJSON()},pipe(){return W(this,arguments)}},SM=(e,t,n,r)=>{const o=Object.create(yle);return o._editable=e,o._edit=t,o._root=n,o._size=r,o};class Ql{map;f;v;constructor(t,n){this.map=t,this.f=n,this.v=FB(this.map._root,this.f,void 0)}next(){if(be(this.v))return{done:!0,value:void 0};const t=this.v.value;return this.v=uy(t.cont),{done:!1,value:t.value}}[Symbol.iterator](){return new Ql(this.map,this.f)}}const uy=e=>e?PB(e[0],e[1],e[2],e[3],e[4]):T(),FB=(e,t,n=void 0)=>{switch(e._tag){case"LeafNode":return he(e.value)?A({value:t(e.key,e.value.value),cont:n}):uy(n);case"CollisionNode":case"ArrayNode":case"IndexedNode":{const r=e.children;return PB(r.length,r,0,t,n)}default:return uy(n)}},PB=(e,t,n,r,o)=>{for(;n<e;){const s=t[n++];if(s&&!to(s))return FB(s,r,[e,t,n,r,o])}return uy(o)},vle=SM(!1,0,new pi,0),Na=()=>vle,VB=e=>G(e,ly),Cle=p(2,(e,t)=>Jl(e,t,B(t))),Jl=p(3,(e,t,n)=>{let r=e._root,o=0;for(;;)switch(r._tag){case"LeafNode":return H(t,r.key)?r.value:T();case"CollisionNode":if(n===r.hash){const s=r.children;for(let i=0,a=s.length;i<a;++i){const c=s[i];if("key"in c&&H(t,c.key))return c.value}}return T();case"IndexedNode":{const i=Kl(Xl(o,n));if(r.mask&i){r=r.children[AB(r.mask,i)],o+=5;break}return T()}case"ArrayNode":if(r=r.children[Xl(o,n)],r){o+=5;break}return T();default:return T()}}),jB=p(2,(e,t)=>he(Jl(e,t,B(t)))),hs=p(3,(e,t,n)=>hy(e,t,()=>A(n))),Dle=p(3,(e,t,n)=>e._editable?(e._root=t,e._size=n,e):t===e._root?e:SM(e._editable,e._edit,t,n)),wM=e=>new Ql(e,t=>t),dy=e=>e._size,_h=e=>SM(!0,e._edit+1,e._root,e._size),fy=e=>(e._editable=!1,e),hy=p(3,(e,t,n)=>BB(e,t,B(t),n)),BB=p(4,(e,t,n,r)=>{const o={value:e._size},s=e._root.modify(e._editable?e._edit:NaN,0,r,n,t,o);return _(e,Dle(s,o.value))}),py=p(2,(e,t)=>hy(e,t,T)),Ale=p(2,(e,t)=>vh(e,Na(),(n,r,o)=>hs(n,o,t(r,o)))),gy=p(2,(e,t)=>vh(e,void 0,(n,r,o)=>t(r,o))),vh=p(3,(e,t,n)=>{const r=e._root;if("LeafNode"===r._tag)return he(r.value)?n(t,r.value.value,r.key):t;if("EmptyNode"===r._tag)return t;const o=[r.children];let s;for(;s=o.pop();)for(let i=0,a=s.length;i<a;){const c=s[i++];c&&!to(c)&&("LeafNode"===c._tag?he(c.value)&&(t=n(t,c.value.value,c.key)):o.push(c.children))}return t}),HB="effect/HashSet",my=Symbol.for(HB),Ple={[my]:my,[Symbol.iterator](){return wM(this._keyMap)},[Q](){return He(this,ie(B(this._keyMap))(B(HB)))},[J](e){return!!$B(e)&&dy(this._keyMap)===dy(e._keyMap)&&H(this._keyMap,e._keyMap)},toString(){return ft(this.toJSON())},toJSON(){return{_id:"HashSet",values:Array.from(this).map(rt)}},[$e](){return this.toJSON()},pipe(){return W(this,arguments)}},bh=e=>{const t=Object.create(Ple);return t._keyMap=e,t},$B=e=>G(e,my),Lle=bh(Na()),No=()=>Lle,eu=p(2,(e,t)=>jB(e._keyMap,t)),tu=e=>bh(_h(e._keyMap)),nu=e=>(e._keyMap._editable=!1,e),xa=p(2,(e,t)=>{const n=tu(e);return t(n),nu(n)}),Ir=p(2,(e,t)=>e._keyMap._editable?(hs(t,!0)(e._keyMap),e):bh(hs(t,!0)(e._keyMap))),MM=p(2,(e,t)=>e._keyMap._editable?(py(t)(e._keyMap),e):bh(py(t)(e._keyMap))),Hle=p(2,(e,t)=>xa(e,n=>{for(const r of t)MM(n,r)})),qle=p(2,(e,t)=>xa(No(),n=>{_y(e,r=>Ir(n,r));for(const r of t)Ir(n,r)})),_y=p(2,(e,t)=>gy(e._keyMap,(n,r)=>t(r))),gi=No,yy=(...e)=>{const t=tu(No());for(const n of e)Ir(t,n);return nu(t)},Yle=eu,Eh=e=>dy(e._keyMap),Ch=Ir,GB=MM,XB=Hle,ru=qle,Sh=p(3,(e,t,n)=>vh(e._keyMap,t,(r,o,s)=>n(r,s))),KB=Symbol.for("effect/MutableRef"),Jle={[KB]:KB,toString(){return ft(this.toJSON())},toJSON(){return{_id:"MutableRef",current:rt(this.current)}},[$e](){return this.toJSON()},pipe(){return W(this,arguments)}},wh=e=>{const t=Object.create(Jle);return t.current=e,t},ps=e=>e.current,Dh=p(2,(e,t)=>(e.current=t,e)),vy="effect/FiberId",mi=Symbol.for(vy),_i="None",Mh="Runtime",eue=ct(`${vy}-${_i}`);class tue{[mi]=mi;_tag=_i;id=-1;startTimeMillis=-1;[Q](){return eue}[J](t){return by(t)&&t._tag===_i}toString(){return ft(this.toJSON())}toJSON(){return{_id:"FiberId",_tag:this._tag}}[$e](){return this.toJSON()}}class TM{id;startTimeMillis;[mi]=mi;_tag=Mh;constructor(t,n){this.id=t,this.startTimeMillis=n}[Q](){return He(this,ct(`${vy}-${this._tag}-${this.id}-${this.startTimeMillis}`))}[J](t){return by(t)&&t._tag===Mh&&this.id===t.id&&this.startTimeMillis===t.startTimeMillis}toString(){return ft(this.toJSON())}toJSON(){return{_id:"FiberId",_tag:this._tag,id:this.id,startTimeMillis:this.startTimeMillis}}[$e](){return this.toJSON()}}const RM=new tue,by=e=>G(e,mi),Ey=e=>{switch(e._tag){case _i:return gi();case Mh:return yy(e.id);case"Composite":return _(Ey(e.left),ru(Ey(e.right)))}},eU=ge(Symbol.for("effect/Fiber/Id/_fiberCounter"),()=>wh(0)),kM=e=>Array.from(Ey(e)).map(n=>`#${n}`).join(","),xo=RM,fue=kM,rU=()=>{const e=ps(eU);return _(eU,Dh(e+1)),new TM(e,Date.now())},Cy=Na,pue=e=>{const t=_h(Na());for(const n of e)hs(t,n[0],n[1]);return fy(t)},Sy=Cle,Fo=hs,oU=wM,sU=dy,yue=hy,vue=Ale,wy=vh,Rh=Symbol.for("effect/List"),xM=e=>le(e),Eue=(e=>Xae(pM(e),xM))(H),Cue={[Rh]:Rh,_tag:"Cons",toString(){return ft(this.toJSON())},toJSON(){return{_id:"List",_tag:"Cons",values:xM(this).map(rt)}},[$e](){return this.toJSON()},[J](e){return iU(e)&&this._tag===e._tag&&Eue(this,e)},[Q](){return He(this,wa(xM(this)))},[Symbol.iterator](){let e=!1,t=this;return{next(){if(e)return this.return();if("Nil"===t._tag)return e=!0,this.return();const n=t.head;return t=t.tail,{done:e,value:n}},return:n=>(e||(e=!0),{done:!0,value:n})}},pipe(){return W(this,arguments)}},gs=(e,t)=>{const n=Object.create(Cue);return n.head=e,n.tail=t,n},Sue=ct("Nil"),wue={[Rh]:Rh,_tag:"Nil",toString(){return ft(this.toJSON())},toJSON:()=>({_id:"List",_tag:"Nil"}),[$e](){return this.toJSON()},[Q]:()=>Sue,[J](e){return iU(e)&&this._tag===e._tag},[Symbol.iterator]:()=>({next:()=>({done:!0,value:void 0})}),pipe(){return W(this,arguments)}},ms=Object.create(wue),iU=e=>G(e,Rh),St=e=>"Nil"===e._tag,FM=e=>"Cons"===e._tag,Fa=(e,t)=>gs(e,t),Pa=()=>ms,PM=e=>gs(e,ms),Iue=p(2,(e,t)=>Tue(t,e)),LM=p(2,(e,t)=>Fa(t,e)),Tue=p(2,(e,t)=>{if(St(e))return t;if(St(t))return e;{const n=gs(t.head,e);let r=n,o=t.tail;for(;!St(o);){const s=gs(o.head,e);r.tail=s,r=s,o=o.tail}return n}}),kue=p(3,(e,t,n)=>{let r=t,o=e;for(;!St(o);)r=n(r,o.head),o=o.tail;return r}),Nue=e=>{let t=Pa(),n=e;for(;!St(n);)t=LM(t,n.head),n=n.tail;return t},ou=function(){function e(t){t&&Object.assign(this,t)}return e.prototype=J_,e}();const uU=Symbol.for("effect/DifferContextPatch");function dU(e){return e}const Ah={...ou.prototype,[uU]:{_Value:dU,_Patch:dU}},Gue=Object.create(Object.assign(Object.create(Ah),{_tag:"Empty"})),fU=()=>Gue,Xue=Object.assign(Object.create(Ah),{_tag:"AndThen"}),Zue=Object.assign(Object.create(Ah),{_tag:"AddService"}),Yue=(e,t)=>{const n=Object.create(Zue);return n.key=e,n.service=t,n},Que=Object.assign(Object.create(Ah),{_tag:"RemoveService"}),Jue=e=>{const t=Object.create(Que);return t.key=e,t},ede=Object.assign(Object.create(Ah),{_tag:"UpdateService"}),tde=(e,t)=>{const n=Object.create(ede);return n.key=e,n.update=t,n},Iy=p(2,(e,t)=>((e,t)=>{const n=Object.create(Xue);return n.first=e,n.second=t,n})(e,t)),rde=p(2,(e,t)=>{if("Empty"===e._tag)return t;let n=!1,r=qt(e);const o=new Map(t.unsafeMap);for(;ht(r);){const i=De(r),a=ut(r);switch(i._tag){case"Empty":r=a;break;case"AddService":o.set(i.key,i.service),r=a;break;case"AndThen":r=lt(lt(a,i.second),i.first);break;case"RemoveService":o.delete(i.key),r=a;break;case"UpdateService":o.set(i.key,i.update(o.get(i.key))),n=!0,r=a}}if(!n)return Ro(o);const s=new Map;for(const[i]of t.unsafeMap)o.has(i)&&(s.set(i,o.get(i)),o.delete(i));for(const[i,a]of o)s.set(i,a);return Ro(s)});const gU=Symbol.for("effect/DifferHashSetPatch");function UM(e){return e}const Ry={...ou.prototype,[gU]:{_Value:UM,_Key:UM,_Patch:UM}},gde=Object.create(Object.assign(Object.create(Ry),{_tag:"Empty"})),mU=()=>gde,mde=Object.assign(Object.create(Ry),{_tag:"AndThen"}),yde=Object.assign(Object.create(Ry),{_tag:"Add"}),vde=e=>{const t=Object.create(yde);return t.value=e,t},bde=Object.assign(Object.create(Ry),{_tag:"Remove"}),HM=p(2,(e,t)=>((e,t)=>{const n=Object.create(mde);return n.first=e,n.second=t,n})(e,t)),Sde=p(2,(e,t)=>{if("Empty"===e._tag)return t;let n=t,r=qt(e);for(;ht(r);){const o=De(r),s=ut(r);switch(o._tag){case"Empty":r=s;break;case"AndThen":r=lt(o.first)(lt(o.second)(s));break;case"Add":n=Ch(o.value)(n),r=s;break;case"Remove":n=GB(o.value)(n),r=s}}return n});const yU=Symbol.for("effect/DifferReadonlyArrayPatch");function vU(e){return e}const Nh={...ou.prototype,[yU]:{_Value:vU,_Patch:vU}},Vde=Object.create(Object.assign(Object.create(Nh),{_tag:"Empty"})),bU=()=>Vde,jde=Object.assign(Object.create(Nh),{_tag:"AndThen"}),Ude=Object.assign(Object.create(Nh),{_tag:"Append"}),$de=Object.assign(Object.create(Nh),{_tag:"Slice"}),zde=Object.assign(Object.create(Nh),{_tag:"Update"}),Wde=(e,t)=>{const n=Object.create(zde);return n.index=e,n.patch=t,n},Oy=p(2,(e,t)=>((e,t)=>{const n=Object.create(jde);return n.first=e,n.second=t,n})(e,t)),Xde=p(3,(e,t,n)=>{if("Empty"===e._tag)return t;let r=t.slice(),o=Dr(e);for(;Ece(o);){const s=Hn(o),i=di(o);switch(s._tag){case"Empty":o=i;break;case"AndThen":i.unshift(s.first,s.second),o=i;break;case"Append":for(const a of s.values)r.push(a);o=i;break;case"Slice":r=r.slice(s.from,s.until),o=i;break;case"Update":r[s.index]=n.patch(s.patch,r[s.index]),o=i}}return r}),EU=Symbol.for("effect/Differ"),Kde={[EU]:{_P:Ce,_V:Ce}},no=e=>{const t=Object.create(Kde);return t.empty=e.empty,t.diff=e.diff,t.combine=e.combine,t.patch=e.patch,t},SU=()=>no({empty:mU(),combine:(e,t)=>HM(t)(e),diff:(e,t)=>((e,t)=>{const[n,r]=Sh([e,mU()],([o,s],i)=>Yle(i)(o)?[GB(i)(o),s]:[o,HM(vde(i))(s)])(t);return Sh(r,(o,s)=>HM((e=>{const t=Object.create(bde);return t.value=e,t})(s))(o))(n)})(e,t),patch:(e,t)=>Sde(t)(e)}),wU=e=>no({empty:bU(),combine:(t,n)=>Oy(t,n),diff:(t,n)=>(e=>{let t=0,n=bU();for(;t<e.oldValue.length&&t<e.newValue.length;){const s=e.differ.diff(e.oldValue[t],e.newValue[t]);H(s,e.differ.empty)||(n=Oy(n,Wde(t,s))),t+=1}return t<e.oldValue.length&&(n=Oy(n,((e,t)=>{const n=Object.create($de);return n.from=0,n.until=t,n})(0,t))),t<e.newValue.length&&(n=Oy(n,(e=>{const t=Object.create(Ude);return t.values=e,t})(Ice(t)(e.newValue)))),n})({oldValue:t,newValue:n,differ:e}),patch:(t,n)=>Xde(t,n,e)}),zM=()=>DU((e,t)=>t),DU=e=>no({empty:Ce,combine:(t,n)=>t===Ce?n:n===Ce?t:r=>n(t(r)),diff:(t,n)=>H(t,n)?Ce:j_(n),patch:(t,n)=>e(n,t(n))}),Tr=e=>255&e,Rr=e=>e>>8&255,_s=(e,t)=>(255&e)+((t&e&255)<<8),IU=_s(0,0),ife=p(2,(e,t)=>_s(Tr(e)&~t,Rr(e))),RU=p(2,(e,t)=>e|t),dfe=p(2,(e,t)=>e|t),vs=e=>xy(e)&&!hfe(e),xy=e=>La(e,1),La=p(2,(e,t)=>!!(e&t)),kU=(...e)=>e.reduce((t,n)=>t|n,0),ffe=kU(0),NU=e=>La(e,4),hfe=e=>La(e,16),bs=p(2,(e,t)=>_s(e^t,t)),Va=p(2,(e,t)=>e&((e=>~e>>>0&255)(Tr(t))|Rr(t))|Tr(t)&Rr(t)),LU=no({empty:IU,diff:(e,t)=>bs(e,t),combine:(e,t)=>RU(t)(e),patch:(e,t)=>Va(t,e)}),jU=e=>_s(e,0),BU=ife,iu="Die",au="Empty",cu="Fail",lu="Interrupt",uu="Parallel",du="Sequential",UU="effect/Cause",HU=Symbol.for(UU),fu={[HU]:{_E:e=>e},[Q](){return _(B(UU),ie(B(wfe(this))),He(this))},[J](e){return $U(e)&&Sfe(this,e)},pipe(){return W(this,arguments)},toJSON(){switch(this._tag){case"Empty":return{_id:"Cause",_tag:this._tag};case"Die":return{_id:"Cause",_tag:this._tag,defect:rt(this.defect)};case"Interrupt":return{_id:"Cause",_tag:this._tag,fiberId:this.fiberId.toJSON()};case"Fail":return{_id:"Cause",_tag:this._tag,failure:rt(this.error)};case"Sequential":case"Parallel":return{_id:"Cause",_tag:this._tag,left:rt(this.left),right:rt(this.right)}}},toString(){return Ph(this)},[$e](){return this.toJSON()}},Or=(()=>{const e=Object.create(fu);return e._tag=au,e})(),Es=e=>{const t=Object.create(fu);return t._tag=cu,t.error=e,t},cn=e=>{const t=Object.create(fu);return t._tag=iu,t.defect=e,t},cr=e=>{const t=Object.create(fu);return t._tag=lu,t.fiberId=e,t},Yt=(e,t)=>{const n=Object.create(fu);return n._tag=uu,n.left=e,n.right=t,n},dt=(e,t)=>{const n=Object.create(fu);return n._tag=du,n.left=e,n.right=t,n},$U=e=>G(e,HU),KM=e=>Fy(void 0,Ife)(e),hu=e=>{const t=(e=>pu(e,t=>t._tag===cu?A(t.error):T()))(e);switch(t._tag){case"None":return Ct(e);case"Some":return nr(t.value)}},yfe=e=>pu(e,t=>t._tag===lu?A(t.fiberId):T()),ZU=e=>ja(e,{onEmpty:Or,onFail:()=>Or,onDie:t=>cn(t),onInterrupt:t=>cr(t),onSequential:dt,onParallel:Yt}),Sfe=(e,t)=>{let n=qt(e),r=qt(t);for(;ht(n)&&ht(r);){const[o,s]=_(De(n),gu([gi(),an()],([c,l],u)=>{const[d,f]=ZM(u);return A([_(c,ru(d)),_(l,Mr(f))])})),[i,a]=_(De(r),gu([gi(),an()],([c,l],u)=>{const[d,f]=ZM(u);return A([_(c,ru(d)),_(l,Mr(f))])}));if(!H(o,i))return!1;n=s,r=a}return!0},wfe=e=>Dfe(qt(e),an()),Dfe=(e,t)=>{for(;;){const[n,r]=_(e,Ra([gi(),an()],([s,i],a)=>{const[c,l]=ZM(a);return[_(s,ru(c)),_(i,Mr(l))]})),o=Eh(n)>0?_(t,lt(n)):t;if(vB(r))return hi(o);e=r,t=o}throw new Error(nh("Cause.flattenCauseLoop"))},pu=p(2,(e,t)=>{const n=[e];for(;n.length>0;){const r=n.pop(),o=t(r);switch(o._tag){case"None":switch(r._tag){case du:case uu:n.push(r.right),n.push(r.left)}break;case"Some":return o}}return T()}),ZM=e=>{let t=e;const n=[];let r=gi(),o=an();for(;void 0!==t;)switch(t._tag){case au:if(0===n.length)return[r,o];t=n.pop();break;case cu:if(r=Ch(r,gM(t._tag,t.error)),0===n.length)return[r,o];t=n.pop();break;case iu:if(r=Ch(r,gM(t._tag,t.defect)),0===n.length)return[r,o];t=n.pop();break;case lu:if(r=Ch(r,gM(t._tag,t.fiberId)),0===n.length)return[r,o];t=n.pop();break;case du:switch(t.left._tag){case au:t=t.right;break;case du:t=dt(t.left.left,dt(t.left.right,t.right));break;case uu:t=Yt(dt(t.left.left,t.right),dt(t.left.right,t.right));break;default:o=lt(o,t.right),t=t.left}break;case uu:n.push(t.right),t=t.left}throw new Error(nh("Cause.evaluateCauseLoop"))},Ife={emptyCase:eh,failCase:ls,dieCase:ls,interruptCase:eh,sequentialCase:(e,t,n)=>t&&n,parallelCase:(e,t,n)=>t&&n},JU="SequentialCase",eH="ParallelCase",ja=p(2,(e,{onDie:t,onEmpty:n,onFail:r,onInterrupt:o,onParallel:s,onSequential:i})=>Fy(e,void 0,{emptyCase:()=>n,failCase:(a,c)=>r(c),dieCase:(a,c)=>t(c),interruptCase:(a,c)=>o(c),sequentialCase:(a,c,l)=>i(c,l),parallelCase:(a,c,l)=>s(c,l)})),gu=p(3,(e,t,n)=>{let r=t,o=e;const s=[];for(;void 0!==o;){const i=n(r,o);switch(r=he(i)?i.value:r,o._tag){case du:case uu:s.push(o.right),o=o.left;break;default:o=void 0}void 0===o&&s.length>0&&(o=s.pop())}return r}),Fy=p(3,(e,t,n)=>{const r=[e],o=[];for(;r.length>0;){const i=r.pop();switch(i._tag){case au:o.push(Ct(n.emptyCase(t)));break;case cu:o.push(Ct(n.failCase(t,i.error)));break;case iu:o.push(Ct(n.dieCase(t,i.defect)));break;case lu:o.push(Ct(n.interruptCase(t,i.fiberId)));break;case du:r.push(i.right),r.push(i.left),o.push(nr({_tag:JU}));break;case uu:r.push(i.right),r.push(i.left),o.push(nr({_tag:eH}))}}const s=[];for(;o.length>0;){const i=o.pop();switch(i._tag){case"Left":switch(i.left._tag){case JU:{const a=s.pop(),c=s.pop(),l=n.sequentialCase(t,a,c);s.push(l);break}case eH:{const a=s.pop(),c=s.pop(),l=n.parallelCase(t,a,c);s.push(l);break}}break;case"Right":s.push(i.right)}}if(0===s.length)throw new Error("BUG: Cause.reduceWithContext - please report an issue at https://github.com/Effect-TS/effect/issues");return s.pop()}),Ph=(e,t)=>KM(e)?"All fibers interrupted without errors.":rH(e).map(function(n){return!0!==t?.renderErrorCause||void 0===n.cause?n.stack:`${n.stack} {\n${tH(n.cause,"  ")}\n}`}).join("\n"),tH=(e,t)=>{const n=e.stack.split("\n");let r=`${t}[cause]: ${n[0]}`;for(let o=1,s=n.length;o<s;o++)r+=`\n${t}${n[o]}`;return e.cause&&(r+=` {\n${tH(e.cause,`${t}  `)}\n${t}}`),r};class Py extends globalThis.Error{span=void 0;constructor(t){const n="object"==typeof t&&null!==t,r=Error.stackTraceLimit;Error.stackTraceLimit=1,super(Tfe(t),n&&"cause"in t&&typeof t.cause<"u"?{cause:new Py(t.cause)}:void 0),""===this.message&&(this.message="An error has occurred"),Error.stackTraceLimit=r,this.name=t instanceof Error?t.name:"Error",n&&(nH in t&&(this.span=t[nH]),Object.keys(t).forEach(o=>{o in this||(this[o]=t[o])})),this.stack=Ofe(`${this.name}: ${this.message}`,t instanceof Error&&t.stack?t.stack:"",this.span)}}const Tfe=e=>{if("string"==typeof e)return e;if("object"==typeof e&&null!==e&&e instanceof Error)return e.message;try{if(G(e,"toString")&&Sa(e.toString)&&e.toString!==Object.prototype.toString&&e.toString!==globalThis.Array.prototype.toString)return e.toString()}catch{}return KD(e)},Rfe=/\((.*)\)/g,Ly=ge("effect/Tracer/spanToTrace",()=>new WeakMap),Ofe=(e,t,n)=>{const r=[e],o=t.startsWith(e)?t.slice(e.length).split("\n"):t.split("\n");for(let s=1;s<o.length&&!o[s].includes("Generator.next");s++){if(o[s].includes("effect_internal_function")){r.pop();break}r.push(o[s].replace(/at .*effect_instruction_i.*\((.*)\)/,"at $1").replace(/EffectPrimitive\.\w+/,"<anonymous>"))}if(n){let s=n,i=0;for(;s&&"Span"===s._tag&&i<10;){const a=Ly.get(s);if("function"==typeof a){const c=a();if("string"==typeof c){const l=c.matchAll(Rfe);let u=!1;for(const[,d]of l)u=!0,r.push(`    at ${s.name} (${d})`);u||r.push(`    at ${s.name} (${c.replace(/^at /,"")})`)}else r.push(`    at ${s.name}`)}else r.push(`    at ${s.name}`);s=ir(s.parent),i++}}return r.join("\n")},nH=Symbol.for("effect/SpanAnnotation"),rH=e=>Fy(e,void 0,{emptyCase:()=>[],dieCase:(t,n)=>[new Py(n)],failCase:(t,n)=>[new Py(n)],interruptCase:()=>[],parallelCase:(t,n,r)=>[...n,...r],sequentialCase:(t,n,r)=>[...n,...r]}),mu="Pending",oH=Symbol.for("effect/Deferred"),Afe={_E:e=>e,_A:e=>e},kfe=e=>({_tag:mu,joiners:e});class Vh{self;called=!1;constructor(t){this.self=t}next(t){return this.called?{value:t,done:!0}:(this.called=!0,{value:this.self,done:!1})}return(t){return{value:t,done:!0}}throw(t){throw t}[Symbol.iterator](){return new Vh(this.self)}}const YM=Symbol.for("effect/EffectError"),_u=(e,t)=>{const n=new wt("Blocked");return n.effect_instruction_i0=e,n.effect_instruction_i1=t,n},Ba=Symbol.for("effect/Effect");class Ffe{patch;op;_op=YD;constructor(t,n){this.patch=t,this.op=n}}class wt{_op;effect_instruction_i0=void 0;effect_instruction_i1=void 0;effect_instruction_i2=void 0;trace=void 0;[Ba]=Vl;constructor(t){this._op=t}[J](t){return this===t}[Q](){return He(this,q_(this))}pipe(){return W(this,arguments)}toJSON(){return{_id:"Effect",_op:this._op,effect_instruction_i0:rt(this.effect_instruction_i0),effect_instruction_i1:rt(this.effect_instruction_i1),effect_instruction_i2:rt(this.effect_instruction_i2)}}toString(){return ft(this.toJSON())}[$e](){return this.toJSON()}[Symbol.iterator](){return new Vh(new oh(this))}}class aH{_op;effect_instruction_i0=void 0;effect_instruction_i1=void 0;effect_instruction_i2=void 0;trace=void 0;[Ba]=Vl;constructor(t){this._op=t,this._tag=t}[J](t){return Zy(t)&&"Failure"===t._op&&H(this.effect_instruction_i0,t.effect_instruction_i0)}[Q](){return _(ct(this._tag),ie(B(this.effect_instruction_i0)),He(this))}get cause(){return this.effect_instruction_i0}pipe(){return W(this,arguments)}toJSON(){return{_id:"Exit",_tag:this._op,cause:this.cause.toJSON()}}toString(){return ft(this.toJSON())}[$e](){return this.toJSON()}[Symbol.iterator](){return new Vh(new oh(this))}}class cH{_op;effect_instruction_i0=void 0;effect_instruction_i1=void 0;effect_instruction_i2=void 0;trace=void 0;[Ba]=Vl;constructor(t){this._op=t,this._tag=t}[J](t){return Zy(t)&&"Success"===t._op&&H(this.effect_instruction_i0,t.effect_instruction_i0)}[Q](){return _(ct(this._tag),ie(B(this.effect_instruction_i0)),He(this))}get value(){return this.effect_instruction_i0}pipe(){return W(this,arguments)}toJSON(){return{_id:"Exit",_tag:this._op,value:rt(this.value)}}toString(){return ft(this.toJSON())}[$e](){return this.toJSON()}[Symbol.iterator](){return new Vh(new oh(this))}}const We=e=>G(e,Ba),Ee=e=>{const t=new wt(Mj);return t.effect_instruction_i0=e,t},lH=p(3,(e,t,n)=>Jt(r=>b(e,o=>b(At(z(()=>r(t(o)))),s=>z(()=>n(o,s)).pipe(kt({onFailure:i=>{switch(s._tag){case qe:return _e(dt(s.effect_instruction_i0,i));case ze:return _e(i)}},onSuccess:()=>s})))))),mt=p(2,(e,t)=>b(e,()=>D(t))),Qt=e=>mt(e,void 0),Vy=function(){const e=new wt(G_);switch(arguments.length){case 2:e.effect_instruction_i0=arguments[0],e.commit=arguments[1];break;case 3:e.effect_instruction_i0=arguments[0],e.effect_instruction_i1=arguments[1],e.commit=arguments[2];break;case 4:e.effect_instruction_i0=arguments[0],e.effect_instruction_i1=arguments[1],e.effect_instruction_i2=arguments[2],e.commit=arguments[3];break;default:throw new Error(nh("you're not supposed to end up here"))}return e},jh=(e,t=xo)=>{const n=new wt(ih);let r;return n.effect_instruction_i0=o=>{r=e(o)},n.effect_instruction_i1=t,Wa(n,o=>We(r)?r:ee)},jy=(e,t=xo)=>z(()=>jh(e,t)),ro=(e,t=xo)=>Vy(e,function(){let n,r;function o(c){n?n(c):void 0===r&&(r=c)}const s=new wt(ih);let i,a;return s.effect_instruction_i0=c=>{n=c,r&&c(r)},s.effect_instruction_i1=t,1!==this.effect_instruction_i0.length?(a=new AbortController,i=Zt(()=>this.effect_instruction_i0(o,a.signal))):i=Zt(()=>this.effect_instruction_i0(o)),i||a?Wa(s,c=>(a&&a.abort(),i??ee)):s}),Ha=p(2,(e,t)=>_n(e,{onFailure:t,onSuccess:D})),By=Symbol.for("effect/SpanAnnotation"),Uy=Symbol.for("effect/OriginalAnnotation"),JM=(e,t)=>he(t)?new Proxy(e,{has:(n,r)=>r===By||r===Uy||r in n,get:(n,r)=>r===By?t.value:r===Uy?e:n[r]}):e,$a=e=>H_(e)&&!(By in e)?Ee(t=>_e(cn(JM(e,II(t))))):_e(cn(e)),Bh=e=>Hh(()=>cn(new lhe(e))),qa=e=>_n(e,{onFailure:t=>D(nr(t)),onSuccess:t=>D(Ct(t))}),At=e=>eI(e,{onFailure:ye,onSuccess:Me}),ue=e=>H_(e)&&!(By in e)?Ee(t=>_e(Es(JM(e,II(t))))):_e(Es(e)),Ar=e=>b(R(e),ue),_e=e=>{const t=new aH(qe);return t.effect_instruction_i0=e,t},Hh=e=>b(R(e),_e),yu=Ee(e=>D(e.id())),Cs=e=>Ee(t=>e(t.id())),b=p(2,(e,t)=>{const n=new wt(K_);return n.effect_instruction_i0=e,n.effect_instruction_i1=t,n}),uH=e=>{const t=new wt("OnStep");return t.effect_instruction_i0=e,t},kr=e=>b(e,Ce),eI=p(2,(e,t)=>kt(e,{onFailure:n=>D(t.onFailure(n)),onSuccess:n=>D(t.onSuccess(n))})),kt=p(2,(e,t)=>{const n=new wt(Z_);return n.effect_instruction_i0=e,n.effect_instruction_i1=t.onFailure,n.effect_instruction_i2=t.onSuccess,n}),_n=p(2,(e,t)=>kt(e,{onFailure:n=>{if((e=>hi(gu(e,an(),(t,n)=>n._tag===iu?A(_(t,lt(n.defect))):T())))(n).length>0)return _e((e=>ja(e,{onEmpty:Or,onFail:t=>cn(t),onDie:t=>cn(t),onInterrupt:t=>cr(t),onSequential:(t,n)=>dt(t,n),onParallel:(t,n)=>Yt(t,n)}))(n));const o=(e=>hi(gu(e,an(),(t,n)=>n._tag===cu?A(_(t,lt(n.error))):T())))(n);return o.length>0?t.onFailure(EB(o)):_e(n)},onSuccess:t.onSuccess})),qn=p(2,(e,t)=>z(()=>{const n=le(e),r=dM(n.length);let o=0;return mt(qy({while:()=>o<n.length,body:()=>t(n[o],o),step:s=>{r[o++]=s}}),r)})),Po=p(2,(e,t)=>z(()=>{const n=le(e);let r=0;return qy({while:()=>r<n.length,body:()=>t(n[r],r),step:()=>{r++}})})),za=e=>{const t=new wt(Ma);return t.effect_instruction_i0=(e=>_s(e,e))(1),t.effect_instruction_i1=()=>e,t},F=p(2,(e,t)=>b(e,n=>R(()=>t(n)))),tI=p(2,(e,t)=>_n(e,{onFailure:n=>Ar(()=>t.onFailure(n)),onSuccess:n=>R(()=>t.onSuccess(n))})),qh=p(2,(e,t)=>kt(e,{onFailure:n=>{const r=hu(n);switch(r._tag){case"Left":return Ar(()=>t(r.left));case"Right":return _e(r.right)}},onSuccess:D})),oo=p(2,(e,t)=>Jt(n=>kt(n(e),{onFailure:r=>{const o=ye(r);return kt(t(o),{onFailure:s=>ye(dt(r,s)),onSuccess:()=>o})},onSuccess:r=>{const o=Me(r);return ke(t(o),o)}}))),Wa=p(2,(e,t)=>oo(e,Jy({onFailure:n=>KM(n)?Qt(t((e=>gu(e,gi(),(t,n)=>n._tag===lu?A(_(t,Ch(n.fiberId))):T()))(n))):ee,onSuccess:()=>ee}))),D=e=>{const t=new cH(ze);return t.effect_instruction_i0=e,t},z=e=>{const t=new wt(G_);return t.commit=e,t},R=e=>{const t=new wt("Sync");return t.effect_instruction_i0=e,t},Ga=p(e=>3===e.length||2===e.length&&!(H_(e[1])&&"onlyEffect"in e[1]),(e,t)=>b(e,n=>{const r="function"==typeof t?t(n):t;return We(r)?mt(r,n):(e=>G(e,"then")&&Sa(e.then))(r)?jh(o=>{r.then(s=>o(D(n)),s=>o(ue(new Qa(s))))}):D(n)})),Xa=e=>{const t=new wt(Ma);return t.effect_instruction_i0=jU(1),t.effect_instruction_i1=()=>e,t},Jt=e=>Vy(e,function(){const t=new wt(Ma);return t.effect_instruction_i0=jU(1),t.effect_instruction_i1=n=>xy(n)?Zt(()=>this.effect_instruction_i0(za)):Zt(()=>this.effect_instruction_i0(Xa)),t}),ee=D(void 0),qy=e=>{const t=new wt(Y_);return t.effect_instruction_i0=e.while,t.effect_instruction_i1=e.body,t.effect_instruction_i2=e.step,t},Ka=e=>{const t=new wt(Q_);return typeof e?.priority<"u"?TH(t,e.priority):t},zy=p(2,(e,t)=>b(e,n=>F(t,r=>[n,r]))),Gh=p(2,(e,t)=>b(e,n=>mt(t,n))),ke=p(2,(e,t)=>b(e,()=>t)),so=p(2,(e,t)=>b(e.interruptAsFork(t),()=>e.await)),oI={_tag:"Info",syslog:6,label:"INFO",ordinal:2e4,pipe(){return W(this,arguments)}},sI={_tag:"Debug",syslog:7,label:"DEBUG",ordinal:1e4,pipe(){return W(this,arguments)}},Kfe=Symbol.for("effect/FiberRef"),Zfe={_A:e=>e},Lo=e=>Ee(t=>Me(t.getFiberRef(e))),Nr=p(2,(e,t)=>b(Lo(e),t)),bu=p(2,(e,t)=>SH(e,()=>[void 0,t])),SH=p(2,(e,t)=>Ee(n=>{const[r,o]=t(n.getFiberRef(e));return n.setFiberRef(e,o),D(r)})),yn=p(3,(e,t,n)=>lH(Gh(Lo(t),bu(t,n)),()=>e,r=>bu(t,r))),zt=(e,t)=>Eu(e,{differ:zM(),fork:t?.fork??Ce,join:t?.join}),MH=e=>{const t=no({empty:fU(),combine:(e,t)=>Iy(t)(e),diff:(e,t)=>((e,t)=>{const n=new Map(e.unsafeMap);let r=fU();for(const[o,s]of t.unsafeMap.entries())if(n.has(o)){const i=n.get(o);n.delete(o),H(i,s)||(r=Iy(tde(o,()=>s))(r))}else n.delete(o),r=Iy(Yue(o,s))(r);for(const[o]of n.entries())r=Iy(Jue(o))(r);return r})(e,t),patch:(e,t)=>rde(t)(e)});return Eu(e,{differ:t,fork:t.empty})},Eu=(e,t)=>({...ds,[Kfe]:Zfe,initial:e,commit(){return Lo(this)},diff:(r,o)=>t.differ.diff(r,o),combine:(r,o)=>t.differ.combine(r,o),patch:r=>o=>t.differ.patch(r,o),fork:t.fork,join:t.join??((r,o)=>o)}),rhe=e=>Eu(e,{differ:LU,fork:LU.empty}),Vo=ge(Symbol.for("effect/FiberRef/currentContext"),()=>MH(Ta())),Cu=ge(Symbol.for("effect/FiberRef/currentSchedulingPriority"),()=>zt(0)),iI=ge(Symbol.for("effect/FiberRef/currentMaxOpsBeforeYield"),()=>zt(2048)),Xh=ge(Symbol.for("effect/FiberRef/currentLogAnnotation"),()=>zt(Cy())),ohe=ge(Symbol.for("effect/FiberRef/currentLogLevel"),()=>zt(oI)),IH=ge(Symbol.for("effect/FiberRef/currentLogSpan"),()=>zt(Pa())),TH=p(2,(e,t)=>yn(e,Cu,t)),OH=ge(Symbol.for("effect/FiberRef/currentUnhandledErrorLogLevel"),()=>zt(A(sI))),Su=ge(Symbol.for("effect/FiberRef/currentMetricLabels"),()=>(()=>{const t=wU(zM());return Eu([],{differ:t,fork:t.empty})})()),Gy=ge(Symbol.for("effect/FiberRef/currentForkScopeOverride"),()=>zt(T(),{fork:()=>T(),join:(e,t)=>e})),Kh=ge(Symbol.for("effect/FiberRef/currentInterruptedCause"),()=>zt(Or,{fork:()=>Or,join:(e,t)=>e})),NH=function(){class e extends globalThis.Error{commit(){return ue(this)}toJSON(){return{...this}}[$e](){return this.toString!==globalThis.Error.prototype.toString?this.stack?`${this.toString()}\n${this.stack.split("\n").slice(1).join("\n")}`:this.toString():"Bun"in globalThis?Ph(Es(this),{renderErrorCause:!0}):this}}return Object.assign(e.prototype,QD),e}(),Ya=(e,t)=>{class n extends NH{_tag=t}return Object.assign(n.prototype,e),n.prototype.name=t,n},fI=Symbol.for("effect/Cause/errors/RuntimeException"),lhe=Ya({[fI]:fI},"RuntimeException"),hI=Symbol.for("effect/Cause/errors/InterruptedException"),gI=Symbol.for("effect/Cause/errors/NoSuchElement"),vi=Ya({[gI]:gI},"NoSuchElementException"),vI=Symbol.for("effect/Cause/errors/UnknownException"),Qa=function(){class e extends NH{cause;_tag="UnknownException";error;constructor(n,r){super(r??"An unknown error occurred",{cause:n}),this.cause=n,this.error=n}}return Object.assign(e.prototype,{[vI]:vI,name:"UnknownException"}),e}(),Zy=e=>We(e)&&"_tag"in e&&("Success"===e._tag||"Failure"===e._tag),Ja=(e,t)=>khe(e,t?.parallel?Yt:dt),ec=e=>ye(Es(e)),ye=e=>{const t=new aH(qe);return t.effect_instruction_i0=e,t},Qy=p(2,(e,t)=>{switch(e._tag){case qe:return ye(e.effect_instruction_i0);case ze:return Me(t(e.effect_instruction_i0))}}),Jy=p(2,(e,{onFailure:t,onSuccess:n})=>{switch(e._tag){case qe:return t(e.effect_instruction_i0);case ze:return n(e.effect_instruction_i0)}}),Me=e=>{const t=new cH(ze);return t.effect_instruction_i0=e,t},ur=Me(void 0),jo=p(3,(e,t,{onFailure:n,onSuccess:r})=>{switch(e._tag){case qe:switch(t._tag){case ze:return ye(e.effect_instruction_i0);case qe:return ye(n(e.effect_instruction_i0,t.effect_instruction_i0))}case ze:switch(t._tag){case ze:return Me(r(e.effect_instruction_i0,t.effect_instruction_i0));case qe:return ye(t.effect_instruction_i0)}}}),khe=(e,t)=>{const n=zl(e);return ht(n)?_(ut(n),Ra(_(De(n),Qy(qt)),(r,o)=>_(r,jo(o,{onSuccess:(s,i)=>_(s,lt(i)),onFailure:t}))),Qy(hi),Qy(r=>$n(r)),A):T()},CI=e=>({...ds,[oH]:Afe,state:wh(kfe([])),commit(){return xr(this)},blockingOn:e}),xr=e=>jy(t=>{const n=ps(e.state);switch(n._tag){case"Done":return t(n.effect);case mu:return n.joiners.push(t),$he(e,t)}},e.blockingOn),wI=(e,t)=>{const n=ps(e.state);if(n._tag===mu){Dh(e.state,(e=>({_tag:"Done",effect:e}))(t));for(let r=0,o=n.joiners.length;r<o;r++)n.joiners[r](t)}},$he=(e,t)=>R(()=>{const n=ps(e.state);if(n._tag===mu){const r=n.joiners.indexOf(t);r>=0&&n.joiners.splice(r,1)}}),II=e=>{const t=e.currentSpan;return void 0!==t&&"Span"===t._tag?A(t):T()},TI=Symbol.for("effect/Clock"),ws=Ia("effect/Clock"),UH={unsafeSchedule(e,t){const n=Wl(t);if(n>2147483647)return ls;let r=!1;const o=setTimeout(()=>{r=!0,e()},n);return()=>(clearTimeout(o),!r)}},HH=function(){const e=BigInt(1e6);if(typeof performance>"u")return()=>BigInt(Date.now())*e;if("number"==typeof performance.timeOrigin&&0===performance.timeOrigin)return()=>BigInt(Math.round(1e6*performance.now()));const t=BigInt(Date.now())*e-BigInt(Math.round(1e6*performance.now()));return()=>t+BigInt(Math.round(1e6*performance.now()))}(),Xhe=function(){const e="object"==typeof process&&"hrtime"in process&&"function"==typeof process.hrtime.bigint?process.hrtime:void 0;if(!e)return HH;const t=HH()-e.bigint();return()=>t+e.bigint()}();class Khe{[TI]=TI;unsafeCurrentTimeMillis(){return Date.now()}unsafeCurrentTimeNanos(){return Xhe()}currentTimeMillis=R(()=>this.unsafeCurrentTimeMillis());currentTimeNanos=R(()=>this.unsafeCurrentTimeNanos());scheduler(){return D(UH)}sleep(t){return ro(n=>{const r=UH.unsafeSchedule(()=>n(ee),t);return Qt(R(r))})}}const $H=()=>new Khe,Ci=Kj,WH="InvalidData",GH="MissingData",XH="SourceUnavailable",KH="Unsupported",RI=Symbol.for("effect/ConfigError"),Mu={_tag:"ConfigError",[RI]:RI},ZH=(e,t)=>{const n=Object.create(Mu);return n._op="And",n.left=e,n.right=t,Object.defineProperty(n,"toString",{enumerable:!1,value(){return`${this.left} and ${this.right}`}}),n},YH=(e,t)=>{const n=Object.create(Mu);return n._op="Or",n.left=e,n.right=t,Object.defineProperty(n,"toString",{enumerable:!1,value(){return`${this.left} or ${this.right}`}}),n},Yhe=(e,t,n={pathDelim:"."})=>{const r=Object.create(Mu);return r._op=WH,r.path=e,r.message=t,Object.defineProperty(r,"toString",{enumerable:!1,value(){return`(Invalid data at ${_(this.path,Oa(n.pathDelim))}: "${this.message}")`}}),r},tc=(e,t,n={pathDelim:"."})=>{const r=Object.create(Mu);return r._op=GH,r.path=e,r.message=t,Object.defineProperty(r,"toString",{enumerable:!1,value(){return`(Missing data at ${_(this.path,Oa(n.pathDelim))}: "${this.message}")`}}),r},Qhe=(e,t,n,r={pathDelim:"."})=>{const o=Object.create(Mu);return o._op=XH,o.path=e,o.message=t,o.cause=n,Object.defineProperty(o,"toString",{enumerable:!1,value(){return`(Source unavailable at ${_(this.path,Oa(r.pathDelim))}: "${this.message}")`}}),o},Jhe=(e,t,n={pathDelim:"."})=>{const r=Object.create(Mu);return r._op=KH,r.path=e,r.message=t,Object.defineProperty(r,"toString",{enumerable:!1,value(){return`(Unsupported operation at ${_(this.path,Oa(n.pathDelim))}: "${this.message}")`}}),r},nc=p(2,(e,t)=>{switch(e._op){case"And":return ZH(nc(e.left,t),nc(e.right,t));case"Or":return YH(nc(e.left,t),nc(e.right,t));case WH:return Yhe([...t,...e.path],e.message);case GH:return tc([...t,...e.path],e.message);case XH:return Qhe([...t,...e.path],e.message,e.cause);case KH:return Jhe([...t,...e.path],e.message)}}),npe={_tag:"Empty"},OI=p(2,(e,t)=>{let n=PM(t),r=e;for(;FM(n);){const o=n.head;switch(o._tag){case"Empty":n=n.tail;break;case"AndThen":n=Fa(o.first,Fa(o.second,n.tail));break;case"MapName":r=ql(r,o.f),n=n.tail;break;case"Nested":r=oy(r,o.name),n=n.tail;break;case"Unnested":if(!_(hh(r),ece(o.name)))return nr(tc(r,`Expected ${o.name} to be in path in ConfigProvider#unnested`));r=di(r),n=n.tail}}return Ct(r)}),tv=(e,t)=>[...e,...t],QH=Symbol.for("effect/ConfigProvider"),nv=Ia("effect/ConfigProvider"),JH=Symbol.for("effect/ConfigProviderFlat"),ppe=e=>({[QH]:QH,pipe(){return W(this,arguments)},...e}),gpe=e=>{const{pathDelim:t,seqDelim:n}=Object.assign({},{pathDelim:"_",seqDelim:","},e),s=()=>typeof process<"u"&&"env"in process&&"object"==typeof process.env?process.env:{};return(e=>ppe({load:t=>b(Pr(e,[],t,!1),n=>or(hh(n),{onNone:()=>ue(tc([],`Expected a single value having structure: ${t}`)),onSome:D})),flattened:e}))((e=>({[JH]:JH,patch:e.patch,load:(t,n,r=!0)=>e.load(t,n,r),enumerateChildren:e.enumerateChildren}))({load:(c,l,u=!0)=>{const d=(c=>_(c,Oa(t)))(c),f=s();return _(d in f?A(f[d]):T(),qh(()=>tc(c,`Expected ${d} to exist in the process context`)),b(g=>t$(g,c,l,n,u)))},enumerateChildren:c=>R(()=>{const l=s(),f=Object.keys(l).map(h=>(c=>c.split(t))(h.toUpperCase())).filter(h=>{for(let g=0;g<c.length;g++){const m=_(c,sB(g)),y=h[g];if(void 0===y||m!==y)return!1}return!0}).flatMap(h=>h.slice(c.length,c.length+1));return(e=>{const t=tu(No());for(const n of e)Ir(t,n);return nu(t)})(f)}),patch:npe}))},Pr=(e,t,n,r)=>{const o=n;switch(o._tag){case"Constant":return D(Dr(o.value));case"Described":return z(()=>Pr(e,t,o.config,r));case"Fail":return ue(tc(t,o.message));case"Fallback":return _(z(()=>Pr(e,t,o.first,r)),Ha(s=>o.condition(s)?_(Pr(e,t,o.second,r),Ha(i=>ue(YH(s,i)))):ue(s)));case"Lazy":return z(()=>Pr(e,t,o.config(),r));case"MapOrFail":return z(()=>_(Pr(e,t,o.original,r),b(qn(s=>_(o.mapOrFail(s),qh(nc(((e,t)=>{let n=t;if("Nested"===n._tag){const r=e.slice();for(;"Nested"===n._tag;)r.push(n.name),n=n.config;return r}return e})(t,o.original))))))));case"Nested":return z(()=>Pr(e,tv(t,Dr(o.name)),o.config,r));case"Primitive":return _(OI(t,e.patch),b(s=>_(e.load(s,o,r),b(i=>{if(0===i.length){const a=_((e=>sn(e)?A(fM(e)):T())(s),sr(()=>"<n/a>"));return ue(tc([],`Expected ${o.description} with name ${a}`))}return D(i)}))));case"Sequence":return _(OI(t,e.patch),b(s=>_(e.enumerateChildren(s),b(Cpe),b(i=>0===i.length?z(()=>F(Pr(e,t,o.config,!0),Dr)):_(qn(i,a=>Pr(e,vce(t,`[${a}]`),o.config,!0)),F(a=>{const c=uB(a);return Dr(0===c.length?[]:c)}))))));case"HashMap":return z(()=>_(OI(t,e.patch),b(s=>_(e.enumerateChildren(s),b(i=>_(i,qn(a=>Pr(e,tv(s,Dr(a)),o.valueConfig,r)),F(a=>0===a.length?Dr(Cy()):_(Epe(a),ql(c=>pue(cB(le(i),c)))))))))));case"ZipWith":return z(()=>_(Pr(e,t,o.left,r),qa,b(s=>_(Pr(e,t,o.right,r),qa,b(i=>{if(rr(s)&&rr(i))return ue(ZH(s.left,i.left));if(rr(s)&&fh(i))return ue(s.left);if(fh(s)&&rr(i))return ue(i.left);if(fh(s)&&fh(i)){const a=_(t,Oa(".")),c=vpe(t,a),[l,u]=((e,t,n,r)=>{const o=fB(n.length,c=>c>=r.length?T():A([e(c),c+1])),s=fB(r.length,c=>c>=n.length?T():A([t(c),c+1]));return[tv(n,o),tv(r,s)]})(c,c,_(s.right,ql(Ct)),_(i.right,ql(Ct)));return _(l,cB(u),qn(([d,f])=>_(zy(d,f),F(([h,g])=>o.zip(h,g)))))}throw new Error("BUG: ConfigProvider.fromFlatLoop - please report an issue at https://github.com/Effect-TS/effect/issues")})))))}},vpe=(e,t)=>n=>nr(tc(e,`The element at index ${n} in a sequence at path "${t}" was missing`)),t$=(e,t,n,r,o)=>o?_(((e,t)=>e.split(new RegExp(`\\s*${(e=>e.replace(/[/\\^$*+?.()|[\]{}]/g,"\\$&"))(t)}\\s*`)))(e,r),qn(s=>n.parse(s.trim())),qh(nc(t))):_(n.parse(e),tI({onFailure:nc(t),onSuccess:Dr})),Epe=e=>Object.keys(e[0]).map(t=>e.map(n=>n[t])),Cpe=e=>_(qn(e,Dpe),tI({onFailure:()=>[],onSuccess:ph(Ci)}),qa,F(Hj)),wpe=/^(\[(\d+)\])$/,Dpe=e=>{const t=e.match(wpe);if(null!==t){const n=t[2];return _(void 0!==n&&n.length>0?A(n):T(),uM(n$))}return T()},n$=e=>{const t=Number.parseInt(e);return Number.isNaN(t)?T():A(t)},r$=Symbol.for("effect/Console"),Iu=Ia("effect/Console"),kpe={[r$]:r$,assert:(e,...t)=>R(()=>{console.assert(e,...t)}),clear:R(()=>{console.clear()}),count:e=>R(()=>{console.count(e)}),countReset:e=>R(()=>{console.countReset(e)}),debug:(...e)=>R(()=>{console.debug(...e)}),dir:(e,t)=>R(()=>{console.dir(e,t)}),dirxml:(...e)=>R(()=>{console.dirxml(...e)}),error:(...e)=>R(()=>{console.error(...e)}),group:e=>R(e?.collapsed?()=>console.groupCollapsed(e?.label):()=>console.group(e?.label)),groupEnd:R(()=>{console.groupEnd()}),info:(...e)=>R(()=>{console.info(...e)}),log:(...e)=>R(()=>{console.log(...e)}),table:(e,t)=>R(()=>{console.table(e,t)}),time:e=>R(()=>console.time(e)),timeEnd:e=>R(()=>console.timeEnd(e)),timeLog:(e,...t)=>R(()=>{console.timeLog(e,...t)}),trace:(...e)=>R(()=>{console.trace(...e)}),warn:(...e)=>R(()=>{console.warn(...e)}),unsafe:console},o$=Symbol.for("effect/Random"),ov=Ia("effect/Random");class Npe{seed;[o$]=o$;PRNG;constructor(t){this.seed=t,this.PRNG=new rae(t)}get next(){return R(()=>this.PRNG.number())}get nextBoolean(){return F(this.next,t=>t>.5)}get nextInt(){return R(()=>this.PRNG.integer(Number.MAX_SAFE_INTEGER))}nextRange(t,n){return F(this.next,r=>(n-t)*r+t)}nextIntBetween(t,n){return R(()=>this.PRNG.integer(n-t)+t)}shuffle(t){return xpe(t,n=>this.nextIntBetween(0,n))}}const xpe=(e,t)=>z(()=>_(R(()=>Array.from(e)),b(n=>{const r=[];for(let o=n.length;o>=2;o-=1)r.push(o);return _(r,Po(o=>_(t(o),F(s=>Fpe(n,o-1,s)))),mt(zl(n)))}))),Fpe=(e,t,n)=>{const r=e[t];return e[t]=e[n],e[n]=r,e},Ppe=e=>new Npe(B(e)),AI=Symbol.for("effect/Tracer"),s$=e=>({[AI]:AI,...e}),rc=Ia("effect/Tracer"),Ds=Ia("effect/ParentSpan"),i$=function(){return function(n){let r="";for(let o=0;o<n;o++)r+="abcdef0123456789".charAt(Math.floor(16*Math.random()));return r}}();class Lpe{name;parent;context;links;startTime;kind;_tag="Span";spanId;traceId="native";sampled=!0;status;attributes;events=[];constructor(t,n,r,o,s,i){this.name=t,this.parent=n,this.context=r,this.links=o,this.startTime=s,this.kind=i,this.status={_tag:"Started",startTime:s},this.attributes=new Map,this.traceId="Some"===n._tag?n.value.traceId:i$(32),this.spanId=i$(16)}end(t,n){this.status={_tag:"Ended",endTime:t,exit:n,startTime:this.status.startTime}}attribute(t,n){this.attributes.set(t,n)}event(t,n,r){this.events.push([t,n,r??{}])}}const Vpe=s$({span:(e,t,n,r,o,s)=>new Lpe(e,t,n,r,o,s),context:e=>e()}),Bpe=_(Ta(),$t(ws,$H()),$t(Iu,kpe),$t(ov,Ppe(Math.random())),$t(nv,gpe()),$t(rc,Vpe)),Wt=ge(Symbol.for("effect/DefaultServices/currentServices"),()=>MH(Bpe)),Ype=ch,Qpe=hae;class cv extends Qpe{}const Ru={_tag:"Sequential"};const jI=Symbol.for("effect/FiberRefs");class Si{locals;[jI]=jI;constructor(t){this.locals=t}pipe(){return W(this,arguments)}}const h$=p(3,(e,t,n)=>{const r=new Map(e.locals);return n.locals.forEach((o,s)=>{const i=o[0][1];if(!o[0][0][J](t)){if(!r.has(s)){if(H(i,s.initial))return;return void r.set(s,[[t,s.join(s.initial,i)]])}const a=r.get(s),[c,l]=((e,t,n,r=!1)=>{const o=e;let c,s=t,i=n,a=r;for(;void 0===c;)if(sn(s)&&sn(i)){const l=Hn(s)[0],u=di(s),d=Hn(i)[0],f=Hn(i)[1],h=di(i);l.startTimeMillis<d.startTimeMillis?(i=h,a=!0):l.startTimeMillis>d.startTimeMillis?s=u:l.id<d.id?(i=h,a=!0):l.id>d.id?s=u:c=[f,a]}else c=[o.initial,!0];return c})(s,a,o);if(l){const u=s.diff(c,i),d=a[0][1],f=s.join(d,s.patch(u)(d));if(!H(d,f)){let h;const g=a[0][0];h=g[J](t)?[[g,f],...a.slice(1)]:[[t,f],...a],r.set(s,h)}}}}),new Si(r)}),p$=p(2,(e,t)=>{const n=new Map;return g$(e,n,t),new Si(n)}),g$=(e,t,n)=>{e.locals.forEach((r,o)=>{const s=r[0][1],i=o.patch(o.fork)(s);H(s,i)?t.set(o,r):t.set(o,[[n,i],...r])})},BI=p(2,(e,t)=>{const n=new Map(e.locals);return n.delete(t),new Si(n)}),_$=p(2,(e,t)=>e.locals.has(t)?A(Hn(e.locals.get(t))[1]):T()),Ou=p(2,(e,t)=>_(_$(e,t),sr(()=>t.initial))),lv=p(2,(e,{fiberId:t,fiberRef:n,value:r})=>{if(0===e.locals.size)return new Si(new Map([[n,[[t,r]]]]));const o=new Map(e.locals);return UI(o,t,n,r),new Si(o)}),UI=(e,t,n,r)=>{const o=e.get(n)??[];let s;if(sn(o)){const[i,a]=Hn(o);if(i[J](t)){if(H(a,r))return;s=[[t,r],...o.slice(1)]}else s=[[t,r],...o]}else s=[[t,r]];e.set(n,s)},age=Ou,uge=p(2,(e,{entries:t,forkAs:n})=>{if(0===e.locals.size)return new Si(new Map(t));const r=new Map(e.locals);return void 0!==n&&g$(e,r,n),t.forEach(([o,s])=>{1===s.length?UI(r,s[0][0],o,s[0][1]):s.forEach(([i,a])=>{UI(r,i,o,a)})}),new Si(r)}),dge=function rge(){return function f$(e){return new Si(e)}(new Map)},S$="AndThen",w$={_tag:"Empty"},uv=p(2,(e,t)=>({_tag:S$,first:e,second:t})),tp=(e,t)=>{const n=new Map(e.locals);let r=w$;for(const[o,s]of t.locals.entries()){const i=Hn(s)[1],a=n.get(o);if(void 0!==a){const c=Hn(a)[1];H(c,i)||(r=uv({_tag:"Update",fiberRef:o,patch:o.diff(c,i)})(r))}else r=uv({_tag:"Add",fiberRef:o,value:i})(r);n.delete(o)}for(const[o]of n.entries())r=uv({_tag:"Remove",fiberRef:o})(r);return r},np=p(3,(e,t,n)=>{let r=n,o=Dr(e);for(;sn(o);){const s=Hn(o),i=di(o);switch(s._tag){case"Empty":o=i;break;case"Add":r=lv(r,{fiberId:t,fiberRef:s.fiberRef,value:s.value}),o=i;break;case"Remove":r=BI(r,s.fiberRef),o=i;break;case"Update":{const a=Ou(r,s.fiberRef);r=lv(r,{fiberId:t,fiberRef:s.fiberRef,value:s.fiberRef.patch(s.patch)(a)}),o=i;break}case S$:o=oy(s.first)(oy(s.second)(i))}}return r}),dv="effect/FiberStatus",wi=Symbol.for(dv),fv="Done",$I="Running",qI="Suspended",fge=ct(`${dv}-${fv}`);class hge{[wi]=wi;_tag=fv;[Q](){return fge}[J](t){return hv(t)&&t._tag===fv}}class pge{runtimeFlags;[wi]=wi;_tag=$I;constructor(t){this.runtimeFlags=t}[Q](){return _(B(dv),ie(B(this._tag)),ie(B(this.runtimeFlags)),He(this))}[J](t){return hv(t)&&t._tag===$I&&this.runtimeFlags===t.runtimeFlags}}class gge{runtimeFlags;blockingOn;[wi]=wi;_tag=qI;constructor(t,n){this.runtimeFlags=t,this.blockingOn=n}[Q](){return _(B(dv),ie(B(this._tag)),ie(B(this.runtimeFlags)),ie(B(this.blockingOn)),He(this))}[J](t){return hv(t)&&t._tag===qI&&this.runtimeFlags===t.runtimeFlags&&H(this.blockingOn,t.blockingOn)}}const hv=e=>G(e,wi),Cge=new hge,M$=e=>new pge(e),A$=oI,Rge=Qj(_(Ci,Zj(e=>e.ordinal))),x$=Symbol.for("effect/Micro"),pv=Symbol.for("effect/Micro/MicroExit"),zI=Symbol.for("effect/Micro/MicroCause"),Age={_E:Ce};class WI extends globalThis.Error{_tag;traces;[zI];constructor(t,n,r){const o=`MicroCause.${t}`;let s,i,a;if(n instanceof globalThis.Error){s=`(${o}) ${n.name}`,i=n.message;const c=i.split("\n").length;a=n.stack?`(${o}) ${n.stack.split("\n").slice(0,c+3).join("\n")}`:`${s}: ${i}`}else s=o,i=Ll(n,0),a=`${s}: ${i}`;r.length>0&&(a+=`\n    ${r.join("\n    ")}`),super(i),this._tag=t,this.traces=r,this[zI]=Age,this.name=s,this.stack=a}pipe(){return W(this,arguments)}toString(){return this.stack}[$e](){return this.stack}}class Nge extends WI{defect;constructor(t,n=[]){super("Die",t,n),this.defect=t}}class Fge extends WI{constructor(t=[]){super("Interrupt","interrupted",t)}}const Pge=(e=[])=>new Fge(e),P$=e=>"Interrupt"===e._tag,L$=Symbol.for("effect/Micro/MicroFiber"),Vge={_A:Ce,_E:Ce};class V${context;interruptible;[L$];_stack=[];_observers=[];_exit;_children;currentOpCount=0;constructor(t,n=!0){this.context=t,this.interruptible=n,this[L$]=Vge}getRef(t){return((e,t)=>e.unsafeMap.has(t.key)?e.unsafeMap.get(t.key):ty(t))(this.context,t)}addObserver(t){return this._exit?(t(this._exit),B_):(this._observers.push(t),()=>{const n=this._observers.indexOf(t);n>=0&&this._observers.splice(n,1)})}_interrupted=!1;unsafeInterrupt(){this._exit||(this._interrupted=!0,this.interruptible&&this.evaluate(YI))}unsafePoll(){return this._exit}evaluate(t){if(this._exit)return;if(void 0!==this._yielded){const o=this._yielded;this._yielded=void 0,o()}const n=this.runLoop(t);if(n===Nu)return;const r=GI.interruptChildren&&GI.interruptChildren(this);if(void 0!==r)return this.evaluate(An(r,()=>n));this._exit=n;for(let o=0;o<this._observers.length;o++)this._observers[o](n);this._observers.length=0}runLoop(t){let n=!1,r=t;this.currentOpCount=0;try{for(;;){if(this.currentOpCount++,!n&&this.getRef(yv).shouldYield(this)){n=!0;const o=r;r=An($ge,()=>o)}if(r=r[XI](this),r===Nu){const o=this._yielded;return pv in o?(this._yielded=void 0,o):Nu}}}catch(o){return G(r,XI)?Fu(o):Fu(`MicroFiber.runLoop: Not a valid effect: ${String(r)}`)}}getCont(t){for(;;){const n=this._stack.pop();if(!n)return;const r=n[gv]&&n[gv](this);if(r)return{[t]:r};if(n[t])return n}}_yielded=void 0;yieldWith(t){return this._yielded=t,Nu}children(){return this._children??=new Set}}const GI=ge("effect/Micro/fiberMiddleware",()=>({interruptChildren:void 0})),B$=Symbol.for("effect/Micro/identifier"),Ne=Symbol.for("effect/Micro/args"),XI=Symbol.for("effect/Micro/evaluate"),Ms=Symbol.for("effect/Micro/successCont"),ku=Symbol.for("effect/Micro/failureCont"),gv=Symbol.for("effect/Micro/ensureCont"),Nu=Symbol.for("effect/Micro/Yield"),Bge={_A:Ce,_E:Ce,_R:Ce},Uge={...Ype,_op:"Micro",[x$]:Bge,pipe(){return W(this,arguments)},[Symbol.iterator](){return new rh(new oh(this))},toJSON(){return{_id:"Micro",op:this[B$],...Ne in this?{args:this[Ne]}:void 0}},toString(){return ft(this)},[$e](){return ft(this)}};function Hge(e){return Fu("Micro.evaluate: Not implemented")}const rp=e=>({...Uge,[B$]:e.op,[XI]:e.eval??Hge,[Ms]:e.contA,[ku]:e.contE,[gv]:e.ensure}),Is=e=>{const t=rp(e);return function(){const n=Object.create(t);return n[Ne]=!1===e.single?arguments:arguments[0],n}},U$=e=>{const t={...rp(e),[pv]:pv,_tag:e.op,get[e.prop](){return this[Ne]},toJSON(){return{_id:"MicroExit",_tag:e.op,[e.prop]:this[Ne]}},[J](n){return Yge(n)&&n._tag===e.op&&H(this[Ne],n[Ne])},[Q](){return He(this,ie(ct(e.op))(B(this[Ne])))}};return function(n){const r=Object.create(t);return r[Ne]=n,r[Ms]=void 0,r[ku]=void 0,r[gv]=void 0,r}},Gt=U$({op:"Success",prop:"value",eval(e){const t=e.getCont(Ms);return t?t[Ms](this[Ne],e):e.yieldWith(this)}}),Di=U$({op:"Failure",prop:"cause",eval(e){let t=e.getCont(ku);for(;P$(this[Ne])&&t&&e.interruptible;)t=e.getCont(ku);return t?t[ku](this[Ne],e):e.yieldWith(this)}}),$ge=Is({op:"Yield",eval(e){let t=!1;return e.getRef(yv).scheduleTask(()=>{t||e.evaluate(sc)},this[Ne]??0),e.yieldWith(()=>{t=!0})}})(0),Ii=Gt(void 0),io=Is({op:"WithMicroFiber",eval(e){return this[Ne](e)}}),An=p(2,(e,t)=>{const n=Object.create(Kge);return n[Ne]=e,n[Ms]=t,n}),Kge=rp({op:"OnSuccess",eval(e){return e._stack.push(this),this[Ne]}}),Yge=e=>G(e,pv),_v=Gt,sp=Di,YI=sp(Pge()),Fu=e=>sp(((e,t=[])=>new Nge(e,t))(e)),sc=_v(void 0),Jge="setImmediate"in globalThis?globalThis.setImmediate:e=>setTimeout(e,0);class JI{tasks=[];running=!1;scheduleTask(t,n){this.tasks.push(t),this.running||(this.running=!0,Jge(this.afterScheduled))}afterScheduled=()=>{this.running=!1,this.runTasks()};runTasks(){const t=this.tasks;this.tasks=[];for(let n=0,r=t.length;n<r;n++)t[n]()}shouldYield(t){return t.currentOpCount>=t.getRef(ome)}flush(){for(;this.tasks.length>0;)this.runTasks()}}const eme=p(2,(e,t)=>io(n=>{const r=n.context;return n.context=t(r),z$(e,()=>(n.context=r,Ii))})),nme=p(2,(e,t)=>eme(e,dh(t)));class ome extends(ry()("effect/Micro/currentMaxOpsBeforeYield",{defaultValue:()=>2048})){}class yv extends(ry()("effect/Micro/currentScheduler",{defaultValue:()=>new JI})){}const lme=p(2,(e,t)=>{const n=Object.create(ume);return n[Ne]=e,n[Ms]=t.onSuccess,n[ku]=t.onFailure,n}),ume=rp({op:"OnSuccessAndFailure",eval(e){return e._stack.push(this),this[Ne]}}),z$=p(2,(e,t)=>G$(n=>lme(n(e),{onFailure:r=>An(t(sp(r)),()=>Di(r)),onSuccess:r=>An(t(_v(r)),()=>Gt(r))}))),bv=Is({op:"SetInterruptible",ensure(e){if(e.interruptible=this[Ne],e._interrupted&&e.interruptible)return()=>YI}}),r0=e=>io(t=>t.interruptible?e:(t.interruptible=!0,t._stack.push(bv(!1)),t._interrupted?YI:e)),G$=e=>io(t=>t.interruptible?(t.interruptible=!1,t._stack.push(bv(!0)),e(r0)):e(Ce));class Cv{buckets=[];scheduleTask(t,n){const r=this.buckets.length;let o,s=0;for(;s<r&&this.buckets[s][0]<=n;s++)o=this.buckets[s];o&&o[0]===n?o[1].push(t):s===r?this.buckets.push([n,[t]]):this.buckets.splice(s,0,[n,[t]])}}class Fme{maxNextTickBeforeTimer;running=!1;tasks=new Cv;constructor(t){this.maxNextTickBeforeTimer=t}starveInternal(t){const n=this.tasks.buckets;this.tasks.buckets=[];for(const[r,o]of n)for(let s=0;s<o.length;s++)o[s]();0===this.tasks.buckets.length?this.running=!1:this.starve(t)}starve(t=0){t>=this.maxNextTickBeforeTimer?setTimeout(()=>this.starveInternal(0),0):Promise.resolve(void 0).then(()=>this.starveInternal(t+1))}shouldYield(t){return t.currentOpCount>t.getFiberRef(iI)&&t.getFiberRef(Cu)}scheduleTask(t,n){this.tasks.scheduleTask(t,n),this.running||(this.running=!0,this.starve())}}const cp=ge(Symbol.for("effect/Scheduler/defaultScheduler"),()=>new Fme(2048)),wv=ge(Symbol.for("effect/FiberRef/currentScheduler"),()=>zt(cp)),u0=(e,t)=>({_tag:"Par",left:e,right:t}),lp=(e,t)=>({_tag:"Seq",left:e,right:t}),Hme=e=>{let t=e,n=e3(),r=Pa(),o=Pa();for(;;)switch(t._tag){case"Empty":if(St(r))return[n,o];t=r.head,r=r.tail;break;case"Par":r=Fa(t.right,r),t=t.left;break;case"Seq":{const s=t.left,i=t.right;switch(s._tag){case"Empty":t=i;break;case"Par":{const c=s.right;t=u0(lp(s.left,i),lp(c,i));break}case"Seq":t=lp(s.left,lp(s.right,i));break;case"Single":t=s,o=Fa(i,o)}break}case"Single":if(n=Kme(n,t),St(r))return[n,o];t=r.head,r=r.tail}throw new Error("BUG: BlockedRequests.step - please report an issue at https://github.com/Effect-TS/effect/issues")},$me=(e,t)=>{if(St(e))return PM(h0(t));if(Yme(t))return e;const n=r_e(e.head),r=Qme(t);return 1===n.length&&1===r.length&&H(n[0],r[0])?Fa(n_e(e.head,h0(t)),e.tail):Fa(h0(t),e)},Gme=Symbol.for("effect/RequestBlock/RequestBlockParallel"),Xme={_R:e=>e};class Dv{map;[Gme]=Xme;constructor(t){this.map=t}}const e3=()=>new Dv(Cy()),Kme=(e,t)=>new Dv(yue(e.map,t.dataSource,n=>Yae(Ul(n,yB(t.blockedRequest)),()=>qt(t.blockedRequest)))),Zme=(e,t)=>new Dv(wy(e.map,t.map,(n,r,o)=>Fo(n,o,or(Sy(n,o),{onNone:()=>r,onSome:s=>Mr(r,s)})))),Yme=e=>(e=>e&&to(e._root))(e.map),Qme=e=>Array.from(oU(e.map)),h0=e=>t_e(vue(e.map,t=>qt(t))),Jme=Symbol.for("effect/RequestBlock/RequestBlockSequential"),e_e={_R:e=>e};class t3{map;[Jme]=e_e;constructor(t){this.map=t}}const t_e=e=>new t3(e),n_e=(e,t)=>new t3(wy(t.map,e.map,(n,r,o)=>Fo(n,o,or(Sy(n,o),{onNone:()=>an(),onSome:s=>Mr(s,r)})))),r_e=e=>Array.from(oU(e.map)),p0=ge(Symbol.for("effect/FiberRef/currentRequestMap"),()=>zt(new Map)),d_e=e=>t=>`${t.label.replace(/[\s="]/g,"_")}=${e-t.startTime}ms`,o3="effect/MetricLabel",m0=Symbol.for(o3);class m_e{key;value;[m0]=m0;_hash;constructor(t,n){this.key=t,this.value=n,this._hash=ct(o3+this.key+this.value)}[Q](){return this._hash}[J](t){return __e(t)&&this.key===t.key&&this.value===t.value}pipe(){return W(this,arguments)}}const Iv=(e,t)=>new m_e(e,t),__e=e=>G(e,m0),D0="InterruptSignal",M0="Stateful",I0="Resume",T0="YieldNow",R0=e=>({_tag:D0,cause:e}),Fv=e=>({_tag:M0,onFiber:e}),Lu=e=>({_tag:I0,effect:e}),Pv=Symbol.for("effect/FiberScope");class fve{[Pv]=Pv;fiberId=xo;roots=new Set;add(t,n){this.roots.add(n),n.addObserver(()=>{this.roots.delete(n)})}}class hve{fiberId;parent;[Pv]=Pv;constructor(t,n){this.fiberId=t,this.parent=n}add(t,n){this.parent.tell(Fv(r=>{r.addChild(n),n.addObserver(()=>{r.removeChild(n)})}))}}const Vu=ge(Symbol.for("effect/FiberScope/Global"),()=>new fve),ju=Symbol.for("effect/Fiber"),Lv={_E:e=>e,_A:e=>e},O0=Symbol.for("effect/Fiber"),kn=e=>Gh(kr(e.await),e.inheritAll),Ri="effect/FiberCurrent",Bv=Symbol.for("effect/Logger"),x0={_Message:e=>e,_Output:e=>e},lc=e=>({[Bv]:x0,log:e,pipe(){return W(this,arguments)}}),Lve=lc(({annotations:e,cause:t,date:n,fiberId:r,logLevel:o,message:s,spans:i})=>{const a=n.getTime();let l=[`timestamp=${n.toISOString()}`,`level=${o.label}`,`fiber=${kM(r)}`].join(" ");const u=(e=>Array.isArray(e)?e:[e])(s);for(let d=0;d<u.length;d++){const f=Ll(u[d]);f.length>0&&(l+=" message=",l=F0(f,l))}if(null!=t&&"Empty"!==t._tag&&(l+=" cause=",l=F0(Ph(t,{renderErrorCause:!0}),l)),FM(i)){l+=" ";let d=!0;for(const f of i)d?d=!1:l+=" ",l+=_(f,d_e(a))}if(sU(e)>0){l+=" ";let d=!0;for(const[f,h]of e)d?d=!1:l+=" ",l+=q3(f),l+="=",l=F0(Ll(h),l)}return l}),$3=/^[^\s"=]+$/,F0=(e,t)=>t+(e.match($3)?e:(e=>`"${e.replace(/\\([\s\S])|(")/g,"\\$1$2")}"`)(e)),q3=e=>e.replace(/[\s="]/g,"_"),W3="object"==typeof process&&null!==process&&"object"==typeof process.stdout&&null!==process.stdout,Uu=(W3&&process,W3||globalThis,Symbol.for("effect/MetricKeyType")),X3="effect/MetricKeyType/Counter",P0=Symbol.for(X3),L0=Symbol.for("effect/MetricKeyType/Frequency"),V0=Symbol.for("effect/MetricKeyType/Gauge"),Y3="effect/MetricKeyType/Histogram",j0=Symbol.for(Y3),B0=Symbol.for("effect/MetricKeyType/Summary"),fp={_In:e=>e,_Out:e=>e};class Kve{incremental;bigint;[Uu]=fp;[P0]=P0;constructor(t,n){this.incremental=t,this.bigint=n,this._hash=ct(X3)}_hash;[Q](){return this._hash}[J](t){return J3(t)}pipe(){return W(this,arguments)}}class ebe{boundaries;[Uu]=fp;[j0]=j0;constructor(t){this.boundaries=t,this._hash=_(ct(Y3),ie(B(this.boundaries)))}_hash;[Q](){return this._hash}[J](t){return nq(t)&&H(this.boundaries,t.boundaries)}pipe(){return W(this,arguments)}}const J3=e=>G(e,P0),nq=e=>G(e,j0),oq=Symbol.for("effect/MetricKey"),obe={_Type:e=>e},sbe=pM(H);class Hu{name;keyType;description;tags;[oq]=obe;constructor(t,n,r,o=[]){this.name=t,this.keyType=n,this.description=r,this.tags=o,this._hash=_(ct(this.name+this.description),ie(B(this.keyType)),ie(wa(this.tags)))}_hash;[Q](){return this._hash}[J](t){return ibe(t)&&this.name===t.name&&H(this.keyType,t.keyType)&&H(this.description,t.description)&&sbe(this.tags,t.tags)}pipe(){return W(this,arguments)}}const ibe=e=>G(e,oq),lbe=p(2,(e,t)=>0===t.length?e:new Hu(e.name,e.keyType,e.description,$l(e.tags,t))),sq=Symbol.for("effect/MutableHashMap"),ube={[sq]:sq,[Symbol.iterator](){return new U0(this)},toString(){return ft(this.toJSON())},toJSON(){return{_id:"MutableHashMap",values:Array.from(this).map(rt)}},[$e](){return this.toJSON()},pipe(){return W(this,arguments)}};class U0{self;referentialIterator;bucketIterator;constructor(t){this.self=t,this.referentialIterator=t.referential[Symbol.iterator]()}next(){if(void 0!==this.bucketIterator)return this.bucketIterator.next();const t=this.referentialIterator.next();return t.done?(this.bucketIterator=new dbe(this.self.buckets.values()),this.next()):t}[Symbol.iterator](){return new U0(this.self)}}class dbe{backing;constructor(t){this.backing=t}currentBucket;next(){if(void 0===this.currentBucket){const n=this.backing.next();if(n.done)return n;this.currentBucket=n.value[Symbol.iterator]()}const t=this.currentBucket.next();return t.done?(this.currentBucket=void 0,this.next()):t}}const hp=()=>{const e=Object.create(ube);return e.referential=new Map,e.buckets=new Map,e.bucketsSize=0,e},en=p(2,(e,t)=>{if(!1===sh(t))return e.referential.has(t)?A(e.referential.get(t)):T();const n=t[Q](),r=e.buckets.get(n);return void 0===r?T():hbe(e,r,t)}),hbe=(e,t,n,r=!1)=>{for(let o=0,s=t.length;o<s;o++)if(n[J](t[o][0])){const i=t[o][1];return r&&(t.splice(o,1),e.bucketsSize--),A(i)}return T()},Ts=p(2,(e,t)=>he(en(e,t))),Vr=p(3,(e,t,n)=>{if(!1===sh(t))return e.referential.set(t,n),e;const r=t[Q](),o=e.buckets.get(r);return void 0===o?(e.buckets.set(r,[[t,n]]),e.bucketsSize++,e):(iq(e,o,t),o.push([t,n]),e.bucketsSize++,e)}),iq=(e,t,n)=>{for(let r=0,o=t.length;r<o;r++)if(n[J](t[r][0]))return t.splice(r,1),void e.bucketsSize--},qu=Symbol.for("effect/MetricState"),aq="effect/MetricState/Counter",$0=Symbol.for(aq),cq="effect/MetricState/Frequency",q0=Symbol.for(cq),lq="effect/MetricState/Gauge",z0=Symbol.for(lq),uq="effect/MetricState/Histogram",W0=Symbol.for(uq),dq="effect/MetricState/Summary",G0=Symbol.for(dq),pp={_A:e=>e};class pbe{count;[qu]=pp;[$0]=$0;constructor(t){this.count=t}[Q](){return _(B(aq),ie(B(this.count)),He(this))}[J](t){return Dbe(t)&&this.count===t.count}pipe(){return W(this,arguments)}}const gbe=pM(H);class mbe{occurrences;[qu]=pp;[q0]=q0;constructor(t){this.occurrences=t}_hash;[Q](){return _(ct(cq),ie(wa(le(this.occurrences.entries()))),He(this))}[J](t){return Mbe(t)&&gbe(le(this.occurrences.entries()),le(t.occurrences.entries()))}pipe(){return W(this,arguments)}}class _be{value;[qu]=pp;[z0]=z0;constructor(t){this.value=t}[Q](){return _(B(lq),ie(B(this.value)),He(this))}[J](t){return Ibe(t)&&this.value===t.value}pipe(){return W(this,arguments)}}class ybe{buckets;count;min;max;sum;[qu]=pp;[W0]=W0;constructor(t,n,r,o,s){this.buckets=t,this.count=n,this.min=r,this.max=o,this.sum=s}[Q](){return _(B(uq),ie(B(this.buckets)),ie(B(this.count)),ie(B(this.min)),ie(B(this.max)),ie(B(this.sum)),He(this))}[J](t){return Tbe(t)&&H(this.buckets,t.buckets)&&this.count===t.count&&this.min===t.min&&this.max===t.max&&this.sum===t.sum}pipe(){return W(this,arguments)}}class vbe{error;quantiles;count;min;max;sum;[qu]=pp;[G0]=G0;constructor(t,n,r,o,s,i){this.error=t,this.quantiles=n,this.count=r,this.min=o,this.max=s,this.sum=i}[Q](){return _(B(dq),ie(B(this.error)),ie(B(this.quantiles)),ie(B(this.count)),ie(B(this.min)),ie(B(this.max)),ie(B(this.sum)),He(this))}[J](t){return Rbe(t)&&this.error===t.error&&H(this.quantiles,t.quantiles)&&this.count===t.count&&this.min===t.min&&this.max===t.max&&this.sum===t.sum}pipe(){return W(this,arguments)}}const Dbe=e=>G(e,$0),Mbe=e=>G(e,q0),Ibe=e=>G(e,z0),Tbe=e=>G(e,W0),Rbe=e=>G(e,G0),Obe=Symbol.for("effect/MetricHook"),Abe={_In:e=>e,_Out:e=>e},gp=e=>({[Obe]:Abe,pipe(){return W(this,arguments)},...e}),fq=BigInt(0),Lbe=(e,t,n)=>{const r=n.length;if(!sn(t))return[];const o=t[0],s=t.slice(1),i=hq(e,r,T(),0,o,n),a=Dr(i);return s.forEach(c=>{a.push(hq(e,r,i.value,i.consumed,c,i.rest))}),ql(a,c=>[c.quantile,c.value])},hq=(e,t,n,r,o,s)=>{let i=e,a=t,c=n,l=r,u=o,d=s,f=e,h=t,g=n,m=r,y=o,S=s;for(;;){if(!sn(d))return{quantile:u,value:T(),consumed:l,rest:[]};if(1===u)return{quantile:u,value:A(fM(d)),consumed:l+d.length,rest:[]};const v=Mce(d,Pe=>Pe<=d[0]),N=u*a,L=i/2*N,$=l+v[0].length,ae=Math.abs($-N);if($<N-L)f=i,h=a,g=hh(d),m=$,y=u,S=v[1],i=f,a=h,c=g,l=m,u=y,d=S;else{if($>N+L)return{quantile:u,value:c,consumed:l,rest:d};switch(c._tag){case"None":f=i,h=a,g=hh(d),m=$,y=u,S=v[1],i=f,a=h,c=g,l=m,u=y,d=S;continue;case"Some":if(ae<Math.abs(N-c.value)){f=i,h=a,g=hh(d),m=$,y=u,S=v[1],i=f,a=h,c=g,l=m,u=y,d=S;continue}return{quantile:u,value:A(c.value),consumed:l,rest:d}}}}throw new Error("BUG: MetricHook.resolveQuantiles - please report an issue at https://github.com/Effect-TS/effect/issues")},pq=Symbol.for("effect/MetricPair"),gq={_Type:e=>e},Vbe=(e,t)=>({[pq]:gq,metricKey:e,metricState:t,pipe(){return W(this,arguments)}}),mq=Symbol.for("effect/MetricRegistry");class jbe{[mq]=mq;map=hp();snapshot(){const t=[];for(const[n,r]of this.map)t.push(Vbe(n,r.get()));return t}get(t){const n=_(this.map,en(t),ir);if(null==n){if(J3(t.keyType))return this.getCounter(t);if(G(t.keyType,V0))return this.getGauge(t);if((e=>G(e,L0))(t.keyType))return this.getFrequency(t);if(nq(t.keyType))return this.getHistogram(t);if((e=>G(e,B0))(t.keyType))return this.getSummary(t);throw new Error("BUG: MetricRegistry.get - unknown MetricKeyType - please report an issue at https://github.com/Effect-TS/effect/issues")}return n}getCounter(t){let n=_(this.map,en(t),ir);if(null==n){const r=(e=>{let t=e.keyType.bigint?fq:0;const n=e.keyType.incremental?e.keyType.bigint?o=>o>=fq:o=>o>=0:o=>!0,r=o=>{n(o)&&(t+=o)};return gp({get:()=>(e=>new pbe(e))(t),update:r,modify:r})})(t);_(this.map,Ts(t))||_(this.map,Vr(t,r)),n=r}return n}getFrequency(t){let n=_(this.map,en(t),ir);if(null==n){const r=(e=>{const t=new Map;for(const r of e.keyType.preregisteredWords)t.set(r,0);const n=r=>{const o=t.get(r)??0;t.set(r,o+1)};return gp({get:()=>(e=>new mbe(e))(t),update:n,modify:n})})(t);_(this.map,Ts(t))||_(this.map,Vr(t,r)),n=r}return n}getGauge(t){let n=_(this.map,en(t),ir);if(null==n){const r=((e,t)=>{let n=t;return gp({get:()=>(e=>new _be(e))(n),update:r=>{n=r},modify:r=>{n+=r}})})(0,t.keyType.bigint?BigInt(0):0);_(this.map,Ts(t))||_(this.map,Vr(t,r)),n=r}return n}getHistogram(t){let n=_(this.map,en(t),ir);if(null==n){const r=(e=>{const t=e.keyType.boundaries.values,n=t.length,r=new Uint32Array(n+1),o=new Float32Array(n);let s=0,i=0,a=Number.MAX_VALUE,c=Number.MIN_VALUE;_(t,ph(Ci),ql((d,f)=>{o[f]=d}));const l=d=>{let f=0,h=n;for(;f!==h;){const g=Math.floor(f+(h-f)/2);d<=o[g]?h=g:f=g,h===f+1&&(d<=o[f]?h=f:f=h)}r[f]=r[f]+1,s+=1,i+=d,d<a&&(a=d),d>c&&(c=d)},u=()=>{const d=dM(n);let f=0;for(let h=0;h<n;h++)f+=r[h],d[h]=[o[h],f];return d};return gp({get:()=>(e=>new ybe(e.buckets,e.count,e.min,e.max,e.sum))({buckets:u(),count:s,min:a,max:c,sum:i}),update:l,modify:l})})(t);_(this.map,Ts(t))||_(this.map,Vr(t,r)),n=r}return n}getSummary(t){let n=_(this.map,en(t),ir);if(null==n){const r=(e=>{const{error:t,maxAge:n,maxSize:r,quantiles:o}=e.keyType,s=_(o,ph(Ci)),i=dM(r);let a=0,c=0,l=0,u=Number.MAX_VALUE,d=Number.MIN_VALUE;const f=g=>{const m=[];let y=0;for(;y!==r-1;){const S=i[y];if(null!=S){const[v,N]=S,L=mh(g-v);sle(L,Zce)&&L<=n&&m.push(N)}y+=1}return Lbe(t,s,ph(m,Ci))},h=(g,m)=>{r>0&&(a+=1,i[a%r]=[m,g]),c+=1,l+=g,g<u&&(u=g),g>d&&(d=g)};return gp({get:()=>(e=>new vbe(e.error,e.quantiles,e.count,e.min,e.max,e.sum))({error:t,quantiles:f(Date.now()),count:c,min:u,max:d,sum:l}),update:([g,m])=>h(g,m),modify:([g,m])=>h(g,m)})})(t);_(this.map,Ts(t))||_(this.map,Vr(t,r)),n=r}return n}}const Ube=Symbol.for("effect/Metric"),Hbe={_Type:e=>e,_In:e=>e,_Out:e=>e},X0=ge(Symbol.for("effect/Metric/globalMetricRegistry"),()=>new jbe),Uv=function(e,t,n,r){const o=Object.assign(s=>Ga(s,i=>_q(o,i)),{[Ube]:Hbe,keyType:e,unsafeUpdate:t,unsafeValue:n,unsafeModify:r,register(){return this.unsafeValue([]),this},pipe(){return W(this,arguments)}});return o},Hv=(e,t)=>mp(((e,t)=>new Hu(e,(e=>new Kve(e?.incremental??!1,e?.bigint??!1))(t),Bl(t?.description)))(e,t)),mp=e=>{let t;const n=new WeakMap,r=o=>{if(0===o.length)return void 0!==t||(t=X0.get(e)),t;let s=n.get(o);return void 0!==s||(s=X0.get(lbe(e,o)),n.set(o,s)),s};return Uv(e.keyType,(o,s)=>r(s).update(o),o=>r(o).get(),(o,s)=>r(s).modify(o))},Z0=(e,t,n)=>mp(((e,t,n)=>new Hu(e,(e=>new ebe(e))(t),Bl(n)))(e,t,n)),Y0=p(3,(e,t,n)=>zbe(e,[Iv(t,n)])),zbe=p(2,(e,t)=>Uv(e.keyType,(n,r)=>e.unsafeUpdate(n,$l(t,r)),n=>e.unsafeValue($l(t,n)),(n,r)=>e.unsafeModify(n,$l(t,r)))),_q=p(2,(e,t)=>Nr(Su,n=>R(()=>e.unsafeUpdate(t,n)))),yq="effect/MetricBoundaries",Q0=Symbol.for(yq);class Gbe{values;[Q0]=Q0;constructor(t){this.values=t,this._hash=_(ct(yq),ie(wa(this.values)))}_hash;[Q](){return this._hash}[J](t){return Xbe(t)&&H(this.values,t.values)}pipe(){return W(this,arguments)}}const Xbe=e=>G(e,Q0),vq=e=>{const t=_(e,rB(qt(Number.POSITIVE_INFINITY)),Uce);return new Gbe(t)},Kbe=e=>_(((e,t)=>{const n=Math.max(1,Math.floor(e)),r=new Array(n);for(let o=0;o<n;o++)r[o]=t(o);return r})(e.count-1,t=>e.start*Math.pow(e.factor,t)),ar,vq),uc=p(2,(e,t)=>Nr(p0,n=>R(()=>{if(n.has(e)){const r=n.get(e);r.state.completed||(r.state.completed=!0,wI(r.result,t))}}))),zu=Symbol.for("effect/Supervisor"),_p={_T:e=>e};class Wu{underlying;value0;[zu]=_p;constructor(t,n){this.underlying=t,this.value0=n}get value(){return this.value0}onStart(t,n,r,o){this.underlying.onStart(t,n,r,o)}onEnd(t,n){this.underlying.onEnd(t,n)}onEffect(t,n){this.underlying.onEffect(t,n)}onSuspend(t){this.underlying.onSuspend(t)}onResume(t){this.underlying.onResume(t)}map(t){return new Wu(this,_(this.value,F(t)))}zip(t){return new Gu(this,t)}}class Gu{left;right;_tag="Zip";[zu]=_p;constructor(t,n){this.left=t,this.right=n}get value(){return zy(this.left.value,this.right.value)}onStart(t,n,r,o){this.left.onStart(t,n,r,o),this.right.onStart(t,n,r,o)}onEnd(t,n){this.left.onEnd(t,n),this.right.onEnd(t,n)}onEffect(t,n){this.left.onEffect(t,n),this.right.onEffect(t,n)}onSuspend(t){this.left.onSuspend(t),this.right.onSuspend(t)}onResume(t){this.left.onResume(t),this.right.onResume(t)}map(t){return new Wu(this,_(this.value,F(t)))}zip(t){return new Gu(this,t)}}const Cq=e=>G(e,zu)&&$_(e,"Zip");class iEe{effect;[zu]=_p;constructor(t){this.effect=t}get value(){return this.effect}onStart(t,n,r,o){}onEnd(t,n){}onEffect(t,n){}onSuspend(t){}onResume(t){}map(t){return new Wu(this,_(this.value,F(t)))}zip(t){return new Gu(this,t)}onRun(t,n){return t()}}const $v=ge("effect/Supervisor/none",()=>new iEe(ee)),wq="AddSupervisor",Dq="RemoveSupervisor",Mq="AndThen",yp={_tag:"Empty"},qv=(e,t)=>({_tag:Mq,first:e,second:t}),tT=(e,t)=>H(e,t)?$v:Cq(e)?tT(e.left,t).zip(tT(e.right,t)):e,zv=e=>H(e,$v)?gi():Cq(e)?_(zv(e.left),ru(zv(e.right))):yy(e),hEe=no({empty:yp,patch:(e,t)=>((e,t)=>{let n=e,r=t;for(;ht(r);){const o=De(r);switch(o._tag){case"Empty":r=ut(r);break;case wq:n=n.zip(o.supervisor),r=ut(r);break;case Dq:n=tT(n,o.supervisor),r=ut(r);break;case Mq:r=lt(o.first)(lt(o.second)(ut(r)))}}return n})(t,qt(e)),combine:qv,diff:(e,t)=>{if(H(e,t))return yp;const n=zv(e),r=zv(t),o=_(r,XB(n),Sh(yp,(i,a)=>qv(i,{_tag:wq,supervisor:a}))),s=_(n,XB(r),Sh(yp,(i,a)=>qv(i,{_tag:Dq,supervisor:a})));return qv(o,s)}}),pEe=Hv("effect_fiber_started",{incremental:!0}),Iq=Hv("effect_fiber_active"),gEe=Hv("effect_fiber_successes",{incremental:!0}),mEe=Hv("effect_fiber_failures",{incremental:!0}),_Ee=Y0(Z0("effect_fiber_lifetimes",Kbe({start:.5,factor:2,count:35})),"time_unit","milliseconds"),vp="Continue",vEe={_E:e=>e,_A:e=>e},Wv=e=>{throw new Error(`BUG: FiberRuntime - ${Ll(e)} - please report an issue at https://github.com/Effect-TS/effect/issues`)},Rs=Symbol.for("effect/internal/fiberRuntime/YieldedOp"),Os=ge("effect/internal/fiberRuntime/yieldedOpChannel",()=>({currentOp:null})),bp={[K_]:(e,t,n)=>Zt(()=>t.effect_instruction_i1(n)),OnStep:(e,t,n)=>Me(Me(n)),[Z_]:(e,t,n)=>Zt(()=>t.effect_instruction_i2(n)),[YD]:(e,t,n)=>(e.patchRuntimeFlags(e.currentRuntimeFlags,t.patch),vs(e.currentRuntimeFlags)&&e.isInterrupted()?ye(e.getInterruptedCause()):Me(n)),[Y_]:(e,t,n)=>(Zt(()=>t.effect_instruction_i2(n)),Zt(()=>t.effect_instruction_i0())?(e.pushStack(t),Zt(()=>t.effect_instruction_i1())):ee),[ah]:(e,t,n)=>{const r=Zt(()=>t.effect_instruction_i0.next(n));return r.done?Me(r.value):(e.pushStack(t),function Cj(e){if("object"==typeof e&&null!==e&&zD in e)return e[zD]();throw new Error(nh("yieldWrapGet"))}(r.value))}},bEe={[D0]:(e,t,n,r)=>(e.processNewInterruptSignal(r.cause),vs(t)?ye(r.cause):n),[I0]:(e,t,n,r)=>{throw new Error("It is illegal to have multiple concurrent run loops in a single fiber")},[M0]:(e,t,n,r)=>(r.onFiber(e,M$(t)),n),[T0]:(e,t,n,r)=>b(Ka(),()=>n)};class Rq extends cv{[ju]=Lv;[O0]=vEe;_fiberRefs;_fiberId;_queue=new Array;_children=null;_observers=new Array;_running=!1;_stack=[];_asyncInterruptor=null;_asyncBlockingOn=null;_exitValue=null;_steps=[];_isYielding=!1;currentRuntimeFlags;currentOpCount=0;currentSupervisor;currentScheduler;currentTracer;currentSpan;currentContext;currentDefaultServices;constructor(t,n,r){if(super(),this.currentRuntimeFlags=r,this._fiberId=t,this._fiberRefs=n,NU(r)){const o=this.getFiberRef(Su);pEe.unsafeUpdate(1,o),Iq.unsafeUpdate(1,o)}this.refreshRefCache()}commit(){return kn(this)}id(){return this._fiberId}resume(t){this.tell(Lu(t))}get status(){return this.ask((t,n)=>n)}get runtimeFlags(){return this.ask((t,n)=>n._tag===fv?t.currentRuntimeFlags:n.runtimeFlags)}scope(){return new hve((e=this).id(),e);var e}get children(){return this.ask(t=>Array.from(t.getChildren()))}getChildren(){return null===this._children&&(this._children=new Set),this._children}getInterruptedCause(){return this.getFiberRef(Kh)}fiberRefs(){return this.ask(t=>t.getFiberRefs())}ask(t){return z(()=>{const n=CI(this._fiberId);return this.tell(Fv((r,o)=>{wI(n,R(()=>t(r,o)))})),xr(n)})}tell(t){this._queue.push(t),this._running||(this._running=!0,this.drainQueueLaterOnExecutor())}get await(){return ro(t=>{const n=r=>t(D(r));return this.tell(Fv((r,o)=>{null!==r._exitValue?n(this._exitValue):r.addObserver(n)})),R(()=>this.tell(Fv((r,o)=>{r.removeObserver(n)})))},this.id())}get inheritAll(){return Ee((t,n)=>{const r=t.id(),o=t.getFiberRefs(),s=n.runtimeFlags,i=this.getFiberRefs(),a=h$(o,r,i);t.setFiberRefs(a);const c=t.getFiberRef($q);return(e=>{const t=new wt(Ma);return t.effect_instruction_i0=e,t.effect_instruction_i1=void 0,t})(_(bs(s,c),BU(1),BU(16)))})}get poll(){return R(()=>Bl(this._exitValue))}unsafePoll(){return this._exitValue}interruptAsFork(t){return R(()=>this.tell(R0(cr(t))))}unsafeInterruptAsFork(t){this.tell(R0(cr(t)))}addObserver(t){null!==this._exitValue?t(this._exitValue):this._observers.push(t)}removeObserver(t){this._observers=this._observers.filter(n=>n!==t)}getFiberRefs(){return this.setFiberRef($q,this.currentRuntimeFlags),this._fiberRefs}unsafeDeleteFiberRef(t){this._fiberRefs=BI(this._fiberRefs,t)}getFiberRef(t){return this._fiberRefs.locals.has(t)?this._fiberRefs.locals.get(t)[0][1]:t.initial}setFiberRef(t,n){this._fiberRefs=lv(this._fiberRefs,{fiberId:this._fiberId,fiberRef:t,value:n}),this.refreshRefCache()}refreshRefCache(){this.currentDefaultServices=this.getFiberRef(Wt),this.currentTracer=this.currentDefaultServices.unsafeMap.get(rc.key),this.currentSupervisor=this.getFiberRef(qq),this.currentScheduler=this.getFiberRef(wv),this.currentContext=this.getFiberRef(Vo),this.currentSpan=this.currentContext.unsafeMap.get(Ds.key)}setFiberRefs(t){this._fiberRefs=t,this.refreshRefCache()}addChild(t){this.getChildren().add(t)}removeChild(t){this.getChildren().delete(t)}transferChildren(t){const n=this._children;if(this._children=null,null!==n&&n.size>0)for(const r of n)null===r._exitValue&&t.add(this.currentRuntimeFlags,r)}drainQueueOnCurrentThread(){let t=!0;for(;t;){let n=vp;const r=globalThis[Ri];globalThis[Ri]=this;try{for(;n===vp;)n=0===this._queue.length?"Done":this.evaluateMessageWhileSuspended(this._queue.splice(0,1)[0])}finally{this._running=!1,globalThis[Ri]=r}this._queue.length>0&&!this._running?(this._running=!0,"Yield"===n?(this.drainQueueLaterOnExecutor(),t=!1):t=!0):t=!1}}drainQueueLaterOnExecutor(){this.currentScheduler.scheduleTask(this.run,this.getFiberRef(Cu))}drainQueueWhileRunning(t,n){let r=n;for(;this._queue.length>0;){const o=this._queue.splice(0,1)[0];r=bEe[o._tag](this,t,r,o)}return r}isInterrupted(){return!((e=this.getFiberRef(Kh))._tag===au||gu(e,!0,(t,n)=>{switch(n._tag){case au:return A(t);case iu:case cu:case lu:return A(!1);default:return T()}}));var e}addInterruptedCause(t){const n=this.getFiberRef(Kh);this.setFiberRef(Kh,dt(n,t))}processNewInterruptSignal(t){this.addInterruptedCause(t),this.sendInterruptSignalToAllChildren()}sendInterruptSignalToAllChildren(){if(null===this._children||0===this._children.size)return!1;let t=!1;for(const n of this._children)n.tell(R0(cr(this.id()))),t=!0;return t}interruptAllChildren(){if(this.sendInterruptSignalToAllChildren()){const t=this._children.values();this._children=null;let n=!1;return qy({while:()=>!n,body:()=>{const o=t.next();return o.done?R(()=>{n=!0}):Qt(o.value.await)},step:()=>{}})}return null}reportExitValue(t){if(NU(this.currentRuntimeFlags)){const n=this.getFiberRef(Su),r=this.id().startTimeMillis,o=Date.now();switch(_Ee.unsafeUpdate(o-r,n),Iq.unsafeUpdate(-1,n),t._tag){case ze:gEe.unsafeUpdate(1,n);break;case qe:mEe.unsafeUpdate(1,n)}}if("Failure"===t._tag){const n=this.getFiberRef(OH);!KM(t.cause)&&"Some"===n._tag&&this.log("Fiber terminated with an unhandled error",t.cause,n)}}setExitValue(t){this._exitValue=t,this.reportExitValue(t);for(let n=this._observers.length-1;n>=0;n--)this._observers[n](t);this._observers=[]}getLoggers(){return this.getFiberRef(MEe)}log(t,n,r){const o=he(r)?r.value:this.getFiberRef(ohe),s=this.getFiberRef(CEe);if(Rge(s,o))return;const i=this.getFiberRef(IH),a=this.getFiberRef(Xh),c=this.getLoggers(),l=this.getFiberRefs();if(Eh(c)>0){const u=Oo(this.getFiberRef(Wt),ws),d=new Date(u.unsafeCurrentTimeMillis());((e,t)=>{const n=Da.fiberRefs;Da.fiberRefs=e;try{return t()}finally{Da.fiberRefs=n}})(l,()=>{for(const f of c)f.log({fiberId:this.id(),logLevel:o,message:t,cause:n,context:l,spans:i,annotations:a,date:d})})}}evaluateMessageWhileSuspended(t){switch(t._tag){case T0:return"Yield";case D0:return this.processNewInterruptSignal(t.cause),null!==this._asyncInterruptor&&(this._asyncInterruptor(ye(t.cause)),this._asyncInterruptor=null),vp;case I0:return this._asyncInterruptor=null,this._asyncBlockingOn=null,this.evaluateEffect(t.effect),vp;case M0:return t.onFiber(this,null!==this._exitValue?Cge:((e,t)=>new gge(e,t))(this.currentRuntimeFlags,this._asyncBlockingOn)),vp;default:return Wv(t)}}evaluateEffect(t){this.currentSupervisor.onResume(this);try{let n=vs(this.currentRuntimeFlags)&&this.isInterrupted()?ye(this.getInterruptedCause()):t;for(;null!==n;){const o=this.runLoop(n);if(o===Rs){const s=Os.currentOp;Os.currentOp=null,s._op===Q_?La(this.currentRuntimeFlags,32)?(this.tell({_tag:T0}),this.tell(Lu(ur)),n=null):n=ur:s._op===ih&&(n=null)}else{this.currentRuntimeFlags=_(this.currentRuntimeFlags,dfe(16));const s=this.interruptAllChildren();null!==s?n=b(s,()=>o):(0===this._queue.length?this.setExitValue(o):this.tell(Lu(o)),n=null)}}}finally{this.currentSupervisor.onSuspend(this)}}start(t){if(this._running)this.tell(Lu(t));else{this._running=!0;const n=globalThis[Ri];globalThis[Ri]=this;try{this.evaluateEffect(t)}finally{this._running=!1,globalThis[Ri]=n,this._queue.length>0&&this.drainQueueLaterOnExecutor()}}}startFork(t){this.tell(Lu(t))}patchRuntimeFlags(t,n){const r=Va(t,n);return globalThis[Ri]=this,this.currentRuntimeFlags=r,r}initiateAsync(t,n){let r=!1;const o=s=>{r||(r=!0,this.tell(Lu(s)))};vs(t)&&(this._asyncInterruptor=o);try{n(o)}catch(s){o(_e(cn(s)))}}pushStack(t){this._stack.push(t),"OnStep"===t._op&&this._steps.push({refs:this.getFiberRefs(),flags:this.currentRuntimeFlags})}popStack(){const t=this._stack.pop();if(t)return"OnStep"===t._op&&this._steps.pop(),t}getNextSuccessCont(){let t=this.popStack();for(;t;){if(t._op!==X_)return t;t=this.popStack()}}getNextFailCont(){let t=this.popStack();for(;t;){if(t._op!==K_&&t._op!==Y_&&t._op!==ah)return t;t=this.popStack()}}[uae](t){return R(()=>ny(this.currentContext,t))}Left(t){return ue(t.left)}None(t){return ue(new vi)}Right(t){return Me(t.right)}Some(t){return Me(t.value)}Micro(t){return jh(n=>{let r=n;const o=((e,t)=>{const n=new V$(yv.context(t?.scheduler??new JI));if(n.evaluate(e),t?.signal)if(t.signal.aborted)n.unsafeInterrupt();else{const r=()=>n.unsafeInterrupt();t.signal.addEventListener("abort",r,{once:!0}),n.addObserver(()=>t.signal.removeEventListener("abort",r))}return n})(nme(t,this.currentContext));return o.addObserver(s=>{if("Success"===s._tag)return r(Me(s.value));switch(s.cause._tag){case"Interrupt":return r(ye(cr(xo)));case"Fail":return r(ue(s.cause.error));case"Die":return r($a(s.cause.defect))}}),jh(s=>{r=i=>{s(ee)},o.unsafeInterrupt()})})}[Dj](t){const n=Zt(()=>t.effect_instruction_i0()),r=this.getNextSuccessCont();return void 0!==r?(r._op in bp||Wv(r),bp[r._op](this,r,n)):(Os.currentOp=Me(n),Rs)}[ze](t){const n=t,r=this.getNextSuccessCont();return void 0!==r?(r._op in bp||Wv(r),bp[r._op](this,r,n.effect_instruction_i0)):(Os.currentOp=n,Rs)}[qe](t){const n=t.effect_instruction_i0,r=this.getNextFailCont();if(void 0===r)return Os.currentOp=ye(n),Rs;switch(r._op){case X_:case Z_:return vs(this.currentRuntimeFlags)&&this.isInterrupted()?ye(ZU(n)):Zt(()=>r.effect_instruction_i1(n));case"OnStep":return vs(this.currentRuntimeFlags)&&this.isInterrupted()?ye(ZU(n)):Me(ye(n));case YD:return this.patchRuntimeFlags(this.currentRuntimeFlags,r.patch),vs(this.currentRuntimeFlags)&&this.isInterrupted()?ye(dt(n,this.getInterruptedCause())):ye(n);default:Wv(r)}}[Mj](t){return Zt(()=>t.effect_instruction_i0(this,M$(this.currentRuntimeFlags)))}Blocked(t){const n=this.getFiberRefs(),r=this.currentRuntimeFlags;if(this._steps.length>0){const o=[],s=this._steps[this._steps.length-1];let i=this.popStack();for(;i&&"OnStep"!==i._op;)o.push(i),i=this.popStack();this.setFiberRefs(s.refs),this.currentRuntimeFlags=s.flags;const a=tp(s.refs,n),c=bs(s.flags,r);return Me(_u(t.effect_instruction_i0,Ee(l=>{for(;o.length>0;)l.pushStack(o.pop());return l.setFiberRefs(np(l.id(),l.getFiberRefs())(a)),l.currentRuntimeFlags=Va(c)(l.currentRuntimeFlags),t.effect_instruction_i1})))}return Jt(o=>b(Ku((e=>{const t=new wt("RunBlocked");return t.effect_instruction_i0=e,t})(t.effect_instruction_i0)),()=>o(t.effect_instruction_i1)))}RunBlocked(t){return Po((e=>{let t=PM(e),n=Pa();for(;;){const[r,o]=kue(t,[e3(),Pa()],([s,i],a)=>{const[c,l]=Hme(a);return[Zme(s,c),Iue(i,l)]});if(n=$me(n,r),St(o))return Nue(n);t=o}throw new Error("BUG: BlockedRequests.flatten - please report an issue at https://github.com/Effect-TS/effect/issues")})(t.effect_instruction_i0),t=>dc((e=>Array.from(e.map))(t),([n,r])=>{const o=new Map,s=[];for(const a of r){s.push($n(a));for(const c of a)o.set(c.request,c)}const i=s.flat();return yn(Zq(n.runAll(s),i,()=>i.forEach(a=>{a.listeners.interrupted=!0})),p0,o)},!1,!1))}[Ma](t){const n=t.effect_instruction_i0,r=this.currentRuntimeFlags,o=Va(r,n);if(vs(o)&&this.isInterrupted())return ye(this.getInterruptedCause());if(this.patchRuntimeFlags(this.currentRuntimeFlags,n),t.effect_instruction_i1){const s=bs(o,r);return this.pushStack(new Ffe(s,t)),Zt(()=>t.effect_instruction_i1(r))}return ur}[K_](t){return this.pushStack(t),t.effect_instruction_i0}OnStep(t){return this.pushStack(t),t.effect_instruction_i0}[X_](t){return this.pushStack(t),t.effect_instruction_i0}[Z_](t){return this.pushStack(t),t.effect_instruction_i0}[ih](t){return this._asyncBlockingOn=t.effect_instruction_i1,this.initiateAsync(this.currentRuntimeFlags,t.effect_instruction_i0),Os.currentOp=t,Rs}[Q_](t){return this._isYielding=!1,Os.currentOp=t,Rs}[Y_](t){const r=t.effect_instruction_i1;return(0,t.effect_instruction_i0)()?(this.pushStack(t),r()):ur}[ah](t){return bp[ah](this,t,void 0)}[G_](t){return Zt(()=>t.commit())}runLoop(t){let n=t;for(this.currentOpCount=0;;){if(2&this.currentRuntimeFlags&&this.currentSupervisor.onEffect(this,n),this._queue.length>0&&(n=this.drainQueueWhileRunning(this.currentRuntimeFlags,n)),!this._isYielding){this.currentOpCount+=1;const r=this.currentScheduler.shouldYield(this);if(!1!==r){this._isYielding=!0,this.currentOpCount=0;const o=n;n=b(Ka({priority:r}),()=>o)}}try{if(n=this.currentTracer.context(()=>"3.12.0"!==n[Ba]._V?Bh(`Cannot execute an Effect versioned ${n[Ba]._V} with a Runtime of version 3.12.0`):this[n._op](n),this),n===Rs){const r=Os.currentOp;return r._op===Q_||r._op===ih?Rs:(Os.currentOp=null,r._op===ze||r._op===qe?r:ye(cn(r)))}}catch(r){n=n!==Rs&&!G(n,"_op")||!(n._op in this)?Bh(`Not a valid effect: ${Ll(n)}`):G(r,YM)?ye(r.cause):G(r,hI)?ye(dt(cn(r),cr(xo))):$a(r)}}}run=()=>{this.drainQueueOnCurrentThread()}}const CEe=ge("effect/FiberRef/currentMinimumLogLevel",()=>zt(A$)),wEe=ge(Symbol.for("effect/Logger/defaultLogger"),()=>{return e=Lve,lc(t=>{const n=age(t.context,Wt);Oo(n,Iu).unsafe.log(e.log(t))});var e}),DEe=ge(Symbol.for("effect/Logger/tracerLogger"),()=>lc(({annotations:e,cause:t,context:n,fiberId:r,logLevel:o,message:s})=>{const i=li(Ou(n,Vo),Ds);if("None"===i._tag||"ExternalSpan"===i.value._tag)return;const a=ny(Ou(n,Wt),ws),c={};for(const[l,u]of e)c[l]=u;c["effect.fiberId"]=fue(r),c["effect.logLevel"]=o.label,null!==t&&"Empty"!==t._tag&&(c["effect.cause"]=Ph(t,{renderErrorCause:!0})),i.value.event(Ll(Array.isArray(s)?s[0]:s),a.unsafeCurrentTimeNanos(),c)})),MEe=ge(Symbol.for("effect/FiberRef/currentLoggers"),()=>(e=>{const t=SU();return Eu(e,{differ:t,fork:t.empty})})(yy(wEe,DEe))),dc=(e,t,n,r,o)=>Jt(s=>(e=>Ee(t=>{const r=_(t.getFiberRef(Gy),sr(()=>t.scope()));return e(yn(Gy,A(r)))}))(i=>Ee(a=>{let c=Array.from(e).reverse(),l=c.length;if(0===l)return ee;let u=0,d=!1;const f=o?Math.min(c.length,o):c.length,h=new Set,g=new Array,y=new Array,S=new Array,v=new Array,N=()=>{const C=g.filter(({exit:bn})=>"Failure"===bn._tag).sort((bn,ao)=>bn.index<ao.index?-1:bn.index===ao.index?0:1).map(({exit:bn})=>bn);return 0===C.length&&C.push(ur),C},L=(C,bn=!1)=>{const ao=Xa(i(C)),Nn=jEe(ao,a,a.currentRuntimeFlags,Vu);return a.currentScheduler.scheduleTask(()=>{bn&&Nn.unsafeInterruptAsFork(a.id()),Nn.resume(ao)},0),Nn},$=()=>{r||(l-=c.length,c=[]),d=!0,h.forEach(C=>{C.currentScheduler.scheduleTask(()=>{C.unsafeInterruptAsFork(a.id())},0)})},ae=n?uH:At,Pe=L(ro(C=>{const bn=(Nn,Bo)=>{"Blocked"===Nn._op?v.push(Nn):(g.push({index:Bo,exit:Nn}),"Failure"===Nn._op&&!d&&$())},ao=()=>{if(c.length>0){const Nn=c.pop();let Bo=u++;const lb=()=>{const fr=c.pop();return Bo=u++,b(Ka(),()=>b(ae(s(t(fr,Bo))),gc))},gc=fr=>c.length>0&&(bn(fr,Bo),c.length>0)?lb():D(fr),ub=b(ae(s(t(Nn,Bo))),gc),Uo=L(ub);y.push(Uo),h.add(Uo),d&&Uo.currentScheduler.scheduleTask(()=>{Uo.unsafeInterruptAsFork(a.id())},0),Uo.addObserver(fr=>{let Mp;if(Mp="Failure"===fr._op?fr:fr.effect_instruction_i0,S.push(Uo),h.delete(Uo),bn(Mp,Bo),g.length===l)C(D(sr(Ja(N(),{parallel:!0}),()=>ur)));else if(v.length+g.length===l){const NT=v.map(Ip=>Ip.effect_instruction_i0).reduce(u0);C(D(_u(NT,dc([sr(Ja(N(),{parallel:!0}),()=>ur),...v.map(Ip=>Ip.effect_instruction_i1)],Ip=>Ip,n,!0,o))))}else ao()})}};for(let Nn=0;Nn<f;Nn++)ao()}));return Qt(oo(kr(s(kn(Pe))),Jy({onFailure:()=>{$();const C=v.length+1,bn=Math.min("number"==typeof o?o:v.length,v.length),ao=Array.from(v);return ro(Nn=>{const Bo=[];let lb=0,gc=0;const ub=(fr,Mp)=>NT=>{Bo[fr]=NT,lb++,lb===C&&Nn(Wj(Ja(Bo,{parallel:!0}))),ao.length>0&&Mp&&Uo()},Uo=()=>{L(ao.pop(),!0).addObserver(ub(gc,!0)),gc++};Pe.addObserver(ub(gc,!1)),gc++;for(let fr=0;fr<bn;fr++)Uo()})},onSuccess:()=>qn(S,C=>C.inheritAll)})))}))),Ku=e=>BEe(e,Vu),jEe=(e,t,n,r=null)=>Zv(e,t,n,r),Zv=(e,t,n,r=null)=>{const o=rU(),s=t.getFiberRefs(),i=p$(s,o),a=new Rq(o,i,n),c=Ou(i,Vo),l=a.currentSupervisor;return l.onStart(c,e,A(t),a),a.addObserver(d=>l.onEnd(d,a)),(null!==r?r:_(t.getFiberRef(Gy),sr(()=>t.scope()))).add(n,a),a},BEe=(e,t)=>Ee((n,r)=>D(((e,t,n,r=null)=>{const o=Zv(e,t,n,r);return o.resume(e),o})(e,n,r.runtimeFlags,t))),aCe=e=>Eu(e,{differ:hEe,fork:yp}),$q=rhe(ffe),qq=aCe($v),Zq=(e,t,n)=>Cs(r=>b(b(Ku(za(e)),o=>ro(s=>{const i=t.map(l=>l.listeners.count),a=()=>{i.every(l=>0===l)&&t.every(l=>"Pending"===l.result.state.current._tag||!("Done"!==l.result.state.current._tag||!Zy(l.result.state.current.effect)||"Failure"!==l.result.state.current.effect._tag||!(e=>he(yfe(e)))(l.result.state.current.effect.cause)))&&(c.forEach(l=>l()),n?.(),s((e=>b(yu,t=>_(e,so(t))))(o)))};o.addObserver(l=>{c.forEach(u=>u()),s(l)});const c=t.map((l,u)=>{const d=f=>{i[u]=f,a()};return l.listeners.addObserver(d),()=>l.listeners.removeObserver(d)});return a(),R(()=>{c.forEach(l=>l())})})),()=>z(()=>{const o=t.flatMap(s=>s.state.completed?[]:[s]);return Po(o,s=>uc(s.request,(e=>ye(cr(e)))(r)))}))),rwe=(e,t)=>e.close(t),owe=(e,t)=>e.fork(t),ib=e=>(t,n)=>{const r=rU(),o=[[Vo,[[r,e.context]]]];n?.scheduler&&o.push([wv,[[r,n.scheduler]]]);let s=uge(e.fiberRefs,{entries:o,forkAs:r});n?.updateRefs&&(s=n.updateRefs(s,r));const i=new Rq(r,s,e.runtimeFlags);let a=t;n?.scope&&(a=b(owe(n.scope,Ru),l=>ke(((e,t)=>e.addFinalizer(()=>Qt(t)))(l,Cs(u=>H(u,i.id())?ee:so(i,u))),oo(t,u=>rwe(l,u)))));const c=i.currentSupervisor;return c!==$v&&(c.onStart(e.context,a,T(),i),i.addObserver(l=>c.onEnd(l,i))),Vu.add(e.runtimeFlags,i),!1===n?.immediate?i.resume(a):i.start(a),i};Error;const ab=Symbol.for("effect/Runtime/FiberFailure"),DT=Symbol.for("effect/Runtime/FiberFailure/Cause");class cwe extends Error{[ab];[DT];constructor(t){super(),this[ab]=ab,this[DT]=t;const n=rH(t);if(n.length>0){const r=n[0];this.name=r.name,this.message=r.message,this.stack=r.stack}this.name=`(FiberFailure) ${this.name}`,(void 0===this.message||0===this.message.length)&&(this.message="An error has occurred")}toJSON(){return{_id:"FiberFailure",cause:this[DT].toJSON()}}toString(){return"(FiberFailure) "+(this.stack??this.message)}[$e](){return this.toString()}}const lwe=e=>(t,n)=>Uz(e)(t,n).then(r=>{switch(r._tag){case ze:return r.effect_instruction_i0;case qe:throw(e=>{const t=Error.stackTraceLimit;Error.stackTraceLimit=0;const n=new cwe(e);return Error.stackTraceLimit=t,n})(r.effect_instruction_i0)}}),Uz=e=>(t,n)=>new Promise(r=>{const o=(e=>{const t=e;switch(t._op){case"Failure":case"Success":return t;case"Left":return ec(t.left);case"Right":return Me(t.right);case"Some":return Me(t.value);case"None":return ec(vi())}})(t);o&&r(o);const s=ib(e)(t);s.addObserver(i=>{r(i)}),void 0!==n?.signal&&(n.signal.aborted?s.unsafeInterruptAsFork(s.id()):n.signal.addEventListener("abort",()=>{s.unsafeInterruptAsFork(s.id())},{once:!0}))});class Hz{context;runtimeFlags;fiberRefs;constructor(t,n,r){this.context=t,this.runtimeFlags=n,this.fiberRefs=r}pipe(){return W(this,arguments)}}const hwe=lwe((e=>new Hz(e.context,e.runtimeFlags,e.fiberRefs))({context:Ta(),runtimeFlags:kU(1,32,4),fiberRefs:dge()}));Symbol;Symbol;const uDe=e=>{let t,n;return"function"==typeof e?t=e:(t=e.try,n=e.catch),ro(t.length>=1?(r,o)=>{try{t(o).then(s=>r(Me(s)),s=>r(n?Ar(()=>n(s)):ue(new Qa(s))))}catch(s){r(n?Ar(()=>n(s)):ue(new Qa(s)))}}:r=>{try{t().then(o=>r(Me(o)),o=>r(n?Ar(()=>n(o)):ue(new Qa(o))))}catch(o){r(n?Ar(()=>n(o)):ue(new Qa(o)))}})},dDe=hwe;let _W=(()=>{class e{constructor(n){this.http=n,this.beatsUrl="api/beats"}getGenres(){var n=this;const r=uDe({try:(o=va(function*(){const s=yield function hDe(e,t){const n="object"==typeof t;return new Promise((r,o)=>{let i,s=!1;e.subscribe({next:a=>{i=a,s=!0},error:o,complete:()=>{s?r(i):n?r(t.defaultValue):o(new Af)}})})}(n.http.get(n.beatsUrl)),i=n.groupBy(s,a=>a.genre);return Object.keys(i).map(a=>({label:a,beats:i[a]}))}),function(){return o.apply(this,arguments)}),catch:o=>{throw console.error("Error fetching beats:",o),new Error("Can't get genres")}});var o;return dDe(r)}groupBy(n,r){return n.reduce((o,s)=>{const i=r(s);return o[i]||(o[i]=[]),o[i].push(s),o},{})}static{this.\u0275fac=function(r){return new(r||e)(j(U2))}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),pDe=(()=>{class e{constructor(n){this.loader=n}intercept(n,r){return this.loader.start(),r.handle(n).pipe(Dl(()=>this.loader.complete()))}static{this.\u0275fac=function(r){return new(r||e)(j(Pw))}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac})}}return e})();let mDe=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=zo({type:e,bootstrap:[Woe]})}static{this.\u0275inj=co({providers:[{provide:_D,useClass:_W},{provide:q2,useClass:pDe,multi:!0},vse(ba(si.LegacyInterceptors,[{provide:Q2,useFactory:cse},{provide:Kf,useExisting:Q2,multi:!0}])),{provide:_D,useClass:_W},iV.forRoot(aV,{dataEncapsulation:!1}).providers],imports:[Jee,Mne,hj,iV.forRoot(aV,{dataEncapsulation:!1})]})}}return e})();Yee().bootstrapModule(mDe).catch(e=>console.error(e))}},Ju=>{Ju(Ju.s=928)}]);