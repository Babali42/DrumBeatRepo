"use strict";(self.webpackChunkDrumBeatRepo=self.webpackChunkDrumBeatRepo||[]).push([[792],{626:()=>{function Eu(e,t,n,r,o,s,i){try{var a=e[s](i),c=a.value}catch(l){return void n(l)}a.done?t(c):Promise.resolve(c).then(r,o)}function _s(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var s=e.apply(t,n);function i(c){Eu(s,r,o,i,a,"next",c)}function a(c){Eu(s,r,o,i,a,"throw",c)}i(void 0)})}}let dt=null,$h=1;const mi=Symbol("SIGNAL");function ce(e){const t=dt;return dt=e,t}function XM(e){if((!wu(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==$h)){if(!e.producerMustRecompute(e)&&!tv(e))return e.dirty=!1,void(e.lastCleanEpoch=$h);e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=$h}}function tv(e){Va(e);for(let t=0;t<e.producerNode.length;t++){const n=e.producerNode[t],r=e.producerLastReadVersion[t];if(r!==n.version||(XM(n),r!==n.version))return!0}return!1}function Hh(e,t){if(function t0(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}(e),Va(e),1===e.liveConsumerNode.length)for(let r=0;r<e.producerNode.length;r++)Hh(e.producerNode[r],e.producerIndexOfThis[r]);const n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){const r=e.liveConsumerIndexOfThis[t],o=e.liveConsumerNode[t];Va(o),o.producerIndexOfThis[r]=t}}function wu(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Va(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}let n0=null;function Ze(e){return"function"==typeof e}function rv(e){const n=e(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const ov=rv(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,o)=>`${o+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function qh(e,t){if(e){const n=e.indexOf(t);0<=n&&e.splice(n,1)}}class pn{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(Ze(r))try{r()}catch(s){t=s instanceof ov?s.errors:[s]}const{_finalizers:o}=this;if(o){this._finalizers=null;for(const s of o)try{c0(s)}catch(i){t=t??[],i instanceof ov?t=[...t,...i.errors]:t.push(i)}}if(t)throw new ov(t)}}add(t){var n;if(t&&t!==this)if(this.closed)c0(t);else{if(t instanceof pn){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}}_hasParent(t){const{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){const{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&qh(n,t)}remove(t){const{_finalizers:n}=this;n&&qh(n,t),t instanceof pn&&t._removeParent(this)}}pn.EMPTY=(()=>{const e=new pn;return e.closed=!0,e})();const s0=pn.EMPTY;function a0(e){return e instanceof pn||e&&"closed"in e&&Ze(e.remove)&&Ze(e.add)&&Ze(e.unsubscribe)}function c0(e){Ze(e)?e():e.unsubscribe()}const _i={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},zh={setTimeout(e,t,...n){const{delegate:r}=zh;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){const{delegate:t}=zh;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function l0(e){zh.setTimeout(()=>{const{onUnhandledError:t}=_i;if(!t)throw e;t(e)})}function sv(){}const t3=iv("C",void 0,void 0);function iv(e,t,n){return{kind:e,value:t,error:n}}let yi=null;function Wh(e){if(_i.useDeprecatedSynchronousErrorHandling){const t=!yi;if(t&&(yi={errorThrown:!1,error:null}),e(),t){const{errorThrown:n,error:r}=yi;if(yi=null,n)throw r}}else e()}class av extends pn{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,a0(t)&&t.add(this)):this.destination=c3}static create(t,n,r){return new Cu(t,n,r)}next(t){this.isStopped?lv(function r3(e){return iv("N",e,void 0)}(t),this):this._next(t)}error(t){this.isStopped?lv(function n3(e){return iv("E",void 0,e)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?lv(t3,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const s3=Function.prototype.bind;function cv(e,t){return s3.call(e,t)}class i3{constructor(t){this.partialObserver=t}next(t){const{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){Xh(r)}}error(t){const{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){Xh(r)}else Xh(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){Xh(n)}}}class Cu extends av{constructor(t,n,r){let o;if(super(),Ze(t)||!t)o={next:t??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&_i.useDeprecatedNextContext?(s=Object.create(t),s.unsubscribe=()=>this.unsubscribe(),o={next:t.next&&cv(t.next,s),error:t.error&&cv(t.error,s),complete:t.complete&&cv(t.complete,s)}):o=t}this.destination=new i3(o)}}function Xh(e){_i.useDeprecatedSynchronousErrorHandling?function o3(e){_i.useDeprecatedSynchronousErrorHandling&&yi&&(yi.errorThrown=!0,yi.error=e)}(e):l0(e)}function lv(e,t){const{onStoppedNotification:n}=_i;n&&zh.setTimeout(()=>n(e,t))}const c3={closed:!0,next:sv,error:function a3(e){throw e},complete:sv},uv="function"==typeof Symbol&&Symbol.observable||"@@observable";function vi(e){return e}function u0(e){return 0===e.length?vi:1===e.length?e[0]:function(n){return e.reduce((r,o)=>o(r),n)}}let et=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,o){const s=function f3(e){return e&&e instanceof av||function u3(e){return e&&Ze(e.next)&&Ze(e.error)&&Ze(e.complete)}(e)&&a0(e)}(n)?n:new Cu(n,r,o);return Wh(()=>{const{operator:i,source:a}=this;s.add(i?i.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=f0(r))((o,s)=>{const i=new Cu({next:a=>{try{n(a)}catch(c){s(c),i.unsubscribe()}},error:s,complete:o});this.subscribe(i)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[uv](){return this}pipe(...n){return u0(n)(this)}toPromise(n){return new(n=f0(n))((r,o)=>{let s;this.subscribe(i=>s=i,i=>o(i),()=>r(s))})}}return e.create=t=>new e(t),e})();function f0(e){var t;return null!==(t=e??_i.Promise)&&void 0!==t?t:Promise}const d3=rv(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Vt=(()=>{class e extends et{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new d0(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new d3}next(n){Wh(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){Wh(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Wh(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:o,observers:s}=this;return r||o?s0:(this.currentObservers=null,s.push(n),new pn(()=>{this.currentObservers=null,qh(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:o,isStopped:s}=this;r?n.error(o):s&&n.complete()}asObservable(){const n=new et;return n.source=this,n}}return e.create=(t,n)=>new d0(t,n),e})();class d0 extends Vt{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,t)}error(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,t)}complete(){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===n||n.call(t)}_subscribe(t){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(t))&&void 0!==r?r:s0}}class Mn extends Vt{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){const{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}function h0(e){return Ze(e?.lift)}function Mt(e){return t=>{if(h0(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Tt(e,t,n,r,o){return new h3(e,t,n,r,o)}class h3 extends av{constructor(t,n,r,o,s,i){super(t),this.onFinalize=s,this.shouldUnsubscribe=i,this._next=n?function(a){try{n(a)}catch(c){t.error(c)}}:super._next,this._error=o?function(a){try{o(a)}catch(c){t.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function le(e,t){return Mt((n,r)=>{let o=0;n.subscribe(Tt(r,s=>{r.next(e.call(t,s,o++))}))})}class k extends Error{constructor(t,n){super(function $a(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}(t,n)),this.code=t}}function Mo(e){return{toString:e}.toString()}const qa="__parameters__";function Wa(e,t,n){return Mo(()=>{const r=function fv(e){return function(...n){if(e){const r=e(...n);for(const o in r)this[o]=r[o]}}}(t);function o(...s){if(this instanceof o)return r.apply(this,s),this;const i=new o(...s);return a.annotation=i,a;function a(c,l,u){const f=c.hasOwnProperty(qa)?c[qa]:Object.defineProperty(c,qa,{value:[]})[qa];for(;f.length<=u;)f.push(null);return(f[u]=f[u]||[]).push(i),c}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=e,o.annotationCls=o,o})}const ke=globalThis;function xe(e){for(let t in e)if(e[t]===xe)return t;throw Error("Could not find renamed property on target object.")}function p3(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function Rt(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(Rt).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function dv(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const g3=xe({__forward_ref__:xe});function hv(e){return e.__forward_ref__=hv,e.toString=function(){return Rt(this())},e}function G(e){return Kh(e)?e():e}function Kh(e){return"function"==typeof e&&e.hasOwnProperty(g3)&&e.__forward_ref__===hv}function P(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function To(e){return{providers:e.providers||[],imports:e.imports||[]}}function Yh(e){return y0(e,Jh)||y0(e,v0)}function y0(e,t){return e.hasOwnProperty(t)?e[t]:null}function Qh(e){return e&&(e.hasOwnProperty(pv)||e.hasOwnProperty(E3))?e[pv]:null}const Jh=xe({\u0275prov:xe}),pv=xe({\u0275inj:xe}),v0=xe({ngInjectableDef:xe}),E3=xe({ngInjectorDef:xe});class F{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=P({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function vv(e){return e&&!!e.\u0275providers}const Du=xe({\u0275cmp:xe}),bv=xe({\u0275dir:xe}),Ev=xe({\u0275pipe:xe}),E0=xe({\u0275mod:xe}),Ro=xe({\u0275fac:xe}),Iu=xe({__NG_ELEMENT_ID__:xe}),S0=xe({__NG_ENV_ID__:xe});function te(e){return"string"==typeof e?e:null==e?"":String(e)}function Sv(e,t){throw new k(-201,!1)}var he=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(he||{});let wv;function w0(){return wv}function Tn(e){const t=wv;return wv=e,t}function C0(e,t,n){const r=Yh(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&he.Optional?null:void 0!==t?t:void Sv()}const Mu={},Cv="__NG_DI_FLAG__",Zh="ngTempTokenPath",M3=/\n/gm,D0="__source";let Xa;function vs(e){const t=Xa;return Xa=e,t}function O3(e,t=he.Default){if(void 0===Xa)throw new k(-203,!1);return null===Xa?C0(e,void 0,t):Xa.get(e,t&he.Optional?null:void 0,t)}function j(e,t=he.Default){return(w0()||O3)(G(e),t)}function A(e,t=he.Default){return j(e,ep(t))}function ep(e){return typeof e>"u"||"number"==typeof e?e:(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Dv(e){const t=[];for(let n=0;n<e.length;n++){const r=G(e[n]);if(Array.isArray(r)){if(0===r.length)throw new k(900,!1);let o,s=he.Default;for(let i=0;i<r.length;i++){const a=r[i],c=k3(a);"number"==typeof c?-1===c?o=a.token:s|=c:o=a}t.push(j(o,s))}else t.push(j(r))}return t}function Tu(e,t){return e[Cv]=t,e.prototype[Cv]=t,e}function k3(e){return e[Cv]}const Iv=Tu(Wa("Optional"),8),Mv=Tu(Wa("SkipSelf"),4);function bi(e,t){return e.hasOwnProperty(Ro)?e[Ro]:null}function Ga(e,t){e.forEach(n=>Array.isArray(n)?Ga(n,t):t(n))}function M0(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function tp(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Bn(e,t,n){let r=Ka(e,t);return r>=0?e[1|r]=n:(r=~r,function T0(e,t,n,r){let o=e.length;if(o==t)e.push(n,r);else if(1===o)e.push(r,e[0]),e[0]=n;else{for(o--,e.push(e[o-1],e[o]);o>t;)e[o]=e[o-2],o--;e[t]=n,e[t+1]=r}}(e,r,t,n)),r}function Rv(e,t){const n=Ka(e,t);if(n>=0)return e[1|n]}function Ka(e,t){return function R0(e,t,n){let r=0,o=e.length>>n;for(;o!==r;){const s=r+(o-r>>1),i=e[s<<n];if(t===i)return s<<n;i>t?o=s:r=s+1}return~(o<<n)}(e,t,1)}const Xr={},Se=[],Ei=new F(""),O0=new F("",-1),Ov=new F("");class rp{get(t,n=Mu){if(n===Mu){const r=new Error(`NullInjectorError: No provider for ${Rt(t)}!`);throw r.name="NullInjectorError",r}return n}}var op=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(op||{}),Mr=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Mr||{}),Tr=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(Tr||{});function j3(e,t,n){let r=e.length;for(;;){const o=e.indexOf(t,n);if(-1===o)return o;if(0===o||e.charCodeAt(o-1)<=32){const s=t.length;if(o+s===r||e.charCodeAt(o+s)<=32)return o}n=o+1}}function kv(e,t,n){let r=0;for(;r<n.length;){const o=n[r];if("number"==typeof o){if(0!==o)break;r++;const s=n[r++],i=n[r++],a=n[r++];e.setAttribute(t,i,a,s)}else{const s=o,i=n[++r];A0(s)?e.setProperty(t,s,i):e.setAttribute(t,s,i),r++}}return r}function k0(e){return 3===e||4===e||6===e}function A0(e){return 64===e.charCodeAt(0)}function Ru(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const o=t[r];"number"==typeof o?n=o:0===n||x0(e,n,o,null,-1===n||2===n?t[++r]:null)}}return e}function x0(e,t,n,r,o){let s=0,i=e.length;if(-1===t)i=-1;else for(;s<e.length;){const a=e[s++];if("number"==typeof a){if(a===t){i=-1;break}if(a>t){i=s-1;break}}}for(;s<e.length;){const a=e[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==o&&(e[s+1]=o));if(r===e[s+1])return void(e[s+2]=o)}s++,null!==r&&s++,null!==o&&s++}-1!==i&&(e.splice(i,0,t),s=i+1),e.splice(s++,0,n),null!==r&&e.splice(s++,0,r),null!==o&&e.splice(s++,0,o)}const N0="ng-template";function B3(e,t,n,r){let o=0;if(r){for(;o<t.length&&"string"==typeof t[o];o+=2)if("class"===t[o]&&-1!==j3(t[o+1].toLowerCase(),n,0))return!0}else if(Av(e))return!1;if(o=t.indexOf(1,o),o>-1){let s;for(;++o<t.length&&"string"==typeof(s=t[o]);)if(s.toLowerCase()===n)return!0}return!1}function Av(e){return 4===e.type&&e.value!==N0}function U3(e,t,n){return t===(4!==e.type||n?e.value:N0)}function V3(e,t,n){let r=4;const o=e.attrs,s=null!==o?function q3(e){for(let t=0;t<e.length;t++)if(k0(e[t]))return t;return e.length}(o):0;let i=!1;for(let a=0;a<t.length;a++){const c=t[a];if("number"!=typeof c){if(!i)if(4&r){if(r=2|1&r,""!==c&&!U3(e,c,n)||""===c&&1===t.length){if(Rr(r))return!1;i=!0}}else if(8&r){if(null===o||!B3(e,o,c,n)){if(Rr(r))return!1;i=!0}}else{const l=t[++a],u=$3(c,o,Av(e),n);if(-1===u){if(Rr(r))return!1;i=!0;continue}if(""!==l){let f;if(f=u>s?"":o[u+1].toLowerCase(),2&r&&l!==f){if(Rr(r))return!1;i=!0}}}}else{if(!i&&!Rr(r)&&!Rr(c))return!1;if(i&&Rr(c))continue;i=!1,r=c|1&r}}return Rr(r)||i}function Rr(e){return!(1&e)}function $3(e,t,n,r){if(null===t)return-1;let o=0;if(r||!n){let s=!1;for(;o<t.length;){const i=t[o];if(i===e)return o;if(3===i||6===i)s=!0;else{if(1===i||2===i){let a=t[++o];for(;"string"==typeof a;)a=t[++o];continue}if(4===i)break;if(0===i){o+=4;continue}}o+=s?1:2}return-1}return function z3(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function F0(e,t,n=!1){for(let r=0;r<t.length;r++)if(V3(e,t[r],n))return!0;return!1}function P0(e,t){return e?":not("+t.trim()+")":t}function X3(e){let t=e[0],n=1,r=2,o="",s=!1;for(;n<e.length;){let i=e[n];if("string"==typeof i)if(2&r){const a=e[++n];o+="["+i+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?o+="."+i:4&r&&(o+=" "+i);else""!==o&&!Rr(i)&&(t+=P0(s,o),o=""),r=i,s=s||!Rr(r);n++}return""!==o&&(t+=P0(s,o)),t}function Si(e){return Mo(()=>{const t=j0(e),n={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===op.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Mr.Emulated,styles:e.styles||Se,_:null,schemas:e.schemas||null,tView:null,id:""};B0(n);const r=e.dependencies;return n.directiveDefs=sp(r,!1),n.pipeDefs=sp(r,!0),n.id=function Z3(e){let t=0;const n=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const o of n)t=Math.imul(31,t)+o.charCodeAt(0)|0;return t+=2147483648,"c"+t}(n),n})}function Y3(e){return de(e)||Ot(e)}function Q3(e){return null!==e}function bs(e){return Mo(()=>({type:e.type,bootstrap:e.bootstrap||Se,declarations:e.declarations||Se,imports:e.imports||Se,exports:e.exports||Se,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function L0(e,t){if(null==e)return Xr;const n={};for(const r in e)if(e.hasOwnProperty(r)){const o=e[r];let s,i,a=Tr.None;Array.isArray(o)?(a=o[0],s=o[1],i=o[2]??s):(s=o,i=o),t?(n[s]=a!==Tr.None?[r,a]:r,t[s]=i):n[s]=r}return n}function gn(e){return Mo(()=>{const t=j0(e);return B0(t),t})}function On(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function de(e){return e[Du]||null}function Ot(e){return e[bv]||null}function Kt(e){return e[Ev]||null}function nn(e,t){const n=e[E0]||null;if(!n&&!0===t)throw new Error(`Type ${Rt(e)} does not have '\u0275mod' property.`);return n}function j0(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||Xr,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||Se,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:L0(e.inputs,t),outputs:L0(e.outputs),debugInfo:null}}function B0(e){e.features?.forEach(t=>t(e))}function sp(e,t){if(!e)return null;const n=t?Kt:Y3;return()=>("function"==typeof e?e():e).map(r=>n(r)).filter(Q3)}function Ya(e){return{\u0275providers:e}}function eq(...e){return{\u0275providers:xv(0,e),\u0275fromNgModule:!0}}function xv(e,...t){const n=[],r=new Set;let o;const s=i=>{n.push(i)};return Ga(t,i=>{const a=i;ip(a,s,[],r)&&(o||=[],o.push(a))}),void 0!==o&&U0(o,s),n}function U0(e,t){for(let n=0;n<e.length;n++){const{ngModule:r,providers:o}=e[n];Nv(o,s=>{t(s,r)})}}function ip(e,t,n,r){if(!(e=G(e)))return!1;let o=null,s=Qh(e);const i=!s&&de(e);if(s||i){if(i&&!i.standalone)return!1;o=e}else{const c=e.ngModule;if(s=Qh(c),!s)return!1;o=c}const a=r.has(o);if(i){if(a)return!1;if(r.add(o),i.dependencies){const c="function"==typeof i.dependencies?i.dependencies():i.dependencies;for(const l of c)ip(l,t,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let l;r.add(o);try{Ga(s.imports,u=>{ip(u,t,n,r)&&(l||=[],l.push(u))})}finally{}void 0!==l&&U0(l,t)}if(!a){const l=bi(o)||(()=>new o);t({provide:o,useFactory:l,deps:Se},o),t({provide:Ov,useValue:o,multi:!0},o),t({provide:Ei,useValue:()=>j(o),multi:!0},o)}const c=s.providers;if(null!=c&&!a){const l=e;Nv(c,u=>{t(u,l)})}}}return o!==e&&void 0!==e.providers}function Nv(e,t){for(let n of e)vv(n)&&(n=n.\u0275providers),Array.isArray(n)?Nv(n,t):t(n)}const tq=xe({provide:String,useValue:xe});function Fv(e){return null!==e&&"object"==typeof e&&tq in e}function wi(e){return"function"==typeof e}const Pv=new F(""),ap={},rq={};let Lv;function cp(){return void 0===Lv&&(Lv=new rp),Lv}class Un{}class Qa extends Un{get destroyed(){return this._destroyed}constructor(t,n,r,o){super(),this.parent=n,this.source=r,this.scopes=o,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Bv(t,i=>this.processProvider(i)),this.records.set(O0,Ja(void 0,this)),o.has("environment")&&this.records.set(Un,Ja(void 0,this));const s=this.records.get(Pv);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(Ov,Se,he.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const t=ce(null);try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ce(t)}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const n=vs(this),r=Tn(void 0);try{return t()}finally{vs(n),Tn(r)}}get(t,n=Mu,r=he.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(S0))return t[S0](this);r=ep(r);const s=vs(this),i=Tn(void 0);try{if(!(r&he.SkipSelf)){let c=this.records.get(t);if(void 0===c){const l=function cq(e){return"function"==typeof e||"object"==typeof e&&e instanceof F}(t)&&Yh(t);c=l&&this.injectableDefInScope(l)?Ja(jv(t),ap):null,this.records.set(t,c)}if(null!=c)return this.hydrate(t,c)}return(r&he.Self?cp():this.parent).get(t,n=r&he.Optional&&n===Mu?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[Zh]=a[Zh]||[]).unshift(Rt(t)),s)throw a;return function A3(e,t,n,r){const o=e[Zh];throw t[D0]&&o.unshift(t[D0]),e.message=function x3(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let o=Rt(t);if(Array.isArray(t))o=t.map(Rt).join(" -> ");else if("object"==typeof t){let s=[];for(let i in t)if(t.hasOwnProperty(i)){let a=t[i];s.push(i+":"+("string"==typeof a?JSON.stringify(a):Rt(a)))}o=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${o}]: ${e.replace(M3,"\n  ")}`}("\n"+e.message,o,n,r),e.ngTokenPath=o,e[Zh]=null,e}(a,t,"R3InjectorError",this.source)}throw a}finally{Tn(i),vs(s)}}resolveInjectorInitializers(){const t=ce(null),n=vs(this),r=Tn(void 0);try{const s=this.get(Ei,Se,he.Self);for(const i of s)i()}finally{vs(n),Tn(r),ce(t)}}toString(){const t=[],n=this.records;for(const r of n.keys())t.push(Rt(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new k(205,!1)}processProvider(t){let n=wi(t=G(t))?t:G(t&&t.provide);const r=function sq(e){return Fv(e)?Ja(void 0,e.useValue):Ja(function H0(e,t,n){let r;if(wi(e)){const o=G(e);return bi(o)||jv(o)}if(Fv(e))r=()=>G(e.useValue);else if(function $0(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...Dv(e.deps||[]));else if(function V0(e){return!(!e||!e.useExisting)}(e))r=()=>j(G(e.useExisting));else{const o=G(e&&(e.useClass||e.provide));if(!function iq(e){return!!e.deps}(e))return bi(o)||jv(o);r=()=>new o(...Dv(e.deps))}return r}(e),ap)}(t);if(!wi(t)&&!0===t.multi){let o=this.records.get(n);o||(o=Ja(void 0,ap,!0),o.factory=()=>Dv(o.multi),this.records.set(n,o)),n=t,o.multi.push(t)}this.records.set(n,r)}hydrate(t,n){const r=ce(null);try{return n.value===ap&&(n.value=rq,n.value=n.factory()),"object"==typeof n.value&&n.value&&function aq(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{ce(r)}}injectableDefInScope(t){if(!t.providedIn)return!1;const n=G(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){const n=this._onDestroyHooks.indexOf(t);-1!==n&&this._onDestroyHooks.splice(n,1)}}function jv(e){const t=Yh(e),n=null!==t?t.factory:bi(e);if(null!==n)return n;if(e instanceof F)throw new k(204,!1);if(e instanceof Function)return function oq(e){if(e.length>0)throw new k(204,!1);const n=function b3(e){return e&&(e[Jh]||e[v0])||null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new k(204,!1)}function Ja(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function Bv(e,t){for(const n of e)Array.isArray(n)?Bv(n,t):n&&vv(n)?Bv(n.\u0275providers,t):t(n)}function Oo(e,t){e instanceof Qa&&e.assertNotDestroyed();const r=vs(e),o=Tn(void 0);try{return t()}finally{vs(r),Tn(o)}}const nt=0,x=1,$=2,ht=3,Or=4,rn=5,Vn=6,ec=7,ze=8,Et=9,kr=10,K=11,ku=12,W0=13,tc=14,at=15,Au=16,nc=17,ko=18,xu=19,X0=20,Ss=21,fp=22,Ci=23,ne=25,Vv=1,Gr=7,rc=9,pt=10;var $v=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}($v||{});function on(e){return Array.isArray(e)&&"object"==typeof e[Vv]}function sn(e){return Array.isArray(e)&&!0===e[Vv]}function Hv(e){return!!(4&e.flags)}function Di(e){return e.componentOffset>-1}function hp(e){return!(1&~e.flags)}function Ar(e){return!!e.template}function qv(e){return!!(512&e[$])}class Eq{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function Q0(e,t,n,r){null!==t?t.applyValueToInputSignal(t,r):e[n]=r}function Ii(){return J0}function J0(e){return e.type.prototype.ngOnChanges&&(e.setInput=wq),Sq}function Sq(){const e=eT(this),t=e?.current;if(t){const n=e.previous;if(n===Xr)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function wq(e,t,n,r,o){const s=this.declaredInputs[r],i=eT(e)||function Cq(e,t){return e[Z0]=t}(e,{previous:Xr,current:null}),a=i.current||(i.current={}),c=i.previous,l=c[s];a[s]=new Eq(l&&l.currentValue,n,c===Xr),Q0(e,t,o,n)}Ii.ngInherit=!0;const Z0="__ngSimpleChanges__";function eT(e){return e[Z0]||null}const Kr=function(e,t,n){};let rT=!1;function Pe(e){for(;Array.isArray(e);)e=e[nt];return e}function Fu(e,t){return Pe(t[e])}function mn(e,t){return Pe(t[e.index])}function Pu(e,t){return e.data[t]}function $n(e,t){const n=t[e];return on(n)?n:n[nt]}function Kv(e){return!(128&~e[$])}function Yr(e,t){return null==t?null:e[t]}function oT(e){e[nc]=0}function Oq(e){1024&e[$]||(e[$]|=1024,Kv(e)&&Lu(e))}function Yv(e){return!!(9216&e[$]||e[Ci]?.dirty)}function Qv(e){e[kr].changeDetectionScheduler?.notify(1),Yv(e)?Lu(e):64&e[$]&&(function Iq(){return rT}()?(e[$]|=1024,Lu(e)):e[kr].changeDetectionScheduler?.notify())}function Lu(e){e[kr].changeDetectionScheduler?.notify();let t=Mi(e);for(;null!==t&&!(8192&t[$])&&(t[$]|=8192,Kv(t));)t=Mi(t)}function pp(e,t){if(!(256&~e[$]))throw new k(911,!1);null===e[Ss]&&(e[Ss]=[]),e[Ss].push(t)}function Mi(e){const t=e[ht];return sn(t)?t[ht]:t}const Y={lFrame:pT(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function aT(){return Y.bindingsEnabled}function C(){return Y.lFrame.lView}function pe(){return Y.lFrame.tView}function Zv(e){return Y.lFrame.contextLView=e,e[ze]}function eb(e){return Y.lFrame.contextLView=null,e}function Ne(){let e=cT();for(;null!==e&&64===e.type;)e=e.parent;return e}function cT(){return Y.lFrame.currentTNode}function Qr(e,t){const n=Y.lFrame;n.currentTNode=e,n.isParent=t}function tb(){return Y.lFrame.isParent}function nb(){Y.lFrame.isParent=!1}function _n(){const e=Y.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function xr(){return Y.lFrame.bindingIndex++}function Vq(e,t){const n=Y.lFrame;n.bindingIndex=n.bindingRootIndex=e,rb(t)}function rb(e){Y.lFrame.currentDirectiveIndex=e}function gp(e){Y.lFrame.currentQueryIndex=e}function Hq(e){const t=e[x];return 2===t.type?t.declTNode:1===t.type?e[rn]:null}function dT(e,t,n){if(n&he.SkipSelf){let o=t,s=e;for(;!(o=o.parent,null!==o||n&he.Host||(o=Hq(s),null===o||(s=s[tc],10&o.type))););if(null===o)return!1;t=o,e=s}const r=Y.lFrame=hT();return r.currentTNode=t,r.lView=e,!0}function ib(e){const t=hT(),n=e[x];Y.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function hT(){const e=Y.lFrame,t=null===e?null:e.child;return null===t?pT(e):t}function pT(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function gT(){const e=Y.lFrame;return Y.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const mT=gT;function ab(){const e=gT();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function an(){return Y.lFrame.selectedIndex}function Ti(e){Y.lFrame.selectedIndex=e}function We(){const e=Y.lFrame;return Pu(e.tView,e.selectedIndex)}let yT=!0;function Bu(){return yT}function Jr(e){yT=e}function mp(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const s=e.data[n].type.prototype,{ngAfterContentInit:i,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=s;i&&(e.contentHooks??=[]).push(-n,i),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),c&&(e.viewHooks??=[]).push(-n,c),l&&((e.viewHooks??=[]).push(n,l),(e.viewCheckHooks??=[]).push(n,l)),null!=u&&(e.destroyHooks??=[]).push(n,u)}}function _p(e,t,n){vT(e,t,3,n)}function yp(e,t,n,r){(3&e[$])===n&&vT(e,t,n,r)}function cb(e,t){let n=e[$];(3&n)===t&&(n&=16383,n+=1,e[$]=n)}function vT(e,t,n,r){const s=r??-1,i=t.length-1;let a=0;for(let c=void 0!==r?65535&e[nc]:0;c<i;c++)if("number"==typeof t[c+1]){if(a=t[c],null!=r&&a>=r)break}else t[c]<0&&(e[nc]+=65536),(a<s||-1==s)&&(Yq(e,n,t,c),e[nc]=(4294901760&e[nc])+c+2),c++}function bT(e,t){Kr(4,e,t);const n=ce(null);try{t.call(e)}finally{ce(n),Kr(5,e,t)}}function Yq(e,t,n,r){const o=n[r]<0,s=n[r+1],a=e[o?-n[r]:n[r]];o?e[$]>>14<e[nc]>>16&&(3&e[$])===t&&(e[$]+=16384,bT(a,s)):bT(a,s)}const ic=-1;class Uu{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function ub(e){return e!==ic}function Vu(e){return 32767&e}function $u(e,t){let n=function tz(e){return e>>16}(e),r=t;for(;n>0;)r=r[tc],n--;return r}let fb=!0;function vp(e){const t=fb;return fb=e,t}const ET=255,ST=5;let nz=0;const Zr={};function bp(e,t){const n=wT(e,t);if(-1!==n)return n;const r=t[x];r.firstCreatePass&&(e.injectorIndex=t.length,db(r.data,e),db(t,null),db(r.blueprint,null));const o=Ep(e,t),s=e.injectorIndex;if(ub(o)){const i=Vu(o),a=$u(o,t),c=a[x].data;for(let l=0;l<8;l++)t[s+l]=a[i+l]|c[i+l]}return t[s+8]=o,s}function db(e,t){e.push(0,0,0,0,0,0,0,0,t)}function wT(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Ep(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,o=t;for(;null!==o;){if(r=OT(o),null===r)return ic;if(n++,o=o[tc],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return ic}function hb(e,t,n){!function rz(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Iu)&&(r=n[Iu]),null==r&&(r=n[Iu]=nz++);const o=r&ET;t.data[e+(o>>ST)]|=1<<o}(e,t,n)}function CT(e,t,n){if(n&he.Optional||void 0!==e)return e;Sv()}function DT(e,t,n,r){if(n&he.Optional&&void 0===r&&(r=null),!(n&(he.Self|he.Host))){const o=e[Et],s=Tn(void 0);try{return o?o.get(t,r,n&he.Optional):C0(t,r,n&he.Optional)}finally{Tn(s)}}return CT(r,0,n)}function IT(e,t,n,r=he.Default,o){if(null!==e){if(2048&t[$]&&!(r&he.Self)){const i=function cz(e,t,n,r,o){let s=e,i=t;for(;null!==s&&null!==i&&2048&i[$]&&!(512&i[$]);){const a=MT(s,i,n,r|he.Self,Zr);if(a!==Zr)return a;let c=s.parent;if(!c){const l=i[X0];if(l){const u=l.get(n,Zr,r);if(u!==Zr)return u}c=OT(i),i=i[tc]}s=c}return o}(e,t,n,r,Zr);if(i!==Zr)return i}const s=MT(e,t,n,r,Zr);if(s!==Zr)return s}return DT(t,n,r,o)}function MT(e,t,n,r,o){const s=function iz(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Iu)?e[Iu]:void 0;return"number"==typeof t?t>=0?t&ET:az:t}(n);if("function"==typeof s){if(!dT(t,e,r))return r&he.Host?CT(o,0,r):DT(t,n,r,o);try{let i;if(i=s(r),null!=i||r&he.Optional)return i;Sv()}finally{mT()}}else if("number"==typeof s){let i=null,a=wT(e,t),c=ic,l=r&he.Host?t[at][rn]:null;for((-1===a||r&he.SkipSelf)&&(c=-1===a?Ep(e,t):t[a+8],c!==ic&&RT(r,!1)?(i=t[x],a=Vu(c),t=$u(c,t)):a=-1);-1!==a;){const u=t[x];if(TT(s,a,u.data)){const f=sz(a,t,n,i,r,l);if(f!==Zr)return f}c=t[a+8],c!==ic&&RT(r,t[x].data[a+8]===l)&&TT(s,a,t)?(i=u,a=Vu(c),t=$u(c,t)):a=-1}}return o}function sz(e,t,n,r,o,s){const i=t[x],a=i.data[e+8],u=function Sp(e,t,n,r,o){const s=e.providerIndexes,i=t.data,a=1048575&s,c=e.directiveStart,u=s>>20,d=o?a+u:e.directiveEnd;for(let p=r?a:a+u;p<d;p++){const g=i[p];if(p<c&&n===g||p>=c&&g.type===n)return p}if(o){const p=i[c];if(p&&Ar(p)&&p.type===n)return c}return null}(a,i,n,null==r?Di(a)&&fb:r!=i&&!!(3&a.type),o&he.Host&&s===a);return null!==u?Ri(t,i,u,a):Zr}function Ri(e,t,n,r){let o=e[n];const s=t.data;if(function Qq(e){return e instanceof Uu}(o)){const i=o;i.resolving&&function C3(e,t){throw t&&t.join(" > "),new k(-200,e)}(function De(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():te(e)}(s[n]));const a=vp(i.canSeeViewProviders);i.resolving=!0;const l=i.injectImpl?Tn(i.injectImpl):null;dT(e,r,he.Default);try{o=e[n]=i.factory(void 0,s,e,r),t.firstCreatePass&&n>=r.directiveStart&&function Kq(e,t,n){const{ngOnChanges:r,ngOnInit:o,ngDoCheck:s}=t.type.prototype;if(r){const i=J0(t);(n.preOrderHooks??=[]).push(e,i),(n.preOrderCheckHooks??=[]).push(e,i)}o&&(n.preOrderHooks??=[]).push(0-e,o),s&&((n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s))}(n,s[n],t)}finally{null!==l&&Tn(l),vp(a),i.resolving=!1,mT()}}return o}function TT(e,t,n){return!!(n[t+(e>>ST)]&1<<e)}function RT(e,t){return!(e&he.Self||e&he.Host&&t)}class At{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return IT(this._tNode,this._lView,t,ep(r),n)}}function az(){return new At(Ne(),C())}function wp(e){return Mo(()=>{const t=e.prototype.constructor,n=t[Ro]||pb(t),r=Object.prototype;let o=Object.getPrototypeOf(e.prototype).constructor;for(;o&&o!==r;){const s=o[Ro]||pb(o);if(s&&s!==n)return s;o=Object.getPrototypeOf(o)}return s=>new s})}function pb(e){return Kh(e)?()=>{const t=pb(G(e));return t&&t()}:bi(e)}function OT(e){const t=e[x],n=t.type;return 2===n?t.declTNode:1===n?e[rn]:null}function FT(e,t=null,n=null,r){const o=PT(e,t,n,r);return o.resolveInjectorInitializers(),o}function PT(e,t=null,n=null,r,o=new Set){const s=[n||Se,eq(e)];return r=r||("object"==typeof e?void 0:Rt(e)),new Qa(s,t||cp(),r||null,o)}let Hn=(()=>{class e{static{this.THROW_IF_NOT_FOUND=Mu}static{this.NULL=new rp}static create(n,r){if(Array.isArray(n))return FT({name:""},r,n,"");{const o=n.name??"";return FT({name:o},n.parent,n.providers,o)}}static{this.\u0275prov=P({token:e,providedIn:"any",factory:()=>j(O0)})}static{this.__NG_ELEMENT_ID__=-1}}return e})();function mb(e){return e.ngOriginalError}class eo{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&mb(t);for(;n&&mb(n);)n=mb(n);return n||null}}const jT=new F("",{providedIn:"root",factory:()=>A(eo).handleError.bind(void 0)});let lc=(()=>{class e{static{this.__NG_ELEMENT_ID__=_z}static{this.__NG_ENV_ID__=n=>n}}return e})();class mz extends lc{constructor(t){super(),this._lView=t}onDestroy(t){return pp(this._lView,t),()=>function Jv(e,t){if(null===e[Ss])return;const n=e[Ss].indexOf(t);-1!==n&&e[Ss].splice(n,1)}(this._lView,t)}}function _z(){return new mz(C())}function yz(){return uc(Ne(),C())}function uc(e,t){return new ws(mn(e,t))}let ws=(()=>{class e{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=yz}}return e})();function _b(e){return t=>{setTimeout(e,void 0,t)}}const yn=class vz extends Vt{constructor(t=!1){super(),this.destroyRef=void 0,this.__isAsync=t,function q0(){return void 0!==w0()||null!=function R3(){return Xa}()}()&&(this.destroyRef=A(lc,{optional:!0})??void 0)}emit(t){const n=ce(null);try{super.next(t)}finally{ce(n)}}subscribe(t,n,r){let o=t,s=n||(()=>null),i=r;if(t&&"object"==typeof t){const c=t;o=c.next?.bind(c),s=c.error?.bind(c),i=c.complete?.bind(c)}this.__isAsync&&(s=_b(s),o&&(o=_b(o)),i&&(i=_b(i)));const a=super.subscribe({next:o,error:s,complete:i});return t instanceof pn&&t.add(a),a}};function Dp(e){return!(128&~e.flags)}const vb=new Map;let Sz=0;const Eb="__ngContext__";function cn(e,t){on(t)?(e[Eb]=t[xu],function Cz(e){vb.set(e[xu],e)}(t)):e[Eb]=t}function YT(e){return JT(e[ku])}function QT(e){return JT(e[Or])}function JT(e){for(;null!==e&&!sn(e);)e=e[Or];return e}let Sb;const Tp=new F("",{providedIn:"root",factory:()=>$z}),$z="ng",iR=new F(""),No=new F("",{providedIn:"platform",factory:()=>"unknown"}),wb=new F("",{providedIn:"root",factory:()=>function Cs(){if(void 0!==Sb)return Sb;if(typeof document<"u")return document;throw new k(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let aR=()=>null;function kb(e,t,n=!1){return aR(e,t,n)}const dR=new F("",{providedIn:"root",factory:()=>!1});class _R{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}const M4=/^>|^->|<!--|-->|--!>|<!-$/g,T4=/(<|>)/g,R4="\u200b$1\u200b";function AR(e){return e.ownerDocument.defaultView}function xR(e){return e.ownerDocument}function qn(e){return e instanceof Function?e():e}var Is=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Is||{});let qb;function zb(e,t){return qb(e,t)}function mc(e,t,n,r,o){if(null!=r){let s,i=!1;sn(r)?s=r:on(r)&&(i=!0,r=r[nt]);const a=Pe(r);0===e&&null!==n?null==o?$R(t,n,a):Oi(t,n,a,o||null,!0):1===e&&null!==n?Oi(t,n,a,o||null,!0):2===e?function tf(e,t,n){const r=$p(e,t);r&&function W4(e,t,n,r){e.removeChild(t,n,r)}(e,r,t,n)}(t,a,i):3===e&&t.destroyNode(a),null!=s&&function K4(e,t,n,r,o){const s=n[Gr];s!==Pe(n)&&mc(t,e,r,s,o);for(let a=pt;a<n.length;a++){const c=n[a];qp(c[x],c,e,t,r,s)}}(t,e,s,n,o)}}function Xb(e,t){return e.createComment(function RR(e){return e.replace(M4,t=>t.replace(T4,R4))}(t))}function Up(e,t,n){return e.createElement(t,n)}function BR(e,t){t[kr].changeDetectionScheduler?.notify(1),qp(e,t,t[K],2,null,null)}function UR(e,t){const n=e[rc],r=n.indexOf(t);n.splice(r,1)}function Zu(e,t){if(e.length<=pt)return;const n=pt+t,r=e[n];if(r){const o=r[Au];null!==o&&o!==e&&UR(o,r),t>0&&(e[n-1][Or]=r[Or]);const s=tp(e,pt+t);!function B4(e,t){BR(e,t),t[nt]=null,t[rn]=null}(r[x],r);const i=s[ko];null!==i&&i.detachView(s[x]),r[ht]=null,r[Or]=null,r[$]&=-129}return r}function Vp(e,t){if(!(256&t[$])){const n=t[K];n.destroyNode&&qp(e,t,n,3,null,null),function V4(e){let t=e[ku];if(!t)return Gb(e[x],e);for(;t;){let n=null;if(on(t))n=t[ku];else{const r=t[pt];r&&(n=r)}if(!n){for(;t&&!t[Or]&&t!==e;)on(t)&&Gb(t[x],t),t=t[ht];null===t&&(t=e),on(t)&&Gb(t[x],t),n=t&&t[Or]}t=n}}(t)}}function Gb(e,t){if(256&t[$])return;const n=ce(null);try{t[$]&=-129,t[$]|=256,t[Ci]&&function ZM(e){if(Va(e),wu(e))for(let t=0;t<e.producerNode.length;t++)Hh(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}(t[Ci]),function z4(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const o=t[n[r]];if(!(o instanceof Uu)){const s=n[r+1];if(Array.isArray(s))for(let i=0;i<s.length;i+=2){const a=o[s[i]],c=s[i+1];Kr(4,a,c);try{c.call(a)}finally{Kr(5,a,c)}}else{Kr(4,o,s);try{s.call(o)}finally{Kr(5,o,s)}}}}}(e,t),function q4(e,t){const n=e.cleanup,r=t[ec];if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const i=n[s+3];i>=0?r[i]():r[-i].unsubscribe(),s+=2}else n[s].call(r[n[s+1]]);null!==r&&(t[ec]=null);const o=t[Ss];if(null!==o){t[Ss]=null;for(let s=0;s<o.length;s++)(0,o[s])()}}(e,t),1===t[x].type&&t[K].destroy();const r=t[Au];if(null!==r&&sn(t[ht])){r!==t[ht]&&UR(r,t);const o=t[ko];null!==o&&o.detachView(e)}!function Dz(e){vb.delete(e[xu])}(t)}finally{ce(n)}}function Kb(e,t,n){return function VR(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[nt];{const{componentOffset:o}=r;if(o>-1){const{encapsulation:s}=e.data[r.directiveStart+o];if(s===Mr.None||s===Mr.Emulated)return null}return mn(r,n)}}(e,t.parent,n)}function Oi(e,t,n,r,o){e.insertBefore(t,n,r,o)}function $R(e,t,n){e.appendChild(t,n)}function HR(e,t,n,r,o){null!==r?Oi(e,t,n,r,o):$R(e,t,n)}function $p(e,t){return e.parentNode(t)}let Yb,WR=function zR(e,t,n){return 40&e.type?mn(e,n):null};function Hp(e,t,n,r){const o=Kb(e,r,t),s=t[K],a=function qR(e,t,n){return WR(e,t,n)}(r.parent||t[rn],r,t);if(null!=o)if(Array.isArray(n))for(let c=0;c<n.length;c++)HR(s,o,n[c],a,!1);else HR(s,o,n,a,!1);void 0!==Yb&&Yb(s,r,t,n,o)}function ef(e,t){if(null!==t){const n=t.type;if(3&n)return mn(t,e);if(4&n)return Qb(-1,e[t.index]);if(8&n){const r=t.child;if(null!==r)return ef(e,r);{const o=e[t.index];return sn(o)?Qb(-1,o):Pe(o)}}if(32&n)return zb(t,e)()||Pe(e[t.index]);{const r=GR(e,t);return null!==r?Array.isArray(r)?r[0]:ef(Mi(e[at]),r):ef(e,t.next)}}return null}function GR(e,t){return null!==t?e[at][rn].projection[t.projection]:null}function Qb(e,t){const n=pt+e+1;if(n<t.length){const r=t[n],o=r[x].firstChild;if(null!==o)return ef(r,o)}return t[Gr]}function Jb(e,t,n,r,o,s,i){for(;null!=n;){const a=r[n.index],c=n.type;if(i&&0===t&&(a&&cn(Pe(a),r),n.flags|=2),32&~n.flags)if(8&c)Jb(e,t,n.child,r,o,s,!1),mc(t,e,o,a,s);else if(32&c){const l=zb(n,r);let u;for(;u=l();)mc(t,e,o,u,s);mc(t,e,o,a,s)}else 16&c?YR(e,t,r,n,o,s):mc(t,e,o,a,s);n=i?n.projectionNext:n.next}}function qp(e,t,n,r,o,s){Jb(n,r,e.firstChild,t,o,s,!1)}function YR(e,t,n,r,o,s){const i=n[at],c=i[rn].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++)mc(t,e,o,c[l],s);else{let l=c;const u=i[ht];Dp(r)&&(l.flags|=128),Jb(e,t,l,u,o,s,!0)}}function QR(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function JR(e,t,n){const{mergedAttrs:r,classes:o,styles:s}=n;null!==r&&kv(e,t,r),null!==o&&QR(e,t,o),null!==s&&function Q4(e,t,n){e.setAttribute(t,"style",n)}(e,t,s)}const re={};function Le(e=1){ZR(pe(),C(),an()+e,!1)}function ZR(e,t,n,r){if(!r)if(3&~t[$]){const s=e.preOrderHooks;null!==s&&yp(t,s,0,n)}else{const s=e.preOrderCheckHooks;null!==s&&_p(t,s,n)}Ti(n)}function H(e,t=he.Default){const n=C();return null===n?j(e,t):IT(Ne(),n,G(e),t)}function eO(e,t,n,r,o,s){const i=ce(null);try{let a=null;o&Tr.SignalBased&&(a=t[r][mi]),null!==a&&void 0!==a.transformFn&&(s=a.transformFn(s)),o&Tr.HasDecoratorInputTransform&&(s=e.inputTransforms[r].call(t,s)),null!==e.setInput?e.setInput(t,a,s,n,r):Q0(t,a,r,s)}finally{ce(i)}}function zp(e,t,n,r,o,s,i,a,c,l,u){const f=t.blueprint.slice();return f[nt]=o,f[$]=204|r,(null!==l||e&&2048&e[$])&&(f[$]|=2048),oT(f),f[ht]=f[tc]=e,f[ze]=n,f[kr]=i||e&&e[kr],f[K]=a||e&&e[K],f[Et]=c||e&&e[Et]||null,f[rn]=s,f[xu]=function wz(){return Sz++}(),f[Vn]=u,f[X0]=l,f[at]=2==t.type?e[at]:f,f}function _c(e,t,n,r,o){let s=e.data[t];if(null===s)s=function Zb(e,t,n,r,o){const s=cT(),i=tb(),c=e.data[t]=function iW(e,t,n,r,o,s){let i=t?t.injectorIndex:-1,a=0;return function sc(){return null!==Y.skipHydrationRootTNode}()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:i,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:o,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,i?s:s&&s.parent,n,t,r,o);return null===e.firstChild&&(e.firstChild=c),null!==s&&(i?null==s.child&&null!==c.parent&&(s.child=c):null===s.next&&(s.next=c,c.prev=s)),c}(e,t,n,r,o),function Uq(){return Y.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=r,s.attrs=o;const i=function ju(){const e=Y.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();s.injectorIndex=null===i?-1:i.injectorIndex}return Qr(s,!0),s}function nf(e,t,n,r){if(0===n)return-1;const o=t.length;for(let s=0;s<n;s++)t.push(r),e.blueprint.push(r),e.data.push(null);return o}function tO(e,t,n,r,o){const s=an(),i=2&r;try{Ti(-1),i&&t.length>ne&&ZR(e,t,ne,!1),Kr(i?2:0,o),n(r,o)}finally{Ti(s),Kr(i?3:1,o)}}function eE(e,t,n){if(Hv(t)){const r=ce(null);try{const s=t.directiveEnd;for(let i=t.directiveStart;i<s;i++){const a=e.data[i];a.contentQueries&&a.contentQueries(1,n[i],i)}}finally{ce(r)}}}function tE(e,t,n){aT()&&(function hW(e,t,n,r){const o=n.directiveStart,s=n.directiveEnd;Di(n)&&function bW(e,t,n){const r=mn(t,e),o=nO(n);let i=16;n.signals?i=4096:n.onPush&&(i=64);const a=Wp(e,zp(e,o,null,i,r,t,null,e[kr].rendererFactory.createRenderer(r,n),null,null,null));e[t.index]=a}(t,n,e.data[o+n.componentOffset]),e.firstCreatePass||bp(n,t),cn(r,t);const i=n.initialInputs;for(let a=o;a<s;a++){const c=e.data[a],l=Ri(t,e,a,n);cn(l,t),null!==i&&EW(0,a-o,l,c,0,i),Ar(c)&&($n(n.index,t)[ze]=Ri(t,e,a,n))}}(e,t,n,mn(n,t)),!(64&~n.flags)&&aO(e,t,n))}function nE(e,t,n=mn){const r=t.localNames;if(null!==r){let o=t.index+1;for(let s=0;s<r.length;s+=2){const i=r[s+1],a=-1===i?n(t,e):e[i];e[o++]=a}}}function nO(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=rE(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function rE(e,t,n,r,o,s,i,a,c,l,u){const f=ne+r,d=f+o,p=function eW(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:re);return n}(f,d),g="function"==typeof l?l():l;return p[x]={type:e,blueprint:p,template:n,queries:null,viewQuery:a,declTNode:t,data:p.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof i?i():i,firstChild:null,schemas:c,consts:g,incompleteFirstPass:!1,ssrId:u}}let rO=()=>null;function oO(e,t,n,r,o){for(let s in t){if(!t.hasOwnProperty(s))continue;const i=t[s];if(void 0===i)continue;r??={};let a,c=Tr.None;Array.isArray(i)?(a=i[0],c=i[1]):a=i;let l=s;if(null!==o){if(!o.hasOwnProperty(s))continue;l=o[s]}0===e?sO(r,n,l,a,c):sO(r,n,l,a)}return r}function sO(e,t,n,r,o){let s;e.hasOwnProperty(n)?(s=e[n]).push(t,r):s=e[n]=[t,r],void 0!==o&&s.push(o)}function oE(e,t,n,r){if(aT()){const o=null===r?null:{"":-1},s=function gW(e,t){const n=e.directiveRegistry;let r=null,o=null;if(n)for(let s=0;s<n.length;s++){const i=n[s];if(F0(t,i.selectors,!1))if(r||(r=[]),Ar(i))if(null!==i.findHostDirectiveDefs){const a=[];o=o||new Map,i.findHostDirectiveDefs(i,a,o),r.unshift(...a,i),sE(e,t,a.length)}else r.unshift(i),sE(e,t,0);else o=o||new Map,i.findHostDirectiveDefs?.(i,r,o),r.push(i)}return null===r?null:[r,o]}(e,n);let i,a;null===s?i=a=null:[i,a]=s,null!==i&&iO(e,t,n,i,o,a),o&&function mW(e,t,n){if(t){const r=e.localNames=[];for(let o=0;o<t.length;o+=2){const s=n[t[o+1]];if(null==s)throw new k(-301,!1);r.push(t[o],s)}}}(n,r,o)}n.mergedAttrs=Ru(n.mergedAttrs,n.attrs)}function iO(e,t,n,r,o,s){for(let l=0;l<r.length;l++)hb(bp(n,t),e,r[l].type);!function yW(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,r.length);for(let l=0;l<r.length;l++){const u=r[l];u.providersResolver&&u.providersResolver(u)}let i=!1,a=!1,c=nf(e,t,r.length,null);for(let l=0;l<r.length;l++){const u=r[l];n.mergedAttrs=Ru(n.mergedAttrs,u.hostAttrs),vW(e,n,t,c,u),_W(c,u,o),null!==u.contentQueries&&(n.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(n.flags|=64);const f=u.type.prototype;!i&&(f.ngOnChanges||f.ngOnInit||f.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),i=!0),!a&&(f.ngOnChanges||f.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}!function aW(e,t,n){const o=t.directiveEnd,s=e.data,i=t.attrs,a=[];let c=null,l=null;for(let u=t.directiveStart;u<o;u++){const f=s[u],d=n?n.get(f):null,g=d?d.outputs:null;c=oO(0,f.inputs,u,c,d?d.inputs:null),l=oO(1,f.outputs,u,l,g);const m=null===c||null===i||Av(t)?null:SW(c,u,i);a.push(m)}null!==c&&(c.hasOwnProperty("class")&&(t.flags|=8),c.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=c,t.outputs=l}(e,n,s)}function aO(e,t,n){const r=n.directiveStart,o=n.directiveEnd,s=n.index,i=function $q(){return Y.lFrame.currentDirectiveIndex}();try{Ti(s);for(let a=r;a<o;a++){const c=e.data[a],l=t[a];rb(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&pW(c,l)}}finally{Ti(-1),rb(i)}}function pW(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function sE(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function _W(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;Ar(t)&&(n[""]=e)}}function vW(e,t,n,r,o){e.data[r]=o;const s=o.factory||(o.factory=bi(o.type)),i=new Uu(s,Ar(o),H);e.blueprint[r]=i,n[r]=i,function fW(e,t,n,r,o){const s=o.hostBindings;if(s){let i=e.hostBindingOpCodes;null===i&&(i=e.hostBindingOpCodes=[]);const a=~t.index;(function dW(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(i)!=a&&i.push(a),i.push(n,r,s)}}(e,t,r,nf(e,n,o.hostVars,re),o)}function to(e,t,n,r,o,s){const i=mn(e,t);!function iE(e,t,n,r,o,s,i){if(null==s)e.removeAttribute(t,o,n);else{const a=null==i?te(s):i(s,r||"",o);e.setAttribute(t,o,a,n)}}(t[K],i,s,e.value,n,r,o)}function EW(e,t,n,r,o,s){const i=s[t];if(null!==i)for(let a=0;a<i.length;)eO(r,n,i[a++],i[a++],i[a++],i[a++])}function SW(e,t,n){let r=null,o=0;for(;o<n.length;){const s=n[o];if(0!==s)if(5!==s){if("number"==typeof s)break;if(e.hasOwnProperty(s)){null===r&&(r=[]);const i=e[s];for(let a=0;a<i.length;a+=3)if(i[a]===t){r.push(s,i[a+1],i[a+2],n[o+1]);break}}o+=2}else o+=2;else o+=4}return r}function cO(e,t,n,r){return[e,!0,0,t,null,r,null,n,null,null]}function lO(e,t){const n=e.contentQueries;if(null!==n){const r=ce(null);try{for(let o=0;o<n.length;o+=2){const i=n[o+1];if(-1!==i){const a=e.data[i];gp(n[o]),a.contentQueries(2,t[i],i)}}}finally{ce(r)}}}function Wp(e,t){return e[ku]?e[W0][Or]=t:e[ku]=t,e[W0]=t,t}function aE(e,t,n){gp(0);const r=ce(null);try{t(e,n)}finally{ce(r)}}function Xp(e,t){const n=e[Et],r=n?n.get(eo,null):null;r&&r.handleError(t)}function cE(e,t,n,r,o){for(let s=0;s<n.length;){const i=n[s++],a=n[s++],c=n[s++];eO(e.data[i],t[i],r,a,c,o)}}function wW(e,t){const n=$n(t,e),r=n[x];!function CW(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(r,n);const o=n[nt];null!==o&&null===n[Vn]&&(n[Vn]=kb(o,n[Et])),lE(r,n,n[ze])}function lE(e,t,n){ib(t);try{const r=e.viewQuery;null!==r&&aE(1,r,n);const o=e.template;null!==o&&tO(e,t,o,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[ko]?.finishViewCreation(e),e.staticContentQueries&&lO(e,t),e.staticViewQueries&&aE(2,e.viewQuery,n);const s=e.components;null!==s&&function DW(e,t){for(let n=0;n<t.length;n++)wW(e,t[n])}(t,s)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[$]&=-5,ab()}}function yc(e,t){return!t||null===t.firstChild||Dp(e)}function sf(e,t,n,r=!0){const o=t[x];if(function $4(e,t,n,r){const o=pt+r,s=n.length;r>0&&(n[o-1][Or]=t),r<s-pt?(t[Or]=n[o],M0(n,pt+r,t)):(n.push(t),t[Or]=null),t[ht]=n;const i=t[Au];null!==i&&n!==i&&function H4(e,t){const n=e[rc];t[at]!==t[ht][ht][at]&&(e[$]|=$v.HasTransplantedViews),null===n?e[rc]=[t]:n.push(t)}(i,t);const a=t[ko];null!==a&&a.insertView(e),Qv(t),t[$]|=128}(o,t,e,n),r){const i=Qb(n,e),a=t[K],c=$p(a,e[Gr]);null!==c&&function U4(e,t,n,r,o,s){r[nt]=o,r[rn]=t,qp(e,r,n,1,o,s)}(o,e[rn],a,t,c,i)}const s=t[Vn];null!==s&&null!==s.firstChild&&(s.firstChild=null)}function af(e,t,n,r,o=!1){for(;null!==n;){const s=t[n.index];null!==s&&r.push(Pe(s)),sn(s)&&pO(s,r);const i=n.type;if(8&i)af(e,t,n.child,r);else if(32&i){const a=zb(n,t);let c;for(;c=a();)r.push(c)}else if(16&i){const a=GR(t,n);if(Array.isArray(a))r.push(...a);else{const c=Mi(t[at]);af(c[x],c,a,r,!0)}}n=o?n.projectionNext:n.next}return r}function pO(e,t){for(let n=pt;n<e.length;n++){const r=e[n],o=r[x].firstChild;null!==o&&af(r[x],r,o,t)}e[Gr]!==e[nt]&&t.push(e[Gr])}let gO=[];const RW={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{},consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{Lu(e.lView)},consumerOnSignalRead(){this.lView[Ci]=this}},mO=100;function Gp(e,t=!0,n=0){const r=e[kr],o=r.rendererFactory;o.begin?.();try{!function OW(e,t){fE(e,t);let n=0;for(;Yv(e);){if(n===mO)throw new k(103,!1);n++,fE(e,1)}}(e,n)}catch(i){throw t&&Xp(e,i),i}finally{o.end?.(),r.inlineEffectRunner?.flush()}}function kW(e,t,n,r){const o=t[$];if(!(256&~o))return;t[kr].inlineEffectRunner?.flush(),ib(t);let i=null,a=null;(function AW(e){return 2!==e.type})(e)&&(a=function IW(e){return e[Ci]??function MW(e){const t=gO.pop()??Object.create(RW);return t.lView=e,t}(e)}(t),i=function QM(e){return e&&(e.nextProducerIndex=0),ce(e)}(a));try{oT(t),function uT(e){return Y.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&tO(e,t,n,2,r);const c=!(3&~o);if(c){const f=e.preOrderCheckHooks;null!==f&&_p(t,f,null)}else{const f=e.preOrderHooks;null!==f&&yp(t,f,0,null),cb(t,0)}if(function xW(e){for(let t=YT(e);null!==t;t=QT(t)){if(!(t[$]&$v.HasTransplantedViews))continue;const n=t[rc];for(let r=0;r<n.length;r++){Oq(n[r])}}}(t),_O(t,0),null!==e.contentQueries&&lO(e,t),c){const f=e.contentCheckHooks;null!==f&&_p(t,f)}else{const f=e.contentHooks;null!==f&&yp(t,f,1),cb(t,1)}!function Z4(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const o=n[r];if(o<0)Ti(~o);else{const s=o,i=n[++r],a=n[++r];Vq(i,s),a(2,t[s])}}}finally{Ti(-1)}}(e,t);const l=e.components;null!==l&&vO(t,l,0);const u=e.viewQuery;if(null!==u&&aE(2,u,r),c){const f=e.viewCheckHooks;null!==f&&_p(t,f)}else{const f=e.viewHooks;null!==f&&yp(t,f,2),cb(t,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[fp]){for(const f of t[fp])f();t[fp]=null}t[$]&=-73}catch(c){throw Lu(t),c}finally{null!==a&&(function JM(e,t){if(ce(t),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(wu(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)Hh(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}(a,i),function TW(e){e.lView[Ci]!==e&&(e.lView=null,gO.push(e))}(a)),ab()}}function _O(e,t){for(let n=YT(e);null!==n;n=QT(n))for(let r=pt;r<n.length;r++)yO(n[r],t)}function NW(e,t,n){yO($n(t,e),n)}function yO(e,t){Kv(e)&&fE(e,t)}function fE(e,t){const r=e[x],o=e[$],s=e[Ci];let i=!!(0===t&&16&o);if(i||=!!(64&o&&0===t),i||=!!(1024&o),i||=!(!s?.dirty||!tv(s)),s&&(s.dirty=!1),e[$]&=-9217,i)kW(r,e,r.template,e[ze]);else if(8192&o){_O(e,1);const a=r.components;null!==a&&vO(e,a,1)}}function vO(e,t,n){for(let r=0;r<t.length;r++)NW(e,t[r],n)}function cf(e){for(e[kr].changeDetectionScheduler?.notify();e;){e[$]|=64;const t=Mi(e);if(qv(e)&&!t)return e;e=t}return null}class lf{get rootNodes(){const t=this._lView,n=t[x];return af(n,t,n.firstChild,[])}constructor(t,n,r=!0){this._lView=t,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ze]}set context(t){this._lView[ze]=t}get destroyed(){return!(256&~this._lView[$])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[ht];if(sn(t)){const n=t[8],r=n?n.indexOf(this):-1;r>-1&&(Zu(t,r),tp(n,r))}this._attachedToViewContainer=!1}Vp(this._lView[x],this._lView)}onDestroy(t){pp(this._lView,t)}markForCheck(){cf(this._cdRefInjectingView||this._lView)}detach(){this._lView[$]&=-129}reattach(){Qv(this._lView),this._lView[$]|=128}detectChanges(){this._lView[$]|=1024,Gp(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new k(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,BR(this._lView[x],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new k(902,!1);this._appRef=t,Qv(this._lView)}}let Lo=(()=>{class e{static{this.__NG_ELEMENT_ID__=LW}}return e})();const FW=Lo,PW=class extends FW{constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n)}createEmbeddedViewImpl(t,n,r){const o=function rf(e,t,n,r){const o=ce(null);try{const s=t.tView,c=zp(e,s,n,4096&e[$]?4096:16,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null);c[Au]=e[t.index];const u=e[ko];return null!==u&&(c[ko]=u.createEmbeddedView(s)),lE(s,c,n),c}finally{ce(o)}}(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:n,dehydratedView:r});return new lf(o)}};function LW(){return function Kp(e,t){return 4&e.type?new PW(t,e,uc(e,t)):null}(Ne(),C())}class _E{}class aX{}class IO{}class lX{resolveComponentFactory(t){throw function cX(e){const t=Error(`No component factory found for ${Rt(e)}.`);return t.ngComponent=e,t}(t)}}let eg=(()=>{class e{static{this.NULL=new lX}}return e})();class TO{}let tg=(()=>{class e{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function uX(){const e=C(),n=$n(Ne().index,e);return(on(n)?n:e)[K]}()}}return e})(),fX=(()=>{class e{static{this.\u0275prov=P({token:e,providedIn:"root",factory:()=>null})}}return e})();const yE={},RO=new Set;function OO(...e){}class Ae{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new yn(!1),this.onMicrotaskEmpty=new yn(!1),this.onStable=new yn(!1),this.onError=new yn(!1),typeof Zone>"u")throw new k(908,!1);Zone.assertZonePatched();const o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!r&&n,o.shouldCoalesceRunChangeDetection=r,o.lastRequestAnimationFrameId=-1,o.nativeRequestAnimationFrame=function dX(){const e="function"==typeof ke.requestAnimationFrame;let t=ke[e?"requestAnimationFrame":"setTimeout"],n=ke[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&n){const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r);const o=n[Zone.__symbol__("OriginalDelegate")];o&&(n=o)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function gX(e){const t=()=>{!function pX(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(ke,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,bE(e),e.isCheckStableRunning=!0,vE(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),bE(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,o,s,i,a)=>{if(function mX(e){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0].data?.__ignore_ng_zone__}(a))return n.invokeTask(o,s,i,a);try{return kO(e),n.invokeTask(o,s,i,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||e.shouldCoalesceRunChangeDetection)&&t(),AO(e)}},onInvoke:(n,r,o,s,i,a,c)=>{try{return kO(e),n.invoke(o,s,i,a,c)}finally{e.shouldCoalesceRunChangeDetection&&t(),AO(e)}},onHasTask:(n,r,o,s)=>{n.hasTask(o,s),r===o&&("microTask"==s.change?(e._hasPendingMicrotasks=s.microTask,bE(e),vE(e)):"macroTask"==s.change&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,o,s)=>(n.handleError(o,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}(o)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ae.isInAngularZone())throw new k(909,!1)}static assertNotInAngularZone(){if(Ae.isInAngularZone())throw new k(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,o){const s=this._inner,i=s.scheduleEventTask("NgZoneEvent: "+o,t,hX,OO,OO);try{return s.runTask(i,n,r)}finally{s.cancelTask(i)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const hX={};function vE(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function bE(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function kO(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function AO(e){e._nesting--,vE(e)}class xO{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new yn,this.onMicrotaskEmpty=new yn,this.onStable=new yn,this.onError=new yn}run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,o){return t.apply(n,r)}}let pf=(()=>{class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){const n=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const r of n)r()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static{this.\u0275prov=P({token:e,providedIn:"root",factory:()=>new e})}}return e})();function rg(e,t,n){let r=n?e.styles:null,o=n?e.classes:null,s=0;if(null!==t)for(let i=0;i<t.length;i++){const a=t[i];"number"==typeof a?s=a:1==s?o=dv(o,a):2==s&&(r=dv(r,a+": "+t[++i]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=o:e.classesWithoutHost=o}class BO extends eg{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=de(t);return new _f(n,this.ngModule)}}function UO(e){const t=[];for(const n in e){if(!e.hasOwnProperty(n))continue;const r=e[n];void 0!==r&&t.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return t}class og{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=ep(r);const o=this.injector.get(t,yE,r);return o!==yE||n===yE?o:this.parentInjector.get(t,n,r)}}class _f extends IO{get inputs(){const t=this.componentDef,n=t.inputTransforms,r=UO(t.inputs);if(null!==n)for(const o of r)n.hasOwnProperty(o.propName)&&(o.transform=n[o.propName]);return r}get outputs(){return UO(this.componentDef.outputs)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function G3(e){return e.map(X3).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,r,o){const s=ce(null);try{let i=(o=o||this.ngModule)instanceof Un?o:o?.injector;i&&null!==this.componentDef.getStandaloneInjector&&(i=this.componentDef.getStandaloneInjector(i)||i);const a=i?new og(t,i):t,c=a.get(TO,null);if(null===c)throw new k(407,!1);const l=a.get(fX,null),d={rendererFactory:c,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:a.get(pf,null),changeDetectionScheduler:a.get(_E,null)},p=c.createRenderer(null,this.componentDef),g=this.componentDef.selectors[0][0]||"div",m=r?function tW(e,t,n,r){const s=r.get(dR,!1)||n===Mr.ShadowDom,i=e.selectRootElement(t,s);return function nW(e){rO(e)}(i),i}(p,r,this.componentDef.encapsulation,a):Up(p,g,function SX(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(g));let y=512;this.componentDef.signals?y|=4096:this.componentDef.onPush||(y|=16);let b=null;null!==m&&(b=kb(m,a,!0));const S=rE(0,null,null,1,0,null,null,null,null,null,null),R=zp(null,S,null,y,null,null,d,p,a,null,b);let L,V;ib(R);try{const fe=this.componentDef;let Qe,Je=null;fe.findHostDirectiveDefs?(Qe=[],Je=new Map,fe.findHostDirectiveDefs(fe,Qe,Je),Qe.push(fe)):Qe=[fe];const w=function CX(e,t){const n=e[x],r=ne;return e[r]=t,_c(n,r,2,"#host",null)}(R,m),sr=function DX(e,t,n,r,o,s,i){const a=o[x];!function IX(e,t,n,r){for(const o of e)t.mergedAttrs=Ru(t.mergedAttrs,o.hostAttrs);null!==t.mergedAttrs&&(rg(t,t.mergedAttrs,!0),null!==n&&JR(r,n,t))}(r,e,t,i);let c=null;null!==t&&(c=kb(t,o[Et]));const l=s.rendererFactory.createRenderer(t,n);let u=16;n.signals?u=4096:n.onPush&&(u=64);const f=zp(o,nO(n),null,u,o[e.index],e,s,l,null,null,c);return a.firstCreatePass&&sE(a,e,r.length-1),Wp(o,f),o[e.index]=f}(w,m,fe,Qe,R,d,p);V=Pu(S,ne),m&&function TX(e,t,n,r){if(r)kv(e,n,["ng-version","17.3.12"]);else{const{attrs:o,classes:s}=function K3(e){const t=[],n=[];let r=1,o=2;for(;r<e.length;){let s=e[r];if("string"==typeof s)2===o?""!==s&&t.push(s,e[++r]):8===o&&n.push(s);else{if(!Rr(o))break;o=s}r++}return{attrs:t,classes:n}}(t.selectors[0]);o&&kv(e,n,o),s&&s.length>0&&QR(e,n,s.join(" "))}}(p,fe,m,r),void 0!==n&&function RX(e,t,n){const r=e.projection=[];for(let o=0;o<t.length;o++){const s=n[o];r.push(null!=s?Array.from(s):null)}}(V,this.ngContentSelectors,n),L=function MX(e,t,n,r,o,s){const i=Ne(),a=o[x],c=mn(i,o);iO(a,o,i,n,null,r);for(let u=0;u<n.length;u++)cn(Ri(o,a,i.directiveStart+u,i),o);aO(a,o,i),c&&cn(c,o);const l=Ri(o,a,i.directiveStart+i.componentOffset,i);if(e[ze]=o[ze]=l,null!==s)for(const u of s)u(l,t);return eE(a,i,o),l}(sr,fe,Qe,Je,R,[OX]),lE(S,R,null)}finally{ab()}return new wX(this.componentType,L,uc(V,R),R,V)}finally{ce(s)}}}class wX extends aX{constructor(t,n,r,o,s){super(),this.location=r,this._rootLView=o,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new lf(o,void 0,!1),this.componentType=t}setInput(t,n){const r=this._tNode.inputs;let o;if(null!==r&&(o=r[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;const s=this._rootLView;cE(s[x],s,o,t,n),this.previousInputValues.set(t,n),cf($n(this._tNode.index,s))}}get injector(){return new At(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function OX(){const e=Ne();mp(C()[x],e)}let Fr=(()=>{class e{static{this.__NG_ELEMENT_ID__=kX}}return e})();function kX(){return function HO(e,t){let n;const r=t[e.index];return sn(r)?n=r:(n=cO(r,t,null,e),t[e.index]=n,Wp(t,n)),qO(n,t,e,r),new VO(n,e,t)}(Ne(),C())}const AX=Fr,VO=class extends AX{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return uc(this._hostTNode,this._hostLView)}get injector(){return new At(this._hostTNode,this._hostLView)}get parentInjector(){const t=Ep(this._hostTNode,this._hostLView);if(ub(t)){const n=$u(t,this._hostLView),r=Vu(t);return new At(n[x].data[r+8],n)}return new At(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=$O(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-pt}createEmbeddedView(t,n,r){let o,s;"number"==typeof r?o=r:null!=r&&(o=r.index,s=r.injector);const a=t.createEmbeddedViewImpl(n||{},s,null);return this.insertImpl(a,o,yc(this._hostTNode,null)),a}createComponent(t,n,r,o,s){const i=t&&!function Ou(e){return"function"==typeof e}(t);let a;if(i)a=n;else{const g=n||{};a=g.index,r=g.injector,o=g.projectableNodes,s=g.environmentInjector||g.ngModuleRef}const c=i?t:new _f(de(t)),l=r||this.parentInjector;if(!s&&null==c.ngModule){const m=(i?l:this.parentInjector).get(Un,null);m&&(s=m)}de(c.componentType??{});const p=c.create(l,o,null,s);return this.insertImpl(p.hostView,a,yc(this._hostTNode,null)),p}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,r){const o=t._lView;if(function Rq(e){return sn(e[ht])}(o)){const a=this.indexOf(t);if(-1!==a)this.detach(a);else{const c=o[ht],l=new VO(c,c[rn],c[ht]);l.detach(l.indexOf(t))}}const s=this._adjustIndex(n),i=this._lContainer;return sf(i,o,s,r),t.attachToViewContainerRef(),M0(CE(i),s,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=$O(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),r=Zu(this._lContainer,n);r&&(tp(CE(this._lContainer),n),Vp(r[x],r))}detach(t){const n=this._adjustIndex(t,-1),r=Zu(this._lContainer,n);return r&&null!=tp(CE(this._lContainer),n)?new lf(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function $O(e){return e[8]}function CE(e){return e[8]||(e[8]=[])}let qO=function WO(e,t,n,r){if(e[Gr])return;let o;o=8&n.type?Pe(r):function xX(e,t){const n=e[K],r=n.createComment(""),o=mn(t,e);return Oi(n,$p(n,o),r,function X4(e,t){return e.nextSibling(t)}(n,o),!1),r}(t,n),e[Gr]=o},DE=()=>!1;function NE(e){let t=function hk(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const r=[e];for(;t;){let o;if(Ar(e))o=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new k(903,!1);o=t.\u0275dir}if(o){if(n){r.push(o);const i=e;i.inputs=ig(e.inputs),i.inputTransforms=ig(e.inputTransforms),i.declaredInputs=ig(e.declaredInputs),i.outputs=ig(e.outputs);const a=o.hostBindings;a&&rG(e,a);const c=o.viewQuery,l=o.contentQueries;if(c&&tG(e,c),l&&nG(e,l),ZX(e,o),p3(e.outputs,o.outputs),Ar(o)&&o.data.animation){const u=e.data;u.animation=(u.animation||[]).concat(o.data.animation)}}const s=o.features;if(s)for(let i=0;i<s.length;i++){const a=s[i];a&&a.ngInherit&&a(e),a===NE&&(n=!1)}}t=Object.getPrototypeOf(t)}!function eG(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){const o=e[r];o.hostVars=t+=o.hostVars,o.hostAttrs=Ru(o.hostAttrs,n=Ru(n,o.hostAttrs))}}(r)}function ZX(e,t){for(const n in t.inputs){if(!t.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;const r=t.inputs[n];if(void 0!==r&&(e.inputs[n]=r,e.declaredInputs[n]=t.declaredInputs[n],null!==t.inputTransforms)){const o=Array.isArray(r)?r[0]:r;if(!t.inputTransforms.hasOwnProperty(o))continue;e.inputTransforms??={},e.inputTransforms[o]=t.inputTransforms[o]}}}function ig(e){return e===Xr?{}:e===Se?[]:e}function tG(e,t){const n=e.viewQuery;e.viewQuery=n?(r,o)=>{t(r,o),n(r,o)}:t}function nG(e,t){const n=e.contentQueries;e.contentQueries=n?(r,o,s)=>{t(r,o,s),n(r,o,s)}:t}function rG(e,t){const n=e.hostBindings;e.hostBindings=n?(r,o)=>{t(r,o),n(r,o)}:t}class Ai{}class yk{}class FE extends Ai{constructor(t,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new BO(this);const o=nn(t);this._bootstrapComponents=qn(o.bootstrap),this._r3Injector=PT(t,n,[{provide:Ai,useValue:this},{provide:eg,useValue:this.componentFactoryResolver},...r],Rt(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class PE extends yk{constructor(t){super(),this.moduleType=t}create(t){return new FE(this.moduleType,t,[])}}class vk extends Ai{constructor(t){super(),this.componentFactoryResolver=new BO(this),this.instance=null;const n=new Qa([...t.providers,{provide:Ai,useValue:this},{provide:eg,useValue:this.componentFactoryResolver}],t.parent||cp(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function LE(e,t,n=null){return new vk({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}let Rs=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Mn(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function cg(e){return!!function jE(e){return null!==e&&("function"==typeof e||"object"==typeof e)}(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function gt(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function Yt(e,t,n,r,o,s,i,a){const c=C(),l=pe(),u=e+ne,f=l.firstCreatePass?function mG(e,t,n,r,o,s,i,a,c){const l=t.consts,u=_c(t,e,4,i||null,Yr(l,a));oE(t,n,u,Yr(l,c)),mp(t,u);const f=u.tView=rE(2,u,r,o,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,l,null);return null!==t.queries&&(t.queries.template(t,u),f.queries=t.queries.embeddedTView(u)),u}(u,l,c,t,n,r,o,s,i):l.data[u];Qr(f,!1);const d=bk(l,c,f,e);Bu()&&Hp(l,c,d,f),cn(d,c);const p=cO(d,c,d,f);return c[u]=p,Wp(c,p),function zO(e,t,n){return DE(e,t,n)}(p,f,c),hp(f)&&tE(l,c,f),null!=i&&nE(c,f,a),Yt}let bk=function Ek(e,t,n,r){return Jr(!0),t[K].createComment("")};function Cf(e,t,n,r){const o=C();return gt(o,xr(),t)&&(pe(),to(We(),o,e,t,n,r)),Cf}function gg(e,t){return e<<17|t<<2}function ks(e){return e>>17&32767}function GE(e){return 2|e}function Fi(e){return(131068&e)>>2}function KE(e,t){return-131069&e|t<<2}function YE(e){return 1|e}function Jk(e,t,n,r){const o=e[n+1],s=null===t;let i=r?ks(o):Fi(o),a=!1;for(;0!==i&&(!1===a||s);){const l=e[i+1];n8(e[i],t)&&(a=!0,e[i+1]=r?YE(l):GE(l)),i=r?ks(l):Fi(l)}a&&(e[n+1]=r?GE(o):YE(o))}function n8(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&Ka(e,t)>=0}function ut(e,t,n){const r=C();return gt(r,xr(),t)&&function An(e,t,n,r,o,s,i,a){const c=mn(t,n);let u,l=t.inputs;!a&&null!=l&&(u=l[r])?(cE(e,n,u,r,o),Di(t)&&function lW(e,t){const n=$n(t,e);16&n[$]||(n[$]|=64)}(n,t.index)):3&t.type&&(r=function cW(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),o=null!=i?i(o,t.value||"",r):o,s.setProperty(c,r,o))}(pe(),We(),r,e,t,r[K],n,!1),ut}function QE(e,t,n,r,o){const i=o?"class":"style";cE(e,n,t.inputs[i],i,r)}function As(e,t,n){return Pr(e,t,n,!1),As}function mg(e,t){return Pr(e,t,null,!0),mg}function Pr(e,t,n,r){const o=C(),s=pe(),i=function xo(e){const t=Y.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}(2);s.firstUpdatePass&&function iA(e,t,n,r){const o=e.data;if(null===o[n+1]){const s=o[an()],i=function sA(e,t){return t>=e.expandoStartIndex}(e,n);(function uA(e,t){return!!(e.flags&(t?8:16))})(s,r)&&null===t&&!i&&(t=!1),t=function f8(e,t,n,r){const o=function ob(e){const t=Y.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let s=r?t.residualClasses:t.residualStyles;if(null===o)0===(r?t.classBindings:t.styleBindings)&&(n=Df(n=JE(null,e,t,n,r),t.attrs,r),s=null);else{const i=t.directiveStylingLast;if(-1===i||e[i]!==o)if(n=JE(o,e,t,n,r),null===s){let c=function d8(e,t,n){const r=n?t.classBindings:t.styleBindings;if(0!==Fi(r))return e[ks(r)]}(e,t,r);void 0!==c&&Array.isArray(c)&&(c=JE(null,e,t,c[1],r),c=Df(c,t.attrs,r),function h8(e,t,n,r){e[ks(n?t.classBindings:t.styleBindings)]=r}(e,t,r,c))}else s=function p8(e,t,n){let r;const o=t.directiveEnd;for(let s=1+t.directiveStylingLast;s<o;s++)r=Df(r,e[s].hostAttrs,n);return Df(r,t.attrs,n)}(e,t,r)}return void 0!==s&&(r?t.residualClasses=s:t.residualStyles=s),n}(o,s,t,r),function e8(e,t,n,r,o,s){let i=s?t.classBindings:t.styleBindings,a=ks(i),c=Fi(i);e[r]=n;let u,l=!1;if(Array.isArray(n)?(u=n[1],(null===u||Ka(n,u)>0)&&(l=!0)):u=n,o)if(0!==c){const d=ks(e[a+1]);e[r+1]=gg(d,a),0!==d&&(e[d+1]=KE(e[d+1],r)),e[a+1]=function JG(e,t){return 131071&e|t<<17}(e[a+1],r)}else e[r+1]=gg(a,0),0!==a&&(e[a+1]=KE(e[a+1],r)),a=r;else e[r+1]=gg(c,0),0===a?a=r:e[c+1]=KE(e[c+1],r),c=r;l&&(e[r+1]=GE(e[r+1])),Jk(e,u,r,!0),Jk(e,u,r,!1),function t8(e,t,n,r,o){const s=o?e.residualClasses:e.residualStyles;null!=s&&"string"==typeof t&&Ka(s,t)>=0&&(n[r+1]=YE(n[r+1]))}(t,u,e,r,s),i=gg(a,c),s?t.classBindings=i:t.styleBindings=i}(o,s,t,n,i,r)}}(s,e,i,r),t!==re&&gt(o,i,t)&&function cA(e,t,n,r,o,s,i,a){if(!(3&t.type))return;const c=e.data,l=c[a+1],u=function ZG(e){return!(1&~e)}(l)?lA(c,t,n,o,Fi(l),i):void 0;_g(u)||(_g(s)||function QG(e){return!(2&~e)}(l)&&(s=lA(c,null,n,o,a,i)),function Y4(e,t,n,r,o){if(t)o?e.addClass(n,r):e.removeClass(n,r);else{let s=-1===r.indexOf("-")?void 0:Is.DashCase;null==o?e.removeStyle(n,r,s):("string"==typeof o&&o.endsWith("!important")&&(o=o.slice(0,-10),s|=Is.Important),e.setStyle(n,r,o,s))}}(r,i,Fu(an(),n),o,s))}(s,s.data[an()],o,o[K],e,o[i+1]=function y8(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=Rt(function Ds(e){return e instanceof _R?e.changingThisBreaksApplicationSecurity:e}(e)))),e}(t,n),r,i)}function JE(e,t,n,r,o){let s=null;const i=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<i&&(s=t[a],r=Df(r,s.hostAttrs,o),s!==e);)a++;return null!==e&&(n.directiveStylingLast=a),r}function Df(e,t,n){const r=n?1:2;let o=-1;if(null!==t)for(let s=0;s<t.length;s++){const i=t[s];"number"==typeof i?o=i:o===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Bn(e,i,!!n||t[++s]))}return void 0===e?null:e}function lA(e,t,n,r,o,s){const i=null===t;let a;for(;o>0;){const c=e[o],l=Array.isArray(c),u=l?c[1]:c,f=null===u;let d=n[o+1];d===re&&(d=f?Se:void 0);let p=f?Rv(d,r):u===r?d:void 0;if(l&&!_g(p)&&(p=Rv(c,r)),_g(p)&&(a=p,i))return a;const g=e[o+1];o=i?ks(g):Fi(g)}if(null!==t){let c=s?t.residualClasses:t.residualStyles;null!=c&&(a=Rv(c,r))}return a}function _g(e){return void 0!==e}function Fe(e,t,n,r){const o=C(),s=pe(),i=ne+e,a=o[K],c=s.firstCreatePass?function V8(e,t,n,r,o,s){const i=t.consts,c=_c(t,e,2,r,Yr(i,o));return oE(t,n,c,Yr(i,s)),null!==c.attrs&&rg(c,c.attrs,!1),null!==c.mergedAttrs&&rg(c,c.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,c),c}(i,s,o,t,n,r):s.data[i],l=pA(s,o,c,a,t,e);o[i]=l;const u=hp(c);return Qr(c,!0),JR(a,l,c),!function bf(e){return!(32&~e.flags)}(c)&&Bu()&&Hp(s,o,l,c),0===function kq(){return Y.lFrame.elementDepthCount}()&&cn(l,o),function Aq(){Y.lFrame.elementDepthCount++}(),u&&(tE(s,o,c),eE(s,c,o)),null!==r&&nE(o,c),Fe}function Ie(){let e=Ne();tb()?nb():(e=e.parent,Qr(e,!1));const t=e;(function Nq(e){return Y.skipHydrationRootTNode===e})(t)&&function jq(){Y.skipHydrationRootTNode=null}(),function xq(){Y.lFrame.elementDepthCount--}();const n=pe();return n.firstCreatePass&&(mp(n,e),Hv(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function Zq(e){return!!(8&e.flags)}(t)&&QE(n,t,C(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function ez(e){return!!(16&e.flags)}(t)&&QE(n,t,C(),t.stylesWithoutHost,!1),Ie}function vn(e,t,n,r){return Fe(e,t,n,r),Ie(),vn}let pA=(e,t,n,r,o,s)=>(Jr(!0),Up(r,o,function _T(){return Y.lFrame.currentNamespace}()));function xs(e,t,n){const r=C(),o=pe(),s=e+ne,i=o.firstCreatePass?function q8(e,t,n,r,o){const s=t.consts,i=Yr(s,r),a=_c(t,e,8,"ng-container",i);return null!==i&&rg(a,i,!0),oE(t,n,a,Yr(s,o)),null!==t.queries&&t.queries.elementStart(t,a),a}(s,o,r,t,n):o.data[s];Qr(i,!0);const a=mA(o,r,i,e);return r[s]=a,Bu()&&Hp(o,r,a,i),cn(a,r),hp(i)&&(tE(o,r,i),eE(o,i,r)),null!=n&&nE(r,i),xs}function Ns(){let e=Ne();const t=pe();return tb()?nb():(e=e.parent,Qr(e,!1)),t.firstCreatePass&&(mp(t,e),Hv(e)&&t.queries.elementEnd(e)),Ns}let mA=(e,t,n,r)=>(Jr(!0),Xb(t[K],""));function rS(){return C()}const jc="en-US";let EA=jc;function Fs(e,t,n,r){const o=C(),s=pe(),i=Ne();return function iS(e,t,n,r,o,s,i){const a=hp(r),l=e.firstCreatePass&&function fO(e){return e.cleanup||(e.cleanup=[])}(e),u=t[ze],f=function uO(e){return e[ec]||(e[ec]=[])}(t);let d=!0;if(3&r.type||i){const m=mn(r,t),y=i?i(m):m,b=f.length,S=i?L=>i(Pe(L[r.index])):r.index;let R=null;if(!i&&a&&(R=function z5(e,t,n,r){const o=e.cleanup;if(null!=o)for(let s=0;s<o.length-1;s+=2){const i=o[s];if(i===n&&o[s+1]===r){const a=t[ec],c=o[s+2];return a.length>c?a[c]:null}"string"==typeof i&&(s+=2)}return null}(e,t,o,r.index)),null!==R)(R.__ngLastListenerFn__||R).__ngNextListenerFn__=s,R.__ngLastListenerFn__=s,d=!1;else{s=YA(r,t,u,s,!1);const L=n.listen(y,o,s);f.push(s,L),l&&l.push(o,S,b,b+1)}}else s=YA(r,t,u,s,!1);const p=r.outputs;let g;if(d&&null!==p&&(g=p[o])){const m=g.length;if(m)for(let y=0;y<m;y+=2){const V=t[g[y]][g[y+1]].subscribe(s),fe=f.length;f.push(s,V),l&&l.push(o,r.index,fe,-(fe+1))}}}(s,o,o[K],i,e,t,r),Fs}function KA(e,t,n,r){const o=ce(null);try{return Kr(6,t,n),!1!==n(r)}catch(s){return Xp(e,s),!1}finally{Kr(7,t,n),ce(o)}}function YA(e,t,n,r,o){return function s(i){if(i===Function)return r;cf(e.componentOffset>-1?$n(e.index,t):t);let c=KA(t,n,r,i),l=s.__ngNextListenerFn__;for(;l;)c=KA(t,n,l,i)&&c,l=l.__ngNextListenerFn__;return o&&!1===c&&i.preventDefault(),c}}function Nt(e=1){return function qq(e){return(Y.lFrame.contextLView=function sT(e,t){for(;e>0;)t=t[tc],e--;return t}(e,Y.lFrame.contextLView))[ze]}(e)}function Qt(e,t=""){const n=C(),r=pe(),o=e+ne,s=r.firstCreatePass?_c(r,o,1,t,null):r.data[o],i=yx(r,n,s,t,e);n[o]=i,Bu()&&Hp(r,n,i,s),Qr(s,!1)}let yx=(e,t,n,r,o)=>(Jr(!0),function Wb(e,t){return e.createText(t)}(t[K],r));function Bc(e){return Li("",e,""),Bc}function Li(e,t,n){const r=C(),o=function Tc(e,t,n,r){return gt(e,xr(),n)?t+te(n)+r:re}(r,e,t,n);return o!==re&&function Po(e,t,n){const r=Fu(t,e);!function jR(e,t,n){e.setValue(t,n)}(e[K],r,n)}(r,an(),o),Li}let y6=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=xv(0,n.type),o=r.length>0?LE([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,o)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=P({token:e,providedIn:"environment",factory:()=>new e(j(Un))})}}return e})();function Af(e){(function no(e){RO.has(e)||(RO.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))})("NgStandalone"),e.getStandaloneInjector=t=>t.get(y6).getOrCreateStandaloneInjector(e)}function dS(e,t,n,r){return kx(C(),_n(),e,t,n,r)}function kx(e,t,n,r,o,s){const i=t+n;return gt(e,i,o)?function ro(e,t,n){return e[t]=n}(e,i+1,s?r.call(s,o):r(o)):function xf(e,t){const n=e[t];return n===re?void 0:n}(e,i+1)}function hS(e,t){const n=pe();let r;const o=e+ne;n.firstCreatePass?(r=function O6(e,t){if(t)for(let n=t.length-1;n>=0;n--){const r=t[n];if(e===r.name)return r}}(t,n.pipeRegistry),n.data[o]=r,r.onDestroy&&(n.destroyHooks??=[]).push(o,r.onDestroy)):r=n.data[o];const s=r.factory||(r.factory=bi(r.type)),a=Tn(H);try{const c=vp(!1),l=s();return vp(c),function Z5(e,t,n,r){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=r}(n,C(),o,l),l}finally{Tn(a)}}function pS(e,t,n){const r=e+ne,o=C(),s=function oc(e,t){return e[t]}(o,r);return function Nf(e,t){return e[x].data[t].pure}(o,r)?kx(o,_n(),t,s.transform,n,s):s.transform(n)}let Qx=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();const nN=new F(""),Ig=new F("");let SS,bS=(()=>{class e{constructor(n,r,o){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,SS||(function T7(e){SS=e}(o),o.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ae.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb()}});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,o){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(i=>i.timeoutId!==s),n()},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:o})}whenStable(n,r,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,o),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,o){return[]}static{this.\u0275fac=function(r){return new(r||e)(j(Ae),j(ES),j(Ig))}}static{this.\u0275prov=P({token:e,factory:e.\u0275fac})}}return e})(),ES=(()=>{class e{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return SS?.findTestabilityInTree(this,n,r)??null}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();function Mg(e){return!!e&&"function"==typeof e.then}function rN(e){return!!e&&"function"==typeof e.subscribe}const R7=new F("");let wS=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=A(R7,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const o of this.appInits){const s=o();if(Mg(s))n.push(s);else if(rN(s)){const i=new Promise((a,c)=>{s.subscribe({complete:a,error:c})});n.push(i)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(o=>{this.reject(o)}),0===n.length&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const CS=new F("");function iN(e,t){return Array.isArray(t)?t.reduce(iN,e):{...e,...t}}let Ps=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=A(jT),this.afterRenderEffectManager=A(pf),this.externalTestViews=new Set,this.beforeRender=new Vt,this.afterTick=new Vt,this.componentTypes=[],this.components=[],this.isStable=A(Rs).hasPendingTasks.pipe(le(n=>!n)),this._injector=A(Un)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const o=n instanceof IO;if(!this._injector.get(wS).done)throw!o&&function Es(e){const t=de(e)||Ot(e)||Kt(e);return null!==t&&t.standalone}(n),new k(405,!1);let i;i=o?n:this._injector.get(eg).resolveComponentFactory(n),this.componentTypes.push(i.componentType);const a=function O7(e){return e.isBoundToModule}(i)?void 0:this._injector.get(Ai),l=i.create(Hn.NULL,[],r||i.selector,a),u=l.location.nativeElement,f=l.injector.get(nN,null);return f?.registerApplication(u),l.onDestroy(()=>{this.detachView(l.hostView),Tg(this.components,l),f?.unregisterApplication(u)}),this._loadComponent(l),l}tick(){this._tick(!0)}_tick(n){if(this._runningTick)throw new k(101,!1);const r=ce(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(n)}catch(o){this.internalErrorHandler(o)}finally{this.afterTick.next(),this._runningTick=!1,ce(r)}}detectChangesInAttachedViews(n){let r=0;const o=this.afterRenderEffectManager;for(;;){if(r===mO)throw new k(103,!1);if(n){const s=0===r;this.beforeRender.next(s);for(let{_lView:i,notifyErrorHandler:a}of this._views)A7(i,s,a)}if(r++,o.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>DS(s))&&(o.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>DS(s))))break}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;Tg(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(CS,[]);[...this._bootstrapListeners,...r].forEach(o=>o(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Tg(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new k(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Tg(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}function A7(e,t,n){!t&&!DS(e)||function x7(e,t,n){let r;n?(r=0,e[$]|=1024):r=64&e[$]?0:1,Gp(e,t,r)}(e,n,t)}function DS(e){return Yv(e)}class N7{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let F7=(()=>{class e{compileModuleSync(n){return new PE(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),s=qn(nn(n).declarations).reduce((i,a)=>{const c=de(a);return c&&i.push(new _f(c)),i},[]);return new N7(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),j7=(()=>{class e{constructor(){this.zone=A(Ae),this.applicationRef=A(Ps)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function B7(){const e=A(Ae),t=A(eo);return n=>e.runOutsideAngular(()=>t.handleError(n))}let V7=(()=>{class e{constructor(){this.subscription=new pn,this.initialized=!1,this.zone=A(Ae),this.pendingTasks=A(Rs)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ae.assertNotInAngularZone(),queueMicrotask(()=>{null!==n&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ae.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const jo=new F("",{providedIn:"root",factory:()=>A(jo,he.Optional|he.SkipSelf)||function $7(){return typeof $localize<"u"&&$localize.locale||jc}()}),IS=new F("");let uN=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const o=function _X(e="zone.js",t){return"noop"===e?new xO:"zone.js"===e?new Ae(t):e}(r?.ngZone,function lN(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return o.run(()=>{const s=function uG(e,t,n){return new FE(e,t,n)}(n.moduleType,this.injector,function cN(e){return[{provide:Ae,useFactory:e},{provide:Ei,multi:!0,useFactory:()=>{const t=A(j7,{optional:!0});return()=>t.initialize()}},{provide:Ei,multi:!0,useFactory:()=>{const t=A(V7);return()=>{t.initialize()}}},{provide:jT,useFactory:B7}]}(()=>o)),i=s.injector.get(eo,null);return o.runOutsideAngular(()=>{const a=o.onError.subscribe({next:c=>{i.handleError(c)}});s.onDestroy(()=>{Tg(this._modules,s),a.unsubscribe()})}),function sN(e,t,n){try{const r=n();return Mg(r)?r.catch(o=>{throw t.runOutsideAngular(()=>e.handleError(o)),o}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(i,o,()=>{const a=s.injector.get(wS);return a.runInitializers(),a.donePromise.then(()=>(function SA(e){"string"==typeof e&&(EA=e.toLowerCase().replace(/_/g,"-"))}(s.injector.get(jo,jc)||jc),this._moduleDoBootstrap(s),s))})})}bootstrapModule(n,r=[]){const o=iN({},r);return function L7(e,t,n){const r=new PE(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,o))}_moduleDoBootstrap(n){const r=n.injector.get(Ps);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(o=>r.bootstrap(o));else{if(!n.instance.ngDoBootstrap)throw new k(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new k(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(IS,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(r){return new(r||e)(j(Hn))}}static{this.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})(),Ls=null;const fN=new F("");function dN(e,t,n=[]){const r=`Platform: ${t}`,o=new F(r);return(s=[])=>{let i=MS();if(!i||i.injector.get(fN,!1)){const a=[...n,...s,{provide:o,useValue:!0}];e?e(a):function z7(e){if(Ls&&!Ls.get(fN,!1))throw new k(400,!1);(function oN(){!function YH(e){n0=e}(()=>{throw new k(600,!1)})})(),Ls=e;const t=e.get(uN);(function pN(e){e.get(iR,null)?.forEach(n=>n())})(e)}(function hN(e=[],t){return Hn.create({name:t,providers:[{provide:Pv,useValue:"platform"},{provide:IS,useValue:new Set([()=>Ls=null])},...e]})}(a,r))}return function W7(e){const t=MS();if(!t)throw new k(401,!1);return t}()}}function MS(){return Ls?.get(uN)??null}let Og=(()=>{class e{static{this.__NG_ELEMENT_ID__=G7}}return e})();function G7(e){return function K7(e,t,n){if(Di(e)&&!n){const r=$n(e.index,t);return new lf(r,r)}return 47&e.type?new lf(t[at],t):null}(Ne(),C(),!(16&~e))}class vN{constructor(){}supports(t){return cg(t)}create(t){return new e9(t)}}const Z7=(e,t)=>t;class e9{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Z7}forEachItem(t){let n;for(n=this._itHead;null!==n;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,o=0,s=null;for(;n||r;){const i=!r||n&&n.currentIndex<EN(r,o,s)?n:r,a=EN(i,o,s),c=i.currentIndex;if(i===r)o--,r=r._nextRemoved;else if(n=n._next,null==i.previousIndex)o++;else{s||(s=[]);const l=a-o,u=c-o;if(l!=u){for(let d=0;d<l;d++){const p=d<s.length?s[d]:s[d]=0,g=p+d;u<=g&&g<l&&(s[d]=p+1)}s[i.previousIndex]=u-l}}a!==c&&t(i,a,c)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)t(n)}diff(t){if(null==t&&(t=[]),!cg(t))throw new k(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let o,s,i,n=this._itHead,r=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)s=t[a],i=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,i)?(r&&(n=this._verifyReinsertion(n,s,i,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,i,a),r=!0),n=n._next}else o=0,function pG(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Symbol.iterator]();let r;for(;!(r=n.next()).done;)t(r.value)}}(t,a=>{i=this._trackByFn(o,a),null!==n&&Object.is(n.trackById,i)?(r&&(n=this._verifyReinsertion(n,a,i,o)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,i,o),r=!0),n=n._next,o++}),this.length=o;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,o){let s;return null===t?s=this._itTail:(s=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,s,o)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(r,o))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,s,o)):t=this._addAfter(new t9(n,r),s,o),t}_verifyReinsertion(t,n,r,o){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?t=this._reinsertAfter(s,t._prev,o):t.currentIndex!=o&&(t.currentIndex=o,this._addToMoves(t,o)),t}_truncate(t){for(;null!==t;){const n=t._next;this._addToRemovals(this._unlink(t)),t=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const o=t._prevRemoved,s=t._nextRemoved;return null===o?this._removalsHead=s:o._nextRemoved=s,null===s?this._removalsTail=o:s._prevRemoved=o,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){const o=null===n?this._itHead:n._next;return t._next=o,t._prev=n,null===o?this._itTail=t:o._prev=t,null===n?this._itHead=t:n._next=t,null===this._linkedRecords&&(this._linkedRecords=new bN),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const n=t._prev,r=t._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new bN),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class t9{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class n9{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){const n=t._prevDup,r=t._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class bN{constructor(){this.map=new Map}put(t){const n=t.trackById;let r=this.map.get(n);r||(r=new n9,this.map.set(n,r)),r.add(t)}get(t,n){const o=this.map.get(t);return o?o.get(t,n):null}remove(t){const n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function EN(e,t,n){const r=e.previousIndex;if(null===r)return r;let o=0;return n&&r<n.length&&(o=n[r]),r+t+o}function wN(){return new AS([new vN])}let AS=(()=>{class e{static{this.\u0275prov=P({token:e,providedIn:"root",factory:wN})}constructor(n){this.factories=n}static create(n,r){if(null!=r){const o=r.factories.slice();n=n.concat(o)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||wN()),deps:[[e,new Mv,new Iv]]}}find(n){const r=this.factories.find(o=>o.supports(n));if(null!=r)return r;throw new k(901,!1)}}return e})();const a9=dN(null,"core",[]);let c9=(()=>{class e{constructor(n){}static{this.\u0275fac=function(r){return new(r||e)(j(Ps))}}static{this.\u0275mod=bs({type:e})}static{this.\u0275inj=To({})}}return e})();function WN(e){const t=ce(null);try{return e()}finally{ce(t)}}let XN=null;function Hc(){return XN}class q9{}const cr=new F("");let GN=(()=>{class e{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=P({token:e,factory:()=>A(z9),providedIn:"platform"})}}return e})(),z9=(()=>{class e extends GN{constructor(){super(),this._doc=A(cr),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Hc().getBaseHref(this._doc)}onPopState(n){const r=Hc().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=Hc().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,o){this._history.pushState(n,r,o)}replaceState(n,r,o){this._history.replaceState(n,r,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=P({token:e,factory:()=>new e,providedIn:"platform"})}}return e})();function KN(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function YN(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function Bi(e){return e&&"?"!==e[0]?"?"+e:e}let Bg=(()=>{class e{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=P({token:e,factory:()=>A(X9),providedIn:"root"})}}return e})();const W9=new F("");let X9=(()=>{class e extends Bg{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??A(cr).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return KN(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+Bi(this._platformLocation.search),o=this._platformLocation.hash;return o&&n?`${r}${o}`:r}pushState(n,r,o,s){const i=this.prepareExternalUrl(o+Bi(s));this._platformLocation.pushState(n,r,i)}replaceState(n,r,o,s){const i=this.prepareExternalUrl(o+Bi(s));this._platformLocation.replaceState(n,r,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||e)(j(GN),j(W9,8))}}static{this.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Bf=(()=>{class e{constructor(n){this._subject=new yn,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function Y9(e){if(new RegExp("^(https?:)?//").test(e)){const[,n]=e.split(/\/\/[^\/]+/);return n}return e}(YN(QN(r))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Bi(r))}normalize(n){return e.stripTrailingSlash(function K9(e,t){if(!e||!t.startsWith(e))return t;const n=t.substring(e.length);return""===n||["/",";","?","#"].includes(n[0])?n:t}(this._basePath,QN(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",o=null){this._locationStrategy.pushState(o,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Bi(r)),o)}replaceState(n,r="",o=null){this._locationStrategy.replaceState(o,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Bi(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(o=>o(n,r))}subscribe(n,r,o){return this._subject.subscribe({next:n,error:r,complete:o})}static{this.normalizeQueryParams=Bi}static{this.joinWithSlash=KN}static{this.stripTrailingSlash=YN}static{this.\u0275fac=function(r){return new(r||e)(j(Bg))}}static{this.\u0275prov=P({token:e,factory:()=>function G9(){return new Bf(j(Bg))}(),providedIn:"root"})}}return e})();function QN(e){return e.replace(/\/index.html$/,"")}function iF(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const r=n.indexOf("="),[o,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(o.trim()===t)return decodeURIComponent(s)}return null}const zS=/\s+/,aF=[];let cF=(()=>{class e{constructor(n,r){this._ngEl=n,this._renderer=r,this.initialClasses=aF,this.stateMap=new Map}set klass(n){this.initialClasses=null!=n?n.trim().split(zS):aF}set ngClass(n){this.rawClass="string"==typeof n?n.trim().split(zS):n}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(const r of n)this._updateState(r,!0);else if(null!=n)for(const r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){const o=this.stateMap.get(n);void 0!==o?(o.enabled!==r&&(o.changed=!0,o.enabled=r),o.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const n of this.stateMap){const r=n[0],o=n[1];o.changed?(this._toggleClass(r,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),o.touched=!1}}_toggleClass(n,r){(n=n.trim()).length>0&&n.split(zS).forEach(o=>{r?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}static{this.\u0275fac=function(r){return new(r||e)(H(ws),H(tg))}}static{this.\u0275dir=gn({type:e,selectors:[["","ngClass",""]],inputs:{klass:[Tr.None,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return e})();class FK{constructor(t,n,r,o){this.$implicit=t,this.ngForOf=n,this.index=r,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let WS=(()=>{class e{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,o){this._viewContainer=n,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((o,s,i)=>{if(null==o.previousIndex)r.createEmbeddedView(this._template,new FK(o.item,this._ngForOf,-1,-1),null===i?void 0:i);else if(null==i)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,i),uF(a,o)}});for(let o=0,s=r.length;o<s;o++){const a=r.get(o).context;a.index=o,a.count=s,a.ngForOf=this._ngForOf}n.forEachIdentityChange(o=>{uF(r.get(o.currentIndex),o)})}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||e)(H(Fr),H(Lo),H(AS))}}static{this.\u0275dir=gn({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return e})();function uF(e,t){e.context.$implicit=t.item}let Qg=(()=>{class e{constructor(n,r){this._viewContainer=n,this._context=new PK,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){fF("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){fF("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||e)(H(Fr),H(Lo))}}static{this.\u0275dir=gn({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return e})();class PK{constructor(){this.$implicit=null,this.ngIf=null}}function fF(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${Rt(t)}'.`)}class UK{createSubscription(t,n){return WN(()=>t.subscribe({next:n,error:r=>{throw r}}))}dispose(t){WN(()=>t.unsubscribe())}}class VK{createSubscription(t,n){return t.then(n,r=>{throw r})}dispose(t){}}const $K=new VK,HK=new UK;let KS=(()=>{class e{constructor(n){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){if(!this._obj){if(n)try{this.markForCheckOnValueUpdate=!1,this._subscribe(n)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,r=>this._updateLatestValue(n,r))}_selectStrategy(n){if(Mg(n))return $K;if(rN(n))return HK;throw function Br(e,t){return new k(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,r){n===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static{this.\u0275fac=function(r){return new(r||e)(H(Og,16))}}static{this.\u0275pipe=On({name:"async",type:e,pure:!1,standalone:!0})}}return e})(),pF=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=bs({type:e})}static{this.\u0275inj=To({})}}return e})();const gF="browser";function mF(e){return e===gF}function _F(e){return"server"===e}class Jg{}class jY extends q9{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ZS extends jY{static makeCurrent(){!function H9(e){XN??=e}(new ZS)}onAndCancel(t,n,r){return t.addEventListener(n,r),()=>{t.removeEventListener(n,r)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,n){return(n=n||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return"window"===n?window:"document"===n?t:"body"===n?t.body:null}getBaseHref(t){const n=function BY(){return Hf=Hf||document.querySelector("base"),Hf?Hf.getAttribute("href"):null}();return null==n?null:function UY(e){return new URL(e,document.baseURI).pathname}(n)}resetBaseElement(){Hf=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return iF(document.cookie,t)}}let Hf=null,$Y=(()=>{class e{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=P({token:e,factory:e.\u0275fac})}}return e})();const ew=new F("");let IF=(()=>{class e{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(o=>{o.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,o){return this._findPluginFor(r).addEventListener(n,r,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(s=>s.supports(n)),!r)throw new k(5101,!1);return this._eventNameToPlugin.set(n,r),r}static{this.\u0275fac=function(r){return new(r||e)(j(ew),j(Ae))}}static{this.\u0275prov=P({token:e,factory:e.\u0275fac})}}return e})();class MF{constructor(t){this._doc=t}}const tw="ng-app-id";let TF=(()=>{class e{constructor(n,r,o,s={}){this.doc=n,this.appId=r,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=_F(s),this.resetHostNodes()}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.elements?.forEach(o=>o.remove()),r.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${tw}="${this.appId}"]`);if(n?.length){const r=new Map;return n.forEach(o=>{null!=o.textContent&&r.set(o.textContent,o)}),r}return null}changeUsageCount(n,r){const o=this.styleRef;if(o.has(n)){const s=o.get(n);return s.usage+=r,s.usage}return o.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){const o=this.styleNodesInDOM,s=o?.get(r);if(s?.parentNode===n)return o.delete(r),s.removeAttribute(tw),s;{const i=this.doc.createElement("style");return this.nonce&&i.setAttribute("nonce",this.nonce),i.textContent=r,this.platformIsServer&&i.setAttribute(tw,this.appId),n.appendChild(i),i}}addStyleToHost(n,r){const o=this.getStyleElement(n,r),s=this.styleRef,i=s.get(r)?.elements;i?i.push(o):s.set(r,{elements:[o],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||e)(j(cr),j(Tp),j(wb,8),j(No))}}static{this.\u0275prov=P({token:e,factory:e.\u0275fac})}}return e})();const nw={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},rw=/%COMP%/g,WY=new F("",{providedIn:"root",factory:()=>!0});function OF(e,t){return t.map(n=>n.replace(rw,e))}let kF=(()=>{class e{constructor(n,r,o,s,i,a,c,l=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=i,this.platformId=a,this.ngZone=c,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=_F(a),this.defaultRenderer=new ow(n,i,c,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Mr.ShadowDom&&(r={...r,encapsulation:Mr.Emulated});const o=this.getOrCreateRenderer(n,r);return o instanceof xF?o.applyToHost(n):o instanceof sw&&o.applyStyles(),o}getOrCreateRenderer(n,r){const o=this.rendererByCompId;let s=o.get(r.id);if(!s){const i=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,f=this.platformIsServer;switch(r.encapsulation){case Mr.Emulated:s=new xF(c,l,r,this.appId,u,i,a,f);break;case Mr.ShadowDom:return new YY(c,l,n,r,i,a,this.nonce,f);default:s=new sw(c,l,r,u,i,a,f)}o.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||e)(j(IF),j(TF),j(Tp),j(WY),j(cr),j(No),j(Ae),j(wb))}}static{this.\u0275prov=P({token:e,factory:e.\u0275fac})}}return e})();class ow{constructor(t,n,r,o){this.eventManager=t,this.doc=n,this.ngZone=r,this.platformIsServer=o,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t,n){return n?this.doc.createElementNS(nw[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(AF(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(AF(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){t&&t.removeChild(n)}selectRootElement(t,n){let r="string"==typeof t?this.doc.querySelector(t):t;if(!r)throw new k(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,o){if(o){n=o+":"+n;const s=nw[o];s?t.setAttributeNS(s,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){const o=nw[r];o?t.removeAttributeNS(o,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,o){o&(Is.DashCase|Is.Important)?t.style.setProperty(n,r,o&Is.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&Is.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){null!=t&&(t[n]=r)}setValue(t,n){t.nodeValue=n}listen(t,n,r){if("string"==typeof t&&!(t=Hc().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${n}`);return this.eventManager.addEventListener(t,n,this.decoratePreventDefault(r))}decoratePreventDefault(t){return n=>{if("__ngUnwrap__"===n)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(n)):t(n))&&n.preventDefault()}}}function AF(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class YY extends ow{constructor(t,n,r,o,s,i,a,c){super(t,s,i,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=OF(o.id,o.styles);for(const u of l){const f=document.createElement("style");a&&f.setAttribute("nonce",a),f.textContent=u,this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(this.nodeOrShadowRoot(t),n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class sw extends ow{constructor(t,n,r,o,s,i,a,c){super(t,s,i,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=o,this.styles=c?OF(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class xF extends sw{constructor(t,n,r,o,s,i,a,c){const l=o+"-"+r.id;super(t,n,r,s,i,a,c,l),this.contentAttr=function XY(e){return"_ngcontent-%COMP%".replace(rw,e)}(l),this.hostAttr=function GY(e){return"_nghost-%COMP%".replace(rw,e)}(l)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){const r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}}let QY=(()=>{class e extends MF{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,o){return n.addEventListener(r,o,!1),()=>this.removeEventListener(n,r,o)}removeEventListener(n,r,o){return n.removeEventListener(r,o)}static{this.\u0275fac=function(r){return new(r||e)(j(cr))}}static{this.\u0275prov=P({token:e,factory:e.\u0275fac})}}return e})();const NF=["alt","control","meta","shift"],JY={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ZY={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let eQ=(()=>{class e extends MF{constructor(n){super(n)}supports(n){return null!=e.parseEventName(n)}addEventListener(n,r,o){const s=e.parseEventName(r),i=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Hc().onAndCancel(n,s.domEventName,i))}static parseEventName(n){const r=n.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const s=e._normalizeKey(r.pop());let i="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),i="code."),NF.forEach(l=>{const u=r.indexOf(l);u>-1&&(r.splice(u,1),i+=l+".")}),i+=s,0!=r.length||0===s.length)return null;const c={};return c.domEventName=o,c.fullKey=i,c}static matchEventFullKeyCode(n,r){let o=JY[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(o=n.code,s="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),NF.forEach(i=>{i!==o&&(0,ZY[i])(n)&&(s+=i+".")}),s+=o,s===r)}static eventCallback(n,r,o){return s=>{e.matchEventFullKeyCode(s,n)&&o.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}static{this.\u0275fac=function(r){return new(r||e)(j(cr))}}static{this.\u0275prov=P({token:e,factory:e.\u0275fac})}}return e})();const oQ=dN(a9,"browser",[{provide:No,useValue:gF},{provide:iR,useValue:function tQ(){ZS.makeCurrent()},multi:!0},{provide:cr,useFactory:function rQ(){return function Vz(e){Sb=e}(document),document},deps:[]}]),sQ=new F(""),LF=[{provide:Ig,useClass:class VY{addToWindow(t){ke.getAngularTestability=(r,o=!0)=>{const s=t.findTestabilityInTree(r,o);if(null==s)throw new k(5103,!1);return s},ke.getAllAngularTestabilities=()=>t.getAllTestabilities(),ke.getAllAngularRootElements=()=>t.getAllRootElements(),ke.frameworkStabilizers||(ke.frameworkStabilizers=[]),ke.frameworkStabilizers.push(r=>{const o=ke.getAllAngularTestabilities();let s=o.length;const i=function(){s--,0==s&&r()};o.forEach(a=>{a.whenStable(i)})})}findTestabilityInTree(t,n,r){return null==n?null:t.getTestability(n)??(r?Hc().isShadowRoot(n)?this.findTestabilityInTree(t,n.host,!0):this.findTestabilityInTree(t,n.parentElement,!0):null)}},deps:[]},{provide:nN,useClass:bS,deps:[Ae,ES,Ig]},{provide:bS,useClass:bS,deps:[Ae,ES,Ig]}],jF=[{provide:Pv,useValue:"root"},{provide:eo,useFactory:function nQ(){return new eo},deps:[]},{provide:ew,useClass:QY,multi:!0,deps:[cr,Ae,No]},{provide:ew,useClass:eQ,multi:!0,deps:[cr]},kF,TF,IF,{provide:TO,useExisting:kF},{provide:Jg,useClass:$Y,deps:[]},[]];let iQ=(()=>{class e{constructor(n){}static withServerTransition(n){return{ngModule:e,providers:[{provide:Tp,useValue:n.appId}]}}static{this.\u0275fac=function(r){return new(r||e)(j(sQ,12))}}static{this.\u0275mod=bs({type:e})}static{this.\u0275inj=To({providers:[...jF,...LF],imports:[pF,c9]})}}return e})(),aQ=(()=>{class e{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static{this.\u0275fac=function(r){return new(r||e)(j(cr))}}static{this.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function $F(e){return Array.isArray(e)?e:[e]}const{isArray:dQ}=Array,{getPrototypeOf:hQ,prototype:pQ,keys:gQ}=Object;function js(e){return this instanceof js?(this.v=e,this):new js(e)}function WF(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=e[Symbol.asyncIterator];return t?t.call(e):(e=function lw(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=e[s]&&function(i){return new Promise(function(a,c){!function o(s,i,a,c){Promise.resolve(c).then(function(l){s({value:l,done:a})},i)}(a,c,(i=e[s](i)).done,i.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const XF=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function GF(e){return Ze(e?.then)}function KF(e){return Ze(e[uv])}function YF(e){return Symbol.asyncIterator&&Ze(e?.[Symbol.asyncIterator])}function QF(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const JF=function BQ(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function ZF(e){return Ze(e?.[JF])}function eP(e){return function zF(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,r=n.apply(e,t||[]),s=[];return o={},i("next"),i("throw"),i("return"),o[Symbol.asyncIterator]=function(){return this},o;function i(d){r[d]&&(o[d]=function(p){return new Promise(function(g,m){s.push([d,p,g,m])>1||a(d,p)})})}function a(d,p){try{!function c(d){d.value instanceof js?Promise.resolve(d.value.v).then(l,u):f(s[0][2],d)}(r[d](p))}catch(g){f(s[0][3],g)}}function l(d){a("next",d)}function u(d){a("throw",d)}function f(d,p){d(p),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const n=e.getReader();try{for(;;){const{value:r,done:o}=yield js(n.read());if(o)return yield js(void 0);yield yield js(r)}}finally{n.releaseLock()}})}function tP(e){return Ze(e?.getReader)}function io(e){if(e instanceof et)return e;if(null!=e){if(KF(e))return function UQ(e){return new et(t=>{const n=e[uv]();if(Ze(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(XF(e))return function VQ(e){return new et(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}(e);if(GF(e))return function $Q(e){return new et(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,l0)})}(e);if(YF(e))return nP(e);if(ZF(e))return function HQ(e){return new et(t=>{for(const n of e)if(t.next(n),t.closed)return;t.complete()})}(e);if(tP(e))return function qQ(e){return nP(eP(e))}(e)}throw QF(e)}function nP(e){return new et(t=>{(function zQ(e,t){var n,r,o,s;return function HF(e,t,n,r){return new(n||(n=Promise))(function(s,i){function a(u){try{l(r.next(u))}catch(f){i(f)}}function c(u){try{l(r.throw(u))}catch(f){i(f)}}function l(u){u.done?s(u.value):function o(s){return s instanceof n?s:new n(function(i){i(s)})}(u.value).then(a,c)}l((r=r.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){try{for(n=WF(e);!(r=yield n.next()).done;)if(t.next(r.value),t.closed)return}catch(i){o={error:i}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(o)throw o.error}}t.complete()})})(e,t).catch(n=>t.error(n))})}function Vo(e,t,n,r=0,o=!1){const s=t.schedule(function(){n(),o?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(s),!o)return s}function rP(e,t=0){return Mt((n,r)=>{n.subscribe(Tt(r,o=>Vo(r,e,()=>r.next(o),t),()=>Vo(r,e,()=>r.complete(),t),o=>Vo(r,e,()=>r.error(o),t)))})}function oP(e,t=0){return Mt((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function sP(e,t){if(!e)throw new Error("Iterable cannot be null");return new et(n=>{Vo(n,t,()=>{const r=e[Symbol.asyncIterator]();Vo(n,t,()=>{r.next().then(o=>{o.done?n.complete():n.next(o.value)})},0,!0)})})}function Jt(e,t){return t?function QQ(e,t){if(null!=e){if(KF(e))return function WQ(e,t){return io(e).pipe(oP(t),rP(t))}(e,t);if(XF(e))return function GQ(e,t){return new et(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}(e,t);if(GF(e))return function XQ(e,t){return io(e).pipe(oP(t),rP(t))}(e,t);if(YF(e))return sP(e,t);if(ZF(e))return function KQ(e,t){return new et(n=>{let r;return Vo(n,t,()=>{r=e[JF](),Vo(n,t,()=>{let o,s;try{({value:o,done:s}=r.next())}catch(i){return void n.error(i)}s?n.complete():n.next(o)},0,!0)}),()=>Ze(r?.return)&&r.return()})}(e,t);if(tP(e))return function YQ(e,t){return sP(eP(e),t)}(e,t)}throw QF(e)}(e,t):io(e)}const{isArray:JQ}=Array;function iP(e){return e&&Ze(e.schedule)}function uw(e){return e[e.length-1]}function nm(e){return iP(uw(e))?e.pop():void 0}function rm(...e){const t=nm(e),n=function tJ(e){return Ze(uw(e))?e.pop():void 0}(e),{args:r,keys:o}=function mQ(e){if(1===e.length){const t=e[0];if(dQ(t))return{args:t,keys:null};if(function _Q(e){return e&&"object"==typeof e&&hQ(e)===pQ}(t)){const n=gQ(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}(e);if(0===r.length)return Jt([],t);const s=new et(function rJ(e,t,n=vi){return r=>{aP(t,()=>{const{length:o}=e,s=new Array(o);let i=o,a=o;for(let c=0;c<o;c++)aP(t,()=>{const l=Jt(e[c],t);let u=!1;l.subscribe(Tt(r,f=>{s[c]=f,u||(u=!0,a--),a||r.next(n(s.slice()))},()=>{--i||r.complete()}))},r)},r)}}(r,t,o?i=>function nJ(e,t){return e.reduce((n,r,o)=>(n[r]=t[o],n),{})}(o,i):vi));return n?s.pipe(function eJ(e){return le(t=>function ZQ(e,t){return JQ(t)?e(...t):e(t)}(e,t))}(n)):s}function aP(e,t,n){e?Vo(n,e,t):t()}function wn(e,t,n=1/0){return Ze(t)?wn((r,o)=>le((s,i)=>t(r,s,o,i))(io(e(r,o))),n):("number"==typeof t&&(n=t),Mt((r,o)=>function oJ(e,t,n,r,o,s,i,a){const c=[];let l=0,u=0,f=!1;const d=()=>{f&&!c.length&&!l&&t.complete()},p=m=>l<r?g(m):c.push(m),g=m=>{s&&t.next(m),l++;let y=!1;io(n(m,u++)).subscribe(Tt(t,b=>{o?.(b),s?p(b):t.next(b)},()=>{y=!0},void 0,()=>{if(y)try{for(l--;c.length&&l<r;){const b=c.shift();i?Vo(t,i,()=>g(b)):g(b)}d()}catch(b){t.error(b)}}))};return e.subscribe(Tt(t,p,()=>{f=!0,d()})),()=>{a?.()}}(r,o,e,n)))}function om(...e){return function sJ(){return function fw(e=1/0){return wn(vi,e)}(1)}()(Jt(e,nm(e)))}const ao=new et(e=>e.complete());function Bs(e){return e<=0?()=>ao:Mt((t,n)=>{let r=0;t.subscribe(Tt(n,o=>{++r<=e&&(n.next(o),e<=r&&n.complete())}))})}function $o(e,t){return Mt((n,r)=>{let o=0;n.subscribe(Tt(r,s=>e.call(t,s,o++)&&r.next(s)))})}class cJ extends pn{constructor(t,n){super()}schedule(t,n=0){return this}}const sm={setInterval(e,t,...n){const{delegate:r}=sm;return r?.setInterval?r.setInterval(e,t,...n):setInterval(e,t,...n)},clearInterval(e){const{delegate:t}=sm;return(t?.clearInterval||clearInterval)(e)},delegate:void 0},dw={now:()=>(dw.delegate||Date).now(),delegate:void 0};class zf{constructor(t,n=zf.now){this.schedulerActionCtor=t,this.now=n}schedule(t,n=0,r){return new this.schedulerActionCtor(this,t).schedule(r,n)}}zf.now=dw.now;const cP=new class uJ extends zf{constructor(t,n=zf.now){super(t,n),this.actions=[],this._active=!1}flush(t){const{actions:n}=this;if(this._active)return void n.push(t);let r;this._active=!0;do{if(r=t.execute(t.state,t.delay))break}while(t=n.shift());if(this._active=!1,r){for(;t=n.shift();)t.unsubscribe();throw r}}}(class lJ extends cJ{constructor(t,n){super(t,n),this.scheduler=t,this.work=n,this.pending=!1}schedule(t,n=0){var r;if(this.closed)return this;this.state=t;const o=this.id,s=this.scheduler;return null!=o&&(this.id=this.recycleAsyncId(s,o,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(t,n,r=0){return sm.setInterval(t.flush.bind(t,this),r)}recycleAsyncId(t,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&sm.clearInterval(n)}execute(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(t,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,n){let o,r=!1;try{this.work(t)}catch(s){r=!0,o=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),o}unsubscribe(){if(!this.closed){const{id:t,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,qh(r,this),null!=t&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,super.unsubscribe()}}}),fJ=cP;function im(...e){const t=nm(e);return Mt((n,r)=>{(t?om(e,n,t):om(e,n)).subscribe(r)})}function lP(e){return Mt((t,n)=>{io(e).subscribe(Tt(n,()=>n.complete(),sv)),!n.closed&&t.subscribe(n)})}let hw;try{hw=typeof Intl<"u"&&Intl.v8BreakIterator}catch{hw=!1}let hJ=(()=>{class e{constructor(n){this._platformId=n,this.isBrowser=this._platformId?mF(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!hw)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static{this.\u0275fac=function(r){return new(r||e)(j(No))}}static{this.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const fP=new Set;let Vi,mJ=(()=>{class e{constructor(n,r){this._platform=n,this._nonce=r,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):yJ}matchMedia(n){return(this._platform.WEBKIT||this._platform.BLINK)&&function _J(e,t){if(!fP.has(e))try{Vi||(Vi=document.createElement("style"),t&&Vi.setAttribute("nonce",t),Vi.setAttribute("type","text/css"),document.head.appendChild(Vi)),Vi.sheet&&(Vi.sheet.insertRule(`@media ${e} {body{ }}`,0),fP.add(e))}catch(n){console.error(n)}}(n,this._nonce),this._matchMedia(n)}static{this.\u0275fac=function(r){return new(r||e)(j(hJ),j(wb,8))}}static{this.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function yJ(e){return{matches:"all"===e||""===e,media:e,addListener:()=>{},removeListener:()=>{}}}let vJ=(()=>{class e{constructor(n,r){this._mediaMatcher=n,this._zone=r,this._queries=new Map,this._destroySubject=new Vt}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(n){return dP($F(n)).some(o=>this._registerQuery(o).mql.matches)}observe(n){let s=rm(dP($F(n)).map(i=>this._registerQuery(i).observable));return s=om(s.pipe(Bs(1)),s.pipe(function aJ(e){return $o((t,n)=>e<=n)}(1),function dJ(e,t=cP){return Mt((n,r)=>{let o=null,s=null,i=null;const a=()=>{if(o){o.unsubscribe(),o=null;const l=s;s=null,r.next(l)}};function c(){const l=i+e,u=t.now();if(u<l)return o=this.schedule(void 0,l-u),void r.add(o);a()}n.subscribe(Tt(r,l=>{s=l,i=t.now(),o||(o=t.schedule(c,e),r.add(o))},()=>{a(),r.complete()},void 0,()=>{s=o=null}))})}(0))),s.pipe(le(i=>{const a={matches:!1,breakpoints:{}};return i.forEach(({matches:c,query:l})=>{a.matches=a.matches||c,a.breakpoints[l]=c}),a}))}_registerQuery(n){if(this._queries.has(n))return this._queries.get(n);const r=this._mediaMatcher.matchMedia(n),s={observable:new et(i=>{const a=c=>this._zone.run(()=>i.next(c));return r.addListener(a),()=>{r.removeListener(a)}}).pipe(im(r),le(({matches:i})=>({query:n,matches:i})),lP(this._destroySubject)),mql:r};return this._queries.set(n,s),s}static{this.\u0275fac=function(r){return new(r||e)(j(mJ),j(Ae))}}static{this.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function dP(e){return e.map(t=>t.split(",")).reduce((t,n)=>t.concat(n)).map(t=>t.trim())}const gw=new F("IManageGenres");var $i=function(e){return e.LIGHT="light",e.DARK="dark",e}($i||{});let EJ=(()=>{class e{constructor(n){this.document=n,this.currentMode=$i.LIGHT,this.modeChangedSubject=new Mn(this.currentMode),this.modeChanged$=this.modeChangedSubject.asObservable(),this.init()}updateCurrentMode(n){this.currentMode=n,this.modeChangedSubject.next(this.currentMode)}init(){const n=window.matchMedia("(prefers-color-scheme: dark)");let r=$i.LIGHT;r=n.matches?$i.DARK:$i.LIGHT,this.updateCurrentMode(r),this.document.body.classList.add(this.currentMode)}static{this.\u0275fac=function(r){return new(r||e)(j(cr))}}static{this.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function ee(...e){return Jt(e,nm(e))}const Gf=rv(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function hP(e){return new et(t=>{io(e()).subscribe(t)})}function cm(e,t){const n=Ze(e)?e:()=>e,r=o=>o.error(n());return new et(t?o=>t.schedule(r,0,o):r)}function mw(){return Mt((e,t)=>{let n=null;e._refCount++;const r=Tt(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(n=null);const o=e._connection,s=n;n=null,o&&(!s||o===s)&&o.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}class pP extends et{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,h0(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new pn;const n=this.getSubject();t.add(this.source.subscribe(Tt(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=pn.EMPTY)}return t}refCount(){return mw()(this)}}function fr(e,t){return Mt((n,r)=>{let o=null,s=0,i=!1;const a=()=>i&&!o&&r.complete();n.subscribe(Tt(r,c=>{o?.unsubscribe();let l=0;const u=s++;io(e(c,u)).subscribe(o=Tt(r,f=>r.next(t?t(c,f,u,l++):f),()=>{o=null,a()}))},()=>{i=!0,a()}))})}function lm(e){return Mt((t,n)=>{let r=!1;t.subscribe(Tt(n,o=>{r=!0,n.next(o)},()=>{r||n.next(e),n.complete()}))})}function gP(e=wJ){return Mt((t,n)=>{let r=!1;t.subscribe(Tt(n,o=>{r=!0,n.next(o)},()=>r?n.complete():n.error(e())))})}function wJ(){return new Gf}function Ho(e,t){const n=arguments.length>=2;return r=>r.pipe(e?$o((o,s)=>e(o,s,r)):vi,Bs(1),n?lm(t):gP(()=>new Gf))}function Hi(e,t){return Ze(t)?wn(e,t,1):wn(e,1)}function ln(e,t,n){const r=Ze(e)||t||n?{next:e,error:t,complete:n}:e;return r?Mt((o,s)=>{var i;null===(i=r.subscribe)||void 0===i||i.call(r);let a=!0;o.subscribe(Tt(s,c=>{var l;null===(l=r.next)||void 0===l||l.call(r,c),s.next(c)},()=>{var c;a=!1,null===(c=r.complete)||void 0===c||c.call(r),s.complete()},c=>{var l;a=!1,null===(l=r.error)||void 0===l||l.call(r,c),s.error(c)},()=>{var c,l;a&&(null===(c=r.unsubscribe)||void 0===c||c.call(r)),null===(l=r.finalize)||void 0===l||l.call(r)}))}):vi}function Wc(e){return Mt((t,n)=>{let s,r=null,o=!1;r=t.subscribe(Tt(n,void 0,void 0,i=>{s=io(e(i,Wc(e)(t))),r?(r.unsubscribe(),r=null,s.subscribe(n)):o=!0})),o&&(r.unsubscribe(),r=null,s.subscribe(n))})}function _w(e){return e<=0?()=>ao:Mt((t,n)=>{let r=[];t.subscribe(Tt(n,o=>{r.push(o),e<r.length&&r.shift()},()=>{for(const o of r)n.next(o);n.complete()},void 0,()=>{r=null}))})}function Xc(e){return Mt((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}const se="primary",Kf=Symbol("RouteTitle");class TJ{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Gc(e){return new TJ(e)}function RJ(e,t,n){const r=n.path.split("/");if(r.length>e.length||"full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;const o={};for(let s=0;s<r.length;s++){const i=r[s],a=e[s];if(i.startsWith(":"))o[i.substring(1)]=a;else if(i!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:o}}function co(e,t){const n=e?yw(e):void 0,r=t?yw(t):void 0;if(!n||!r||n.length!=r.length)return!1;let o;for(let s=0;s<n.length;s++)if(o=n[s],!mP(e[o],t[o]))return!1;return!0}function yw(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function mP(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const n=[...e].sort(),r=[...t].sort();return n.every((o,s)=>r[s]===o)}return e===t}function _P(e){return e.length>0?e[e.length-1]:null}function Us(e){return function SJ(e){return!!e&&(e instanceof et||Ze(e.lift)&&Ze(e.subscribe))}(e)?e:Mg(e)?Jt(Promise.resolve(e)):ee(e)}const kJ={exact:function bP(e,t,n){if(!qi(e.segments,t.segments)||!um(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!e.children[r]||!bP(e.children[r],t.children[r],n))return!1;return!0},subset:EP},yP={exact:function AJ(e,t){return co(e,t)},subset:function xJ(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>mP(e[n],t[n]))},ignored:()=>!0};function vP(e,t,n){return kJ[n.paths](e.root,t.root,n.matrixParams)&&yP[n.queryParams](e.queryParams,t.queryParams)&&!("exact"===n.fragment&&e.fragment!==t.fragment)}function EP(e,t,n){return SP(e,t,t.segments,n)}function SP(e,t,n,r){if(e.segments.length>n.length){const o=e.segments.slice(0,n.length);return!(!qi(o,n)||t.hasChildren()||!um(o,n,r))}if(e.segments.length===n.length){if(!qi(e.segments,n)||!um(e.segments,n,r))return!1;for(const o in t.children)if(!e.children[o]||!EP(e.children[o],t.children[o],r))return!1;return!0}{const o=n.slice(0,e.segments.length),s=n.slice(e.segments.length);return!!(qi(e.segments,o)&&um(e.segments,o,r)&&e.children[se])&&SP(e.children[se],t,s,r)}}function um(e,t,n){return t.every((r,o)=>yP[n](e[o].parameters,r.parameters))}class Kc{constructor(t=new je([],{}),n={},r=null){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Gc(this.queryParams),this._queryParamMap}toString(){return PJ.serialize(this)}}class je{constructor(t,n){this.segments=t,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return fm(this)}}class Yf{constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap??=Gc(this.parameters),this._parameterMap}toString(){return DP(this)}}function qi(e,t){return e.length===t.length&&e.every((n,r)=>n.path===t[r].path)}let Yc=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=P({token:e,factory:()=>new vw,providedIn:"root"})}}return e})();class vw{parse(t){const n=new XJ(t);return new Kc(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){const n=`/${Qf(t.root,!0)}`,r=function BJ(e){const t=Object.entries(e).map(([n,r])=>Array.isArray(r)?r.map(o=>`${dm(n)}=${dm(o)}`).join("&"):`${dm(n)}=${dm(r)}`).filter(n=>n);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${n}${r}${"string"==typeof t.fragment?`#${function LJ(e){return encodeURI(e)}(t.fragment)}`:""}`}}const PJ=new vw;function fm(e){return e.segments.map(t=>DP(t)).join("/")}function Qf(e,t){if(!e.hasChildren())return fm(e);if(t){const n=e.children[se]?Qf(e.children[se],!1):"",r=[];return Object.entries(e.children).forEach(([o,s])=>{o!==se&&r.push(`${o}:${Qf(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function FJ(e,t){let n=[];return Object.entries(e.children).forEach(([r,o])=>{r===se&&(n=n.concat(t(o,r)))}),Object.entries(e.children).forEach(([r,o])=>{r!==se&&(n=n.concat(t(o,r)))}),n}(e,(r,o)=>o===se?[Qf(e.children[se],!1)]:[`${o}:${Qf(r,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[se]?`${fm(e)}/${n[0]}`:`${fm(e)}/(${n.join("//")})`}}function wP(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function dm(e){return wP(e).replace(/%3B/gi,";")}function bw(e){return wP(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function hm(e){return decodeURIComponent(e)}function CP(e){return hm(e.replace(/\+/g,"%20"))}function DP(e){return`${bw(e.path)}${function jJ(e){return Object.entries(e).map(([t,n])=>`;${bw(t)}=${bw(n)}`).join("")}(e.parameters)}`}const UJ=/^[^\/()?;#]+/;function Ew(e){const t=e.match(UJ);return t?t[0]:""}const VJ=/^[^\/()?;=#]+/,HJ=/^[^=?&#]+/,zJ=/^[^&#]+/;class XJ{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new je([],{}):new je([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[se]=new je(t,n)),r}parseSegment(){const t=Ew(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new k(4009,!1);return this.capture(t),new Yf(hm(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const n=function $J(e){const t=e.match(VJ);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=Ew(this.remaining);o&&(r=o,this.capture(r))}t[hm(n)]=hm(r)}parseQueryParam(t){const n=function qJ(e){const t=e.match(HJ);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=function WJ(e){const t=e.match(zJ);return t?t[0]:""}(this.remaining);i&&(r=i,this.capture(r))}const o=CP(n),s=CP(r);if(t.hasOwnProperty(o)){let i=t[o];Array.isArray(i)||(i=[i],t[o]=i),i.push(s)}else t[o]=s}parseParens(t){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Ew(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new k(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=se);const i=this.parseChildren();n[s]=1===Object.keys(i).length?i[se]:new je([],i),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new k(4011,!1)}}function IP(e){return e.segments.length>0?new je([],{[se]:e}):e}function MP(e){const t={};for(const[r,o]of Object.entries(e.children)){const s=MP(o);if(r===se&&0===s.segments.length&&s.hasChildren())for(const[i,a]of Object.entries(s.children))t[i]=a;else(s.segments.length>0||s.hasChildren())&&(t[r]=s)}return function GJ(e){if(1===e.numberOfChildren&&e.children[se]){const t=e.children[se];return new je(e.segments.concat(t.segments),t.children)}return e}(new je(e.segments,t))}function Qc(e){return e instanceof Kc}function TP(e){let t;const o=IP(function n(s){const i={};for(const c of s.children){const l=n(c);i[c.outlet]=l}const a=new je(s.url,i);return s===e&&(t=a),a}(e.root));return t??o}function RP(e,t,n,r){let o=e;for(;o.parent;)o=o.parent;if(0===t.length)return Sw(o,o,o,n,r);const s=function YJ(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new kP(!0,0,e);let t=0,n=!1;const r=e.reduce((o,s,i)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([c,l])=>{a[c]="string"==typeof l?l.split("/"):l}),[...o,{outlets:a}]}if(s.segmentPath)return[...o,s.segmentPath]}return"string"!=typeof s?[...o,s]:0===i?(s.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?n=!0:".."===a?t++:""!=a&&o.push(a))}),o):[...o,s]},[]);return new kP(n,t,r)}(t);if(s.toRoot())return Sw(o,o,new je([],{}),n,r);const i=function QJ(e,t,n){if(e.isAbsolute)return new gm(t,!0,0);if(!n)return new gm(t,!1,NaN);if(null===n.parent)return new gm(n,!0,0);const r=pm(e.commands[0])?0:1;return function JJ(e,t,n){let r=e,o=t,s=n;for(;s>o;){if(s-=o,r=r.parent,!r)throw new k(4005,!1);o=r.segments.length}return new gm(r,!1,o-s)}(n,n.segments.length-1+r,e.numberOfDoubleDots)}(s,o,e),a=i.processChildren?Zf(i.segmentGroup,i.index,s.commands):AP(i.segmentGroup,i.index,s.commands);return Sw(o,i.segmentGroup,a,n,r)}function pm(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Jf(e){return"object"==typeof e&&null!=e&&e.outlets}function Sw(e,t,n,r,o){let i,s={};r&&Object.entries(r).forEach(([c,l])=>{s[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`}),i=e===t?n:OP(e,t,n);const a=IP(MP(i));return new Kc(a,s,o)}function OP(e,t,n){const r={};return Object.entries(e.children).forEach(([o,s])=>{r[o]=s===t?n:OP(s,t,n)}),new je(e.segments,r)}class kP{constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&pm(r[0]))throw new k(4003,!1);const o=r.find(Jf);if(o&&o!==_P(r))throw new k(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class gm{constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}}function AP(e,t,n){if(e??=new je([],{}),0===e.segments.length&&e.hasChildren())return Zf(e,t,n);const r=function eZ(e,t,n){let r=0,o=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;o<e.segments.length;){if(r>=n.length)return s;const i=e.segments[o],a=n[r];if(Jf(a))break;const c=`${a}`,l=r<n.length-1?n[r+1]:null;if(o>0&&void 0===c)break;if(c&&l&&"object"==typeof l&&void 0===l.outlets){if(!NP(c,l,i))return s;r+=2}else{if(!NP(c,{},i))return s;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(e,t,n),o=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const s=new je(e.segments.slice(0,r.pathIndex),{});return s.children[se]=new je(e.segments.slice(r.pathIndex),e.children),Zf(s,0,o)}return r.match&&0===o.length?new je(e.segments,{}):r.match&&!e.hasChildren()?ww(e,t,n):r.match?Zf(e,0,o):ww(e,t,n)}function Zf(e,t,n){if(0===n.length)return new je(e.segments,{});{const r=function ZJ(e){return Jf(e[0])?e[0].outlets:{[se]:e}}(n),o={};if(Object.keys(r).some(s=>s!==se)&&e.children[se]&&1===e.numberOfChildren&&0===e.children[se].segments.length){const s=Zf(e.children[se],t,n);return new je(e.segments,s.children)}return Object.entries(r).forEach(([s,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(o[s]=AP(e.children[s],t,i))}),Object.entries(e.children).forEach(([s,i])=>{void 0===r[s]&&(o[s]=i)}),new je(e.segments,o)}}function ww(e,t,n){const r=e.segments.slice(0,t);let o=0;for(;o<n.length;){const s=n[o];if(Jf(s)){const c=tZ(s.outlets);return new je(r,c)}if(0===o&&pm(n[0])){r.push(new Yf(e.segments[t].path,xP(n[0]))),o++;continue}const i=Jf(s)?s.outlets[se]:`${s}`,a=o<n.length-1?n[o+1]:null;i&&a&&pm(a)?(r.push(new Yf(i,xP(a))),o+=2):(r.push(new Yf(i,{})),o++)}return new je(r,{})}function tZ(e){const t={};return Object.entries(e).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(t[n]=ww(new je([],{}),0,r))}),t}function xP(e){const t={};return Object.entries(e).forEach(([n,r])=>t[n]=`${r}`),t}function NP(e,t,n){return e==n.path&&co(t,n.parameters)}const ed="imperative";var ye=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(ye||{});class lo{constructor(t,n){this.id=t,this.url=n}}class Cw extends lo{constructor(t,n,r="imperative",o=null){super(t,n),this.type=ye.NavigationStart,this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class zi extends lo{constructor(t,n,r){super(t,n),this.urlAfterRedirects=r,this.type=ye.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var Xn=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(Xn||{}),Dw=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(Dw||{});class Jc extends lo{constructor(t,n,r,o){super(t,n),this.reason=r,this.code=o,this.type=ye.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class td extends lo{constructor(t,n,r,o){super(t,n),this.reason=r,this.code=o,this.type=ye.NavigationSkipped}}class mm extends lo{constructor(t,n,r,o){super(t,n),this.error=r,this.target=o,this.type=ye.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class FP extends lo{constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o,this.type=ye.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class nZ extends lo{constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o,this.type=ye.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rZ extends lo{constructor(t,n,r,o,s){super(t,n),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=s,this.type=ye.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class oZ extends lo{constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o,this.type=ye.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class sZ extends lo{constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o,this.type=ye.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class iZ{constructor(t){this.route=t,this.type=ye.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class aZ{constructor(t){this.route=t,this.type=ye.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class cZ{constructor(t){this.snapshot=t,this.type=ye.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class lZ{constructor(t){this.snapshot=t,this.type=ye.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class uZ{constructor(t){this.snapshot=t,this.type=ye.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fZ{constructor(t){this.snapshot=t,this.type=ye.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Iw{}class Mw{constructor(t){this.url=t}}class dZ{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new nd,this.attachRef=null}}let nd=(()=>{class e{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const o=this.getOrCreateContext(n);o.outlet=r,this.contexts.set(n,o)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new dZ,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();class PP{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){const n=Tw(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){const n=Tw(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){const n=Rw(t,this._root);return n.length<2?[]:n[n.length-2].children.map(o=>o.value).filter(o=>o!==t)}pathFromRoot(t){return Rw(t,this._root).map(n=>n.value)}}function Tw(e,t){if(e===t.value)return t;for(const n of t.children){const r=Tw(e,n);if(r)return r}return null}function Rw(e,t){if(e===t.value)return[t];for(const n of t.children){const r=Rw(e,n);if(r.length)return r.unshift(t),r}return[]}class Ur{constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}}function Zc(e){const t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}class LP extends PP{constructor(t,n){super(t),this.snapshot=n,Aw(this,t)}toString(){return this.snapshot.toString()}}function jP(e){const t=function hZ(e){const s=new kw([],{},{},"",{},se,e,null,{});return new BP("",new Ur(s,[]))}(e),n=new Mn([new Yf("",{})]),r=new Mn({}),o=new Mn({}),s=new Mn({}),i=new Mn(""),a=new Wi(n,r,s,i,o,se,e,t.root);return a.snapshot=t.root,new LP(new Ur(a,[]),t)}class Wi{constructor(t,n,r,o,s,i,a,c){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=o,this.dataSubject=s,this.outlet=i,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(le(l=>l[Kf]))??ee(void 0),this.url=t,this.params=n,this.queryParams=r,this.fragment=o,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(le(t=>Gc(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(le(t=>Gc(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ow(e,t,n="emptyOnly"){let r;const{routeConfig:o}=e;return r=null===t||"always"!==n&&""!==o?.path&&(t.component||t.routeConfig?.loadComponent)?{params:{...e.params},data:{...e.data},resolve:{...e.data,...e._resolvedData??{}}}:{params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.data,...o?.data,...e._resolvedData}},o&&VP(o)&&(r.resolve[Kf]=o.title),r}class kw{get title(){return this.data?.[Kf]}constructor(t,n,r,o,s,i,a,c,l){this.url=t,this.params=n,this.queryParams=r,this.fragment=o,this.data=s,this.outlet=i,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Gc(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Gc(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class BP extends PP{constructor(t,n){super(n),this.url=t,Aw(this,n)}toString(){return UP(this._root)}}function Aw(e,t){t.value._routerState=e,t.children.forEach(n=>Aw(e,n))}function UP(e){const t=e.children.length>0?` { ${e.children.map(UP).join(", ")} } `:"";return`${e.value}${t}`}function xw(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,co(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),co(t.params,n.params)||e.paramsSubject.next(n.params),function OJ(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!co(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.urlSubject.next(n.url),co(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function Nw(e,t){const n=co(e.params,t.params)&&function NJ(e,t){return qi(e,t)&&e.every((n,r)=>co(n.parameters,t[r].parameters))}(e.url,t.url);return n&&!(!e.parent!=!t.parent)&&(!e.parent||Nw(e.parent,t.parent))}function VP(e){return"string"==typeof e.title||null===e.title}let Fw=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=se,this.activateEvents=new yn,this.deactivateEvents=new yn,this.attachEvents=new yn,this.detachEvents=new yn,this.parentContexts=A(nd),this.location=A(Fr),this.changeDetector=A(Og),this.environmentInjector=A(Un),this.inputBinder=A(_m,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:o}=n.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new k(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new k(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new k(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new k(4013,!1);this._activatedRoute=n;const o=this.location,i=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new Pw(n,a,o.injector);this.activated=o.createComponent(i,{index:o.length,injector:c,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275dir=gn({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Ii]})}}return e})();class Pw{__ngOutletInjector(t){return new Pw(this.route,this.childContexts,t)}constructor(t,n,r){this.route=t,this.childContexts=n,this.parent=r}get(t,n){return t===Wi?this.route:t===nd?this.childContexts:this.parent.get(t,n)}}const _m=new F("");function rd(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=t.value;const o=function gZ(e,t,n){return t.children.map(r=>{for(const o of n.children)if(e.shouldReuseRoute(r.value,o.value.snapshot))return rd(e,r,o);return rd(e,r)})}(e,t,n);return new Ur(r,o)}{if(e.shouldAttach(t.value)){const s=e.retrieve(t.value);if(null!==s){const i=s.route;return i.value._futureSnapshot=t.value,i.children=t.children.map(a=>rd(e,a)),i}}const r=function mZ(e){return new Wi(new Mn(e.url),new Mn(e.params),new Mn(e.queryParams),new Mn(e.fragment),new Mn(e.data),e.outlet,e.component,e)}(t.value),o=t.children.map(s=>rd(e,s));return new Ur(r,o)}}const HP="ngNavigationCancelingError";function qP(e,t){const{redirectTo:n,navigationBehaviorOptions:r}=Qc(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,o=zP(!1,Xn.Redirect);return o.url=n,o.navigationBehaviorOptions=r,o}function zP(e,t){const n=new Error(`NavigationCancelingError: ${e||""}`);return n[HP]=!0,n.cancellationCode=t,n}function WP(e){return!!e&&e[HP]}let XP=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=Si({type:e,selectors:[["ng-component"]],standalone:!0,features:[Af],decls:1,vars:0,template:function(r,o){1&r&&vn(0,"router-outlet")},dependencies:[Fw],encapsulation:2})}}return e})();function Lw(e){const t=e.children&&e.children.map(Lw),n=t?{...e,children:t}:{...e};return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==se&&(n.component=XP),n}function uo(e){return e.outlet||se}function od(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){const n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class CZ{constructor(t,n,r,o,s){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=o,this.inputBindingEnabled=s}activate(t){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),xw(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){const o=Zc(n);t.children.forEach(s=>{const i=s.value.outlet;this.deactivateRoutes(s,o[i],r),delete o[i]}),Object.values(o).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(t,n,r){const o=t.value,s=n?n.value:null;if(o===s)if(o.component){const i=r.getContext(o.outlet);i&&this.deactivateChildRoutes(t,n,i.children)}else this.deactivateChildRoutes(t,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){const r=n.getContext(t.value.outlet),o=r&&t.value.component?r.children:n,s=Zc(t);for(const i of Object.values(s))this.deactivateRouteAndItsChildren(i,o);if(r&&r.outlet){const i=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:i,route:t,contexts:a})}}deactivateRouteAndOutlet(t,n){const r=n.getContext(t.value.outlet),o=r&&t.value.component?r.children:n,s=Zc(t);for(const i of Object.values(s))this.deactivateRouteAndItsChildren(i,o);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,n,r){const o=Zc(n);t.children.forEach(s=>{this.activateRoutes(s,o[s.value.outlet],r),this.forwardEvent(new fZ(s.value.snapshot))}),t.children.length&&this.forwardEvent(new lZ(t.value.snapshot))}activateRoutes(t,n,r){const o=t.value,s=n?n.value:null;if(xw(o),o===s)if(o.component){const i=r.getOrCreateContext(o.outlet);this.activateChildRoutes(t,n,i.children)}else this.activateChildRoutes(t,n,r);else if(o.component){const i=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const a=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),i.children.onOutletReAttached(a.contexts),i.attachRef=a.componentRef,i.route=a.route.value,i.outlet&&i.outlet.attach(a.componentRef,a.route.value),xw(a.route.value),this.activateChildRoutes(t,null,i.children)}else{const a=od(o.snapshot);i.attachRef=null,i.route=o,i.injector=a,i.outlet&&i.outlet.activateWith(o,i.injector),this.activateChildRoutes(t,null,i.children)}}else this.activateChildRoutes(t,null,r)}}class GP{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class ym{constructor(t,n){this.component=t,this.route=n}}function DZ(e,t,n){const r=e._root;return sd(r,t?t._root:null,n,[r.value])}function el(e,t){const n=Symbol(),r=t.get(e,n);return r===n?"function"!=typeof e||function v3(e){return null!==Yh(e)}(e)?t.get(e):e:r}function sd(e,t,n,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=Zc(t);return e.children.forEach(i=>{(function MZ(e,t,n,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=e.value,i=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(i&&s.routeConfig===i.routeConfig){const c=function TZ(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!qi(e.url,t.url);case"pathParamsOrQueryParamsChange":return!qi(e.url,t.url)||!co(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Nw(e,t)||!co(e.queryParams,t.queryParams);default:return!Nw(e,t)}}(i,s,s.routeConfig.runGuardsAndResolvers);c?o.canActivateChecks.push(new GP(r)):(s.data=i.data,s._resolvedData=i._resolvedData),sd(e,t,s.component?a?a.children:null:n,r,o),c&&a&&a.outlet&&a.outlet.isActivated&&o.canDeactivateChecks.push(new ym(a.outlet.component,i))}else i&&id(t,a,o),o.canActivateChecks.push(new GP(r)),sd(e,null,s.component?a?a.children:null:n,r,o)})(i,s[i.value.outlet],n,r.concat([i.value]),o),delete s[i.value.outlet]}),Object.entries(s).forEach(([i,a])=>id(a,n.getContext(i),o)),o}function id(e,t,n){const r=Zc(e),o=e.value;Object.entries(r).forEach(([s,i])=>{id(i,o.component?t?t.children.getContext(s):null:t,n)}),n.canDeactivateChecks.push(new ym(o.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,o))}function ad(e){return"function"==typeof e}function KP(e){return e instanceof Gf||"EmptyError"===e?.name}const vm=Symbol("INITIAL_VALUE");function tl(){return fr(e=>rm(e.map(t=>t.pipe(Bs(1),im(vm)))).pipe(le(t=>{for(const n of t)if(!0!==n){if(n===vm)return vm;if(!1===n||n instanceof Kc)return n}return!0}),$o(t=>t!==vm),Bs(1)))}function YP(e){return function l3(...e){return u0(e)}(ln(t=>{if(Qc(t))throw qP(0,t)}),le(t=>!0===t))}class jw{constructor(t){this.segmentGroup=t||null}}class Bw extends Error{constructor(t){super(),this.urlTree=t}}function nl(e){return cm(new jw(e))}class XZ{constructor(t,n){this.urlSerializer=t,this.urlTree=n}lineralizeSegments(t,n){let r=[],o=n.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return ee(r);if(o.numberOfChildren>1||!o.children[se])return cm(new k(4e3,!1));o=o.children[se]}}applyRedirectCommands(t,n,r){const o=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,r);if(n.startsWith("/"))throw new Bw(o);return o}applyRedirectCreateUrlTree(t,n,r,o){const s=this.createSegmentGroup(t,n.root,r,o);return new Kc(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){const r={};return Object.entries(t).forEach(([o,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);r[o]=n[a]}else r[o]=s}),r}createSegmentGroup(t,n,r,o){const s=this.createSegments(t,n.segments,r,o);let i={};return Object.entries(n.children).forEach(([a,c])=>{i[a]=this.createSegmentGroup(t,c,r,o)}),new je(s,i)}createSegments(t,n,r,o){return n.map(s=>s.path.startsWith(":")?this.findPosParam(t,s,o):this.findOrReturn(s,r))}findPosParam(t,n,r){const o=r[n.path.substring(1)];if(!o)throw new k(4001,!1);return o}findOrReturn(t,n){let r=0;for(const o of n){if(o.path===t.path)return n.splice(r),o;r++}return t}}const Uw={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function GZ(e,t,n,r,o){const s=Vw(e,t,n);return s.matched?(r=function yZ(e,t){return e.providers&&!e._injector&&(e._injector=LE(e.providers,t,`Route: ${e.path}`)),e._injector??t}(t,r),function qZ(e,t,n,r){const o=t.canMatch;return o&&0!==o.length?ee(o.map(i=>{const a=el(i,e);return Us(function NZ(e){return e&&ad(e.canMatch)}(a)?a.canMatch(t,n):Oo(e,()=>a(t,n)))})).pipe(tl(),YP()):ee(!0)}(r,t,n).pipe(le(i=>!0===i?s:{...Uw}))):ee(s)}function Vw(e,t,n){if("**"===t.path)return function KZ(e){return{matched:!0,parameters:e.length>0?_P(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}(n);if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{...Uw}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const o=(t.matcher||RJ)(n,e,t);if(!o)return{...Uw};const s={};Object.entries(o.posParams??{}).forEach(([a,c])=>{s[a]=c.path});const i=o.consumed.length>0?{...s,...o.consumed[o.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:o.consumed,remainingSegments:n.slice(o.consumed.length),parameters:i,positionalParamSegments:o.posParams??{}}}function QP(e,t,n,r){return n.length>0&&function JZ(e,t,n){return n.some(r=>bm(e,t,r)&&uo(r)!==se)}(e,n,r)?{segmentGroup:new je(t,QZ(r,new je(n,e.children))),slicedSegments:[]}:0===n.length&&function ZZ(e,t,n){return n.some(r=>bm(e,t,r))}(e,n,r)?{segmentGroup:new je(e.segments,YZ(e,n,r,e.children)),slicedSegments:n}:{segmentGroup:new je(e.segments,e.children),slicedSegments:n}}function YZ(e,t,n,r){const o={};for(const s of n)if(bm(e,t,s)&&!r[uo(s)]){const i=new je([],{});o[uo(s)]=i}return{...r,...o}}function QZ(e,t){const n={};n[se]=t;for(const r of e)if(""===r.path&&uo(r)!==se){const o=new je([],{});n[uo(r)]=o}return n}function bm(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path}class nee{}class see{constructor(t,n,r,o,s,i,a){this.injector=t,this.configLoader=n,this.rootComponentType=r,this.config=o,this.urlTree=s,this.paramsInheritanceStrategy=i,this.urlSerializer=a,this.applyRedirects=new XZ(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(t){return new k(4002,`'${t.segmentGroup}'`)}recognize(){const t=QP(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(le(n=>{const r=new kw([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},se,this.rootComponentType,null,{}),o=new Ur(r,n),s=new BP("",o),i=function KJ(e,t,n=null,r=null){return RP(TP(e),t,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return i.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(i),this.inheritParamsAndData(s._root,null),{state:s,tree:i}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t,se).pipe(Wc(r=>{if(r instanceof Bw)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof jw?this.noMatchError(r):r}))}inheritParamsAndData(t,n){const r=t.value,o=Ow(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(o.params),r.data=Object.freeze(o.data),t.children.forEach(s=>this.inheritParamsAndData(s,r))}processSegmentGroup(t,n,r,o){return 0===r.segments.length&&r.hasChildren()?this.processChildren(t,n,r):this.processSegment(t,n,r,r.segments,o,!0).pipe(le(s=>s instanceof Ur?[s]:[]))}processChildren(t,n,r){const o=[];for(const s of Object.keys(r.children))"primary"===s?o.unshift(s):o.push(s);return Jt(o).pipe(Hi(s=>{const i=r.children[s],a=function SZ(e,t){const n=e.filter(r=>uo(r)===t);return n.push(...e.filter(r=>uo(r)!==t)),n}(n,s);return this.processSegmentGroup(t,a,i,s)}),function DJ(e,t){return Mt(function CJ(e,t,n,r,o){return(s,i)=>{let a=n,c=t,l=0;s.subscribe(Tt(i,u=>{const f=l++;c=a?e(c,u,f):(a=!0,u),r&&i.next(c)},o&&(()=>{a&&i.next(c),i.complete()})))}}(e,t,arguments.length>=2,!0))}((s,i)=>(s.push(...i),s)),lm(null),function IJ(e,t){const n=arguments.length>=2;return r=>r.pipe(e?$o((o,s)=>e(o,s,r)):vi,_w(1),n?lm(t):gP(()=>new Gf))}(),wn(s=>{if(null===s)return nl(r);const i=JP(s);return function iee(e){e.sort((t,n)=>t.value.outlet===se?-1:n.value.outlet===se?1:t.value.outlet.localeCompare(n.value.outlet))}(i),ee(i)}))}processSegment(t,n,r,o,s,i){return Jt(n).pipe(Hi(a=>this.processSegmentAgainstRoute(a._injector??t,n,a,r,o,s,i).pipe(Wc(c=>{if(c instanceof jw)return ee(null);throw c}))),Ho(a=>!!a),Wc(a=>{if(KP(a))return function tee(e,t,n){return 0===t.length&&!e.children[n]}(r,o,s)?ee(new nee):nl(r);throw a}))}processSegmentAgainstRoute(t,n,r,o,s,i,a){return function eee(e,t,n,r){return!!(uo(e)===r||r!==se&&bm(t,n,e))&&Vw(t,e,n).matched}(r,o,s,i)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,o,r,s,i):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,o,n,r,s,i):nl(o):nl(o)}expandSegmentAgainstRouteUsingRedirect(t,n,r,o,s,i){const{matched:a,consumedSegments:c,positionalParamSegments:l,remainingSegments:u}=Vw(n,o,s);if(!a)return nl(n);o.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const f=this.applyRedirects.applyRedirectCommands(c,o.redirectTo,l);return this.applyRedirects.lineralizeSegments(o,f).pipe(wn(d=>this.processSegment(t,r,n,d.concat(u),i,!1)))}matchSegmentAgainstRoute(t,n,r,o,s){const i=GZ(n,r,o,t);return"**"===r.path&&(n.children={}),i.pipe(fr(a=>a.matched?this.getChildConfig(t=r._injector??t,r,o).pipe(fr(({routes:c})=>{const l=r._loadedInjector??t,{consumedSegments:u,remainingSegments:f,parameters:d}=a,p=new kw(u,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function cee(e){return e.data||{}}(r),uo(r),r.component??r._loadedComponent??null,r,function lee(e){return e.resolve||{}}(r)),{segmentGroup:g,slicedSegments:m}=QP(n,u,f,c);if(0===m.length&&g.hasChildren())return this.processChildren(l,c,g).pipe(le(b=>null===b?null:new Ur(p,b)));if(0===c.length&&0===m.length)return ee(new Ur(p,[]));const y=uo(r)===s;return this.processSegment(l,c,g,m,y?se:s,!0).pipe(le(b=>new Ur(p,b instanceof Ur?[b]:[])))})):nl(n)))}getChildConfig(t,n,r){return n.children?ee({routes:n.children,injector:t}):n.loadChildren?void 0!==n._loadedRoutes?ee({routes:n._loadedRoutes,injector:n._loadedInjector}):function HZ(e,t,n,r){const o=t.canLoad;return void 0===o||0===o.length?ee(!0):ee(o.map(i=>{const a=el(i,e);return Us(function OZ(e){return e&&ad(e.canLoad)}(a)?a.canLoad(t,n):Oo(e,()=>a(t,n)))})).pipe(tl(),YP())}(t,n,r).pipe(wn(o=>o?this.configLoader.loadChildren(t,n).pipe(ln(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function WZ(e){return cm(zP(!1,Xn.GuardRejected))}())):ee({routes:[],injector:t})}}function aee(e){const t=e.value.routeConfig;return t&&""===t.path}function JP(e){const t=[],n=new Set;for(const r of e){if(!aee(r)){t.push(r);continue}const o=t.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==o?(o.children.push(...r.children),n.add(o)):t.push(r)}for(const r of n){const o=JP(r.children);t.push(new Ur(r.value,o))}return t.filter(r=>!n.has(r))}function ZP(e){const t=e.children.map(n=>ZP(n)).flat();return[e,...t]}function $w(e){return fr(t=>{const n=e(t);return n?Jt(n).pipe(le(()=>t)):ee(t)})}let e1=(()=>{class e{buildTitle(n){let r,o=n.root;for(;void 0!==o;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(s=>s.outlet===se);return r}getResolvedTitleForRoute(n){return n.data[Kf]}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=P({token:e,factory:()=>A(gee),providedIn:"root"})}}return e})(),gee=(()=>{class e extends e1{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||e)(j(aQ))}}static{this.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const cd=new F("",{providedIn:"root",factory:()=>({})}),Em=new F("");let t1=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=A(F7)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return ee(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=Us(n.loadComponent()).pipe(le(n1),ln(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),Xc(()=>{this.componentLoaders.delete(n)})),o=new pP(r,()=>new Vt).pipe(mw());return this.componentLoaders.set(n,o),o}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return ee({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=function mee(e,t,n,r){return Us(e.loadChildren()).pipe(le(n1),wn(o=>o instanceof yk||Array.isArray(o)?ee(o):Jt(t.compileModuleAsync(o))),le(o=>{r&&r(e);let s,i,a=!1;return Array.isArray(o)?(i=o,!0):(s=o.create(n).injector,i=s.get(Em,[],{optional:!0,self:!0}).flat()),{routes:i.map(Lw),injector:s}}))}(r,this.compiler,n,this.onLoadEndListener).pipe(Xc(()=>{this.childrenLoaders.delete(r)})),i=new pP(s,()=>new Vt).pipe(mw());return this.childrenLoaders.set(r,i),i}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function n1(e){return function _ee(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let Hw=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=P({token:e,factory:()=>A(yee),providedIn:"root"})}}return e})(),yee=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const r1=new F("");let Sm=(()=>{class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Vt,this.transitionAbortSubject=new Vt,this.configLoader=A(t1),this.environmentInjector=A(Un),this.urlSerializer=A(Yc),this.rootContexts=A(nd),this.location=A(Bf),this.inputBindingEnabled=null!==A(_m,{optional:!0}),this.titleStrategy=A(e1),this.options=A(cd,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=A(Hw),this.createViewTransition=A(r1,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>ee(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=o=>this.events.next(new aZ(o)),this.configLoader.onLoadStartListener=o=>this.events.next(new iZ(o))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n,r,o){return this.transitions=new Mn({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ed,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe($o(s=>0!==s.id),le(s=>({...s,extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),fr(s=>{let i=!1,a=!1;return ee(s).pipe(fr(c=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",Xn.SupersededByNewNavigation),ao;this.currentTransition=s,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const l=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!l&&"reload"!==(c.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const f="";return this.events.next(new td(c.id,this.urlSerializer.serialize(c.rawUrl),f,Dw.IgnoredSameUrlNavigation)),c.resolve(null),ao}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return ee(c).pipe(fr(f=>{const d=this.transitions?.getValue();return this.events.next(new Cw(f.id,this.urlSerializer.serialize(f.extractedUrl),f.source,f.restoredState)),d!==this.transitions?.getValue()?ao:Promise.resolve(f)}),function uee(e,t,n,r,o,s){return wn(i=>function ree(e,t,n,r,o,s,i="emptyOnly"){return new see(e,t,n,r,o,i,s).recognize()}(e,t,n,r,i.extractedUrl,o,s).pipe(le(({state:a,tree:c})=>({...i,targetSnapshot:a,urlAfterRedirects:c}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),ln(f=>{s.targetSnapshot=f.targetSnapshot,s.urlAfterRedirects=f.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:f.urlAfterRedirects};const d=new FP(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(d)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){const{id:f,extractedUrl:d,source:p,restoredState:g,extras:m}=c,y=new Cw(f,this.urlSerializer.serialize(d),p,g);this.events.next(y);const b=jP(this.rootComponentType).snapshot;return this.currentTransition=s={...c,targetSnapshot:b,urlAfterRedirects:d,extras:{...m,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=d,ee(s)}{const f="";return this.events.next(new td(c.id,this.urlSerializer.serialize(c.extractedUrl),f,Dw.IgnoredByUrlHandlingStrategy)),c.resolve(null),ao}}),ln(c=>{const l=new nZ(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),le(c=>(this.currentTransition=s={...c,guards:DZ(c.targetSnapshot,c.currentSnapshot,this.rootContexts)},s)),function FZ(e,t){return wn(n=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:s,canDeactivateChecks:i}}=n;return 0===i.length&&0===s.length?ee({...n,guardsResult:!0}):function PZ(e,t,n,r){return Jt(e).pipe(wn(o=>function $Z(e,t,n,r,o){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return s&&0!==s.length?ee(s.map(a=>{const c=od(t)??o,l=el(a,c);return Us(function xZ(e){return e&&ad(e.canDeactivate)}(l)?l.canDeactivate(e,t,n,r):Oo(c,()=>l(e,t,n,r))).pipe(Ho())})).pipe(tl()):ee(!0)}(o.component,o.route,n,t,r)),Ho(o=>!0!==o,!0))}(i,r,o,e).pipe(wn(a=>a&&function RZ(e){return"boolean"==typeof e}(a)?function LZ(e,t,n,r){return Jt(t).pipe(Hi(o=>om(function BZ(e,t){return null!==e&&t&&t(new cZ(e)),ee(!0)}(o.route.parent,r),function jZ(e,t){return null!==e&&t&&t(new uZ(e)),ee(!0)}(o.route,r),function VZ(e,t,n){const r=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(i=>function IZ(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(i)).filter(i=>null!==i).map(i=>hP(()=>ee(i.guards.map(c=>{const l=od(i.node)??n,u=el(c,l);return Us(function AZ(e){return e&&ad(e.canActivateChild)}(u)?u.canActivateChild(r,e):Oo(l,()=>u(r,e))).pipe(Ho())})).pipe(tl())));return ee(s).pipe(tl())}(e,o.path,n),function UZ(e,t,n){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return ee(!0);const o=r.map(s=>hP(()=>{const i=od(t)??n,a=el(s,i);return Us(function kZ(e){return e&&ad(e.canActivate)}(a)?a.canActivate(t,e):Oo(i,()=>a(t,e))).pipe(Ho())}));return ee(o).pipe(tl())}(e,o.route,n))),Ho(o=>!0!==o,!0))}(r,s,e,t):ee(a)),le(a=>({...n,guardsResult:a})))})}(this.environmentInjector,c=>this.events.next(c)),ln(c=>{if(s.guardsResult=c.guardsResult,Qc(c.guardsResult))throw qP(0,c.guardsResult);const l=new rZ(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(l)}),$o(c=>!!c.guardsResult||(this.cancelNavigationTransition(c,"",Xn.GuardRejected),!1)),$w(c=>{if(c.guards.canActivateChecks.length)return ee(c).pipe(ln(l=>{const u=new oZ(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),fr(l=>{let u=!1;return ee(l).pipe(function fee(e,t){return wn(n=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=n;if(!o.length)return ee(n);const s=new Set(o.map(c=>c.route)),i=new Set;for(const c of s)if(!i.has(c))for(const l of ZP(c))i.add(l);let a=0;return Jt(i).pipe(Hi(c=>s.has(c)?function dee(e,t,n,r){const o=e.routeConfig,s=e._resolve;return void 0!==o?.title&&!VP(o)&&(s[Kf]=o.title),function hee(e,t,n,r){const o=yw(e);if(0===o.length)return ee({});const s={};return Jt(o).pipe(wn(i=>function pee(e,t,n,r){const o=od(t)??r,s=el(e,o);return Us(s.resolve?s.resolve(t,n):Oo(o,()=>s(t,n)))}(e[i],t,n,r).pipe(Ho(),ln(a=>{s[i]=a}))),_w(1),function MJ(e){return le(()=>e)}(s),Wc(i=>KP(i)?ao:cm(i)))}(s,e,t,r).pipe(le(i=>(e._resolvedData=i,e.data=Ow(e,e.parent,n).resolve,null)))}(c,r,e,t):(c.data=Ow(c,c.parent,e).resolve,ee(void 0))),ln(()=>a++),_w(1),wn(c=>a===i.size?ee(n):ao))})}(this.paramsInheritanceStrategy,this.environmentInjector),ln({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(l,"",Xn.NoDataFromResolver)}}))}),ln(l=>{const u=new sZ(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}))}),$w(c=>{const l=u=>{const f=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(u.routeConfig).pipe(ln(d=>{u.component=d}),le(()=>{})));for(const d of u.children)f.push(...l(d));return f};return rm(l(c.targetSnapshot.root)).pipe(lm(null),Bs(1))}),$w(()=>this.afterPreactivation()),fr(()=>{const{currentSnapshot:c,targetSnapshot:l}=s,u=this.createViewTransition?.(this.environmentInjector,c.root,l.root);return u?Jt(u).pipe(le(()=>s)):ee(s)}),le(c=>{const l=function pZ(e,t,n){const r=rd(e,t._root,n?n._root:void 0);return new LP(r,t)}(n.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=s={...c,targetRouterState:l},this.currentNavigation.targetRouterState=l,s}),ln(()=>{this.events.next(new Iw)}),((e,t,n,r)=>le(o=>(new CZ(t,o.targetRouterState,o.currentRouterState,n,r).activate(e),o)))(this.rootContexts,n.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),Bs(1),ln({next:c=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new zi(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{i=!0}}),lP(this.transitionAbortSubject.pipe(ln(c=>{throw c}))),Xc(()=>{!i&&!a&&this.cancelNavigationTransition(s,"",Xn.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),Wc(c=>{if(a=!0,WP(c))this.events.next(new Jc(s.id,this.urlSerializer.serialize(s.extractedUrl),c.message,c.cancellationCode)),function _Z(e){return WP(e)&&Qc(e.url)}(c)?this.events.next(new Mw(c.url)):s.resolve(!1);else{this.events.next(new mm(s.id,this.urlSerializer.serialize(s.extractedUrl),c,s.targetSnapshot??void 0));try{s.resolve(n.errorHandler(c))}catch(l){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(l)}}return ao}))}))}cancelNavigationTransition(n,r,o){const s=new Jc(n.id,this.urlSerializer.serialize(n.extractedUrl),r,o);this.events.next(s),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Eee(e){return e!==ed}let See=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=P({token:e,factory:()=>A(Cee),providedIn:"root"})}}return e})();class wee{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}}let Cee=(()=>{class e extends wee{static{this.\u0275fac=(()=>{let n;return function(o){return(n||(n=wp(e)))(o||e)}})()}static{this.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),s1=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=P({token:e,factory:()=>A(Dee),providedIn:"root"})}}return e})(),Dee=(()=>{class e extends s1{constructor(){super(...arguments),this.location=A(Bf),this.urlSerializer=A(Yc),this.options=A(cd,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=A(Hw),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Kc,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=jP(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{"popstate"===r.type&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof Cw)this.stateMemento=this.createStateMemento();else if(n instanceof td)this.rawUrlTree=r.initialUrl;else if(n instanceof FP){if("eager"===this.urlUpdateStrategy&&!r.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(o,r)}}else n instanceof Iw?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,"deferred"===this.urlUpdateStrategy&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r))):n instanceof Jc&&(n.code===Xn.GuardRejected||n.code===Xn.NoDataFromResolver)?this.restoreHistory(r):n instanceof mm?this.restoreHistory(r,!0):n instanceof zi&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){const o=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl){const i={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(o,"",i)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(o,"",s)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===n.finalUrl&&0===s&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static{this.\u0275fac=(()=>{let n;return function(o){return(n||(n=wp(e)))(o||e)}})()}static{this.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var ld=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(ld||{});function Iee(e){throw e}const Mee={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Tee={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let fo=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=A(Qx),this.stateManager=A(s1),this.options=A(cd,{optional:!0})||{},this.pendingTasks=A(Rs),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=A(Sm),this.urlSerializer=A(Yc),this.location=A(Bf),this.urlHandlingStrategy=A(Hw),this._events=new Vt,this.errorHandler=this.options.errorHandler||Iee,this.navigated=!1,this.routeReuseStrategy=A(See),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=A(Em,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!A(_m,{optional:!0}),this.eventsSubscription=new pn,this.isNgZoneEnabled=A(Ae)instanceof Ae&&Ae.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const n=this.navigationTransitions.events.subscribe(r=>{try{const o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(null!==o&&null!==s)if(this.stateManager.handleRouterEvent(r,s),r instanceof Jc&&r.code!==Xn.Redirect&&r.code!==Xn.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof zi)this.navigated=!0;else if(r instanceof Mw){const i=this.urlHandlingStrategy.merge(r.url,o.currentRawUrl),a={info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Eee(o.source)};this.scheduleNavigation(i,ed,null,a,{resolve:o.resolve,reject:o.reject,promise:o.promise})}(function Oee(e){return!(e instanceof Iw||e instanceof Mw)})(r)&&this._events.next(r)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ed,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,o){const s={replaceUrl:!0},i=o?.navigationId?o:null;if(o){const c={...o};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(s.state=c)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,i,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Lw),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){const{relativeTo:o,queryParams:s,fragment:i,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:i;let f,u=null;switch(a){case"merge":u={...this.currentUrlTree.queryParams,...s};break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=s||null}null!==u&&(u=this.removeEmptyProps(u));try{f=TP(o?o.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),f=this.currentUrlTree.root}return RP(f,n,u,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){const o=Qc(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,ed,null,r)}navigate(n,r={skipLocationChange:!1}){return function Ree(e){for(let t=0;t<e.length;t++)if(null==e[t])throw new k(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let o;if(o=!0===r?{...Mee}:!1===r?{...Tee}:r,Qc(n))return vP(this.currentUrlTree,n,o);const s=this.parseUrl(n);return vP(this.currentUrlTree,s,o)}removeEmptyProps(n){return Object.entries(n).reduce((r,[o,s])=>(null!=s&&(r[o]=s),r),{})}scheduleNavigation(n,r,o,s,i){if(this.disposed)return Promise.resolve(!1);let a,c,l;i?(a=i.resolve,c=i.reject,l=i.promise):l=new Promise((f,d)=>{a=f,c=d});const u=this.pendingTasks.add();return function i1(e,t){e.events.pipe($o(n=>n instanceof zi||n instanceof Jc||n instanceof mm||n instanceof td),le(n=>n instanceof zi||n instanceof td?ld.COMPLETE:n instanceof Jc&&(n.code===Xn.Redirect||n.code===Xn.SupersededByNewNavigation)?ld.REDIRECTING:ld.FAILED),$o(n=>n!==ld.REDIRECTING),Bs(1)).subscribe(()=>{t()})}(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(f=>Promise.reject(f))}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const zw=new F("");function Fee(e,...t){return Ya([{provide:Em,multi:!0,useValue:e},[],{provide:Wi,useFactory:c1,deps:[fo]},{provide:CS,multi:!0,useFactory:l1},t.map(n=>n.\u0275providers)])}function c1(e){return e.routerState.root}function l1(){const e=A(Hn);return t=>{const n=e.get(Ps);if(t!==n.components[0])return;const r=e.get(fo),o=e.get(u1);1===e.get(Ww)&&r.initialNavigation(),e.get(f1,null,he.Optional)?.setUpPreloading(),e.get(zw,null,he.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}const u1=new F("",{factory:()=>new Vt}),Ww=new F("",{providedIn:"root",factory:()=>1}),f1=new F("");function h1(e=0,t,n=fJ){let r=-1;return null!=t&&(iP(t)?n=t:r=t),new et(o=>{let s=function Bee(e){return e instanceof Date&&!isNaN(e)}(e)?+e-n.now():e;s<0&&(s=0);let i=0;return n.schedule(function(){o.closed||(o.next(i++),0<=r?this.schedule(void 0,r):o.complete())},s)})}class Uee extends Vt{constructor(t=1/0,n=1/0,r=dw){super(),this._bufferSize=t,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,n)}next(t){const{isStopped:n,_buffer:r,_infiniteTimeWindow:o,_timestampProvider:s,_windowTime:i}=this;n||(r.push(t),!o&&r.push(s.now()+i)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const n=this._innerSubscribe(t),{_infiniteTimeWindow:r,_buffer:o}=this,s=o.slice();for(let i=0;i<s.length&&!t.closed;i+=r?1:2)t.next(s[i]);return this._checkFinalizedStatuses(t),n}_trimBuffer(){const{_bufferSize:t,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:o}=this,s=(o?1:2)*t;if(t<1/0&&s<r.length&&r.splice(0,r.length-s),!o){const i=n.now();let a=0;for(let c=1;c<r.length&&r[c]<=i;c+=2)a=c;a&&r.splice(0,a+1)}}}function Xw(e,t,...n){if(!0===t)return void e();if(!1===t)return;const r=new Cu({next:()=>{r.unsubscribe(),e()}});return t(...n).subscribe(r)}function Hee(e,t){if(1&e&&(Fe(0,"div",3),vn(1,"div",4),Ie()),2&e){const n=Nt(2);Le(),As("width",n.diameter)("height",n.diameter)}}function qee(e,t){if(1&e&&vn(0,"div",5),2&e){const n=Nt().ngIf,r=Nt();As("background",r.color)("height",r.height)("width",n+"%")}}function zee(e,t){if(1&e&&(xs(0),Yt(1,Hee,2,4,"div",1)(2,qee,1,6,"div",2),Ns()),2&e){const n=Nt();Le(),ut("ngIf",n.includeSpinner),Le(),ut("ngIf",n.includeBar)}}function Wee(e,t){if(1&e&&(Fe(0,"div",3),vn(1,"div",4),Ie()),2&e){const n=Nt(2);Le(),As("width",n.diameter)("height",n.diameter)}}function Xee(e,t){if(1&e&&vn(0,"div",5),2&e){const n=Nt().ngIf,r=Nt();As("background",r.color)("height",r.height)("width",n+"%")}}function Gee(e,t){if(1&e&&(xs(0),Yt(1,Wee,2,4,"div",1)(2,Xee,1,6,"div",2),Ns()),2&e){const n=Nt();Le(),ut("ngIf",n.includeSpinner),Le(),ut("ngIf",n.includeBar)}}class Yee{constructor(t={}){this.config=t,this.state={action:null,value:0,initialValue:0},this.requests=null,this.disabled=!1,this.stream$=new Vt,this._value$=null,this.timer$=n=>{let r=ee(n);switch(n.action){case"start":case"increment":case"set":"start"===n.action&&0===this.config.latencyThreshold&&0===n.value&&(n.value=n.initialValue),this.requests>0&&(r=h1(this.config.latencyThreshold,250).pipe(le(o=>({...n,value:0===o?this.state.value||n.initialValue:this._increment()}))));break;case"complete":case"stop":r=0===n.value?ee({...n}):h1(0,500).pipe(Bs(2),le(o=>({value:0===o?100:0})))}return r.pipe(le(o=>({...o,action:"set"})),ln(o=>this.next(o,!1)))},this.config={latencyThreshold:0,...t}}get value$(){return this._value$?this._value$:this._value$=this.stream$.pipe(im(this.state),fr(t=>this.timer$(t)),function $ee(e,t,n){let r,o=!1;return e&&"object"==typeof e?({bufferSize:r=1/0,windowTime:t=1/0,refCount:o=!1,scheduler:n}=e):r=e??1/0,function Vee(e={}){const{connector:t=(()=>new Vt),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:o=!0}=e;return s=>{let i,a,c,l=0,u=!1,f=!1;const d=()=>{a?.unsubscribe(),a=void 0},p=()=>{d(),i=c=void 0,u=f=!1},g=()=>{const m=i;p(),m?.unsubscribe()};return Mt((m,y)=>{l++,!f&&!u&&d();const b=c=c??t();y.add(()=>{l--,0===l&&!f&&!u&&(a=Xw(g,o))}),b.subscribe(y),!i&&l>0&&(i=new Cu({next:S=>b.next(S),error:S=>{f=!0,d(),a=Xw(p,n,S),b.error(S)},complete:()=>{u=!0,d(),a=Xw(p,r),b.complete()}}),io(m).subscribe(i))})(s)}}({connector:()=>new Uee(r,t,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}(),le(t=>t.value))}start(t=2){this.disabled||this.next({action:"start",initialValue:t})}stop(){this.next({action:"stop"})}complete(){this.next({action:"complete"})}disable(){this.disabled=!0}set(t){this.next({action:"set",value:t})}increment(t=0){this.next({action:"increment",value:t})}next(t,n=!0){switch(t.action){case"start":this.requests=(this.requests||0)+1;break;case"complete":if(this.requests=(this.requests||1)-1,this.requests>0)return;break;case"stop":this.requests=0;break;case"increment":t.value=this._increment(t.value)}this.state={...this.state,action:null,...t},n&&this.stream$.next(this.state)}_increment(t=0){const n=this.state.value;return n>=99&&(t=0),0===t&&(t=n>=0&&n<25?3*Math.random()+3:n>=25&&n<65?3*Math.random():n>=65&&n<90?2*Math.random():n>=90&&n<99?.5:0),t+n}}const p1=new F("LOADING_BAR_CONFIG");let Gw=(()=>{class e{get progress$(){return this.value$}constructor(n,r={},o){this.platformId=n,this.config=r,this.zone=o,this.refs={},this.streams$=new Vt,this.value$=this.streams$.pipe(im(null),fr(()=>rm(Object.keys(this.refs).map(s=>this.refs[s].value$))),function Qee(e){return e?t=>new et(n=>t.subscribe(r=>e.run(()=>n.next(r)),r=>e.run(()=>n.error(r)),()=>e.run(()=>n.complete()))):t=>t}(this.zone),le(s=>Math.max(0,...s)))}start(n=2){this.useRef().start(n)}set(n){this.useRef().set(n)}increment(n){this.useRef().increment(n)}complete(){this.useRef().complete()}stop(){this.useRef().stop()}useRef(n="default"){return this.refs[n]||(this.refs[n]=new Yee(this.config),this.streams$.next(),mF(this.platformId)||this.refs[n].disable()),this.refs[n]}static{this.\u0275fac=function(r){return new(r||e)(j(No),j(p1,8),j(Ae,8))}}static{this.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Jee=(()=>{class e{get value$(){return this.ref?this.loader.useRef(this.ref).value$:this.loader.value$}constructor(n){this.loader=n,this.includeSpinner=!0,this.includeBar=!0,this.fixed=!0,this.color="#29d"}static{this.\u0275fac=function(r){return new(r||e)(H(Gw))}}static{this.\u0275cmp=Si({type:e,selectors:[["ngx-loading-bar"]],hostVars:3,hostBindings:function(r,o){2&r&&(Cf("fixed",o.fixed),As("color",o.color))},inputs:{includeSpinner:"includeSpinner",includeBar:"includeBar",fixed:"fixed",color:"color",value:"value",ref:"ref",height:"height",diameter:"diameter"},standalone:!0,features:[Af],decls:2,vars:3,consts:[[4,"ngIf"],["class","ngx-spinner",4,"ngIf"],["class","ngx-bar",3,"background","height","width",4,"ngIf"],[1,"ngx-spinner"],[1,"ngx-spinner-icon"],[1,"ngx-bar"]],template:function(r,o){1&r&&(Yt(0,zee,3,2,"ng-container",0),hS(1,"async")),2&r&&ut("ngIf",null!=o.value?o.value:pS(1,1,o.value$))},dependencies:[KS,Qg],styles:["[_nghost-%COMP%]{position:relative;display:block;pointer-events:none}[_nghost-%COMP%]   .ngx-spinner[_ngcontent-%COMP%]{transition:.35s linear all;display:block;position:absolute;top:5px;left:0}[_nghost-%COMP%]   .ngx-spinner[_ngcontent-%COMP%]   .ngx-spinner-icon[_ngcontent-%COMP%]{width:14px;height:14px;border:solid 2px transparent;border-top-color:inherit;border-left-color:inherit;border-radius:50%;animation:_ngcontent-%COMP%_loading-bar-spinner .4s linear infinite}[_nghost-%COMP%]   .ngx-bar[_ngcontent-%COMP%]{transition:width .35s;position:absolute;top:0;left:0;width:100%;height:2px;border-bottom-right-radius:1px;border-top-right-radius:1px}[dir=rtl]   [_nghost-%COMP%]   .ngx-bar[_ngcontent-%COMP%]{right:0;left:unset}[fixed=true][_nghost-%COMP%]{z-index:10002}[fixed=true][_nghost-%COMP%]   .ngx-bar[_ngcontent-%COMP%]{position:fixed}[fixed=true][_nghost-%COMP%]   .ngx-spinner[_ngcontent-%COMP%]{position:fixed;top:10px;left:10px}[dir=rtl]   [fixed=true][_nghost-%COMP%]   .ngx-spinner[_ngcontent-%COMP%]{right:10px;left:unset}@keyframes _ngcontent-%COMP%_loading-bar-spinner{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"],changeDetection:0})}}return e})(),Zee=(()=>{class e extends Jee{static{this.\u0275fac=(()=>{let n;return function(o){return(n||(n=wp(e)))(o||e)}})()}static{this.\u0275cmp=Si({type:e,selectors:[["ngx-loading-bar"]],hostVars:3,hostBindings:function(r,o){2&r&&(Cf("fixed",o.fixed),As("color",o.color))},features:[NE],decls:2,vars:3,consts:[[4,"ngIf"],["class","ngx-spinner",4,"ngIf"],["class","ngx-bar",3,"background","height","width",4,"ngIf"],[1,"ngx-spinner"],[1,"ngx-spinner-icon"],[1,"ngx-bar"]],template:function(r,o){1&r&&(Yt(0,Gee,3,2,"ng-container",0),hS(1,"async")),2&r&&ut("ngIf",null!=o.value?o.value:pS(1,1,o.value$))},dependencies:[Qg,KS],styles:["[_nghost-%COMP%]{position:relative;display:block;pointer-events:none}[_nghost-%COMP%]   .ngx-spinner[_ngcontent-%COMP%]{transition:.35s linear all;display:block;position:absolute;top:5px;left:0}[_nghost-%COMP%]   .ngx-spinner[_ngcontent-%COMP%]   .ngx-spinner-icon[_ngcontent-%COMP%]{width:14px;height:14px;border:solid 2px transparent;border-top-color:inherit;border-left-color:inherit;border-radius:50%;animation:_ngcontent-%COMP%_loading-bar-spinner .4s linear infinite}[_nghost-%COMP%]   .ngx-bar[_ngcontent-%COMP%]{transition:width .35s;position:absolute;top:0;left:0;width:100%;height:2px;border-bottom-right-radius:1px;border-top-right-radius:1px}[dir=rtl]   [_nghost-%COMP%]   .ngx-bar[_ngcontent-%COMP%]{right:0;left:unset}[fixed=true][_nghost-%COMP%]{z-index:10002}[fixed=true][_nghost-%COMP%]   .ngx-bar[_ngcontent-%COMP%]{position:fixed}[fixed=true][_nghost-%COMP%]   .ngx-spinner[_ngcontent-%COMP%]{position:fixed;top:10px;left:10px}[dir=rtl]   [fixed=true][_nghost-%COMP%]   .ngx-spinner[_ngcontent-%COMP%]{right:10px;left:unset}@keyframes _ngcontent-%COMP%_loading-bar-spinner{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"],changeDetection:0})}}return e})(),ete=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=bs({type:e})}static{this.\u0275inj=To({imports:[pF]})}}return e})();const g1=e=>({selected:e});function tte(e,t){if(1&e){const n=rS();Fe(0,"button",9),Fs("click",function(){const o=Zv(n).$implicit;return eb(Nt(3).selectGenre(o))}),Qt(1),Ie()}if(2&e){const n=t.$implicit,r=Nt(3);ut("ngClass",dS(2,g1,n.label==r.selectedGenre.label)),Le(),Li(" ",n.label," ")}}function nte(e,t){if(1&e&&(Fe(0,"section",7)(1,"h2"),Qt(2,"Genre"),Ie(),Yt(3,tte,2,4,"button",8),Ie()),2&e){const n=Nt(2);Le(3),ut("ngForOf",n.musicGenres)}}function rte(e,t){if(1&e){const n=rS();Fe(0,"button",9),Fs("click",function(){const o=Zv(n).$implicit;return eb(Nt(3).selectBeat(o))}),Qt(1),Ie()}if(2&e){const n=t.$implicit,r=Nt(3);ut("ngClass",dS(2,g1,n.id==r.selectedBeat.id)),Le(),Li(" ",n.label," ")}}function ote(e,t){if(1&e&&(Fe(0,"section",10)(1,"h2"),Qt(2),Ie(),Yt(3,rte,2,4,"button",8),Ie()),2&e){const n=Nt(2);Le(2),Li("",n.selectedGenre.label," beats"),Le(),ut("ngForOf",n.selectedGenre.beats)}}function ste(e,t){if(1&e&&(xs(0),Fe(1,"main",1)(2,"nav",2),vn(3,"img",3),Yt(4,nte,4,1,"section",4)(5,ote,4,2,"section",5),Ie(),Fe(6,"section",6),vn(7,"router-outlet"),Ie()(),Ns()),2&e){const n=Nt();Le(4),ut("ngIf",0!=n.musicGenres.length),Le(),ut("ngIf",0!=n.musicGenres.length)}}function ite(e,t){1&e&&(xs(0),Fe(1,"main",11)(2,"section",6),vn(3,"router-outlet"),Ie()(),Ns())}function ate(e,t){1&e&&vn(0,"img",18)}function cte(e,t){1&e&&vn(0,"img",19)}function lte(e,t){if(1&e&&(xs(0),Fe(1,"header",12),vn(2,"img",13),Ie(),Fe(3,"div",14),Yt(4,ate,1,0,"img",15)(5,cte,1,0,"img",16),Ie(),Fe(6,"div",17)(7,"h1"),Qt(8,"Only available in landscape mode"),Ie(),Fe(9,"h3"),Qt(10,"Turn your device!"),Ie()(),Ns()),2&e){const n=Nt();Le(4),ut("ngIf",n.mode==n.Mode.LIGHT),Le(),ut("ngIf",n.mode==n.Mode.DARK)}}let ute=(()=>{class e{constructor(n,r,o,s){this.responsive=n,this._genresManager=r,this.modeToggleService=o,this.router=s,this.isMobileDisplay=!0,this.selectedGenre={},this.selectedBeat={},this.musicGenres=[],this.isPortrait=!1,this.isLandscape=!1,this.mode=$i.LIGHT,this.Mode=$i,this.modeToggleService.modeChanged$.subscribe(i=>this.mode=i),this.checkOrientation()}ngOnInit(){this.responsive.observe(["(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)"]).subscribe(n=>{this.isMobileDisplay=!n.matches}),this._genresManager.getGenres().then(n=>{this.musicGenres=n,this.selectGenre(this.musicGenres[0])}).catch(n=>{console.log(n)})}selectGenre(n){this.selectedGenre=n,this.selectBeat(this.selectedGenre.beats[0])}selectBeat(n){this.selectedBeat=n,this.navigateToBeat(n).then(r=>console.log("Navigation success:",r)).catch(r=>console.error("Navigation error:",r))}navigateToBeat(n){return this.router.navigate([""],{queryParams:{genre:this.selectedGenre.label,beat:n.id},queryParamsHandling:"merge",replaceUrl:!0})}onOrientationChange(n){this.checkOrientation()}checkOrientation(){const n=window.screen.orientation.angle;this.isPortrait=0===n||180===n,this.isLandscape=90===n||-90===n}static{this.\u0275fac=function(r){return new(r||e)(H(vJ),H(gw),H(EJ),H(fo))}}static{this.\u0275cmp=Si({type:e,selectors:[["app-root"]],hostBindings:function(r,o){1&r&&Fs("orientationchange",function(i){return o.onOrientationChange(i)},0,AR)},decls:4,vars:3,consts:[[4,"ngIf"],[1,"flex","app-container"],[1,"flex","column","left-menu"],["src","./assets/images/title.svg","id","title-image","alt","Website Title"],["class","flex menu genre",4,"ngIf"],["class","flex menu",4,"ngIf"],[1,"flex","content"],[1,"flex","menu","genre"],["class","button pointer",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"button","pointer",3,"click","ngClass"],[1,"flex","menu"],[1,"app-container"],[1,"header-mobile","mt-40","mb-40"],["src","./assets/images/title-mobile.svg","alt","Website Title",1,"title-image-mobile"],[1,"portrait-to-landscape"],["src","./assets/images/light/orientation.png","class","portrait-to-landscape-image","alt","Portrait to landscape image",4,"ngIf"],["src","./assets/images/dark/orientation.png","class","portrait-to-landscape-image","alt","Portrait to landscape image",4,"ngIf"],[1,"ml-10"],["src","./assets/images/light/orientation.png","alt","Portrait to landscape image",1,"portrait-to-landscape-image"],["src","./assets/images/dark/orientation.png","alt","Portrait to landscape image",1,"portrait-to-landscape-image"]],template:function(r,o){1&r&&(vn(0,"ngx-loading-bar"),Yt(1,ste,8,2,"ng-container",0)(2,ite,4,0,"ng-container",0)(3,lte,11,2,"ng-container",0)),2&r&&(Le(),ut("ngIf",!o.isMobileDisplay),Le(),ut("ngIf",o.isMobileDisplay&&o.isLandscape),Le(),ut("ngIf",o.isMobileDisplay&&o.isPortrait))},dependencies:[cF,WS,Qg,Zee,Fw],styles:['html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%;margin:0}[_ngcontent-%COMP%]:root{font-family:Inter,sans-serif;font-feature-settings:"liga" 1,"calt" 1,"ss01" on}@supports (font-variation-settings: normal){[_ngcontent-%COMP%]:root{font-family:InterVariable,sans-serif}}a[_ngcontent-%COMP%]{all:unset}h3[_ngcontent-%COMP%]{margin:0}button[_ngcontent-%COMP%]{font-family:inherit;font-size:100%;line-height:1.15;margin:0;overflow:visible;text-transform:none;-webkit-appearance:button}.flex[_ngcontent-%COMP%]{display:flex}.mt-40[_ngcontent-%COMP%]{margin-top:40px}.mb-40[_ngcontent-%COMP%]{margin-bottom:40px}.mb-10[_ngcontent-%COMP%]{margin-bottom:10px}.ml-10[_ngcontent-%COMP%]{margin-left:10px}body.dark[_ngcontent-%COMP%]{--backgroundColor: #2e2e2e;--textColor: white;--borderColor: white;--menuButtonColor: #CC71FA;--gridHighLightColor: #474747;background-color:var(--backgroundColor);color:var(--textColor)}body.light[_ngcontent-%COMP%]{--backgroundColor: white;--textColor: black;--borderColor: black;--menuButtonColor: #70F1FA;--gridHighLightColor: #e8e8e8;background-color:var(--backgroundColor);color:var(--textColor)}.app-container[_ngcontent-%COMP%]{height:100%}.menu[_ngcontent-%COMP%]{flex-direction:column;justify-content:flex-start;align-items:flex-start}.menu.genre[_ngcontent-%COMP%]{justify-content:flex-end}.menu[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{border-radius:5px;width:90%;padding:5px;background-color:var(--backgroundColor);border:none;text-align:left;color:var(--textColor)}.menu[_ngcontent-%COMP%]   .button.selected[_ngcontent-%COMP%]{background-color:var(--menuButtonColor);border:solid 1px var(--borderColor)}.menu[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:hover:not(.selected){background-color:#cecece}.content[_ngcontent-%COMP%]{flex:1;justify-content:center;align-items:center;overflow:auto;height:100%}.header[_ngcontent-%COMP%]{width:240px;font-size:30px}.column[_ngcontent-%COMP%]{flex-direction:column}.left-menu[_ngcontent-%COMP%]{padding:10px;justify-content:space-between;margin-bottom:150px}.nowrap[_ngcontent-%COMP%]{white-space:nowrap}.header-mobile[_ngcontent-%COMP%]{font-size:30px;width:100%;text-align:center}.pointer[_ngcontent-%COMP%]{cursor:pointer}#title-image[_ngcontent-%COMP%]{width:150px;aspect-ratio:1}.title-image-mobile[_ngcontent-%COMP%]{width:300px}.portrait-to-landscape[_ngcontent-%COMP%]{justify-content:center;display:flex;flex-direction:row;margin:50px}.portrait-to-landscape[_ngcontent-%COMP%]   .portrait-to-landscape-image[_ngcontent-%COMP%]{width:100px}.beat-name[_ngcontent-%COMP%]{height:40px;text-align:center;vertical-align:middle;width:200px;min-width:200px;font-size:20px}.bpm[_ngcontent-%COMP%]{height:40px;text-align:center;vertical-align:middle;width:120px;min-width:120px;font-size:20px}.corner[_ngcontent-%COMP%]{position:absolute;width:75px;aspect-ratio:1;clip-path:polygon(0 100%,0 0,100% 100%,0 100%)}']})}}return e})();class wm{}class ud{}class Gn{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?"string"==typeof t?this.lazyInit=()=>{this.headers=new Map,t.split("\n").forEach(n=>{const r=n.indexOf(":");if(r>0){const o=n.slice(0,r),s=o.toLowerCase(),i=n.slice(r+1).trim();this.maybeSetNormalizedName(o,s),this.headers.has(s)?this.headers.get(s).push(i):this.headers.set(s,[i])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const n=this.headers.get(t.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,n){return this.clone({name:t,value:n,op:"a"})}set(t,n){return this.clone({name:t,value:n,op:"s"})}delete(t,n){return this.clone({name:t,value:n,op:"d"})}maybeSetNormalizedName(t,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,t)}init(){this.lazyInit&&(this.lazyInit instanceof Gn?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(n=>{this.headers.set(n,t.headers.get(n)),this.normalizedNames.set(n,t.normalizedNames.get(n))})}clone(t){const n=new Gn;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof Gn?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}applyUpdate(t){const n=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(t.name,n);const o=("a"===t.op?this.headers.get(n):void 0)||[];o.push(...r),this.headers.set(n,o);break;case"d":const s=t.value;if(s){let i=this.headers.get(n);if(!i)return;i=i.filter(a=>-1===s.indexOf(a)),0===i.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,i)}else this.headers.delete(n),this.normalizedNames.delete(n)}}setHeaderEntries(t,n){const r=(Array.isArray(n)?n:[n]).map(s=>s.toString()),o=t.toLowerCase();this.headers.set(o,r),this.maybeSetNormalizedName(t,o)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>t(this.normalizedNames.get(n),this.headers.get(n)))}}class fte{encodeKey(t){return m1(t)}encodeValue(t){return m1(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const hte=/%(\d[a-f0-9])/gi,pte={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function m1(e){return encodeURIComponent(e).replace(hte,(t,n)=>pte[n]??t)}function Cm(e){return`${e}`}class qo{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new fte,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function dte(e,t){const n=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(o=>{const s=o.indexOf("="),[i,a]=-1==s?[t.decodeKey(o),""]:[t.decodeKey(o.slice(0,s)),t.decodeValue(o.slice(s+1))],c=n.get(i)||[];c.push(a),n.set(i,c)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(n=>{const r=t.fromObject[n],o=Array.isArray(r)?r.map(Cm):[Cm(r)];this.map.set(n,o)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const n=this.map.get(t);return n?n[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,n){return this.clone({param:t,value:n,op:"a"})}appendAll(t){const n=[];return Object.keys(t).forEach(r=>{const o=t[r];Array.isArray(o)?o.forEach(s=>{n.push({param:r,value:s,op:"a"})}):n.push({param:r,value:o,op:"a"})}),this.clone(n)}set(t,n){return this.clone({param:t,value:n,op:"s"})}delete(t,n){return this.clone({param:t,value:n,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const n=this.encoder.encodeKey(t);return this.map.get(t).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const n=new qo({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(t),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const n=("a"===t.op?this.map.get(t.param):void 0)||[];n.push(Cm(t.value)),this.map.set(t.param,n);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let r=this.map.get(t.param)||[];const o=r.indexOf(Cm(t.value));-1!==o&&r.splice(o,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class gte{constructor(){this.map=new Map}set(t,n){return this.map.set(t,n),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function _1(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function y1(e){return typeof Blob<"u"&&e instanceof Blob}function v1(e){return typeof FormData<"u"&&e instanceof FormData}class fd{constructor(t,n,r,o){let s;if(this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function mte(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==r?r:null,s=o):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new Gn,this.context??=new gte,this.params){const i=this.params.toString();if(0===i.length)this.urlWithParams=n;else{const a=n.indexOf("?");this.urlWithParams=n+(-1===a?"?":a<n.length-1?"&":"")+i}}else this.params=new qo,this.urlWithParams=n}serializeBody(){return null===this.body?null:"string"==typeof this.body||_1(this.body)||y1(this.body)||v1(this.body)||function _te(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}(this.body)?this.body:this.body instanceof qo?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||v1(this.body)?null:y1(this.body)?this.body.type||null:_1(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof qo?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const n=t.method||this.method,r=t.url||this.url,o=t.responseType||this.responseType,s=t.transferCache??this.transferCache,i=void 0!==t.body?t.body:this.body,a=t.withCredentials??this.withCredentials,c=t.reportProgress??this.reportProgress;let l=t.headers||this.headers,u=t.params||this.params;const f=t.context??this.context;return void 0!==t.setHeaders&&(l=Object.keys(t.setHeaders).reduce((d,p)=>d.set(p,t.setHeaders[p]),l)),t.setParams&&(u=Object.keys(t.setParams).reduce((d,p)=>d.set(p,t.setParams[p]),u)),new fd(n,r,i,{params:u,headers:l,context:f,reportProgress:c,responseType:o,withCredentials:a,transferCache:s})}}var Vs=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(Vs||{});class Kw{constructor(t,n=dd.Ok,r="OK"){this.headers=t.headers||new Gn,this.status=void 0!==t.status?t.status:n,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class Dm extends Kw{constructor(t={}){super(t),this.type=Vs.ResponseHeader}clone(t={}){return new Dm({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class $s extends Kw{constructor(t={}){super(t),this.type=Vs.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new $s({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class rl extends Kw{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}var dd=function(e){return e[e.Continue=100]="Continue",e[e.SwitchingProtocols=101]="SwitchingProtocols",e[e.Processing=102]="Processing",e[e.EarlyHints=103]="EarlyHints",e[e.Ok=200]="Ok",e[e.Created=201]="Created",e[e.Accepted=202]="Accepted",e[e.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",e[e.NoContent=204]="NoContent",e[e.ResetContent=205]="ResetContent",e[e.PartialContent=206]="PartialContent",e[e.MultiStatus=207]="MultiStatus",e[e.AlreadyReported=208]="AlreadyReported",e[e.ImUsed=226]="ImUsed",e[e.MultipleChoices=300]="MultipleChoices",e[e.MovedPermanently=301]="MovedPermanently",e[e.Found=302]="Found",e[e.SeeOther=303]="SeeOther",e[e.NotModified=304]="NotModified",e[e.UseProxy=305]="UseProxy",e[e.Unused=306]="Unused",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect",e[e.BadRequest=400]="BadRequest",e[e.Unauthorized=401]="Unauthorized",e[e.PaymentRequired=402]="PaymentRequired",e[e.Forbidden=403]="Forbidden",e[e.NotFound=404]="NotFound",e[e.MethodNotAllowed=405]="MethodNotAllowed",e[e.NotAcceptable=406]="NotAcceptable",e[e.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",e[e.RequestTimeout=408]="RequestTimeout",e[e.Conflict=409]="Conflict",e[e.Gone=410]="Gone",e[e.LengthRequired=411]="LengthRequired",e[e.PreconditionFailed=412]="PreconditionFailed",e[e.PayloadTooLarge=413]="PayloadTooLarge",e[e.UriTooLong=414]="UriTooLong",e[e.UnsupportedMediaType=415]="UnsupportedMediaType",e[e.RangeNotSatisfiable=416]="RangeNotSatisfiable",e[e.ExpectationFailed=417]="ExpectationFailed",e[e.ImATeapot=418]="ImATeapot",e[e.MisdirectedRequest=421]="MisdirectedRequest",e[e.UnprocessableEntity=422]="UnprocessableEntity",e[e.Locked=423]="Locked",e[e.FailedDependency=424]="FailedDependency",e[e.TooEarly=425]="TooEarly",e[e.UpgradeRequired=426]="UpgradeRequired",e[e.PreconditionRequired=428]="PreconditionRequired",e[e.TooManyRequests=429]="TooManyRequests",e[e.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",e[e.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",e[e.InternalServerError=500]="InternalServerError",e[e.NotImplemented=501]="NotImplemented",e[e.BadGateway=502]="BadGateway",e[e.ServiceUnavailable=503]="ServiceUnavailable",e[e.GatewayTimeout=504]="GatewayTimeout",e[e.HttpVersionNotSupported=505]="HttpVersionNotSupported",e[e.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",e[e.InsufficientStorage=507]="InsufficientStorage",e[e.LoopDetected=508]="LoopDetected",e[e.NotExtended=510]="NotExtended",e[e.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",e}(dd||{});function Yw(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,transferCache:e.transferCache}}let b1=(()=>{class e{constructor(n){this.handler=n}request(n,r,o={}){let s;if(n instanceof fd)s=n;else{let c,l;c=o.headers instanceof Gn?o.headers:new Gn(o.headers),o.params&&(l=o.params instanceof qo?o.params:new qo({fromObject:o.params})),s=new fd(n,r,void 0!==o.body?o.body:null,{headers:c,context:o.context,params:l,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache})}const i=ee(s).pipe(Hi(c=>this.handler.handle(c)));if(n instanceof fd||"events"===o.observe)return i;const a=i.pipe($o(c=>c instanceof $s));switch(o.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(le(c=>{if(null!==c.body&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return a.pipe(le(c=>{if(null!==c.body&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return a.pipe(le(c=>{if(null!==c.body&&"string"!=typeof c.body)throw new Error("Response is not a string.");return c.body}));default:return a.pipe(le(c=>c.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:(new qo).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,o={}){return this.request("PATCH",n,Yw(o,r))}post(n,r,o={}){return this.request("POST",n,Yw(o,r))}put(n,r,o={}){return this.request("PUT",n,Yw(o,r))}static{this.\u0275fac=function(r){return new(r||e)(j(wm))}}static{this.\u0275prov=P({token:e,factory:e.\u0275fac})}}return e})();function S1(e,t){return t(e)}function Ste(e,t){return(n,r)=>t.intercept(n,{handle:o=>e(o,r)})}const w1=new F(""),hd=new F(""),C1=new F(""),D1=new F("");function Cte(){let e=null;return(t,n)=>{null===e&&(e=(A(w1,{optional:!0})??[]).reduceRight(Ste,S1));const r=A(Rs),o=r.add();return e(t,n).pipe(Xc(()=>r.remove(o)))}}let I1=(()=>{class e extends wm{constructor(n,r){super(),this.backend=n,this.injector=r,this.chain=null,this.pendingTasks=A(Rs);const o=A(D1,{optional:!0});this.backend=o??n}handle(n){if(null===this.chain){const o=Array.from(new Set([...this.injector.get(hd),...this.injector.get(C1,[])]));this.chain=o.reduceRight((s,i)=>function wte(e,t,n){return(r,o)=>Oo(n,()=>t(r,s=>e(s,o)))}(s,i,this.injector),S1)}const r=this.pendingTasks.add();return this.chain(n,o=>this.backend.handle(o)).pipe(Xc(()=>this.pendingTasks.remove(r)))}static{this.\u0275fac=function(r){return new(r||e)(j(ud),j(Un))}}static{this.\u0275prov=P({token:e,factory:e.\u0275fac})}}return e})();const Rte=/^\)\]\}',?\n/;let Zw=(()=>{class e{constructor(n){this.xhrFactory=n}handle(n){if("JSONP"===n.method)throw new k(-2800,!1);const r=this.xhrFactory;return(r.\u0275loadImpl?Jt(r.\u0275loadImpl()):ee(null)).pipe(fr(()=>new et(s=>{const i=r.build();if(i.open(n.method,n.urlWithParams),n.withCredentials&&(i.withCredentials=!0),n.headers.forEach((m,y)=>i.setRequestHeader(m,y.join(","))),n.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){const m=n.detectContentTypeHeader();null!==m&&i.setRequestHeader("Content-Type",m)}if(n.responseType){const m=n.responseType.toLowerCase();i.responseType="json"!==m?m:"text"}const a=n.serializeBody();let c=null;const l=()=>{if(null!==c)return c;const m=i.statusText||"OK",y=new Gn(i.getAllResponseHeaders()),b=function Ote(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(i)||n.url;return c=new Dm({headers:y,status:i.status,statusText:m,url:b}),c},u=()=>{let{headers:m,status:y,statusText:b,url:S}=l(),R=null;y!==dd.NoContent&&(R=typeof i.response>"u"?i.responseText:i.response),0===y&&(y=R?dd.Ok:0);let L=y>=200&&y<300;if("json"===n.responseType&&"string"==typeof R){const V=R;R=R.replace(Rte,"");try{R=""!==R?JSON.parse(R):null}catch(fe){R=V,L&&(L=!1,R={error:fe,text:R})}}L?(s.next(new $s({body:R,headers:m,status:y,statusText:b,url:S||void 0})),s.complete()):s.error(new rl({error:R,headers:m,status:y,statusText:b,url:S||void 0}))},f=m=>{const{url:y}=l(),b=new rl({error:m,status:i.status||0,statusText:i.statusText||"Unknown Error",url:y||void 0});s.error(b)};let d=!1;const p=m=>{d||(s.next(l()),d=!0);let y={type:Vs.DownloadProgress,loaded:m.loaded};m.lengthComputable&&(y.total=m.total),"text"===n.responseType&&i.responseText&&(y.partialText=i.responseText),s.next(y)},g=m=>{let y={type:Vs.UploadProgress,loaded:m.loaded};m.lengthComputable&&(y.total=m.total),s.next(y)};return i.addEventListener("load",u),i.addEventListener("error",f),i.addEventListener("timeout",f),i.addEventListener("abort",f),n.reportProgress&&(i.addEventListener("progress",p),null!==a&&i.upload&&i.upload.addEventListener("progress",g)),i.send(a),s.next({type:Vs.Sent}),()=>{i.removeEventListener("error",f),i.removeEventListener("abort",f),i.removeEventListener("load",u),i.removeEventListener("timeout",f),n.reportProgress&&(i.removeEventListener("progress",p),null!==a&&i.upload&&i.upload.removeEventListener("progress",g)),i.readyState!==i.DONE&&i.abort()}})))}static{this.\u0275fac=function(r){return new(r||e)(j(Jg))}}static{this.\u0275prov=P({token:e,factory:e.\u0275fac})}}return e})();const eC=new F(""),T1=new F("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),R1=new F("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class O1{}let xte=(()=>{class e{constructor(n,r,o){this.doc=n,this.platform=r,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=iF(n,this.cookieName),this.lastCookieString=n),this.lastToken}static{this.\u0275fac=function(r){return new(r||e)(j(cr),j(No),j(T1))}}static{this.\u0275prov=P({token:e,factory:e.\u0275fac})}}return e})();function Nte(e,t){const n=e.url.toLowerCase();if(!A(eC)||"GET"===e.method||"HEAD"===e.method||n.startsWith("http://")||n.startsWith("https://"))return t(e);const r=A(O1).getToken(),o=A(R1);return null!=r&&!e.headers.has(o)&&(e=e.clone({headers:e.headers.set(o,r)})),t(e)}var Hs=function(e){return e[e.Interceptors=0]="Interceptors",e[e.LegacyInterceptors=1]="LegacyInterceptors",e[e.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",e[e.NoXsrfProtection=3]="NoXsrfProtection",e[e.JsonpSupport=4]="JsonpSupport",e[e.RequestsMadeViaParent=5]="RequestsMadeViaParent",e[e.Fetch=6]="Fetch",e}(Hs||{});function Xi(e,t){return{\u0275kind:e,\u0275providers:t}}function Fte(...e){const t=[b1,Zw,I1,{provide:wm,useExisting:I1},{provide:ud,useExisting:Zw},{provide:hd,useValue:Nte,multi:!0},{provide:eC,useValue:!0},{provide:O1,useClass:xte}];for(const n of e)t.push(...n.\u0275providers);return Ya(t)}const k1=new F("");let Lte=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=bs({type:e})}static{this.\u0275inj=To({providers:[Fte(Xi(Hs.LegacyInterceptors,[{provide:k1,useFactory:Cte},{provide:hd,useExisting:k1,multi:!0}]))]})}}return e})();const qte={100:{code:100,text:"Continue",description:'"The initial part of a request has been received and has not yet been rejected by the server."',spec_title:"RFC7231#6.2.1",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.2.1"},101:{code:101,text:"Switching Protocols",description:'"The server understands and is willing to comply with the client\'s request, via the Upgrade header field, for a change in the application protocol being used on this connection."',spec_title:"RFC7231#6.2.2",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.2.2"},200:{code:200,text:"OK",description:'"The request has succeeded."',spec_title:"RFC7231#6.3.1",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.3.1"},201:{code:201,text:"Created",description:'"The request has been fulfilled and has resulted in one or more new resources being created."',spec_title:"RFC7231#6.3.2",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.3.2"},202:{code:202,text:"Accepted",description:'"The request has been accepted for processing, but the processing has not been completed."',spec_title:"RFC7231#6.3.3",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.3.3"},203:{code:203,text:"Non-Authoritative Information",description:'"The request was successful but the enclosed payload has been modified from that of the origin server\'s 200 (OK) response by a transforming proxy."',spec_title:"RFC7231#6.3.4",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.3.4"},204:{code:204,text:"No Content",description:'"The server has successfully fulfilled the request and that there is no additional content to send in the response payload body."',spec_title:"RFC7231#6.3.5",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.3.5"},205:{code:205,text:"Reset Content",description:'"The server has fulfilled the request and desires that the user agent reset the "document view", which caused the request to be sent, to its original state as received from the origin server."',spec_title:"RFC7231#6.3.6",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.3.6"},206:{code:206,text:"Partial Content",description:'"The server is successfully fulfilling a range request for the target resource by transferring one or more parts of the selected representation that correspond to the satisfiable ranges found in the requests\'s Range header field."',spec_title:"RFC7233#4.1",spec_href:"https://tools.ietf.org/html/rfc7233#section-4.1"},300:{code:300,text:"Multiple Choices",description:'"The target resource has more than one representation, each with its own more specific identifier, and information about the alternatives is being provided so that the user (or user agent) can select a preferred representation by redirecting its request to one or more of those identifiers."',spec_title:"RFC7231#6.4.1",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.4.1"},301:{code:301,text:"Moved Permanently",description:'"The target resource has been assigned a new permanent URI and any future references to this resource ought to use one of the enclosed URIs."',spec_title:"RFC7231#6.4.2",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.4.2"},302:{code:302,text:"Found",description:'"The target resource resides temporarily under a different URI."',spec_title:"RFC7231#6.4.3",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.4.3"},303:{code:303,text:"See Other",description:'"The server is redirecting the user agent to a different resource, as indicated by a URI in the Location header field, that is intended to provide an indirect response to the original request."',spec_title:"RFC7231#6.4.4",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.4.4"},304:{code:304,text:"Not Modified",description:'"A conditional GET request has been received and would have resulted in a 200 (OK) response if it were not for the fact that the condition has evaluated to false."',spec_title:"RFC7232#4.1",spec_href:"https://tools.ietf.org/html/rfc7232#section-4.1"},305:{code:305,text:"Use Proxy",description:"*deprecated*",spec_title:"RFC7231#6.4.5",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.4.5"},307:{code:307,text:"Temporary Redirect",description:'"The target resource resides temporarily under a different URI and the user agent MUST NOT change the request method if it performs an automatic redirection to that URI."',spec_title:"RFC7231#6.4.7",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.4.7"},400:{code:400,text:"Bad Request",description:'"The server cannot or will not process the request because the received syntax is invalid, nonsensical, or exceeds some limitation on what the server is willing to process."',spec_title:"RFC7231#6.5.1",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.1"},401:{code:401,text:"Unauthorized",description:'"The request has not been applied because it lacks valid authentication credentials for the target resource."',spec_title:"RFC7235#6.3.1",spec_href:"https://tools.ietf.org/html/rfc7235#section-3.1"},402:{code:402,text:"Payment Required",description:"*reserved*",spec_title:"RFC7231#6.5.2",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.2"},403:{code:403,text:"Forbidden",description:'"The server understood the request but refuses to authorize it."',spec_title:"RFC7231#6.5.3",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.3"},404:{code:404,text:"Not Found",description:'"The origin server did not find a current representation for the target resource or is not willing to disclose that one exists."',spec_title:"RFC7231#6.5.4",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.4"},405:{code:405,text:"Method Not Allowed",description:'"The method specified in the request-line is known by the origin server but not supported by the target resource."',spec_title:"RFC7231#6.5.5",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.5"},406:{code:406,text:"Not Acceptable",description:'"The target resource does not have a current representation that would be acceptable to the user agent, according to the proactive negotiation header fields received in the request, and the server is unwilling to supply a default representation."',spec_title:"RFC7231#6.5.6",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.6"},407:{code:407,text:"Proxy Authentication Required",description:'"The client needs to authenticate itself in order to use a proxy."',spec_title:"RFC7231#6.3.2",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.3.2"},408:{code:408,text:"Request Timeout",description:'"The server did not receive a complete request message within the time that it was prepared to wait."',spec_title:"RFC7231#6.5.7",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.7"},409:{code:409,text:"Conflict",description:'"The request could not be completed due to a conflict with the current state of the resource."',spec_title:"RFC7231#6.5.8",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.8"},410:{code:410,text:"Gone",description:'"Access to the target resource is no longer available at the origin server and that this condition is likely to be permanent."',spec_title:"RFC7231#6.5.9",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.9"},411:{code:411,text:"Length Required",description:'"The server refuses to accept the request without a defined Content-Length."',spec_title:"RFC7231#6.5.10",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.10"},412:{code:412,text:"Precondition Failed",description:'"One or more preconditions given in the request header fields evaluated to false when tested on the server."',spec_title:"RFC7232#4.2",spec_href:"https://tools.ietf.org/html/rfc7232#section-4.2"},413:{code:413,text:"Payload Too Large",description:'"The server is refusing to process a request because the request payload is larger than the server is willing or able to process."',spec_title:"RFC7231#6.5.11",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.11"},414:{code:414,text:"URI Too Long",description:'"The server is refusing to service the request because the request-target is longer than the server is willing to interpret."',spec_title:"RFC7231#6.5.12",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.12"},415:{code:415,text:"Unsupported Media Type",description:'"The origin server is refusing to service the request because the payload is in a format not supported by the target resource for this method."',spec_title:"RFC7231#6.5.13",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.13"},416:{code:416,text:"Range Not Satisfiable",description:'"None of the ranges in the request\'s Range header field overlap the current extent of the selected resource or that the set of ranges requested has been rejected due to invalid ranges or an excessive request of small or overlapping ranges."',spec_title:"RFC7233#4.4",spec_href:"https://tools.ietf.org/html/rfc7233#section-4.4"},417:{code:417,text:"Expectation Failed",description:'"The expectation given in the request\'s Expect header field could not be met by at least one of the inbound servers."',spec_title:"RFC7231#6.5.14",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.14"},418:{code:418,text:"I'm a teapot",description:'"1988 April Fools Joke. Returned by tea pots requested to brew coffee."',spec_title:"RFC 2324",spec_href:"https://tools.ietf.org/html/rfc2324"},426:{code:426,text:"Upgrade Required",description:'"The server refuses to perform the request using the current protocol but might be willing to do so after the client upgrades to a different protocol."',spec_title:"RFC7231#6.5.15",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.15"},500:{code:500,text:"Internal Server Error",description:'"The server encountered an unexpected condition that prevented it from fulfilling the request."',spec_title:"RFC7231#6.6.1",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.6.1"},501:{code:501,text:"Not Implemented",description:'"The server does not support the functionality required to fulfill the request."',spec_title:"RFC7231#6.6.2",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.6.2"},502:{code:502,text:"Bad Gateway",description:'"The server, while acting as a gateway or proxy, received an invalid response from an inbound server it accessed while attempting to fulfill the request."',spec_title:"RFC7231#6.6.3",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.6.3"},503:{code:503,text:"Service Unavailable",description:'"The server is currently unable to handle the request due to a temporary overload or scheduled maintenance, which will likely be alleviated after some delay."',spec_title:"RFC7231#6.6.4",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.6.4"},504:{code:504,text:"Gateway Time-out",description:'"The server, while acting as a gateway or proxy, did not receive a timely response from an upstream server it needed to access in order to complete the request."',spec_title:"RFC7231#6.6.5",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.6.5"},505:{code:505,text:"HTTP Version Not Supported",description:'"The server does not support, or refuses to support, the protocol version that was used in the request message."',spec_title:"RFC7231#6.6.6",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.6.6"},102:{code:102,text:"Processing",description:'"An interim response to inform the client that the server has accepted the complete request, but has not yet completed it."',spec_title:"RFC5218#10.1",spec_href:"https://tools.ietf.org/html/rfc2518#section-10.1"},207:{code:207,text:"Multi-Status",description:'"Status for multiple independent operations."',spec_title:"RFC5218#10.2",spec_href:"https://tools.ietf.org/html/rfc2518#section-10.2"},226:{code:226,text:"IM Used",description:'"The server has fulfilled a GET request for the resource, and the response is a representation of the result of one or more instance-manipulations applied to the current instance."',spec_title:"RFC3229#10.4.1",spec_href:"https://tools.ietf.org/html/rfc3229#section-10.4.1"},308:{code:308,text:"Permanent Redirect",description:'"The target resource has been assigned a new permanent URI and any future references to this resource SHOULD use one of the returned URIs. [...] This status code is similar to 301 Moved Permanently (Section 7.3.2 of rfc7231), except that it does not allow rewriting the request method from POST to GET."',spec_title:"RFC7238",spec_href:"https://tools.ietf.org/html/rfc7238"},422:{code:422,text:"Unprocessable Entity",description:'"The server understands the content type of the request entity (hence a 415(Unsupported Media Type) status code is inappropriate), and the syntax of the request entity is correct (thus a 400 (Bad Request) status code is inappropriate) but was unable to process the contained instructions."',spec_title:"RFC5218#10.3",spec_href:"https://tools.ietf.org/html/rfc2518#section-10.3"},423:{code:423,text:"Locked",description:'"The source or destination resource of a method is locked."',spec_title:"RFC5218#10.4",spec_href:"https://tools.ietf.org/html/rfc2518#section-10.4"},424:{code:424,text:"Failed Dependency",description:'"The method could not be performed on the resource because the requested action depended on another action and that action failed."',spec_title:"RFC5218#10.5",spec_href:"https://tools.ietf.org/html/rfc2518#section-10.5"},428:{code:428,text:"Precondition Required",description:'"The origin server requires the request to be conditional."',spec_title:"RFC6585#3",spec_href:"https://tools.ietf.org/html/rfc6585#section-3"},429:{code:429,text:"Too Many Requests",description:'"The user has sent too many requests in a given amount of time ("rate limiting")."',spec_title:"RFC6585#4",spec_href:"https://tools.ietf.org/html/rfc6585#section-4"},431:{code:431,text:"Request Header Fields Too Large",description:'"The server is unwilling to process the request because its header fields are too large."',spec_title:"RFC6585#5",spec_href:"https://tools.ietf.org/html/rfc6585#section-5"},451:{code:451,text:"Unavailable For Legal Reasons",description:'"The server is denying access to the resource in response to a legal demand."',spec_title:"draft-ietf-httpbis-legally-restricted-status",spec_href:"https://tools.ietf.org/html/draft-ietf-httpbis-legally-restricted-status"},506:{code:506,text:"Variant Also Negotiates",description:'"The server has an internal configuration error: the chosen variant resource is configured to engage in transparent content negotiation itself, and is therefore not a proper end point in the negotiation process."',spec_title:"RFC2295#8.1",spec_href:"https://tools.ietf.org/html/rfc2295#section-8.1"},507:{code:507,text:"Insufficient Storage",description:'The method could not be performed on the resource because the server is unable to store the representation needed to successfully complete the request."',spec_title:"RFC5218#10.6",spec_href:"https://tools.ietf.org/html/rfc2518#section-10.6"},511:{code:511,text:"Network Authentication Required",description:'"The client needs to authenticate to gain network access."',spec_title:"RFC6585#6",spec_href:"https://tools.ietf.org/html/rfc6585#section-6"}};class tC{}class Xte{}let Mm=(()=>{class e{constructor(n={}){Object.assign(this,{caseSensitiveSearch:!1,dataEncapsulation:!1,delay:500,delete404:!1,passThruUnknownUrl:!1,post204:!0,post409:!1,put204:!0,put404:!1,apiBase:void 0,host:void 0,rootPath:void 0},n)}static{this.\u0275fac=function(r){return new(r||e)(j(Xte))}}static{this.\u0275prov=P({token:e,factory:e.\u0275fac})}}return e})();class Yte{constructor(t,n={}){this.inMemDbService=t,this.config=new Mm,this.db={},this.requestInfoUtils=this.getRequestInfoUtils();const r=this.getLocation("/");this.config.host=r.host,this.config.rootPath=r.path,Object.assign(this.config,n)}get dbReady(){return this.dbReadySubject||(this.dbReadySubject=new Mn(!1),this.resetDb()),this.dbReadySubject.asObservable().pipe(Ho(t=>t))}handleRequest(t){return this.dbReady.pipe(Hi(()=>this.handleRequest_(t)))}handleRequest_(t){const n=t.urlWithParams?t.urlWithParams:t.url,r=this.bind("parseRequestUrl"),o=r&&r(n,this.requestInfoUtils)||this.parseRequestUrl(n),s=o.collectionName,i=this.db[s],a={req:t,apiBase:o.apiBase,collection:i,collectionName:s,headers:this.createHeaders({"Content-Type":"application/json"}),id:this.parseId(i,s,o.id),method:this.getRequestMethod(t),query:o.query,resourceUrl:o.resourceUrl,url:n,utils:this.requestInfoUtils};let c;if(/commands\/?$/i.test(a.apiBase))return this.commands(a);const l=this.bind(a.method);if(l){const u=l(a);if(u)return u}return this.db[s]?this.createResponse$(()=>this.collectionHandler(a)):this.config.passThruUnknownUrl?this.getPassThruBackend().handle(t):(c=this.createErrorResponseOptions(n,404,`Collection '${s}' not found`),this.createResponse$(()=>c))}addDelay(t){const n=this.config.delay;return 0===n?t:function Hte(e,t){return new et(n=>{let r=!1,o=!1;const s=e.subscribe(i=>{o=!0,setTimeout(()=>{n.next(i),r&&n.complete()},t)},i=>setTimeout(()=>n.error(i),t),()=>{r=!0,o||n.complete()});return()=>s.unsubscribe()})}(t,n||500)}applyQuery(t,n){const r=[],o=this.config.caseSensitiveSearch?void 0:"i";n.forEach((i,a)=>{i.forEach(c=>r.push({name:a,rx:new RegExp(decodeURI(c),o)}))});const s=r.length;return s?t.filter(i=>{let a=!0,c=s;for(;a&&c;){c-=1;const l=r[c];a=l.rx.test(i[l.name])}return a}):t}bind(t){const n=this.inMemDbService[t];return n?n.bind(this.inMemDbService):void 0}bodify(t){return this.config.dataEncapsulation?{data:t}:t}clone(t){return JSON.parse(JSON.stringify(t))}collectionHandler(t){let n;switch(t.method){case"get":n=this.get(t);break;case"post":n=this.post(t);break;case"put":n=this.put(t);break;case"delete":n=this.delete(t);break;default:n=this.createErrorResponseOptions(t.url,405,"Method not allowed")}const r=this.bind("responseInterceptor");return r?r(n,t):n}commands(t){const n=t.collectionName.toLowerCase(),r=t.method;let o={url:t.url};switch(n){case"resetdb":return o.status=204,this.resetDb(t).pipe(Hi(()=>this.createResponse$(()=>o,!1)));case"config":if("get"===r)o.status=200,o.body=this.clone(this.config);else{const s=this.getJsonBody(t.req);Object.assign(this.config,s),this.passThruBackend=void 0,o.status=204}break;default:o=this.createErrorResponseOptions(t.url,500,`Unknown command "${n}"`)}return this.createResponse$(()=>o,!1)}createErrorResponseOptions(t,n,r){return{body:{error:`${r}`},url:t,headers:this.createHeaders({"Content-Type":"application/json"}),status:n}}createResponse$(t,n=!0){const r=this.createResponseOptions$(t);let o=this.createResponse$fromResponseOptions$(r);return n?this.addDelay(o):o}createResponseOptions$(t){return new et(n=>{let r;try{r=t()}catch(s){r=this.createErrorResponseOptions("",500,`${s.message||s}`)}const o=r.status;try{r.statusText=null!=o?function zte(e){return qte[e+""].text||"Unknown Status"}(o):void 0}catch{}return null!=o&&function Wte(e){return e>=200&&e<300}(o)?(n.next(r),n.complete()):n.error(r),()=>{}})}delete({collection:t,collectionName:n,headers:r,id:o,url:s}){return null==o?this.createErrorResponseOptions(s,404,`Missing "${n}" id`):{headers:r,status:this.removeById(t,o)||!this.config.delete404?204:404}}findById(t,n){return t.find(r=>r.id===n)}genId(t,n){const r=this.bind("genId");if(r){const o=r(t,n);if(null!=o)return o}return this.genIdDefault(t,n)}genIdDefault(t,n){if(!this.isCollectionIdNumeric(t,n))throw new Error(`Collection '${n}' id type is non-numeric or unknown. Can only generate numeric ids.`);let r=0;return t.reduce((o,s)=>{r=Math.max(r,"number"==typeof s.id?s.id:r)},void 0),r+1}get({collection:t,collectionName:n,headers:r,id:o,query:s,url:i}){let a=t;return null!=o&&""!==o?a=this.findById(t,o):s&&(a=this.applyQuery(t,s)),a?{body:this.bodify(this.clone(a)),headers:r,status:200}:this.createErrorResponseOptions(i,404,`'${n}' with id='${o}' not found`)}getLocation(t){if(!t.startsWith("http")){const n=typeof document>"u"?void 0:document,r=n?n.location.protocol+"//"+n.location.host:"http://fake";t=t.startsWith("/")?r+t:r+"/"+t}return function Gte(e){const n=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(e),r={source:"",protocol:"",authority:"",userInfo:"",user:"",password:"",host:"",port:"",relative:"",path:"",directory:"",file:"",query:"",anchor:""},o=Object.keys(r);let s=o.length;for(;s--;)r[o[s]]=n&&n[s]||"";return r}(t)}getPassThruBackend(){return this.passThruBackend?this.passThruBackend:this.passThruBackend=this.createPassThruBackend()}getRequestInfoUtils(){return{createResponse$:this.createResponse$.bind(this),findById:this.findById.bind(this),isCollectionIdNumeric:this.isCollectionIdNumeric.bind(this),getConfig:()=>this.config,getDb:()=>this.db,getJsonBody:this.getJsonBody.bind(this),getLocation:this.getLocation.bind(this),getPassThruBackend:this.getPassThruBackend.bind(this),parseRequestUrl:this.parseRequestUrl.bind(this)}}indexOf(t,n){return t.findIndex(r=>r.id===n)}parseId(t,n,r){if(!this.isCollectionIdNumeric(t,n))return r;const o=parseFloat(r);return isNaN(o)?r:o}isCollectionIdNumeric(t,n){return!(!t||!t[0])&&"number"==typeof t[0].id}parseRequestUrl(t){try{const n=this.getLocation(t);let r=(this.config.rootPath||"").length,o="";n.host!==this.config.host&&(r=1,o=n.protocol+"//"+n.host+"/");const i=n.path.substring(r).split("/");let c,a=0;null==this.config.apiBase?c=i[a++]:(c=function Kte(e){return e.replace(/\/$/,"")}(this.config.apiBase.trim()),a=c?c.split("/").length:0),c+="/";let l=i[a++];l=l&&l.split(".")[0];return{apiBase:c,collectionName:l,id:i[a++],query:this.createQueryMap(n.query),resourceUrl:o+c+l+"/"}}catch(n){throw new Error(`unable to parse url '${t}'; original error: ${n.message}`)}}post({collection:t,collectionName:n,headers:r,id:o,req:s,resourceUrl:i,url:a}){const c=this.clone(this.getJsonBody(s));if(null==c.id)try{c.id=o||this.genId(t,n)}catch(f){const d=f.message||"";return/id type is non-numeric/.test(d)?this.createErrorResponseOptions(a,422,d):this.createErrorResponseOptions(a,500,`Failed to generate new id for '${n}'`)}if(o&&o!==c.id)return this.createErrorResponseOptions(a,400,"Request id does not match item.id");const l=this.indexOf(t,o=c.id),u=this.bodify(c);return-1===l?(t.push(c),r.set("Location",i+"/"+o),{headers:r,body:u,status:201}):this.config.post409?this.createErrorResponseOptions(a,409,`'${n}' item with id='${o} exists and may not be updated with POST; use PUT instead.`):(t[l]=c,this.config.post204?{headers:r,status:204}:{headers:r,body:u,status:200})}put({collection:t,collectionName:n,headers:r,id:o,req:s,url:i}){const a=this.clone(this.getJsonBody(s));if(null==a.id)return this.createErrorResponseOptions(i,404,`Missing '${n}' id`);if(o&&o!==a.id)return this.createErrorResponseOptions(i,400,`Request for '${n}' id does not match item.id`);const c=this.indexOf(t,o=a.id),l=this.bodify(a);return c>-1?(t[c]=a,this.config.put204?{headers:r,status:204}:{headers:r,body:l,status:200}):this.config.put404?this.createErrorResponseOptions(i,404,`'${n}' item with id='${o} not found and may not be created with PUT; use POST instead.`):(t.push(a),{headers:r,body:l,status:201})}removeById(t,n){const r=this.indexOf(t,n);return r>-1&&(t.splice(r,1),!0)}resetDb(t){this.dbReadySubject&&this.dbReadySubject.next(!1);const n=this.inMemDbService.createDb(t);return(n instanceof et?n:"function"==typeof n.then?Jt(n):ee(n)).pipe(Ho()).subscribe(o=>{this.db=o,this.dbReadySubject&&this.dbReadySubject.next(!0)}),this.dbReady}}let Qte=(()=>{class e extends Yte{constructor(n,r,o){super(n,r),this.xhrFactory=o}handle(n){try{return this.handleRequest(n)}catch(r){const s=this.createErrorResponseOptions(n.url,500,`${r.message||r}`);return this.createResponse$(()=>s)}}getJsonBody(n){return n.body}getRequestMethod(n){return(n.method||"get").toLowerCase()}createHeaders(n){return new Gn(n)}createQueryMap(n){const r=new Map;if(n){const o=new qo({fromString:n});o.keys().forEach(s=>r.set(s,o.getAll(s)||[]))}return r}createResponse$fromResponseOptions$(n){return n.pipe(le(r=>new $s(r)))}createPassThruBackend(){try{return new Zw(this.xhrFactory)}catch(n){throw n.message="Cannot create passThru404 backend; "+(n.message||""),n}}static{this.\u0275fac=function(r){return new(r||e)(j(tC),j(Mm,8),j(Jg))}}static{this.\u0275prov=P({token:e,factory:e.\u0275fac})}}return e})();function Jte(e,t,n){return new Qte(e,t,n)}let Zte=(()=>{class e{static forRoot(n,r){return{ngModule:e,providers:[{provide:tC,useClass:n},{provide:Mm,useValue:r},{provide:ud,useFactory:Jte,deps:[tC,Mm,Jg]}]}}static forFeature(n,r){return e.forRoot(n,r)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=bs({type:e})}static{this.\u0275inj=To({})}}return e})(),ene=(()=>{class e{createDb(){const n={id:"metal",label:"Metal",bpm:180,tracks:[{name:"Snare",fileName:"metal/snare.mp3",steps:"____X_______X___".split("").map(w=>"X"===w)},{name:"Hats",fileName:"metal/crash.mp3",steps:"X___X___X___X___".split("").map(w=>"X"===w)},{name:"Kick",fileName:"metal/kick.mp3",steps:"XXXXXXXXXXXXXXXX".split("").map(w=>"X"===w)}]},r={id:"techno",label:"4 on the floor",bpm:128,tracks:[{name:"Snare",fileName:"techno/snare.wav",steps:"____X_______X___".split("").map(w=>"X"===w)},{name:"Hats",fileName:"techno/hat.wav",steps:"X_X_X_X_X_X_X_X_".split("").map(w=>"X"===w)},{name:"Kick",fileName:"techno/kick.wav",steps:"X   X   X   X   ".split("").map(w=>"X"===w)}]},o={id:"rock-beat",label:"Rock",bpm:145,tracks:[{name:"Snare",fileName:"metal/snare.mp3",steps:"    X       X   ".split("").map(w=>"X"===w)},{name:"Hats",fileName:"metal/hat.mp3",steps:"X   X   X   X   ".split("").map(w=>"X"===w)},{name:"Kick",fileName:"metal/kick.mp3",steps:"X       X       ".split("").map(w=>"X"===w)}]},s={id:"rock-beat-variation",label:"Rock variation",bpm:145,tracks:[{name:"Snare",fileName:"metal/snare.mp3",steps:"    X       X   ".split("").map(w=>"X"===w)},{name:"Crash",fileName:"metal/crash.mp3",steps:"X   X   X   X   ".split("").map(w=>"X"===w)},{name:"Kick",fileName:"metal/kick.mp3",steps:"X       X       ".split("").map(w=>"X"===w)}]},i={id:"psytrance",label:"Psytrance",bpm:135,tracks:[{name:"Closed hats",fileName:"psytrance/closed-hat.wav",steps:"X   X   X   X   ".split("").map(w=>"X"===w)},{name:"Open hats",fileName:"psytrance/open-hat.wav",steps:"  X   X   X   X ".split("").map(w=>"X"===w)},{name:"Snare",fileName:"psytrance/snare.wav",steps:"    X       X   ".split("").map(w=>"X"===w)},{name:"Kick",fileName:"psytrance/kick.wav",steps:"X   X   X   X   ".split("").map(w=>"X"===w)},{name:"Bass",fileName:"psytrance/bass.wav",steps:" XXX XXX XXX XXX".split("").map(w=>"X"===w)}]},a={id:"off-beat-techno-clap",label:"OffBeat clap",bpm:128,tracks:[{name:"Clap",fileName:"gabber/clap.wav",steps:"    X      XX       X      XX   ".split("").map(w=>"X"===w)},{name:"Hats",fileName:"techno/hat.wav",steps:"  X   X   X   X   X   X   X   X ".split("").map(w=>"X"===w)},{name:"Kick",fileName:"techno/kick.wav",steps:"X   X   X   X   X   X   X   X   ".split("").map(w=>"X"===w)}]},c={id:"jersey-club",label:"Jersey club",bpm:140,tracks:[{name:"Bed squeak (low)",fileName:"jersey-club/squeak_low.mp3",steps:"X       X       ".split("").map(w=>"X"===w)},{name:"Bed squeak (high)",fileName:"jersey-club/squeak_high.mp3",steps:"    X       X   ".split("").map(w=>"X"===w)},{name:"Snare",fileName:"jersey-club/snare.mp3",steps:"X   X   X  X  X ".split("").map(w=>"X"===w)},{name:"Kick",fileName:"jersey-club/kick.mp3",steps:"X   X   X  X  X ".split("").map(w=>"X"===w)}]},l={id:"half-time-groove",label:"Half time groove",bpm:145,tracks:[{name:"Snare",fileName:"metal/snare.mp3",steps:"        X       ".split("").map(w=>"X"===w)},{name:"Crash",fileName:"metal/crash.mp3",steps:"X   X   X   X   ".split("").map(w=>"X"===w)},{name:"Kick",fileName:"metal/kick.mp3",steps:"X               ".split("").map(w=>"X"===w)}]},u={id:"garage",label:"Garage",bpm:130,tracks:[{name:"Snare",fileName:"techno/snare.wav",steps:"    X       X   ".split("").map(w=>"X"===w)},{name:"Hats",fileName:"techno/hat.wav",steps:"  X   X   X   X ".split("").map(w=>"X"===w)},{name:"Kick",fileName:"techno/kick.wav",steps:"X           X   ".split("").map(w=>"X"===w)}]},f={id:"gabber",label:"Gabber",bpm:200,tracks:[{name:"Crash Cymbal",fileName:"gabber/crash.wav",steps:"                               X".split("").map(w=>"X"===w)},{name:"Open HiHats",fileName:"gabber/open-hihat.wav",steps:"X X X X X X X X X X X X X X X X ".split("").map(w=>"X"===w)},{name:"Clap",fileName:"gabber/clap.wav",steps:"X   X   X   X   X   X   X   X   ".split("").map(w=>"X"===w)},{name:"Kick",fileName:"gabber/kick.wav",steps:"X   X   X   X   X   X   X   X   ".split("").map(w=>"X"===w)}]},d={id:"ebm",label:"EBM",bpm:120,tracks:[{name:"Clap",fileName:"ebm/clap.wav",steps:[" "," ","X"," ","X"," ","X"," "," "," ","X"," "," "," ","X","X"," "," ","X","X","X","X"," "," "," ","X"," ","X"," "," ","X"," "].map(w=>"X"===w)},{name:"Open High-Hat",fileName:"ebm/open-hihat.wav",steps:[" "," ","X"," "," "," ","X"," "," "," ","X"," "," "," ","X"," "," "," ","X"," "," "," ","X"," "," "," ","X"," "," "," ","X"," "].map(w=>"X"===w)},{name:"Closed High-Hat",fileName:"ebm/closed-hihat.wav",steps:["X","X"," "," ","X","X"," "," ","X","X"," "," ","X","X"," "," ","X","X"," "," ","X","X"," "," ","X","X"," "," ","X","X"," "," "].map(w=>"X"===w)},{name:"Snare",fileName:"ebm/snare.wav",steps:"    X       X       X       X XX".split("").map(w=>"X"===w)},{name:"Kick",fileName:"ebm/kick.wav",steps:"X   X   X   X   X   X   X   X   ".split("").map(w=>"X"===w)}]},p={id:"dub",label:"Dub",bpm:140,tracks:[{name:"Kick",fileName:"dub/kick.wav",steps:"X_______X_______X_______X_______X_______X_______X_______X_______".split("").map(w=>"X"===w)},{name:"Sub Bass",fileName:"dub/sub.wav",steps:["X"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","X"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","X"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","X"," "," "," "," "," "," "," ","X"," "," "," "," "," "," "," "].map(w=>"X"===w)},{name:"Skank",fileName:"dub/skank.wav",steps:"____X_______X_______X_______X_______X_______X_______X_______X___".split("").map(w=>"X"===w)},{name:"Snare",fileName:"dub/snare.wav",steps:[" "," "," "," "," "," "," "," ","X"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","X"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","X"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","X"," ","X"," "," "," "," "," "].map(w=>"X"===w)},{name:"Arpeggio",fileName:"dub/arpeggio_si.wav",steps:"____X_______X_______X_______X_______X_______X_______X_______X___".split("").map(w=>"X"===w)},{name:"Closed Hat",fileName:"dub/closed-hat.wav",steps:[" "," "," "," ","X"," ","X"," "," "," "," "," ","X"," "," "," "," "," "," "," ","X","X","X"," "," "," "," "," ","X"," "," "," "," "," "," "," ","X"," ","X"," "," "," "," "," ","X","X"," "," "," "," "," "," ","X"," ","X"," "," "," "," "," ","X"," ","X","X"].map(w=>"X"===w)},{name:"Bass",fileName:"dub/bass.wav",steps:"X                                         X                     ".split("").map(w=>"X"===w)}]},g={id:"blast-beat",label:"Blast beat",bpm:180,tracks:[{name:"Snare",fileName:"metal/snare.mp3",steps:"_X_X_X_X_X_X_X_X".split("").map(w=>"X"===w)},{name:"Hats",fileName:"metal/hat.mp3",steps:"X_X_X_X_X_X_X_X_".split("").map(w=>"X"===w)},{name:"Kick",fileName:"metal/kick.mp3",steps:"X_X_X_X_X_X_X_X_".split("").map(w=>"X"===w)}]},m={id:"breakcore",label:"Breakcore",bpm:180,tracks:[{name:"Snare (accent)",fileName:"techno/snare.wav",steps:"    X        X  ".split("").map(w=>"X"===w)},{name:"Snare (main)",fileName:"drum-n-bass/snare.wav",steps:"    X  X X   X  ".split("").map(w=>"X"===w)},{name:"Hats",fileName:"techno/hat.wav",steps:"XXXXXXXXXXXXXXXX".split("").map(w=>"X"===w)},{name:"Kick",fileName:"techno/kick.wav",steps:"X X       XX    ".split("").map(w=>"X"===w)}]},y={id:"drum-n-bass",label:"Drum & bass",bpm:170,tracks:[{name:"Snare",fileName:"drum-n-bass/snare.wav",steps:"    X       X   ".split("").map(w=>"X"===w)},{name:"Hats",fileName:"drum-n-bass/hat.wav",steps:"XXXXXXXXXXXXXXXX".split("").map(w=>"X"===w)},{name:"Kick",fileName:"drum-n-bass/kick.wav",steps:"X         X     ".split("").map(w=>"X"===w)}]},b={id:"dancehall-standard",label:"Standard dancehall",bpm:105,tracks:[{name:"Hats",fileName:"techno/hat.wav",steps:"XXXXXXXXXXXXXXXX".split("").map(w=>"X"===w)},{name:"Snare",fileName:"techno/snare.wav",steps:"      X       X ".split("").map(w=>"X"===w)},{name:"Kick",fileName:"techno/kick.wav",steps:"X  X  X X  X  X ".split("").map(w=>"X"===w)}]},S={id:"dancehall-reggaeton",label:"Reggaeton",bpm:105,tracks:[{name:"Hats",fileName:"techno/hat.wav",steps:"XXXXXXXXXXXXXXXX".split("").map(w=>"X"===w)},{name:"Snare",fileName:"techno/snare.wav",steps:"   X  X    X  X ".split("").map(w=>"X"===w)},{name:"Kick",fileName:"techno/kick.wav",steps:"X   X   X   X   ".split("").map(w=>"X"===w)}]},R={id:"dancehall-modern",label:"Modern dancehall",bpm:105,tracks:[{name:"Hats",fileName:"techno/hat.wav",steps:"XXXXXXXXXXXXXXXX".split("").map(w=>"X"===w)},{name:"Rim",fileName:"techno/snare.wav",steps:"   X  X     X   ".split("").map(w=>"X"===w)},{name:"Kick",fileName:"techno/kick.wav",steps:"X         X     ".split("").map(w=>"X"===w)}]};return{genres:[{label:"Techno",beats:[r,f,a]},{label:"Garage",beats:[u,y]},{label:"Breakbeat",beats:[c,m]},{label:"Dancehall",beats:[S,b,R]},{label:"Trance",beats:[i]},{label:"Dub",beats:[p]},{label:"Indus",beats:[d]},{label:"Metal",beats:[n,l,o,s,g]},{label:"Punk",beats:[{id:"punk-beat-quarter-note-groove",label:"Quarter note groove",bpm:170,tracks:[{name:"Hats",fileName:"metal/hat.mp3",steps:"X___X___X___X___".split("").map(w=>"X"===w)},{name:"Snare",fileName:"metal/snare.mp3",steps:"____X_______X___".split("").map(w=>"X"===w)},{name:"Kick",fileName:"metal/kick.mp3",steps:"X_______X_______".split("").map(w=>"X"===w)}]},{id:"punk-beat-quarter-note-groove-variation",label:"Quarter note groove variation",bpm:170,tracks:[{name:"Hats",fileName:"metal/hat.mp3",steps:"X___X___X___X___".split("").map(w=>"X"===w)},{name:"Snare",fileName:"metal/snare.mp3",steps:"____X_______X___".split("").map(w=>"X"===w)},{name:"Kick",fileName:"metal/kick.mp3",steps:"X_X_____X_X_____".split("").map(w=>"X"===w)}]},{id:"punk-beat-eight-note-fill",label:"Eight note fill",bpm:170,tracks:[{name:"Hats",fileName:"metal/hat.mp3",steps:"X_X_X_X_X_X_X_X_".split("").map(w=>"X"===w)},{name:"Snare",fileName:"metal/snare.mp3",steps:"____X_______X___".split("").map(w=>"X"===w)},{name:"Kick",fileName:"metal/kick.mp3",steps:"X_X___X_X_X_____".split("").map(w=>"X"===w)}]}]}],beats:[R,b,S,y,m,g,p,d,n,r,o,s,i,a,c,l,u,f]}}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const tne={sixteen:16,thirty_two:32,sixty_four:64};class nne{getAudioBuffer(t){return _s(function*(){const n=new Request(`assets/sounds/${t}`),o=yield(yield fetch(n)).arrayBuffer();return yield(new AudioContext).decodeAudioData(o).then(s=>s)})()}}let rne=(()=>{class e{getRenderedBuffer(n,r,o,s){var i=this;return _s(function*(){const a=i.getTickLength(o),c=new OfflineAudioContext(1,2*s*a*44100,44100);return n.forEach(l=>{i.getDuplicatedTrackSteps(l).forEach((f,d)=>{if(!f)return;const p=r.find(y=>y.fileName===l.fileName).sample,g=c.createBufferSource();g.buffer=p,g.connect(c.destination),g.start(d*a)})}),c.oncomplete=l=>l.renderedBuffer,yield c.startRendering()})()}getDuplicatedTrackSteps(n){const r=[...n.steps];return r.push(...n.steps),r}getTickLength(n){return 60/n/4}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),one=(()=>{class e{constructor(n,r){this.soundGeneratorService=n,this.loader=r,this.bpm=120,this.isPlaying=!1,this.index=0,this.samples=[],this.tracks=[],this.stepNumber=16,this.audioFilesService=new nne,this.loopBuffer=null,this.context=new AudioContext,this.playbackSource=new AudioBufferSourceNode(this.context)}playPause(){var n=this;return _s(function*(){n.isPlaying=!n.isPlaying,n.isPlaying?(n.loopBuffer||(n.loopBuffer=yield n.soundGeneratorService.getRenderedBuffer(n.tracks,n.samples,n.bpm,n.stepNumber)),n.playSound(n.loopBuffer)):n.pause()})()}pause(){this.playbackSource.stop(this.context.currentTime),this.reset()}playSound(n){const r=this.context.createBufferSource();r.buffer=n,r.connect(this.context.destination),r.loop=!0,r.loopStart=r.buffer.duration/2,r.loopEnd=r.buffer.duration;const o=this.context.currentTime;r.start();const s=()=>{this.index=Math.trunc(1e3*(this.context.currentTime-o)/this.getMillisStepFromBpm()%this.stepNumber),this.isPlaying&&requestAnimationFrame(s)};s(),this.playbackSource.buffer&&this.playbackSource.stop(this.context.currentTime),this.playbackSource=r}getMillisStepFromBpm(){let r=6e4/this.bpm/4;return r=Math.min(r,1e3),r=Math.max(r,10),r}reset(){this.isPlaying=!1,this.index=0}setBpm(n){this.bpm=n}setTracks(n){this.tracks=n;const r=n.map(o=>o.fileName);this.loadTracks(r)}loadTracks(n){this.loader.start(),n.forEach(o=>this.samples.push({fileName:o}));const r=this.samples.map(o=>this.audioFilesService.getAudioBuffer(o.fileName).then(s=>o.sample=s));Promise.all(r).then(()=>this.loader.complete()).catch(()=>this.loader.complete())}setStepNumber(n){this.stepNumber=n}static{this.\u0275fac=function(r){return new(r||e)(j(rne),j(Gw))}}static{this.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function sne(e,t){if(1&e&&(Fe(0,"h3",11),Qt(1),Ie()),2&e){const n=t.$implicit;Le(),Bc(n.name)}}function ine(e,t){if(1&e&&vn(0,"div",14),2&e){const n=t.$implicit,r=t.index,o=Nt(2);mg("active",n)("current",r===o.soundService.index)("highlight",o.Math.floor(r/4)%2==0)}}function ane(e,t){if(1&e&&(Fe(0,"article")(1,"div",12),Yt(2,ine,1,6,"div",13),Ie()()),2&e){const n=t.$implicit,r=Nt();Le(),mg("sixteen-steps",n.steps.length==r.StepLengths.sixteen)("thirty-two-steps",n.steps.length==r.StepLengths.thirty_two)("sixty-four-steps",n.steps.length==r.StepLengths.sixty_four),Le(),ut("ngForOf",n.steps)}}let cne=(()=>{class e{constructor(n,r,o){this._genresManager=n,this.soundService=r,this.route=o,this.beat={},this.genre={},this.StepLengths=tne,this.Math=Math,this.beatBehaviourSubject=new Vt}ngOnInit(){this._genresManager.getGenres().then(n=>{this.route.queryParamMap.subscribe(r=>{this.selectGenre(n,r.get("genre"),r.get("beat"))})}).catch(n=>{console.log(n)}),this.beatBehaviourSubject.subscribe(n=>{this.soundService.isPlaying&&this.soundService.pause(),this.soundService.reset(),this.soundService.setBpm(n.bpm),this.soundService.setTracks(n.tracks),this.soundService.setStepNumber(n.tracks[0].steps.length)})}toggleIsPlaying(){this.soundService.playPause().then(()=>{},()=>{})}handleKeyboardEvent(n){"Space"==n.code&&this.toggleIsPlaying()}selectGenre(n,r,o){const s=r?n.find(a=>a.label===r):n[0];if(!s)return;this.genre=s;const i=o?s.beats.find(a=>a.id===o):s.beats[0];this.selectBeat(i)}selectBeat(n){null!=n&&(this.beat=n,this.beatBehaviourSubject.next(this.beat))}static{this.\u0275fac=function(r){return new(r||e)(H(gw),H(one),H(Wi))}}static{this.\u0275cmp=Si({type:e,selectors:[["sequencer"]],hostBindings:function(r,o){1&r&&Fs("keydown",function(i){return o.handleKeyboardEvent(i)},0,xR)},standalone:!0,features:[Af],decls:27,vars:6,consts:[["id","main-container"],[1,"play-button-container","flex"],[1,"play-pause-button","pointer",3,"click"],[1,"sequencer-header","flex"],[1,"label"],[1,"small"],[1,"large"],[1,"tracks-name"],["class","track-name",4,"ngFor","ngForOf"],[1,"tracks-container"],[4,"ngFor","ngForOf"],[1,"track-name"],["id","track"],["class","step",3,"active","current","highlight",4,"ngFor","ngForOf"],[1,"step"]],template:function(r,o){1&r&&(Fe(0,"div",0)(1,"div",1)(2,"button",2),Fs("click",function(){return o.toggleIsPlaying()}),Qt(3),Ie()(),Fe(4,"div",3)(5,"div")(6,"div",4)(7,"span",5),Qt(8,"Genre : "),Ie(),Fe(9,"span",6),Qt(10),Ie()(),Fe(11,"div",4)(12,"span",5),Qt(13,"Beat : "),Ie(),Fe(14,"span",6),Qt(15),Ie()(),Fe(16,"div",4)(17,"span",5),Qt(18,"Tempo : "),Ie(),Fe(19,"span",6),Qt(20),Ie(),Fe(21,"span",5),Qt(22," bpm"),Ie()()()(),Fe(23,"div",7),Yt(24,sne,2,1,"h3",8),Ie(),Fe(25,"section",9),Yt(26,ane,3,7,"article",10),Ie()()),2&r&&(Le(3),Li(" ",o.soundService.isPlaying?"\u23f8":"\u25b6"," "),Le(7),Bc(o.genre.label),Le(5),Bc(o.beat.label),Le(5),Bc(o.beat.bpm),Le(4),ut("ngForOf",o.beat.tracks),Le(2),ut("ngForOf",o.beat.tracks))},dependencies:[WS],styles:['html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%;margin:0}[_ngcontent-%COMP%]:root{font-family:Inter,sans-serif;font-feature-settings:"liga" 1,"calt" 1,"ss01" on}@supports (font-variation-settings: normal){[_ngcontent-%COMP%]:root{font-family:InterVariable,sans-serif}}a[_ngcontent-%COMP%]{all:unset}h3[_ngcontent-%COMP%]{margin:0}button[_ngcontent-%COMP%]{font-family:inherit;font-size:100%;line-height:1.15;margin:0;overflow:visible;text-transform:none;-webkit-appearance:button}.flex[_ngcontent-%COMP%]{display:flex}.mt-40[_ngcontent-%COMP%]{margin-top:40px}.mb-40[_ngcontent-%COMP%]{margin-bottom:40px}.mb-10[_ngcontent-%COMP%]{margin-bottom:10px}.ml-10[_ngcontent-%COMP%]{margin-left:10px}body.dark[_ngcontent-%COMP%]{--backgroundColor: #2e2e2e;--textColor: white;--borderColor: white;--menuButtonColor: #CC71FA;--gridHighLightColor: #474747;background-color:var(--backgroundColor);color:var(--textColor)}body.light[_ngcontent-%COMP%]{--backgroundColor: white;--textColor: black;--borderColor: black;--menuButtonColor: #70F1FA;--gridHighLightColor: #e8e8e8;background-color:var(--backgroundColor);color:var(--textColor)}#main-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:max-content auto;gap:10px}.sequencer-grid[_ngcontent-%COMP%]{flex-direction:column}#track[_ngcontent-%COMP%]{display:grid;grid-template-rows:repeat(1,1fr);gap:4px}#track[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]{height:40px;width:40px;background-color:var(--backgroundColor);border-radius:4px;border:1px solid var(--borderColor)}#track[_ngcontent-%COMP%]   .current[_ngcontent-%COMP%]{background:repeating-linear-gradient(-45deg,var(--backgroundColor),var(--backgroundColor) 10px,var(--textColor) 5px,var(--textColor) 15px)}#track[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%], #track[_ngcontent-%COMP%]   .active.highlight[_ngcontent-%COMP%]{background-color:#cc71fa}#track[_ngcontent-%COMP%]   .active.current[_ngcontent-%COMP%], #track[_ngcontent-%COMP%]   .active.highlight.current[_ngcontent-%COMP%]{background:repeating-linear-gradient(-45deg,#CC71FA,#CC71FA 10px,var(--backgroundColor) 5px,var(--backgroundColor) 15px)}#track[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%]{background:var(--gridHighLightColor)}#track[_ngcontent-%COMP%]   .current.highlight[_ngcontent-%COMP%]{background:repeating-linear-gradient(-45deg,var(--gridHighLightColor),var(--gridHighLightColor) 10px,var(--textColor) 5px,var(--textColor) 15px)}.sixteen-steps[_ngcontent-%COMP%]{grid-template-columns:repeat(16,1fr)}.thirty-two-steps[_ngcontent-%COMP%]{grid-template-columns:repeat(32,1fr)}.sixty-four-steps[_ngcontent-%COMP%]{grid-template-columns:repeat(64,1fr)}.tracks-container[_ngcontent-%COMP%]{grid-column-start:2;grid-row-start:2;display:grid;grid-template-columns:auto;gap:4px;overflow-x:auto}.tracks-name[_ngcontent-%COMP%]{margin-top:10px;grid-column-start:1;grid-row-start:2}.tracks-name[_ngcontent-%COMP%]   .track-name[_ngcontent-%COMP%]{white-space:nowrap;height:44px}.sequencer-header[_ngcontent-%COMP%]{grid-column-start:2;grid-row-start:1}.sequencer-header[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{vertical-align:bottom}.sequencer-header[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]   .small[_ngcontent-%COMP%]{font-size:small}.sequencer-header[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]   .large[_ngcontent-%COMP%]{font-size:large;font-weight:700}.play-button-container[_ngcontent-%COMP%]{grid-column-start:1;grid-row-start:1;justify-content:center;align-items:center}.play-button-container[_ngcontent-%COMP%]   .play-pause-button[_ngcontent-%COMP%]{height:40px;width:40px;min-width:40px;background-color:var(--backgroundColor);color:var(--textColor);font-size:20px;border:none}']})}}return e})();const h=function(e,t){if("function"==typeof e)return function(){return e(arguments)?t.apply(this,arguments):n=>t(n,...arguments)};switch(e){case 0:case 1:throw new RangeError(`Invalid arity ${e}`);case 2:return function(n,r){return arguments.length>=2?t(n,r):function(o){return t(o,n)}};case 3:return function(n,r,o){return arguments.length>=3?t(n,r,o):function(s){return t(s,n,r)}};case 4:return function(n,r,o,s){return arguments.length>=4?t(n,r,o,s):function(i){return t(i,n,r,o)}};case 5:return function(n,r,o,s,i){return arguments.length>=5?t(n,r,o,s,i):function(a){return t(a,n,r,o,s)}};default:return function(){if(arguments.length>=e)return t.apply(this,arguments);const n=arguments;return function(r){return t(r,...n)}}}},Ee=e=>e,Tm=e=>()=>e,pd=Tm(!0),zo=Tm(!1),B1=Tm(void 0),Rm=B1;function _(e,t,n,r,o,s,i,a,c){switch(arguments.length){case 1:return e;case 2:return t(e);case 3:return n(t(e));case 4:return r(n(t(e)));case 5:return o(r(n(t(e))));case 6:return s(o(r(n(t(e)))));case 7:return i(s(o(r(n(t(e))))));case 8:return a(i(s(o(r(n(t(e)))))));case 9:return c(a(i(s(o(r(n(t(e))))))));default:{let l=arguments[0];for(let u=1;u<arguments.length;u++)l=arguments[u](l);return l}}}const Om=()=>"3.12.0",nC=Symbol.for(`effect/GlobalValue/globalStoreId/${Om()}`);nC in globalThis||(globalThis[nC]=new Map);const rC=globalThis[nC],ge=(e,t)=>(rC.has(e)||rC.set(e,t()),rC.get(e)),gd=e=>"number"==typeof e,Gi=e=>"function"==typeof e,km=e=>(e=>"object"==typeof e&&null!==e)(e)||Gi(e),W=h(2,(e,t)=>km(e)&&t in e),Am=h(2,(e,t)=>W(e,"_tag")&&e._tag===t),ol=e=>null==e,md=e=>`BUG: ${e} - please report an issue at https://github.com/Effect-TS/effect/issues`;Symbol;class _d{self;called=!1;constructor(t){this.self=t}next(t){return this.called?{value:t,done:!0}:(this.called=!0,{value:this.self,done:!1})}return(t){return{value:t,done:!0}}throw(t){throw t}[Symbol.iterator](){return new _d(this.self)}}class yne{_state;constructor(t,n,r,o){return ol(n)&&ol(t)?(n=4294967295*Math.random()>>>0,t=0):ol(n)&&(n=t,t=0),ol(o)&&ol(r)?(o=this._state?this._state[3]:4150755663,r=this._state?this._state[2]:335903614):ol(o)&&(o=r,r=0),this._state=new Int32Array([0,0,r>>>0,(1|(o||0))>>>0]),this._next(),W1(this._state,this._state[0],this._state[1],t>>>0,n>>>0),this._next(),this}getState(){return[this._state[0],this._state[1],this._state[2],this._state[3]]}setState(t){this._state[0]=t[0],this._state[1]=t[1],this._state[2]=t[2],this._state[3]=1|t[3]}integer(t){return Math.round(this.number()*Number.MAX_SAFE_INTEGER)%t}number(){return(1*(67108863&this._next())*134217728+1*(134217727&this._next()))/9007199254740992}_next(){const t=this._state[0]>>>0,n=this._state[1]>>>0;(function vne(e,t,n,r,o){let s=(n>>>16)*(65535&o)>>>0,i=(65535&n)*(o>>>16)>>>0,a=(65535&n)*(65535&o)>>>0,c=(n>>>16)*(o>>>16)+((i>>>16)+(s>>>16))>>>0;i=i<<16>>>0,a=a+i>>>0,a>>>0<i>>>0&&(c=c+1>>>0),s=s<<16>>>0,a=a+s>>>0,a>>>0<s>>>0&&(c=c+1>>>0),c=c+Math.imul(n,r)>>>0,c=c+Math.imul(t,o)>>>0,e[0]=c,e[1]=a})(this._state,t,n,1481765933,1284865837),W1(this._state,this._state[0],this._state[1],this._state[2],this._state[3]);let r=t>>>18,o=(n>>>18|t<<14)>>>0;r=(r^t)>>>0,o=(o^n)>>>0;const s=(o>>>27|r<<5)>>>0,i=t>>>27;return(s>>>i|s<<((-i>>>0&31)>>>0))>>>0}}function W1(e,t,n,r,o){let s=t+r>>>0;const i=n+o>>>0;i>>>0<n>>>0&&(s=s+1|0),e[0]=s,e[1]=i}const iC=Symbol.for("effect/Utils/YieldWrap");class yd{#e;constructor(t){this.#e=t}[iC](){return this.#e}}const $t=ge("effect/Utils/isStructuralRegion",()=>({enabled:!1,tester:void 0})),Ht=(e=>{const t={[e]:n=>n()};return function(n){return t[e](n)}})("effect_internal_function"),aC=ge(Symbol.for("effect/Hash/randomHashCache"),()=>new WeakMap),Q=Symbol.for("effect/Hash"),B=e=>{if(!0===$t.enabled)return 0;switch(typeof e){case"number":return cC(e);case"bigint":return rt(e.toString(10));case"boolean":case"symbol":return rt(String(e));case"string":return rt(e);case"undefined":return rt("undefined");case"function":case"object":return null===e?rt("null"):e instanceof Date?B(e.toISOString()):Ene(e)?e[Q]():xm(e);default:throw new Error(`BUG: unhandled typeof ${typeof e} - please report an issue at https://github.com/Effect-TS/effect/issues`)}},xm=e=>(aC.has(e)||aC.set(e,cC(Math.floor(Math.random()*Number.MAX_SAFE_INTEGER))),aC.get(e)),oe=e=>t=>53*t^e,Nm=e=>3221225471&e|e>>>1&1073741824,Ene=e=>W(e,Q),cC=e=>{if(e!=e||e===1/0)return 0;let t=0|e;for(t!==e&&(t^=4294967295*e);e>4294967295;)t^=e/=4294967295;return Nm(t)},rt=e=>{let t=5381,n=e.length;for(;n;)t=33*t^e.charCodeAt(--n);return Nm(t)},G1=e=>((e,t)=>{let n=12289;for(let r=0;r<t.length;r++)n^=_(rt(t[r]),oe(B(e[t[r]])));return Nm(n)})(e,Object.keys(e)),Ki=e=>{let t=6151;for(let n=0;n<e.length;n++)t=_(t,oe(B(e[n])));return Nm(t)},Ue=function(){if(1===arguments.length){const n=arguments[0];return function(r){return Object.defineProperty(n,Q,{value:()=>r,enumerable:!1}),r}}const t=arguments[1];return Object.defineProperty(arguments[0],Q,{value:()=>t,enumerable:!1}),t},J=Symbol.for("effect/Equal");function U(){return 1===arguments.length?e=>Fm(e,arguments[0]):Fm(arguments[0],arguments[1])}function Fm(e,t){if(e===t)return!0;const n=typeof e;if(n!==typeof t)return!1;if("object"===n||"function"===n){if(null!==e&&null!==t){if(vd(e)&&vd(t))return!(B(e)!==B(t)||!e[J](t))||!(!$t.enabled||!$t.tester)&&$t.tester(e,t);if(e instanceof Date&&t instanceof Date)return e.toISOString()===t.toISOString()}if($t.enabled){if(Array.isArray(e)&&Array.isArray(t))return e.length===t.length&&e.every((r,o)=>Fm(r,t[o]));if(Object.getPrototypeOf(e)===Object.prototype&&Object.getPrototypeOf(e)===Object.prototype){const r=Object.keys(e),o=Object.keys(t);if(r.length===o.length){for(const s of r)if(!(s in t)||!Fm(e[s],t[s]))return!!$t.tester&&$t.tester(e,t);return!0}}return!!$t.tester&&$t.tester(e,t)}}return!(!$t.enabled||!$t.tester)&&$t.tester(e,t)}const vd=e=>W(e,J),lC=()=>U,Ve=Symbol.for("nodejs.util.inspect.custom"),tt=e=>{try{if(W(e,"toJSON")&&Gi(e.toJSON)&&0===e.toJSON.length)return e.toJSON();if(Array.isArray(e))return e.map(tt)}catch{return{}}return Cne(e)},ct=e=>JSON.stringify(e,null,2),sl=(e,t=2)=>{if("string"==typeof e)return e;try{return"object"==typeof e?uC(e,t):String(e)}catch{return String(e)}},uC=(e,t)=>{let n=[];const r=JSON.stringify(e,(o,s)=>"object"==typeof s&&null!==s?n.includes(s)?void 0:n.push(s)&&(void 0!==Yi.fiberRefs&&K1(s)?s[fC](Yi.fiberRefs):s):s,t);return n=void 0,r},fC=Symbol.for("effect/Inspectable/Redactable"),K1=e=>"object"==typeof e&&null!==e&&fC in e,Yi=ge("effect/Inspectable/redactableState",()=>({fiberRefs:void 0})),Cne=e=>K1(e)&&void 0!==Yi.fiberRefs?e[fC](Yi.fiberRefs):e,z=(e,t)=>{switch(t.length){case 0:return e;case 1:return t[0](e);case 2:return t[1](t[0](e));case 3:return t[2](t[1](t[0](e)));case 4:return t[3](t[2](t[1](t[0](e))));case 5:return t[4](t[3](t[2](t[1](t[0](e)))));case 6:return t[5](t[4](t[3](t[2](t[1](t[0](e))))));case 7:return t[6](t[5](t[4](t[3](t[2](t[1](t[0](e)))))));case 8:return t[7](t[6](t[5](t[4](t[3](t[2](t[1](t[0](e))))))));case 9:return t[8](t[7](t[6](t[5](t[4](t[3](t[2](t[1](t[0](e)))))))));default:{let n=e;for(let r=0,o=t.length;r<o;r++)n=t[r](n);return n}}},bd="Async",Pm="Commit",$e="Failure",Lm="OnFailure",jm="OnSuccess",Bm="OnSuccessAndFailure",He="Success",Qi="UpdateRuntimeFlags",Um="While",Ed="Iterator",Q1="WithRuntime",Vm="Yield",dC="RevertFlags",J1=Symbol.for("effect/Effect"),Z1=Symbol.for("effect/Stream"),eL=Symbol.for("effect/Sink"),tL=Symbol.for("effect/Channel"),il={_R:e=>e,_E:e=>e,_A:e=>e,_V:Om()},Sd={[J1]:il,[Z1]:il,[eL]:{_A:e=>e,_In:e=>e,_L:e=>e,_E:e=>e,_R:e=>e},[tL]:{_Env:e=>e,_InErr:e=>e,_InElem:e=>e,_InDone:e=>e,_OutErr:e=>e,_OutElem:e=>e,_OutDone:e=>e},[J](e){return this===e},[Q](){return Ue(this,xm(this))},[Symbol.iterator](){return new _d(new yd(this))},pipe(){return z(this,arguments)}},$m={[Q](){return Ue(this,G1(this))},[J](e){const t=Object.keys(this),n=Object.keys(e);if(t.length!==n.length)return!1;for(const r of t)if(!(r in e)||!U(this[r],e[r]))return!1;return!0}},Xo={...Sd,_op:Pm},hC={...Xo,...$m},Tne=function(){function e(){}return e.prototype=Xo,e}(),nL=Symbol.for("effect/Option"),rL={...Sd,[nL]:{_A:e=>e},[Ve](){return this.toJSON()},toString(){return ct(this.toJSON())}},One=Object.assign(Object.create(rL),{_tag:"Some",_op:"Some",[J](e){return pC(e)&&oL(e)&&U(this.value,e.value)},[Q](){return Ue(this,oe(B(this._tag))(B(this.value)))},toJSON(){return{_id:"Option",_tag:this._tag,value:tt(this.value)}}}),kne=B("None"),Ane=Object.assign(Object.create(rL),{_tag:"None",_op:"None",[J]:e=>pC(e)&&gC(e),[Q]:()=>kne,toJSON(){return{_id:"Option",_tag:this._tag}}}),pC=e=>W(e,nL),gC=e=>"None"===e._tag,oL=e=>"Some"===e._tag,Hm=Object.create(Ane),wd=e=>{const t=Object.create(One);return t.value=e,t},mC=Symbol.for("effect/Context/Tag"),Cd=Symbol.for("effect/Context/Reference"),_C={...Sd,_op:"Tag",[Symbol.for("effect/STM")]:il,[mC]:{_Service:e=>e,_Identifier:e=>e},toString(){return ct(this.toJSON())},toJSON(){return{_id:"Tag",key:this.key,stack:this.stack}},[Ve](){return this.toJSON()},of:e=>e,context(e){return iL(this,e)}},xne={..._C,[Cd]:Cd},yC=Symbol.for("effect/Context"),Lne={[yC]:{_Services:e=>e},[J](e){if(sL(e)&&this.unsafeMap.size===e.unsafeMap.size){for(const t of this.unsafeMap.keys())if(!e.unsafeMap.has(t)||!U(this.unsafeMap.get(t),e.unsafeMap.get(t)))return!1;return!0}return!1},[Q](){return Ue(this,cC(this.unsafeMap.size))},pipe(){return z(this,arguments)},toString(){return ct(this.toJSON())},toJSON(){return{_id:"Context",services:Array.from(this.unsafeMap).map(tt)}},[Ve](){return this.toJSON()}},po=e=>{const t=Object.create(Lne);return t.unsafeMap=e,t},sL=e=>W(e,yC),Une=po(new Map),iL=(e,t)=>po(new Map([[e.key,t]])),$ne=h(3,(e,t,n)=>{const r=new Map(e.unsafeMap);return r.set(t.key,n),po(r)}),bC=ge("effect/Context/defaultValueCache",()=>new Map),qm=e=>{if(bC.has(e.key))return bC.get(e.key);const t=e.defaultValue();return bC.set(e.key,t),t},aL=h(2,(e,t)=>{if(!e.unsafeMap.has(t.key)){if(Cd in t)return qm(t);throw(e=>{const t=new Error("Service not found"+(e.key?`: ${String(e.key)}`:""));if(e.stack){const n=e.stack.split("\n");if(n.length>2){const r=n[2].match(/at (.*)/);r&&(t.message=t.message+` (defined at ${r[1]})`)}}if(t.stack){const n=t.stack.split("\n");n.splice(1,3),t.stack=n.join("\n")}return t})(t)}return e.unsafeMap.get(t.key)}),Ji=e=>{const t=Error.stackTraceLimit;Error.stackTraceLimit=2;const n=new Error;Error.stackTraceLimit=t;const r=Object.create(_C);return Object.defineProperty(r,"stack",{get:()=>n.stack}),r.key=e,r},Zi=()=>Une,Pt=$ne,go=aL,zm=aL,qs=h(2,(e,t)=>e.unsafeMap.has(t.key)?wd(e.unsafeMap.get(t.key)):(e=>W(e,Cd))(t)?wd(qm(t)):Hm),Dd=h(2,(e,t)=>{const n=new Map(e.unsafeMap);for(const[r,o]of t.unsafeMap)n.set(r,o);return po(n)}),Wm=()=>(e,t)=>{const n=Error.stackTraceLimit;Error.stackTraceLimit=2;const r=new Error;function o(){}return Error.stackTraceLimit=n,Object.setPrototypeOf(o,xne),o.key=e,o.defaultValue=t.defaultValue,Object.defineProperty(o,"stack",{get:()=>r.stack}),o},EC=Symbol.for("effect/Either"),cL={...Sd,[EC]:{_R:e=>e},[Ve](){return this.toJSON()},toString(){return ct(this.toJSON())}},Zne=Object.assign(Object.create(cL),{_tag:"Right",_op:"Right",[J](e){return SC(e)&&CC(e)&&U(this.right,e.right)},[Q](){return oe(B(this._tag))(B(this.right))},toJSON(){return{_id:"Either",_tag:this._tag,right:tt(this.right)}}}),ere=Object.assign(Object.create(cL),{_tag:"Left",_op:"Left",[J](e){return SC(e)&&wC(e)&&U(this.left,e.left)},[Q](){return oe(B(this._tag))(B(this.left))},toJSON(){return{_id:"Either",_tag:this._tag,left:tt(this.left)}}}),SC=e=>W(e,EC),wC=e=>"Left"===e._tag,CC=e=>"Right"===e._tag,yt=e=>{const t=Object.create(Zne);return t.right=e,t},Kn=e=>{const t=Object.create(ere);return t.left=e,t},Yn=wC,Id=CC,hL=h(2,(e,{onLeft:t,onRight:n})=>Yn(e)?t(e.left):n(e.right))({onLeft:Ee,onRight:Ee}),al=e=>(t,n)=>t===n||e(t,n),lre=h(2,(e,t)=>al((n,r)=>e(t(n),t(r)))),mL=e=>e.length>0,I=()=>Hm,T=wd,ve=gC,ue=oL,Qn=h(2,(e,{onNone:t,onSome:n})=>ve(e)?t():n(e.value)),Jn=h(2,(e,t)=>ve(e)?t():e.value),dre=h(2,(e,t)=>ve(e)?T(t()):e),cl=e=>null==e?I():T(e),Zn=Jn(B1),_L=h(2,(e,t)=>{if(ue(e))return e.value;throw t()})(()=>new Error("getOrThrow called on a None")),ll=h(2,(e,t)=>ve(e)?I():T(t(e.value))),DC=h(2,(e,t)=>ve(e)?I():t(e.value)),gre=(e=>h(2,(t,n)=>!ve(t)&&e(t.value,n)))(lC()),zs=(Symbol,e=>(t,n)=>t===n?0:e(t,n)),bL=zs((e,t)=>e<t?-1:1),EL=h(2,(e,t)=>zs((n,r)=>e(t(n),t(r)))),wL=e=>h(2,(t,n)=>1===e(t,n)),Are=(...e)=>e,IC=e=>new Array(e),ie=e=>Array.isArray(e)?e:Array.from(e),Xm=h(2,(e,t)=>[t,...e]),Nre=h(2,(e,t)=>[...e,t]),TL=h(2,(e,t)=>ie(e).concat(ie(t))),Pre=mL,Zt=mL,RL=(e,t)=>e<0||e>=t.length,jre=h(2,(e,t)=>{const n=Math.floor(t);return RL(n,e)?I():T(e[n])}),OL=h(2,(e,t)=>{const n=Math.floor(t);if(RL(n,e))throw new Error(`Index ${n} out of bounds`);return e[n]}),Md=jre(0),Nn=OL(0),MC=e=>e[e.length-1],Ws=e=>e.slice(1),Vre=h(2,(e,t)=>Kre(e,((e,t)=>{let n=0;for(const r of e){if(!t(r,n))break;n++}return n})(e,t))),$re=h(2,(e,t)=>{const n=ie(e);return n.slice(((e,t)=>Math.floor(Math.min(Math.max(0,e),t.length)))(t,n),n.length)}),AL=e=>Array.from(e).reverse(),Td=h(2,(e,t)=>{const n=Array.from(e);return n.sort(t),n}),xL=h(2,(e,t)=>Xre(e,t,Are)),Xre=h(3,(e,t,n)=>{const r=ie(e),o=ie(t);if(Zt(r)&&Zt(o)){const s=[n(Nn(r),Nn(o))],i=Math.min(r.length,o.length);for(let a=1;a<i;a++)s[a]=n(r[a],o[a]);return s}return[]}),NL=lC(),Kre=h(2,(e,t)=>{const n=Array.from(e),r=Math.floor(t);return Zt(n)?r>=1?Yre(n,r):[[],n]:[n,[]]}),Yre=h(2,(e,t)=>{const n=Math.max(1,Math.floor(t));return n>=e.length?[Qre(e),[]]:[Xm(e.slice(1,n),Nn(e)),e.slice(n)]}),Qre=e=>e.slice(),Jre=h(3,(e,t,n)=>{const r=ie(e),o=ie(t);return Zt(r)?Zt(o)?jL(n)(TL(r,o)):r:o}),fl=h(2,(e,t)=>Jre(e,t,NL)),dr=e=>[e],dl=h(2,(e,t)=>e.map(t)),FL=h(2,(e,t)=>{if((e=>0===e.length)(e))return[];const n=[];for(let r=0;r<e.length;r++){const o=t(e[r],r);for(let s=0;s<o.length;s++)n.push(o[s])}return n})(Ee),ea=h(3,(e,t,n)=>ie(e).reduce((r,o,s)=>n(r,o,s),t)),LL=(e,t)=>{const n=[];let o,r=e;for(;ue(o=t(r));){const[s,i]=o.value;n.push(s),r=i}return n},RC=e=>al((t,n)=>{if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(!e(t[r],n[r]))return!1;return!0}),jL=h(2,(e,t)=>{const n=ie(e);if(Zt(n)){const r=[Nn(n)],o=Ws(n);for(const s of o)r.every(i=>!t(s,i))&&r.push(s);return r}return[]}),noe=e=>jL(e,lC()),ta=h(2,(e,t)=>ie(e).join(t)),BL=Symbol.for("effect/Chunk"),UL=[],ooe=(e=>al((t,n)=>t.length===n.length&&Fn(t).every((r,o)=>e(r,_o(n,o)))))(U),soe={[BL]:{_A:e=>e},toString(){return ct(this.toJSON())},toJSON(){return{_id:"Chunk",values:Fn(this).map(tt)}},[Ve](){return this.toJSON()},[J](e){return VL(e)&&ooe(this,e)},[Q](){return Ue(this,Ki(Fn(this)))},[Symbol.iterator](){switch(this.backing._tag){case"IArray":return this.backing.array[Symbol.iterator]();case"IEmpty":return UL[Symbol.iterator]();default:return Fn(this)[Symbol.iterator]()}},pipe(){return z(this,arguments)}},Ct=e=>{const t=Object.create(soe);switch(t.backing=e,e._tag){case"IEmpty":t.length=0,t.depth=0,t.left=t,t.right=t;break;case"IConcat":t.length=e.left.length+e.right.length,t.depth=1+Math.max(e.left.depth,e.right.depth),t.left=e.left,t.right=e.right;break;case"IArray":t.length=e.array.length,t.depth=0,t.left=mo,t.right=mo;break;case"ISingleton":t.length=1,t.depth=0,t.left=mo,t.right=mo;break;case"ISlice":t.length=e.length,t.depth=e.chunk.depth+1,t.left=mo,t.right=mo}return t},VL=e=>W(e,BL),mo=Ct({_tag:"IEmpty"}),en=()=>mo,OC=(...e)=>1===e.length?Lt(e[0]):ioe(e),Lt=e=>Ct({_tag:"ISingleton",a:e}),hl=e=>VL(e)?e:Ct({_tag:"IArray",array:ie(e)}),kC=(e,t,n)=>{switch(e.backing._tag){case"IArray":!function roe(e,t,n,r,o){for(let s=t;s<Math.min(e.length,t+o);s++)n[r+s-t]=e[s]}(e.backing.array,0,t,n,e.length);break;case"IConcat":kC(e.left,t,n),kC(e.right,t,n+e.left.length);break;case"ISingleton":t[n]=e.backing.a;break;case"ISlice":{let r=0,o=n;for(;r<e.length;)t[o]=_o(e,r),r+=1,o+=1;break}}},Fn=e=>{switch(e.backing._tag){case"IEmpty":return UL;case"IArray":return e.backing.array;default:{const t=new Array(e.length);return kC(e,t,0),e.backing={_tag:"IArray",array:t},e.left=mo,e.right=mo,e.depth=0,t}}},Gs=e=>{switch(e.backing._tag){case"IEmpty":case"ISingleton":return e;case"IArray":return Ct({_tag:"IArray",array:AL(e.backing.array)});case"IConcat":return Ct({_tag:"IConcat",left:Gs(e.backing.right),right:Gs(e.backing.left)});case"ISlice":return er(AL(Fn(e)))}},er=e=>Ct({_tag:"IArray",array:e}),ioe=e=>er(e),_o=h(2,(e,t)=>{switch(e.backing._tag){case"IEmpty":throw new Error("Index out of bounds");case"ISingleton":if(0!==t)throw new Error("Index out of bounds");return e.backing.a;case"IArray":if(t>=e.length||t<0)throw new Error("Index out of bounds");return e.backing.array[t];case"IConcat":return t<e.left.length?_o(e.left,t):_o(e.right,t-e.left.length);case"ISlice":return _o(e.backing.chunk,t+e.backing.offset)}}),HL=h(2,(e,t)=>hr(e,Lt(t))),ot=h(2,(e,t)=>hr(Lt(t),e)),Rd=h(2,(e,t)=>{if(t<=0)return e;if(t>=e.length)return mo;switch(e.backing._tag){case"ISlice":return Ct({_tag:"ISlice",chunk:e.backing.chunk,offset:e.backing.offset+t,length:e.backing.length-t});case"IConcat":return t>e.left.length?Rd(e.right,t-e.left.length):Ct({_tag:"IConcat",left:Rd(e.left,t),right:e.right});default:return Ct({_tag:"ISlice",chunk:e,offset:t,length:e.length-t})}}),hr=h(2,(e,t)=>{if("IEmpty"===e.backing._tag)return t;if("IEmpty"===t.backing._tag)return e;const n=t.depth-e.depth;if(Math.abs(n)<=1)return Ct({_tag:"IConcat",left:e,right:t});if(n<-1){if(e.left.depth>=e.right.depth){const r=hr(e.right,t);return Ct({_tag:"IConcat",left:e.left,right:r})}{const r=hr(e.right.right,t);if(r.depth===e.depth-3){const o=Ct({_tag:"IConcat",left:e.right.left,right:r});return Ct({_tag:"IConcat",left:e.left,right:o})}{const o=Ct({_tag:"IConcat",left:e.left,right:e.right.left});return Ct({_tag:"IConcat",left:o,right:r})}}}if(t.right.depth>=t.left.depth){const r=hr(e,t.left);return Ct({_tag:"IConcat",left:r,right:t.right})}{const r=hr(e,t.left.left);if(r.depth===t.depth-3){const o=Ct({_tag:"IConcat",left:r,right:t.left.right});return Ct({_tag:"IConcat",left:o,right:t.right})}{const o=Ct({_tag:"IConcat",left:t.left.right,right:t.right});return Ct({_tag:"IConcat",left:r,right:o})}}}),qL=e=>0===e.length,lt=e=>e.length>0,WL=e=>_o(e,0),we=WL,st=e=>Rd(e,1),AC=Symbol.for("effect/Duration"),XL=BigInt(0),GL=BigInt(24),Km=BigInt(60),xC=BigInt(1e3),KL=BigInt(1e6),NC=BigInt(1e9),YL=/^(-?\d+(?:\.\d+)?)\s+(nanos?|micros?|millis?|seconds?|minutes?|hours?|days?|weeks?)$/,un=e=>{if(JL(e))return e;if(gd(e))return Od(e);if((e=>"bigint"==typeof e)(e))return Ym(e);if(Array.isArray(e)){if(2===e.length&&gd(e[0])&&gd(e[1]))return Ym(BigInt(e[0])*NC+BigInt(e[1]))}else if((e=>"string"==typeof e)(e)){YL.lastIndex=0;const t=YL.exec(e);if(t){const[n,r,o]=t,s=Number(r);switch(o){case"nano":case"nanos":return Ym(BigInt(r));case"micro":case"micros":return doe(BigInt(r));case"milli":case"millis":return Od(s);case"second":case"seconds":return ZL(s);case"minute":case"minutes":return hoe(s);case"hour":case"hours":return poe(s);case"day":case"days":return goe(s);case"week":case"weeks":return moe(s)}}}throw new Error("Invalid DurationInput")},QL={_tag:"Millis",millis:0},loe={_tag:"Infinity"},uoe={[AC]:AC,[Q](){return Ue(this,G1(this.value))},[J](e){return JL(e)&&Eoe(this,e)},toString(){return`Duration(${t2(this)})`},toJSON(){switch(this.value._tag){case"Millis":return{_id:"Duration",_tag:"Millis",millis:this.value.millis};case"Nanos":return{_id:"Duration",_tag:"Nanos",hrtime:yoe(this)};case"Infinity":return{_id:"Duration",_tag:"Infinity"}}},[Ve](){return this.toJSON()},pipe(){return z(this,arguments)}},Go=e=>{const t=Object.create(uoe);return t.value=gd(e)?isNaN(e)||e<=0?QL:Number.isFinite(e)?Number.isInteger(e)?{_tag:"Millis",millis:e}:{_tag:"Nanos",nanos:BigInt(Math.round(1e6*e))}:loe:e<=XL?QL:{_tag:"Nanos",nanos:e},t},JL=e=>W(e,AC),foe=Go(0),Ym=e=>Go(e),doe=e=>Go(e*xC),Od=e=>Go(e),ZL=e=>Go(1e3*e),hoe=e=>Go(6e4*e),poe=e=>Go(36e5*e),goe=e=>Go(864e5*e),moe=e=>Go(6048e5*e),pl=e=>gl(e,{onMillis:t=>t,onNanos:t=>Number(t)/1e6}),yoe=e=>{const t=un(e);switch(t.value._tag){case"Infinity":return[1/0,0];case"Nanos":return[Number(t.value.nanos/NC),Number(t.value.nanos%NC)];case"Millis":return[Math.floor(t.value.millis/1e3),Math.round(t.value.millis%1e3*1e6)]}},gl=h(2,(e,t)=>{const n=un(e);switch(n.value._tag){case"Nanos":return t.onNanos(n.value.nanos);case"Infinity":return t.onMillis(1/0);case"Millis":return t.onMillis(n.value.millis)}}),e2=h(3,(e,t,n)=>{const r=un(e),o=un(t);if("Infinity"===r.value._tag||"Infinity"===o.value._tag)return n.onMillis(pl(r),pl(o));if("Nanos"===r.value._tag||"Nanos"===o.value._tag){const s="Nanos"===r.value._tag?r.value.nanos:BigInt(Math.round(1e6*r.value.millis)),i="Nanos"===o.value._tag?o.value.nanos:BigInt(Math.round(1e6*o.value.millis));return n.onNanos(s,i)}return n.onMillis(r.value.millis,o.value.millis)}),boe=h(2,(e,t)=>e2(e,t,{onMillis:(n,r)=>n>=r,onNanos:(n,r)=>n>=r})),Eoe=h(2,(e,t)=>((e,t)=>e2(e,t,{onMillis:(n,r)=>n===r,onNanos:(n,r)=>n===r}))(un(e),un(t))),t2=e=>{const t=un(e);if("Infinity"===t.value._tag)return"Infinity";const n=(e=>{const t=un(e);if("Infinity"===t.value._tag)return{days:1/0,hours:1/0,minutes:1/0,seconds:1/0,millis:1/0,nanos:1/0};const n=(e=>{const t=un(e);switch(t.value._tag){case"Infinity":throw new Error("Cannot convert infinite duration to nanos");case"Nanos":return t.value.nanos;case"Millis":return BigInt(Math.round(1e6*t.value.millis))}})(t),r=n/KL,o=r/xC,s=o/Km,i=s/Km;return{days:Number(i/GL),hours:Number(i%GL),minutes:Number(s%Km),seconds:Number(o%Km),millis:Number(r%xC),nanos:Number(n%KL)}})(t),r=[];return 0!==n.days&&r.push(`${n.days}d`),0!==n.hours&&r.push(`${n.hours}h`),0!==n.minutes&&r.push(`${n.minutes}m`),0!==n.seconds&&r.push(`${n.seconds}s`),0!==n.millis&&r.push(`${n.millis}ms`),0!==n.nanos&&r.push(`${n.nanos}ns`),r.join(" ")},FC=Math.pow(2,5),woe=FC-1,Coe=FC/2,Doe=FC/4;function ml(e,t){return t>>>e&woe}function _l(e){return 1<<e}function n2(e,t){return function Ioe(e){return e=(e=(858993459&(e-=e>>1&1431655765))+(e>>2&858993459))+(e>>4)&252645135,127&(e+=e>>8)+(e>>16)}(e&t-1)}const Moe=(e,t)=>({value:e,previous:t});function yl(e,t,n,r){let o=r;if(!e){const s=r.length;o=new Array(s);for(let i=0;i<s;++i)o[i]=r[i]}return o[t]=n,o}function r2(e,t,n){const r=n.length-1;let o=0,s=0,i=n;if(e)o=s=t;else for(i=new Array(r);o<t;)i[s++]=n[o++];for(++o;o<=r;)i[s++]=n[o++];return e&&(i.length=r),i}class Ks{_tag="EmptyNode";modify(t,n,r,o,s,i){const a=r(I());return ve(a)?new Ks:(++i.value,new ra(t,o,s,a))}}function Vr(e){return Am(e,"EmptyNode")}function Qm(e,t){return!Vr(e)&&t===e.edit}class ra{edit;hash;key;value;_tag="LeafNode";constructor(t,n,r,o){this.edit=t,this.hash=n,this.key=r,this.value=o}modify(t,n,r,o,s,i){if(U(s,this.key)){const c=r(this.value);return c===this.value?this:ve(c)?(--i.value,new Ks):Qm(this,t)?(this.value=c,this):new ra(t,o,s,c)}const a=r(I());return ve(a)?this:(++i.value,o2(t,n,this.hash,this,o,new ra(t,o,s,a)))}}class PC{edit;hash;children;_tag="CollisionNode";constructor(t,n,r){this.edit=t,this.hash=n,this.children=r}modify(t,n,r,o,s,i){if(o===this.hash){const c=Qm(this,t),l=this.updateCollisionList(c,t,this.hash,this.children,r,s,i);return l===this.children?this:l.length>1?new PC(t,this.hash,l):l[0]}const a=r(I());return ve(a)?this:(++i.value,o2(t,n,this.hash,this,o,new ra(t,o,s,a)))}updateCollisionList(t,n,r,o,s,i,a){const c=o.length;for(let u=0;u<c;++u){const f=o[u];if("key"in f&&U(i,f.key)){const d=f.value,p=s(d);return p===d?o:ve(p)?(--a.value,r2(t,u,o)):yl(t,u,new ra(n,r,i,p),o)}}const l=s(I());return ve(l)?o:(++a.value,yl(t,c,new ra(n,r,i,l),o))}}class vl{edit;mask;children;_tag="IndexedNode";constructor(t,n,r){this.edit=t,this.mask=n,this.children=r}modify(t,n,r,o,s,i){const a=this.mask,c=this.children,l=ml(n,o),u=_l(l),f=n2(a,u),d=a&u,p=Qm(this,t);if(!d){const S=(new Ks).modify(t,n+5,r,o,s,i);return S?c.length>=Coe?function koe(e,t,n,r,o){const s=[];let i=r,a=0;for(let c=0;i;++c)1&i&&(s[c]=o[a++]),i>>>=1;return s[t]=n,new LC(e,a+1,s)}(t,l,S,a,c):new vl(t,a|u,function Toe(e,t,n,r){const o=r.length;if(e){let c=o;for(;c>=t;)r[c--]=r[c];return r[t]=n,r}let s=0,i=0;const a=new Array(o+1);for(;s<t;)a[i++]=r[s++];for(a[t]=n;s<o;)a[++i]=r[s++];return a}(p,f,S,c)):this}const g=c[f],m=g.modify(t,n+5,r,o,s,i);if(g===m)return this;let b,y=a;if(Vr(m)){if(y&=~u,!y)return new Ks;if(c.length<=2&&function Roe(e){return Vr(e)||"LeafNode"===e._tag||"CollisionNode"===e._tag}(c[1^f]))return c[1^f];b=r2(p,f,c)}else b=yl(p,f,m,c);return p?(this.mask=y,this.children=b,this):new vl(t,y,b)}}class LC{edit;size;children;_tag="ArrayNode";constructor(t,n,r){this.edit=t,this.size=n,this.children=r}modify(t,n,r,o,s,i){let a=this.size;const c=this.children,l=ml(n,o),u=c[l],f=(u||new Ks).modify(t,n+5,r,o,s,i);if(u===f)return this;const d=Qm(this,t);let p;if(Vr(u)&&!Vr(f))++a,p=yl(d,l,f,c);else if(!Vr(u)&&Vr(f)){if(--a,a<=Doe)return function Ooe(e,t,n,r){const o=new Array(t-1);let s=0,i=0;for(let a=0,c=r.length;a<c;++a)if(a!==n){const l=r[a];l&&!Vr(l)&&(o[s++]=l,i|=1<<a)}return new vl(e,i,o)}(t,a,l,c);p=yl(d,l,new Ks,c)}else p=yl(d,l,f,c);return d?(this.size=a,this.children=p,this):new LC(t,a,p)}}function Aoe(e,t,n,r,o,s){if(n===o)return new PC(e,n,[s,r]);const i=ml(t,n),a=ml(t,o);if(i===a)return c=>new vl(e,_l(i)|_l(a),[c]);{const c=i<a?[r,s]:[s,r];return new vl(e,_l(i)|_l(a),c)}}function o2(e,t,n,r,o,s){let i,a=t;for(;;){const c=Aoe(e,a,n,r,o,s);if("function"!=typeof c){let l=c;for(;null!=i;)l=i.value(l),i=i.previous;return l}i=Moe(c,i),a+=5}}const s2="effect/HashMap",Jm=Symbol.for(s2),xoe={[Jm]:Jm,[Symbol.iterator](){return new bl(this,(e,t)=>[e,t])},[Q](){let e=B(s2);for(const t of this)e^=_(B(t[0]),oe(B(t[1])));return Ue(this,e)},[J](e){if(l2(e)){if(e._size!==this._size)return!1;for(const t of this){const n=_(e,El(t[0],B(t[0])));if(ve(n))return!1;if(!U(t[1],n.value))return!1}return!0}return!1},toString(){return ct(this.toJSON())},toJSON(){return{_id:"HashMap",values:Array.from(this).map(tt)}},[Ve](){return this.toJSON()},pipe(){return z(this,arguments)}},jC=(e,t,n,r)=>{const o=Object.create(xoe);return o._editable=e,o._edit=t,o._root=n,o._size=r,o};class bl{map;f;v;constructor(t,n){this.map=t,this.f=n,this.v=i2(this.map._root,this.f,void 0)}next(){if(ve(this.v))return{done:!0,value:void 0};const t=this.v.value;return this.v=Zm(t.cont),{done:!1,value:t.value}}[Symbol.iterator](){return new bl(this.map,this.f)}}const Zm=e=>e?a2(e[0],e[1],e[2],e[3],e[4]):I(),i2=(e,t,n=void 0)=>{switch(e._tag){case"LeafNode":return ue(e.value)?T({value:t(e.key,e.value.value),cont:n}):Zm(n);case"CollisionNode":case"ArrayNode":case"IndexedNode":{const r=e.children;return a2(r.length,r,0,t,n)}default:return Zm(n)}},a2=(e,t,n,r,o)=>{for(;n<e;){const s=t[n++];if(s&&!Vr(s))return i2(s,r,[e,t,n,r,o])}return Zm(o)},Noe=jC(!1,0,new Ks,0),oa=()=>Noe,l2=e=>W(e,Jm),Loe=h(2,(e,t)=>El(e,t,B(t))),El=h(3,(e,t,n)=>{let r=e._root,o=0;for(;;)switch(r._tag){case"LeafNode":return U(t,r.key)?r.value:I();case"CollisionNode":if(n===r.hash){const s=r.children;for(let i=0,a=s.length;i<a;++i){const c=s[i];if("key"in c&&U(t,c.key))return c.value}}return I();case"IndexedNode":{const i=_l(ml(o,n));if(r.mask&i){r=r.children[n2(r.mask,i)],o+=5;break}return I()}case"ArrayNode":if(r=r.children[ml(o,n)],r){o+=5;break}return I();default:return I()}}),u2=h(2,(e,t)=>ue(El(e,t,B(t)))),Ko=h(3,(e,t,n)=>n_(e,t,()=>T(n))),Uoe=h(3,(e,t,n)=>e._editable?(e._root=t,e._size=n,e):t===e._root?e:jC(e._editable,e._edit,t,n)),BC=e=>new bl(e,t=>t),e_=e=>e._size,kd=e=>jC(!0,e._edit+1,e._root,e._size),t_=e=>(e._editable=!1,e),n_=h(3,(e,t,n)=>f2(e,t,B(t),n)),f2=h(4,(e,t,n,r)=>{const o={value:e._size},s=e._root.modify(e._editable?e._edit:NaN,0,r,n,t,o);return _(e,Uoe(s,o.value))}),r_=h(2,(e,t)=>n_(e,t,I)),Woe=h(2,(e,t)=>xd(e,oa(),(n,r,o)=>Ko(n,o,t(r,o)))),o_=h(2,(e,t)=>xd(e,void 0,(n,r,o)=>t(r,o))),xd=h(3,(e,t,n)=>{const r=e._root;if("LeafNode"===r._tag)return ue(r.value)?n(t,r.value.value,r.key):t;if("EmptyNode"===r._tag)return t;const o=[r.children];let s;for(;s=o.pop();)for(let i=0,a=s.length;i<a;){const c=s[i++];c&&!Vr(c)&&("LeafNode"===c._tag?ue(c.value)&&(t=n(t,c.value.value,c.key)):o.push(c.children))}return t}),h2="effect/HashSet",s_=Symbol.for(h2),Qoe={[s_]:s_,[Symbol.iterator](){return BC(this._keyMap)},[Q](){return Ue(this,oe(B(this._keyMap))(B(h2)))},[J](e){return!!p2(e)&&e_(this._keyMap)===e_(e._keyMap)&&U(this._keyMap,e._keyMap)},toString(){return ct(this.toJSON())},toJSON(){return{_id:"HashSet",values:Array.from(this).map(tt)}},[Ve](){return this.toJSON()},pipe(){return z(this,arguments)}},Nd=e=>{const t=Object.create(Qoe);return t._keyMap=e,t},p2=e=>W(e,s_),Joe=Nd(oa()),yo=()=>Joe,Sl=h(2,(e,t)=>u2(e._keyMap,t)),wl=e=>Nd(kd(e._keyMap)),Cl=e=>(e._keyMap._editable=!1,e),sa=h(2,(e,t)=>{const n=wl(e);return t(n),Cl(n)}),pr=h(2,(e,t)=>e._keyMap._editable?(Ko(t,!0)(e._keyMap),e):Nd(Ko(t,!0)(e._keyMap))),VC=h(2,(e,t)=>e._keyMap._editable?(r_(t)(e._keyMap),e):Nd(r_(t)(e._keyMap))),rse=h(2,(e,t)=>sa(e,n=>{for(const r of t)VC(n,r)})),sse=h(2,(e,t)=>sa(yo(),n=>{i_(e,r=>pr(n,r));for(const r of t)pr(n,r)})),i_=h(2,(e,t)=>o_(e._keyMap,(n,r)=>t(r))),Ys=yo,a_=(...e)=>{const t=wl(yo());for(const n of e)pr(t,n);return Cl(t)},dse=Sl,Fd=e=>e_(e._keyMap),Pd=pr,y2=VC,v2=rse,Dl=sse,Ld=h(3,(e,t,n)=>xd(e._keyMap,t,(r,o,s)=>n(r,s))),b2=Symbol.for("effect/MutableRef"),pse={[b2]:b2,toString(){return ct(this.toJSON())},toJSON(){return{_id:"MutableRef",current:tt(this.current)}},[Ve](){return this.toJSON()},pipe(){return z(this,arguments)}},jd=e=>{const t=Object.create(pse);return t.current=e,t},Yo=e=>e.current,Bd=h(2,(e,t)=>(e.current=t,e)),c_="effect/FiberId",Qs=Symbol.for(c_),Js="None",Ud="Runtime",gse=rt(`${c_}-${Js}`);class mse{[Qs]=Qs;_tag=Js;id=-1;startTimeMillis=-1;[Q](){return gse}[J](t){return l_(t)&&t._tag===Js}toString(){return ct(this.toJSON())}toJSON(){return{_id:"FiberId",_tag:this._tag}}[Ve](){return this.toJSON()}}class HC{id;startTimeMillis;[Qs]=Qs;_tag=Ud;constructor(t,n){this.id=t,this.startTimeMillis=n}[Q](){return Ue(this,rt(`${c_}-${this._tag}-${this.id}-${this.startTimeMillis}`))}[J](t){return l_(t)&&t._tag===Ud&&this.id===t.id&&this.startTimeMillis===t.startTimeMillis}toString(){return ct(this.toJSON())}toJSON(){return{_id:"FiberId",_tag:this._tag,id:this.id,startTimeMillis:this.startTimeMillis}}[Ve](){return this.toJSON()}}const qC=new mse,l_=e=>W(e,Qs),u_=e=>{switch(e._tag){case Js:return Ys();case Ud:return a_(e.id);case"Composite":return _(u_(e.left),Dl(u_(e.right)))}},D2=ge(Symbol.for("effect/Fiber/Id/_fiberCounter"),()=>jd(0)),XC=e=>Array.from(u_(e)).map(n=>`#${n}`).join(","),vo=qC,Mse=XC,T2=()=>{const e=Yo(D2);return _(D2,Bd(e+1)),new HC(e,Date.now())},f_=oa,Rse=e=>{const t=kd(oa());for(const n of e)Ko(t,n[0],n[1]);return t_(t)},d_=Loe,bo=Ko,R2=BC,O2=e_,xse=n_,Nse=Woe,h_=xd,Hd=Symbol.for("effect/List"),KC=e=>ie(e),Pse=(e=>lre(RC(e),KC))(U),Lse={[Hd]:Hd,_tag:"Cons",toString(){return ct(this.toJSON())},toJSON(){return{_id:"List",_tag:"Cons",values:KC(this).map(tt)}},[Ve](){return this.toJSON()},[J](e){return k2(e)&&this._tag===e._tag&&Pse(this,e)},[Q](){return Ue(this,Ki(KC(this)))},[Symbol.iterator](){let e=!1,t=this;return{next(){if(e)return this.return();if("Nil"===t._tag)return e=!0,this.return();const n=t.head;return t=t.tail,{done:e,value:n}},return:n=>(e||(e=!0),{done:!0,value:n})}},pipe(){return z(this,arguments)}},Qo=(e,t)=>{const n=Object.create(Lse);return n.head=e,n.tail=t,n},jse=rt("Nil"),Bse={[Hd]:Hd,_tag:"Nil",toString(){return ct(this.toJSON())},toJSON:()=>({_id:"List",_tag:"Nil"}),[Ve](){return this.toJSON()},[Q]:()=>jse,[J](e){return k2(e)&&this._tag===e._tag},[Symbol.iterator]:()=>({next:()=>({done:!0,value:void 0})}),pipe(){return z(this,arguments)}},Jo=Object.create(Bse),k2=e=>W(e,Hd),vt=e=>"Nil"===e._tag,YC=e=>"Cons"===e._tag,ia=(e,t)=>Qo(e,t),aa=()=>Jo,QC=e=>Qo(e,Jo),$se=h(2,(e,t)=>Hse(t,e)),JC=h(2,(e,t)=>ia(t,e)),Hse=h(2,(e,t)=>{if(vt(e))return t;if(vt(t))return e;{const n=Qo(t.head,e);let r=n,o=t.tail;for(;!vt(o);){const s=Qo(o.head,e);r.tail=s,r=s,o=o.tail}return n}}),Xse=h(3,(e,t,n)=>{let r=t,o=e;for(;!vt(o);)r=n(r,o.head),o=o.tail;return r}),Gse=e=>{let t=aa(),n=e;for(;!vt(n);)t=JC(t,n.head),n=n.tail;return t},Il=function(){function e(t){t&&Object.assign(this,t)}return e.prototype=$m,e}();function P2(e){return e}const zd={...Il.prototype,[Symbol.for("effect/DifferContextPatch")]:{_Value:P2,_Patch:P2}},cie=Object.create(Object.assign(Object.create(zd),{_tag:"Empty"})),L2=()=>cie,lie=Object.assign(Object.create(zd),{_tag:"AndThen"}),fie=Object.assign(Object.create(zd),{_tag:"AddService"}),die=(e,t)=>{const n=Object.create(fie);return n.key=e,n.service=t,n},hie=Object.assign(Object.create(zd),{_tag:"RemoveService"}),pie=e=>{const t=Object.create(hie);return t.key=e,t},gie=Object.assign(Object.create(zd),{_tag:"UpdateService"}),mie=(e,t)=>{const n=Object.create(gie);return n.key=e,n.update=t,n},m_=h(2,(e,t)=>((e,t)=>{const n=Object.create(lie);return n.first=e,n.second=t,n})(e,t)),yie=h(2,(e,t)=>{if("Empty"===e._tag)return t;let n=!1,r=Lt(e);const o=new Map(t.unsafeMap);for(;lt(r);){const i=we(r),a=st(r);switch(i._tag){case"Empty":r=a;break;case"AddService":o.set(i.key,i.service),r=a;break;case"AndThen":r=ot(ot(a,i.second),i.first);break;case"RemoveService":o.delete(i.key),r=a;break;case"UpdateService":o.set(i.key,i.update(o.get(i.key))),n=!0,r=a}}if(!n)return po(o);const s=new Map;for(const[i]of t.unsafeMap)o.has(i)&&(s.set(i,o.get(i)),o.delete(i));for(const[i,a]of o)s.set(i,a);return po(s)});function nD(e){return e}const y_={...Il.prototype,[Symbol.for("effect/DifferHashSetPatch")]:{_Value:nD,_Key:nD,_Patch:nD}},Oie=Object.create(Object.assign(Object.create(y_),{_tag:"Empty"})),V2=()=>Oie,kie=Object.assign(Object.create(y_),{_tag:"AndThen"}),xie=Object.assign(Object.create(y_),{_tag:"Add"}),Nie=e=>{const t=Object.create(xie);return t.value=e,t},Fie=Object.assign(Object.create(y_),{_tag:"Remove"}),rD=h(2,(e,t)=>((e,t)=>{const n=Object.create(kie);return n.first=e,n.second=t,n})(e,t)),jie=h(2,(e,t)=>{if("Empty"===e._tag)return t;let n=t,r=Lt(e);for(;lt(r);){const o=we(r),s=st(r);switch(o._tag){case"Empty":r=s;break;case"AndThen":r=ot(o.first)(ot(o.second)(s));break;case"Add":n=Pd(o.value)(n),r=s;break;case"Remove":n=y2(o.value)(n),r=s}}return n});function q2(e){return e}const Xd={...Il.prototype,[Symbol.for("effect/DifferReadonlyArrayPatch")]:{_Value:q2,_Patch:q2}},Zie=Object.create(Object.assign(Object.create(Xd),{_tag:"Empty"})),z2=()=>Zie,eae=Object.assign(Object.create(Xd),{_tag:"AndThen"}),nae=Object.assign(Object.create(Xd),{_tag:"Append"}),oae=Object.assign(Object.create(Xd),{_tag:"Slice"}),iae=Object.assign(Object.create(Xd),{_tag:"Update"}),aae=(e,t)=>{const n=Object.create(iae);return n.index=e,n.patch=t,n},v_=h(2,(e,t)=>((e,t)=>{const n=Object.create(eae);return n.first=e,n.second=t,n})(e,t)),lae=h(3,(e,t,n)=>{if("Empty"===e._tag)return t;let r=t.slice(),o=dr(e);for(;Pre(o);){const s=Nn(o),i=Ws(o);switch(s._tag){case"Empty":o=i;break;case"AndThen":i.unshift(s.first,s.second),o=i;break;case"Append":for(const a of s.values)r.push(a);o=i;break;case"Slice":r=r.slice(s.from,s.until),o=i;break;case"Update":r[s.index]=n.patch(s.patch,r[s.index]),o=i}}return r}),uae={[Symbol.for("effect/Differ")]:{_P:Ee,_V:Ee}},$r=e=>{const t=Object.create(uae);return t.empty=e.empty,t.diff=e.diff,t.combine=e.combine,t.patch=e.patch,t},G2=()=>$r({empty:V2(),combine:(e,t)=>rD(t)(e),diff:(e,t)=>((e,t)=>{const[n,r]=Ld([e,V2()],([o,s],i)=>dse(i)(o)?[y2(i)(o),s]:[o,rD(Nie(i))(s)])(t);return Ld(r,(o,s)=>rD((e=>{const t=Object.create(Fie);return t.value=e,t})(s))(o))(n)})(e,t),patch:(e,t)=>jie(t)(e)}),K2=e=>$r({empty:z2(),combine:(t,n)=>v_(t,n),diff:(t,n)=>(e=>{let t=0,n=z2();for(;t<e.oldValue.length&&t<e.newValue.length;){const s=e.differ.diff(e.oldValue[t],e.newValue[t]);U(s,e.differ.empty)||(n=v_(n,aae(t,s))),t+=1}return t<e.oldValue.length&&(n=v_(n,((e,t)=>{const n=Object.create(oae);return n.from=0,n.until=t,n})(0,t))),t<e.newValue.length&&(n=v_(n,(e=>{const t=Object.create(nae);return t.values=e,t})($re(t)(e.newValue)))),n})({oldValue:t,newValue:n,differ:e}),patch:(t,n)=>lae(t,n,e)}),iD=()=>Y2((e,t)=>t),Y2=e=>$r({empty:Ee,combine:(t,n)=>t===Ee?n:n===Ee?t:r=>n(t(r)),diff:(t,n)=>U(t,n)?Ee:Tm(n),patch:(t,n)=>e(n,t(n))}),gr=e=>255&e,mr=e=>e>>8&255,Zo=(e,t)=>(255&e)+((t&e&255)<<8),J2=Zo(0,0),Eae=h(2,(e,t)=>Zo(gr(e)&~t,mr(e))),ej=h(2,(e,t)=>e|t),Iae=h(2,(e,t)=>e|t),ts=e=>w_(e)&&!Tae(e),w_=e=>ca(e,1),ca=h(2,(e,t)=>!!(e&t)),rj=(...e)=>e.reduce((t,n)=>t|n,0),Mae=rj(0),oj=e=>ca(e,4),Tae=e=>ca(e,16),ns=h(2,(e,t)=>Zo(e^t,t)),la=h(2,(e,t)=>e&((e=>~e>>>0&255)(gr(t))|mr(t))|gr(t)&mr(t)),cj=$r({empty:J2,diff:(e,t)=>ns(e,t),combine:(e,t)=>ej(t)(e),patch:(e,t)=>la(t,e)}),uj=e=>Zo(e,0),fj=Eae,Tl="Die",Rl="Empty",Ol="Fail",kl="Interrupt",Al="Parallel",xl="Sequential",dj="effect/Cause",hj=Symbol.for(dj),Nl={[hj]:{_E:e=>e},[Q](){return _(B(dj),oe(B(Bae(this))),Ue(this))},[J](e){return pj(e)&&jae(this,e)},pipe(){return z(this,arguments)},toJSON(){switch(this._tag){case"Empty":return{_id:"Cause",_tag:this._tag};case"Die":return{_id:"Cause",_tag:this._tag,defect:tt(this.defect)};case"Interrupt":return{_id:"Cause",_tag:this._tag,fiberId:this.fiberId.toJSON()};case"Fail":return{_id:"Cause",_tag:this._tag,failure:tt(this.error)};case"Sequential":case"Parallel":return{_id:"Cause",_tag:this._tag,left:tt(this.left),right:tt(this.right)}}},toString(){return Yd(this)},[Ve](){return this.toJSON()}},_r=(()=>{const e=Object.create(Nl);return e._tag=Rl,e})(),rs=e=>{const t=Object.create(Nl);return t._tag=Ol,t.error=e,t},tn=e=>{const t=Object.create(Nl);return t._tag=Tl,t.defect=e,t},tr=e=>{const t=Object.create(Nl);return t._tag=kl,t.fiberId=e,t},qt=(e,t)=>{const n=Object.create(Nl);return n._tag=Al,n.left=e,n.right=t,n},it=(e,t)=>{const n=Object.create(Nl);return n._tag=xl,n.left=e,n.right=t,n},pj=e=>W(e,hj),uD=e=>C_(void 0,$ae)(e),Fl=e=>{const t=(e=>Pl(e,t=>t._tag===Ol?T(t.error):I()))(e);switch(t._tag){case"None":return yt(e);case"Some":return Kn(t.value)}},xae=e=>Pl(e,t=>t._tag===kl?T(t.fiberId):I()),Ej=e=>ua(e,{onEmpty:_r,onFail:()=>_r,onDie:t=>tn(t),onInterrupt:t=>tr(t),onSequential:it,onParallel:qt}),jae=(e,t)=>{let n=Lt(e),r=Lt(t);for(;lt(n)&&lt(r);){const[o,s]=_(we(n),Ll([Ys(),en()],([c,l],u)=>{const[f,d]=fD(u);return T([_(c,Dl(f)),_(l,hr(d))])})),[i,a]=_(we(r),Ll([Ys(),en()],([c,l],u)=>{const[f,d]=fD(u);return T([_(c,Dl(f)),_(l,hr(d))])}));if(!U(o,i))return!1;n=s,r=a}return!0},Bae=e=>Uae(Lt(e),en()),Uae=(e,t)=>{for(;;){const[n,r]=_(e,ea([Ys(),en()],([s,i],a)=>{const[c,l]=fD(a);return[_(s,Dl(c)),_(i,hr(l))]})),o=Fd(n)>0?_(t,ot(n)):t;if(qL(r))return Gs(o);e=r,t=o}throw new Error(md("Cause.flattenCauseLoop"))},Pl=h(2,(e,t)=>{const n=[e];for(;n.length>0;){const r=n.pop(),o=t(r);switch(o._tag){case"None":switch(r._tag){case xl:case Al:n.push(r.right),n.push(r.left)}break;case"Some":return o}}return I()}),fD=e=>{let t=e;const n=[];let r=Ys(),o=en();for(;void 0!==t;)switch(t._tag){case Rl:if(0===n.length)return[r,o];t=n.pop();break;case Ol:if(r=Pd(r,OC(t._tag,t.error)),0===n.length)return[r,o];t=n.pop();break;case Tl:if(r=Pd(r,OC(t._tag,t.defect)),0===n.length)return[r,o];t=n.pop();break;case kl:if(r=Pd(r,OC(t._tag,t.fiberId)),0===n.length)return[r,o];t=n.pop();break;case xl:switch(t.left._tag){case Rl:t=t.right;break;case xl:t=it(t.left.left,it(t.left.right,t.right));break;case Al:t=qt(it(t.left.left,t.right),it(t.left.right,t.right));break;default:o=ot(o,t.right),t=t.left}break;case Al:n.push(t.right),t=t.left}throw new Error(md("Cause.evaluateCauseLoop"))},$ae={emptyCase:pd,failCase:zo,dieCase:zo,interruptCase:pd,sequentialCase:(e,t,n)=>t&&n,parallelCase:(e,t,n)=>t&&n},Cj="SequentialCase",Dj="ParallelCase",ua=h(2,(e,{onDie:t,onEmpty:n,onFail:r,onInterrupt:o,onParallel:s,onSequential:i})=>C_(e,void 0,{emptyCase:()=>n,failCase:(a,c)=>r(c),dieCase:(a,c)=>t(c),interruptCase:(a,c)=>o(c),sequentialCase:(a,c,l)=>i(c,l),parallelCase:(a,c,l)=>s(c,l)})),Ll=h(3,(e,t,n)=>{let r=t,o=e;const s=[];for(;void 0!==o;){const i=n(r,o);switch(r=ue(i)?i.value:r,o._tag){case xl:case Al:s.push(o.right),o=o.left;break;default:o=void 0}void 0===o&&s.length>0&&(o=s.pop())}return r}),C_=h(3,(e,t,n)=>{const r=[e],o=[];for(;r.length>0;){const i=r.pop();switch(i._tag){case Rl:o.push(yt(n.emptyCase(t)));break;case Ol:o.push(yt(n.failCase(t,i.error)));break;case Tl:o.push(yt(n.dieCase(t,i.defect)));break;case kl:o.push(yt(n.interruptCase(t,i.fiberId)));break;case xl:r.push(i.right),r.push(i.left),o.push(Kn({_tag:Cj}));break;case Al:r.push(i.right),r.push(i.left),o.push(Kn({_tag:Dj}))}}const s=[];for(;o.length>0;){const i=o.pop();switch(i._tag){case"Left":switch(i.left._tag){case Cj:{const a=s.pop(),c=s.pop(),l=n.sequentialCase(t,a,c);s.push(l);break}case Dj:{const a=s.pop(),c=s.pop(),l=n.parallelCase(t,a,c);s.push(l);break}}break;case"Right":s.push(i.right)}}if(0===s.length)throw new Error("BUG: Cause.reduceWithContext - please report an issue at https://github.com/Effect-TS/effect/issues");return s.pop()}),Yd=(e,t)=>uD(e)?"All fibers interrupted without errors.":Tj(e).map(function(n){return!0!==t?.renderErrorCause||void 0===n.cause?n.stack:`${n.stack} {\n${Ij(n.cause,"  ")}\n}`}).join("\n"),Ij=(e,t)=>{const n=e.stack.split("\n");let r=`${t}[cause]: ${n[0]}`;for(let o=1,s=n.length;o<s;o++)r+=`\n${t}${n[o]}`;return e.cause&&(r+=` {\n${Ij(e.cause,`${t}  `)}\n${t}}`),r};class D_ extends globalThis.Error{span=void 0;constructor(t){const n="object"==typeof t&&null!==t,r=Error.stackTraceLimit;Error.stackTraceLimit=1,super(Hae(t),n&&"cause"in t&&typeof t.cause<"u"?{cause:new D_(t.cause)}:void 0),""===this.message&&(this.message="An error has occurred"),Error.stackTraceLimit=r,this.name=t instanceof Error?t.name:"Error",n&&(Mj in t&&(this.span=t[Mj]),Object.keys(t).forEach(o=>{o in this||(this[o]=t[o])})),this.stack=zae(`${this.name}: ${this.message}`,t instanceof Error&&t.stack?t.stack:"",this.span)}}const Hae=e=>{if("string"==typeof e)return e;if("object"==typeof e&&null!==e&&e instanceof Error)return e.message;try{if(W(e,"toString")&&Gi(e.toString)&&e.toString!==Object.prototype.toString&&e.toString!==globalThis.Array.prototype.toString)return e.toString()}catch{}return uC(e)},qae=/\((.*)\)/g,I_=ge("effect/Tracer/spanToTrace",()=>new WeakMap),zae=(e,t,n)=>{const r=[e],o=t.startsWith(e)?t.slice(e.length).split("\n"):t.split("\n");for(let s=1;s<o.length&&!o[s].includes("Generator.next");s++){if(o[s].includes("effect_internal_function")){r.pop();break}r.push(o[s].replace(/at .*effect_instruction_i.*\((.*)\)/,"at $1").replace(/EffectPrimitive\.\w+/,"<anonymous>"))}if(n){let s=n,i=0;for(;s&&"Span"===s._tag&&i<10;){const a=I_.get(s);if("function"==typeof a){const c=a();if("string"==typeof c){const l=c.matchAll(qae);let u=!1;for(const[,f]of l)u=!0,r.push(`    at ${s.name} (${f})`);u||r.push(`    at ${s.name} (${c.replace(/^at /,"")})`)}else r.push(`    at ${s.name}`)}else r.push(`    at ${s.name}`);s=Zn(s.parent),i++}}return r.join("\n")},Mj=Symbol.for("effect/SpanAnnotation"),Tj=e=>C_(e,void 0,{emptyCase:()=>[],dieCase:(t,n)=>[new D_(n)],failCase:(t,n)=>[new D_(n)],interruptCase:()=>[],parallelCase:(t,n,r)=>[...n,...r],sequentialCase:(t,n,r)=>[...n,...r]}),jl="Pending",Rj=Symbol.for("effect/Deferred"),Wae={_E:e=>e,_A:e=>e},Xae=e=>({_tag:jl,joiners:e});class Jd{self;called=!1;constructor(t){this.self=t}next(t){return this.called?{value:t,done:!0}:(this.called=!0,{value:this.self,done:!1})}return(t){return{value:t,done:!0}}throw(t){throw t}[Symbol.iterator](){return new Jd(this.self)}}const dD=Symbol.for("effect/EffectError"),Bl=(e,t)=>{const n=new bt("Blocked");return n.effect_instruction_i0=e,n.effect_instruction_i1=t,n},fa=Symbol.for("effect/Effect");class Yae{patch;op;_op=dC;constructor(t,n){this.patch=t,this.op=n}}class bt{_op;effect_instruction_i0=void 0;effect_instruction_i1=void 0;effect_instruction_i2=void 0;trace=void 0;[fa]=il;constructor(t){this._op=t}[J](t){return this===t}[Q](){return Ue(this,xm(this))}pipe(){return z(this,arguments)}toJSON(){return{_id:"Effect",_op:this._op,effect_instruction_i0:tt(this.effect_instruction_i0),effect_instruction_i1:tt(this.effect_instruction_i1),effect_instruction_i2:tt(this.effect_instruction_i2)}}toString(){return ct(this.toJSON())}[Ve](){return this.toJSON()}[Symbol.iterator](){return new Jd(new yd(this))}}class Aj{_op;effect_instruction_i0=void 0;effect_instruction_i1=void 0;effect_instruction_i2=void 0;trace=void 0;[fa]=il;constructor(t){this._op=t,this._tag=t}[J](t){return B_(t)&&"Failure"===t._op&&U(this.effect_instruction_i0,t.effect_instruction_i0)}[Q](){return _(rt(this._tag),oe(B(this.effect_instruction_i0)),Ue(this))}get cause(){return this.effect_instruction_i0}pipe(){return z(this,arguments)}toJSON(){return{_id:"Exit",_tag:this._op,cause:this.cause.toJSON()}}toString(){return ct(this.toJSON())}[Ve](){return this.toJSON()}[Symbol.iterator](){return new Jd(new yd(this))}}class xj{_op;effect_instruction_i0=void 0;effect_instruction_i1=void 0;effect_instruction_i2=void 0;trace=void 0;[fa]=il;constructor(t){this._op=t,this._tag=t}[J](t){return B_(t)&&"Success"===t._op&&U(this.effect_instruction_i0,t.effect_instruction_i0)}[Q](){return _(rt(this._tag),oe(B(this.effect_instruction_i0)),Ue(this))}get value(){return this.effect_instruction_i0}pipe(){return z(this,arguments)}toJSON(){return{_id:"Exit",_tag:this._op,value:tt(this.value)}}toString(){return ct(this.toJSON())}[Ve](){return this.toJSON()}[Symbol.iterator](){return new Jd(new yd(this))}}const qe=e=>W(e,fa),be=e=>{const t=new bt(Q1);return t.effect_instruction_i0=e,t},Nj=h(3,(e,t,n)=>Wt(r=>v(e,o=>v(Dt(q(()=>r(t(o)))),s=>q(()=>n(o,s)).pipe(It({onFailure:i=>{switch(s._tag){case $e:return me(it(s.effect_instruction_i0,i));case He:return me(i)}},onSuccess:()=>s})))))),ft=h(2,(e,t)=>v(e,()=>D(t))),zt=e=>ft(e,void 0),M_=function(){const e=new bt(Pm);switch(arguments.length){case 2:e.effect_instruction_i0=arguments[0],e.commit=arguments[1];break;case 3:e.effect_instruction_i0=arguments[0],e.effect_instruction_i1=arguments[1],e.commit=arguments[2];break;case 4:e.effect_instruction_i0=arguments[0],e.effect_instruction_i1=arguments[1],e.effect_instruction_i2=arguments[2],e.commit=arguments[3];break;default:throw new Error(md("you're not supposed to end up here"))}return e},Zd=(e,t=vo)=>{const n=new bt(bd);let r;return n.effect_instruction_i0=o=>{r=e(o)},n.effect_instruction_i1=t,_a(n,o=>qe(r)?r:Z)},T_=(e,t=vo)=>q(()=>Zd(e,t)),Hr=(e,t=vo)=>M_(e,function(){let n,r;function o(c){n?n(c):void 0===r&&(r=c)}const s=new bt(bd);let i,a;return s.effect_instruction_i0=c=>{n=c,r&&c(r)},s.effect_instruction_i1=t,1!==this.effect_instruction_i0.length?(a=new AbortController,i=Ht(()=>this.effect_instruction_i0(o,a.signal))):i=Ht(()=>this.effect_instruction_i0(o)),i||a?_a(s,c=>(a&&a.abort(),i??Z)):s}),ha=h(2,(e,t)=>fn(e,{onFailure:t,onSuccess:D})),R_=Symbol.for("effect/SpanAnnotation"),O_=Symbol.for("effect/OriginalAnnotation"),pD=(e,t)=>ue(t)?new Proxy(e,{has:(n,r)=>r===R_||r===O_||r in n,get:(n,r)=>r===R_?t.value:r===O_?e:n[r]}):e,pa=e=>km(e)&&!(R_ in e)?be(t=>me(tn(pD(e,$D(t))))):me(tn(e)),eh=e=>nh(()=>tn(new Cce(e))),ga=e=>fn(e,{onFailure:t=>D(Kn(t)),onSuccess:t=>D(yt(t))}),Dt=e=>gD(e,{onFailure:_e,onSuccess:Ce}),ae=e=>km(e)&&!(R_ in e)?be(t=>me(rs(pD(e,$D(t))))):me(rs(e)),yr=e=>v(M(e),ae),me=e=>{const t=new Aj($e);return t.effect_instruction_i0=e,t},nh=e=>v(M(e),me),Ul=be(e=>D(e.id())),os=e=>be(t=>e(t.id())),v=h(2,(e,t)=>{const n=new bt(jm);return n.effect_instruction_i0=e,n.effect_instruction_i1=t,n}),Fj=e=>{const t=new bt("OnStep");return t.effect_instruction_i0=e,t},vr=e=>v(e,Ee),gD=h(2,(e,t)=>It(e,{onFailure:n=>D(t.onFailure(n)),onSuccess:n=>D(t.onSuccess(n))})),It=h(2,(e,t)=>{const n=new bt(Bm);return n.effect_instruction_i0=e,n.effect_instruction_i1=t.onFailure,n.effect_instruction_i2=t.onSuccess,n}),fn=h(2,(e,t)=>It(e,{onFailure:n=>{if((e=>Gs(Ll(e,en(),(t,n)=>n._tag===Tl?T(_(t,ot(n.defect))):I())))(n).length>0)return me((e=>ua(e,{onEmpty:_r,onFail:t=>tn(t),onDie:t=>tn(t),onInterrupt:t=>tr(t),onSequential:(t,n)=>it(t,n),onParallel:(t,n)=>qt(t,n)}))(n));const o=(e=>Gs(Ll(e,en(),(t,n)=>n._tag===Ol?T(_(t,ot(n.error))):I())))(n);return o.length>0?t.onFailure(WL(o)):me(n)},onSuccess:t.onSuccess})),Pn=h(2,(e,t)=>q(()=>{const n=ie(e),r=IC(n.length);let o=0;return ft(x_({while:()=>o<n.length,body:()=>t(n[o],o),step:s=>{r[o++]=s}}),r)})),Eo=h(2,(e,t)=>q(()=>{const n=ie(e);let r=0;return x_({while:()=>r<n.length,body:()=>t(n[r],r),step:()=>{r++}})})),ma=e=>{const t=new bt(Qi);return t.effect_instruction_i0=(e=>Zo(e,e))(1),t.effect_instruction_i1=()=>e,t},N=h(2,(e,t)=>v(e,n=>M(()=>t(n)))),mD=h(2,(e,t)=>fn(e,{onFailure:n=>yr(()=>t.onFailure(n)),onSuccess:n=>M(()=>t.onSuccess(n))})),oh=h(2,(e,t)=>It(e,{onFailure:n=>{const r=Fl(n);switch(r._tag){case"Left":return yr(()=>t(r.left));case"Right":return me(r.right)}},onSuccess:D})),qr=h(2,(e,t)=>Wt(n=>It(n(e),{onFailure:r=>{const o=_e(r);return It(t(o),{onFailure:s=>_e(it(r,s)),onSuccess:()=>o})},onSuccess:r=>{const o=Ce(r);return Re(t(o),o)}}))),_a=h(2,(e,t)=>qr(e,$_({onFailure:n=>uD(n)?zt(t((e=>Ll(e,Ys(),(t,n)=>n._tag===kl?T(_(t,Pd(n.fiberId))):I()))(n))):Z,onSuccess:()=>Z}))),D=e=>{const t=new xj(He);return t.effect_instruction_i0=e,t},q=e=>{const t=new bt(Pm);return t.commit=e,t},M=e=>{const t=new bt("Sync");return t.effect_instruction_i0=e,t},ya=h(e=>3===e.length||2===e.length&&!(km(e[1])&&"onlyEffect"in e[1]),(e,t)=>v(e,n=>{const r="function"==typeof t?t(n):t;return qe(r)?ft(r,n):(e=>W(e,"then")&&Gi(e.then))(r)?Zd(o=>{r.then(s=>o(D(n)),s=>o(ae(new wa(s))))}):D(n)})),va=e=>{const t=new bt(Qi);return t.effect_instruction_i0=uj(1),t.effect_instruction_i1=()=>e,t},Wt=e=>M_(e,function(){const t=new bt(Qi);return t.effect_instruction_i0=uj(1),t.effect_instruction_i1=n=>w_(n)?Ht(()=>this.effect_instruction_i0(ma)):Ht(()=>this.effect_instruction_i0(va)),t}),Z=D(void 0),x_=e=>{const t=new bt(Um);return t.effect_instruction_i0=e.while,t.effect_instruction_i1=e.body,t.effect_instruction_i2=e.step,t},ba=e=>{const t=new bt(Vm);return typeof e?.priority<"u"?Zj(t,e.priority):t},N_=h(2,(e,t)=>v(e,n=>N(t,r=>[n,r]))),ah=h(2,(e,t)=>v(e,n=>ft(t,n))),Re=h(2,(e,t)=>v(e,()=>t)),zr=h(2,(e,t)=>v(e.interruptAsFork(t),()=>e.await)),vD={_tag:"Info",syslog:6,label:"INFO",ordinal:2e4,pipe(){return z(this,arguments)}},bD={_tag:"Debug",syslog:7,label:"DEBUG",ordinal:1e4,pipe(){return z(this,arguments)}},uce=Symbol.for("effect/FiberRef"),fce={_A:e=>e},So=e=>be(t=>Ce(t.getFiberRef(e))),br=h(2,(e,t)=>v(So(e),t)),$l=h(2,(e,t)=>Gj(e,()=>[void 0,t])),Gj=h(2,(e,t)=>be(n=>{const[r,o]=t(n.getFiberRef(e));return n.setFiberRef(e,o),D(r)})),dn=h(3,(e,t,n)=>Nj(ah(So(t),$l(t,n)),()=>e,r=>$l(t,r))),jt=(e,t)=>Hl(e,{differ:iD(),fork:t?.fork??Ee,join:t?.join}),Qj=e=>{const t=$r({empty:L2(),combine:(e,t)=>m_(t)(e),diff:(e,t)=>((e,t)=>{const n=new Map(e.unsafeMap);let r=L2();for(const[o,s]of t.unsafeMap.entries())if(n.has(o)){const i=n.get(o);n.delete(o),U(i,s)||(r=m_(mie(o,()=>s))(r))}else n.delete(o),r=m_(die(o,s))(r);for(const[o]of n.entries())r=m_(pie(o))(r);return r})(e,t),patch:(e,t)=>yie(t)(e)});return Hl(e,{differ:t,fork:t.empty})},Hl=(e,t)=>({...Xo,[uce]:fce,initial:e,commit(){return So(this)},diff:(r,o)=>t.differ.diff(r,o),combine:(r,o)=>t.differ.combine(r,o),patch:r=>o=>t.differ.patch(r,o),fork:t.fork,join:t.join??((r,o)=>o)}),yce=e=>Hl(e,{differ:cj,fork:cj.empty}),wo=ge(Symbol.for("effect/FiberRef/currentContext"),()=>Qj(Zi())),ql=ge(Symbol.for("effect/FiberRef/currentSchedulingPriority"),()=>jt(0)),ED=ge(Symbol.for("effect/FiberRef/currentMaxOpsBeforeYield"),()=>jt(2048)),ch=ge(Symbol.for("effect/FiberRef/currentLogAnnotation"),()=>jt(f_())),vce=ge(Symbol.for("effect/FiberRef/currentLogLevel"),()=>jt(vD)),Jj=ge(Symbol.for("effect/FiberRef/currentLogSpan"),()=>jt(aa())),Zj=h(2,(e,t)=>dn(e,ql,t)),tB=ge(Symbol.for("effect/FiberRef/currentUnhandledErrorLogLevel"),()=>jt(T(bD))),zl=ge(Symbol.for("effect/FiberRef/currentMetricLabels"),()=>(e=>{const t=K2(iD());return Hl([],{differ:t,fork:t.empty})})()),P_=ge(Symbol.for("effect/FiberRef/currentForkScopeOverride"),()=>jt(I(),{fork:()=>I(),join:(e,t)=>e})),lh=ge(Symbol.for("effect/FiberRef/currentInterruptedCause"),()=>jt(_r,{fork:()=>_r,join:(e,t)=>e})),oB=function(){class e extends globalThis.Error{commit(){return ae(this)}toJSON(){return{...this}}[Ve](){return this.toString!==globalThis.Error.prototype.toString?this.stack?`${this.toString()}\n${this.stack.split("\n").slice(1).join("\n")}`:this.toString():"Bun"in globalThis?Yd(rs(this),{renderErrorCause:!0}):this}}return Object.assign(e.prototype,hC),e}(),Sa=(e,t)=>{class n extends oB{_tag=t}return Object.assign(n.prototype,e),n.prototype.name=t,n},MD=Symbol.for("effect/Cause/errors/RuntimeException"),Cce=Sa({[MD]:MD},"RuntimeException"),TD=Symbol.for("effect/Cause/errors/InterruptedException"),OD=Symbol.for("effect/Cause/errors/NoSuchElement"),ei=Sa({[OD]:OD},"NoSuchElementException"),ND=Symbol.for("effect/Cause/errors/UnknownException"),wa=function(){class e extends oB{cause;_tag="UnknownException";error;constructor(n,r){super(r??"An unknown error occurred",{cause:n}),this.cause=n,this.error=n}}return Object.assign(e.prototype,{[ND]:ND,name:"UnknownException"}),e}(),B_=e=>qe(e)&&"_tag"in e&&("Success"===e._tag||"Failure"===e._tag),Ca=(e,t)=>Xce(e,t?.parallel?qt:it),Da=e=>_e(rs(e)),_e=e=>{const t=new Aj($e);return t.effect_instruction_i0=e,t},V_=h(2,(e,t)=>{switch(e._tag){case $e:return _e(e.effect_instruction_i0);case He:return Ce(t(e.effect_instruction_i0))}}),$_=h(2,(e,{onFailure:t,onSuccess:n})=>{switch(e._tag){case $e:return t(e.effect_instruction_i0);case He:return n(e.effect_instruction_i0)}}),Ce=e=>{const t=new xj(He);return t.effect_instruction_i0=e,t},rr=Ce(void 0),Co=h(3,(e,t,{onFailure:n,onSuccess:r})=>{switch(e._tag){case $e:switch(t._tag){case He:return _e(e.effect_instruction_i0);case $e:return _e(n(e.effect_instruction_i0,t.effect_instruction_i0))}case He:switch(t._tag){case He:return Ce(r(e.effect_instruction_i0,t.effect_instruction_i0));case $e:return _e(t.effect_instruction_i0)}}}),Xce=(e,t)=>{const n=hl(e);return lt(n)?_(st(n),ea(_(we(n),V_(Lt)),(r,o)=>_(r,Co(o,{onSuccess:(s,i)=>_(s,ot(i)),onFailure:t}))),V_(Gs),V_(r=>Fn(r)),T):I()},LD=e=>({...Xo,[Rj]:Wae,state:jd(Xae([])),commit(){return Er(this)},blockingOn:e}),Er=e=>T_(t=>{const n=Yo(e.state);switch(n._tag){case"Done":return t(n.effect);case jl:return n.joiners.push(t),ole(e,t)}},e.blockingOn),BD=(e,t)=>{const n=Yo(e.state);if(n._tag===jl){Bd(e.state,(e=>({_tag:"Done",effect:e}))(t));for(let r=0,o=n.joiners.length;r<o;r++)n.joiners[r](t)}},ole=(e,t)=>M(()=>{const n=Yo(e.state);if(n._tag===jl){const r=n.joiners.indexOf(t);r>=0&&n.joiners.splice(r,1)}}),$D=e=>{const t=e.currentSpan;return void 0!==t&&"Span"===t._tag?T(t):I()},HD=Symbol.for("effect/Clock"),is=Ji("effect/Clock"),dB={unsafeSchedule(e,t){const n=pl(t);if(n>2147483647)return zo;let r=!1;const o=setTimeout(()=>{r=!0,e()},n);return()=>(clearTimeout(o),!r)}},hB=function(){const e=BigInt(1e6);if(typeof performance>"u")return()=>BigInt(Date.now())*e;if("number"==typeof performance.timeOrigin&&0===performance.timeOrigin)return()=>BigInt(Math.round(1e6*performance.now()));const t=BigInt(Date.now())*e-BigInt(Math.round(1e6*performance.now()));return()=>t+BigInt(Math.round(1e6*performance.now()))}(),lle=function(){const e="object"==typeof process&&"hrtime"in process&&"function"==typeof process.hrtime.bigint?process.hrtime:void 0;if(!e)return hB;const t=hB()-e.bigint();return()=>t+e.bigint()}();class ule{[HD]=HD;unsafeCurrentTimeMillis(){return Date.now()}unsafeCurrentTimeNanos(){return lle()}currentTimeMillis=M(()=>this.unsafeCurrentTimeMillis());currentTimeNanos=M(()=>this.unsafeCurrentTimeNanos());scheduler(){return D(dB)}sleep(t){return Hr(n=>{const r=dB.unsafeSchedule(()=>n(Z),t);return zt(M(r))})}}const pB=()=>new ule,ri=bL,_B="InvalidData",yB="MissingData",vB="SourceUnavailable",bB="Unsupported",qD=Symbol.for("effect/ConfigError"),Gl={_tag:"ConfigError",[qD]:qD},EB=(e,t)=>{const n=Object.create(Gl);return n._op="And",n.left=e,n.right=t,Object.defineProperty(n,"toString",{enumerable:!1,value(){return`${this.left} and ${this.right}`}}),n},SB=(e,t)=>{const n=Object.create(Gl);return n._op="Or",n.left=e,n.right=t,Object.defineProperty(n,"toString",{enumerable:!1,value(){return`${this.left} or ${this.right}`}}),n},dle=(e,t,n={pathDelim:"."})=>{const r=Object.create(Gl);return r._op=_B,r.path=e,r.message=t,Object.defineProperty(r,"toString",{enumerable:!1,value(){return`(Invalid data at ${_(this.path,ta(n.pathDelim))}: "${this.message}")`}}),r},Ia=(e,t,n={pathDelim:"."})=>{const r=Object.create(Gl);return r._op=yB,r.path=e,r.message=t,Object.defineProperty(r,"toString",{enumerable:!1,value(){return`(Missing data at ${_(this.path,ta(n.pathDelim))}: "${this.message}")`}}),r},hle=(e,t,n,r={pathDelim:"."})=>{const o=Object.create(Gl);return o._op=vB,o.path=e,o.message=t,o.cause=n,Object.defineProperty(o,"toString",{enumerable:!1,value(){return`(Source unavailable at ${_(this.path,ta(r.pathDelim))}: "${this.message}")`}}),o},ple=(e,t,n={pathDelim:"."})=>{const r=Object.create(Gl);return r._op=bB,r.path=e,r.message=t,Object.defineProperty(r,"toString",{enumerable:!1,value(){return`(Unsupported operation at ${_(this.path,ta(n.pathDelim))}: "${this.message}")`}}),r},Ma=h(2,(e,t)=>{switch(e._op){case"And":return EB(Ma(e.left,t),Ma(e.right,t));case"Or":return SB(Ma(e.left,t),Ma(e.right,t));case _B:return dle([...t,...e.path],e.message);case yB:return Ia([...t,...e.path],e.message);case vB:return hle([...t,...e.path],e.message,e.cause);case bB:return ple([...t,...e.path],e.message)}}),_le={_tag:"Empty"},zD=h(2,(e,t)=>{let n=QC(t),r=e;for(;YC(n);){const o=n.head;switch(o._tag){case"Empty":n=n.tail;break;case"AndThen":n=ia(o.first,ia(o.second,n.tail));break;case"MapName":r=dl(r,o.f),n=n.tail;break;case"Nested":r=Xm(r,o.name),n=n.tail;break;case"Unnested":if(!_(Md(r),gre(o.name)))return Kn(Ia(r,`Expected ${o.name} to be in path in ConfigProvider#unnested`));r=Ws(r),n=n.tail}}return yt(r)}),q_=(e,t)=>[...e,...t],wB=Symbol.for("effect/ConfigProvider"),z_=Ji("effect/ConfigProvider"),CB=Symbol.for("effect/ConfigProviderFlat"),Rle=e=>({[wB]:wB,pipe(){return z(this,arguments)},...e}),Ole=e=>{const{pathDelim:t,seqDelim:n}=Object.assign({},{pathDelim:"_",seqDelim:","},e),s=()=>typeof process<"u"&&"env"in process&&"object"==typeof process.env?process.env:{};return(e=>Rle({load:t=>v(wr(e,[],t,!1),n=>Qn(Md(n),{onNone:()=>ae(Ia([],`Expected a single value having structure: ${t}`)),onSome:D})),flattened:e}))((e=>({[CB]:CB,patch:e.patch,load:(t,n,r=!0)=>e.load(t,n,r),enumerateChildren:e.enumerateChildren}))({load:(c,l,u=!0)=>{const f=(c=>_(c,ta(t)))(c),d=s();return _(f in d?T(d[f]):I(),oh(()=>Ia(c,`Expected ${f} to exist in the process context`)),v(g=>IB(g,c,l,n,u)))},enumerateChildren:c=>M(()=>{const l=s(),d=Object.keys(l).map(p=>(c=>c.split(t))(p.toUpperCase())).filter(p=>{for(let g=0;g<c.length;g++){const m=_(c,OL(g)),y=p[g];if(void 0===y||m!==y)return!1}return!0}).flatMap(p=>p.slice(c.length,c.length+1));return(e=>{const t=wl(yo());for(const n of e)pr(t,n);return Cl(t)})(d)}),patch:_le}))},wr=(e,t,n,r)=>{const o=n;switch(o._tag){case"Constant":return D(dr(o.value));case"Described":return q(()=>wr(e,t,o.config,r));case"Fail":return ae(Ia(t,o.message));case"Fallback":return _(q(()=>wr(e,t,o.first,r)),ha(s=>o.condition(s)?_(wr(e,t,o.second,r),ha(i=>ae(SB(s,i)))):ae(s)));case"Lazy":return q(()=>wr(e,t,o.config(),r));case"MapOrFail":return q(()=>_(wr(e,t,o.original,r),v(Pn(s=>_(o.mapOrFail(s),oh(Ma(((e,t)=>{let n=t;if("Nested"===n._tag){const r=e.slice();for(;"Nested"===n._tag;)r.push(n.name),n=n.config;return r}return e})(t,o.original))))))));case"Nested":return q(()=>wr(e,q_(t,dr(o.name)),o.config,r));case"Primitive":return _(zD(t,e.patch),v(s=>_(e.load(s,o,r),v(i=>{if(0===i.length){const a=_((e=>Zt(e)?T(MC(e)):I())(s),Jn(()=>"<n/a>"));return ae(Ia([],`Expected ${o.description} with name ${a}`))}return D(i)}))));case"Sequence":return _(zD(t,e.patch),v(s=>_(e.enumerateChildren(s),v(Lle),v(i=>0===i.length?q(()=>N(wr(e,t,o.config,!0),dr)):_(Pn(i,a=>wr(e,Nre(t,`[${a}]`),o.config,!0)),N(a=>{const c=FL(a);return dr(0===c.length?[]:c)}))))));case"HashMap":return q(()=>_(zD(t,e.patch),v(s=>_(e.enumerateChildren(s),v(i=>_(i,Pn(a=>wr(e,q_(s,dr(a)),o.valueConfig,r)),N(a=>0===a.length?dr(f_()):_(Ple(a),dl(c=>Rse(xL(ie(i),c)))))))))));case"ZipWith":return q(()=>_(wr(e,t,o.left,r),ga,v(s=>_(wr(e,t,o.right,r),ga,v(i=>{if(Yn(s)&&Yn(i))return ae(EB(s.left,i.left));if(Yn(s)&&Id(i))return ae(s.left);if(Id(s)&&Yn(i))return ae(i.left);if(Id(s)&&Id(i)){const a=_(t,ta(".")),c=Nle(t,a),[l,u]=((e,t,n,r)=>{const o=LL(n.length,c=>c>=r.length?I():T([e(c),c+1])),s=LL(r.length,c=>c>=n.length?I():T([t(c),c+1]));return[q_(n,o),q_(r,s)]})(c,c,_(s.right,dl(yt)),_(i.right,dl(yt)));return _(l,xL(u),Pn(([f,d])=>_(N_(f,d),N(([p,g])=>o.zip(p,g)))))}throw new Error("BUG: ConfigProvider.fromFlatLoop - please report an issue at https://github.com/Effect-TS/effect/issues")})))))}},Nle=(e,t)=>n=>Kn(Ia(e,`The element at index ${n} in a sequence at path "${t}" was missing`)),IB=(e,t,n,r,o)=>o?_(((e,t)=>e.split(new RegExp(`\\s*${(e=>e.replace(/[/\\^$*+?.()|[\]{}]/g,"\\$&"))(t)}\\s*`)))(e,r),Pn(s=>n.parse(s.trim())),oh(Ma(t))):_(n.parse(e),mD({onFailure:Ma(t),onSuccess:dr})),Ple=e=>Object.keys(e[0]).map(t=>e.map(n=>n[t])),Lle=e=>_(Pn(e,Ule),mD({onFailure:()=>[],onSuccess:Td(ri)}),ga,N(hL)),Ble=/^(\[(\d+)\])$/,Ule=e=>{const t=e.match(Ble);if(null!==t){const n=t[2];return _(void 0!==n&&n.length>0?T(n):I(),DC(MB))}return I()},MB=e=>{const t=Number.parseInt(e);return Number.isNaN(t)?I():T(t)},TB=Symbol.for("effect/Console"),Kl=Ji("effect/Console"),Xle={[TB]:TB,assert:(e,...t)=>M(()=>{console.assert(e,...t)}),clear:M(()=>{console.clear()}),count:e=>M(()=>{console.count(e)}),countReset:e=>M(()=>{console.countReset(e)}),debug:(...e)=>M(()=>{console.debug(...e)}),dir:(e,t)=>M(()=>{console.dir(e,t)}),dirxml:(...e)=>M(()=>{console.dirxml(...e)}),error:(...e)=>M(()=>{console.error(...e)}),group:e=>M(e?.collapsed?()=>console.groupCollapsed(e?.label):()=>console.group(e?.label)),groupEnd:M(()=>{console.groupEnd()}),info:(...e)=>M(()=>{console.info(...e)}),log:(...e)=>M(()=>{console.log(...e)}),table:(e,t)=>M(()=>{console.table(e,t)}),time:e=>M(()=>console.time(e)),timeEnd:e=>M(()=>console.timeEnd(e)),timeLog:(e,...t)=>M(()=>{console.timeLog(e,...t)}),trace:(...e)=>M(()=>{console.trace(...e)}),warn:(...e)=>M(()=>{console.warn(...e)}),unsafe:console},RB=Symbol.for("effect/Random"),X_=Ji("effect/Random");class Gle{seed;[RB]=RB;PRNG;constructor(t){this.seed=t,this.PRNG=new yne(t)}get next(){return M(()=>this.PRNG.number())}get nextBoolean(){return N(this.next,t=>t>.5)}get nextInt(){return M(()=>this.PRNG.integer(Number.MAX_SAFE_INTEGER))}nextRange(t,n){return N(this.next,r=>(n-t)*r+t)}nextIntBetween(t,n){return M(()=>this.PRNG.integer(n-t)+t)}shuffle(t){return Kle(t,n=>this.nextIntBetween(0,n))}}const Kle=(e,t)=>q(()=>_(M(()=>Array.from(e)),v(n=>{const r=[];for(let o=n.length;o>=2;o-=1)r.push(o);return _(r,Eo(o=>_(t(o),N(s=>Yle(n,o-1,s)))),ft(hl(n)))}))),Yle=(e,t,n)=>{const r=e[t];return e[t]=e[n],e[n]=r,e},Qle=e=>new Gle(B(e)),WD=Symbol.for("effect/Tracer"),OB=e=>({[WD]:WD,...e}),Ta=Ji("effect/Tracer"),as=Ji("effect/ParentSpan"),kB=function(){return function(n){let r="";for(let o=0;o<n;o++)r+="abcdef0123456789".charAt(Math.floor(16*Math.random()));return r}}();class Jle{name;parent;context;links;startTime;kind;_tag="Span";spanId;traceId="native";sampled=!0;status;attributes;events=[];constructor(t,n,r,o,s,i){this.name=t,this.parent=n,this.context=r,this.links=o,this.startTime=s,this.kind=i,this.status={_tag:"Started",startTime:s},this.attributes=new Map,this.traceId="Some"===n._tag?n.value.traceId:kB(32),this.spanId=kB(16)}end(t,n){this.status={_tag:"Ended",endTime:t,exit:n,startTime:this.status.startTime}}attribute(t,n){this.attributes.set(t,n)}event(t,n,r){this.events.push([t,n,r??{}])}}const Zle=OB({span:(e,t,n,r,o,s)=>new Jle(e,t,n,r,o,s),context:e=>e()}),tue=_(Zi(),Pt(is,pB()),Pt(Kl,Xle),Pt(X_,Qle(Math.random())),Pt(z_,Ole()),Pt(Ta,Zle)),Bt=ge(Symbol.for("effect/DefaultServices/currentServices"),()=>Qj(tue)),due=Sd,hue=Tne;class Q_ extends hue{}const Ql={_tag:"Sequential"};const eI=Symbol.for("effect/FiberRefs");class oi{locals;[eI]=eI;constructor(t){this.locals=t}pipe(){return z(this,arguments)}}const jB=h(3,(e,t,n)=>{const r=new Map(e.locals);return n.locals.forEach((o,s)=>{const i=o[0][1];if(!o[0][0][J](t)){if(!r.has(s)){if(U(i,s.initial))return;return void r.set(s,[[t,s.join(s.initial,i)]])}const a=r.get(s),[c,l]=((e,t,n,r=!1)=>{const o=e;let c,s=t,i=n,a=r;for(;void 0===c;)if(Zt(s)&&Zt(i)){const l=Nn(s)[0],u=Ws(s),f=Nn(i)[0],d=Nn(i)[1],p=Ws(i);l.startTimeMillis<f.startTimeMillis?(i=p,a=!0):l.startTimeMillis>f.startTimeMillis?s=u:l.id<f.id?(i=p,a=!0):l.id>f.id?s=u:c=[d,a]}else c=[o.initial,!0];return c})(s,a,o);if(l){const u=s.diff(c,i),f=a[0][1],d=s.join(f,s.patch(u)(f));if(!U(f,d)){let p;const g=a[0][0];p=g[J](t)?[[g,d],...a.slice(1)]:[[t,d],...a],r.set(s,p)}}}}),new oi(r)}),BB=h(2,(e,t)=>{const n=new Map;return UB(e,n,t),new oi(n)}),UB=(e,t,n)=>{e.locals.forEach((r,o)=>{const s=r[0][1],i=o.patch(o.fork)(s);U(s,i)?t.set(o,r):t.set(o,[[n,i],...r])})},tI=h(2,(e,t)=>{const n=new Map(e.locals);return n.delete(t),new oi(n)}),$B=h(2,(e,t)=>e.locals.has(t)?T(Nn(e.locals.get(t))[1]):I()),Jl=h(2,(e,t)=>_($B(e,t),Jn(()=>t.initial))),J_=h(2,(e,{fiberId:t,fiberRef:n,value:r})=>{if(0===e.locals.size)return new oi(new Map([[n,[[t,r]]]]));const o=new Map(e.locals);return nI(o,t,n,r),new oi(o)}),nI=(e,t,n,r)=>{const o=e.get(n)??[];let s;if(Zt(o)){const[i,a]=Nn(o);if(i[J](t)){if(U(a,r))return;s=[[t,r],...o.slice(1)]}else s=[[t,r],...o]}else s=[[t,r]];e.set(n,s)},Sue=Jl,Due=h(2,(e,{entries:t,forkAs:n})=>{if(0===e.locals.size)return new oi(new Map(t));const r=new Map(e.locals);return void 0!==n&&UB(e,r,n),t.forEach(([o,s])=>{1===s.length?nI(r,s[0][0],o,s[0][1]):s.forEach(([i,a])=>{nI(r,i,o,a)})}),new oi(r)}),Iue=function yue(){return function LB(e){return new oi(e)}(new Map)},GB="AndThen",KB={_tag:"Empty"},Z_=h(2,(e,t)=>({_tag:GB,first:e,second:t})),gh=(e,t)=>{const n=new Map(e.locals);let r=KB;for(const[o,s]of t.locals.entries()){const i=Nn(s)[1],a=n.get(o);if(void 0!==a){const c=Nn(a)[1];U(c,i)||(r=Z_({_tag:"Update",fiberRef:o,patch:o.diff(c,i)})(r))}else r=Z_({_tag:"Add",fiberRef:o,value:i})(r);n.delete(o)}for(const[o]of n.entries())r=Z_({_tag:"Remove",fiberRef:o})(r);return r},mh=h(3,(e,t,n)=>{let r=n,o=dr(e);for(;Zt(o);){const s=Nn(o),i=Ws(o);switch(s._tag){case"Empty":o=i;break;case"Add":r=J_(r,{fiberId:t,fiberRef:s.fiberRef,value:s.value}),o=i;break;case"Remove":r=tI(r,s.fiberRef),o=i;break;case"Update":{const a=Jl(r,s.fiberRef);r=J_(r,{fiberId:t,fiberRef:s.fiberRef,value:s.fiberRef.patch(s.patch)(a)}),o=i;break}case GB:o=Xm(s.first)(Xm(s.second)(i))}}return r}),ey="effect/FiberStatus",si=Symbol.for(ey),ty="Done",oI="Running",sI="Suspended",Mue=rt(`${ey}-${ty}`);class Tue{[si]=si;_tag=ty;[Q](){return Mue}[J](t){return ny(t)&&t._tag===ty}}class Rue{runtimeFlags;[si]=si;_tag=oI;constructor(t){this.runtimeFlags=t}[Q](){return _(B(ey),oe(B(this._tag)),oe(B(this.runtimeFlags)),Ue(this))}[J](t){return ny(t)&&t._tag===oI&&this.runtimeFlags===t.runtimeFlags}}class Oue{runtimeFlags;blockingOn;[si]=si;_tag=sI;constructor(t,n){this.runtimeFlags=t,this.blockingOn=n}[Q](){return _(B(ey),oe(B(this._tag)),oe(B(this.runtimeFlags)),oe(B(this.blockingOn)),Ue(this))}[J](t){return ny(t)&&t._tag===sI&&this.runtimeFlags===t.runtimeFlags&&U(this.blockingOn,t.blockingOn)}}const ny=e=>W(e,si),Lue=new Tue,QB=e=>new Rue(e),nU=vD,que=wL(_(ri,EL(e=>e.ordinal))),sU=Symbol.for("effect/Micro"),ry=Symbol.for("effect/Micro/MicroExit"),iI=Symbol.for("effect/Micro/MicroCause"),Wue={_E:Ee};class aI extends globalThis.Error{_tag;traces;[iI];constructor(t,n,r){const o=`MicroCause.${t}`;let s,i,a;if(n instanceof globalThis.Error){s=`(${o}) ${n.name}`,i=n.message;const c=i.split("\n").length;a=n.stack?`(${o}) ${n.stack.split("\n").slice(0,c+3).join("\n")}`:`${s}: ${i}`}else s=o,i=sl(n,0),a=`${s}: ${i}`;r.length>0&&(a+=`\n    ${r.join("\n    ")}`),super(i),this._tag=t,this.traces=r,this[iI]=Wue,this.name=s,this.stack=a}pipe(){return z(this,arguments)}toString(){return this.stack}[Ve](){return this.stack}}class Gue extends aI{defect;constructor(t,n=[]){super("Die",t,n),this.defect=t}}class Yue extends aI{constructor(t=[]){super("Interrupt","interrupted",t)}}const Que=(e=[])=>new Yue(e),aU=e=>"Interrupt"===e._tag,cU=Symbol.for("effect/Micro/MicroFiber"),Zue={_A:Ee,_E:Ee};class lU{context;interruptible;[cU];_stack=[];_observers=[];_exit;_children;currentOpCount=0;constructor(t,n=!0){this.context=t,this.interruptible=n,this[cU]=Zue}getRef(t){return((e,t)=>e.unsafeMap.has(t.key)?e.unsafeMap.get(t.key):qm(t))(this.context,t)}addObserver(t){return this._exit?(t(this._exit),Rm):(this._observers.push(t),()=>{const n=this._observers.indexOf(t);n>=0&&this._observers.splice(n,1)})}_interrupted=!1;unsafeInterrupt(){this._exit||(this._interrupted=!0,this.interruptible&&this.evaluate(dI))}unsafePoll(){return this._exit}evaluate(t){if(this._exit)return;if(void 0!==this._yielded){const o=this._yielded;this._yielded=void 0,o()}const n=this.runLoop(t);if(n===tu)return;const r=cI.interruptChildren&&cI.interruptChildren(this);if(void 0!==r)return this.evaluate(Cn(r,()=>n));this._exit=n;for(let o=0;o<this._observers.length;o++)this._observers[o](n);this._observers.length=0}runLoop(t){let n=!1,r=t;this.currentOpCount=0;try{for(;;){if(this.currentOpCount++,!n&&this.getRef(ay).shouldYield(this)){n=!0;const o=r;r=Cn(ofe,()=>o)}if(r=r[lI](this),r===tu){const o=this._yielded;return ry in o?(this._yielded=void 0,o):tu}}}catch(o){return W(r,lI)?ru(o):ru(`MicroFiber.runLoop: Not a valid effect: ${String(r)}`)}}getCont(t){for(;;){const n=this._stack.pop();if(!n)return;const r=n[oy]&&n[oy](this);if(r)return{[t]:r};if(n[t])return n}}_yielded=void 0;yieldWith(t){return this._yielded=t,tu}children(){return this._children??=new Set}}const cI=ge("effect/Micro/fiberMiddleware",()=>({interruptChildren:void 0})),fU=Symbol.for("effect/Micro/identifier"),Oe=Symbol.for("effect/Micro/args"),lI=Symbol.for("effect/Micro/evaluate"),cs=Symbol.for("effect/Micro/successCont"),eu=Symbol.for("effect/Micro/failureCont"),oy=Symbol.for("effect/Micro/ensureCont"),tu=Symbol.for("effect/Micro/Yield"),nfe={...due,_op:"Micro",[sU]:{_A:Ee,_E:Ee,_R:Ee},pipe(){return z(this,arguments)},[Symbol.iterator](){return new _d(new yd(this))},toJSON(){return{_id:"Micro",op:this[fU],...Oe in this?{args:this[Oe]}:void 0}},toString(){return ct(this)},[Ve](){return ct(this)}};function rfe(e){return ru("Micro.evaluate: Not implemented")}const _h=e=>({...nfe,[fU]:e.op,[lI]:e.eval??rfe,[cs]:e.contA,[eu]:e.contE,[oy]:e.ensure}),ls=e=>{const t=_h(e);return function(){const n=Object.create(t);return n[Oe]=!1===e.single?arguments:arguments[0],n}},dU=e=>{const t={..._h(e),[ry]:ry,_tag:e.op,get[e.prop](){return this[Oe]},toJSON(){return{_id:"MicroExit",_tag:e.op,[e.prop]:this[Oe]}},[J](n){return dfe(n)&&n._tag===e.op&&U(this[Oe],n[Oe])},[Q](){return Ue(this,oe(rt(e.op))(B(this[Oe])))}};return function(n){const r=Object.create(t);return r[Oe]=n,r[cs]=void 0,r[eu]=void 0,r[oy]=void 0,r}},Ut=dU({op:"Success",prop:"value",eval(e){const t=e.getCont(cs);return t?t[cs](this[Oe],e):e.yieldWith(this)}}),ii=dU({op:"Failure",prop:"cause",eval(e){let t=e.getCont(eu);for(;aU(this[Oe])&&t&&e.interruptible;)t=e.getCont(eu);return t?t[eu](this[Oe],e):e.yieldWith(this)}}),ofe=ls({op:"Yield",eval(e){let t=!1;return e.getRef(ay).scheduleTask(()=>{t||e.evaluate(Oa)},this[Oe]??0),e.yieldWith(()=>{t=!0})}})(0),ci=Ut(void 0),Wr=ls({op:"WithMicroFiber",eval(e){return this[Oe](e)}}),Cn=h(2,(e,t)=>{const n=Object.create(ufe);return n[Oe]=e,n[cs]=t,n}),ufe=_h({op:"OnSuccess",eval(e){return e._stack.push(this),this[Oe]}}),dfe=e=>W(e,ry),iy=Ut,vh=ii,dI=vh(Que()),ru=e=>vh(((e,t=[])=>new Gue(e,t))(e)),Oa=iy(void 0),pfe="setImmediate"in globalThis?globalThis.setImmediate:e=>setTimeout(e,0);class pI{tasks=[];running=!1;scheduleTask(t,n){this.tasks.push(t),this.running||(this.running=!0,pfe(this.afterScheduled))}afterScheduled=()=>{this.running=!1,this.runTasks()};runTasks(){const t=this.tasks;this.tasks=[];for(let n=0,r=t.length;n<r;n++)t[n]()}shouldYield(t){return t.currentOpCount>=t.getRef(vfe)}flush(){for(;this.tasks.length>0;)this.runTasks()}}const gfe=h(2,(e,t)=>Wr(n=>{const r=n.context;return n.context=t(r),mU(e,()=>(n.context=r,ci))})),_fe=h(2,(e,t)=>gfe(e,Dd(t)));class vfe extends(Wm()("effect/Micro/currentMaxOpsBeforeYield",{defaultValue:()=>2048})){}class ay extends(Wm()("effect/Micro/currentScheduler",{defaultValue:()=>new pI})){}const Cfe=h(2,(e,t)=>{const n=Object.create(Dfe);return n[Oe]=e,n[cs]=t.onSuccess,n[eu]=t.onFailure,n}),Dfe=_h({op:"OnSuccessAndFailure",eval(e){return e._stack.push(this),this[Oe]}}),mU=h(2,(e,t)=>yU(n=>Cfe(n(e),{onFailure:r=>Cn(t(vh(r)),()=>ii(r)),onSuccess:r=>Cn(t(iy(r)),()=>Ut(r))}))),ly=ls({op:"SetInterruptible",ensure(e){if(e.interruptible=this[Oe],e._interrupted&&e.interruptible)return()=>dI}}),yI=e=>Wr(t=>t.interruptible?e:(t.interruptible=!0,t._stack.push(ly(!1)),t._interrupted?dI:e)),yU=e=>Wr(t=>t.interruptible?(t.interruptible=!1,t._stack.push(ly(!0)),e(yI)):e(Ee));class fy{buckets=[];scheduleTask(t,n){const r=this.buckets.length;let o,s=0;for(;s<r&&this.buckets[s][0]<=n;s++)o=this.buckets[s];o&&o[0]===n?o[1].push(t):s===r?this.buckets.push([n,[t]]):this.buckets.splice(s,0,[n,[t]])}}class Yfe{maxNextTickBeforeTimer;running=!1;tasks=new fy;constructor(t){this.maxNextTickBeforeTimer=t}starveInternal(t){const n=this.tasks.buckets;this.tasks.buckets=[];for(const[r,o]of n)for(let s=0;s<o.length;s++)o[s]();0===this.tasks.buckets.length?this.running=!1:this.starve(t)}starve(t=0){t>=this.maxNextTickBeforeTimer?setTimeout(()=>this.starveInternal(0),0):Promise.resolve(void 0).then(()=>this.starveInternal(t+1))}shouldYield(t){return t.currentOpCount>t.getFiberRef(ED)&&t.getFiberRef(ql)}scheduleTask(t,n){this.tasks.scheduleTask(t,n),this.running||(this.running=!0,this.starve())}}const Sh=ge(Symbol.for("effect/Scheduler/defaultScheduler"),()=>new Yfe(2048)),hy=ge(Symbol.for("effect/FiberRef/currentScheduler"),()=>jt(Sh)),CI=(e,t)=>({_tag:"Par",left:e,right:t}),wh=(e,t)=>({_tag:"Seq",left:e,right:t}),rde=e=>{let t=e,n=DU(),r=aa(),o=aa();for(;;)switch(t._tag){case"Empty":if(vt(r))return[n,o];t=r.head,r=r.tail;break;case"Par":r=ia(t.right,r),t=t.left;break;case"Seq":{const s=t.left,i=t.right;switch(s._tag){case"Empty":t=i;break;case"Par":{const c=s.right;t=CI(wh(s.left,i),wh(c,i));break}case"Seq":t=wh(s.left,wh(s.right,i));break;case"Single":t=s,o=ia(i,o)}break}case"Single":if(n=ude(n,t),vt(r))return[n,o];t=r.head,r=r.tail}throw new Error("BUG: BlockedRequests.step - please report an issue at https://github.com/Effect-TS/effect/issues")},ode=(e,t)=>{if(vt(e))return QC(MI(t));if(dde(t))return e;const n=yde(e.head),r=hde(t);return 1===n.length&&1===r.length&&U(n[0],r[0])?ia(_de(e.head,MI(t)),e.tail):ia(MI(t),e)},cde=Symbol.for("effect/RequestBlock/RequestBlockParallel"),lde={_R:e=>e};class py{map;[cde]=lde;constructor(t){this.map=t}}const DU=()=>new py(f_()),ude=(e,t)=>new py(xse(e.map,t.dataSource,n=>dre(ll(n,HL(t.blockedRequest)),()=>Lt(t.blockedRequest)))),fde=(e,t)=>new py(h_(e.map,t.map,(n,r,o)=>bo(n,o,Qn(d_(n,o),{onNone:()=>r,onSome:s=>hr(r,s)})))),dde=e=>(e=>e&&Vr(e._root))(e.map),hde=e=>Array.from(R2(e.map)),MI=e=>mde(Nse(e.map,t=>Lt(t))),pde=Symbol.for("effect/RequestBlock/RequestBlockSequential"),gde={_R:e=>e};class IU{map;[pde]=gde;constructor(t){this.map=t}}const mde=e=>new IU(e),_de=(e,t)=>new IU(h_(t.map,e.map,(n,r,o)=>bo(n,o,Qn(d_(n,o),{onNone:()=>en(),onSome:s=>hr(s,r)})))),yde=e=>Array.from(R2(e.map)),TI=ge(Symbol.for("effect/FiberRef/currentRequestMap"),()=>jt(new Map)),Ide=e=>t=>`${t.label.replace(/[\s="]/g,"_")}=${e-t.startTime}ms`,RU="effect/MetricLabel",OI=Symbol.for(RU);class kde{key;value;[OI]=OI;_hash;constructor(t,n){this.key=t,this.value=n,this._hash=rt(RU+this.key+this.value)}[Q](){return this._hash}[J](t){return Ade(t)&&this.key===t.key&&this.value===t.value}pipe(){return z(this,arguments)}}const my=(e,t)=>new kde(e,t),Ade=e=>W(e,OI),BI="InterruptSignal",UI="Stateful",VI="Resume",$I="YieldNow",HI=e=>({_tag:BI,cause:e}),Cy=e=>({_tag:UI,onFiber:e}),su=e=>({_tag:VI,effect:e}),Dy=Symbol.for("effect/FiberScope");class Mpe{[Dy]=Dy;fiberId=vo;roots=new Set;add(t,n){this.roots.add(n),n.addObserver(()=>{this.roots.delete(n)})}}class Tpe{fiberId;parent;[Dy]=Dy;constructor(t,n){this.fiberId=t,this.parent=n}add(t,n){this.parent.tell(Cy(r=>{r.addChild(n),n.addObserver(()=>{r.removeChild(n)})}))}}const iu=ge(Symbol.for("effect/FiberScope/Global"),()=>new Mpe),au=Symbol.for("effect/Fiber"),Iy={_E:e=>e,_A:e=>e},qI=Symbol.for("effect/Fiber"),Dn=e=>ah(vr(e.await),e.inheritAll),ui="effect/FiberCurrent",Ry=Symbol.for("effect/Logger"),GI={_Message:e=>e,_Output:e=>e},Na=e=>({[Ry]:GI,log:e,pipe(){return z(this,arguments)}}),Jpe=Na(({annotations:e,cause:t,date:n,fiberId:r,logLevel:o,message:s,spans:i})=>{const a=n.getTime();let l=[`timestamp=${n.toISOString()}`,`level=${o.label}`,`fiber=${XC(r)}`].join(" ");const u=(e=>Array.isArray(e)?e:[e])(s);for(let f=0;f<u.length;f++){const d=sl(u[f]);d.length>0&&(l+=" message=",l=KI(d,l))}if(null!=t&&"Empty"!==t._tag&&(l+=" cause=",l=KI(Yd(t,{renderErrorCause:!0}),l)),YC(i)){l+=" ";let f=!0;for(const d of i)f?f=!1:l+=" ",l+=_(d,Ide(a))}if(O2(e)>0){l+=" ";let f=!0;for(const[d,p]of e)f?f=!1:l+=" ",l+=gV(d),l+="=",l=KI(sl(p),l)}return l}),pV=/^[^\s"=]+$/,KI=(e,t)=>t+(e.match(pV)?e:(e=>`"${e.replace(/\\([\s\S])|(")/g,"\\$1$2")}"`)(e)),gV=e=>e.replace(/[\s="]/g,"_"),_V="object"==typeof process&&null!==process&&"object"==typeof process.stdout&&null!==process.stdout,lu=(_V&&process,_V||globalThis,Symbol.for("effect/MetricKeyType")),vV="effect/MetricKeyType/Counter",YI=Symbol.for(vV),QI=Symbol.for("effect/MetricKeyType/Frequency"),JI=Symbol.for("effect/MetricKeyType/Gauge"),SV="effect/MetricKeyType/Histogram",ZI=Symbol.for(SV),eM=Symbol.for("effect/MetricKeyType/Summary"),Ih={_In:e=>e,_Out:e=>e};class uge{incremental;bigint;[lu]=Ih;[YI]=YI;constructor(t,n){this.incremental=t,this.bigint=n,this._hash=rt(vV)}_hash;[Q](){return this._hash}[J](t){return CV(t)}pipe(){return z(this,arguments)}}class gge{boundaries;[lu]=Ih;[ZI]=ZI;constructor(t){this.boundaries=t,this._hash=_(rt(SV),oe(B(this.boundaries)))}_hash;[Q](){return this._hash}[J](t){return MV(t)&&U(this.boundaries,t.boundaries)}pipe(){return z(this,arguments)}}const CV=e=>W(e,YI),MV=e=>W(e,ZI),RV=Symbol.for("effect/MetricKey"),vge={_Type:e=>e},bge=RC(U);class uu{name;keyType;description;tags;[RV]=vge;constructor(t,n,r,o=[]){this.name=t,this.keyType=n,this.description=r,this.tags=o,this._hash=_(rt(this.name+this.description),oe(B(this.keyType)),oe(Ki(this.tags)))}_hash;[Q](){return this._hash}[J](t){return Ege(t)&&this.name===t.name&&U(this.keyType,t.keyType)&&U(this.description,t.description)&&bge(this.tags,t.tags)}pipe(){return z(this,arguments)}}const Ege=e=>W(e,RV),Cge=h(2,(e,t)=>0===t.length?e:new uu(e.name,e.keyType,e.description,fl(e.tags,t))),OV=Symbol.for("effect/MutableHashMap"),Dge={[OV]:OV,[Symbol.iterator](){return new tM(this)},toString(){return ct(this.toJSON())},toJSON(){return{_id:"MutableHashMap",values:Array.from(this).map(tt)}},[Ve](){return this.toJSON()},pipe(){return z(this,arguments)}};class tM{self;referentialIterator;bucketIterator;constructor(t){this.self=t,this.referentialIterator=t.referential[Symbol.iterator]()}next(){if(void 0!==this.bucketIterator)return this.bucketIterator.next();const t=this.referentialIterator.next();return t.done?(this.bucketIterator=new Ige(this.self.buckets.values()),this.next()):t}[Symbol.iterator](){return new tM(this.self)}}class Ige{backing;constructor(t){this.backing=t}currentBucket;next(){if(void 0===this.currentBucket){const n=this.backing.next();if(n.done)return n;this.currentBucket=n.value[Symbol.iterator]()}const t=this.currentBucket.next();return t.done?(this.currentBucket=void 0,this.next()):t}}const Mh=()=>{const e=Object.create(Dge);return e.referential=new Map,e.buckets=new Map,e.bucketsSize=0,e},Xt=h(2,(e,t)=>{if(!1===vd(t))return e.referential.has(t)?T(e.referential.get(t)):I();const n=t[Q](),r=e.buckets.get(n);return void 0===r?I():Tge(e,r,t)}),Tge=(e,t,n,r=!1)=>{for(let o=0,s=t.length;o<s;o++)if(n[J](t[o][0])){const i=t[o][1];return r&&(t.splice(o,1),e.bucketsSize--),T(i)}return I()},us=h(2,(e,t)=>ue(Xt(e,t))),Dr=h(3,(e,t,n)=>{if(!1===vd(t))return e.referential.set(t,n),e;const r=t[Q](),o=e.buckets.get(r);return void 0===o?(e.buckets.set(r,[[t,n]]),e.bucketsSize++,e):(kV(e,o,t),o.push([t,n]),e.bucketsSize++,e)}),kV=(e,t,n)=>{for(let r=0,o=t.length;r<o;r++)if(n[J](t[r][0]))return t.splice(r,1),void e.bucketsSize--},du=Symbol.for("effect/MetricState"),AV="effect/MetricState/Counter",rM=Symbol.for(AV),xV="effect/MetricState/Frequency",oM=Symbol.for(xV),NV="effect/MetricState/Gauge",sM=Symbol.for(NV),FV="effect/MetricState/Histogram",iM=Symbol.for(FV),PV="effect/MetricState/Summary",aM=Symbol.for(PV),Th={_A:e=>e};class Rge{count;[du]=Th;[rM]=rM;constructor(t){this.count=t}[Q](){return _(B(AV),oe(B(this.count)),Ue(this))}[J](t){return Uge(t)&&this.count===t.count}pipe(){return z(this,arguments)}}const Oge=RC(U);class kge{occurrences;[du]=Th;[oM]=oM;constructor(t){this.occurrences=t}_hash;[Q](){return _(rt(xV),oe(Ki(ie(this.occurrences.entries()))),Ue(this))}[J](t){return Vge(t)&&Oge(ie(this.occurrences.entries()),ie(t.occurrences.entries()))}pipe(){return z(this,arguments)}}class Age{value;[du]=Th;[sM]=sM;constructor(t){this.value=t}[Q](){return _(B(NV),oe(B(this.value)),Ue(this))}[J](t){return $ge(t)&&this.value===t.value}pipe(){return z(this,arguments)}}class xge{buckets;count;min;max;sum;[du]=Th;[iM]=iM;constructor(t,n,r,o,s){this.buckets=t,this.count=n,this.min=r,this.max=o,this.sum=s}[Q](){return _(B(FV),oe(B(this.buckets)),oe(B(this.count)),oe(B(this.min)),oe(B(this.max)),oe(B(this.sum)),Ue(this))}[J](t){return Hge(t)&&U(this.buckets,t.buckets)&&this.count===t.count&&this.min===t.min&&this.max===t.max&&this.sum===t.sum}pipe(){return z(this,arguments)}}class Nge{error;quantiles;count;min;max;sum;[du]=Th;[aM]=aM;constructor(t,n,r,o,s,i){this.error=t,this.quantiles=n,this.count=r,this.min=o,this.max=s,this.sum=i}[Q](){return _(B(PV),oe(B(this.error)),oe(B(this.quantiles)),oe(B(this.count)),oe(B(this.min)),oe(B(this.max)),oe(B(this.sum)),Ue(this))}[J](t){return qge(t)&&this.error===t.error&&U(this.quantiles,t.quantiles)&&this.count===t.count&&this.min===t.min&&this.max===t.max&&this.sum===t.sum}pipe(){return z(this,arguments)}}const Uge=e=>W(e,rM),Vge=e=>W(e,oM),$ge=e=>W(e,sM),Hge=e=>W(e,iM),qge=e=>W(e,aM),zge=Symbol.for("effect/MetricHook"),Wge={_In:e=>e,_Out:e=>e},Rh=e=>({[zge]:Wge,pipe(){return z(this,arguments)},...e}),LV=BigInt(0),Jge=(e,t,n)=>{const r=n.length;if(!Zt(t))return[];const o=t[0],s=t.slice(1),i=jV(e,r,I(),0,o,n),a=dr(i);return s.forEach(c=>{a.push(jV(e,r,i.value,i.consumed,c,i.rest))}),dl(a,c=>[c.quantile,c.value])},jV=(e,t,n,r,o,s)=>{let i=e,a=t,c=n,l=r,u=o,f=s,d=e,p=t,g=n,m=r,y=o,b=s;for(;;){if(!Zt(f))return{quantile:u,value:I(),consumed:l,rest:[]};if(1===u)return{quantile:u,value:T(MC(f)),consumed:l+f.length,rest:[]};const S=Vre(f,Qe=>Qe<=f[0]),R=u*a,L=i/2*R,V=l+S[0].length,fe=Math.abs(V-R);if(V<R-L)d=i,p=a,g=Md(f),m=V,y=u,b=S[1],i=d,a=p,c=g,l=m,u=y,f=b;else{if(V>R+L)return{quantile:u,value:c,consumed:l,rest:f};switch(c._tag){case"None":d=i,p=a,g=Md(f),m=V,y=u,b=S[1],i=d,a=p,c=g,l=m,u=y,f=b;continue;case"Some":if(fe<Math.abs(R-c.value)){d=i,p=a,g=Md(f),m=V,y=u,b=S[1],i=d,a=p,c=g,l=m,u=y,f=b;continue}return{quantile:u,value:T(c.value),consumed:l,rest:f}}}}throw new Error("BUG: MetricHook.resolveQuantiles - please report an issue at https://github.com/Effect-TS/effect/issues")},BV=Symbol.for("effect/MetricPair"),UV={_Type:e=>e},Zge=(e,t)=>({[BV]:UV,metricKey:e,metricState:t,pipe(){return z(this,arguments)}}),VV=Symbol.for("effect/MetricRegistry");class eme{[VV]=VV;map=Mh();snapshot(){const t=[];for(const[n,r]of this.map)t.push(Zge(n,r.get()));return t}get(t){const n=_(this.map,Xt(t),Zn);if(null==n){if(CV(t.keyType))return this.getCounter(t);if(W(t.keyType,JI))return this.getGauge(t);if((e=>W(e,QI))(t.keyType))return this.getFrequency(t);if(MV(t.keyType))return this.getHistogram(t);if((e=>W(e,eM))(t.keyType))return this.getSummary(t);throw new Error("BUG: MetricRegistry.get - unknown MetricKeyType - please report an issue at https://github.com/Effect-TS/effect/issues")}return n}getCounter(t){let n=_(this.map,Xt(t),Zn);if(null==n){const r=(e=>{let t=e.keyType.bigint?LV:0;const n=e.keyType.incremental?e.keyType.bigint?o=>o>=LV:o=>o>=0:o=>!0,r=o=>{n(o)&&(t+=o)};return Rh({get:()=>(e=>new Rge(e))(t),update:r,modify:r})})(t);_(this.map,us(t))||_(this.map,Dr(t,r)),n=r}return n}getFrequency(t){let n=_(this.map,Xt(t),Zn);if(null==n){const r=(e=>{const t=new Map;for(const r of e.keyType.preregisteredWords)t.set(r,0);const n=r=>{const o=t.get(r)??0;t.set(r,o+1)};return Rh({get:()=>(e=>new kge(e))(t),update:n,modify:n})})(t);_(this.map,us(t))||_(this.map,Dr(t,r)),n=r}return n}getGauge(t){let n=_(this.map,Xt(t),Zn);if(null==n){const r=((e,t)=>{let n=t;return Rh({get:()=>(e=>new Age(e))(n),update:r=>{n=r},modify:r=>{n+=r}})})(0,t.keyType.bigint?BigInt(0):0);_(this.map,us(t))||_(this.map,Dr(t,r)),n=r}return n}getHistogram(t){let n=_(this.map,Xt(t),Zn);if(null==n){const r=(e=>{const t=e.keyType.boundaries.values,n=t.length,r=new Uint32Array(n+1),o=new Float32Array(n);let s=0,i=0,a=Number.MAX_VALUE,c=Number.MIN_VALUE;_(t,Td(ri),dl((f,d)=>{o[d]=f}));const l=f=>{let d=0,p=n;for(;d!==p;){const g=Math.floor(d+(p-d)/2);f<=o[g]?p=g:d=g,p===d+1&&(f<=o[d]?p=d:d=p)}r[d]=r[d]+1,s+=1,i+=f,f<a&&(a=f),f>c&&(c=f)},u=()=>{const f=IC(n);let d=0;for(let p=0;p<n;p++)d+=r[p],f[p]=[o[p],d];return f};return Rh({get:()=>(e=>new xge(e.buckets,e.count,e.min,e.max,e.sum))({buckets:u(),count:s,min:a,max:c,sum:i}),update:l,modify:l})})(t);_(this.map,us(t))||_(this.map,Dr(t,r)),n=r}return n}getSummary(t){let n=_(this.map,Xt(t),Zn);if(null==n){const r=(e=>{const{error:t,maxAge:n,maxSize:r,quantiles:o}=e.keyType,s=_(o,Td(ri)),i=IC(r);let a=0,c=0,l=0,u=Number.MAX_VALUE,f=Number.MIN_VALUE;const d=g=>{const m=[];let y=0;for(;y!==r-1;){const b=i[y];if(null!=b){const[S,R]=b,L=Od(g-S);boe(L,foe)&&L<=n&&m.push(R)}y+=1}return Jge(t,s,Td(m,ri))},p=(g,m)=>{r>0&&(a+=1,i[a%r]=[m,g]),c+=1,l+=g,g<u&&(u=g),g>f&&(f=g)};return Rh({get:()=>(e=>new Nge(e.error,e.quantiles,e.count,e.min,e.max,e.sum))({error:t,quantiles:d(Date.now()),count:c,min:u,max:f,sum:l}),update:([g,m])=>p(g,m),modify:([g,m])=>p(g,m)})})(t);_(this.map,us(t))||_(this.map,Dr(t,r)),n=r}return n}}const nme=Symbol.for("effect/Metric"),rme={_Type:e=>e,_In:e=>e,_Out:e=>e},cM=ge(Symbol.for("effect/Metric/globalMetricRegistry"),()=>new eme),Oy=function(e,t,n,r){const o=Object.assign(s=>ya(s,i=>$V(o,i)),{[nme]:rme,keyType:e,unsafeUpdate:t,unsafeValue:n,unsafeModify:r,register(){return this.unsafeValue([]),this},pipe(){return z(this,arguments)}});return o},ky=(e,t)=>Oh(((e,t)=>new uu(e,(e=>new uge(e?.incremental??!1,e?.bigint??!1))(t),cl(t?.description)))(e,t)),Oh=e=>{let t;const n=new WeakMap,r=o=>{if(0===o.length)return void 0!==t||(t=cM.get(e)),t;let s=n.get(o);return void 0!==s||(s=cM.get(Cge(e,o)),n.set(o,s)),s};return Oy(e.keyType,(o,s)=>r(s).update(o),o=>r(o).get(),(o,s)=>r(s).modify(o))},uM=(e,t,n)=>Oh(((e,t,n)=>new uu(e,(e=>new gge(e))(t),cl(n)))(e,t,n)),fM=h(3,(e,t,n)=>ime(e,[my(t,n)])),ime=h(2,(e,t)=>Oy(e.keyType,(n,r)=>e.unsafeUpdate(n,fl(t,r)),n=>e.unsafeValue(fl(t,n)),(n,r)=>e.unsafeModify(n,fl(t,r)))),$V=h(2,(e,t)=>br(zl,n=>M(()=>e.unsafeUpdate(t,n)))),HV="effect/MetricBoundaries",dM=Symbol.for(HV);class cme{values;[dM]=dM;constructor(t){this.values=t,this._hash=_(rt(HV),oe(Ki(this.values)))}_hash;[Q](){return this._hash}[J](t){return lme(t)&&U(this.values,t.values)}pipe(){return z(this,arguments)}}const lme=e=>W(e,dM),qV=e=>{const t=_(e,TL(Lt(Number.POSITIVE_INFINITY)),noe);return new cme(t)},ume=e=>_(((e,t)=>{const n=Math.max(1,Math.floor(e)),r=new Array(n);for(let o=0;o<n;o++)r[o]=t(o);return r})(e.count-1,t=>e.start*Math.pow(e.factor,t)),er,qV),Fa=h(2,(e,t)=>br(TI,n=>M(()=>{if(n.has(e)){const r=n.get(e);r.state.completed||(r.state.completed=!0,BD(r.result,t))}}))),hu=Symbol.for("effect/Supervisor"),kh={_T:e=>e};class pu{underlying;value0;[hu]=kh;constructor(t,n){this.underlying=t,this.value0=n}get value(){return this.value0}onStart(t,n,r,o){this.underlying.onStart(t,n,r,o)}onEnd(t,n){this.underlying.onEnd(t,n)}onEffect(t,n){this.underlying.onEffect(t,n)}onSuspend(t){this.underlying.onSuspend(t)}onResume(t){this.underlying.onResume(t)}map(t){return new pu(this,_(this.value,N(t)))}zip(t){return new gu(this,t)}}class gu{left;right;_tag="Zip";[hu]=kh;constructor(t,n){this.left=t,this.right=n}get value(){return N_(this.left.value,this.right.value)}onStart(t,n,r,o){this.left.onStart(t,n,r,o),this.right.onStart(t,n,r,o)}onEnd(t,n){this.left.onEnd(t,n),this.right.onEnd(t,n)}onEffect(t,n){this.left.onEffect(t,n),this.right.onEffect(t,n)}onSuspend(t){this.left.onSuspend(t),this.right.onSuspend(t)}onResume(t){this.left.onResume(t),this.right.onResume(t)}map(t){return new pu(this,_(this.value,N(t)))}zip(t){return new gu(this,t)}}const XV=e=>W(e,hu)&&Am(e,"Zip");class Eme{effect;[hu]=kh;constructor(t){this.effect=t}get value(){return this.effect}onStart(t,n,r,o){}onEnd(t,n){}onEffect(t,n){}onSuspend(t){}onResume(t){}map(t){return new pu(this,_(this.value,N(t)))}zip(t){return new gu(this,t)}onRun(t,n){return t()}}const Ay=ge("effect/Supervisor/none",()=>new Eme(Z)),KV="AddSupervisor",YV="RemoveSupervisor",QV="AndThen",Ah={_tag:"Empty"},xy=(e,t)=>({_tag:QV,first:e,second:t}),gM=(e,t)=>U(e,t)?Ay:XV(e)?gM(e.left,t).zip(gM(e.right,t)):e,Ny=e=>U(e,Ay)?Ys():XV(e)?_(Ny(e.left),Dl(Ny(e.right))):a_(e),Tme=$r({empty:Ah,patch:(e,t)=>((e,t)=>{let n=e,r=t;for(;lt(r);){const o=we(r);switch(o._tag){case"Empty":r=st(r);break;case KV:n=n.zip(o.supervisor),r=st(r);break;case YV:n=gM(n,o.supervisor),r=st(r);break;case QV:r=ot(o.first)(ot(o.second)(st(r)))}}return n})(t,Lt(e)),combine:xy,diff:(e,t)=>{if(U(e,t))return Ah;const n=Ny(e),r=Ny(t),o=_(r,v2(n),Ld(Ah,(i,a)=>xy(i,{_tag:KV,supervisor:a}))),s=_(n,v2(r),Ld(Ah,(i,a)=>xy(i,{_tag:YV,supervisor:a})));return xy(o,s)}}),Rme=ky("effect_fiber_started",{incremental:!0}),JV=ky("effect_fiber_active"),Ome=ky("effect_fiber_successes",{incremental:!0}),kme=ky("effect_fiber_failures",{incremental:!0}),Ame=fM(uM("effect_fiber_lifetimes",ume({start:.5,factor:2,count:35})),"time_unit","milliseconds"),xh="Continue",Nme={_E:e=>e,_A:e=>e},Fy=e=>{throw new Error(`BUG: FiberRuntime - ${sl(e)} - please report an issue at https://github.com/Effect-TS/effect/issues`)},fs=Symbol.for("effect/internal/fiberRuntime/YieldedOp"),ds=ge("effect/internal/fiberRuntime/yieldedOpChannel",()=>({currentOp:null})),Nh={[jm]:(e,t,n)=>Ht(()=>t.effect_instruction_i1(n)),OnStep:(e,t,n)=>Ce(Ce(n)),[Bm]:(e,t,n)=>Ht(()=>t.effect_instruction_i2(n)),[dC]:(e,t,n)=>(e.patchRuntimeFlags(e.currentRuntimeFlags,t.patch),ts(e.currentRuntimeFlags)&&e.isInterrupted()?_e(e.getInterruptedCause()):Ce(n)),[Um]:(e,t,n)=>(Ht(()=>t.effect_instruction_i2(n)),Ht(()=>t.effect_instruction_i0())?(e.pushStack(t),Ht(()=>t.effect_instruction_i1())):Z),[Ed]:(e,t,n)=>{const r=Ht(()=>t.effect_instruction_i0.next(n));return r.done?Ce(r.value):(e.pushStack(t),function X1(e){if("object"==typeof e&&null!==e&&iC in e)return e[iC]();throw new Error(md("yieldWrapGet"))}(r.value))}},Fme={[BI]:(e,t,n,r)=>(e.processNewInterruptSignal(r.cause),ts(t)?_e(r.cause):n),[VI]:(e,t,n,r)=>{throw new Error("It is illegal to have multiple concurrent run loops in a single fiber")},[UI]:(e,t,n,r)=>(r.onFiber(e,QB(t)),n),[$I]:(e,t,n,r)=>v(ba(),()=>n)};class e$ extends Q_{[au]=Iy;[qI]=Nme;_fiberRefs;_fiberId;_queue=new Array;_children=null;_observers=new Array;_running=!1;_stack=[];_asyncInterruptor=null;_asyncBlockingOn=null;_exitValue=null;_steps=[];_isYielding=!1;currentRuntimeFlags;currentOpCount=0;currentSupervisor;currentScheduler;currentTracer;currentSpan;currentContext;currentDefaultServices;constructor(t,n,r){if(super(),this.currentRuntimeFlags=r,this._fiberId=t,this._fiberRefs=n,oj(r)){const o=this.getFiberRef(zl);Rme.unsafeUpdate(1,o),JV.unsafeUpdate(1,o)}this.refreshRefCache()}commit(){return Dn(this)}id(){return this._fiberId}resume(t){this.tell(su(t))}get status(){return this.ask((t,n)=>n)}get runtimeFlags(){return this.ask((t,n)=>n._tag===ty?t.currentRuntimeFlags:n.runtimeFlags)}scope(){return new Tpe((e=this).id(),e);var e}get children(){return this.ask(t=>Array.from(t.getChildren()))}getChildren(){return null===this._children&&(this._children=new Set),this._children}getInterruptedCause(){return this.getFiberRef(lh)}fiberRefs(){return this.ask(t=>t.getFiberRefs())}ask(t){return q(()=>{const n=LD(this._fiberId);return this.tell(Cy((r,o)=>{BD(n,M(()=>t(r,o)))})),Er(n)})}tell(t){this._queue.push(t),this._running||(this._running=!0,this.drainQueueLaterOnExecutor())}get await(){return Hr(t=>{const n=r=>t(D(r));return this.tell(Cy((r,o)=>{null!==r._exitValue?n(this._exitValue):r.addObserver(n)})),M(()=>this.tell(Cy((r,o)=>{r.removeObserver(n)})))},this.id())}get inheritAll(){return be((t,n)=>{const r=t.id(),o=t.getFiberRefs(),s=n.runtimeFlags,i=this.getFiberRefs(),a=jB(o,r,i);t.setFiberRefs(a);const c=t.getFiberRef(p$);return(e=>{const t=new bt(Qi);return t.effect_instruction_i0=e,t.effect_instruction_i1=void 0,t})(_(ns(s,c),fj(1),fj(16)))})}get poll(){return M(()=>cl(this._exitValue))}unsafePoll(){return this._exitValue}interruptAsFork(t){return M(()=>this.tell(HI(tr(t))))}unsafeInterruptAsFork(t){this.tell(HI(tr(t)))}addObserver(t){null!==this._exitValue?t(this._exitValue):this._observers.push(t)}removeObserver(t){this._observers=this._observers.filter(n=>n!==t)}getFiberRefs(){return this.setFiberRef(p$,this.currentRuntimeFlags),this._fiberRefs}unsafeDeleteFiberRef(t){this._fiberRefs=tI(this._fiberRefs,t)}getFiberRef(t){return this._fiberRefs.locals.has(t)?this._fiberRefs.locals.get(t)[0][1]:t.initial}setFiberRef(t,n){this._fiberRefs=J_(this._fiberRefs,{fiberId:this._fiberId,fiberRef:t,value:n}),this.refreshRefCache()}refreshRefCache(){this.currentDefaultServices=this.getFiberRef(Bt),this.currentTracer=this.currentDefaultServices.unsafeMap.get(Ta.key),this.currentSupervisor=this.getFiberRef(g$),this.currentScheduler=this.getFiberRef(hy),this.currentContext=this.getFiberRef(wo),this.currentSpan=this.currentContext.unsafeMap.get(as.key)}setFiberRefs(t){this._fiberRefs=t,this.refreshRefCache()}addChild(t){this.getChildren().add(t)}removeChild(t){this.getChildren().delete(t)}transferChildren(t){const n=this._children;if(this._children=null,null!==n&&n.size>0)for(const r of n)null===r._exitValue&&t.add(this.currentRuntimeFlags,r)}drainQueueOnCurrentThread(){let t=!0;for(;t;){let n=xh;const r=globalThis[ui];globalThis[ui]=this;try{for(;n===xh;)n=0===this._queue.length?"Done":this.evaluateMessageWhileSuspended(this._queue.splice(0,1)[0])}finally{this._running=!1,globalThis[ui]=r}this._queue.length>0&&!this._running?(this._running=!0,"Yield"===n?(this.drainQueueLaterOnExecutor(),t=!1):t=!0):t=!1}}drainQueueLaterOnExecutor(){this.currentScheduler.scheduleTask(this.run,this.getFiberRef(ql))}drainQueueWhileRunning(t,n){let r=n;for(;this._queue.length>0;){const o=this._queue.splice(0,1)[0];r=Fme[o._tag](this,t,r,o)}return r}isInterrupted(){return!((e=this.getFiberRef(lh))._tag===Rl||Ll(e,!0,(t,n)=>{switch(n._tag){case Rl:return T(t);case Tl:case Ol:case kl:return T(!1);default:return I()}}));var e}addInterruptedCause(t){const n=this.getFiberRef(lh);this.setFiberRef(lh,it(n,t))}processNewInterruptSignal(t){this.addInterruptedCause(t),this.sendInterruptSignalToAllChildren()}sendInterruptSignalToAllChildren(){if(null===this._children||0===this._children.size)return!1;let t=!1;for(const n of this._children)n.tell(HI(tr(this.id()))),t=!0;return t}interruptAllChildren(){if(this.sendInterruptSignalToAllChildren()){const t=this._children.values();this._children=null;let n=!1;return x_({while:()=>!n,body:()=>{const o=t.next();return o.done?M(()=>{n=!0}):zt(o.value.await)},step:()=>{}})}return null}reportExitValue(t){if(oj(this.currentRuntimeFlags)){const n=this.getFiberRef(zl),r=this.id().startTimeMillis,o=Date.now();switch(Ame.unsafeUpdate(o-r,n),JV.unsafeUpdate(-1,n),t._tag){case He:Ome.unsafeUpdate(1,n);break;case $e:kme.unsafeUpdate(1,n)}}if("Failure"===t._tag){const n=this.getFiberRef(tB);!uD(t.cause)&&"Some"===n._tag&&this.log("Fiber terminated with an unhandled error",t.cause,n)}}setExitValue(t){this._exitValue=t,this.reportExitValue(t);for(let n=this._observers.length-1;n>=0;n--)this._observers[n](t);this._observers=[]}getLoggers(){return this.getFiberRef(Vme)}log(t,n,r){const o=ue(r)?r.value:this.getFiberRef(vce),s=this.getFiberRef(Lme);if(que(s,o))return;const i=this.getFiberRef(Jj),a=this.getFiberRef(ch),c=this.getLoggers(),l=this.getFiberRefs();if(Fd(c)>0){const u=go(this.getFiberRef(Bt),is),f=new Date(u.unsafeCurrentTimeMillis());((e,t)=>{const n=Yi.fiberRefs;Yi.fiberRefs=e;try{return t()}finally{Yi.fiberRefs=n}})(l,()=>{for(const d of c)d.log({fiberId:this.id(),logLevel:o,message:t,cause:n,context:l,spans:i,annotations:a,date:f})})}}evaluateMessageWhileSuspended(t){switch(t._tag){case $I:return"Yield";case BI:return this.processNewInterruptSignal(t.cause),null!==this._asyncInterruptor&&(this._asyncInterruptor(_e(t.cause)),this._asyncInterruptor=null),xh;case VI:return this._asyncInterruptor=null,this._asyncBlockingOn=null,this.evaluateEffect(t.effect),xh;case UI:return t.onFiber(this,null!==this._exitValue?Lue:((e,t)=>new Oue(e,t))(this.currentRuntimeFlags,this._asyncBlockingOn)),xh;default:return Fy(t)}}evaluateEffect(t){this.currentSupervisor.onResume(this);try{let n=ts(this.currentRuntimeFlags)&&this.isInterrupted()?_e(this.getInterruptedCause()):t;for(;null!==n;){const o=this.runLoop(n);if(o===fs){const s=ds.currentOp;ds.currentOp=null,s._op===Vm?ca(this.currentRuntimeFlags,32)?(this.tell({_tag:$I}),this.tell(su(rr)),n=null):n=rr:s._op===bd&&(n=null)}else{this.currentRuntimeFlags=_(this.currentRuntimeFlags,Iae(16));const s=this.interruptAllChildren();null!==s?n=v(s,()=>o):(0===this._queue.length?this.setExitValue(o):this.tell(su(o)),n=null)}}}finally{this.currentSupervisor.onSuspend(this)}}start(t){if(this._running)this.tell(su(t));else{this._running=!0;const n=globalThis[ui];globalThis[ui]=this;try{this.evaluateEffect(t)}finally{this._running=!1,globalThis[ui]=n,this._queue.length>0&&this.drainQueueLaterOnExecutor()}}}startFork(t){this.tell(su(t))}patchRuntimeFlags(t,n){const r=la(t,n);return globalThis[ui]=this,this.currentRuntimeFlags=r,r}initiateAsync(t,n){let r=!1;const o=s=>{r||(r=!0,this.tell(su(s)))};ts(t)&&(this._asyncInterruptor=o);try{n(o)}catch(s){o(me(tn(s)))}}pushStack(t){this._stack.push(t),"OnStep"===t._op&&this._steps.push({refs:this.getFiberRefs(),flags:this.currentRuntimeFlags})}popStack(){const t=this._stack.pop();if(t)return"OnStep"===t._op&&this._steps.pop(),t}getNextSuccessCont(){let t=this.popStack();for(;t;){if(t._op!==Lm)return t;t=this.popStack()}}getNextFailCont(){let t=this.popStack();for(;t;){if(t._op!==jm&&t._op!==Um&&t._op!==Ed)return t;t=this.popStack()}}Tag(t){return M(()=>zm(this.currentContext,t))}Left(t){return ae(t.left)}None(t){return ae(new ei)}Right(t){return Ce(t.right)}Some(t){return Ce(t.value)}Micro(t){return Zd(n=>{let r=n;const o=((e,t)=>{const n=new lU(ay.context(t?.scheduler??new pI));if(n.evaluate(e),t?.signal)if(t.signal.aborted)n.unsafeInterrupt();else{const r=()=>n.unsafeInterrupt();t.signal.addEventListener("abort",r,{once:!0}),n.addObserver(()=>t.signal.removeEventListener("abort",r))}return n})(_fe(t,this.currentContext));return o.addObserver(s=>{if("Success"===s._tag)return r(Ce(s.value));switch(s.cause._tag){case"Interrupt":return r(_e(tr(vo)));case"Fail":return r(ae(s.cause.error));case"Die":return r(pa(s.cause.defect))}}),Zd(s=>{r=i=>{s(Z)},o.unsafeInterrupt()})})}Sync(t){const n=Ht(()=>t.effect_instruction_i0()),r=this.getNextSuccessCont();return void 0!==r?(r._op in Nh||Fy(r),Nh[r._op](this,r,n)):(ds.currentOp=Ce(n),fs)}[He](t){const n=t,r=this.getNextSuccessCont();return void 0!==r?(r._op in Nh||Fy(r),Nh[r._op](this,r,n.effect_instruction_i0)):(ds.currentOp=n,fs)}[$e](t){const n=t.effect_instruction_i0,r=this.getNextFailCont();if(void 0===r)return ds.currentOp=_e(n),fs;switch(r._op){case Lm:case Bm:return ts(this.currentRuntimeFlags)&&this.isInterrupted()?_e(Ej(n)):Ht(()=>r.effect_instruction_i1(n));case"OnStep":return ts(this.currentRuntimeFlags)&&this.isInterrupted()?_e(Ej(n)):Ce(_e(n));case dC:return this.patchRuntimeFlags(this.currentRuntimeFlags,r.patch),ts(this.currentRuntimeFlags)&&this.isInterrupted()?_e(it(n,this.getInterruptedCause())):_e(n);default:Fy(r)}}[Q1](t){return Ht(()=>t.effect_instruction_i0(this,QB(this.currentRuntimeFlags)))}Blocked(t){const n=this.getFiberRefs(),r=this.currentRuntimeFlags;if(this._steps.length>0){const o=[],s=this._steps[this._steps.length-1];let i=this.popStack();for(;i&&"OnStep"!==i._op;)o.push(i),i=this.popStack();this.setFiberRefs(s.refs),this.currentRuntimeFlags=s.flags;const a=gh(s.refs,n),c=ns(s.flags,r);return Ce(Bl(t.effect_instruction_i0,be(l=>{for(;o.length>0;)l.pushStack(o.pop());return l.setFiberRefs(mh(l.id(),l.getFiberRefs())(a)),l.currentRuntimeFlags=la(c)(l.currentRuntimeFlags),t.effect_instruction_i1})))}return Wt(o=>v(_u((e=>{const t=new bt("RunBlocked");return t.effect_instruction_i0=e,t})(t.effect_instruction_i0)),()=>o(t.effect_instruction_i1)))}RunBlocked(t){return Eo((e=>{let t=QC(e),n=aa();for(;;){const[r,o]=Xse(t,[DU(),aa()],([s,i],a)=>{const[c,l]=rde(a);return[fde(s,c),$se(i,l)]});if(n=ode(n,r),vt(o))return Gse(n);t=o}throw new Error("BUG: BlockedRequests.flatten - please report an issue at https://github.com/Effect-TS/effect/issues")})(t.effect_instruction_i0),t=>Pa((e=>Array.from(e.map))(t),([n,r])=>{const o=new Map,s=[];for(const a of r){s.push(Fn(a));for(const c of a)o.set(c.request,c)}const i=s.flat();return dn(E$(n.runAll(s),i,()=>i.forEach(a=>{a.listeners.interrupted=!0})),TI,o)},!1,!1))}[Qi](t){const n=t.effect_instruction_i0,r=this.currentRuntimeFlags,o=la(r,n);if(ts(o)&&this.isInterrupted())return _e(this.getInterruptedCause());if(this.patchRuntimeFlags(this.currentRuntimeFlags,n),t.effect_instruction_i1){const s=ns(o,r);return this.pushStack(new Yae(s,t)),Ht(()=>t.effect_instruction_i1(r))}return rr}[jm](t){return this.pushStack(t),t.effect_instruction_i0}OnStep(t){return this.pushStack(t),t.effect_instruction_i0}[Lm](t){return this.pushStack(t),t.effect_instruction_i0}[Bm](t){return this.pushStack(t),t.effect_instruction_i0}[bd](t){return this._asyncBlockingOn=t.effect_instruction_i1,this.initiateAsync(this.currentRuntimeFlags,t.effect_instruction_i0),ds.currentOp=t,fs}[Vm](t){return this._isYielding=!1,ds.currentOp=t,fs}[Um](t){const r=t.effect_instruction_i1;return(0,t.effect_instruction_i0)()?(this.pushStack(t),r()):rr}[Ed](t){return Nh[Ed](this,t,void 0)}[Pm](t){return Ht(()=>t.commit())}runLoop(t){let n=t;for(this.currentOpCount=0;;){if(2&this.currentRuntimeFlags&&this.currentSupervisor.onEffect(this,n),this._queue.length>0&&(n=this.drainQueueWhileRunning(this.currentRuntimeFlags,n)),!this._isYielding){this.currentOpCount+=1;const r=this.currentScheduler.shouldYield(this);if(!1!==r){this._isYielding=!0,this.currentOpCount=0;const o=n;n=v(ba({priority:r}),()=>o)}}try{if(n=this.currentTracer.context(()=>"3.12.0"!==n[fa]._V?eh(`Cannot execute an Effect versioned ${n[fa]._V} with a Runtime of version 3.12.0`):this[n._op](n),this),n===fs){const r=ds.currentOp;return r._op===Vm||r._op===bd?fs:(ds.currentOp=null,r._op===He||r._op===$e?r:_e(tn(r)))}}catch(r){n=n!==fs&&!W(n,"_op")||!(n._op in this)?eh(`Not a valid effect: ${sl(n)}`):W(r,dD)?_e(r.cause):W(r,TD)?_e(it(tn(r),tr(vo))):pa(r)}}}run=()=>{this.drainQueueOnCurrentThread()}}const Lme=ge("effect/FiberRef/currentMinimumLogLevel",()=>jt(nU)),Bme=ge(Symbol.for("effect/Logger/defaultLogger"),()=>{return e=Jpe,Na(t=>{const n=Sue(t.context,Bt);go(n,Kl).unsafe.log(e.log(t))});var e}),Ume=ge(Symbol.for("effect/Logger/tracerLogger"),()=>Na(({annotations:e,cause:t,context:n,fiberId:r,logLevel:o,message:s})=>{const i=qs(Jl(n,wo),as);if("None"===i._tag||"ExternalSpan"===i.value._tag)return;const a=zm(Jl(n,Bt),is),c={};for(const[l,u]of e)c[l]=u;c["effect.fiberId"]=Mse(r),c["effect.logLevel"]=o.label,null!==t&&"Empty"!==t._tag&&(c["effect.cause"]=Yd(t,{renderErrorCause:!0})),i.value.event(sl(Array.isArray(s)?s[0]:s),a.unsafeCurrentTimeNanos(),c)})),Vme=ge(Symbol.for("effect/FiberRef/currentLoggers"),()=>(e=>{const t=G2();return Hl(e,{differ:t,fork:t.empty})})(a_(Bme,Ume))),Pa=(e,t,n,r,o)=>Wt(s=>(e=>be(t=>{const r=_(t.getFiberRef(P_),Jn(()=>t.scope()));return e(dn(P_,T(r)))}))(i=>be(a=>{let c=Array.from(e).reverse(),l=c.length;if(0===l)return Z;let u=0,f=!1;const d=o?Math.min(c.length,o):c.length,p=new Set,g=new Array,y=new Array,b=new Array,S=new Array,R=()=>{const Je=g.filter(({exit:w})=>"Failure"===w._tag).sort((w,sr)=>w.index<sr.index?-1:w.index===sr.index?0:1).map(({exit:w})=>w);return 0===Je.length&&Je.push(rr),Je},L=(Je,w=!1)=>{const sr=va(i(Je)),In=e_e(sr,a,a.currentRuntimeFlags,iu);return a.currentScheduler.scheduleTask(()=>{w&&In.unsafeInterruptAsFork(a.id()),In.resume(sr)},0),In},V=()=>{r||(l-=c.length,c=[]),f=!0,p.forEach(Je=>{Je.currentScheduler.scheduleTask(()=>{Je.unsafeInterruptAsFork(a.id())},0)})},fe=n?Fj:Dt,Qe=L(Hr(Je=>{const w=(In,Do)=>{"Blocked"===In._op?S.push(In):(g.push({index:Do,exit:In}),"Failure"===In._op&&!f&&V())},sr=()=>{if(c.length>0){const In=c.pop();let Do=u++;const Jy=()=>{const ir=c.pop();return Do=u++,v(ba(),()=>v(fe(s(t(ir,Do))),Ua))},Ua=ir=>c.length>0&&(w(ir,Do),c.length>0)?Jy():D(ir),Zy=v(fe(s(t(In,Do))),Ua),Io=L(Zy);y.push(Io),p.add(Io),f&&Io.currentScheduler.scheduleTask(()=>{Io.unsafeInterruptAsFork(a.id())},0),Io.addObserver(ir=>{let Uh;if(Uh="Failure"===ir._op?ir:ir.effect_instruction_i0,b.push(Io),p.delete(Io),w(Uh,Do),g.length===l)Je(D(Jn(Ca(R(),{parallel:!0}),()=>rr)));else if(S.length+g.length===l){const WM=S.map(Vh=>Vh.effect_instruction_i0).reduce(CI);Je(D(Bl(WM,Pa([Jn(Ca(R(),{parallel:!0}),()=>rr),...S.map(Vh=>Vh.effect_instruction_i1)],Vh=>Vh,n,!0,o))))}else sr()})}};for(let In=0;In<d;In++)sr()}));return zt(qr(vr(s(Dn(Qe))),$_({onFailure:()=>{V();const Je=S.length+1,w=Math.min("number"==typeof o?o:S.length,S.length),sr=Array.from(S);return Hr(In=>{const Do=[];let Jy=0,Ua=0;const Zy=(ir,Uh)=>WM=>{Do[ir]=WM,Jy++,Jy===Je&&In(_L(Ca(Do,{parallel:!0}))),sr.length>0&&Uh&&Io()},Io=()=>{L(sr.pop(),!0).addObserver(Zy(Ua,!0)),Ua++};Qe.addObserver(Zy(Ua,!1)),Ua++;for(let ir=0;ir<w;ir++)Io()})},onSuccess:()=>Pn(b,Je=>Je.inheritAll)})))}))),_u=e=>t_e(e,iu),e_e=(e,t,n,r=null)=>By(e,t,n,r),By=(e,t,n,r=null)=>{const o=T2(),s=t.getFiberRefs(),i=BB(s,o),a=new e$(o,i,n),c=Jl(i,wo),l=a.currentSupervisor;return l.onStart(c,e,T(t),a),a.addObserver(f=>l.onEnd(f,a)),(null!==r?r:_(t.getFiberRef(P_),Jn(()=>t.scope()))).add(n,a),a},t_e=(e,t)=>be((n,r)=>D(((e,t,n,r=null)=>{const o=By(e,t,n,r);return o.resume(e),o})(e,n,r.runtimeFlags,t))),S_e=e=>Hl(e,{differ:Tme,fork:Ah}),p$=yce(Mae),g$=S_e(Ay),E$=(e,t,n)=>os(r=>v(v(_u(ma(e)),o=>Hr(s=>{const i=t.map(l=>l.listeners.count),a=()=>{i.every(l=>0===l)&&t.every(l=>"Pending"===l.result.state.current._tag||!("Done"!==l.result.state.current._tag||!B_(l.result.state.current.effect)||"Failure"!==l.result.state.current.effect._tag||!(e=>ue(xae(e)))(l.result.state.current.effect.cause)))&&(c.forEach(l=>l()),n?.(),s((e=>v(Ul,t=>_(e,zr(t))))(o)))};o.addObserver(l=>{c.forEach(u=>u()),s(l)});const c=t.map((l,u)=>{const f=d=>{i[u]=d,a()};return l.listeners.addObserver(f),()=>l.listeners.removeObserver(f)});return a(),M(()=>{c.forEach(l=>l())})})),()=>q(()=>{const o=t.flatMap(s=>s.state.completed?[]:[s]);return Eo(o,s=>Fa(s.request,(e=>_e(tr(e)))(r)))}))),yve=(e,t)=>e.close(t),vve=(e,t)=>e.fork(t),Ky=e=>(t,n)=>{const r=T2(),o=[[wo,[[r,e.context]]]];n?.scheduler&&o.push([hy,[[r,n.scheduler]]]);let s=Due(e.fiberRefs,{entries:o,forkAs:r});n?.updateRefs&&(s=n.updateRefs(s,r));const i=new e$(r,s,e.runtimeFlags);let a=t;n?.scope&&(a=v(vve(n.scope,Ql),l=>Re(((e,t)=>e.addFinalizer(()=>zt(t)))(l,os(u=>U(u,i.id())?Z:zr(i,u))),qr(t,u=>yve(l,u)))));const c=i.currentSupervisor;return c!==Ay&&(c.onStart(e.context,a,I(),i),i.addObserver(l=>c.onEnd(l,i))),iu.add(e.runtimeFlags,i),!1===n?.immediate?i.resume(a):i.start(a),i};Error;const Yy=Symbol.for("effect/Runtime/FiberFailure"),BM=Symbol.for("effect/Runtime/FiberFailure/Cause");class wve extends Error{[Yy];[BM];constructor(t){super(),this[Yy]=Yy,this[BM]=t;const n=Tj(t);if(n.length>0){const r=n[0];this.name=r.name,this.message=r.message,this.stack=r.stack}this.name=`(FiberFailure) ${this.name}`,(void 0===this.message||0===this.message.length)&&(this.message="An error has occurred")}toJSON(){return{_id:"FiberFailure",cause:this[BM].toJSON()}}toString(){return"(FiberFailure) "+(this.stack??this.message)}[Ve](){return this.toString()}}const Cve=e=>(t,n)=>dH(e)(t,n).then(r=>{switch(r._tag){case He:return r.effect_instruction_i0;case $e:throw(e=>{const t=Error.stackTraceLimit;Error.stackTraceLimit=0;const n=new wve(e);return Error.stackTraceLimit=t,n})(r.effect_instruction_i0)}}),dH=e=>(t,n)=>new Promise(r=>{const o=(e=>{const t=e;switch(t._op){case"Failure":case"Success":return t;case"Left":return Da(t.left);case"Right":return Ce(t.right);case"Some":return Ce(t.value);case"None":return Da(ei())}})(t);o&&r(o);const s=Ky(e)(t);s.addObserver(i=>{r(i)}),void 0!==n?.signal&&(n.signal.aborted?s.unsafeInterruptAsFork(s.id()):n.signal.addEventListener("abort",()=>{s.unsafeInterruptAsFork(s.id())},{once:!0}))});class hH{context;runtimeFlags;fiberRefs;constructor(t,n,r){this.context=t,this.runtimeFlags=n,this.fiberRefs=r}pipe(){return z(this,arguments)}}const Tve=Cve((e=>new hH(e.context,e.runtimeFlags,e.fiberRefs))({context:Zi(),runtimeFlags:rj(1,32,4),fiberRefs:Iue()}));Symbol;Symbol;const Dbe=e=>{let t,n;return"function"==typeof e?t=e:(t=e.try,n=e.catch),Hr(t.length>=1?(r,o)=>{try{t(o).then(s=>r(Ce(s)),s=>r(n?yr(()=>n(s)):ae(new wa(s))))}catch(s){r(n?yr(()=>n(s)):ae(new wa(s)))}}:r=>{try{t().then(o=>r(Ce(o)),o=>r(n?yr(()=>n(o)):ae(new wa(o))))}catch(o){r(n?yr(()=>n(o)):ae(new wa(o)))}})},Ibe=Tve;let Rbe=(()=>{class e{constructor(n){this.http=n,this.genresUrl="api/genres"}getGenres(){const n=Dbe({try:()=>function Tbe(e,t){const n="object"==typeof t;return new Promise((r,o)=>{let i,s=!1;e.subscribe({next:a=>{i=a,s=!0},error:o,complete:()=>{s?r(i):n?r(t.defaultValue):o(new Gf)}})})}(this.http.get(this.genresUrl)),catch:()=>new Error("Can't get genres")});return Ibe(n)}static{this.\u0275fac=function(r){return new(r||e)(j(b1))}}static{this.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Obe=(()=>{class e{constructor(n){this.loader=n}intercept(n,r){return this.loader.start(),r.handle(n).pipe(Xc(()=>this.loader.complete()))}static{this.\u0275fac=function(r){return new(r||e)(j(Gw))}}static{this.\u0275prov=P({token:e,factory:e.\u0275fac})}}return e})();const kbe=[{path:"",component:cne},{path:"add-beat",component:(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=Si({type:e,selectors:[["app-beat-creator"]],standalone:!0,features:[Af],decls:2,vars:0,template:function(r,o){1&r&&(Fe(0,"p"),Qt(1,"Welcome to the beat creator, Let us make some music ! \u{1f3b6}\u{1f3b6}"),Ie())}})}}return e})()}];let Abe=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=bs({type:e,bootstrap:[ute]})}static{this.\u0275inj=To({providers:[{provide:gw,useClass:Rbe},{provide:w1,useClass:Obe,multi:!0},Fee(kbe)],imports:[iQ,Lte,ete,Zte.forRoot(ene,{dataEncapsulation:!1})]})}}return e})();oQ().bootstrapModule(Abe).catch(e=>console.error(e))}},Eu=>{Eu(Eu.s=626)}]);