var Gz=Object.create;var mh=Object.defineProperty,Kz=Object.defineProperties,Yz=Object.getOwnPropertyDescriptor,Zz=Object.getOwnPropertyDescriptors,Jz=Object.getOwnPropertyNames,f0=Object.getOwnPropertySymbols,Qz=Object.getPrototypeOf,h0=Object.prototype.hasOwnProperty,Xz=Object.prototype.propertyIsEnumerable;var Ab=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),eW=e=>{throw TypeError(e)};var p0=(e,t,n)=>t in e?mh(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,x=(e,t)=>{for(var n in t||={})h0.call(t,n)&&p0(e,n,t[n]);if(f0)for(var n of f0(t))Xz.call(t,n)&&p0(e,n,t[n]);return e},N=(e,t)=>Kz(e,Zz(t));var m0=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),g0=(e,t)=>{for(var n in t)mh(e,n,{get:t[n],enumerable:!0})},tW=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Jz(t))!h0.call(e,o)&&o!==n&&mh(e,o,{get:()=>t[o],enumerable:!(r=Yz(t,o))||r.enumerable});return e};var nW=(e,t,n)=>(n=e!=null?Gz(Qz(e)):{},tW(t||!e||!e.__esModule?mh(n,"default",{value:e,enumerable:!0}):n,e));var ve=(e,t,n)=>new Promise((r,o)=>{var i=c=>{try{a(n.next(c))}catch(u){o(u)}},s=c=>{try{a(n.throw(c))}catch(u){o(u)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(i,s);a((n=n.apply(e,t)).next())}),rW=function(e,t){this[0]=e,this[1]=t};var Bo=e=>{var t=e[Ab("asyncIterator")],n=!1,r,o={};return t==null?(t=e[Ab("iterator")](),r=i=>o[i]=s=>t[i](s)):(t=t.call(e),r=i=>o[i]=s=>{if(n){if(n=!1,i==="throw")throw s;return s}return n=!0,{done:!1,value:new rW(new Promise(a=>{var c=t[i](s);c instanceof Object||eW("Object expected"),a(c)}),1)}}),o[Ab("iterator")]=()=>o,r("next"),"throw"in t?r("throw"):o.throw=i=>{throw i},"return"in t&&r("return"),o};var OF=m0((eMe,TF)=>{"use strict";var MF={toleranceLate:.1,toleranceEarly:.001},ai=function(e,t,n){this.clock=e,this.func=n,this._cleared=!1,this.toleranceLate=e.toleranceLate,this.toleranceEarly=e.toleranceEarly,this._latestTime=null,this._earliestTime=null,this.deadline=null,this.repeatTime=null,this.schedule(t)};ai.prototype.clear=function(){return this.clock._removeEvent(this),this._cleared=!0,this};ai.prototype.repeat=function(e){if(e===0)throw new Error("delay cannot be 0");return this.repeatTime=e,this.clock._hasEvent(this)||this.schedule(this.deadline+this.repeatTime),this};ai.prototype.tolerance=function(e){return typeof e.late=="number"&&(this.toleranceLate=e.late),typeof e.early=="number"&&(this.toleranceEarly=e.early),this._refreshEarlyLateDates(),this.clock._hasEvent(this)&&(this.clock._removeEvent(this),this.clock._insertEvent(this)),this};ai.prototype.isRepeated=function(){return this.repeatTime!==null};ai.prototype.schedule=function(e){this._cleared=!1,this.deadline=e,this._refreshEarlyLateDates(),this.clock.context.currentTime>=this._earliestTime?this._execute():this.clock._hasEvent(this)?(this.clock._removeEvent(this),this.clock._insertEvent(this)):this.clock._insertEvent(this)};ai.prototype.timeStretch=function(e,t){this.isRepeated()&&(this.repeatTime=this.repeatTime*t);var n=e+t*(this.deadline-e);if(this.isRepeated())for(;this.clock.context.currentTime>=n-this.toleranceEarly;)n+=this.repeatTime;this.schedule(n)};ai.prototype._execute=function(){this.clock._started!==!1&&(this.clock._removeEvent(this),this.clock.context.currentTime<this._latestTime?this.func(this):(this.onexpired&&this.onexpired(this),console.warn("event expired")),!this.clock._hasEvent(this)&&this.isRepeated()&&!this._cleared&&this.schedule(this.deadline+this.repeatTime))};ai.prototype._refreshEarlyLateDates=function(){this._latestTime=this.deadline+this.toleranceLate,this._earliestTime=this.deadline-this.toleranceEarly};var Bn=TF.exports=function(e,t){var n=this;t=t||{},this.tickMethod=t.tickMethod||"ScriptProcessorNode",this.toleranceEarly=t.toleranceEarly||MF.toleranceEarly,this.toleranceLate=t.toleranceLate||MF.toleranceLate,this.context=e,this._events=[],this._started=!1};Bn.prototype.setTimeout=function(e,t){return this._createEvent(e,this._absTime(t))};Bn.prototype.callbackAtTime=function(e,t){return this._createEvent(e,t)};Bn.prototype.timeStretch=function(e,t,n){return t.forEach(function(r){r.timeStretch(e,n)}),t};Bn.prototype.start=function(){if(this._started===!1){var e=this;if(this._started=!0,this._events=[],this.tickMethod==="ScriptProcessorNode"){var t=256;this._clockNode=this.context.createScriptProcessor(t,1,1),this._clockNode.connect(this.context.destination),this._clockNode.onaudioprocess=function(){setTimeout(function(){e.tick()},0)}}else if(this.tickMethod!=="manual")throw new Error("invalid tickMethod "+this.tickMethod)}};Bn.prototype.stop=function(){this._started===!0&&(this._started=!1,this._clockNode.disconnect())};Bn.prototype.tick=function(){for(var e=this._events.shift();e&&e._earliestTime<=this.context.currentTime;)e._execute(),e=this._events.shift();e&&this._events.unshift(e)};Bn.prototype._createEvent=function(e,t){return new ai(this,t,e)};Bn.prototype._insertEvent=function(e){this._events.splice(this._indexByTime(e._earliestTime),0,e)};Bn.prototype._removeEvent=function(e){var t=this._events.indexOf(e);t!==-1&&this._events.splice(t,1)};Bn.prototype._hasEvent=function(e){return this._events.indexOf(e)!==-1};Bn.prototype._indexByTime=function(e){for(var t=0,n=this._events.length,r;t<n;)r=Math.floor((t+n)/2),this._events[r]._earliestTime<e?t=r+1:n=r;return t};Bn.prototype._absTime=function(e){return e+this.context.currentTime};Bn.prototype._relTime=function(e){return e-this.context.currentTime}});var kF=m0((tMe,AF)=>{"use strict";var RF=OF();AF.exports=RF;typeof window<"u"&&(window.WAAClock=RF)});var Yt=null,gh=!1,Nb=1,oW=null,Rn=Symbol("SIGNAL");function W(e){let t=Yt;return Yt=e,t}function yh(){return Yt}var vh={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function xh(e){if(gh)throw new Error("");if(Yt===null)return;Yt.consumerOnSignalRead(e);let t=Yt.producersTail;if(t!==void 0&&t.producer===e)return;let n,r=Yt.recomputing;if(r&&(n=t!==void 0?t.nextProducer:Yt.producers,n!==void 0&&n.producer===e)){Yt.producersTail=n,n.lastReadVersion=e.version;return}let o=e.consumersTail;if(o!==void 0&&o.consumer===Yt&&(!r||sW(o,Yt)))return;let i=cu(Yt),s={producer:e,consumer:Yt,nextProducer:n,prevConsumer:o,lastReadVersion:e.version,nextConsumer:void 0};Yt.producersTail=s,t!==void 0?t.nextProducer=s:Yt.producers=s,i&&E0(e,s)}function y0(){Nb++}function v0(e){if(!(cu(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===Nb)){if(!e.producerMustRecompute(e)&&!Eh(e)){kb(e);return}e.producerRecomputeValue(e),kb(e)}}function Fb(e){if(e.consumers===void 0)return;let t=gh;gh=!0;try{for(let n=e.consumers;n!==void 0;n=n.nextConsumer){let r=n.consumer;r.dirty||iW(r)}}finally{gh=t}}function Pb(){return Yt?.consumerAllowSignalWrites!==!1}function iW(e){e.dirty=!0,Fb(e),e.consumerMarkedDirty?.(e)}function kb(e){e.dirty=!1,e.lastCleanEpoch=Nb}function bh(e){return e&&x0(e),W(e)}function x0(e){e.producersTail=void 0,e.recomputing=!0}function Lb(e,t){W(t),e&&b0(e)}function b0(e){e.recomputing=!1;let t=e.producersTail,n=t!==void 0?t.nextProducer:e.producers;if(n!==void 0){if(cu(e))do n=jb(n);while(n!==void 0);t!==void 0?t.nextProducer=void 0:e.producers=void 0}}function Eh(e){for(let t=e.producers;t!==void 0;t=t.nextProducer){let n=t.producer,r=t.lastReadVersion;if(r!==n.version||(v0(n),r!==n.version))return!0}return!1}function vd(e){if(cu(e)){let t=e.producers;for(;t!==void 0;)t=jb(t)}e.producers=void 0,e.producersTail=void 0,e.consumers=void 0,e.consumersTail=void 0}function E0(e,t){let n=e.consumersTail,r=cu(e);if(n!==void 0?(t.nextConsumer=n.nextConsumer,n.nextConsumer=t):(t.nextConsumer=void 0,e.consumers=t),t.prevConsumer=n,e.consumersTail=t,!r)for(let o=e.producers;o!==void 0;o=o.nextProducer)E0(o.producer,o)}function jb(e){let t=e.producer,n=e.nextProducer,r=e.nextConsumer,o=e.prevConsumer;if(e.nextConsumer=void 0,e.prevConsumer=void 0,r!==void 0?r.prevConsumer=o:t.consumersTail=o,o!==void 0)o.nextConsumer=r;else if(t.consumers=r,!cu(t)){let i=t.producers;for(;i!==void 0;)i=jb(i)}return n}function cu(e){return e.consumerIsAlwaysLive||e.consumers!==void 0}function _0(e){oW?.(e)}function sW(e,t){let n=t.producersTail;if(n!==void 0){let r=t.producers;do{if(r===e)return!0;if(r===n)break;r=r.nextProducer}while(r!==void 0)}return!1}function C0(e,t){return Object.is(e,t)}function aW(){throw new Error}var S0=aW;function D0(e){S0(e)}function Hb(e){S0=e}var cW=null;function Bb(e,t){let n=Object.create(_h);n.value=e,t!==void 0&&(n.equal=t);let r=()=>I0(n);return r[Rn]=n,_0(n),[r,s=>xd(n,s),s=>w0(n,s)]}function I0(e){return xh(e),e.value}function xd(e,t){Pb()||D0(e),e.equal(e.value,t)||(e.value=t,uW(e))}function w0(e,t){Pb()||D0(e),xd(e,t(e.value))}var _h=N(x({},vh),{equal:C0,value:void 0,kind:"signal"});function uW(e){e.version++,y0(),Fb(e),cW?.(e)}function Vb(e){let t=W(null);try{return e()}finally{W(t)}}function $(e){return typeof e=="function"}function uu(e){let n=e(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Ch=uu(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,o)=>`${o+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function ua(e,t){if(e){let n=e.indexOf(t);0<=n&&e.splice(n,1)}}var ct=class e{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let i of n)i.remove(this);else n.remove(this);let{initialTeardown:r}=this;if($(r))try{r()}catch(i){t=i instanceof Ch?i.errors:[i]}let{_finalizers:o}=this;if(o){this._finalizers=null;for(let i of o)try{M0(i)}catch(s){t=t??[],s instanceof Ch?t=[...t,...s.errors]:t.push(s)}}if(t)throw new Ch(t)}}add(t){var n;if(t&&t!==this)if(this.closed)M0(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}}_hasParent(t){let{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){let{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&ua(n,t)}remove(t){let{_finalizers:n}=this;n&&ua(n,t),t instanceof e&&t._removeParent(this)}};ct.EMPTY=(()=>{let e=new ct;return e.closed=!0,e})();var Ub=ct.EMPTY;function Sh(e){return e instanceof ct||e&&"closed"in e&&$(e.remove)&&$(e.add)&&$(e.unsubscribe)}function M0(e){$(e)?e():e.unsubscribe()}var _r={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var lu={setTimeout(e,t,...n){let{delegate:r}=lu;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){let{delegate:t}=lu;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Dh(e){lu.setTimeout(()=>{let{onUnhandledError:t}=_r;if(t)t(e);else throw e})}function bd(){}var T0=$b("C",void 0,void 0);function O0(e){return $b("E",void 0,e)}function R0(e){return $b("N",e,void 0)}function $b(e,t,n){return{kind:e,value:t,error:n}}var la=null;function du(e){if(_r.useDeprecatedSynchronousErrorHandling){let t=!la;if(t&&(la={errorThrown:!1,error:null}),e(),t){let{errorThrown:n,error:r}=la;if(la=null,n)throw r}}else e()}function A0(e){_r.useDeprecatedSynchronousErrorHandling&&la&&(la.errorThrown=!0,la.error=e)}var da=class extends ct{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Sh(t)&&t.add(this)):this.destination=fW}static create(t,n,r){return new Cr(t,n,r)}next(t){this.isStopped?zb(R0(t),this):this._next(t)}error(t){this.isStopped?zb(O0(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?zb(T0,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},lW=Function.prototype.bind;function qb(e,t){return lW.call(e,t)}var Wb=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){Ih(r)}}error(t){let{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){Ih(r)}else Ih(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){Ih(n)}}},Cr=class extends da{constructor(t,n,r){super();let o;if($(t)||!t)o={next:t??void 0,error:n??void 0,complete:r??void 0};else{let i;this&&_r.useDeprecatedNextContext?(i=Object.create(t),i.unsubscribe=()=>this.unsubscribe(),o={next:t.next&&qb(t.next,i),error:t.error&&qb(t.error,i),complete:t.complete&&qb(t.complete,i)}):o=t}this.destination=new Wb(o)}};function Ih(e){_r.useDeprecatedSynchronousErrorHandling?A0(e):Dh(e)}function dW(e){throw e}function zb(e,t){let{onStoppedNotification:n}=_r;n&&lu.setTimeout(()=>n(e,t))}var fW={closed:!0,next:bd,error:dW,complete:bd};var fu=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Sr(e){return e}function Gb(...e){return Kb(e)}function Kb(e){return e.length===0?Sr:e.length===1?e[0]:function(n){return e.reduce((r,o)=>o(r),n)}}var ie=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,o){let i=hW(n)?n:new Cr(n,r,o);return du(()=>{let{operator:s,source:a}=this;i.add(s?s.call(i,a):a?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=k0(r),new r((o,i)=>{let s=new Cr({next:a=>{try{n(a)}catch(c){i(c),s.unsubscribe()}},error:i,complete:o});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[fu](){return this}pipe(...n){return Kb(n)(this)}toPromise(n){return n=k0(n),new n((r,o)=>{let i;this.subscribe(s=>i=s,s=>o(s),()=>r(i))})}}return e.create=t=>new e(t),e})();function k0(e){var t;return(t=e??_r.Promise)!==null&&t!==void 0?t:Promise}function pW(e){return e&&$(e.next)&&$(e.error)&&$(e.complete)}function hW(e){return e&&e instanceof da||pW(e)&&Sh(e)}function mW(e){return $(e?.lift)}function ge(e){return t=>{if(mW(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Me(e,t,n,r,o){return new Yb(e,t,n,r,o)}var Yb=class extends da{constructor(t,n,r,o,i,s){super(t),this.onFinalize=i,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){t.error(c)}}:super._next,this._error=o?function(a){try{o(a)}catch(c){t.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};var N0=uu(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var _e=(()=>{class e extends ie{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new wh(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new N0}next(n){du(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){du(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){du(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:o,observers:i}=this;return r||o?Ub:(this.currentObservers=null,i.push(n),new ct(()=>{this.currentObservers=null,ua(i,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:o,isStopped:i}=this;r?n.error(o):i&&n.complete()}asObservable(){let n=new ie;return n.source=this,n}}return e.create=(t,n)=>new wh(t,n),e})(),wh=class extends _e{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,t)}error(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,t)}complete(){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||n===void 0||n.call(t)}_subscribe(t){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(t))!==null&&r!==void 0?r:Ub}};var ut=class extends _e{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){let{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}};var Ed={now(){return(Ed.delegate||Date).now()},delegate:void 0};var Mh=class extends _e{constructor(t=1/0,n=1/0,r=Ed){super(),this._bufferSize=t,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,n)}next(t){let{isStopped:n,_buffer:r,_infiniteTimeWindow:o,_timestampProvider:i,_windowTime:s}=this;n||(r.push(t),!o&&r.push(i.now()+s)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();let n=this._innerSubscribe(t),{_infiniteTimeWindow:r,_buffer:o}=this,i=o.slice();for(let s=0;s<i.length&&!t.closed;s+=r?1:2)t.next(i[s]);return this._checkFinalizedStatuses(t),n}_trimBuffer(){let{_bufferSize:t,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:o}=this,i=(o?1:2)*t;if(t<1/0&&i<r.length&&r.splice(0,r.length-i),!o){let s=n.now(),a=0;for(let c=1;c<r.length&&r[c]<=s;c+=2)a=c;a&&r.splice(0,a+1)}}};var Th=class extends ct{constructor(t,n){super()}schedule(t,n=0){return this}};var _d={setInterval(e,t,...n){let{delegate:r}=_d;return r?.setInterval?r.setInterval(e,t,...n):setInterval(e,t,...n)},clearInterval(e){let{delegate:t}=_d;return(t?.clearInterval||clearInterval)(e)},delegate:void 0};var Oh=class extends Th{constructor(t,n){super(t,n),this.scheduler=t,this.work=n,this.pending=!1}schedule(t,n=0){var r;if(this.closed)return this;this.state=t;let o=this.id,i=this.scheduler;return o!=null&&(this.id=this.recycleAsyncId(i,o,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(i,this.id,n),this}requestAsyncId(t,n,r=0){return _d.setInterval(t.flush.bind(t,this),r)}recycleAsyncId(t,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&_d.clearInterval(n)}execute(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(t,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,n){let r=!1,o;try{this.work(t)}catch(i){r=!0,o=i||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),o}unsubscribe(){if(!this.closed){let{id:t,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,ua(r,this),t!=null&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,super.unsubscribe()}}};var pu=class e{constructor(t,n=e.now){this.schedulerActionCtor=t,this.now=n}schedule(t,n=0,r){return new this.schedulerActionCtor(this,t).schedule(r,n)}};pu.now=Ed.now;var Rh=class extends pu{constructor(t,n=pu.now){super(t,n),this.actions=[],this._active=!1}flush(t){let{actions:n}=this;if(this._active){n.push(t);return}let r;this._active=!0;do if(r=t.execute(t.state,t.delay))break;while(t=n.shift());if(this._active=!1,r){for(;t=n.shift();)t.unsubscribe();throw r}}};var Zb=new Rh(Oh),F0=Zb;var bt=new ie(e=>e.complete());function Ah(e){return e&&$(e.schedule)}function Jb(e){return e[e.length-1]}function P0(e){return $(Jb(e))?e.pop():void 0}function eo(e){return Ah(Jb(e))?e.pop():void 0}function L0(e,t){return typeof Jb(e)=="number"?e.pop():t}function H0(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(l){try{u(r.next(l))}catch(f){s(f)}}function c(l){try{u(r.throw(l))}catch(f){s(f)}}function u(l){l.done?i(l.value):o(l.value).then(a,c)}u((r=r.apply(e,t||[])).next())})}function j0(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function fa(e){return this instanceof fa?(this.v=e,this):new fa(e)}function B0(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),o,i=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),o[Symbol.asyncIterator]=function(){return this},o;function s(p){return function(y){return Promise.resolve(y).then(p,f)}}function a(p,y){r[p]&&(o[p]=function(S){return new Promise(function(I,T){i.push([p,S,I,T])>1||c(p,S)})},y&&(o[p]=y(o[p])))}function c(p,y){try{u(r[p](y))}catch(S){h(i[0][3],S)}}function u(p){p.value instanceof fa?Promise.resolve(p.value.v).then(l,f):h(i[0][2],p)}function l(p){c("next",p)}function f(p){c("throw",p)}function h(p,y){p(y),i.shift(),i.length&&c(i[0][0],i[0][1])}}function V0(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof j0=="function"?j0(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=e[i]&&function(s){return new Promise(function(a,c){s=e[i](s),o(a,c,s.done,s.value)})}}function o(i,s,a,c){Promise.resolve(c).then(function(u){i({value:u,done:a})},s)}}var hu=e=>e&&typeof e.length=="number"&&typeof e!="function";function kh(e){return $(e?.then)}function Nh(e){return $(e[fu])}function Fh(e){return Symbol.asyncIterator&&$(e?.[Symbol.asyncIterator])}function Ph(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function gW(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Lh=gW();function jh(e){return $(e?.[Lh])}function Hh(e){return B0(this,arguments,function*(){let n=e.getReader();try{for(;;){let{value:r,done:o}=yield fa(n.read());if(o)return yield fa(void 0);yield yield fa(r)}}finally{n.releaseLock()}})}function Bh(e){return $(e?.getReader)}function Be(e){if(e instanceof ie)return e;if(e!=null){if(Nh(e))return yW(e);if(hu(e))return vW(e);if(kh(e))return xW(e);if(Fh(e))return U0(e);if(jh(e))return bW(e);if(Bh(e))return EW(e)}throw Ph(e)}function yW(e){return new ie(t=>{let n=e[fu]();if($(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function vW(e){return new ie(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function xW(e){return new ie(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,Dh)})}function bW(e){return new ie(t=>{for(let n of e)if(t.next(n),t.closed)return;t.complete()})}function U0(e){return new ie(t=>{_W(e,t).catch(n=>t.error(n))})}function EW(e){return U0(Hh(e))}function _W(e,t){var n,r,o,i;return H0(this,void 0,void 0,function*(){try{for(n=V0(e);r=yield n.next(),!r.done;){let s=r.value;if(t.next(s),t.closed)return}}catch(s){o={error:s}}finally{try{r&&!r.done&&(i=n.return)&&(yield i.call(n))}finally{if(o)throw o.error}}t.complete()})}function pn(e,t,n,r=0,o=!1){let i=t.schedule(function(){n(),o?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(i),!o)return i}function Vh(e,t=0){return ge((n,r)=>{n.subscribe(Me(r,o=>pn(r,e,()=>r.next(o),t),()=>pn(r,e,()=>r.complete(),t),o=>pn(r,e,()=>r.error(o),t)))})}function Uh(e,t=0){return ge((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function $0(e,t){return Be(e).pipe(Uh(t),Vh(t))}function q0(e,t){return Be(e).pipe(Uh(t),Vh(t))}function z0(e,t){return new ie(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function W0(e,t){return new ie(n=>{let r;return pn(n,t,()=>{r=e[Lh](),pn(n,t,()=>{let o,i;try{({value:o,done:i}=r.next())}catch(s){n.error(s);return}i?n.complete():n.next(o)},0,!0)}),()=>$(r?.return)&&r.return()})}function $h(e,t){if(!e)throw new Error("Iterable cannot be null");return new ie(n=>{pn(n,t,()=>{let r=e[Symbol.asyncIterator]();pn(n,t,()=>{r.next().then(o=>{o.done?n.complete():n.next(o.value)})},0,!0)})})}function G0(e,t){return $h(Hh(e),t)}function K0(e,t){if(e!=null){if(Nh(e))return $0(e,t);if(hu(e))return z0(e,t);if(kh(e))return q0(e,t);if(Fh(e))return $h(e,t);if(jh(e))return W0(e,t);if(Bh(e))return G0(e,t)}throw Ph(e)}function Ve(e,t){return t?K0(e,t):Be(e)}function Z(...e){let t=eo(e);return Ve(e,t)}function Qb(e,t){let n=$(e)?e:()=>e,r=o=>o.error(n());return new ie(t?o=>t.schedule(r,0,o):r)}function qh(e){return!!e&&(e instanceof ie||$(e.lift)&&$(e.subscribe))}var Vo=uu(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function Cd(e,t){let n=typeof t=="object";return new Promise((r,o)=>{let i=new Cr({next:s=>{r(s),i.unsubscribe()},error:o,complete:()=>{n?r(t.defaultValue):o(new Vo)}});e.subscribe(i)})}function Y0(e){return e instanceof Date&&!isNaN(e)}function Q(e,t){return ge((n,r)=>{let o=0;n.subscribe(Me(r,i=>{r.next(e.call(t,i,o++))}))})}var{isArray:CW}=Array;function SW(e,t){return CW(t)?e(...t):e(t)}function zh(e){return Q(t=>SW(e,t))}var{isArray:DW}=Array,{getPrototypeOf:IW,prototype:wW,keys:MW}=Object;function Z0(e){if(e.length===1){let t=e[0];if(DW(t))return{args:t,keys:null};if(TW(t)){let n=MW(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}function TW(e){return e&&typeof e=="object"&&IW(e)===wW}function J0(e,t){return e.reduce((n,r,o)=>(n[r]=t[o],n),{})}function Yi(...e){let t=eo(e),n=P0(e),{args:r,keys:o}=Z0(e);if(r.length===0)return Ve([],t);let i=new ie(OW(r,t,o?s=>J0(o,s):Sr));return n?i.pipe(zh(n)):i}function OW(e,t,n=Sr){return r=>{Q0(t,()=>{let{length:o}=e,i=new Array(o),s=o,a=o;for(let c=0;c<o;c++)Q0(t,()=>{let u=Ve(e[c],t),l=!1;u.subscribe(Me(r,f=>{i[c]=f,l||(l=!0,a--),a||r.next(n(i.slice()))},()=>{--s||r.complete()}))},r)},r)}}function Q0(e,t,n){e?pn(n,e,t):t()}function X0(e,t,n,r,o,i,s,a){let c=[],u=0,l=0,f=!1,h=()=>{f&&!c.length&&!u&&t.complete()},p=S=>u<r?y(S):c.push(S),y=S=>{i&&t.next(S),u++;let I=!1;Be(n(S,l++)).subscribe(Me(t,T=>{o?.(T),i?p(T):t.next(T)},()=>{I=!0},void 0,()=>{if(I)try{for(u--;c.length&&u<r;){let T=c.shift();s?pn(t,s,()=>y(T)):y(T)}h()}catch(T){t.error(T)}}))};return e.subscribe(Me(t,p,()=>{f=!0,h()})),()=>{a?.()}}function Et(e,t,n=1/0){return $(t)?Et((r,o)=>Q((i,s)=>t(r,i,o,s))(Be(e(r,o))),n):(typeof t=="number"&&(n=t),ge((r,o)=>X0(r,o,e,n)))}function Zi(e=1/0){return Et(Sr,e)}function eO(){return Zi(1)}function Ji(...e){return eO()(Ve(e,eo(e)))}function Sd(e){return new ie(t=>{Be(e()).subscribe(t)})}var RW=["addListener","removeListener"],AW=["addEventListener","removeEventListener"],kW=["on","off"];function to(e,t,n,r){if($(n)&&(r=n,n=void 0),r)return to(e,t,n).pipe(zh(r));let[o,i]=PW(e)?AW.map(s=>a=>e[s](t,a,n)):NW(e)?RW.map(tO(e,t)):FW(e)?kW.map(tO(e,t)):[];if(!o&&hu(e))return Et(s=>to(s,t,n))(Be(e));if(!o)throw new TypeError("Invalid event target");return new ie(s=>{let a=(...c)=>s.next(1<c.length?c:c[0]);return o(a),()=>i(a)})}function tO(e,t){return n=>r=>e[n](t,r)}function NW(e){return $(e.addListener)&&$(e.removeListener)}function FW(e){return $(e.on)&&$(e.off)}function PW(e){return $(e.addEventListener)&&$(e.removeEventListener)}function mu(e=0,t,n=F0){let r=-1;return t!=null&&(Ah(t)?n=t:r=t),new ie(o=>{let i=Y0(e)?+e-n.now():e;i<0&&(i=0);let s=0;return n.schedule(function(){o.closed||(o.next(s++),0<=r?this.schedule(void 0,r):o.complete())},i)})}function Xb(...e){let t=eo(e),n=L0(e,1/0),r=e;return r.length?r.length===1?Be(r[0]):Zi(n)(Ve(r,t)):bt}function lt(e,t){return ge((n,r)=>{let o=0;n.subscribe(Me(r,i=>e.call(t,i,o++)&&r.next(i)))})}function gu(e){return ge((t,n)=>{let r=null,o=!1,i;r=t.subscribe(Me(n,void 0,void 0,s=>{i=Be(e(s,gu(e)(t))),r?(r.unsubscribe(),r=null,i.subscribe(n)):o=!0})),o&&(r.unsubscribe(),r=null,i.subscribe(n))})}function Qi(e,t){return $(t)?Et(e,t,1):Et(e,1)}function eE(e,t=Zb){return ge((n,r)=>{let o=null,i=null,s=null,a=()=>{if(o){o.unsubscribe(),o=null;let u=i;i=null,r.next(u)}};function c(){let u=s+e,l=t.now();if(l<u){o=this.schedule(void 0,u-l),r.add(o);return}a()}n.subscribe(Me(r,u=>{i=u,s=t.now(),o||(o=t.schedule(c,e),r.add(o))},()=>{a(),r.complete()},void 0,()=>{i=o=null}))})}function nO(e){return ge((t,n)=>{let r=!1;t.subscribe(Me(n,o=>{r=!0,n.next(o)},()=>{r||n.next(e),n.complete()}))})}function An(e){return e<=0?()=>bt:ge((t,n)=>{let r=0;t.subscribe(Me(n,o=>{++r<=e&&(n.next(o),e<=r&&n.complete())}))})}function rO(e=LW){return ge((t,n)=>{let r=!1;t.subscribe(Me(n,o=>{r=!0,n.next(o)},()=>r?n.complete():n.error(e())))})}function LW(){return new Vo}function Xi(e){return ge((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}function Uo(e,t){let n=arguments.length>=2;return r=>r.pipe(e?lt((o,i)=>e(o,i,r)):Sr,An(1),n?nO(t):rO(()=>new Vo))}function Wh(e){return e<=0?()=>bt:ge((t,n)=>{let r=[];t.subscribe(Me(n,o=>{r.push(o),e<r.length&&r.shift()},()=>{for(let o of r)n.next(o);n.complete()},void 0,()=>{r=null}))})}function oO(e={}){let{connector:t=()=>new _e,resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:o=!0}=e;return i=>{let s,a,c,u=0,l=!1,f=!1,h=()=>{a?.unsubscribe(),a=void 0},p=()=>{h(),s=c=void 0,l=f=!1},y=()=>{let S=s;p(),S?.unsubscribe()};return ge((S,I)=>{u++,!f&&!l&&h();let T=c=c??t();I.add(()=>{u--,u===0&&!f&&!l&&(a=tE(y,o))}),T.subscribe(I),!s&&u>0&&(s=new Cr({next:z=>T.next(z),error:z=>{f=!0,h(),a=tE(p,n,z),T.error(z)},complete:()=>{l=!0,h(),a=tE(p,r),T.complete()}}),Be(S).subscribe(s))})(i)}}function tE(e,t,...n){if(t===!0){e();return}if(t===!1)return;let r=new Cr({next:()=>{r.unsubscribe(),e()}});return Be(t(...n)).subscribe(r)}function nE(e,t,n){let r,o=!1;return e&&typeof e=="object"?{bufferSize:r=1/0,windowTime:t=1/0,refCount:o=!1,scheduler:n}=e:r=e??1/0,oO({connector:()=>new Mh(r,t,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}function rE(e){return lt((t,n)=>e<=n)}function es(...e){let t=eo(e);return ge((n,r)=>{(t?Ji(e,n,t):Ji(e,n)).subscribe(r)})}function Ht(e,t){return ge((n,r)=>{let o=null,i=0,s=!1,a=()=>s&&!o&&r.complete();n.subscribe(Me(r,c=>{o?.unsubscribe();let u=0,l=i++;Be(e(c,l)).subscribe(o=Me(r,f=>r.next(t?t(c,f,l,u++):f),()=>{o=null,a()}))},()=>{s=!0,a()}))})}function kn(e){return ge((t,n)=>{Be(e).subscribe(Me(n,()=>n.complete(),bd)),!n.closed&&t.subscribe(n)})}function Xn(e,t,n){let r=$(e)||t||n?{next:e,error:t,complete:n}:e;return r?ge((o,i)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;o.subscribe(Me(i,c=>{var u;(u=r.next)===null||u===void 0||u.call(r,c),i.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),i.complete()},c=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,c),i.error(c)},()=>{var c,u;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):Sr}var oE;function Gh(){return oE}function no(e){let t=oE;return oE=e,t}var iO=Symbol("NotFound");function yu(e){return e===iO||e?.name==="\u0275NotFound"}var xE="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",j=class extends Error{code;constructor(t,n){super(Dr(t,n)),this.code=t}};function BW(e){return`NG0${Math.abs(e)}`}function Dr(e,t){return`${BW(e)}${t?": "+t:""}`}var Ir=globalThis;function Te(e){for(let t in e)if(e[t]===Te)return t;throw Error("")}function dO(e,t){for(let n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function qo(e){if(typeof e=="string")return e;if(Array.isArray(e))return`[${e.map(qo).join(", ")}]`;if(e==null)return""+e;let t=e.overriddenName||e.name;if(t)return`${t}`;let n=e.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function bE(e,t){return e?t?`${e} ${t}`:e:t||""}var VW=Te({__forward_ref__:Te});function ya(e){return e.__forward_ref__=ya,e.toString=function(){return qo(this())},e}function Bt(e){return EE(e)?e():e}function EE(e){return typeof e=="function"&&e.hasOwnProperty(VW)&&e.__forward_ref__===ya}function O(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function At(e){return{providers:e.providers||[],imports:e.imports||[]}}function Od(e){return UW(e,Qh)}function _E(e){return Od(e)!==null}function UW(e,t){return e.hasOwnProperty(t)&&e[t]||null}function $W(e){let t=e?.[Qh]??null;return t||null}function sE(e){return e&&e.hasOwnProperty(Yh)?e[Yh]:null}var Qh=Te({\u0275prov:Te}),Yh=Te({\u0275inj:Te}),k=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(t,n){this._desc=t,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=O({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function CE(e){return e&&!!e.\u0275providers}var SE=Te({\u0275cmp:Te}),DE=Te({\u0275dir:Te}),IE=Te({\u0275pipe:Te}),wE=Te({\u0275mod:Te}),Id=Te({\u0275fac:Te}),va=Te({__NG_ELEMENT_ID__:Te}),aO=Te({__NG_ENV_ID__:Te});function ME(e){return Xh(e,"@NgModule"),e[wE]||null}function Wo(e){return Xh(e,"@Component"),e[SE]||null}function TE(e){return Xh(e,"@Directive"),e[DE]||null}function fO(e){return Xh(e,"@Pipe"),e[IE]||null}function Xh(e,t){if(e==null)throw new j(-919,!1)}function OE(e){return typeof e=="string"?e:e==null?"":String(e)}var pO=Te({ngErrorCode:Te}),qW=Te({ngErrorMessage:Te}),zW=Te({ngTokenPath:Te});function RE(e,t){return hO("",-200,t)}function em(e,t){throw new j(-201,!1)}function hO(e,t,n){let r=new j(t,e);return r[pO]=t,r[qW]=e,n&&(r[zW]=n),r}function WW(e){return e[pO]}var aE;function mO(){return aE}function tn(e){let t=aE;return aE=e,t}function AE(e,t,n){let r=Od(e);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&8)return null;if(t!==void 0)return t;em(e,"")}var GW={},pa=GW,KW="__NG_DI_FLAG__",cE=class{injector;constructor(t){this.injector=t}retrieve(t,n){let r=ha(n)||0;try{return this.injector.get(t,r&8?null:pa,r)}catch(o){if(yu(o))return o;throw o}}};function YW(e,t=0){let n=Gh();if(n===void 0)throw new j(-203,!1);if(n===null)return AE(e,void 0,t);{let r=ZW(t),o=n.retrieve(e,r);if(yu(o)){if(r.optional)return null;throw o}return o}}function P(e,t=0){return(mO()||YW)(Bt(e),t)}function b(e,t){return P(e,ha(t))}function ha(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function ZW(e){return{optional:!!(e&8),host:!!(e&1),self:!!(e&2),skipSelf:!!(e&4)}}function uE(e){let t=[];for(let n=0;n<e.length;n++){let r=Bt(e[n]);if(Array.isArray(r)){if(r.length===0)throw new j(900,!1);let o,i=0;for(let s=0;s<r.length;s++){let a=r[s],c=JW(a);typeof c=="number"?c===-1?o=a.token:i|=c:o=a}t.push(P(o,i))}else t.push(P(r))}return t}function JW(e){return e[KW]}function ts(e,t){let n=e.hasOwnProperty(Id);return n?e[Id]:null}function tm(e,t){e.forEach(n=>Array.isArray(n)?tm(n,t):t(n))}function kE(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Rd(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function gO(e,t,n,r){let o=e.length;if(o==t)e.push(n,r);else if(o===1)e.push(r,e[0]),e[0]=n;else{for(o--,e.push(e[o-1],e[o]);o>t;){let i=o-2;e[o]=e[i],o--}e[t]=n,e[t+1]=r}}function yO(e,t,n){let r=xu(e,t);return r>=0?e[r|1]=n:(r=~r,gO(e,r,t,n)),r}function nm(e,t){let n=xu(e,t);if(n>=0)return e[n|1]}function xu(e,t){return QW(e,t,1)}function QW(e,t,n){let r=0,o=e.length>>n;for(;o!==r;){let i=r+(o-r>>1),s=e[i<<n];if(t===s)return i<<n;s>t?o=i:r=i+1}return~(o<<n)}var rs={},Nn=[],os=new k(""),NE=new k("",-1),FE=new k(""),wd=class{get(t,n=pa){if(n===pa){let o=hO("",-201);throw o.name="\u0275NotFound",o}return n}};function is(e){return{\u0275providers:e}}function vO(...e){return{\u0275providers:PE(!0,e),\u0275fromNgModule:!0}}function PE(e,...t){let n=[],r=new Set,o,i=s=>{n.push(s)};return tm(t,s=>{let a=s;Zh(a,i,[],r)&&(o||=[],o.push(a))}),o!==void 0&&xO(o,i),n}function xO(e,t){for(let n=0;n<e.length;n++){let{ngModule:r,providers:o}=e[n];LE(o,i=>{t(i,r)})}}function Zh(e,t,n,r){if(e=Bt(e),!e)return!1;let o=null,i=sE(e),s=!i&&Wo(e);if(!i&&!s){let c=e.ngModule;if(i=sE(c),i)o=c;else return!1}else{if(s&&!s.standalone)return!1;o=e}let a=r.has(o);if(s){if(a)return!1;if(r.add(o),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let u of c)Zh(u,t,n,r)}}else if(i){if(i.imports!=null&&!a){r.add(o);let u;tm(i.imports,l=>{Zh(l,t,n,r)&&(u||=[],u.push(l))}),u!==void 0&&xO(u,t)}if(!a){let u=ts(o)||(()=>new o);t({provide:o,useFactory:u,deps:Nn},o),t({provide:FE,useValue:o,multi:!0},o),t({provide:os,useValue:()=>P(o),multi:!0},o)}let c=i.providers;if(c!=null&&!a){let u=e;LE(c,l=>{t(l,u)})}}else return!1;return o!==e&&e.providers!==void 0}function LE(e,t){for(let n of e)CE(n)&&(n=n.\u0275providers),Array.isArray(n)?LE(n,t):t(n)}var XW=Te({provide:String,useValue:Te});function bO(e){return e!==null&&typeof e=="object"&&XW in e}function e3(e){return!!(e&&e.useExisting)}function t3(e){return!!(e&&e.useFactory)}function ma(e){return typeof e=="function"}function EO(e){return!!e.useClass}var Ad=new k(""),Kh={},cO={},iE;function kd(){return iE===void 0&&(iE=new wd),iE}var ze=class{},ga=class extends ze{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(t,n,r,o){super(),this.parent=n,this.source=r,this.scopes=o,dE(t,s=>this.processProvider(s)),this.records.set(NE,vu(void 0,this)),o.has("environment")&&this.records.set(ze,vu(void 0,this));let i=this.records.get(Ad);i!=null&&typeof i.value=="string"&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(FE,Nn,{self:!0}))}retrieve(t,n){let r=ha(n)||0;try{return this.get(t,pa,r)}catch(o){if(yu(o))return o;throw o}}destroy(){Dd(this),this._destroyed=!0;let t=W(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),W(t)}}onDestroy(t){return Dd(this),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){Dd(this);let n=no(this),r=tn(void 0),o;try{return t()}finally{no(n),tn(r)}}get(t,n=pa,r){if(Dd(this),t.hasOwnProperty(aO))return t[aO](this);let o=ha(r),i,s=no(this),a=tn(void 0);try{if(!(o&4)){let u=this.records.get(t);if(u===void 0){let l=s3(t)&&Od(t);l&&this.injectableDefInScope(l)?u=vu(lE(t),Kh):u=null,this.records.set(t,u)}if(u!=null)return this.hydrate(t,u,o)}let c=o&2?kd():this.parent;return n=o&8&&n===pa?null:n,c.get(t,n)}catch(c){let u=WW(c);throw u===-200||u===-201?new j(u,null):c}finally{tn(a),no(s)}}resolveInjectorInitializers(){let t=W(null),n=no(this),r=tn(void 0),o;try{let i=this.get(os,Nn,{self:!0});for(let s of i)s()}finally{no(n),tn(r),W(t)}}toString(){let t=[],n=this.records;for(let r of n.keys())t.push(qo(r));return`R3Injector[${t.join(", ")}]`}processProvider(t){t=Bt(t);let n=ma(t)?t:Bt(t&&t.provide),r=r3(t);if(!ma(t)&&t.multi===!0){let o=this.records.get(n);o||(o=vu(void 0,Kh,!0),o.factory=()=>uE(o.multi),this.records.set(n,o)),n=t,o.multi.push(t)}this.records.set(n,r)}hydrate(t,n,r){let o=W(null);try{if(n.value===cO)throw RE(qo(t));return n.value===Kh&&(n.value=cO,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&i3(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{W(o)}}injectableDefInScope(t){if(!t.providedIn)return!1;let n=Bt(t.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){let n=this._onDestroyHooks.indexOf(t);n!==-1&&this._onDestroyHooks.splice(n,1)}};function lE(e){let t=Od(e),n=t!==null?t.factory:ts(e);if(n!==null)return n;if(e instanceof k)throw new j(204,!1);if(e instanceof Function)return n3(e);throw new j(204,!1)}function n3(e){if(e.length>0)throw new j(204,!1);let n=$W(e);return n!==null?()=>n.factory(e):()=>new e}function r3(e){if(bO(e))return vu(void 0,e.useValue);{let t=jE(e);return vu(t,Kh)}}function jE(e,t,n){let r;if(ma(e)){let o=Bt(e);return ts(o)||lE(o)}else if(bO(e))r=()=>Bt(e.useValue);else if(t3(e))r=()=>e.useFactory(...uE(e.deps||[]));else if(e3(e))r=(o,i)=>P(Bt(e.useExisting),i!==void 0&&i&8?8:void 0);else{let o=Bt(e&&(e.useClass||e.provide));if(o3(e))r=()=>new o(...uE(e.deps));else return ts(o)||lE(o)}return r}function Dd(e){if(e.destroyed)throw new j(205,!1)}function vu(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function o3(e){return!!e.deps}function i3(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function s3(e){return typeof e=="function"||typeof e=="object"&&e.ngMetadataName==="InjectionToken"}function dE(e,t){for(let n of e)Array.isArray(n)?dE(n,t):n&&CE(n)?dE(n.\u0275providers,t):t(n)}function _t(e,t){let n;e instanceof ga?(Dd(e),n=e):n=new cE(e);let r,o=no(n),i=tn(void 0);try{return t()}finally{no(o),tn(i)}}function HE(){return mO()!==void 0||Gh()!=null}var wr=0,J=1,te=2,Rt=3,tr=4,nr=5,bu=6,Eu=7,gt=8,Go=9,Ko=10,tt=11,_u=12,BE=13,xa=14,Fn=15,ba=16,Ea=17,_a=18,Yo=19,VE=20,$o=21,rm=22,Nd=23,Pn=24,Ca=25,Sa=26,kt=27,_O=1,UE=6,ss=7,Fd=8,Pd=9,dt=10;function ro(e){return Array.isArray(e)&&typeof e[_O]=="object"}function Mr(e){return Array.isArray(e)&&e[_O]===!0}function $E(e){return(e.flags&4)!==0}function as(e){return e.componentOffset>-1}function Cu(e){return(e.flags&1)===1}function oo(e){return!!e.template}function Su(e){return(e[te]&512)!==0}function Da(e){return(e[te]&256)===256}var qE="svg",CO="math";function rr(e){for(;Array.isArray(e);)e=e[wr];return e}function zE(e,t){return rr(t[e])}function Tr(e,t){return rr(t[e.index])}function Ld(e,t){return e.data[t]}function SO(e,t){return e[t]}function WE(e,t,n,r){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=r}function or(e,t){let n=t[e];return ro(n)?n:n[wr]}function om(e){return(e[te]&128)===128}function DO(e){return Mr(e[Rt])}function cs(e,t){return t==null?null:e[t]}function GE(e){e[Ea]=0}function KE(e){e[te]&1024||(e[te]|=1024,om(e)&&Du(e))}function IO(e,t){for(;e>0;)t=t[xa],e--;return t}function jd(e){return!!(e[te]&9216||e[Pn]?.dirty)}function im(e){e[Ko].changeDetectionScheduler?.notify(8),e[te]&64&&(e[te]|=1024),jd(e)&&Du(e)}function Du(e){e[Ko].changeDetectionScheduler?.notify(0);let t=ns(e);for(;t!==null&&!(t[te]&8192||(t[te]|=8192,!om(t)));)t=ns(t)}function YE(e,t){if(Da(e))throw new j(911,!1);e[$o]===null&&(e[$o]=[]),e[$o].push(t)}function wO(e,t){if(e[$o]===null)return;let n=e[$o].indexOf(t);n!==-1&&e[$o].splice(n,1)}function ns(e){let t=e[Rt];return Mr(t)?t[Rt]:t}function MO(e){return e[Eu]??=[]}function TO(e){return e.cleanup??=[]}var ue={lFrame:WO(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var fE=!1;function OO(){return ue.lFrame.elementDepthCount}function RO(){ue.lFrame.elementDepthCount++}function AO(){ue.lFrame.elementDepthCount--}function sm(){return ue.bindingsEnabled}function kO(){return ue.skipHydrationRootTNode!==null}function NO(e){return ue.skipHydrationRootTNode===e}function FO(){ue.skipHydrationRootTNode=null}function De(){return ue.lFrame.lView}function hn(){return ue.lFrame.tView}function Ia(e){return ue.lFrame.contextLView=e,e[gt]}function wa(e){return ue.lFrame.contextLView=null,e}function mn(){let e=ZE();for(;e!==null&&e.type===64;)e=e.parent;return e}function ZE(){return ue.lFrame.currentTNode}function PO(){let e=ue.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function Iu(e,t){let n=ue.lFrame;n.currentTNode=e,n.isParent=t}function JE(){return ue.lFrame.isParent}function LO(){ue.lFrame.isParent=!1}function QE(){return fE}function XE(e){let t=fE;return fE=e,t}function jO(){let e=ue.lFrame,t=e.bindingRootIndex;return t===-1&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function HO(e){return ue.lFrame.bindingIndex=e}function Hd(){return ue.lFrame.bindingIndex++}function BO(e){let t=ue.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function VO(){return ue.lFrame.inI18n}function UO(e,t){let n=ue.lFrame;n.bindingIndex=n.bindingRootIndex=e,am(t)}function $O(){return ue.lFrame.currentDirectiveIndex}function am(e){ue.lFrame.currentDirectiveIndex=e}function qO(e){let t=ue.lFrame.currentDirectiveIndex;return t===-1?null:e[t]}function e_(e){ue.lFrame.currentQueryIndex=e}function a3(e){let t=e[J];return t.type===2?t.declTNode:t.type===1?e[nr]:null}function t_(e,t,n){if(n&4){let o=t,i=e;for(;o=o.parent,o===null&&!(n&1);)if(o=a3(i),o===null||(i=i[xa],o.type&10))break;if(o===null)return!1;t=o,e=i}let r=ue.lFrame=zO();return r.currentTNode=t,r.lView=e,!0}function cm(e){let t=zO(),n=e[J];ue.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function zO(){let e=ue.lFrame,t=e===null?null:e.child;return t===null?WO(e):t}function WO(e){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=t),t}function GO(){let e=ue.lFrame;return ue.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var n_=GO;function um(){let e=GO();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function KO(e){return(ue.lFrame.contextLView=IO(e,ue.lFrame.contextLView))[gt]}function us(){return ue.lFrame.selectedIndex}function ls(e){ue.lFrame.selectedIndex=e}function r_(){let e=ue.lFrame;return Ld(e.tView,e.selectedIndex)}function lm(){ue.lFrame.currentNamespace=qE}function dm(){c3()}function c3(){ue.lFrame.currentNamespace=null}function YO(){return ue.lFrame.currentNamespace}var ZO=!0;function fm(){return ZO}function Bd(e){ZO=e}function pE(e,t=null,n=null,r){let o=o_(e,t,n,r);return o.resolveInjectorInitializers(),o}function o_(e,t=null,n=null,r,o=new Set){let i=[n||Nn,vO(e)];return r=r||(typeof e=="object"?void 0:qo(e)),new ga(i,t||kd(),r||null,o)}var Vt=class e{static THROW_IF_NOT_FOUND=pa;static NULL=new wd;static create(t,n){if(Array.isArray(t))return pE({name:""},n,t,"");{let r=t.name??"";return pE({name:r},t.parent,t.providers,r)}}static \u0275prov=O({token:e,providedIn:"any",factory:()=>P(NE)});static __NG_ELEMENT_ID__=-1},Ue=new k(""),nn=(()=>{class e{static __NG_ELEMENT_ID__=u3;static __NG_ENV_ID__=n=>n}return e})(),hE=class extends nn{_lView;constructor(t){super(),this._lView=t}get destroyed(){return Da(this._lView)}onDestroy(t){let n=this._lView;return YE(n,t),()=>wO(n,t)}};function u3(){return new hE(De())}var i_=!1,JO=new k(""),io=(()=>{class e{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new ut(!1);debugTaskTracker=b(JO,{optional:!0});get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new ie(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),this.debugTaskTracker?.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.debugTaskTracker?.remove(n),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=O({token:e,providedIn:"root",factory:()=>new e})}return e})(),mE=class extends _e{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,HE()&&(this.destroyRef=b(nn,{optional:!0})??void 0,this.pendingTasks=b(io,{optional:!0})??void 0)}emit(t){let n=W(null);try{super.next(t)}finally{W(n)}}subscribe(t,n,r){let o=t,i=n||(()=>null),s=r;if(t&&typeof t=="object"){let c=t;o=c.next?.bind(c),i=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(i=this.wrapInTimeout(i),o&&(o=this.wrapInTimeout(o)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:o,error:i,complete:s});return t instanceof ct&&t.add(a),a}wrapInTimeout(t){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{t(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Ot=mE;function Jh(...e){}function s_(e){let t,n;function r(){e=Jh;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),t!==void 0&&clearTimeout(t)}catch(o){}}return t=setTimeout(()=>{e(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{e(),r()})),()=>r()}function QO(e){return queueMicrotask(()=>e()),()=>{e=Jh}}var a_="isAngularZone",Md=a_+"_ID",l3=0,Se=class e{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Ot(!1);onMicrotaskEmpty=new Ot(!1);onStable=new Ot(!1);onError=new Ot(!1);constructor(t){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:o=!1,scheduleInRootZone:i=i_}=t;if(typeof Zone>"u")throw new j(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!o&&r,s.shouldCoalesceRunChangeDetection=o,s.callbackScheduled=!1,s.scheduleInRootZone=i,p3(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(a_)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new j(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new j(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,o){let i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+o,t,d3,Jh,Jh);try{return i.runTask(s,n,r)}finally{i.cancelTask(s)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}},d3={};function c_(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function f3(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function t(){s_(()=>{e.callbackScheduled=!1,gE(e),e.isCheckStableRunning=!0,c_(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),gE(e)}function p3(e){let t=()=>{f3(e)},n=l3++;e._inner=e._inner.fork({name:"angular",properties:{[a_]:!0,[Md]:n,[Md+n]:!0},onInvokeTask:(r,o,i,s,a,c)=>{if(h3(c))return r.invokeTask(i,s,a,c);try{return uO(e),r.invokeTask(i,s,a,c)}finally{(e.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&t(),lO(e)}},onInvoke:(r,o,i,s,a,c,u)=>{try{return uO(e),r.invoke(i,s,a,c,u)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!m3(c)&&t(),lO(e)}},onHasTask:(r,o,i,s)=>{r.hasTask(i,s),o===i&&(s.change=="microTask"?(e._hasPendingMicrotasks=s.microTask,gE(e),c_(e)):s.change=="macroTask"&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,o,i,s)=>(r.handleError(i,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}function gE(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function uO(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function lO(e){e._nesting--,c_(e)}var Td=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Ot;onMicrotaskEmpty=new Ot;onStable=new Ot;onError=new Ot;run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,o){return t.apply(n,r)}};function h3(e){return XO(e,"__ignore_ng_zone__")}function m3(e){return XO(e,"__scheduler_tick__")}function XO(e,t){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[t]===!0}var er=class{_console=console;handleError(t){this._console.error("ERROR",t)}},Ln=new k("",{factory:()=>{let e=b(Se),t=b(ze),n;return r=>{e.runOutsideAngular(()=>{t.destroyed&&!n?setTimeout(()=>{throw r}):(n??=t.get(er),n.handleError(r))})}}}),eR={provide:os,useValue:()=>{let e=b(er,{optional:!0})},multi:!0};function ds(e,t){let[n,r,o]=Bb(e,t?.equal),i=n,s=i[Rn];return i.set=r,i.update=o,i.asReadonly=u_.bind(i),i}function u_(){let e=this[Rn];if(e.readonlyFn===void 0){let t=()=>this();t[Rn]=e,e.readonlyFn=t}return e.readonlyFn}var pm=(()=>{class e{view;node;constructor(n,r){this.view=n,this.node=r}static __NG_ELEMENT_ID__=g3}return e})();function g3(){return new pm(De(),mn())}var zo=class{},wu=new k("",{factory:()=>!0});var hm=new k(""),Mu=(()=>{class e{internalPendingTasks=b(io);scheduler=b(zo);errorHandler=b(Ln);add(){let n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(n))}}run(n){let r=this.add();n().catch(this.errorHandler).finally(r)}static \u0275prov=O({token:e,providedIn:"root",factory:()=>new e})}return e})(),l_=(()=>{class e{static \u0275prov=O({token:e,providedIn:"root",factory:()=>new yE})}return e})(),yE=class{dirtyEffectCount=0;queues=new Map;add(t){this.enqueue(t),this.schedule(t)}schedule(t){t.dirty&&this.dirtyEffectCount++}remove(t){let n=t.zone,r=this.queues.get(n);r.has(t)&&(r.delete(t),t.dirty&&this.dirtyEffectCount--)}enqueue(t){let n=t.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(t)||r.add(t)}flush(){for(;this.dirtyEffectCount>0;){let t=!1;for(let[n,r]of this.queues)n===null?t||=this.flushQueue(r):t||=n.run(()=>this.flushQueue(r));t||(this.dirtyEffectCount=0)}}flushQueue(t){let n=!1;for(let r of t)r.dirty&&(this.dirtyEffectCount--,n=!0,r.run());return n}},vE=class{[Rn];constructor(t){this[Rn]=t}destroy(){this[Rn].destroy()}};function rn(e){return Vb(e)}function Yd(e){return{toString:e}.toString()}function AR(e){let t=Ir.ng;if(t&&t.\u0275compilerFacade)return t.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function _3(e){return typeof e=="function"}function kR(e,t,n,r){t!==null?t.applyValueToInputSignal(t,r):e[n]=r}var bm=class{previousValue;currentValue;firstChange;constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}},ku=(()=>{let e=()=>NR;return e.ngInherit=!0,e})();function NR(e){return e.type.prototype.ngOnChanges&&(e.setInput=S3),C3}function C3(){let e=PR(this),t=e?.current;if(t){let n=e.previous;if(n===rs)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function S3(e,t,n,r,o){let i=this.declaredInputs[r],s=PR(e)||D3(e,{previous:rs,current:null}),a=s.current||(s.current={}),c=s.previous,u=c[i];a[i]=new bm(u&&u.currentValue,n,c===rs),kR(e,t,o,n)}var FR="__ngSimpleChanges__";function PR(e){return e[FR]||null}function D3(e,t){return e[FR]=t}var tR=[];var ke=function(e,t=null,n){for(let r=0;r<tR.length;r++){let o=tR[r];o(e,t,n)}},Ie=(function(e){return e[e.TemplateCreateStart=0]="TemplateCreateStart",e[e.TemplateCreateEnd=1]="TemplateCreateEnd",e[e.TemplateUpdateStart=2]="TemplateUpdateStart",e[e.TemplateUpdateEnd=3]="TemplateUpdateEnd",e[e.LifecycleHookStart=4]="LifecycleHookStart",e[e.LifecycleHookEnd=5]="LifecycleHookEnd",e[e.OutputStart=6]="OutputStart",e[e.OutputEnd=7]="OutputEnd",e[e.BootstrapApplicationStart=8]="BootstrapApplicationStart",e[e.BootstrapApplicationEnd=9]="BootstrapApplicationEnd",e[e.BootstrapComponentStart=10]="BootstrapComponentStart",e[e.BootstrapComponentEnd=11]="BootstrapComponentEnd",e[e.ChangeDetectionStart=12]="ChangeDetectionStart",e[e.ChangeDetectionEnd=13]="ChangeDetectionEnd",e[e.ChangeDetectionSyncStart=14]="ChangeDetectionSyncStart",e[e.ChangeDetectionSyncEnd=15]="ChangeDetectionSyncEnd",e[e.AfterRenderHooksStart=16]="AfterRenderHooksStart",e[e.AfterRenderHooksEnd=17]="AfterRenderHooksEnd",e[e.ComponentStart=18]="ComponentStart",e[e.ComponentEnd=19]="ComponentEnd",e[e.DeferBlockStateStart=20]="DeferBlockStateStart",e[e.DeferBlockStateEnd=21]="DeferBlockStateEnd",e[e.DynamicComponentStart=22]="DynamicComponentStart",e[e.DynamicComponentEnd=23]="DynamicComponentEnd",e[e.HostBindingsUpdateStart=24]="HostBindingsUpdateStart",e[e.HostBindingsUpdateEnd=25]="HostBindingsUpdateEnd",e})(Ie||{});function I3(e,t,n){let{ngOnChanges:r,ngOnInit:o,ngDoCheck:i}=t.type.prototype;if(r){let s=NR(t);(n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s)}o&&(n.preOrderHooks??=[]).push(0-e,o),i&&((n.preOrderHooks??=[]).push(e,i),(n.preOrderCheckHooks??=[]).push(e,i))}function LR(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){let i=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:l}=i;s&&(e.contentHooks??=[]).push(-n,s),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),c&&(e.viewHooks??=[]).push(-n,c),u&&((e.viewHooks??=[]).push(n,u),(e.viewCheckHooks??=[]).push(n,u)),l!=null&&(e.destroyHooks??=[]).push(n,l)}}function ym(e,t,n){jR(e,t,3,n)}function vm(e,t,n,r){(e[te]&3)===n&&jR(e,t,n,r)}function d_(e,t){let n=e[te];(n&3)===t&&(n&=16383,n+=1,e[te]=n)}function jR(e,t,n,r){let o=r!==void 0?e[Ea]&65535:0,i=r??-1,s=t.length-1,a=0;for(let c=o;c<s;c++)if(typeof t[c+1]=="number"){if(a=t[c],r!=null&&a>=r)break}else t[c]<0&&(e[Ea]+=65536),(a<i||i==-1)&&(w3(e,n,t,c),e[Ea]=(e[Ea]&4294901760)+c+2),c++}function nR(e,t){ke(Ie.LifecycleHookStart,e,t);let n=W(null);try{t.call(e)}finally{W(n),ke(Ie.LifecycleHookEnd,e,t)}}function w3(e,t,n,r){let o=n[r]<0,i=n[r+1],s=o?-n[r]:n[r],a=e[s];o?e[te]>>14<e[Ea]>>16&&(e[te]&3)===t&&(e[te]+=16384,nR(a,i)):nR(a,i)}var Ou=-1,Ta=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,n,r,o){this.factory=t,this.name=o,this.canSeeViewProviders=n,this.injectImpl=r}};function M3(e){return(e.flags&8)!==0}function T3(e){return(e.flags&16)!==0}function O3(e,t,n){let r=0;for(;r<n.length;){let o=n[r];if(typeof o=="number"){if(o!==0)break;r++;let i=n[r++],s=n[r++],a=n[r++];e.setAttribute(t,s,a,i)}else{let i=o,s=n[++r];A3(i)?e.setProperty(t,i,s):e.setAttribute(t,i,s),r++}}return r}function R3(e){return e===3||e===4||e===6}function A3(e){return e.charCodeAt(0)===64}function $d(e,t){if(!(t===null||t.length===0))if(e===null||e.length===0)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){let o=t[r];typeof o=="number"?n=o:n===0||(n===-1||n===2?rR(e,n,o,null,t[++r]):rR(e,n,o,null,null))}}return e}function rR(e,t,n,r,o){let i=0,s=e.length;if(t===-1)s=-1;else for(;i<e.length;){let a=e[i++];if(typeof a=="number"){if(a===t){s=-1;break}else if(a>t){s=i-1;break}}}for(;i<e.length;){let a=e[i];if(typeof a=="number")break;if(a===n){o!==null&&(e[i+1]=o);return}i++,o!==null&&i++}s!==-1&&(e.splice(s,0,t),i=s+1),e.splice(i++,0,n),o!==null&&e.splice(i++,0,o)}function HR(e){return e!==Ou}function Em(e){return e&32767}function k3(e){return e>>16}function _m(e,t){let n=k3(e),r=t;for(;n>0;)r=r[xa],n--;return r}var __=!0;function Cm(e){let t=__;return __=e,t}var N3=256,BR=N3-1,VR=5,F3=0,so={};function P3(e,t,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(va)&&(r=n[va]),r==null&&(r=n[va]=F3++);let o=r&BR,i=1<<o;t.data[e+(o>>VR)]|=i}function Sm(e,t){let n=UR(e,t);if(n!==-1)return n;let r=t[J];r.firstCreatePass&&(e.injectorIndex=t.length,f_(r.data,e),f_(t,null),f_(r.blueprint,null));let o=q_(e,t),i=e.injectorIndex;if(HR(o)){let s=Em(o),a=_m(o,t),c=a[J].data;for(let u=0;u<8;u++)t[i+u]=a[s+u]|c[s+u]}return t[i+8]=o,i}function f_(e,t){e.push(0,0,0,0,0,0,0,0,t)}function UR(e,t){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||t[e.injectorIndex+8]===null?-1:e.injectorIndex}function q_(e,t){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let n=0,r=null,o=t;for(;o!==null;){if(r=GR(o),r===null)return Ou;if(n++,o=o[xa],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Ou}function C_(e,t,n){P3(e,t,n)}function $R(e,t,n){if(n&8||e!==void 0)return e;em(t,"NodeInjector")}function qR(e,t,n,r){if(n&8&&r===void 0&&(r=null),(n&3)===0){let o=e[Go],i=tn(void 0);try{return o?o.get(t,r,n&8):AE(t,r,n&8)}finally{tn(i)}}return $R(r,t,n)}function zR(e,t,n,r=0,o){if(e!==null){if(t[te]&2048&&!(r&2)){let s=V3(e,t,n,r,so);if(s!==so)return s}let i=WR(e,t,n,r,so);if(i!==so)return i}return qR(t,n,r,o)}function WR(e,t,n,r,o){let i=H3(n);if(typeof i=="function"){if(!t_(t,e,r))return r&1?$R(o,n,r):qR(t,n,r,o);try{let s;if(s=i(r),s==null&&!(r&8))em(n);else return s}finally{n_()}}else if(typeof i=="number"){let s=null,a=UR(e,t),c=Ou,u=r&1?t[Fn][nr]:null;for((a===-1||r&4)&&(c=a===-1?q_(e,t):t[a+8],c===Ou||!iR(r,!1)?a=-1:(s=t[J],a=Em(c),t=_m(c,t)));a!==-1;){let l=t[J];if(oR(i,a,l.data)){let f=L3(a,t,n,s,r,u);if(f!==so)return f}c=t[a+8],c!==Ou&&iR(r,t[J].data[a+8]===u)&&oR(i,a,t)?(s=l,a=Em(c),t=_m(c,t)):a=-1}}return o}function L3(e,t,n,r,o,i){let s=t[J],a=s.data[e+8],c=r==null?as(a)&&__:r!=s&&(a.type&3)!==0,u=o&1&&i===a,l=j3(a,s,n,c,u);return l!==null?Dm(t,s,l,a,o):so}function j3(e,t,n,r,o){let i=e.providerIndexes,s=t.data,a=i&1048575,c=e.directiveStart,u=e.directiveEnd,l=i>>20,f=r?a:a+l,h=o?a+l:u;for(let p=f;p<h;p++){let y=s[p];if(p<c&&n===y||p>=c&&y.type===n)return p}if(o){let p=s[c];if(p&&oo(p)&&p.type===n)return c}return null}function Dm(e,t,n,r,o){let i=e[n],s=t.data;if(i instanceof Ta){let a=i;if(a.resolving)throw RE("");let c=Cm(a.canSeeViewProviders);a.resolving=!0;let u=s[n].type||s[n],l,f=a.injectImpl?tn(a.injectImpl):null,h=t_(e,r,0);try{i=e[n]=a.factory(void 0,o,s,e,r),t.firstCreatePass&&n>=r.directiveStart&&I3(n,s[n],t)}finally{f!==null&&tn(f),Cm(c),a.resolving=!1,n_()}}return i}function H3(e){if(typeof e=="string")return e.charCodeAt(0)||0;let t=e.hasOwnProperty(va)?e[va]:void 0;return typeof t=="number"?t>=0?t&BR:B3:t}function oR(e,t,n){let r=1<<e;return!!(n[t+(e>>VR)]&r)}function iR(e,t){return!(e&2)&&!(e&1&&t)}var Ma=class{_tNode;_lView;constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return zR(this._tNode,this._lView,t,ha(r),n)}};function B3(){return new Ma(mn(),De())}function co(e){return Yd(()=>{let t=e.prototype.constructor,n=t[Id]||S_(t),r=Object.prototype,o=Object.getPrototypeOf(e.prototype).constructor;for(;o&&o!==r;){let i=o[Id]||S_(o);if(i&&i!==n)return i;o=Object.getPrototypeOf(o)}return i=>new i})}function S_(e){return EE(e)?()=>{let t=S_(Bt(e));return t&&t()}:ts(e)}function V3(e,t,n,r,o){let i=e,s=t;for(;i!==null&&s!==null&&s[te]&2048&&!Su(s);){let a=WR(i,s,n,r|2,so);if(a!==so)return a;let c=i.parent;if(!c){let u=s[VE];if(u){let l=u.get(n,so,r);if(l!==so)return l}c=GR(s),s=s[xa]}i=c}return o}function GR(e){let t=e[J],n=t.type;return n===2?t.declTNode:n===1?e[nr]:null}function U3(){return Fm(mn(),De())}function Fm(e,t){return new Ar(Tr(e,t))}var Ar=(()=>{class e{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=U3}return e})();function KR(e){return(e.flags&128)===128}var z_=(function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e})(z_||{}),YR=new Map,$3=0;function q3(){return $3++}function z3(e){YR.set(e[Yo],e)}function D_(e){YR.delete(e[Yo])}var sR="__ngContext__";function Ru(e,t){ro(t)?(e[sR]=t[Yo],z3(t)):e[sR]=t}function ZR(e){return QR(e[_u])}function JR(e){return QR(e[tr])}function QR(e){for(;e!==null&&!Mr(e);)e=e[tr];return e}var W3;function W_(e){W3=e}var Pm=new k("",{factory:()=>G3}),G3="ng";var Lm=new k(""),Zo=new k("",{providedIn:"platform",factory:()=>"unknown"});var Nu=new k("",{factory:()=>b(Ue).body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var XR="r";var eA="di";var tA=!1,nA=new k("",{factory:()=>tA});var G_=new k("");var K3=(e,t,n,r)=>{};function Y3(e,t,n,r){K3(e,t,n,r)}function K_(e){return(e.flags&32)===32}var Z3=()=>null;function rA(e,t,n=!1){return Z3(e,t,n)}function oA(e,t){let n=e.contentQueries;if(n!==null){let r=W(null);try{for(let o=0;o<n.length;o+=2){let i=n[o],s=n[o+1];if(s!==-1){let a=e.data[s];e_(i),a.contentQueries(2,t[s],s)}}}finally{W(r)}}}function I_(e,t,n){e_(0);let r=W(null);try{t(e,n)}finally{W(r)}}function Y_(e,t,n){if($E(t)){let r=W(null);try{let o=t.directiveStart,i=t.directiveEnd;for(let s=o;s<i;s++){let a=e.data[s];if(a.contentQueries){let c=n[s];a.contentQueries(1,c,s)}}}finally{W(r)}}}var Rr=(function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e[e.ExperimentalIsolatedShadowDom=4]="ExperimentalIsolatedShadowDom",e})(Rr||{});var w_=class{changingThisBreaksApplicationSecurity;constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${xE})`}};function Z_(e){return e instanceof w_?e.changingThisBreaksApplicationSecurity:e}var J3=/^>|^->|<!--|-->|--!>|<!-$/g,Q3=/(<|>)/g,X3="\u200B$1\u200B";function eG(e){return e.replace(J3,t=>t.replace(Q3,X3))}function tG(e,t){return e.createText(t)}function nG(e,t,n){e.setValue(t,n)}function rG(e,t){return e.createComment(eG(t))}function iA(e,t,n){return e.createElement(t,n)}function Im(e,t,n,r,o){e.insertBefore(t,n,r,o)}function sA(e,t,n){e.appendChild(t,n)}function aR(e,t,n,r,o){r!==null?Im(e,t,n,r,o):sA(e,t,n)}function aA(e,t,n,r){e.removeChild(null,t,n,r)}function oG(e,t,n){e.setAttribute(t,"style",n)}function iG(e,t,n){n===""?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function cA(e,t,n){let{mergedAttrs:r,classes:o,styles:i}=n;r!==null&&O3(e,t,r),o!==null&&iG(e,t,o),i!==null&&oG(e,t,i)}function J_(e){return e.ownerDocument.defaultView}function uA(e){return e instanceof Function?e():e}function sG(e,t,n){let r=e.length;for(;;){let o=e.indexOf(t,n);if(o===-1)return o;if(o===0||e.charCodeAt(o-1)<=32){let i=t.length;if(o+i===r||e.charCodeAt(o+i)<=32)return o}n=o+1}}var lA="ng-template";function aG(e,t,n,r){let o=0;if(r){for(;o<t.length&&typeof t[o]=="string";o+=2)if(t[o]==="class"&&sG(t[o+1].toLowerCase(),n,0)!==-1)return!0}else if(Q_(e))return!1;if(o=t.indexOf(1,o),o>-1){let i;for(;++o<t.length&&typeof(i=t[o])=="string";)if(i.toLowerCase()===n)return!0}return!1}function Q_(e){return e.type===4&&e.value!==lA}function cG(e,t,n){let r=e.type===4&&!n?lA:e.value;return t===r}function uG(e,t,n){let r=4,o=e.attrs,i=o!==null?fG(o):0,s=!1;for(let a=0;a<t.length;a++){let c=t[a];if(typeof c=="number"){if(!s&&!Or(r)&&!Or(c))return!1;if(s&&Or(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!cG(e,c,n)||c===""&&t.length===1){if(Or(r))return!1;s=!0}}else if(r&8){if(o===null||!aG(e,o,c,n)){if(Or(r))return!1;s=!0}}else{let u=t[++a],l=lG(c,o,Q_(e),n);if(l===-1){if(Or(r))return!1;s=!0;continue}if(u!==""){let f;if(l>i?f="":f=o[l+1].toLowerCase(),r&2&&u!==f){if(Or(r))return!1;s=!0}}}}return Or(r)||s}function Or(e){return(e&1)===0}function lG(e,t,n,r){if(t===null)return-1;let o=0;if(r||!n){let i=!1;for(;o<t.length;){let s=t[o];if(s===e)return o;if(s===3||s===6)i=!0;else if(s===1||s===2){let a=t[++o];for(;typeof a=="string";)a=t[++o];continue}else{if(s===4)break;if(s===0){o+=4;continue}}o+=i?1:2}return-1}else return pG(t,e)}function dG(e,t,n=!1){for(let r=0;r<t.length;r++)if(uG(e,t[r],n))return!0;return!1}function fG(e){for(let t=0;t<e.length;t++){let n=e[t];if(R3(n))return t}return e.length}function pG(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){let r=e[n];if(typeof r=="number")return-1;if(r===t)return n;n++}return-1}function cR(e,t){return e?":not("+t.trim()+")":t}function hG(e){let t=e[0],n=1,r=2,o="",i=!1;for(;n<e.length;){let s=e[n];if(typeof s=="string")if(r&2){let a=e[++n];o+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?o+="."+s:r&4&&(o+=" "+s);else o!==""&&!Or(s)&&(t+=cR(i,o),o=""),r=s,i=i||!Or(r);n++}return o!==""&&(t+=cR(i,o)),t}function mG(e){return e.map(hG).join(",")}function gG(e){let t=[],n=[],r=1,o=2;for(;r<e.length;){let i=e[r];if(typeof i=="string")o===2?i!==""&&t.push(i,e[++r]):o===8&&n.push(i);else{if(!Or(o))break;o=i}r++}return n.length&&t.push(1,...n),t}var Jo={};function X_(e,t,n,r,o,i,s,a,c,u,l){let f=kt+r,h=f+o,p=yG(f,h),y=typeof u=="function"?u():u;return p[J]={type:e,blueprint:p,template:n,queries:null,viewQuery:a,declTNode:t,data:p.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof i=="function"?i():i,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:y,incompleteFirstPass:!1,ssrId:l}}function yG(e,t){let n=[];for(let r=0;r<t;r++)n.push(r<e?null:Jo);return n}function vG(e){let t=e.tView;return t===null||t.incompleteFirstPass?e.tView=X_(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function eC(e,t,n,r,o,i,s,a,c,u,l){let f=t.blueprint.slice();return f[wr]=o,f[te]=r|4|128|8|64|1024,(u!==null||e&&e[te]&2048)&&(f[te]|=2048),GE(f),f[Rt]=f[xa]=e,f[gt]=n,f[Ko]=s||e&&e[Ko],f[tt]=a||e&&e[tt],f[Go]=c||e&&e[Go]||null,f[nr]=i,f[Yo]=q3(),f[bu]=l,f[VE]=u,f[Fn]=t.type==2?e[Fn]:f,f}function xG(e,t,n){let r=Tr(t,e),o=vG(n),i=e[Ko].rendererFactory,s=tC(e,eC(e,o,null,dA(n),r,t,null,i.createRenderer(r,n),null,null,null));return e[t.index]=s}function dA(e){let t=16;return e.signals?t=4096:e.onPush&&(t=64),t}function fA(e,t,n,r){if(n===0)return-1;let o=t.length;for(let i=0;i<n;i++)t.push(r),e.blueprint.push(r),e.data.push(null);return o}function tC(e,t){return e[_u]?e[BE][tr]=t:e[_u]=t,e[BE]=t,t}function Oe(e=1){pA(hn(),De(),us()+e,!1)}function pA(e,t,n,r){if(!r)if((t[te]&3)===3){let i=e.preOrderCheckHooks;i!==null&&ym(t,i,n)}else{let i=e.preOrderHooks;i!==null&&vm(t,i,0,n)}ls(n)}var jm=(function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e})(jm||{});function M_(e,t,n,r){let o=W(null);try{let[i,s,a]=e.inputs[n],c=null;(s&jm.SignalBased)!==0&&(c=t[i][Rn]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):a!==null&&(r=a.call(t,r)),e.setInput!==null?e.setInput(t,c,r,n,i):kR(t,c,i,r)}finally{W(o)}}var ao=(function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e})(ao||{}),bG;function nC(e,t){return bG(e,t)}var Oa=new Set,Hm=(function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e})(Hm||{}),Qo=new k(""),uR=new Set;function ps(e){uR.has(e)||(uR.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}var rC=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=O({token:e,providedIn:"root",factory:()=>new e})}return e})(),hA=[0,1,2,3],mA=(()=>{class e{ngZone=b(Se);scheduler=b(zo);errorHandler=b(er,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){b(Qo,{optional:!0})}execute(){let n=this.sequences.size>0;n&&ke(Ie.AfterRenderHooksStart),this.executing=!0;for(let r of hA)for(let o of this.sequences)if(!(o.erroredOrDestroyed||!o.hooks[r]))try{o.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let i=o.hooks[r];return i(o.pipelinedValue)},o.snapshot))}catch(i){o.erroredOrDestroyed=!0,this.errorHandler?.handleError(i)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),n&&ke(Ie.AfterRenderHooksEnd)}register(n){let{view:r}=n;r!==void 0?((r[Ca]??=[]).push(n),Du(r),r[te]|=8192):this.executing?this.deferredRegistrations.add(n):this.addSequence(n)}addSequence(n){this.sequences.add(n),this.scheduler.notify(7)}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}maybeTrace(n,r){return r?r.run(Hm.AFTER_NEXT_RENDER,n):n()}static \u0275prov=O({token:e,providedIn:"root",factory:()=>new e})}return e})(),wm=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(t,n,r,o,i,s=null){this.impl=t,this.hooks=n,this.view=r,this.once=o,this.snapshot=s,this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let t=this.view?.[Ca];t&&(this.view[Ca]=t.filter(n=>n!==this))}};function Fu(e,t){let n=t?.injector??b(Vt);return ps("NgAfterNextRender"),_G(e,n,t,!0)}function EG(e){return e instanceof Function?[void 0,void 0,e,void 0]:[e.earlyRead,e.write,e.mixedReadWrite,e.read]}function _G(e,t,n,r){let o=t.get(rC);o.impl??=t.get(mA);let i=t.get(Qo,null,{optional:!0}),s=n?.manualCleanup!==!0?t.get(nn):null,a=t.get(pm,null,{optional:!0}),c=new wm(o.impl,EG(e),a?.view,r,s,i?.snapshot(null));return o.impl.register(c),c}var oC=new k("",{factory:()=>({queue:new Set,isScheduled:!1,scheduler:null,injector:b(ze)})});function gA(e,t,n){let r=e.get(oC);if(Array.isArray(t))for(let o of t)r.queue.add(o),n?.detachedLeaveAnimationFns?.push(o);else r.queue.add(t),n?.detachedLeaveAnimationFns?.push(t);r.scheduler&&r.scheduler(e)}function CG(e,t){let n=e.get(oC);if(t.detachedLeaveAnimationFns){for(let r of t.detachedLeaveAnimationFns)n.queue.delete(r);t.detachedLeaveAnimationFns=void 0}}function SG(e,t){for(let[n,r]of t)gA(e,r.animateFns)}function DG(e,t){let n=e.get(oC);if(Array.isArray(t))for(let r of t)n.queue.delete(r);else n.queue.delete(t)}function lR(e,t,n,r){let o=e?.[Sa]?.enter;t!==null&&o&&o.has(n.index)&&SG(r,o)}function Tu(e,t,n,r,o,i,s,a){if(o!=null){let c,u=!1;Mr(o)?c=o:ro(o)&&(u=!0,o=o[wr]);let l=rr(o);e===0&&r!==null?(lR(a,r,i,n),s==null?sA(t,r,l):Im(t,r,l,s||null,!0)):e===1&&r!==null?(lR(a,r,i,n),Im(t,r,l,s||null,!0)):e===2?dR(a,i,n,f=>{aA(t,l,u,f)}):e===3&&dR(a,i,n,()=>{t.destroyNode(l)}),c!=null&&jG(t,e,n,c,i,r,s)}}function IG(e,t){yA(e,t),t[wr]=null,t[nr]=null}function wG(e,t,n,r,o,i){r[wr]=o,r[nr]=t,Vm(e,r,n,1,o,i)}function yA(e,t){t[Ko].changeDetectionScheduler?.notify(9),Vm(e,t,t[tt],2,null,null)}function MG(e){let t=e[_u];if(!t)return p_(e[J],e);for(;t;){let n=null;if(ro(t))n=t[_u];else{let r=t[dt];r&&(n=r)}if(!n){for(;t&&!t[tr]&&t!==e;)ro(t)&&p_(t[J],t),t=t[Rt];t===null&&(t=e),ro(t)&&p_(t[J],t),n=t&&t[tr]}t=n}}function iC(e,t){let n=e[Pd],r=n.indexOf(t);n.splice(r,1)}function Bm(e,t){if(Da(t))return;let n=t[tt];n.destroyNode&&Vm(e,t,n,3,null,null),MG(t)}function p_(e,t){if(Da(t))return;let n=W(null);try{t[te]&=-129,t[te]|=256,t[Pn]&&vd(t[Pn]),RG(e,t),OG(e,t),t[J].type===1&&t[tt].destroy();let r=t[ba];if(r!==null&&Mr(t[Rt])){r!==t[Rt]&&iC(r,t);let o=t[_a];o!==null&&o.detachView(e)}D_(t)}finally{W(n)}}function dR(e,t,n,r){let o=e?.[Sa];if(o?.enter?.has(t.index)&&DG(n,o.enter.get(t.index).animateFns),o==null||o.leave==null||!o.leave.has(t.index))return r(!1);e&&Oa.add(e[Yo]),gA(n,()=>{if(o.leave&&o.leave.has(t.index)){let s=o.leave.get(t.index),a=[];if(s){for(let c=0;c<s.animateFns.length;c++){let u=s.animateFns[c],{promise:l}=u();a.push(l)}o.detachedLeaveAnimationFns=void 0}o.running=Promise.allSettled(a),TG(e,r)}else e&&Oa.delete(e[Yo]),r(!1)},o)}function TG(e,t){let n=e[Sa]?.running;if(n){n.then(()=>{e[Sa].running=void 0,Oa.delete(e[Yo]),t(!0)});return}t(!1)}function OG(e,t){let n=e.cleanup,r=t[Eu];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[n[s+1]];n[s].call(a)}r!==null&&(t[Eu]=null);let o=t[$o];if(o!==null){t[$o]=null;for(let s=0;s<o.length;s++){let a=o[s];a()}}let i=t[Nd];if(i!==null){t[Nd]=null;for(let s of i)s.destroy()}}function RG(e,t){let n;if(e!=null&&(n=e.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let o=t[n[r]];if(!(o instanceof Ta)){let i=n[r+1];if(Array.isArray(i))for(let s=0;s<i.length;s+=2){let a=o[i[s]],c=i[s+1];ke(Ie.LifecycleHookStart,a,c);try{c.call(a)}finally{ke(Ie.LifecycleHookEnd,a,c)}}else{ke(Ie.LifecycleHookStart,o,i);try{i.call(o)}finally{ke(Ie.LifecycleHookEnd,o,i)}}}}}function AG(e,t,n){return kG(e,t.parent,n)}function kG(e,t,n){let r=t;for(;r!==null&&r.type&168;)t=r,r=t.parent;if(r===null)return n[wr];if(as(r)){let{encapsulation:o}=e.data[r.directiveStart+r.componentOffset];if(o===Rr.None||o===Rr.Emulated)return null}return Tr(r,n)}function NG(e,t,n){return PG(e,t,n)}function FG(e,t,n){return e.type&40?Tr(e,n):null}var PG=FG,fR;function sC(e,t,n,r){let o=AG(e,r,t),i=t[tt],s=r.parent||t[nr],a=NG(s,r,t);if(o!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)aR(i,o,n[c],a,!1);else aR(i,o,n,a,!1);fR!==void 0&&fR(i,r,t,n,o)}function Vd(e,t){if(t!==null){let n=t.type;if(n&3)return Tr(t,e);if(n&4)return T_(-1,e[t.index]);if(n&8){let r=t.child;if(r!==null)return Vd(e,r);{let o=e[t.index];return Mr(o)?T_(-1,o):rr(o)}}else{if(n&128)return Vd(e,t.next);if(n&32)return nC(t,e)()||rr(e[t.index]);{let r=vA(e,t);if(r!==null){if(Array.isArray(r))return r[0];let o=ns(e[Fn]);return Vd(o,r)}else return Vd(e,t.next)}}}return null}function vA(e,t){if(t!==null){let r=e[Fn][nr],o=t.projection;return r.projection[o]}return null}function T_(e,t){let n=dt+e+1;if(n<t.length){let r=t[n],o=r[J].firstChild;if(o!==null)return Vd(r,o)}return t[ss]}function aC(e,t,n,r,o,i,s){for(;n!=null;){let a=r[Go];if(n.type===128){n=n.next;continue}let c=r[n.index],u=n.type;if(s&&t===0&&(c&&Ru(rr(c),r),n.flags|=2),!K_(n))if(u&8)aC(e,t,n.child,r,o,i,!1),Tu(t,e,a,o,c,n,i,r);else if(u&32){let l=nC(n,r),f;for(;f=l();)Tu(t,e,a,o,f,n,i,r);Tu(t,e,a,o,c,n,i,r)}else u&16?LG(e,t,r,n,o,i):Tu(t,e,a,o,c,n,i,r);n=s?n.projectionNext:n.next}}function Vm(e,t,n,r,o,i){aC(n,r,e.firstChild,t,o,i,!1)}function LG(e,t,n,r,o,i){let s=n[Fn],c=s[nr].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let l=c[u];Tu(t,e,n[Go],o,l,r,i,n)}else{let u=c,l=s[Rt];KR(r)&&(u.flags|=128),aC(e,t,u,l,o,i,!0)}}function jG(e,t,n,r,o,i,s){let a=r[ss],c=rr(r);a!==c&&Tu(t,e,n,i,a,o,s);for(let u=dt;u<r.length;u++){let l=r[u];Vm(l[J],l,e,t,i,a)}}function HG(e,t,n,r,o){if(t)o?e.addClass(n,r):e.removeClass(n,r);else{let i=r.indexOf("-")===-1?void 0:ao.DashCase;o==null?e.removeStyle(n,r,i):(typeof o=="string"&&o.endsWith("!important")&&(o=o.slice(0,-10),i|=ao.Important),e.setStyle(n,r,o,i))}}function xA(e,t,n,r,o){let i=us(),s=r&2;try{ls(-1),s&&t.length>kt&&pA(e,t,kt,!1);let a=s?Ie.TemplateUpdateStart:Ie.TemplateCreateStart;ke(a,o,n),n(r,o)}finally{ls(i);let a=s?Ie.TemplateUpdateEnd:Ie.TemplateCreateEnd;ke(a,o,n)}}function Um(e,t,n){GG(e,t,n),(n.flags&64)===64&&KG(e,t,n)}function $m(e,t,n=Tr){let r=t.localNames;if(r!==null){let o=t.index+1;for(let i=0;i<r.length;i+=2){let s=r[i+1],a=s===-1?n(t,e):e[s];e[o++]=a}}}function BG(e,t,n,r){let i=r.get(nA,tA)||n===Rr.ShadowDom||n===Rr.ExperimentalIsolatedShadowDom,s=e.selectRootElement(t,i);return VG(s),s}function VG(e){UG(e)}var UG=()=>null;function $G(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function qG(e,t,n,r,o,i){let s=t[J];if(uC(e,s,t,n,r)){as(e)&&WG(t,e.index);return}e.type&3&&(n=$G(n)),zG(e,t,n,r,o,i)}function zG(e,t,n,r,o,i){if(e.type&3){let s=Tr(e,t);r=i!=null?i(r,e.value||"",n):r,o.setProperty(s,n,r)}else e.type&12}function WG(e,t){let n=or(t,e);n[te]&16||(n[te]|=64)}function GG(e,t,n){let r=n.directiveStart,o=n.directiveEnd;as(n)&&xG(t,n,e.data[r+n.componentOffset]),e.firstCreatePass||Sm(n,t);let i=n.initialInputs;for(let s=r;s<o;s++){let a=e.data[s],c=Dm(t,e,s,n);if(Ru(c,t),i!==null&&QG(t,s-r,c,a,n,i),oo(a)){let u=or(n.index,t);u[gt]=Dm(t,e,s,n)}}}function KG(e,t,n){let r=n.directiveStart,o=n.directiveEnd,i=n.index,s=$O();try{ls(i);for(let a=r;a<o;a++){let c=e.data[a],u=t[a];am(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&YG(c,u)}}finally{ls(-1),am(s)}}function YG(e,t){e.hostBindings!==null&&e.hostBindings(1,t)}function cC(e,t){let n=e.directiveRegistry,r=null;if(n)for(let o=0;o<n.length;o++){let i=n[o];dG(t,i.selectors,!1)&&(r??=[],oo(i)?r.unshift(i):r.push(i))}return r}function ZG(e,t,n,r,o,i){let s=Tr(e,t);JG(t[tt],s,i,e.value,n,r,o)}function JG(e,t,n,r,o,i,s){if(i==null)e.removeAttribute(t,o,n);else{let a=s==null?OE(i):s(i,r||"",o);e.setAttribute(t,o,a,n)}}function QG(e,t,n,r,o,i){let s=i[t];if(s!==null)for(let a=0;a<s.length;a+=2){let c=s[a],u=s[a+1];M_(r,n,c,u)}}function bA(e,t,n,r,o){let i=kt+n,s=t[J],a=o(s,t,e,r,n);t[i]=a,Iu(e,!0);let c=e.type===2;return c?(cA(t[tt],a,e),(OO()===0||Cu(e))&&Ru(a,t),RO()):Ru(a,t),fm()&&(!c||!K_(e))&&sC(s,t,a,e),e}function EA(e){let t=e;return JE()?LO():(t=t.parent,Iu(t,!1)),t}function XG(e,t){let n=e[Go];if(!n)return;let r;try{r=n.get(Ln,null)}catch(o){r=null}r?.(t)}function uC(e,t,n,r,o){let i=e.inputs?.[r],s=e.hostDirectiveInputs?.[r],a=!1;if(s)for(let c=0;c<s.length;c+=2){let u=s[c],l=s[c+1],f=t.data[u];M_(f,n[u],l,o),a=!0}if(i)for(let c of i){let u=n[c],l=t.data[c];M_(l,u,r,o),a=!0}return a}function e8(e,t){let n=or(t,e),r=n[J];t8(r,n);let o=n[wr];o!==null&&n[bu]===null&&(n[bu]=rA(o,n[Go])),ke(Ie.ComponentStart);try{lC(r,n,n[gt])}finally{ke(Ie.ComponentEnd,n[gt])}}function t8(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}function lC(e,t,n){cm(t);try{let r=e.viewQuery;r!==null&&I_(1,r,n);let o=e.template;o!==null&&xA(e,t,o,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[_a]?.finishViewCreation(e),e.staticContentQueries&&oA(e,t),e.staticViewQueries&&I_(2,e.viewQuery,n);let i=e.components;i!==null&&n8(t,i)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[te]&=-5,um()}}function n8(e,t){for(let n=0;n<t.length;n++)e8(e,t[n])}function dC(e,t,n,r){let o=W(null);try{let i=t.tView,a=e[te]&4096?4096:16,c=eC(e,i,n,a,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),u=e[t.index];c[ba]=u;let l=e[_a];return l!==null&&(c[_a]=l.createEmbeddedView(i)),lC(i,c,n),c}finally{W(o)}}function Mm(e,t){return!t||t.firstChild===null||KR(e)}function qd(e,t,n,r,o=!1){for(;n!==null;){if(n.type===128){n=o?n.projectionNext:n.next;continue}let i=t[n.index];i!==null&&r.push(rr(i)),Mr(i)&&_A(i,r);let s=n.type;if(s&8)qd(e,t,n.child,r);else if(s&32){let a=nC(n,t),c;for(;c=a();)r.push(c)}else if(s&16){let a=vA(t,n);if(Array.isArray(a))r.push(...a);else{let c=ns(t[Fn]);qd(c[J],c,a,r,!0)}}n=o?n.projectionNext:n.next}return r}function _A(e,t){for(let n=dt;n<e.length;n++){let r=e[n],o=r[J].firstChild;o!==null&&qd(r[J],r,o,t)}e[ss]!==e[wr]&&t.push(e[ss])}function CA(e){if(e[Ca]!==null){for(let t of e[Ca])t.impl.addSequence(t);e[Ca].length=0}}var SA=[];function r8(e){return e[Pn]??o8(e)}function o8(e){let t=SA.pop()??Object.create(s8);return t.lView=e,t}function i8(e){e.lView[Pn]!==e&&(e.lView=null,SA.push(e))}var s8=N(x({},vh),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{Du(e.lView)},consumerOnSignalRead(){this.lView[Pn]=this}});function a8(e){let t=e[Pn]??Object.create(c8);return t.lView=e,t}var c8=N(x({},vh),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let t=ns(e.lView);for(;t&&!DA(t[J]);)t=ns(t);t&&KE(t)},consumerOnSignalRead(){this.lView[Pn]=this}});function DA(e){return e.type!==2}function IA(e){if(e[Nd]===null)return;let t=!0;for(;t;){let n=!1;for(let r of e[Nd])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));t=n&&!!(e[te]&8192)}}var u8=100;function wA(e,t=0){let r=e[Ko].rendererFactory,o=!1;o||r.begin?.();try{l8(e,t)}finally{o||r.end?.()}}function l8(e,t){let n=QE();try{XE(!0),O_(e,t);let r=0;for(;jd(e);){if(r===u8)throw new j(103,!1);r++,O_(e,1)}}finally{XE(n)}}function d8(e,t,n,r){if(Da(t))return;let o=t[te],i=!1,s=!1;cm(t);let a=!0,c=null,u=null;i||(DA(e)?(u=r8(t),c=bh(u)):yh()===null?(a=!1,u=a8(t),c=bh(u)):t[Pn]&&(vd(t[Pn]),t[Pn]=null));try{GE(t),HO(e.bindingStartIndex),n!==null&&xA(e,t,n,2,r);let l=(o&3)===3;if(!i)if(l){let p=e.preOrderCheckHooks;p!==null&&ym(t,p,null)}else{let p=e.preOrderHooks;p!==null&&vm(t,p,0,null),d_(t,0)}if(s||f8(t),IA(t),MA(t,0),e.contentQueries!==null&&oA(e,t),!i)if(l){let p=e.contentCheckHooks;p!==null&&ym(t,p)}else{let p=e.contentHooks;p!==null&&vm(t,p,1),d_(t,1)}h8(e,t);let f=e.components;f!==null&&OA(t,f,0);let h=e.viewQuery;if(h!==null&&I_(2,h,r),!i)if(l){let p=e.viewCheckHooks;p!==null&&ym(t,p)}else{let p=e.viewHooks;p!==null&&vm(t,p,2),d_(t,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),t[rm]){for(let p of t[rm])p();t[rm]=null}i||(CA(t),t[te]&=-73)}catch(l){throw i||Du(t),l}finally{u!==null&&(Lb(u,c),a&&i8(u)),um()}}function MA(e,t){for(let n=ZR(e);n!==null;n=JR(n))for(let r=dt;r<n.length;r++){let o=n[r];TA(o,t)}}function f8(e){for(let t=ZR(e);t!==null;t=JR(t)){if(!(t[te]&2))continue;let n=t[Pd];for(let r=0;r<n.length;r++){let o=n[r];KE(o)}}}function p8(e,t,n){ke(Ie.ComponentStart);let r=or(t,e);try{TA(r,n)}finally{ke(Ie.ComponentEnd,r[gt])}}function TA(e,t){om(e)&&O_(e,t)}function O_(e,t){let r=e[J],o=e[te],i=e[Pn],s=!!(t===0&&o&16);if(s||=!!(o&64&&t===0),s||=!!(o&1024),s||=!!(i?.dirty&&Eh(i)),s||=!1,i&&(i.dirty=!1),e[te]&=-9217,s)d8(r,e,r.template,e[gt]);else if(o&8192){let a=W(null);try{IA(e),MA(e,1);let c=r.components;c!==null&&OA(e,c,1),CA(e)}finally{W(a)}}}function OA(e,t,n){for(let r=0;r<t.length;r++)p8(e,t[r],n)}function h8(e,t){let n=e.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let o=n[r];if(o<0)ls(~o);else{let i=o,s=n[++r],a=n[++r];UO(s,i);let c=t[i];ke(Ie.HostBindingsUpdateStart,c);try{a(2,c)}finally{ke(Ie.HostBindingsUpdateEnd,c)}}}}finally{ls(-1)}}function fC(e,t){let n=QE()?64:1088;for(e[Ko].changeDetectionScheduler?.notify(t);e;){e[te]|=n;let r=ns(e);if(Su(e)&&!r)return e;e=r}return null}function RA(e,t,n,r){return[e,!0,0,t,null,r,null,n,null,null]}function m8(e,t){let n=dt+t;if(n<e.length)return e[n]}function pC(e,t,n,r=!0){let o=t[J];if(y8(o,t,e,n),r){let s=T_(n,e),a=t[tt],c=a.parentNode(e[ss]);c!==null&&wG(o,e[nr],a,t,c,s)}let i=t[bu];i!==null&&i.firstChild!==null&&(i.firstChild=null)}function g8(e,t){let n=zd(e,t);return n!==void 0&&Bm(n[J],n),n}function zd(e,t){if(e.length<=dt)return;let n=dt+t,r=e[n];if(r){let o=r[ba];o!==null&&o!==e&&iC(o,r),t>0&&(e[n-1][tr]=r[tr]);let i=Rd(e,dt+t);IG(r[J],r);let s=i[_a];s!==null&&s.detachView(i[J]),r[Rt]=null,r[tr]=null,r[te]&=-129}return r}function y8(e,t,n,r){let o=dt+r,i=n.length;r>0&&(n[o-1][tr]=t),r<i-dt?(t[tr]=n[o],kE(n,dt+r,t)):(n.push(t),t[tr]=null),t[Rt]=n;let s=t[ba];s!==null&&n!==s&&AA(s,t);let a=t[_a];a!==null&&a.insertView(e),im(t),t[te]|=128}function AA(e,t){let n=e[Pd],r=t[Rt];if(ro(r))e[te]|=2;else{let o=r[Rt][Fn];t[Fn]!==o&&(e[te]|=2)}n===null?e[Pd]=[t]:n.push(t)}var fs=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let t=this._lView,n=t[J];return qd(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n}get context(){return this._lView[gt]}set context(t){this._lView[gt]=t}get destroyed(){return Da(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[Rt];if(Mr(t)){let n=t[Fd],r=n?n.indexOf(this):-1;r>-1&&(zd(t,r),Rd(n,r))}this._attachedToViewContainer=!1}Bm(this._lView[J],this._lView)}onDestroy(t){YE(this._lView,t)}markForCheck(){fC(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[te]&=-129}reattach(){im(this._lView),this._lView[te]|=128}detectChanges(){this._lView[te]|=1024,wA(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new j(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let t=Su(this._lView),n=this._lView[ba];n!==null&&!t&&iC(n,this._lView),yA(this._lView[J],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new j(902,!1);this._appRef=t;let n=Su(this._lView),r=this._lView[ba];r!==null&&!n&&AA(r,this._lView),im(this._lView)}};var qm=(()=>{class e{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=v8;constructor(n,r,o){this._declarationLView=n,this._declarationTContainer=r,this.elementRef=o}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,r){return this.createEmbeddedViewImpl(n,r)}createEmbeddedViewImpl(n,r,o){let i=dC(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:r,dehydratedView:o});return new fs(i)}}return e})();function v8(){return x8(mn(),De())}function x8(e,t){return e.type&4?new qm(t,e,Fm(e,t)):null}function zm(e,t,n,r,o){let i=e.data[t];if(i===null)i=b8(e,t,n,r,o),VO()&&(i.flags|=32);else if(i.type&64){i.type=n,i.value=r,i.attrs=o;let s=PO();i.injectorIndex=s===null?-1:s.injectorIndex}return Iu(i,!0),i}function b8(e,t,n,r,o){let i=ZE(),s=JE(),a=s?i:i&&i.parent,c=e.data[t]=_8(e,a,n,t,r,o);return E8(e,c,i,s),c}function E8(e,t,n,r){e.firstChild===null&&(e.firstChild=t),n!==null&&(r?n.child==null&&t.parent!==null&&(n.child=t):n.next===null&&(n.next=t,t.prev=n))}function _8(e,t,n,r,o,i){let s=t?t.injectorIndex:-1,a=0;return kO()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,fieldIndex:-1,customControlIndex:-1,propertyBindings:null,flags:a,providerIndexes:0,value:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function C8(e){let t=e[UE]??[],r=e[Rt][tt],o=[];for(let i of t)i.data[eA]!==void 0?o.push(i):S8(i,r);e[UE]=o}function S8(e,t){let n=0,r=e.firstChild;if(r){let o=e.data[XR];for(;n<o;){let i=r.nextSibling;aA(t,r,!1),r=i,n++}}}var D8=()=>null,I8=()=>null;function R_(e,t){return D8(e,t)}function w8(e,t,n){return I8(e,t,n)}var kA=class{},Wm=class{},A_=class{resolveComponentFactory(t){throw new j(917,!1)}},Zd=class{static NULL=new A_},Ra=class{},hs=(()=>{class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>M8()}return e})();function M8(){let e=De(),t=mn(),n=or(t.index,e);return(ro(n)?n:e)[tt]}var NA=(()=>{class e{static \u0275prov=O({token:e,providedIn:"root",factory:()=>null})}return e})();var xm={},k_=class{injector;parentInjector;constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){let o=this.injector.get(t,xm,r);return o!==xm||n===xm?o:this.parentInjector.get(t,n,r)}};function pR(e,t,n){let r=n?e.styles:null,o=n?e.classes:null,i=0;if(t!==null)for(let s=0;s<t.length;s++){let a=t[s];if(typeof a=="number")i=a;else if(i==1)o=bE(o,a);else if(i==2){let c=a,u=t[++s];r=bE(r,c+": "+u+";")}}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=o:e.classesWithoutHost=o}function xe(e,t=0){let n=De();if(n===null)return P(e,t);let r=mn();return zR(r,n,Bt(e),t)}function hC(){let e="invalid";throw new Error(e)}function FA(e,t,n,r,o){let i=r===null?null:{"":-1},s=o(e,n);if(s!==null){let a=s,c=null,u=null;for(let l of s)if(l.resolveHostDirectives!==null){[a,c,u]=l.resolveHostDirectives(s);break}R8(e,t,n,a,i,c,u)}i!==null&&r!==null&&T8(n,r,i)}function T8(e,t,n){let r=e.localNames=[];for(let o=0;o<t.length;o+=2){let i=n[t[o+1]];if(i==null)throw new j(-301,!1);r.push(t[o],i)}}function O8(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function R8(e,t,n,r,o,i,s){let a=r.length,c=null;for(let h=0;h<a;h++){let p=r[h];c===null&&oo(p)&&(c=p,O8(e,n,h)),C_(Sm(n,t),e,p.type)}L8(n,e.data.length,a),c?.viewProvidersResolver&&c.viewProvidersResolver(c);for(let h=0;h<a;h++){let p=r[h];p.providersResolver&&p.providersResolver(p)}let u=!1,l=!1,f=fA(e,t,a,null);a>0&&(n.directiveToIndex=new Map);for(let h=0;h<a;h++){let p=r[h];if(n.mergedAttrs=$d(n.mergedAttrs,p.hostAttrs),k8(e,n,t,f,p),P8(f,p,o),s!==null&&s.has(p)){let[S,I]=s.get(p);n.directiveToIndex.set(p.type,[f,S+n.directiveStart,I+n.directiveStart])}else(i===null||!i.has(p))&&n.directiveToIndex.set(p.type,f);p.contentQueries!==null&&(n.flags|=4),(p.hostBindings!==null||p.hostAttrs!==null||p.hostVars!==0)&&(n.flags|=64);let y=p.type.prototype;!u&&(y.ngOnChanges||y.ngOnInit||y.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),u=!0),!l&&(y.ngOnChanges||y.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),l=!0),f++}A8(e,n,i)}function A8(e,t,n){for(let r=t.directiveStart;r<t.directiveEnd;r++){let o=e.data[r];if(n===null||!n.has(o))hR(0,t,o,r),hR(1,t,o,r),gR(t,r,!1);else{let i=n.get(o);mR(0,t,i,r),mR(1,t,i,r),gR(t,r,!0)}}}function hR(e,t,n,r){let o=e===0?n.inputs:n.outputs;for(let i in o)if(o.hasOwnProperty(i)){let s;e===0?s=t.inputs??={}:s=t.outputs??={},s[i]??=[],s[i].push(r),PA(t,i)}}function mR(e,t,n,r){let o=e===0?n.inputs:n.outputs;for(let i in o)if(o.hasOwnProperty(i)){let s=o[i],a;e===0?a=t.hostDirectiveInputs??={}:a=t.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,i),PA(t,s)}}function PA(e,t){t==="class"?e.flags|=8:t==="style"&&(e.flags|=16)}function gR(e,t,n){let{attrs:r,inputs:o,hostDirectiveInputs:i}=e;if(r===null||!n&&o===null||n&&i===null||Q_(e)){e.initialInputs??=[],e.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let c=r[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!n&&o.hasOwnProperty(c)){let u=o[c];for(let l of u)if(l===t){s??=[],s.push(c,r[a+1]);break}}else if(n&&i.hasOwnProperty(c)){let u=i[c];for(let l=0;l<u.length;l+=2)if(u[l]===t){s??=[],s.push(u[l+1],r[a+1]);break}}a+=2}e.initialInputs??=[],e.initialInputs.push(s)}function k8(e,t,n,r,o){e.data[r]=o;let i=o.factory||(o.factory=ts(o.type,!0)),s=new Ta(i,oo(o),xe,null);e.blueprint[r]=s,n[r]=s,N8(e,t,r,fA(e,n,o.hostVars,Jo),o)}function N8(e,t,n,r,o){let i=o.hostBindings;if(i){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let a=~t.index;F8(s)!=a&&s.push(a),s.push(n,r,i)}}function F8(e){let t=e.length;for(;t>0;){let n=e[--t];if(typeof n=="number"&&n<0)return n}return 0}function P8(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;oo(t)&&(n[""]=e)}}function L8(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function mC(e,t,n,r,o,i,s,a){let c=t[J],u=c.consts,l=cs(u,s),f=zm(c,e,n,r,l);return i&&FA(c,t,f,cs(u,a),o),f.mergedAttrs=$d(f.mergedAttrs,f.attrs),f.attrs!==null&&pR(f,f.attrs,!1),f.mergedAttrs!==null&&pR(f,f.mergedAttrs,!0),c.queries!==null&&c.queries.elementStart(c,f),f}function gC(e,t){LR(e,t),$E(t)&&e.queries.elementEnd(t)}function j8(e,t,n){return e[t]=n}function Pu(e,t,n){if(n===Jo)return!1;let r=e[t];return Object.is(r,n)?!1:(e[t]=n,!0)}function h_(e,t,n){return function r(o){let i=as(e)?or(e.index,t):t;fC(i,5);let s=t[gt],a=yR(t,s,n,o),c=r.__ngNextListenerFn__;for(;c;)a=yR(t,s,c,o)&&a,c=c.__ngNextListenerFn__;return a}}function yR(e,t,n,r){let o=W(null);try{return ke(Ie.OutputStart,t,n),n(r)!==!1}catch(i){return XG(e,i),!1}finally{ke(Ie.OutputEnd,t,n),W(o)}}function H8(e,t,n,r,o,i,s,a){let c=Cu(e),u=!1,l=null;if(!r&&c&&(l=V8(t,n,i,e.index)),l!==null){let f=l.__ngLastListenerFn__||l;f.__ngNextListenerFn__=s,l.__ngLastListenerFn__=s,u=!0}else{let f=Tr(e,n),h=r?r(f):f;Y3(n,h,i,a);let p=o.listen(h,i,a);if(!B8(i)){let y=r?S=>r(rr(S[e.index])):e.index;LA(y,t,n,i,a,p,!1)}}return u}function B8(e){return e.startsWith("animation")||e.startsWith("transition")}function V8(e,t,n,r){let o=e.cleanup;if(o!=null)for(let i=0;i<o.length-1;i+=2){let s=o[i];if(s===n&&o[i+1]===r){let a=t[Eu],c=o[i+2];return a&&a.length>c?a[c]:null}typeof s=="string"&&(i+=2)}return null}function LA(e,t,n,r,o,i,s){let a=t.firstCreatePass?TO(t):null,c=MO(n),u=c.length;c.push(o,i),a&&a.push(r,e,u,(u+1)*(s?-1:1))}function vR(e,t,n,r,o,i){let s=t[n],a=t[J],u=a.data[n].outputs[r],f=s[u].subscribe(i);LA(e.index,a,t,o,i,f,!0)}var N_=Symbol("BINDING");var Tm=class extends Zd{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let n=Wo(t);return new Aa(n,this.ngModule)}};function U8(e){return Object.keys(e).map(t=>{let[n,r,o]=e[t],i={propName:n,templateName:t,isSignal:(r&jm.SignalBased)!==0};return o&&(i.transform=o),i})}function $8(e){return Object.keys(e).map(t=>({propName:e[t],templateName:t}))}function q8(e,t,n){let r=t instanceof ze?t:t?.injector;return r&&e.getStandaloneInjector!==null&&(r=e.getStandaloneInjector(r)||r),r?new k_(n,r):n}function z8(e){let t=e.get(Ra,null);if(t===null)throw new j(407,!1);let n=e.get(NA,null),r=e.get(zo,null);return{rendererFactory:t,sanitizer:n,changeDetectionScheduler:r,ngReflect:!1}}function W8(e,t){let n=jA(e);return iA(t,n,n==="svg"?qE:n==="math"?CO:null)}function jA(e){return(e.selectors[0][0]||"div").toLowerCase()}var Aa=class extends Wm{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=U8(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=$8(this.componentDef.outputs),this.cachedOutputs}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=mG(t.selectors),this.ngContentSelectors=t.ngContentSelectors??[],this.isBoundToModule=!!n}create(t,n,r,o,i,s){ke(Ie.DynamicComponentStart);let a=W(null);try{let c=this.componentDef,u=G8(r,c,s,i),l=q8(c,o||this.ngModule,t),f=z8(l),h=f.rendererFactory.createRenderer(null,c),p=r?BG(h,r,c.encapsulation,l):W8(c,h),y=s?.some(xR)||i?.some(T=>typeof T!="function"&&T.bindings.some(xR)),S=eC(null,u,null,512|dA(c),null,null,f,h,l,null,rA(p,l,!0));S[kt]=p,cm(S);let I=null;try{let T=mC(kt,S,2,"#host",()=>u.directiveRegistry,!0,0);cA(h,p,T),Ru(p,S),Um(u,S,T),Y_(u,T,S),gC(u,T),n!==void 0&&Y8(T,this.ngContentSelectors,n),I=or(T.index,S),S[gt]=I[gt],lC(u,S,null)}catch(T){throw I!==null&&D_(I),D_(S),T}finally{ke(Ie.DynamicComponentEnd),um()}return new Om(this.componentType,S,!!y)}finally{W(a)}}};function G8(e,t,n,r){let o=e?["ng-version","21.1.3"]:gG(t.selectors[0]),i=null,s=null,a=0;if(n)for(let l of n)a+=l[N_].requiredVars,l.create&&(l.targetIdx=0,(i??=[]).push(l)),l.update&&(l.targetIdx=0,(s??=[]).push(l));if(r)for(let l=0;l<r.length;l++){let f=r[l];if(typeof f!="function")for(let h of f.bindings){a+=h[N_].requiredVars;let p=l+1;h.create&&(h.targetIdx=p,(i??=[]).push(h)),h.update&&(h.targetIdx=p,(s??=[]).push(h))}}let c=[t];if(r)for(let l of r){let f=typeof l=="function"?l:l.type,h=TE(f);c.push(h)}return X_(0,null,K8(i,s),1,a,c,null,null,null,[o],null)}function K8(e,t){return!e&&!t?null:n=>{if(n&1&&e)for(let r of e)r.create();if(n&2&&t)for(let r of t)r.update()}}function xR(e){let t=e[N_].kind;return t==="input"||t==="twoWay"}var Om=class extends kA{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(t,n,r){super(),this._rootLView=n,this._hasInputBindings=r,this._tNode=Ld(n[J],kt),this.location=Fm(this._tNode,n),this.instance=or(this._tNode.index,n)[gt],this.hostView=this.changeDetectorRef=new fs(n,void 0),this.componentType=t}setInput(t,n){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;let o=this._rootLView,i=uC(r,o[J],o,t,n);this.previousInputValues.set(t,n);let s=or(r.index,o);fC(s,1)}get injector(){return new Ma(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function Y8(e,t,n){let r=e.projection=[];for(let o=0;o<t.length;o++){let i=n[o];r.push(i!=null&&i.length?Array.from(i):null)}}var Lu=(()=>{class e{static __NG_ELEMENT_ID__=Z8}return e})();function Z8(){let e=mn();return Q8(e,De())}var J8=Lu,HA=class extends J8{_lContainer;_hostTNode;_hostLView;constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return Fm(this._hostTNode,this._hostLView)}get injector(){return new Ma(this._hostTNode,this._hostLView)}get parentInjector(){let t=q_(this._hostTNode,this._hostLView);if(HR(t)){let n=_m(t,this._hostLView),r=Em(t),o=n[J].data[r+8];return new Ma(o,n)}else return new Ma(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let n=bR(this._lContainer);return n!==null&&n[t]||null}get length(){return this._lContainer.length-dt}createEmbeddedView(t,n,r){let o,i;typeof r=="number"?o=r:r!=null&&(o=r.index,i=r.injector);let s=R_(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(n||{},i,s);return this.insertImpl(a,o,Mm(this._hostTNode,s)),a}createComponent(t,n,r,o,i,s,a){let c=t&&!_3(t),u;if(c)u=n;else{let I=n||{};u=I.index,r=I.injector,o=I.projectableNodes,i=I.environmentInjector||I.ngModuleRef,s=I.directives,a=I.bindings}let l=c?t:new Aa(Wo(t)),f=r||this.parentInjector;if(!i&&l.ngModule==null){let T=(c?f:this.parentInjector).get(ze,null);T&&(i=T)}let h=Wo(l.componentType??{}),p=R_(this._lContainer,h?.id??null),y=p?.firstChild??null,S=l.create(f,o,y,i,s,a);return this.insertImpl(S.hostView,u,Mm(this._hostTNode,p)),S}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,r){let o=t._lView;if(DO(o)){let a=this.indexOf(t);if(a!==-1)this.detach(a);else{let c=o[Rt],u=new HA(c,c[nr],c[Rt]);u.detach(u.indexOf(t))}}let i=this._adjustIndex(n),s=this._lContainer;return pC(s,o,i,r),t.attachToViewContainerRef(),kE(m_(s),i,t),t}move(t,n){return this.insert(t,n)}indexOf(t){let n=bR(this._lContainer);return n!==null?n.indexOf(t):-1}remove(t){let n=this._adjustIndex(t,-1),r=zd(this._lContainer,n);r&&(Rd(m_(this._lContainer),n),Bm(r[J],r))}detach(t){let n=this._adjustIndex(t,-1),r=zd(this._lContainer,n);return r&&Rd(m_(this._lContainer),n)!=null?new fs(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function bR(e){return e[Fd]}function m_(e){return e[Fd]||(e[Fd]=[])}function Q8(e,t){let n,r=t[e.index];return Mr(r)?n=r:(n=RA(r,t,null,e),t[e.index]=n,tC(t,n)),e4(n,t,e,r),new HA(n,e,t)}function X8(e,t){let n=e[tt],r=n.createComment(""),o=Tr(t,e),i=n.parentNode(o);return Im(n,i,r,n.nextSibling(o),!1),r}var e4=r4,t4=()=>!1;function n4(e,t,n){return t4(e,t,n)}function r4(e,t,n,r){if(e[ss])return;let o;n.type&8?o=rr(r):o=X8(t,n),e[ss]=o}var F_=new Map,o4=new Set;function yC(e){return ve(this,null,function*(){let t=F_;F_=new Map;let n=new Map;function r(i){let s=n.get(i);if(s)return s;let a=e(i).then(c=>i4(i,c));return n.set(i,a),a}let o=Array.from(t).map(a=>ve(null,[a],function*([i,s]){if(s.styleUrl&&s.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");let c=[];s.templateUrl&&c.push(r(s.templateUrl).then(h=>{s.template=h}));let u=typeof s.styles=="string"?[s.styles]:s.styles??[];s.styles=u;let{styleUrl:l,styleUrls:f}=s;if(l&&(f=[l],s.styleUrl=void 0),f?.length){let h=Promise.all(f.map(p=>r(p))).then(p=>{u.push(...p),s.styleUrls=void 0});c.push(h)}yield Promise.all(c),o4.delete(i)}));yield Promise.all(o)})}function BA(){return F_.size===0}function i4(e,t){return ve(this,null,function*(){if(typeof t=="string")return t;if(t.status!==void 0&&t.status!==200)throw new j(918,!1);return t.text()})}var ka=class{},Gm=class{};var Wd=class extends ka{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Tm(this);constructor(t,n,r,o=!0){super(),this.ngModuleType=t,this._parent=n;let i=ME(t);this._bootstrapComponents=uA(i.bootstrap),this._r3Injector=o_(t,n,[{provide:ka,useValue:this},{provide:Zd,useValue:this.componentFactoryResolver},...r],qo(t),new Set(["environment"])),o&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},Gd=class extends Gm{moduleType;constructor(t){super(),this.moduleType=t}create(t){return new Wd(this.moduleType,t,[])}};function VA(e,t,n){return new Wd(e,t,n,!1)}var Rm=class extends ka{injector;componentFactoryResolver=new Tm(this);instance=null;constructor(t){super();let n=new ga([...t.providers,{provide:ka,useValue:this},{provide:Zd,useValue:this.componentFactoryResolver}],t.parent||kd(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function ju(e,t,n=null){return new Rm({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}var s4=(()=>{class e{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=PE(!1,n.type),o=r.length>0?ju([r],this._injector,""):null;this.cachedInjectors.set(n,o)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=O({token:e,providedIn:"environment",factory:()=>new e(P(ze))})}return e})();function gn(e){return Yd(()=>{let t=UA(e),n=N(x({},t),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===z_.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:t.standalone?o=>o.get(s4).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Rr.Emulated,styles:e.styles||Nn,_:null,schemas:e.schemas||null,tView:null,id:""});t.standalone&&ps("NgStandalone"),$A(n);let r=e.dependencies;return n.directiveDefs=ER(r,a4),n.pipeDefs=ER(r,fO),n.id=l4(n),n})}function a4(e){return Wo(e)||TE(e)}function Ut(e){return Yd(()=>({type:e.type,bootstrap:e.bootstrap||Nn,declarations:e.declarations||Nn,imports:e.imports||Nn,exports:e.exports||Nn,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function c4(e,t){if(e==null)return rs;let n={};for(let r in e)if(e.hasOwnProperty(r)){let o=e[r],i,s,a,c;Array.isArray(o)?(a=o[0],i=o[1],s=o[2]??i,c=o[3]||null):(i=o,s=o,a=jm.None,c=null),n[i]=[r,a,c],t[i]=s}return n}function u4(e){if(e==null)return rs;let t={};for(let n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function on(e){return Yd(()=>{let t=UA(e);return $A(t),t})}function vC(e){return{type:e.type,name:e.name,factory:null,pure:e.pure!==!1,standalone:e.standalone??!0,onDestroy:e.type.prototype.ngOnDestroy||null}}function UA(e){let t={};return{type:e.type,providersResolver:null,viewProvidersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputConfig:e.inputs||rs,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:e.signals===!0,selectors:e.selectors||Nn,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:c4(e.inputs,t),outputs:u4(e.outputs),debugInfo:null}}function $A(e){e.features?.forEach(t=>t(e))}function ER(e,t){return e?()=>{let n=typeof e=="function"?e():e,r=[];for(let o of n){let i=t(o);i!==null&&r.push(i)}return r}:null}function l4(e){let t=0,n=typeof e.consts=="function"?"":e.consts,r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,n,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(let i of r.join("|"))t=Math.imul(31,t)+i.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function d4(e){return Object.getPrototypeOf(e.prototype).constructor}function ms(e){let t=d4(e.type),n=!0,r=[e];for(;t;){let o;if(oo(e))o=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new j(903,!1);o=t.\u0275dir}if(o){if(n){r.push(o);let s=e;s.inputs=g_(e.inputs),s.declaredInputs=g_(e.declaredInputs),s.outputs=g_(e.outputs);let a=o.hostBindings;a&&g4(e,a);let c=o.viewQuery,u=o.contentQueries;if(c&&h4(e,c),u&&m4(e,u),f4(e,o),dO(e.outputs,o.outputs),oo(o)&&o.data.animation){let l=e.data;l.animation=(l.animation||[]).concat(o.data.animation)}}let i=o.features;if(i)for(let s=0;s<i.length;s++){let a=i[s];a&&a.ngInherit&&a(e),a===ms&&(n=!1)}}t=Object.getPrototypeOf(t)}p4(r)}function f4(e,t){for(let n in t.inputs){if(!t.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;let r=t.inputs[n];r!==void 0&&(e.inputs[n]=r,e.declaredInputs[n]=t.declaredInputs[n])}}function p4(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){let o=e[r];o.hostVars=t+=o.hostVars,o.hostAttrs=$d(o.hostAttrs,n=$d(n,o.hostAttrs))}}function g_(e){return e===rs?{}:e===Nn?[]:e}function h4(e,t){let n=e.viewQuery;n?e.viewQuery=(r,o)=>{t(r,o),n(r,o)}:e.viewQuery=t}function m4(e,t){let n=e.contentQueries;n?e.contentQueries=(r,o,i)=>{t(r,o,i),n(r,o,i)}:e.contentQueries=t}function g4(e,t){let n=e.hostBindings;n?e.hostBindings=(r,o)=>{t(r,o),n(r,o)}:e.hostBindings=t}function qA(e,t,n,r,o,i,s,a){if(n.firstCreatePass){e.mergedAttrs=$d(e.mergedAttrs,e.attrs);let l=e.tView=X_(2,e,o,i,s,n.directiveRegistry,n.pipeRegistry,null,n.schemas,n.consts,null);n.queries!==null&&(n.queries.template(n,e),l.queries=n.queries.embeddedTView(e))}a&&(e.flags|=a),Iu(e,!1);let c=v4(n,t,e,r);fm()&&sC(n,t,c,e),Ru(c,t);let u=RA(c,t,c,e);t[r+kt]=u,tC(t,u),n4(u,e,t)}function y4(e,t,n,r,o,i,s,a,c,u,l){let f=n+kt,h;return t.firstCreatePass?(h=zm(t,f,4,s||null,a||null),sm()&&FA(t,e,h,cs(t.consts,u),cC),LR(t,h)):h=t.data[f],qA(h,e,t,n,r,o,i,c),Cu(h)&&Um(t,e,h),u!=null&&$m(e,h,l),h}function _R(e,t,n,r,o,i,s,a,c,u,l){let f=n+kt,h;if(t.firstCreatePass){if(h=zm(t,f,4,s||null,a||null),u!=null){let p=cs(t.consts,u);h.localNames=[];for(let y=0;y<p.length;y+=2)h.localNames.push(p[y],-1)}}else h=t.data[f];return qA(h,e,t,n,r,o,i,c),u!=null&&$m(e,h,l),h}function uo(e,t,n,r,o,i,s,a){let c=De(),u=hn(),l=cs(u.consts,i);return y4(c,u,e,t,n,r,o,l,void 0,s,a),uo}var v4=x4;function x4(e,t,n,r){return Bd(!0),t[tt].createComment("")}var xC=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();var Km=new k(""),Ym=new k(""),Jd=(()=>{class e{_ngZone;registry;_isZoneStable=!0;_callbacks=[];_taskTrackingZone=null;_destroyRef;constructor(n,r,o){this._ngZone=n,this.registry=r,HE()&&(this._destroyRef=b(nn,{optional:!0})??void 0),bC||(WA(o),o.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this._taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){let n=this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),r=this._ngZone.runOutsideAngular(()=>this._ngZone.onStable.subscribe({next:()=>{Se.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}}));this._destroyRef?.onDestroy(()=>{n.unsubscribe(),r.unsubscribe()})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb()}});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>r.updateCb&&r.updateCb(n)?(clearTimeout(r.timeoutId),!1):!0)}}getPendingTasks(){return this._taskTrackingZone?this._taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,o){let i=-1;r&&r>0&&(i=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==i),n()},r)),this._callbacks.push({doneCb:n,timeoutId:i,updateCb:o})}whenStable(n,r,o){if(o&&!this._taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,o),this._runCallbacksIfReady()}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,o){return[]}static \u0275fac=function(r){return new(r||e)(P(Se),P(zA),P(Ym))};static \u0275prov=O({token:e,factory:e.\u0275fac})}return e})(),zA=(()=>{class e{_applications=new Map;registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return bC?.findTestabilityInTree(this,n,r)??null}static \u0275fac=function(r){return new(r||e)};static \u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();function WA(e){bC=e}var bC;function gs(e){return!!e&&typeof e.then=="function"}function Zm(e){return!!e&&typeof e.subscribe=="function"}var EC=new k("");function Jm(e){return is([{provide:EC,multi:!0,useValue:e}])}var _C=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=b(EC,{optional:!0})??[];injector=b(Vt);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let o of this.appInits){let i=_t(this.injector,o);if(gs(i))n.push(i);else if(Zm(i)){let s=new Promise((a,c)=>{i.subscribe({complete:a,error:c})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(o=>{this.reject(o)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||e)};static \u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Qd=new k("");function GA(){Hb(()=>{let e="";throw new j(600,e)})}function KA(e){return e.isBoundToModule}var b4=10;function CC(e,t){return Array.isArray(t)?t.reduce(CC,e):x(x({},e),t)}var kr=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=b(Ln);afterRenderManager=b(rC);zonelessEnabled=b(wu);rootEffectScheduler=b(l_);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new _e;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=b(io);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(Q(n=>!n))}constructor(){b(Qo,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:o=>{o&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=b(ze);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,o=Vt.NULL){return this._injector.get(Se).run(()=>{ke(Ie.BootstrapComponentStart);let s=n instanceof Wm;if(!this._injector.get(_C).done){let y="";throw new j(405,y)}let c;s?c=n:c=this._injector.get(Zd).resolveComponentFactory(n),this.componentTypes.push(c.componentType);let u=KA(c)?void 0:this._injector.get(ka),l=r||c.selector,f=c.create(o,[],l,u),h=f.location.nativeElement,p=f.injector.get(Km,null);return p?.registerApplication(h),f.onDestroy(()=>{this.detachView(f.hostView),Ud(this.components,f),p?.unregisterApplication(h)}),this._loadComponent(f),ke(Ie.BootstrapComponentEnd,f),f})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){ke(Ie.ChangeDetectionStart),this.tracingSnapshot!==null?this.tracingSnapshot.run(Hm.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw ke(Ie.ChangeDetectionEnd),new j(101,!1);let n=W(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,W(n),this.afterTick.next(),ke(Ie.ChangeDetectionEnd)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Ra,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<b4;){ke(Ie.ChangeDetectionSyncStart);try{this.synchronizeOnce()}finally{ke(Ie.ChangeDetectionSyncEnd)}}}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:o}of this.allViews){if(!r&&!jd(o))continue;let i=r&&!this.zonelessEnabled?0:1;wA(o,i),n=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>jd(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Ud(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(o){this.internalErrorHandler(o)}this.components.push(n),this._injector.get(Qd,[]).forEach(o=>o(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Ud(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new j(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||e)};static \u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Ud(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function Fa(e,t,n,r){let o=De(),i=Hd();if(Pu(o,i,t)){let s=hn(),a=r_();ZG(a,o,e,t,n,r)}return Fa}var Zme=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";var P_=class{destroy(t){}updateValue(t,n){}swap(t,n){let r=Math.min(t,n),o=Math.max(t,n),i=this.detach(o);if(o-r>1){let s=this.detach(r);this.attach(r,i),this.attach(o,s)}else this.attach(r,i)}move(t,n){this.attach(n,this.detach(t))}};function y_(e,t,n,r,o){return e===n&&Object.is(t,r)?1:Object.is(o(e,t),o(n,r))?-1:0}function E4(e,t,n,r){let o,i,s=0,a=e.length-1,c=void 0;if(Array.isArray(t)){W(r);let u=t.length-1;for(W(null);s<=a&&s<=u;){let l=e.at(s),f=t[s],h=y_(s,l,s,f,n);if(h!==0){h<0&&e.updateValue(s,f),s++;continue}let p=e.at(a),y=t[u],S=y_(a,p,u,y,n);if(S!==0){S<0&&e.updateValue(a,y),a--,u--;continue}let I=n(s,l),T=n(a,p),z=n(s,f);if(Object.is(z,T)){let qe=n(u,y);Object.is(qe,I)?(e.swap(s,a),e.updateValue(a,y),u--,a--):e.move(a,s),e.updateValue(s,f),s++;continue}if(o??=new Am,i??=SR(e,s,a,n),L_(e,o,s,z))e.updateValue(s,f),s++,a++;else if(i.has(z))o.set(I,e.detach(s)),a--;else{let qe=e.create(s,t[s]);e.attach(s,qe),s++,a++}}for(;s<=u;)CR(e,o,n,s,t[s]),s++}else if(t!=null){W(r);let u=t[Symbol.iterator]();W(null);let l=u.next();for(;!l.done&&s<=a;){let f=e.at(s),h=l.value,p=y_(s,f,s,h,n);if(p!==0)p<0&&e.updateValue(s,h),s++,l=u.next();else{o??=new Am,i??=SR(e,s,a,n);let y=n(s,h);if(L_(e,o,s,y))e.updateValue(s,h),s++,a++,l=u.next();else if(!i.has(y))e.attach(s,e.create(s,h)),s++,a++,l=u.next();else{let S=n(s,f);o.set(S,e.detach(s)),a--}}}for(;!l.done;)CR(e,o,n,e.length,l.value),l=u.next()}for(;s<=a;)e.destroy(e.detach(a--));o?.forEach(u=>{e.destroy(u)})}function L_(e,t,n,r){return t!==void 0&&t.has(r)?(e.attach(n,t.get(r)),t.delete(r),!0):!1}function CR(e,t,n,r,o){if(L_(e,t,r,n(r,o)))e.updateValue(r,o);else{let i=e.create(r,o);e.attach(r,i)}}function SR(e,t,n,r){let o=new Set;for(let i=t;i<=n;i++)o.add(r(i,e.at(i)));return o}var Am=class{kvMap=new Map;_vMap=void 0;has(t){return this.kvMap.has(t)}delete(t){if(!this.has(t))return!1;let n=this.kvMap.get(t);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(t,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(t),!0}get(t){return this.kvMap.get(t)}set(t,n){if(this.kvMap.has(t)){let r=this.kvMap.get(t);this._vMap===void 0&&(this._vMap=new Map);let o=this._vMap;for(;o.has(r);)r=o.get(r);o.set(r,n)}else this.kvMap.set(t,n)}forEach(t){for(let[n,r]of this.kvMap)if(t(r,n),this._vMap!==void 0){let o=this._vMap;for(;o.has(r);)r=o.get(r),t(r,n)}}};var j_=class{lContainer;$implicit;$index;constructor(t,n,r){this.lContainer=t,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-dt}};function Qm(e){return e}function Xd(e,t){return t}var H_=class{hasEmptyBlock;trackByFn;liveCollection;constructor(t,n,r){this.hasEmptyBlock=t,this.trackByFn=n,this.liveCollection=r}};function Pa(e,t,n,r,o,i,s,a,c,u,l,f,h){ps("NgControlFlow");let p=De(),y=hn(),S=c!==void 0,I=De(),T=a?s.bind(I[Fn][gt]):s,z=new H_(S,T);I[kt+e]=z,_R(p,y,e+1,t,n,r,o,cs(y.consts,i),256),S&&_R(p,y,e+2,c,u,l,f,cs(y.consts,h),512)}var B_=class extends P_{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(t,n,r){super(),this.lContainer=t,this.hostLView=n,this.templateTNode=r}get length(){return this.lContainer.length-dt}at(t){return this.getLView(t)[gt].$implicit}attach(t,n){let r=n[bu];this.needsIndexUpdate||=t!==this.length,pC(this.lContainer,n,t,Mm(this.templateTNode,r)),_4(this.lContainer,t)}detach(t){return this.needsIndexUpdate||=t!==this.length-1,C4(this.lContainer,t),S4(this.lContainer,t)}create(t,n){let r=R_(this.lContainer,this.templateTNode.tView.ssrId);return dC(this.hostLView,this.templateTNode,new j_(this.lContainer,n,t),{dehydratedView:r})}destroy(t){Bm(t[J],t)}updateValue(t,n){this.getLView(t)[gt].$implicit=n}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let t=0;t<this.length;t++)this.getLView(t)[gt].$index=t}getLView(t){return D4(this.lContainer,t)}};function La(e){let t=W(null),n=us();try{let r=De(),o=r[J],i=r[n],s=n+1,a=DR(r,s);if(i.liveCollection===void 0){let u=IR(o,s);i.liveCollection=new B_(a,r,u)}else i.liveCollection.reset();let c=i.liveCollection;if(E4(c,e,i.trackByFn,t),c.updateIndexes(),i.hasEmptyBlock){let u=Hd(),l=c.length===0;if(Pu(r,u,l)){let f=n+2,h=DR(r,f);if(l){let p=IR(o,f),y=w8(h,p,r),S=dC(r,p,void 0,{dehydratedView:y});pC(h,S,0,Mm(p,y))}else o.firstUpdatePass&&C8(h),g8(h,0)}}}finally{W(t)}}function DR(e,t){return e[t]}function _4(e,t){if(e.length<=dt)return;let n=dt+t,r=e[n],o=r?r[Sa]:void 0;if(r&&o&&o.detachedLeaveAnimationFns&&o.detachedLeaveAnimationFns.length>0){let i=r[Go];CG(i,o),Oa.delete(r[Yo]),o.detachedLeaveAnimationFns=void 0}}function C4(e,t){if(e.length<=dt)return;let n=dt+t,r=e[n],o=r?r[Sa]:void 0;o&&o.leave&&o.leave.size>0&&(o.detachedLeaveAnimationFns=[])}function S4(e,t){return zd(e,t)}function D4(e,t){return m8(e,t)}function IR(e,t){return Ld(e,t)}function We(e,t,n){let r=De(),o=Hd();if(Pu(r,o,t)){let i=hn(),s=r_();qG(s,r,e,t,r[tt],n)}return We}function wR(e,t,n,r,o){uC(t,e,n,o?"class":"style",r)}function de(e,t,n,r){let o=De(),i=o[J],s=e+kt,a=i.firstCreatePass?mC(s,o,2,t,cC,sm(),n,r):i.data[s];if(bA(a,o,e,t,I4),Cu(a)){let c=o[J];Um(c,o,a),Y_(c,a,o)}return r!=null&&$m(o,a),de}function pe(){let e=hn(),t=mn(),n=EA(t);return e.firstCreatePass&&gC(e,n),NO(n)&&FO(),AO(),n.classesWithoutHost!=null&&M3(n)&&wR(e,n,De(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&T3(n)&&wR(e,n,De(),n.stylesWithoutHost,!1),pe}function yt(e,t,n,r){return de(e,t,n,r),pe(),yt}var I4=(e,t,n,r,o)=>(Bd(!0),iA(t[tt],r,YO()));function Xo(e,t,n){let r=De(),o=r[J],i=e+kt,s=o.firstCreatePass?mC(i,r,8,"ng-container",cC,sm(),t,n):o.data[i];if(bA(s,r,e,"ng-container",w4),Cu(s)){let a=r[J];Um(a,r,s),Y_(a,s,r)}return n!=null&&$m(r,s),Xo}function ei(){let e=hn(),t=mn(),n=EA(t);return e.firstCreatePass&&gC(e,n),ei}var w4=(e,t,n,r,o)=>(Bd(!0),rG(t[tt],""));function Hu(){return De()}var ef="en-US";var M4=ef;function YA(e){typeof e=="string"&&(M4=e.toLowerCase().replace(/_/g,"-"))}function nt(e,t,n){let r=De(),o=hn(),i=mn();return T4(o,r,r[tt],i,e,t,n),nt}function T4(e,t,n,r,o,i,s){let a=!0,c=null;if((r.type&3||s)&&(c??=h_(r,t,i),H8(r,e,t,s,n,o,i,c)&&(a=!1)),a){let u=r.outputs?.[o],l=r.hostDirectiveOutputs?.[o];if(l&&l.length)for(let f=0;f<l.length;f+=2){let h=l[f],p=l[f+1];c??=h_(r,t,i),vR(r,t,h,p,o,c)}if(u&&u.length)for(let f of u)c??=h_(r,t,i),vR(r,t,f,o,o,c)}}function Ct(e=1){return KO(e)}function mm(e,t){return e<<17|t<<2}function Na(e){return e>>17&32767}function O4(e){return(e&2)==2}function R4(e,t){return e&131071|t<<17}function V_(e){return e|2}function Au(e){return(e&131068)>>2}function v_(e,t){return e&-131069|t<<2}function A4(e){return(e&1)===1}function U_(e){return e|1}function k4(e,t,n,r,o,i){let s=i?t.classBindings:t.styleBindings,a=Na(s),c=Au(s);e[r]=n;let u=!1,l;if(Array.isArray(n)){let f=n;l=f[1],(l===null||xu(f,l)>0)&&(u=!0)}else l=n;if(o)if(c!==0){let h=Na(e[a+1]);e[r+1]=mm(h,a),h!==0&&(e[h+1]=v_(e[h+1],r)),e[a+1]=R4(e[a+1],r)}else e[r+1]=mm(a,0),a!==0&&(e[a+1]=v_(e[a+1],r)),a=r;else e[r+1]=mm(c,0),a===0?a=r:e[c+1]=v_(e[c+1],r),c=r;u&&(e[r+1]=V_(e[r+1])),MR(e,l,r,!0),MR(e,l,r,!1),N4(t,l,e,r,i),s=mm(a,c),i?t.classBindings=s:t.styleBindings=s}function N4(e,t,n,r,o){let i=o?e.residualClasses:e.residualStyles;i!=null&&typeof t=="string"&&xu(i,t)>=0&&(n[r+1]=U_(n[r+1]))}function MR(e,t,n,r){let o=e[n+1],i=t===null,s=r?Na(o):Au(o),a=!1;for(;s!==0&&(a===!1||i);){let c=e[s],u=e[s+1];F4(c,t)&&(a=!0,e[s+1]=r?U_(u):V_(u)),s=r?Na(u):Au(u)}a&&(e[n+1]=r?V_(o):U_(o))}function F4(e,t){return e===null||t==null||(Array.isArray(e)?e[1]:e)===t?!0:Array.isArray(e)&&typeof t=="string"?xu(e,t)>=0:!1}function ti(e,t,n){return ZA(e,t,n,!1),ti}function Bu(e,t){return ZA(e,t,null,!0),Bu}function ZA(e,t,n,r){let o=De(),i=hn(),s=BO(2);if(i.firstUpdatePass&&L4(i,e,s,r),t!==Jo&&Pu(o,s,t)){let a=i.data[us()];U4(i,a,o,o[tt],e,o[s+1]=$4(t,n),r,s)}}function P4(e,t){return t>=e.expandoStartIndex}function L4(e,t,n,r){let o=e.data;if(o[n+1]===null){let i=o[us()],s=P4(e,n);q4(i,r)&&t===null&&!s&&(t=!1),t=j4(o,i,t,r),k4(o,i,t,n,s,r)}}function j4(e,t,n,r){let o=qO(e),i=r?t.residualClasses:t.residualStyles;if(o===null)(r?t.classBindings:t.styleBindings)===0&&(n=x_(null,e,t,n,r),n=Kd(n,t.attrs,r),i=null);else{let s=t.directiveStylingLast;if(s===-1||e[s]!==o)if(n=x_(o,e,t,n,r),i===null){let c=H4(e,t,r);c!==void 0&&Array.isArray(c)&&(c=x_(null,e,t,c[1],r),c=Kd(c,t.attrs,r),B4(e,t,r,c))}else i=V4(e,t,r)}return i!==void 0&&(r?t.residualClasses=i:t.residualStyles=i),n}function H4(e,t,n){let r=n?t.classBindings:t.styleBindings;if(Au(r)!==0)return e[Na(r)]}function B4(e,t,n,r){let o=n?t.classBindings:t.styleBindings;e[Na(o)]=r}function V4(e,t,n){let r,o=t.directiveEnd;for(let i=1+t.directiveStylingLast;i<o;i++){let s=e[i].hostAttrs;r=Kd(r,s,n)}return Kd(r,t.attrs,n)}function x_(e,t,n,r,o){let i=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(i=t[a],r=Kd(r,i.hostAttrs,o),i!==e);)a++;return e!==null&&(n.directiveStylingLast=a),r}function Kd(e,t,n){let r=n?1:2,o=-1;if(t!==null)for(let i=0;i<t.length;i++){let s=t[i];typeof s=="number"?o=s:o===r&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),yO(e,s,n?!0:t[++i]))}return e===void 0?null:e}function U4(e,t,n,r,o,i,s,a){if(!(t.type&3))return;let c=e.data,u=c[a+1],l=A4(u)?TR(c,t,n,o,Au(u),s):void 0;if(!km(l)){km(i)||O4(u)&&(i=TR(c,null,n,o,a,s));let f=zE(us(),n);HG(r,s,f,o,i)}}function TR(e,t,n,r,o,i){let s=t===null,a;for(;o>0;){let c=e[o],u=Array.isArray(c),l=u?c[1]:c,f=l===null,h=n[o+1];h===Jo&&(h=f?Nn:void 0);let p=f?nm(h,r):l===r?h:void 0;if(u&&!km(p)&&(p=nm(c,r)),km(p)&&(a=p,s))return a;let y=e[o+1];o=s?Na(y):Au(y)}if(t!==null){let c=i?t.residualClasses:t.residualStyles;c!=null&&(a=nm(c,r))}return a}function km(e){return e!==void 0}function $4(e,t){return e==null||e===""||(typeof t=="string"?e=e+t:typeof e=="object"&&(e=qo(Z_(e)))),e}function q4(e,t){return(e.flags&(t?8:16))!==0}function Nr(e,t=""){let n=De(),r=hn(),o=e+kt,i=r.firstCreatePass?zm(r,o,1,t,null):r.data[o],s=z4(r,n,i,t);n[o]=s,fm()&&sC(r,n,s,i),Iu(i,!1)}var z4=(e,t,n,r)=>(Bd(!0),tG(t[tt],r));function JA(e,t,n,r=""){return Pu(e,Hd(),n)?t+OE(n)+r:Jo}function tf(e){return Vu("",e),tf}function Vu(e,t,n){let r=De(),o=JA(r,e,t,n);return o!==Jo&&W4(r,us(),o),Vu}function W4(e,t,n){let r=zE(t,e);nG(e[tt],r,n)}function SC(e,t,n=""){return JA(De(),e,t,n)}function OR(e,t,n){let r=hn();r.firstCreatePass&&QA(t,r.data,r.blueprint,oo(e),n)}function QA(e,t,n,r,o){if(e=Bt(e),Array.isArray(e))for(let i=0;i<e.length;i++)QA(e[i],t,n,r,o);else{let i=hn(),s=De(),a=mn(),c=ma(e)?e:Bt(e.provide),u=jE(e),l=a.providerIndexes&1048575,f=a.directiveStart,h=a.providerIndexes>>20;if(ma(e)||!e.multi){let p=new Ta(u,o,xe,null),y=E_(c,t,o?l:l+h,f);y===-1?(C_(Sm(a,s),i,c),b_(i,e,t.length),t.push(c),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),n.push(p),s.push(p)):(n[y]=p,s[y]=p)}else{let p=E_(c,t,l+h,f),y=E_(c,t,l,l+h),S=p>=0&&n[p],I=y>=0&&n[y];if(o&&!I||!o&&!S){C_(Sm(a,s),i,c);let T=Y4(o?K4:G4,n.length,o,r,u,e);!o&&I&&(n[y].providerFactory=T),b_(i,e,t.length,0),t.push(c),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),n.push(T),s.push(T)}else{let T=XA(n[o?y:p],u,!o&&r);b_(i,e,p>-1?p:y,T)}!o&&r&&I&&n[y].componentProviders++}}}function b_(e,t,n,r){let o=ma(t),i=EO(t);if(o||i){let c=(i?Bt(t.useClass):t).prototype.ngOnDestroy;if(c){let u=e.destroyHooks||(e.destroyHooks=[]);if(!o&&t.multi){let l=u.indexOf(n);l===-1?u.push(n,[r,c]):u[l+1].push(r,c)}else u.push(n,c)}}}function XA(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function E_(e,t,n,r){for(let o=n;o<r;o++)if(t[o]===e)return o;return-1}function G4(e,t,n,r,o){return $_(this.multi,[])}function K4(e,t,n,r,o){let i=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,c=Dm(r,r[J],this.providerFactory.index,o);s=c.slice(0,a),$_(i,s);for(let u=a;u<c.length;u++)s.push(c[u])}else s=[],$_(i,s);return s}function $_(e,t){for(let n=0;n<e.length;n++){let r=e[n];t.push(r())}return t}function Y4(e,t,n,r,o,i){let s=new Ta(e,n,xe,null);return s.multi=[],s.index=t,s.componentProviders=0,XA(s,o,r&&!n),s}function Xm(e,t){return n=>{n.providersResolver=(r,o)=>OR(r,o?o(e):e,!1),t&&(n.viewProvidersResolver=(r,o)=>OR(r,o?o(t):t,!0))}}function Z4(e,t){let n=e[t];return n===Jo?void 0:n}function J4(e,t,n,r,o,i){let s=t+n;return Pu(e,s,o)?j8(e,s+1,i?r.call(i,o):r(o)):Z4(e,s+1)}function eg(e,t){let n=hn(),r,o=e+kt;n.firstCreatePass?(r=Q4(t,n.pipeRegistry),n.data[o]=r,r.onDestroy&&(n.destroyHooks??=[]).push(o,r.onDestroy)):r=n.data[o];let i=r.factory||(r.factory=ts(r.type,!0)),s,a=tn(xe);try{let c=Cm(!1),u=i();return Cm(c),WE(n,De(),o,u),u}finally{tn(a)}}function Q4(e,t){if(t)for(let n=t.length-1;n>=0;n--){let r=t[n];if(e===r.name)return r}}function tg(e,t,n){let r=e+kt,o=De(),i=SO(o,r);return X4(o,r)?J4(o,jO(),t,i.transform,n,i):i.transform(n)}function X4(e,t){return e[J].data[t].pure}var gm=null;function ek(e){gm!==null&&(e.defaultEncapsulation!==gm.defaultEncapsulation||e.preserveWhitespaces!==gm.preserveWhitespaces)||(gm=e)}var Nm=class{ngModuleFactory;componentFactories;constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}},DC=(()=>{class e{compileModuleSync(n){return new Gd(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),o=ME(n),i=uA(o.declarations).reduce((s,a)=>{let c=Wo(a);return c&&s.push(new Aa(c)),s},[]);return new Nm(r,i)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||e)};static \u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),tk=new k("");var nk=(()=>{class e{applicationErrorHandler=b(Ln);appRef=b(kr);taskService=b(io);ngZone=b(Se);zonelessEnabled=b(wu);tracing=b(Qo,{optional:!0});zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new ct;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Md):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(b(hm,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{let n=this.taskService.add();if(!this.runningTick&&(this.cleanup(),!this.zonelessEnabled||this.appRef.includeAllTestViews)){this.taskService.remove(n);return}this.switchToMicrotaskScheduler(),this.taskService.remove(n)})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()}))}switchToMicrotaskScheduler(){this.ngZone.runOutsideAngular(()=>{let n=this.taskService.add();this.useMicrotaskScheduler=!0,queueMicrotask(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})})}notify(n){if(!this.zonelessEnabled&&n===5)return;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2;break}case 12:{this.appRef.dirtyFlags|=16;break}case 13:{this.appRef.dirtyFlags|=2;break}case 11:break;default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?QO:s_;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Md+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.applicationErrorHandler(r)}finally{this.taskService.remove(n),this.cleanup()}}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||e)};static \u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function rk(){return[{provide:zo,useExisting:nk},{provide:Se,useClass:Td},{provide:wu,useValue:!0}]}function e5(){return typeof $localize<"u"&&$localize.locale||ef}var ng=new k("",{factory:()=>b(ng,{optional:!0,skipSelf:!0})||e5()});var rg=class{destroyed=!1;listeners=null;errorHandler=b(er,{optional:!0});destroyRef=b(nn);constructor(){this.destroyRef.onDestroy(()=>{this.destroyed=!0,this.listeners=null})}subscribe(t){if(this.destroyed)throw new j(953,!1);return(this.listeners??=[]).push(t),{unsubscribe:()=>{let n=this.listeners?.indexOf(t);n!==void 0&&n!==-1&&this.listeners?.splice(n,1)}}}emit(t){if(this.destroyed){console.warn(Dr(953,!1));return}if(this.listeners===null)return;let n=W(null);try{for(let r of this.listeners)try{r(t)}catch(o){this.errorHandler?.handleError(o)}}finally{W(n)}}};var lk=Symbol("InputSignalNode#UNSET"),y5=N(x({},_h),{transformFn:void 0,applyValueToInputSignal(e,t){xd(e,t)}});function dk(e,t){let n=Object.create(y5);n.value=e,n.transformFn=t?.transform;function r(){if(xh(n),n.value===lk){let o=null;throw new j(-950,o)}return n.value}return r[Rn]=n,r}function ig(e){return new rg}function ok(e,t){return dk(e,t)}function v5(e){return dk(lk,e)}var ys=(ok.required=v5,ok);function x5(e,t,n){let r=new Gd(n);return Promise.resolve(r)}function ik(e){for(let t=e.length-1;t>=0;t--)if(e[t]!==void 0)return e[t]}var b5=(()=>{class e{zone=b(Se);changeDetectionScheduler=b(zo);applicationRef=b(kr);applicationErrorHandler=b(Ln);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(n){this.applicationErrorHandler(n)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),E5=new k("",{factory:()=>!1});function _5({ngZoneFactory:e,scheduleInRootZone:t}){return e??=()=>new Se(N(x({},pk()),{scheduleInRootZone:t})),[{provide:wu,useValue:!1},{provide:Se,useFactory:e},{provide:os,multi:!0,useFactory:()=>{let n=b(b5,{optional:!0});return()=>n.initialize()}},{provide:os,multi:!0,useFactory:()=>{let n=b(C5);return()=>{n.initialize()}}},{provide:hm,useValue:t??i_}]}function fk(e){let t=e?.scheduleInRootZone,n=_5({ngZoneFactory:()=>{let r=pk(e);return r.scheduleInRootZone=t,r.shouldCoalesceEventChangeDetection&&ps("NgZone_CoalesceEvent"),new Se(r)},scheduleInRootZone:t});return is([{provide:E5,useValue:!0},n])}function pk(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var C5=(()=>{class e{subscription=new ct;initialized=!1;zone=b(Se);pendingTasks=b(io);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Se.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Se.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var og=new k(""),S5=new k("");function nf(e){return!e.moduleRef}function D5(e){let t=nf(e)?e.r3Injector:e.moduleRef.injector,n=t.get(Se);return n.run(()=>{nf(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let r=t.get(Ln),o;if(n.runOutsideAngular(()=>{o=n.onError.subscribe({next:r})}),nf(e)){let i=()=>t.destroy(),s=e.platformInjector.get(og);s.add(i),t.onDestroy(()=>{o.unsubscribe(),s.delete(i)})}else{let i=()=>e.moduleRef.destroy(),s=e.platformInjector.get(og);s.add(i),e.moduleRef.onDestroy(()=>{Ud(e.allPlatformModules,e.moduleRef),o.unsubscribe(),s.delete(i)})}return w5(r,n,()=>{let i=t.get(io),s=i.add(),a=t.get(_C);return a.runInitializers(),a.donePromise.then(()=>{let c=t.get(ng,ef);if(YA(c||ef),!t.get(S5,!0))return nf(e)?t.get(kr):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(nf(e)){let l=t.get(kr);return e.rootComponent!==void 0&&l.bootstrap(e.rootComponent),l}else return hk?.(e.moduleRef,e.allPlatformModules),e.moduleRef}).finally(()=>{i.remove(s)})})})}var hk;function sk(){hk=I5}function I5(e,t){let n=e.injector.get(kr);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(e.instance.ngDoBootstrap)e.instance.ngDoBootstrap(n);else throw new j(-403,!1);t.push(e)}function w5(e,t,n){try{let r=n();return gs(r)?r.catch(o=>{throw t.runOutsideAngular(()=>e(o)),o}):r}catch(r){throw t.runOutsideAngular(()=>e(r)),r}}var mk=(()=>{class e{_injector;_modules=[];_destroyListeners=[];_destroyed=!1;constructor(n){this._injector=n}bootstrapModuleFactory(n,r){let o=[rk(),...r?.applicationProviders??[],eR],i=VA(n.moduleType,this.injector,o);return sk(),D5({moduleRef:i,allPlatformModules:this._modules,platformInjector:this.injector})}bootstrapModule(n,r=[]){let o=CC({},r);return sk(),x5(this.injector,o,n).then(i=>this.bootstrapModuleFactory(i,o))}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new j(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());let n=this._injector.get(og,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static \u0275fac=function(r){return new(r||e)(P(Vt))};static \u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})(),IC=null;function M5(e){if(MC())throw new j(400,!1);GA(),IC=e;let t=e.get(mk);return R5(e),t}function wC(e,t,n=[]){let r=`Platform: ${t}`,o=new k(r);return(i=[])=>{let s=MC();if(!s){let a=[...n,...i,{provide:o,useValue:!0}];s=e?.(a)??M5(T5(a,r))}return O5(o)}}function T5(e=[],t){return Vt.create({name:t,providers:[{provide:Ad,useValue:"platform"},{provide:og,useValue:new Set([()=>IC=null])},...e]})}function O5(e){let t=MC();if(!t)throw new j(-401,!1);return t}function MC(){return IC?.get(mk)??null}function R5(e){let t=e.get(Lm,null);_t(e,()=>{t?.forEach(n=>n())})}var A5=1e4;var g_e=A5-1e3;var vs=(()=>{class e{static __NG_ELEMENT_ID__=k5}return e})();function k5(e){return N5(mn(),De(),(e&16)===16)}function N5(e,t,n){if(as(e)&&!n){let r=or(e.index,t);return new fs(r,r)}else if(e.type&175){let r=t[Fn];return new fs(r,t)}return null}var gk=wC(null,"core",[]),yk=(()=>{class e{constructor(n){}static \u0275fac=function(r){return new(r||e)(P(kr))};static \u0275mod=Ut({type:e});static \u0275inj=At({})}return e})();function vk(e){let t=Wo(e);if(!t)return null;let n=new Aa(t);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}var xk=null;function lo(){return xk}function TC(e){xk??=e}var rf=class{},ni=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=O({token:e,factory:()=>b(bk),providedIn:"platform"})}return e})(),OC=new k(""),bk=(()=>{class e extends ni{_location;_history;_doc=b(Ue);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return lo().getBaseHref(this._doc)}onPopState(n){let r=lo().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=lo().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,o){this._history.pushState(n,r,o)}replaceState(n,r,o){this._history.replaceState(n,r,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||e)};static \u0275prov=O({token:e,factory:()=>new e,providedIn:"platform"})}return e})();function sg(e,t){return e?t?e.endsWith("/")?t.startsWith("/")?e+t.slice(1):e+t:t.startsWith("/")?e+t:`${e}/${t}`:e:t}function Ek(e){let t=e.search(/#|\?|$/);return e[t-1]==="/"?e.slice(0,t-1)+e.slice(t):e}function Fr(e){return e&&e[0]!=="?"?`?${e}`:e}var fo=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=O({token:e,factory:()=>b(cg),providedIn:"root"})}return e})(),ag=new k(""),cg=(()=>{class e extends fo{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??b(Ue).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return sg(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+Fr(this._platformLocation.search),o=this._platformLocation.hash;return o&&n?`${r}${o}`:r}pushState(n,r,o,i){let s=this.prepareExternalUrl(o+Fr(i));this._platformLocation.pushState(n,r,s)}replaceState(n,r,o,i){let s=this.prepareExternalUrl(o+Fr(i));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||e)(P(ni),P(ag,8))};static \u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),xs=(()=>{class e{_subject=new _e;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=L5(Ek(_k(r))),this._locationStrategy.onPopState(o=>{this._subject.next({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Fr(r))}normalize(n){return e.stripTrailingSlash(P5(this._basePath,_k(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",o=null){this._locationStrategy.pushState(o,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Fr(r)),o)}replaceState(n,r="",o=null){this._locationStrategy.replaceState(o,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Fr(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(o=>o(n,r))}subscribe(n,r,o){return this._subject.subscribe({next:n,error:r??void 0,complete:o??void 0})}static normalizeQueryParams=Fr;static joinWithSlash=sg;static stripTrailingSlash=Ek;static \u0275fac=function(r){return new(r||e)(P(fo))};static \u0275prov=O({token:e,factory:()=>F5(),providedIn:"root"})}return e})();function F5(){return new xs(P(fo))}function P5(e,t){if(!e||!t.startsWith(e))return t;let n=t.substring(e.length);return n===""||["/",";","?","#"].includes(n[0])?n:t}function _k(e){return e.replace(/\/index.html$/,"")}function L5(e){if(new RegExp("^(https?:)?//").test(e)){let[,n]=e.split(/\/\/[^\/]+/);return n}return e}var lg=(()=>{class e extends fo{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(n){let r=sg(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,o,i){let s=this.prepareExternalUrl(o+Fr(i))||this._platformLocation.pathname;this._platformLocation.pushState(n,r,s)}replaceState(n,r,o,i){let s=this.prepareExternalUrl(o+Fr(i))||this._platformLocation.pathname;this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||e)(P(ni),P(ag,8))};static \u0275prov=O({token:e,factory:e.\u0275fac})}return e})();var ja=(()=>{class e{_viewContainer;_context=new ug;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(n,r){this._viewContainer=n,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){Ck(n,!1),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){Ck(n,!1),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||e)(xe(Lu),xe(qm))};static \u0275dir=on({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return e})(),ug=class{$implicit=null;ngIf=null};function Ck(e,t){if(e&&!e.createEmbeddedView)throw new j(2020,!1)}function j5(e,t){return new j(2100,!1)}var RC=class{createSubscription(t,n,r){return rn(()=>t.subscribe({next:n,error:r}))}dispose(t){rn(()=>t.unsubscribe())}},AC=class{createSubscription(t,n,r){return t.then(o=>n?.(o),o=>r?.(o)),{unsubscribe:()=>{n=null,r=null}}}dispose(t){t.unsubscribe()}},H5=new AC,B5=new RC,of=(()=>{class e{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;applicationErrorHandler=b(Ln);constructor(n){this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){if(!this._obj){if(n)try{this.markForCheckOnValueUpdate=!1,this._subscribe(n)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,r=>this._updateLatestValue(n,r),r=>this.applicationErrorHandler(r))}_selectStrategy(n){if(gs(n))return H5;if(Zm(n))return B5;throw j5(e,n)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,r){n===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(r){return new(r||e)(xe(vs,16))};static \u0275pipe=vC({name:"async",type:e,pure:!1})}return e})();var sf=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=Ut({type:e});static \u0275inj=At({})}return e})();function af(e,t){t=encodeURIComponent(t);for(let n of e.split(";")){let r=n.indexOf("="),[o,i]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(o.trim()===t)return decodeURIComponent(i)}return null}var Ha=class{};var NC="browser";function dg(e){return e===NC}var FC=(()=>{class e{static \u0275prov=O({token:e,providedIn:"root",factory:()=>new kC(b(Ue),window)})}return e})(),kC=class{document;window;offset=()=>[0,0];constructor(t,n){this.document=t,this.window=n}setOffset(t){Array.isArray(t)?this.offset=()=>t:this.offset=t}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(t,n){this.window.scrollTo(N(x({},n),{left:t[0],top:t[1]}))}scrollToAnchor(t,n){let r=U5(this.document,t);r&&(this.scrollToElement(r,n),r.focus())}setHistoryScrollRestoration(t){try{this.window.history.scrollRestoration=t}catch(n){console.warn(Dr(2400,!1))}}scrollToElement(t,n){let r=t.getBoundingClientRect(),o=r.left+this.window.pageXOffset,i=r.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(N(x({},n),{left:o-s[0],top:i-s[1]}))}};function U5(e,t){let n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if(typeof e.createTreeWalker=="function"&&e.body&&typeof e.body.attachShadow=="function"){let r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT),o=r.currentNode;for(;o;){let i=o.shadowRoot;if(i){let s=i.getElementById(t)||i.querySelector(`[name="${t}"]`);if(s)return s}o=r.nextNode()}}return null}var cf=class{_doc;constructor(t){this._doc=t}manager},fg=(()=>{class e extends cf{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,o,i){return n.addEventListener(r,o,i),()=>this.removeEventListener(n,r,o,i)}removeEventListener(n,r,o,i){return n.removeEventListener(r,o,i)}static \u0275fac=function(r){return new(r||e)(P(Ue))};static \u0275prov=O({token:e,factory:e.\u0275fac})}return e})(),mg=new k(""),HC=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(s=>{s.manager=this});let o=n.filter(s=>!(s instanceof fg));this._plugins=o.slice().reverse();let i=n.find(s=>s instanceof fg);i&&this._plugins.push(i)}addEventListener(n,r,o,i){return this._findPluginFor(r).addEventListener(n,r,o,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(i=>i.supports(n)),!r)throw new j(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||e)(P(mg),P(Se))};static \u0275prov=O({token:e,factory:e.\u0275fac})}return e})(),PC="ng-app-id";function Ik(e){for(let t of e)t.remove()}function wk(e,t){let n=t.createElement("style");return n.textContent=e,n}function $5(e,t,n,r){let o=e.head?.querySelectorAll(`style[${PC}="${t}"],link[${PC}="${t}"]`);if(o)for(let i of o)i.removeAttribute(PC),i instanceof HTMLLinkElement?r.set(i.href.slice(i.href.lastIndexOf("/")+1),{usage:0,elements:[i]}):i.textContent&&n.set(i.textContent,{usage:0,elements:[i]})}function jC(e,t){let n=t.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",e),n}var BC=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(n,r,o,i={}){this.doc=n,this.appId=r,this.nonce=o,$5(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let o of n)this.addUsage(o,this.inline,wk);r?.forEach(o=>this.addUsage(o,this.external,jC))}removeStyles(n,r){for(let o of n)this.removeUsage(o,this.inline);r?.forEach(o=>this.removeUsage(o,this.external))}addUsage(n,r,o){let i=r.get(n);i?i.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,o(n,this.doc)))})}removeUsage(n,r){let o=r.get(n);o&&(o.usage--,o.usage<=0&&(Ik(o.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])Ik(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:o}]of this.inline)o.push(this.addElement(n,wk(r,this.doc)));for(let[r,{elements:o}]of this.external)o.push(this.addElement(n,jC(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),n.appendChild(r)}static \u0275fac=function(r){return new(r||e)(P(Ue),P(Pm),P(Nu,8),P(Zo))};static \u0275prov=O({token:e,factory:e.\u0275fac})}return e})(),LC={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},VC=/%COMP%/g;var Tk="%COMP%",q5=`_nghost-${Tk}`,z5=`_ngcontent-${Tk}`,W5=!0,G5=new k("",{factory:()=>W5});function K5(e){return z5.replace(VC,e)}function Y5(e){return q5.replace(VC,e)}function Ok(e,t){return t.map(n=>n.replace(VC,e))}var UC=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;constructor(n,r,o,i,s,a,c=null,u=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=i,this.doc=s,this.ngZone=a,this.nonce=c,this.tracingService=u,this.defaultRenderer=new uf(n,s,a,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;let o=this.getOrCreateRenderer(n,r);return o instanceof hg?o.applyToHost(n):o instanceof lf&&o.applyStyles(),o}getOrCreateRenderer(n,r){let o=this.rendererByCompId,i=o.get(r.id);if(!i){let s=this.doc,a=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,l=this.removeStylesOnCompDestroy,f=this.tracingService;switch(r.encapsulation){case Rr.Emulated:i=new hg(c,u,r,this.appId,l,s,a,f);break;case Rr.ShadowDom:return new pg(c,n,r,s,a,this.nonce,f,u);case Rr.ExperimentalIsolatedShadowDom:return new pg(c,n,r,s,a,this.nonce,f);default:i=new lf(c,u,r,l,s,a,f);break}o.set(r.id,i)}return i}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||e)(P(HC),P(BC),P(Pm),P(G5),P(Ue),P(Se),P(Nu),P(Qo,8))};static \u0275prov=O({token:e,factory:e.\u0275fac})}return e})(),uf=class{eventManager;doc;ngZone;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,n,r,o){this.eventManager=t,this.doc=n,this.ngZone=r,this.tracingService=o}destroy(){}destroyNode=null;createElement(t,n){return n?this.doc.createElementNS(LC[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(Mk(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(Mk(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){n.remove()}selectRootElement(t,n){let r=typeof t=="string"?this.doc.querySelector(t):t;if(!r)throw new j(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,o){if(o){n=o+":"+n;let i=LC[o];i?t.setAttributeNS(i,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){let o=LC[r];o?t.removeAttributeNS(o,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,o){o&(ao.DashCase|ao.Important)?t.style.setProperty(n,r,o&ao.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&ao.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t!=null&&(t[n]=r)}setValue(t,n){t.nodeValue=n}listen(t,n,r,o){if(typeof t=="string"&&(t=lo().getGlobalEventTarget(this.doc,t),!t))throw new j(5102,!1);let i=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(i=this.tracingService.wrapEventListener(t,n,i)),this.eventManager.addEventListener(t,n,i,o)}decoratePreventDefault(t){return n=>{if(n==="__ngUnwrap__")return t;t(n)===!1&&n.preventDefault()}}};function Mk(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var pg=class extends uf{hostEl;sharedStylesHost;shadowRoot;constructor(t,n,r,o,i,s,a,c){super(t,o,i,a),this.hostEl=n,this.sharedStylesHost=c,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost&&this.sharedStylesHost.addHost(this.shadowRoot);let u=r.styles;u=Ok(r.id,u);for(let f of u){let h=document.createElement("style");s&&h.setAttribute("nonce",s),h.textContent=f,this.shadowRoot.appendChild(h)}let l=r.getExternalStyles?.();if(l)for(let f of l){let h=jC(f,o);s&&h.setAttribute("nonce",s),this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(null,n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost&&this.sharedStylesHost.removeHost(this.shadowRoot)}},lf=class extends uf{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,n,r,o,i,s,a,c){super(t,i,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=o;let u=r.styles;this.styles=c?Ok(c,u):u,this.styleUrls=r.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&Oa.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},hg=class extends lf{contentAttr;hostAttr;constructor(t,n,r,o,i,s,a,c){let u=o+"-"+r.id;super(t,n,r,i,s,a,c,u),this.contentAttr=K5(u),this.hostAttr=Y5(u)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){let r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}};var gg=class e extends rf{supportsDOMEvents=!0;static makeCurrent(){TC(new e)}onAndCancel(t,n,r,o){return t.addEventListener(n,r,o),()=>{t.removeEventListener(n,r,o)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.remove()}createElement(t,n){return n=n||this.getDefaultDocument(),n.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return n==="window"?window:n==="document"?t:n==="body"?t.body:null}getBaseHref(t){let n=Z5();return n==null?null:J5(n)}resetBaseElement(){df=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return af(document.cookie,t)}},df=null;function Z5(){return df=df||document.head.querySelector("base"),df?df.getAttribute("href"):null}function J5(e){return new URL(e,document.baseURI).pathname}var yg=class{addToWindow(t){Ir.getAngularTestability=(r,o=!0)=>{let i=t.findTestabilityInTree(r,o);if(i==null)throw new j(5103,!1);return i},Ir.getAllAngularTestabilities=()=>t.getAllTestabilities(),Ir.getAllAngularRootElements=()=>t.getAllRootElements();let n=r=>{let o=Ir.getAllAngularTestabilities(),i=o.length,s=function(){i--,i==0&&r()};o.forEach(a=>{a.whenStable(s)})};Ir.frameworkStabilizers||(Ir.frameworkStabilizers=[]),Ir.frameworkStabilizers.push(n)}findTestabilityInTree(t,n,r){if(n==null)return null;let o=t.getTestability(n);return o??(r?lo().isShadowRoot(n)?this.findTestabilityInTree(t,n.host,!0):this.findTestabilityInTree(t,n.parentElement,!0):null)}},Q5=(()=>{class e{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||e)};static \u0275prov=O({token:e,factory:e.\u0275fac})}return e})(),Rk=["alt","control","meta","shift"],X5={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},e6={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},Ak=(()=>{class e extends cf{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,r,o,i){let s=e.parseEventName(r),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>lo().onAndCancel(n,s.domEventName,a,i))}static parseEventName(n){let r=n.toLowerCase().split("."),o=r.shift();if(r.length===0||!(o==="keydown"||o==="keyup"))return null;let i=e._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),Rk.forEach(u=>{let l=r.indexOf(u);l>-1&&(r.splice(l,1),s+=u+".")}),s+=i,r.length!=0||i.length===0)return null;let c={};return c.domEventName=o,c.fullKey=s,c}static matchEventFullKeyCode(n,r){let o=X5[n.key]||n.key,i="";return r.indexOf("code.")>-1&&(o=n.code,i="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),Rk.forEach(s=>{if(s!==o){let a=e6[s];a(n)&&(i+=s+".")}}),i+=o,i===r)}static eventCallback(n,r,o){return i=>{e.matchEventFullKeyCode(i,n)&&o.runGuarded(()=>r(i))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||e)(P(Ue))};static \u0275prov=O({token:e,factory:e.\u0275fac})}return e})();function t6(){gg.makeCurrent()}function n6(){return new er}function r6(){return W_(document),document}var o6=[{provide:Zo,useValue:NC},{provide:Lm,useValue:t6,multi:!0},{provide:Ue,useFactory:r6}],$C=wC(gk,"browser",o6);var i6=[{provide:Ym,useClass:yg},{provide:Km,useClass:Jd},{provide:Jd,useClass:Jd}],s6=[{provide:Ad,useValue:"root"},{provide:er,useFactory:n6},{provide:mg,useClass:fg,multi:!0},{provide:mg,useClass:Ak,multi:!0},UC,BC,HC,{provide:Ra,useExisting:UC},{provide:Ha,useClass:Q5},[]],qC=(()=>{class e{constructor(){}static \u0275fac=function(r){return new(r||e)};static \u0275mod=Ut({type:e});static \u0275inj=At({providers:[...s6,...i6],imports:[sf,yk]})}return e})();var bs=class e{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(t){t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let o=n.slice(0,r),i=n.slice(r+1).trim();this.addHeaderEntry(o,i)}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((n,r)=>{this.addHeaderEntry(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let n=this.headers.get(t.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,n){return this.clone({name:t,value:n,op:"a"})}set(t,n){return this.clone({name:t,value:n,op:"s"})}delete(t,n){return this.clone({name:t,value:n,op:"d"})}maybeSetNormalizedName(t,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,t)}init(){this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(n=>{this.headers.set(n,t.headers.get(n)),this.normalizedNames.set(n,t.normalizedNames.get(n))})}clone(t){let n=new e;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}applyUpdate(t){let n=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(t.name,n);let o=(t.op==="a"?this.headers.get(n):void 0)||[];o.push(...r),this.headers.set(n,o);break;case"d":let i=t.value;if(!i)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>i.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}addHeaderEntry(t,n){let r=t.toLowerCase();this.maybeSetNormalizedName(t,r),this.headers.has(r)?this.headers.get(r).push(n):this.headers.set(r,[n])}setHeaderEntries(t,n){let r=(Array.isArray(n)?n:[n]).map(i=>i.toString()),o=t.toLowerCase();this.headers.set(o,r),this.maybeSetNormalizedName(t,o)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>t(this.normalizedNames.get(n),this.headers.get(n)))}};var xg=class{map=new Map;set(t,n){return this.map.set(t,n),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}},bg=class{encodeKey(t){return kk(t)}encodeValue(t){return kk(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function a6(e,t){let n=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(o=>{let i=o.indexOf("="),[s,a]=i==-1?[t.decodeKey(o),""]:[t.decodeKey(o.slice(0,i)),t.decodeValue(o.slice(i+1))],c=n.get(s)||[];c.push(a),n.set(s,c)}),n}var c6=/%(\d[a-f0-9])/gi,u6={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function kk(e){return encodeURIComponent(e).replace(c6,(t,n)=>u6[n]??t)}function vg(e){return`${e}`}var ri=class e{map;encoder;updates=null;cloneFrom=null;constructor(t={}){if(this.encoder=t.encoder||new bg,t.fromString){if(t.fromObject)throw new j(2805,!1);this.map=a6(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(n=>{let r=t.fromObject[n],o=Array.isArray(r)?r.map(vg):[vg(r)];this.map.set(n,o)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let n=this.map.get(t);return n?n[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,n){return this.clone({param:t,value:n,op:"a"})}appendAll(t){let n=[];return Object.keys(t).forEach(r=>{let o=t[r];Array.isArray(o)?o.forEach(i=>{n.push({param:r,value:i,op:"a"})}):n.push({param:r,value:o,op:"a"})}),this.clone(n)}set(t,n){return this.clone({param:t,value:n,op:"s"})}delete(t,n){return this.clone({param:t,value:n,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let n=this.encoder.encodeKey(t);return this.map.get(t).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let n=new e({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(t),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let n=(t.op==="a"?this.map.get(t.param):void 0)||[];n.push(vg(t.value)),this.map.set(t.param,n);break;case"d":if(t.value!==void 0){let r=this.map.get(t.param)||[],o=r.indexOf(vg(t.value));o!==-1&&r.splice(o,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};function l6(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function Nk(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function Fk(e){return typeof Blob<"u"&&e instanceof Blob}function Pk(e){return typeof FormData<"u"&&e instanceof FormData}function d6(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}var Lk="Content-Type",jk="Accept",Bk="text/plain",Vk="application/json",f6=`${Vk}, ${Bk}, */*`,Uu=class e{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;referrer;integrity;referrerPolicy;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(t,n,r,o){this.url=n,this.method=t.toUpperCase();let i;if(l6(this.method)||o?(this.body=r!==void 0?r:null,i=o):i=r,i){if(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,this.keepalive=!!i.keepalive,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.context&&(this.context=i.context),i.params&&(this.params=i.params),i.priority&&(this.priority=i.priority),i.cache&&(this.cache=i.cache),i.credentials&&(this.credentials=i.credentials),typeof i.timeout=="number"){if(i.timeout<1||!Number.isInteger(i.timeout))throw new j(2822,"");this.timeout=i.timeout}i.mode&&(this.mode=i.mode),i.redirect&&(this.redirect=i.redirect),i.integrity&&(this.integrity=i.integrity),i.referrer&&(this.referrer=i.referrer),i.referrerPolicy&&(this.referrerPolicy=i.referrerPolicy),this.transferCache=i.transferCache}if(this.headers??=new bs,this.context??=new xg,!this.params)this.params=new ri,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),c=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+c+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||Nk(this.body)||Fk(this.body)||Pk(this.body)||d6(this.body)?this.body:this.body instanceof ri?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||Pk(this.body)?null:Fk(this.body)?this.body.type||null:Nk(this.body)?null:typeof this.body=="string"?Bk:this.body instanceof ri?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?Vk:null}clone(t={}){let n=t.method||this.method,r=t.url||this.url,o=t.responseType||this.responseType,i=t.keepalive??this.keepalive,s=t.priority||this.priority,a=t.cache||this.cache,c=t.mode||this.mode,u=t.redirect||this.redirect,l=t.credentials||this.credentials,f=t.referrer||this.referrer,h=t.integrity||this.integrity,p=t.referrerPolicy||this.referrerPolicy,y=t.transferCache??this.transferCache,S=t.timeout??this.timeout,I=t.body!==void 0?t.body:this.body,T=t.withCredentials??this.withCredentials,z=t.reportProgress??this.reportProgress,qe=t.headers||this.headers,le=t.params||this.params,Lt=t.context??this.context;return t.setHeaders!==void 0&&(qe=Object.keys(t.setHeaders).reduce((jt,Qn)=>jt.set(Qn,t.setHeaders[Qn]),qe)),t.setParams&&(le=Object.keys(t.setParams).reduce((jt,Qn)=>jt.set(Qn,t.setParams[Qn]),le)),new e(n,r,I,{params:le,headers:qe,context:Lt,reportProgress:z,responseType:o,withCredentials:T,transferCache:y,keepalive:i,cache:a,priority:s,timeout:S,mode:c,redirect:u,credentials:l,referrer:f,integrity:h,referrerPolicy:p})}},Ba=(function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e})(Ba||{}),qu=class{headers;status;statusText;url;ok;type;redirected;responseType;constructor(t,n=200,r="OK"){this.headers=t.headers||new bs,this.status=t.status!==void 0?t.status:n,this.statusText=t.statusText||r,this.url=t.url||null,this.redirected=t.redirected,this.responseType=t.responseType,this.ok=this.status>=200&&this.status<300}},Eg=class e extends qu{constructor(t={}){super(t)}type=Ba.ResponseHeader;clone(t={}){return new e({headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},ff=class e extends qu{body;constructor(t={}){super(t),this.body=t.body!==void 0?t.body:null}type=Ba.Response;clone(t={}){return new e({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0,redirected:t.redirected??this.redirected,responseType:t.responseType??this.responseType})}},$u=class extends qu{name="HttpErrorResponse";message;error;ok=!1;constructor(t){super(t,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${t.url||"(unknown url)"}`:this.message=`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}},p6=200,h6=204;var m6=new k("");var g6=/^\)\]\}',?\n/;var WC=(()=>{class e{xhrFactory;tracingService=b(Qo,{optional:!0});constructor(n){this.xhrFactory=n}maybePropagateTrace(n){return this.tracingService?.propagate?this.tracingService.propagate(n):n}handle(n){if(n.method==="JSONP")throw new j(-2800,!1);let r=this.xhrFactory;return Z(null).pipe(Ht(()=>new ie(i=>{let s=r.build();if(s.open(n.method,n.urlWithParams),n.withCredentials&&(s.withCredentials=!0),n.headers.forEach((I,T)=>s.setRequestHeader(I,T.join(","))),n.headers.has(jk)||s.setRequestHeader(jk,f6),!n.headers.has(Lk)){let I=n.detectContentTypeHeader();I!==null&&s.setRequestHeader(Lk,I)}if(n.timeout&&(s.timeout=n.timeout),n.responseType){let I=n.responseType.toLowerCase();s.responseType=I!=="json"?I:"text"}let a=n.serializeBody(),c=null,u=()=>{if(c!==null)return c;let I=s.statusText||"OK",T=new bs(s.getAllResponseHeaders()),z=s.responseURL||n.url;return c=new Eg({headers:T,status:s.status,statusText:I,url:z}),c},l=this.maybePropagateTrace(()=>{let{headers:I,status:T,statusText:z,url:qe}=u(),le=null;T!==h6&&(le=typeof s.response>"u"?s.responseText:s.response),T===0&&(T=le?p6:0);let Lt=T>=200&&T<300;if(n.responseType==="json"&&typeof le=="string"){let jt=le;le=le.replace(g6,"");try{le=le!==""?JSON.parse(le):null}catch(Qn){le=jt,Lt&&(Lt=!1,le={error:Qn,text:le})}}Lt?(i.next(new ff({body:le,headers:I,status:T,statusText:z,url:qe||void 0})),i.complete()):i.error(new $u({error:le,headers:I,status:T,statusText:z,url:qe||void 0}))}),f=this.maybePropagateTrace(I=>{let{url:T}=u(),z=new $u({error:I,status:s.status||0,statusText:s.statusText||"Unknown Error",url:T||void 0});i.error(z)}),h=f;n.timeout&&(h=this.maybePropagateTrace(I=>{let{url:T}=u(),z=new $u({error:new DOMException("Request timed out","TimeoutError"),status:s.status||0,statusText:s.statusText||"Request timeout",url:T||void 0});i.error(z)}));let p=!1,y=this.maybePropagateTrace(I=>{p||(i.next(u()),p=!0);let T={type:Ba.DownloadProgress,loaded:I.loaded};I.lengthComputable&&(T.total=I.total),n.responseType==="text"&&s.responseText&&(T.partialText=s.responseText),i.next(T)}),S=this.maybePropagateTrace(I=>{let T={type:Ba.UploadProgress,loaded:I.loaded};I.lengthComputable&&(T.total=I.total),i.next(T)});return s.addEventListener("load",l),s.addEventListener("error",f),s.addEventListener("timeout",h),s.addEventListener("abort",f),n.reportProgress&&(s.addEventListener("progress",y),a!==null&&s.upload&&s.upload.addEventListener("progress",S)),s.send(a),i.next({type:Ba.Sent}),()=>{s.removeEventListener("error",f),s.removeEventListener("abort",f),s.removeEventListener("load",l),s.removeEventListener("timeout",h),n.reportProgress&&(s.removeEventListener("progress",y),a!==null&&s.upload&&s.upload.removeEventListener("progress",S)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||e)(P(Ha))};static \u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Uk(e,t){return t(e)}function y6(e,t){return(n,r)=>t.intercept(n,{handle:o=>e(o,r)})}function v6(e,t,n){return(r,o)=>_t(n,()=>t(r,i=>e(i,o)))}var Cg=new k(""),GC=new k("",{factory:()=>[]}),$k=new k(""),KC=new k("",{factory:()=>!0});function x6(){let e=null;return(t,n)=>{e===null&&(e=(b(Cg,{optional:!0})??[]).reduceRight(y6,Uk));let r=b(Mu);if(b(KC)){let i=r.add();return e(t,n).pipe(Xi(i))}else return e(t,n)}}var YC=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=O({token:e,factory:function(r){let o=null;return r?o=new(r||e):o=P(WC),o},providedIn:"root"})}return e})();var _g=(()=>{class e{backend;injector;chain=null;pendingTasks=b(Mu);contributeToStability=b(KC);constructor(n,r){this.backend=n,this.injector=r}handle(n){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(GC),...this.injector.get($k,[])]));this.chain=r.reduceRight((o,i)=>v6(o,i,this.injector),Uk)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(n,o=>this.backend.handle(o)).pipe(Xi(r))}else return this.chain(n,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||e)(P(YC),P(ze))};static \u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),ZC=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=O({token:e,factory:function(r){let o=null;return r?o=new(r||e):o=P(_g),o},providedIn:"root"})}return e})();function zC(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,credentials:e.credentials,transferCache:e.transferCache,timeout:e.timeout,keepalive:e.keepalive,priority:e.priority,cache:e.cache,mode:e.mode,redirect:e.redirect,integrity:e.integrity,referrer:e.referrer,referrerPolicy:e.referrerPolicy}}var Sg=(()=>{class e{handler;constructor(n){this.handler=n}request(n,r,o={}){let i;if(n instanceof Uu)i=n;else{let c;o.headers instanceof bs?c=o.headers:c=new bs(o.headers);let u;o.params&&(o.params instanceof ri?u=o.params:u=new ri({fromObject:o.params})),i=new Uu(n,r,o.body!==void 0?o.body:null,{headers:c,context:o.context,params:u,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache,keepalive:o.keepalive,priority:o.priority,cache:o.cache,mode:o.mode,redirect:o.redirect,credentials:o.credentials,referrer:o.referrer,referrerPolicy:o.referrerPolicy,integrity:o.integrity,timeout:o.timeout})}let s=Z(i).pipe(Qi(c=>this.handler.handle(c)));if(n instanceof Uu||o.observe==="events")return s;let a=s.pipe(lt(c=>c instanceof ff));switch(o.observe||"body"){case"body":switch(i.responseType){case"arraybuffer":return a.pipe(Q(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new j(2806,!1);return c.body}));case"blob":return a.pipe(Q(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new j(2807,!1);return c.body}));case"text":return a.pipe(Q(c=>{if(c.body!==null&&typeof c.body!="string")throw new j(2808,!1);return c.body}));default:return a.pipe(Q(c=>c.body))}case"response":return a;default:throw new j(2809,!1)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:new ri().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,o={}){return this.request("PATCH",n,zC(o,r))}post(n,r,o={}){return this.request("POST",n,zC(o,r))}put(n,r,o={}){return this.request("PUT",n,zC(o,r))}static \u0275fac=function(r){return new(r||e)(P(ZC))};static \u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var b6=new k("",{factory:()=>!0}),E6="XSRF-TOKEN",_6=new k("",{factory:()=>E6}),C6="X-XSRF-TOKEN",S6=new k("",{factory:()=>C6}),D6=(()=>{class e{cookieName=b(_6);doc=b(Ue);lastCookieString="";lastToken=null;parseCount=0;getToken(){let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=af(n,this.cookieName),this.lastCookieString=n),this.lastToken}static \u0275fac=function(r){return new(r||e)};static \u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),qk=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=O({token:e,factory:function(r){let o=null;return r?o=new(r||e):o=P(D6),o},providedIn:"root"})}return e})();function I6(e,t){if(!b(b6)||e.method==="GET"||e.method==="HEAD")return t(e);try{let o=b(ni).href,{origin:i}=new URL(o),{origin:s}=new URL(e.url,i);if(i!==s)return t(e)}catch(o){return t(e)}let n=b(qk).getToken(),r=b(S6);return n!=null&&!e.headers.has(r)&&(e=e.clone({headers:e.headers.set(r,n)})),t(e)}var JC=(function(e){return e[e.Interceptors=0]="Interceptors",e[e.LegacyInterceptors=1]="LegacyInterceptors",e[e.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",e[e.NoXsrfProtection=3]="NoXsrfProtection",e[e.JsonpSupport=4]="JsonpSupport",e[e.RequestsMadeViaParent=5]="RequestsMadeViaParent",e[e.Fetch=6]="Fetch",e})(JC||{});function w6(e,t){return{\u0275kind:e,\u0275providers:t}}function QC(...e){let t=[Sg,_g,{provide:ZC,useExisting:_g},{provide:YC,useFactory:()=>b(m6,{optional:!0})??b(WC)},{provide:GC,useValue:I6,multi:!0}];for(let n of e)t.push(...n.\u0275providers);return is(t)}var Hk=new k("");function XC(){return w6(JC.LegacyInterceptors,[{provide:Hk,useFactory:x6},{provide:GC,useExisting:Hk,multi:!0}])}var zk=(()=>{class e{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||e)(P(Ue))};static \u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var ne="primary",_f=Symbol("RouteTitle"),oS=class{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function $a(e){return new oS(e)}function eS(e,t,n){for(let r=0;r<e.length;r++){let o=e[r],i=t[r];if(o[0]===":")n[o.substring(1)]=i;else if(o!==i.path)return!1}return!0}function nN(e,t,n){let r=n.path.split("/"),o=r.indexOf("**");if(o===-1){if(r.length>e.length||n.pathMatch==="full"&&(t.hasChildren()||r.length<e.length))return null;let c={},u=e.slice(0,r.length);return eS(r,u,c)?{consumed:u,posParams:c}:null}if(o!==r.lastIndexOf("**"))return null;let i=r.slice(0,o),s=r.slice(o+1);if(i.length+s.length>e.length||n.pathMatch==="full"&&t.hasChildren()&&n.path!=="**")return null;let a={};return!eS(i,e.slice(0,i.length),a)||!eS(s,e.slice(e.length-s.length),a)?null:{consumed:e,posParams:a}}function Og(e){return new Promise((t,n)=>{e.pipe(Uo()).subscribe({next:r=>t(r),error:r=>n(r)})})}function O6(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!po(e[n],t[n]))return!1;return!0}function po(e,t){let n=e?iS(e):void 0,r=t?iS(t):void 0;if(!n||!r||n.length!=r.length)return!1;let o;for(let i=0;i<n.length;i++)if(o=n[i],!rN(e[o],t[o]))return!1;return!0}function iS(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function rN(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;let n=[...e].sort(),r=[...t].sort();return n.every((o,i)=>r[i]===o)}else return e===t}function R6(e){return e.length>0?e[e.length-1]:null}function za(e){return qh(e)?e:gs(e)?Ve(Promise.resolve(e)):Z(e)}function oN(e){return qh(e)?Og(e):Promise.resolve(e)}var A6={exact:sN,subset:aN},iN={exact:k6,subset:N6,ignored:()=>!0};function Gk(e,t,n){return A6[n.paths](e.root,t.root,n.matrixParams)&&iN[n.queryParams](e.queryParams,t.queryParams)&&!(n.fragment==="exact"&&e.fragment!==t.fragment)}function k6(e,t){return po(e,t)}function sN(e,t,n){if(!Va(e.segments,t.segments)||!wg(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(let r in t.children)if(!e.children[r]||!sN(e.children[r],t.children[r],n))return!1;return!0}function N6(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>rN(e[n],t[n]))}function aN(e,t,n){return cN(e,t,t.segments,n)}function cN(e,t,n,r){if(e.segments.length>n.length){let o=e.segments.slice(0,n.length);return!(!Va(o,n)||t.hasChildren()||!wg(o,n,r))}else if(e.segments.length===n.length){if(!Va(e.segments,n)||!wg(e.segments,n,r))return!1;for(let o in t.children)if(!e.children[o]||!aN(e.children[o],t.children[o],r))return!1;return!0}else{let o=n.slice(0,e.segments.length),i=n.slice(e.segments.length);return!Va(e.segments,o)||!wg(e.segments,o,r)||!e.children[ne]?!1:cN(e.children[ne],t,i,r)}}function wg(e,t,n){return t.every((r,o)=>iN[n](e[o].parameters,r.parameters))}var Lr=class{root;queryParams;fragment;_queryParamMap;constructor(t=new we([],{}),n={},r=null){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=$a(this.queryParams),this._queryParamMap}toString(){return L6.serialize(this)}},we=class{segments;children;parent=null;constructor(t,n){this.segments=t,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Mg(this)}},Es=class{path;parameters;_parameterMap;constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap??=$a(this.parameters),this._parameterMap}toString(){return lN(this)}};function F6(e,t){return Va(e,t)&&e.every((n,r)=>po(n.parameters,t[r].parameters))}function Va(e,t){return e.length!==t.length?!1:e.every((n,r)=>n.path===t[r].path)}function P6(e,t){let n=[];return Object.entries(e.children).forEach(([r,o])=>{r===ne&&(n=n.concat(t(o,r)))}),Object.entries(e.children).forEach(([r,o])=>{r!==ne&&(n=n.concat(t(o,r)))}),n}var Wa=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=O({token:e,factory:()=>new ii,providedIn:"root"})}return e})(),ii=class{parse(t){let n=new aS(t);return new Lr(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){let n=`/${pf(t.root,!0)}`,r=B6(t.queryParams),o=typeof t.fragment=="string"?`#${j6(t.fragment)}`:"";return`${n}${r}${o}`}},L6=new ii;function Mg(e){return e.segments.map(t=>lN(t)).join("/")}function pf(e,t){if(!e.hasChildren())return Mg(e);if(t){let n=e.children[ne]?pf(e.children[ne],!1):"",r=[];return Object.entries(e.children).forEach(([o,i])=>{o!==ne&&r.push(`${o}:${pf(i,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=P6(e,(r,o)=>o===ne?[pf(e.children[ne],!1)]:[`${o}:${pf(r,!1)}`]);return Object.keys(e.children).length===1&&e.children[ne]!=null?`${Mg(e)}/${n[0]}`:`${Mg(e)}/(${n.join("//")})`}}function uN(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Dg(e){return uN(e).replace(/%3B/gi,";")}function j6(e){return encodeURI(e)}function sS(e){return uN(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Tg(e){return decodeURIComponent(e)}function Kk(e){return Tg(e.replace(/\+/g,"%20"))}function lN(e){return`${sS(e.path)}${H6(e.parameters)}`}function H6(e){return Object.entries(e).map(([t,n])=>`;${sS(t)}=${sS(n)}`).join("")}function B6(e){let t=Object.entries(e).map(([n,r])=>Array.isArray(r)?r.map(o=>`${Dg(n)}=${Dg(o)}`).join("&"):`${Dg(n)}=${Dg(r)}`).filter(n=>n);return t.length?`?${t.join("&")}`:""}var V6=/^[^\/()?;#]+/;function tS(e){let t=e.match(V6);return t?t[0]:""}var U6=/^[^\/()?;=#]+/;function $6(e){let t=e.match(U6);return t?t[0]:""}var q6=/^[^=?&#]+/;function z6(e){let t=e.match(q6);return t?t[0]:""}var W6=/^[^&#]+/;function G6(e){let t=e.match(W6);return t?t[0]:""}var aS=class{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new we([],{}):new we([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(t=0){if(t>50)throw new j(4010,!1);if(this.remaining==="")return{};this.consumeOptional("/");let n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let r={};this.peekStartsWith("/(")&&(this.capture("/"),r=this.parseParens(!0,t));let o={};return this.peekStartsWith("(")&&(o=this.parseParens(!1,t)),(n.length>0||Object.keys(r).length>0)&&(o[ne]=new we(n,r)),o}parseSegment(){let t=tS(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new j(4009,!1);return this.capture(t),new Es(Tg(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let n=$6(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=tS(this.remaining);o&&(r=o,this.capture(r))}t[Tg(n)]=Tg(r)}parseQueryParam(t){let n=z6(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=G6(this.remaining);s&&(r=s,this.capture(r))}let o=Kk(n),i=Kk(r);if(t.hasOwnProperty(o)){let s=t[o];Array.isArray(s)||(s=[s],t[o]=s),s.push(i)}else t[o]=i}parseParens(t,n){let r={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let o=tS(this.remaining),i=this.remaining[o.length];if(i!=="/"&&i!==")"&&i!==";")throw new j(4010,!1);let s;o.indexOf(":")>-1?(s=o.slice(0,o.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=ne);let a=this.parseChildren(n+1);r[s??ne]=Object.keys(a).length===1&&a[ne]?a[ne]:new we([],a),this.consumeOptional("//")}return r}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new j(4011,!1)}};function dN(e){return e.segments.length>0?new we([],{[ne]:e}):e}function fN(e){let t={};for(let[r,o]of Object.entries(e.children)){let i=fN(o);if(r===ne&&i.segments.length===0&&i.hasChildren())for(let[s,a]of Object.entries(i.children))t[s]=a;else(i.segments.length>0||i.hasChildren())&&(t[r]=i)}let n=new we(e.segments,t);return K6(n)}function K6(e){if(e.numberOfChildren===1&&e.children[ne]){let t=e.children[ne];return new we(e.segments.concat(t.segments),t.children)}return e}function Yu(e){return e instanceof Lr}function pN(e,t,n=null,r=null,o=new ii){let i=hN(e);return mN(i,t,n,r,o)}function hN(e){let t;function n(i){let s={};for(let c of i.children){let u=n(c);s[c.outlet]=u}let a=new we(i.url,s);return i===e&&(t=a),a}let r=n(e.root),o=dN(r);return t??o}function mN(e,t,n,r,o){let i=e;for(;i.parent;)i=i.parent;if(t.length===0)return nS(i,i,i,n,r,o);let s=Y6(t);if(s.toRoot())return nS(i,i,new we([],{}),n,r,o);let a=Z6(s,i,e),c=a.processChildren?mf(a.segmentGroup,a.index,s.commands):yN(a.segmentGroup,a.index,s.commands);return nS(i,a.segmentGroup,c,n,r,o)}function Rg(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function yf(e){return typeof e=="object"&&e!=null&&e.outlets}function Yk(e,t,n){e||="\u0275";let r=new Lr;return r.queryParams={[e]:t},n.parse(n.serialize(r)).queryParams[e]}function nS(e,t,n,r,o,i){let s={};for(let[u,l]of Object.entries(r??{}))s[u]=Array.isArray(l)?l.map(f=>Yk(u,f,i)):Yk(u,l,i);let a;e===t?a=n:a=gN(e,t,n);let c=dN(fN(a));return new Lr(c,s,o)}function gN(e,t,n){let r={};return Object.entries(e.children).forEach(([o,i])=>{i===t?r[o]=n:r[o]=gN(i,t,n)}),new we(e.segments,r)}var Ag=class{isAbsolute;numberOfDoubleDots;commands;constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&Rg(r[0]))throw new j(4003,!1);let o=r.find(yf);if(o&&o!==R6(r))throw new j(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Y6(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new Ag(!0,0,e);let t=0,n=!1,r=e.reduce((o,i,s)=>{if(typeof i=="object"&&i!=null){if(i.outlets){let a={};return Object.entries(i.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...o,{outlets:a}]}if(i.segmentPath)return[...o,i.segmentPath]}return typeof i!="string"?[...o,i]:s===0?(i.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?t++:a!=""&&o.push(a))}),o):[...o,i]},[]);return new Ag(n,t,r)}var Wu=class{segmentGroup;processChildren;index;constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}};function Z6(e,t,n){if(e.isAbsolute)return new Wu(t,!0,0);if(!n)return new Wu(t,!1,NaN);if(n.parent===null)return new Wu(n,!0,0);let r=Rg(e.commands[0])?0:1,o=n.segments.length-1+r;return J6(n,o,e.numberOfDoubleDots)}function J6(e,t,n){let r=e,o=t,i=n;for(;i>o;){if(i-=o,r=r.parent,!r)throw new j(4005,!1);o=r.segments.length}return new Wu(r,!1,o-i)}function Q6(e){return yf(e[0])?e[0].outlets:{[ne]:e}}function yN(e,t,n){if(e??=new we([],{}),e.segments.length===0&&e.hasChildren())return mf(e,t,n);let r=X6(e,t,n),o=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){let i=new we(e.segments.slice(0,r.pathIndex),{});return i.children[ne]=new we(e.segments.slice(r.pathIndex),e.children),mf(i,0,o)}else return r.match&&o.length===0?new we(e.segments,{}):r.match&&!e.hasChildren()?cS(e,t,n):r.match?mf(e,0,o):cS(e,t,n)}function mf(e,t,n){if(n.length===0)return new we(e.segments,{});{let r=Q6(n),o={};if(Object.keys(r).some(i=>i!==ne)&&e.children[ne]&&e.numberOfChildren===1&&e.children[ne].segments.length===0){let i=mf(e.children[ne],t,n);return new we(e.segments,i.children)}return Object.entries(r).forEach(([i,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(o[i]=yN(e.children[i],t,s))}),Object.entries(e.children).forEach(([i,s])=>{r[i]===void 0&&(o[i]=s)}),new we(e.segments,o)}}function X6(e,t,n){let r=0,o=t,i={match:!1,pathIndex:0,commandIndex:0};for(;o<e.segments.length;){if(r>=n.length)return i;let s=e.segments[o],a=n[r];if(yf(a))break;let c=`${a}`,u=r<n.length-1?n[r+1]:null;if(o>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!Jk(c,u,s))return i;r+=2}else{if(!Jk(c,{},s))return i;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}function cS(e,t,n){let r=e.segments.slice(0,t),o=0;for(;o<n.length;){let i=n[o];if(yf(i)){let c=e9(i.outlets);return new we(r,c)}if(o===0&&Rg(n[0])){let c=e.segments[t];r.push(new Es(c.path,Zk(n[0]))),o++;continue}let s=yf(i)?i.outlets[ne]:`${i}`,a=o<n.length-1?n[o+1]:null;s&&a&&Rg(a)?(r.push(new Es(s,Zk(a))),o+=2):(r.push(new Es(s,{})),o++)}return new we(r,{})}function e9(e){let t={};return Object.entries(e).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(t[n]=cS(new we([],{}),0,r))}),t}function Zk(e){let t={};return Object.entries(e).forEach(([n,r])=>t[n]=`${r}`),t}function Jk(e,t,n){return e==n.path&&po(t,n.parameters)}var Gu="imperative",St=(function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e})(St||{}),Hn=class{id;url;constructor(t,n){this.id=t,this.url=n}},_s=class extends Hn{type=St.NavigationStart;navigationTrigger;restoredState;constructor(t,n,r="imperative",o=null){super(t,n),this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},jr=class extends Hn{urlAfterRedirects;type=St.NavigationEnd;constructor(t,n,r){super(t,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Zt=(function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e[e.Aborted=4]="Aborted",e})(Zt||{}),Zu=(function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e})(Zu||{}),ir=class extends Hn{reason;code;type=St.NavigationCancel;constructor(t,n,r,o){super(t,n),this.reason=r,this.code=o}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}};function vN(e){return e instanceof ir&&(e.code===Zt.Redirect||e.code===Zt.SupersededByNewNavigation)}var ho=class extends Hn{reason;code;type=St.NavigationSkipped;constructor(t,n,r,o){super(t,n),this.reason=r,this.code=o}},qa=class extends Hn{error;target;type=St.NavigationError;constructor(t,n,r,o){super(t,n),this.error=r,this.target=o}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Ju=class extends Hn{urlAfterRedirects;state;type=St.RoutesRecognized;constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},kg=class extends Hn{urlAfterRedirects;state;type=St.GuardsCheckStart;constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ng=class extends Hn{urlAfterRedirects;state;shouldActivate;type=St.GuardsCheckEnd;constructor(t,n,r,o,i){super(t,n),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Fg=class extends Hn{urlAfterRedirects;state;type=St.ResolveStart;constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Pg=class extends Hn{urlAfterRedirects;state;type=St.ResolveEnd;constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Lg=class{route;type=St.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},jg=class{route;type=St.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Hg=class{snapshot;type=St.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Bg=class{snapshot;type=St.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Vg=class{snapshot;type=St.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ug=class{snapshot;type=St.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Qu=class{routerEvent;position;anchor;scrollBehavior;type=St.Scroll;constructor(t,n,r,o){this.routerEvent=t,this.position=n,this.anchor=r,this.scrollBehavior=o}toString(){let t=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${t}')`}},Xu=class{},el=class{url;navigationBehaviorOptions;constructor(t,n){this.url=t,this.navigationBehaviorOptions=n}};function t9(e){return!(e instanceof Xu)&&!(e instanceof el)}var $g=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return this.route?.snapshot._environmentInjector??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new Ga(this.rootInjector)}},Ga=(()=>{class e{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let o=this.getOrCreateContext(n);o.outlet=r,this.contexts.set(n,o)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new $g(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||e)(P(ze))};static \u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),qg=class{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){let n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){let n=uS(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){let n=uS(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){let n=lS(t,this._root);return n.length<2?[]:n[n.length-2].children.map(o=>o.value).filter(o=>o!==t)}pathFromRoot(t){return lS(t,this._root).map(n=>n.value)}};function uS(e,t){if(e===t.value)return t;for(let n of t.children){let r=uS(e,n);if(r)return r}return null}function lS(e,t){if(e===t.value)return[t];for(let n of t.children){let r=lS(e,n);if(r.length)return r.unshift(t),r}return[]}var jn=class{value;children;constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}};function zu(e){let t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}var vf=class extends qg{snapshot;constructor(t,n){super(t),this.snapshot=n,vS(this,t)}toString(){return this.snapshot.toString()}};function xN(e,t){let n=n9(e,t),r=new ut([new Es("",{})]),o=new ut({}),i=new ut({}),s=new ut({}),a=new ut(""),c=new si(r,o,s,a,i,ne,e,n.root);return c.snapshot=n.root,new vf(new jn(c,[]),n)}function n9(e,t){let n={},r={},o={},s=new Ua([],n,o,"",r,ne,e,null,{},t);return new xf("",new jn(s,[]))}var si=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,n,r,o,i,s,a,c){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=o,this.dataSubject=i,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(Q(u=>u[_f]))??Z(void 0),this.url=t,this.params=n,this.queryParams=r,this.fragment=o,this.data=i}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Q(t=>$a(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Q(t=>$a(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function zg(e,t,n="emptyOnly"){let r,{routeConfig:o}=e;return t!==null&&(n==="always"||o?.path===""||!t.component&&!t.routeConfig?.loadComponent)?r={params:x(x({},t.params),e.params),data:x(x({},t.data),e.data),resolve:x(x(x(x({},e.data),t.data),o?.data),e._resolvedData)}:r={params:x({},e.params),data:x({},e.data),resolve:x(x({},e.data),e._resolvedData??{})},o&&EN(o)&&(r.resolve[_f]=o.title),r}var Ua=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;_environmentInjector;get title(){return this.data?.[_f]}constructor(t,n,r,o,i,s,a,c,u,l){this.url=t,this.params=n,this.queryParams=r,this.fragment=o,this.data=i,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=u,this._environmentInjector=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=$a(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=$a(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${n}')`}},xf=class extends qg{url;constructor(t,n){super(n),this.url=t,vS(this,n)}toString(){return bN(this._root)}};function vS(e,t){t.value._routerState=e,t.children.forEach(n=>vS(e,n))}function bN(e){let t=e.children.length>0?` { ${e.children.map(bN).join(", ")} } `:"";return`${e.value}${t}`}function rS(e){if(e.snapshot){let t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,po(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),po(t.params,n.params)||e.paramsSubject.next(n.params),O6(t.url,n.url)||e.urlSubject.next(n.url),po(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function dS(e,t){let n=po(e.params,t.params)&&F6(e.url,t.url),r=!e.parent!=!t.parent;return n&&!r&&(!e.parent||dS(e.parent,t.parent))}function EN(e){return typeof e.title=="string"||e.title===null}var _N=new k(""),Cf=(()=>{class e{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=ne;activateEvents=new Ot;deactivateEvents=new Ot;attachEvents=new Ot;detachEvents=new Ot;routerOutletData=ys();parentContexts=b(Ga);location=b(Lu);changeDetector=b(vs);inputBinder=b(Sf,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:o}=n.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new j(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new j(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new j(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new j(4013,!1);this._activatedRoute=n;let o=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new fS(n,a,o.injector,this.routerOutletData);this.activated=o.createComponent(s,{index:o.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||e)};static \u0275dir=on({type:e,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[ku]})}return e})(),fS=class{route;childContexts;parent;outletData;constructor(t,n,r,o){this.route=t,this.childContexts=n,this.parent=r,this.outletData=o}get(t,n){return t===si?this.route:t===Ga?this.childContexts:t===_N?this.outletData:this.parent.get(t,n)}},Sf=new k(""),xS=(()=>{class e{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:r}=n,o=Yi([r.queryParams,r.params,r.data]).pipe(Ht(([i,s,a],c)=>(a=x(x(x({},i),s),a),c===0?Z(a):Promise.resolve(a)))).subscribe(i=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(n);return}let s=vk(r.component);if(!s){this.unsubscribeFromRouteData(n);return}for(let{templateName:a}of s.inputs)n.activatedComponentRef.setInput(a,i[a])});this.outletDataSubscriptions.set(n,o)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=O({token:e,factory:e.\u0275fac})}return e})(),bS=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275cmp=gn({type:e,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,o){r&1&&yt(0,"router-outlet")},dependencies:[Cf],encapsulation:2})}return e})();function ES(e){let t=e.children&&e.children.map(ES),n=t?N(x({},e),{children:t}):x({},e);return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==ne&&(n.component=bS),n}function r9(e,t,n){let r=bf(e,t._root,n?n._root:void 0);return new vf(r,t)}function bf(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=t.value;let o=o9(e,t,n);return new jn(r,o)}else{if(e.shouldAttach(t.value)){let i=e.retrieve(t.value);if(i!==null){let s=i.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>bf(e,a)),s}}let r=i9(t.value),o=t.children.map(i=>bf(e,i));return new jn(r,o)}}function o9(e,t,n){return t.children.map(r=>{for(let o of n.children)if(e.shouldReuseRoute(r.value,o.value.snapshot))return bf(e,r,o);return bf(e,r)})}function i9(e){return new si(new ut(e.url),new ut(e.params),new ut(e.queryParams),new ut(e.fragment),new ut(e.data),e.outlet,e.component,e)}var tl=class{redirectTo;navigationBehaviorOptions;constructor(t,n){this.redirectTo=t,this.navigationBehaviorOptions=n}},CN="ngNavigationCancelingError";function Wg(e,t){let{redirectTo:n,navigationBehaviorOptions:r}=Yu(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,o=SN(!1,Zt.Redirect);return o.url=n,o.navigationBehaviorOptions=r,o}function SN(e,t){let n=new Error(`NavigationCancelingError: ${e||""}`);return n[CN]=!0,n.cancellationCode=t,n}function s9(e){return DN(e)&&Yu(e.url)}function DN(e){return!!e&&e[CN]}var pS=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,n,r,o,i){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=o,this.inputBindingEnabled=i}activate(t){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),rS(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){let o=zu(n);t.children.forEach(i=>{let s=i.value.outlet;this.deactivateRoutes(i,o[s],r),delete o[s]}),Object.values(o).forEach(i=>{this.deactivateRouteAndItsChildren(i,r)})}deactivateRoutes(t,n,r){let o=t.value,i=n?n.value:null;if(o===i)if(o.component){let s=r.getContext(o.outlet);s&&this.deactivateChildRoutes(t,n,s.children)}else this.deactivateChildRoutes(t,n,r);else i&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){let r=n.getContext(t.value.outlet),o=r&&t.value.component?r.children:n,i=zu(t);for(let s of Object.values(i))this.deactivateRouteAndItsChildren(s,o);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,n){let r=n.getContext(t.value.outlet),o=r&&t.value.component?r.children:n,i=zu(t);for(let s of Object.values(i))this.deactivateRouteAndItsChildren(s,o);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,n,r){let o=zu(n);t.children.forEach(i=>{this.activateRoutes(i,o[i.value.outlet],r),this.forwardEvent(new Ug(i.value.snapshot))}),t.children.length&&this.forwardEvent(new Bg(t.value.snapshot))}activateRoutes(t,n,r){let o=t.value,i=n?n.value:null;if(rS(o),o===i)if(o.component){let s=r.getOrCreateContext(o.outlet);this.activateChildRoutes(t,n,s.children)}else this.activateChildRoutes(t,n,r);else if(o.component){let s=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){let a=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),rS(a.route.value),this.activateChildRoutes(t,null,s.children)}else s.attachRef=null,s.route=o,s.outlet&&s.outlet.activateWith(o,s.injector),this.activateChildRoutes(t,null,s.children)}else this.activateChildRoutes(t,null,r)}},Gg=class{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},Ku=class{component;route;constructor(t,n){this.component=t,this.route=n}};function a9(e,t,n){let r=e._root,o=t?t._root:null;return hf(r,o,n,[r.value])}function c9(e){let t=e.routeConfig?e.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:e,guards:t}}function rl(e,t){let n=Symbol(),r=t.get(e,n);return r===n?typeof e=="function"&&!_E(e)?e:t.get(e):r}function hf(e,t,n,r,o={canDeactivateChecks:[],canActivateChecks:[]}){let i=zu(t);return e.children.forEach(s=>{u9(s,i[s.value.outlet],n,r.concat([s.value]),o),delete i[s.value.outlet]}),Object.entries(i).forEach(([s,a])=>gf(a,n.getContext(s),o)),o}function u9(e,t,n,r,o={canDeactivateChecks:[],canActivateChecks:[]}){let i=e.value,s=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(s&&i.routeConfig===s.routeConfig){let c=l9(s,i,i.routeConfig.runGuardsAndResolvers);c?o.canActivateChecks.push(new Gg(r)):(i.data=s.data,i._resolvedData=s._resolvedData),i.component?hf(e,t,a?a.children:null,r,o):hf(e,t,n,r,o),c&&a&&a.outlet&&a.outlet.isActivated&&o.canDeactivateChecks.push(new Ku(a.outlet.component,s))}else s&&gf(t,a,o),o.canActivateChecks.push(new Gg(r)),i.component?hf(e,null,a?a.children:null,r,o):hf(e,null,n,r,o);return o}function l9(e,t,n){if(typeof n=="function")return _t(t._environmentInjector,()=>n(e,t));switch(n){case"pathParamsChange":return!Va(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Va(e.url,t.url)||!po(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!dS(e,t)||!po(e.queryParams,t.queryParams);default:return!dS(e,t)}}function gf(e,t,n){let r=zu(e),o=e.value;Object.entries(r).forEach(([i,s])=>{o.component?t?gf(s,t.children.getContext(i),n):gf(s,null,n):gf(s,t,n)}),o.component?t&&t.outlet&&t.outlet.isActivated?n.canDeactivateChecks.push(new Ku(t.outlet.component,o)):n.canDeactivateChecks.push(new Ku(null,o)):n.canDeactivateChecks.push(new Ku(null,o))}function Df(e){return typeof e=="function"}function d9(e){return typeof e=="boolean"}function f9(e){return e&&Df(e.canLoad)}function p9(e){return e&&Df(e.canActivate)}function h9(e){return e&&Df(e.canActivateChild)}function m9(e){return e&&Df(e.canDeactivate)}function g9(e){return e&&Df(e.canMatch)}function IN(e){return e instanceof Vo||e?.name==="EmptyError"}var Ig=Symbol("INITIAL_VALUE");function nl(){return Ht(e=>Yi(e.map(t=>t.pipe(An(1),es(Ig)))).pipe(Q(t=>{for(let n of t)if(n!==!0){if(n===Ig)return Ig;if(n===!1||y9(n))return n}return!0}),lt(t=>t!==Ig),An(1)))}function y9(e){return Yu(e)||e instanceof tl}function wN(e){return e.aborted?Z(void 0).pipe(An(1)):new ie(t=>{let n=()=>{t.next(),t.complete()};return e.addEventListener("abort",n),()=>e.removeEventListener("abort",n)})}function MN(e){return kn(wN(e))}function v9(e){return Et(t=>{let{targetSnapshot:n,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:i}}=t;return i.length===0&&o.length===0?Z(N(x({},t),{guardsResult:!0})):x9(i,n,r).pipe(Et(s=>s&&d9(s)?b9(n,o,e):Z(s)),Q(s=>N(x({},t),{guardsResult:s})))})}function x9(e,t,n){return Ve(e).pipe(Et(r=>D9(r.component,r.route,n,t)),Uo(r=>r!==!0,!0))}function b9(e,t,n){return Ve(t).pipe(Qi(r=>Ji(_9(r.route.parent,n),E9(r.route,n),S9(e,r.path),C9(e,r.route))),Uo(r=>r!==!0,!0))}function E9(e,t){return e!==null&&t&&t(new Vg(e)),Z(!0)}function _9(e,t){return e!==null&&t&&t(new Hg(e)),Z(!0)}function C9(e,t){let n=t.routeConfig?t.routeConfig.canActivate:null;if(!n||n.length===0)return Z(!0);let r=n.map(o=>Sd(()=>{let i=t._environmentInjector,s=rl(o,i),a=p9(s)?s.canActivate(t,e):_t(i,()=>s(t,e));return za(a).pipe(Uo())}));return Z(r).pipe(nl())}function S9(e,t){let n=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(i=>c9(i)).filter(i=>i!==null).map(i=>Sd(()=>{let s=i.guards.map(a=>{let c=i.node._environmentInjector,u=rl(a,c),l=h9(u)?u.canActivateChild(n,e):_t(c,()=>u(n,e));return za(l).pipe(Uo())});return Z(s).pipe(nl())}));return Z(o).pipe(nl())}function D9(e,t,n,r){let o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||o.length===0)return Z(!0);let i=o.map(s=>{let a=t._environmentInjector,c=rl(s,a),u=m9(c)?c.canDeactivate(e,t,n,r):_t(a,()=>c(e,t,n,r));return za(u).pipe(Uo())});return Z(i).pipe(nl())}function I9(e,t,n,r,o){let i=t.canLoad;if(i===void 0||i.length===0)return Z(!0);let s=i.map(a=>{let c=rl(a,e),u=f9(c)?c.canLoad(t,n):_t(e,()=>c(t,n)),l=za(u);return o?l.pipe(MN(o)):l});return Z(s).pipe(nl(),TN(r))}function TN(e){return Gb(Xn(t=>{if(typeof t!="boolean")throw Wg(e,t)}),Q(t=>t===!0))}function w9(e,t,n,r,o){let i=t.canMatch;if(!i||i.length===0)return Z(!0);let s=i.map(a=>{let c=rl(a,e),u=g9(c)?c.canMatch(t,n):_t(e,()=>c(t,n));return za(u).pipe(MN(o))});return Z(s).pipe(nl(),TN(r))}var oi=class e extends Error{segmentGroup;constructor(t){super(),this.segmentGroup=t||null,Object.setPrototypeOf(this,e.prototype)}},Ef=class e extends Error{urlTree;constructor(t){super(),this.urlTree=t,Object.setPrototypeOf(this,e.prototype)}};function M9(e){throw new j(4e3,!1)}function T9(e){throw SN(!1,Zt.GuardRejected)}var hS=class{urlSerializer;urlTree;constructor(t,n){this.urlSerializer=t,this.urlTree=n}lineralizeSegments(t,n){return ve(this,null,function*(){let r=[],o=n.root;for(;;){if(r=r.concat(o.segments),o.numberOfChildren===0)return r;if(o.numberOfChildren>1||!o.children[ne])throw M9(`${t.redirectTo}`);o=o.children[ne]}})}applyRedirectCommands(t,n,r,o,i){return ve(this,null,function*(){let s=yield O9(n,o,i);if(s instanceof Lr)throw new Ef(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),t,r);if(s[0]==="/")throw new Ef(a);return a})}applyRedirectCreateUrlTree(t,n,r,o){let i=this.createSegmentGroup(t,n.root,r,o);return new Lr(i,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){let r={};return Object.entries(t).forEach(([o,i])=>{if(typeof i=="string"&&i[0]===":"){let a=i.substring(1);r[o]=n[a]}else r[o]=i}),r}createSegmentGroup(t,n,r,o){let i=this.createSegments(t,n.segments,r,o),s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(t,c,r,o)}),new we(i,s)}createSegments(t,n,r,o){return n.map(i=>i.path[0]===":"?this.findPosParam(t,i,o):this.findOrReturn(i,r))}findPosParam(t,n,r){let o=r[n.path.substring(1)];if(!o)throw new j(4001,!1);return o}findOrReturn(t,n){let r=0;for(let o of n){if(o.path===t.path)return n.splice(r),o;r++}return t}};function O9(e,t,n){if(typeof e=="string")return Promise.resolve(e);let r=e,{queryParams:o,fragment:i,routeConfig:s,url:a,outlet:c,params:u,data:l,title:f,paramMap:h,queryParamMap:p}=t;return Og(za(_t(n,()=>r({params:u,data:l,queryParams:o,fragment:i,routeConfig:s,url:a,outlet:c,title:f,paramMap:h,queryParamMap:p}))))}function R9(e,t){return e.providers&&!e._injector&&(e._injector=ju(e.providers,t,`Route: ${e.path}`)),e._injector??t}function Pr(e){return e.outlet||ne}function A9(e,t){let n=e.filter(r=>Pr(r)===t);return n.push(...e.filter(r=>Pr(r)!==t)),n}var mS={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function k9(e,t,n,r,o,i){let s=ON(e,t,n);return s.matched?(r=R9(t,r),w9(r,t,n,o,i).pipe(Q(a=>a===!0?s:x({},mS)))):Z(s)}function ON(e,t,n){if(t.path==="")return t.pathMatch==="full"&&(e.hasChildren()||n.length>0)?x({},mS):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let o=(t.matcher||nN)(n,e,t);if(!o)return x({},mS);let i={};Object.entries(o.posParams??{}).forEach(([a,c])=>{i[a]=c.path});let s=o.consumed.length>0?x(x({},i),o.consumed[o.consumed.length-1].parameters):i;return{matched:!0,consumedSegments:o.consumed,remainingSegments:n.slice(o.consumed.length),parameters:s,positionalParamSegments:o.posParams??{}}}function Qk(e,t,n,r){return n.length>0&&P9(e,n,r)?{segmentGroup:new we(t,F9(r,new we(n,e.children))),slicedSegments:[]}:n.length===0&&L9(e,n,r)?{segmentGroup:new we(e.segments,N9(e,n,r,e.children)),slicedSegments:n}:{segmentGroup:new we(e.segments,e.children),slicedSegments:n}}function N9(e,t,n,r){let o={};for(let i of n)if(Yg(e,t,i)&&!r[Pr(i)]){let s=new we([],{});o[Pr(i)]=s}return x(x({},r),o)}function F9(e,t){let n={};n[ne]=t;for(let r of e)if(r.path===""&&Pr(r)!==ne){let o=new we([],{});n[Pr(r)]=o}return n}function P9(e,t,n){return n.some(r=>Yg(e,t,r)&&Pr(r)!==ne)}function L9(e,t,n){return n.some(r=>Yg(e,t,r))}function Yg(e,t,n){return(e.hasChildren()||t.length>0)&&n.pathMatch==="full"?!1:n.path===""}function j9(e,t,n){return t.length===0&&!e.children[n]}var gS=class{};function H9(e,t,n,r,o,i,s="emptyOnly",a){return ve(this,null,function*(){return new yS(e,t,n,r,o,s,i,a).recognize()})}var B9=31,yS=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;abortSignal;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,n,r,o,i,s,a,c){this.injector=t,this.configLoader=n,this.rootComponentType=r,this.config=o,this.urlTree=i,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.abortSignal=c,this.applyRedirects=new hS(this.urlSerializer,this.urlTree)}noMatchError(t){return new j(4002,`'${t.segmentGroup}'`)}recognize(){return ve(this,null,function*(){let t=Qk(this.urlTree.root,[],[],this.config).segmentGroup,{children:n,rootSnapshot:r}=yield this.match(t),o=new jn(r,n),i=new xf("",o),s=pN(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,i.url=this.urlSerializer.serialize(s),{state:i,tree:s}})}match(t){return ve(this,null,function*(){let n=new Ua([],Object.freeze({}),Object.freeze(x({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ne,this.rootComponentType,null,{},this.injector);try{return{children:yield this.processSegmentGroup(this.injector,this.config,t,ne,n),rootSnapshot:n}}catch(r){if(r instanceof Ef)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof oi?this.noMatchError(r):r}})}processSegmentGroup(t,n,r,o,i){return ve(this,null,function*(){if(r.segments.length===0&&r.hasChildren())return this.processChildren(t,n,r,i);let s=yield this.processSegment(t,n,r,r.segments,o,!0,i);return s instanceof jn?[s]:[]})}processChildren(t,n,r,o){return ve(this,null,function*(){let i=[];for(let c of Object.keys(r.children))c==="primary"?i.unshift(c):i.push(c);let s=[];for(let c of i){let u=r.children[c],l=A9(n,c),f=yield this.processSegmentGroup(t,l,u,c,o);s.push(...f)}let a=RN(s);return V9(a),a})}processSegment(t,n,r,o,i,s,a){return ve(this,null,function*(){for(let c of n)try{return yield this.processSegmentAgainstRoute(c._injector??t,n,c,r,o,i,s,a)}catch(u){if(u instanceof oi||IN(u))continue;throw u}if(j9(r,o,i))return new gS;throw new oi(r)})}processSegmentAgainstRoute(t,n,r,o,i,s,a,c){return ve(this,null,function*(){if(Pr(r)!==s&&(s===ne||!Yg(o,i,r)))throw new oi(o);if(r.redirectTo===void 0)return this.matchSegmentAgainstRoute(t,o,r,i,s,c);if(this.allowRedirects&&a)return this.expandSegmentAgainstRouteUsingRedirect(t,o,n,r,i,s,c);throw new oi(o)})}expandSegmentAgainstRouteUsingRedirect(t,n,r,o,i,s,a){return ve(this,null,function*(){let{matched:c,parameters:u,consumedSegments:l,positionalParamSegments:f,remainingSegments:h}=ON(n,o,i);if(!c)throw new oi(n);typeof o.redirectTo=="string"&&o.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>B9&&(this.allowRedirects=!1));let p=new Ua(i,u,Object.freeze(x({},this.urlTree.queryParams)),this.urlTree.fragment,Xk(o),Pr(o),o.component??o._loadedComponent??null,o,eN(o),t),y=zg(p,a,this.paramsInheritanceStrategy);if(p.params=Object.freeze(y.params),p.data=Object.freeze(y.data),this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let S=yield this.applyRedirects.applyRedirectCommands(l,o.redirectTo,f,p,t),I=yield this.applyRedirects.lineralizeSegments(o,S);return this.processSegment(t,r,n,I.concat(h),s,!1,a)})}matchSegmentAgainstRoute(t,n,r,o,i,s){return ve(this,null,function*(){if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let a=yield Og(k9(n,r,o,t,this.urlSerializer,this.abortSignal));if(r.path==="**"&&(n.children={}),!a?.matched)throw new oi(n);t=r._injector??t;let{routes:c}=yield this.getChildConfig(t,r,o),u=r._loadedInjector??t,{parameters:l,consumedSegments:f,remainingSegments:h}=a,p=new Ua(f,l,Object.freeze(x({},this.urlTree.queryParams)),this.urlTree.fragment,Xk(r),Pr(r),r.component??r._loadedComponent??null,r,eN(r),t),y=zg(p,s,this.paramsInheritanceStrategy);p.params=Object.freeze(y.params),p.data=Object.freeze(y.data);let{segmentGroup:S,slicedSegments:I}=Qk(n,f,h,c);if(I.length===0&&S.hasChildren()){let qe=yield this.processChildren(u,c,S,p);return new jn(p,qe)}if(c.length===0&&I.length===0)return new jn(p,[]);let T=Pr(r)===i,z=yield this.processSegment(u,c,S,I,T?ne:i,!0,p);return new jn(p,z instanceof jn?[z]:[])})}getChildConfig(t,n,r){return ve(this,null,function*(){if(n.children)return{routes:n.children,injector:t};if(n.loadChildren){if(n._loadedRoutes!==void 0){let i=n._loadedNgModuleFactory;return i&&!n._loadedInjector&&(n._loadedInjector=i.create(t).injector),{routes:n._loadedRoutes,injector:n._loadedInjector}}if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);if(yield Og(I9(t,n,r,this.urlSerializer,this.abortSignal))){let i=yield this.configLoader.loadChildren(t,n);return n._loadedRoutes=i.routes,n._loadedInjector=i.injector,n._loadedNgModuleFactory=i.factory,i}throw T9(n)}return{routes:[],injector:t}})}};function V9(e){e.sort((t,n)=>t.value.outlet===ne?-1:n.value.outlet===ne?1:t.value.outlet.localeCompare(n.value.outlet))}function U9(e){let t=e.value.routeConfig;return t&&t.path===""}function RN(e){let t=[],n=new Set;for(let r of e){if(!U9(r)){t.push(r);continue}let o=t.find(i=>r.value.routeConfig===i.value.routeConfig);o!==void 0?(o.children.push(...r.children),n.add(o)):t.push(r)}for(let r of n){let o=RN(r.children);t.push(new jn(r.value,o))}return t.filter(r=>!n.has(r))}function Xk(e){return e.data||{}}function eN(e){return e.resolve||{}}function $9(e,t,n,r,o,i,s){return Et(a=>ve(null,null,function*(){let{state:c,tree:u}=yield H9(e,t,n,r,a.extractedUrl,o,i,s);return N(x({},a),{targetSnapshot:c,urlAfterRedirects:u})}))}function q9(e){return Et(t=>{let{targetSnapshot:n,guards:{canActivateChecks:r}}=t;if(!r.length)return Z(t);let o=new Set(r.map(a=>a.route)),i=new Set;for(let a of o)if(!i.has(a))for(let c of AN(a))i.add(c);let s=0;return Ve(i).pipe(Qi(a=>o.has(a)?z9(a,n,e):(a.data=zg(a,a.parent,e).resolve,Z(void 0))),Xn(()=>s++),Wh(1),Et(a=>s===i.size?Z(t):bt))})}function AN(e){let t=e.children.map(n=>AN(n)).flat();return[e,...t]}function z9(e,t,n){let r=e.routeConfig,o=e._resolve;return r?.title!==void 0&&!EN(r)&&(o[_f]=r.title),Sd(()=>(e.data=zg(e,e.parent,n).resolve,W9(o,e,t).pipe(Q(i=>(e._resolvedData=i,e.data=x(x({},e.data),i),null)))))}function W9(e,t,n){let r=iS(e);if(r.length===0)return Z({});let o={};return Ve(r).pipe(Et(i=>G9(e[i],t,n).pipe(Uo(),Xn(s=>{if(s instanceof tl)throw Wg(new ii,s);o[i]=s}))),Wh(1),Q(()=>o),gu(i=>IN(i)?bt:Qb(i)))}function G9(e,t,n){let r=t._environmentInjector,o=rl(e,r),i=o.resolve?o.resolve(t,n):_t(r,()=>o(t,n));return za(i)}function tN(e){return Ht(t=>{let n=e(t);return n?Ve(n).pipe(Q(()=>t)):Z(t)})}var _S=(()=>{class e{buildTitle(n){let r,o=n.root;for(;o!==void 0;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(i=>i.outlet===ne);return r}getResolvedTitleForRoute(n){return n.data[_f]}static \u0275fac=function(r){return new(r||e)};static \u0275prov=O({token:e,factory:()=>b(kN),providedIn:"root"})}return e})(),kN=(()=>{class e extends _S{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||e)(P(zk))};static \u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Ka=new k("",{factory:()=>({})}),Ya=new k(""),Zg=(()=>{class e{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=b(DC);loadComponent(n,r){return ve(this,null,function*(){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return Promise.resolve(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let o=ve(this,null,function*(){try{let i=yield oN(_t(n,()=>r.loadComponent())),s=yield PN(FN(i));return this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s,s}finally{this.componentLoaders.delete(r)}});return this.componentLoaders.set(r,o),o})}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Promise.resolve({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=ve(this,null,function*(){try{let i=yield NN(r,this.compiler,n,this.onLoadEndListener);return r._loadedRoutes=i.routes,r._loadedInjector=i.injector,r._loadedNgModuleFactory=i.factory,i}finally{this.childrenLoaders.delete(r)}});return this.childrenLoaders.set(r,o),o}static \u0275fac=function(r){return new(r||e)};static \u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function NN(e,t,n,r){return ve(this,null,function*(){let o=yield oN(_t(n,()=>e.loadChildren())),i=yield PN(FN(o)),s;i instanceof Gm||Array.isArray(i)?s=i:s=yield t.compileModuleAsync(i),r&&r(e);let a,c,u=!1,l;return Array.isArray(s)?(c=s,u=!0):(a=s.create(n).injector,l=s,c=a.get(Ya,[],{optional:!0,self:!0}).flat()),{routes:c.map(ES),injector:a,factory:l}})}function K9(e){return e&&typeof e=="object"&&"default"in e}function FN(e){return K9(e)?e.default:e}function PN(e){return ve(this,null,function*(){return e})}var Jg=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=O({token:e,factory:()=>b(Y9),providedIn:"root"})}return e})(),Y9=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||e)};static \u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),CS=new k(""),SS=new k("");function LN(e,t,n){let r=e.get(SS),o=e.get(Ue);if(!o.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(u=>setTimeout(u));let i,s=new Promise(u=>{i=u}),a=o.startViewTransition(()=>(i(),Z9(e)));a.updateCallbackDone.catch(u=>{}),a.ready.catch(u=>{}),a.finished.catch(u=>{});let{onViewTransitionCreated:c}=r;return c&&_t(e,()=>c({transition:a,from:t,to:n})),s}function Z9(e){return new Promise(t=>{Fu({read:()=>setTimeout(t)},{injector:e})})}var J9=()=>{},DS=new k(""),Qg=(()=>{class e{currentNavigation=ds(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=ds(null);events=new _e;transitionAbortWithErrorSubject=new _e;configLoader=b(Zg);environmentInjector=b(ze);destroyRef=b(nn);urlSerializer=b(Wa);rootContexts=b(Ga);location=b(xs);inputBindingEnabled=b(Sf,{optional:!0})!==null;titleStrategy=b(_S);options=b(Ka,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=b(Jg);createViewTransition=b(CS,{optional:!0});navigationErrorHandler=b(DS,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>Z(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=o=>this.events.next(new Lg(o)),r=o=>this.events.next(new jg(o));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;rn(()=>{this.transitions?.next(N(x({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))})}setupNavigations(n){return this.transitions=new ut(null),this.transitions.pipe(lt(r=>r!==null),Ht(r=>{let o=!1,i=new AbortController,s=()=>!o&&this.currentTransition?.id===r.id;return Z(r).pipe(Ht(a=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Zt.SupersededByNewNavigation),bt;this.currentTransition=r;let c=this.lastSuccessfulNavigation();this.currentNavigation.set({id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,targetBrowserUrl:typeof a.extras.browserUrl=="string"?this.urlSerializer.parse(a.extras.browserUrl):a.extras.browserUrl,trigger:a.source,extras:a.extras,previousNavigation:c?N(x({},c),{previousNavigation:null}):null,abort:()=>i.abort()});let u=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),l=a.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!u&&l!=="reload")return this.events.next(new ho(a.id,this.urlSerializer.serialize(a.rawUrl),"",Zu.IgnoredSameUrlNavigation)),a.resolve(!1),bt;if(this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return Z(a).pipe(Ht(f=>(this.events.next(new _s(f.id,this.urlSerializer.serialize(f.extractedUrl),f.source,f.restoredState)),f.id!==this.navigationId?bt:Promise.resolve(f))),$9(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy,i.signal),Xn(f=>{r.targetSnapshot=f.targetSnapshot,r.urlAfterRedirects=f.urlAfterRedirects,this.currentNavigation.update(p=>(p.finalUrl=f.urlAfterRedirects,p));let h=new Ju(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(h)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(a.currentRawUrl)){let{id:f,extractedUrl:h,source:p,restoredState:y,extras:S}=a,I=new _s(f,this.urlSerializer.serialize(h),p,y);this.events.next(I);let T=xN(this.rootComponentType,this.environmentInjector).snapshot;return this.currentTransition=r=N(x({},a),{targetSnapshot:T,urlAfterRedirects:h,extras:N(x({},S),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(z=>(z.finalUrl=h,z)),Z(r)}else return this.events.next(new ho(a.id,this.urlSerializer.serialize(a.extractedUrl),"",Zu.IgnoredByUrlHandlingStrategy)),a.resolve(!1),bt}),Q(a=>{let c=new kg(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);return this.events.next(c),this.currentTransition=r=N(x({},a),{guards:a9(a.targetSnapshot,a.currentSnapshot,this.rootContexts)}),r}),v9(a=>this.events.next(a)),Ht(a=>{if(r.guardsResult=a.guardsResult,a.guardsResult&&typeof a.guardsResult!="boolean")throw Wg(this.urlSerializer,a.guardsResult);let c=new Ng(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);if(this.events.next(c),!s())return bt;if(!a.guardsResult)return this.cancelNavigationTransition(a,"",Zt.GuardRejected),bt;if(a.guards.canActivateChecks.length===0)return Z(a);let u=new Fg(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);if(this.events.next(u),!s())return bt;let l=!1;return Z(a).pipe(q9(this.paramsInheritanceStrategy),Xn({next:()=>{l=!0;let f=new Pg(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(f)},complete:()=>{l||this.cancelNavigationTransition(a,"",Zt.NoDataFromResolver)}}))}),tN(a=>{let c=l=>{let f=[];if(l.routeConfig?._loadedComponent)l.component=l.routeConfig?._loadedComponent;else if(l.routeConfig?.loadComponent){let h=l._environmentInjector;f.push(this.configLoader.loadComponent(h,l.routeConfig).then(p=>{l.component=p}))}for(let h of l.children)f.push(...c(h));return f},u=c(a.targetSnapshot.root);return u.length===0?Z(a):Ve(Promise.all(u).then(()=>a))}),tN(()=>this.afterPreactivation()),Ht(()=>{let{currentSnapshot:a,targetSnapshot:c}=r,u=this.createViewTransition?.(this.environmentInjector,a.root,c.root);return u?Ve(u).pipe(Q(()=>r)):Z(r)}),An(1),Q(a=>{let c=r9(n.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);this.currentTransition=r=a=N(x({},a),{targetRouterState:c}),this.currentNavigation.update(u=>(u.targetRouterState=c,u)),this.events.next(new Xu),s()&&(new pS(n.routeReuseStrategy,r.targetRouterState,r.currentRouterState,u=>this.events.next(u),this.inputBindingEnabled).activate(this.rootContexts),s()&&(o=!0,this.currentNavigation.update(u=>(u.abort=J9,u)),this.lastSuccessfulNavigation.set(rn(this.currentNavigation)),this.events.next(new jr(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects))),this.titleStrategy?.updateTitle(a.targetRouterState.snapshot),a.resolve(!0)))}),kn(wN(i.signal).pipe(lt(()=>!o&&!r.targetRouterState),Xn(()=>{this.cancelNavigationTransition(r,i.signal.reason+"",Zt.Aborted)}))),Xn({complete:()=>{o=!0}}),kn(this.transitionAbortWithErrorSubject.pipe(Xn(a=>{throw a}))),Xi(()=>{i.abort(),o||this.cancelNavigationTransition(r,"",Zt.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),gu(a=>{if(o=!0,this.destroyed)return r.resolve(!1),bt;if(DN(a))this.events.next(new ir(r.id,this.urlSerializer.serialize(r.extractedUrl),a.message,a.cancellationCode)),s9(a)?this.events.next(new el(a.url,a.navigationBehaviorOptions)):r.resolve(!1);else{let c=new qa(r.id,this.urlSerializer.serialize(r.extractedUrl),a,r.targetSnapshot??void 0);try{let u=_t(this.environmentInjector,()=>this.navigationErrorHandler?.(c));if(u instanceof tl){let{message:l,cancellationCode:f}=Wg(this.urlSerializer,u);this.events.next(new ir(r.id,this.urlSerializer.serialize(r.extractedUrl),l,f)),this.events.next(new el(u.redirectTo,u.navigationBehaviorOptions))}else throw this.events.next(c),a}catch(u){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(u)}}return bt}))}))}cancelNavigationTransition(n,r,o){let i=new ir(n.id,this.urlSerializer.serialize(n.extractedUrl),r,o);this.events.next(i),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=rn(this.currentNavigation),o=r?.targetBrowserUrl??r?.extractedUrl;return n.toString()!==o?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||e)};static \u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Q9(e){return e!==Gu}var jN=new k("");var HN=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=O({token:e,factory:()=>b(X9),providedIn:"root"})}return e})(),Kg=class{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}shouldDestroyInjector(t){return!0}},X9=(()=>{class e extends Kg{static \u0275fac=(()=>{let n;return function(o){return(n||(n=co(e)))(o||e)}})();static \u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),IS=(()=>{class e{urlSerializer=b(Wa);options=b(Ka,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=b(xs);urlHandlingStrategy=b(Jg);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Lr;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:r,targetBrowserUrl:o}){let i=n!==void 0?this.urlHandlingStrategy.merge(n,r):r,s=o??i;return s instanceof Lr?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:n,finalUrl:r,initialUrl:o}){r&&n?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,o),this.routerState=n):this.rawUrlTree=o}routerState=xN(null,b(ze));getRouterState(){return this.routerState}_stateMemento=this.createStateMemento();get stateMemento(){return this._stateMemento}updateStateMemento(){this._stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}restoredState(){return this.location.getState()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=O({token:e,factory:()=>b(eK),providedIn:"root"})}return e})(),eK=(()=>{class e extends IS{currentPageId=0;lastSuccessfulId=-1;get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{n(r.url,r.state,"popstate")})})}handleRouterEvent(n,r){n instanceof _s?this.updateStateMemento():n instanceof ho?this.commitTransition(r):n instanceof Ju?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof Xu?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof ir&&!vN(n)?this.restoreHistory(r):n instanceof qa?this.restoreHistory(r,!0):n instanceof jr&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:r,id:o}){let{replaceUrl:i,state:s}=r;if(this.location.isCurrentPathEqualTo(n)||i){let a=this.browserPageId,c=x(x({},s),this.generateNgRouterState(o,a));this.location.replaceState(n,"",c)}else{let a=x(x({},s),this.generateNgRouterState(o,this.browserPageId+1));this.location.go(n,"",a)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,i=this.currentPageId-o;i!==0?this.location.historyGo(i):this.getCurrentUrlTree()===n.finalUrl&&i===0&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(o){return(n||(n=co(e)))(o||e)}})();static \u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Xg(e,t){e.events.pipe(lt(n=>n instanceof jr||n instanceof ir||n instanceof qa||n instanceof ho),Q(n=>n instanceof jr||n instanceof ho?0:(n instanceof ir?n.code===Zt.Redirect||n.code===Zt.SupersededByNewNavigation:!1)?2:1),lt(n=>n!==2),An(1)).subscribe(()=>{t()})}var BN={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},VN={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},mo=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=b(xC);stateManager=b(IS);options=b(Ka,{optional:!0})||{};pendingTasks=b(io);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=b(Qg);urlSerializer=b(Wa);location=b(xs);urlHandlingStrategy=b(Jg);injector=b(ze);_events=new _e;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=b(HN);injectorCleanup=b(jN,{optional:!0});onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=b(Ya,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!b(Sf,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{}}),this.subscribeToNavigationEvents()}eventsSubscription=new ct;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let o=this.navigationTransitions.currentTransition,i=rn(this.navigationTransitions.currentNavigation);if(o!==null&&i!==null){if(this.stateManager.handleRouterEvent(r,i),r instanceof ir&&r.code!==Zt.Redirect&&r.code!==Zt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof jr)this.navigated=!0,this.injectorCleanup?.(this.routeReuseStrategy,this.routerState,this.config);else if(r instanceof el){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,o.currentRawUrl),c=x({scroll:o.extras.scroll,browserUrl:o.extras.browserUrl,info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||this.urlUpdateStrategy==="eager"||Q9(o.source)},s);this.scheduleNavigation(a,Gu,null,c,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}t9(r)&&this._events.next(r)}catch(o){this.navigationTransitions.transitionAbortWithErrorSubject.next(o)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Gu,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r,o)=>{this.navigateToSyncWithBrowser(n,o,r)})}navigateToSyncWithBrowser(n,r,o){let i={replaceUrl:!0},s=o?.navigationId?o:null;if(o){let c=x({},o);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(i.state=c)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,i).catch(c=>{this.disposed||this.injector.get(Ln)(c)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return rn(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(ES),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription?.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0,this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:o,queryParams:i,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,u=c?this.currentUrlTree.fragment:s,l=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":l=x(x({},this.currentUrlTree.queryParams),i);break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=i||null}l!==null&&(l=this.removeEmptyProps(l));let f;try{let h=o?o.snapshot:this.routerState.snapshot.root;f=hN(h)}catch(h){(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),f=this.currentUrlTree.root}return mN(f,n,l,u??null,this.urlSerializer)}navigateByUrl(n,r={skipLocationChange:!1}){let o=Yu(n)?n:this.parseUrl(n),i=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(i,Gu,null,r)}navigate(n,r={skipLocationChange:!1}){return tK(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch(r){return this.console.warn(Dr(4018,!1)),this.urlSerializer.parse("/")}}isActive(n,r){let o;if(r===!0?o=x({},BN):r===!1?o=x({},VN):o=r,Yu(n))return Gk(this.currentUrlTree,n,o);let i=this.parseUrl(n);return Gk(this.currentUrlTree,i,o)}removeEmptyProps(n){return Object.entries(n).reduce((r,[o,i])=>(i!=null&&(r[o]=i),r),{})}scheduleNavigation(n,r,o,i,s){if(this.disposed)return Promise.resolve(!1);let a,c,u;s?(a=s.resolve,c=s.reject,u=s.promise):u=new Promise((f,h)=>{a=f,c=h});let l=this.pendingTasks.add();return Xg(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(l))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:i,resolve:a,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(Promise.reject.bind(Promise))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function tK(e){for(let t=0;t<e.length;t++)if(e[t]==null)throw new j(4008,!1)}var If=class{};var UN=(()=>{class e{router;injector;preloadingStrategy;loader;subscription;constructor(n,r,o,i){this.router=n,this.injector=r,this.preloadingStrategy=o,this.loader=i}setUpPreloading(){this.subscription=this.router.events.pipe(lt(n=>n instanceof jr),Qi(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription?.unsubscribe()}processRoutes(n,r){let o=[];for(let i of r){i.providers&&!i._injector&&(i._injector=ju(i.providers,n,""));let s=i._injector??n;i._loadedNgModuleFactory&&!i._loadedInjector&&(i._loadedInjector=i._loadedNgModuleFactory.create(s).injector);let a=i._loadedInjector??s;(i.loadChildren&&!i._loadedRoutes&&i.canLoad===void 0||i.loadComponent&&!i._loadedComponent)&&o.push(this.preloadConfig(s,i)),(i.children||i._loadedRoutes)&&o.push(this.processRoutes(a,i.children??i._loadedRoutes))}return Ve(o).pipe(Zi())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{if(n.destroyed)return Z(null);let o;r.loadChildren&&r.canLoad===void 0?o=Ve(this.loader.loadChildren(n,r)):o=Z(null);let i=o.pipe(Et(s=>s===null?Z(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,r._loadedNgModuleFactory=s.factory,this.processRoutes(s.injector??n,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(n,r);return Ve([i,s]).pipe(Zi())}else return i})}static \u0275fac=function(r){return new(r||e)(P(mo),P(ze),P(If),P(Zg))};static \u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),$N=new k(""),rK=(()=>{class e{options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource=Gu;restoredId=0;store={};urlSerializer=b(Wa);zone=b(Se);viewportScroller=b(FC);transitions=b(Qg);constructor(n){this.options=n,this.options.scrollPositionRestoration||="disabled",this.options.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof _s?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof jr?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof ho&&n.code===Zu.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{if(!(n instanceof Qu)||n.scrollBehavior==="manual")return;let r={behavior:"instant"};n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0],r):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position,r):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0])})}scheduleScrollEvent(n,r){let o=rn(this.transitions.currentNavigation)?.extras.scroll;this.zone.runOutsideAngular(()=>ve(this,null,function*(){yield new Promise(i=>{setTimeout(i),typeof requestAnimationFrame<"u"&&requestAnimationFrame(i)}),this.zone.run(()=>{this.transitions.events.next(new Qu(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,r,o))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){hC()};static \u0275prov=O({token:e,factory:e.\u0275fac})}return e})();function MS(e,...t){return is([{provide:Ya,multi:!0,useValue:e},[],{provide:si,useFactory:qN},{provide:Qd,multi:!0,useFactory:zN},t.map(n=>n.\u0275providers)])}function qN(){return b(mo).routerState.root}function ol(e,t){return{\u0275kind:e,\u0275providers:t}}function zN(){let e=b(Vt);return t=>{let n=e.get(kr);if(t!==n.components[0])return;let r=e.get(mo),o=e.get(WN);e.get(TS)===1&&r.initialNavigation(),e.get(YN,null,{optional:!0})?.setUpPreloading(),e.get($N,null,{optional:!0})?.init(),r.resetRootComponentType(n.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}var WN=new k("",{factory:()=>new _e}),TS=new k("",{factory:()=>1});function GN(){let e=[{provide:G_,useValue:!0},{provide:TS,useValue:0},Jm(()=>{let t=b(Vt);return t.get(OC,Promise.resolve()).then(()=>new Promise(r=>{let o=t.get(mo),i=t.get(WN);Xg(o,()=>{r(!0)}),t.get(Qg).afterPreactivation=()=>(r(!0),i.closed?Z(void 0):i),o.initialNavigation()}))})];return ol(2,e)}function KN(){let e=[Jm(()=>{b(mo).setUpLocationChangeListener()}),{provide:TS,useValue:2}];return ol(3,e)}var YN=new k("");function ZN(e){return ol(0,[{provide:YN,useExisting:UN},{provide:If,useExisting:e}])}function OS(){return ol(6,[{provide:fo,useClass:lg}])}function JN(){return ol(8,[xS,{provide:Sf,useExisting:xS}])}function QN(e){ps("NgRouterViewTransitions");let t=[{provide:CS,useValue:LN},{provide:SS,useValue:x({skipNextTransition:!!e?.skipInitialTransition},e)}];return ol(9,t)}var XN=[xs,{provide:Wa,useClass:ii},mo,Ga,{provide:si,useFactory:qN},Zg,[]],RS=(()=>{class e{constructor(){}static forRoot(n,r){return{ngModule:e,providers:[XN,[],{provide:Ya,multi:!0,useValue:n},[],r?.errorHandler?{provide:DS,useValue:r.errorHandler}:[],{provide:Ka,useValue:r||{}},r?.useHash?iK():sK(),oK(),r?.preloadingStrategy?ZN(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?aK(r):[],r?.bindToComponentInputs?JN().\u0275providers:[],r?.enableViewTransitions?QN().\u0275providers:[],cK()]}}static forChild(n){return{ngModule:e,providers:[{provide:Ya,multi:!0,useValue:n}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=Ut({type:e});static \u0275inj=At({})}return e})();function oK(){return{provide:$N,useFactory:()=>{let e=b(FC),t=b(Ka);return t.scrollOffset&&e.setOffset(t.scrollOffset),new rK(t)}}}function iK(){return{provide:fo,useClass:lg}}function sK(){return{provide:fo,useClass:cg}}function aK(e){return[e.initialNavigation==="disabled"?KN().\u0275providers:[],e.initialNavigation==="enabledBlocking"?GN().\u0275providers:[]]}var wS=new k("");function cK(){return[{provide:wS,useFactory:zN},{provide:Qd,multi:!0,useExisting:wS}]}function dK(e,t){if(e&1&&(de(0,"div",3),yt(1,"div",4),pe()),e&2){let n=Ct(2);Oe(),ti("width",n.diameter)("height",n.diameter)}}function fK(e,t){if(e&1&&yt(0,"div",5),e&2){let n=Ct().ngIf,r=Ct();ti("background",r.color)("height",r.height)("width",n+"%")}}function pK(e,t){if(e&1&&(Xo(0),uo(1,dK,2,4,"div",1)(2,fK,1,6,"div",2),ei()),e&2){let n=Ct();Oe(),We("ngIf",n.includeSpinner),Oe(),We("ngIf",n.includeBar)}}function hK(e,t){if(e&1&&(de(0,"div",3),yt(1,"div",4),pe()),e&2){let n=Ct(2);Oe(),ti("width",n.diameter)("height",n.diameter)}}function mK(e,t){if(e&1&&yt(0,"div",5),e&2){let n=Ct().ngIf,r=Ct();ti("background",r.color)("height",r.height)("width",n+"%")}}function gK(e,t){if(e&1&&(Xo(0),uo(1,hK,2,4,"div",1)(2,mK,1,6,"div",2),ei()),e&2){let n=Ct();Oe(),We("ngIf",n.includeSpinner),Oe(),We("ngIf",n.includeBar)}}var yK="[_nghost-%COMP%]{position:relative;display:block;pointer-events:none}[_nghost-%COMP%]   .ngx-spinner[_ngcontent-%COMP%]{transition:.35s linear all;display:block;position:absolute;top:5px;left:0}[_nghost-%COMP%]   .ngx-spinner[_ngcontent-%COMP%]   .ngx-spinner-icon[_ngcontent-%COMP%]{width:14px;height:14px;border:solid 2px transparent;border-top-color:inherit;border-left-color:inherit;border-radius:50%;animation:_ngcontent-%COMP%_loading-bar-spinner .4s linear infinite}[_nghost-%COMP%]   .ngx-bar[_ngcontent-%COMP%]{transition:width .35s;position:absolute;top:0;left:0;width:100%;height:2px;border-bottom-right-radius:1px;border-top-right-radius:1px}[dir=rtl]   [_nghost-%COMP%]   .ngx-bar[_ngcontent-%COMP%]{right:0;left:unset}[fixed=true][_nghost-%COMP%]{z-index:10002}[fixed=true][_nghost-%COMP%]   .ngx-bar[_ngcontent-%COMP%]{position:fixed}[fixed=true][_nghost-%COMP%]   .ngx-spinner[_ngcontent-%COMP%]{position:fixed;top:10px;left:10px}[dir=rtl]   [fixed=true][_nghost-%COMP%]   .ngx-spinner[_ngcontent-%COMP%]{right:10px;left:unset}@keyframes _ngcontent-%COMP%_loading-bar-spinner{0%{transform:rotate(0)}to{transform:rotate(360deg)}}",AS=class{constructor(t={}){this.config=t,this.state={action:null,value:0,initialValue:0},this.requests=null,this.disabled=!1,this.stream$=new _e,this._value$=null,this.timer$=n=>{let r=Z(n);switch(n.action){case"start":case"increment":case"set":{n.action==="start"&&this.config.latencyThreshold===0&&n.value===0&&(n.value=n.initialValue),this.requests>0&&(r=mu(this.config.latencyThreshold,250).pipe(Q(o=>N(x({},n),{value:o===0?this.state.value||n.initialValue:this._increment()}))));break}case"complete":case"stop":{r=n.value===0?Z(x({},n)):mu(0,500).pipe(An(2),Q(o=>({value:o===0?100:0})));break}}return r.pipe(Q(o=>N(x({},o),{action:"set"})),Xn(o=>this.next(o,!1)))},this.config=x({latencyThreshold:0},t)}get value$(){return this._value$?this._value$:this._value$=this.stream$.pipe(es(this.state),Ht(t=>this.timer$(t)),nE(),Q(t=>t.value))}start(t=2){this.disabled||this.next({action:"start",initialValue:t})}stop(){this.next({action:"stop"})}complete(){this.next({action:"complete"})}disable(){this.disabled=!0}set(t){this.next({action:"set",value:t})}increment(t=0){this.next({action:"increment",value:t})}next(t,n=!0){switch(t.action){case"start":this.requests=(this.requests||0)+1;break;case"complete":if(this.requests=(this.requests||1)-1,this.requests>0)return;break;case"stop":this.requests=0;break;case"increment":t.value=this._increment(t.value);break}this.state=x(N(x({},this.state),{action:null}),t),n&&this.stream$.next(this.state)}_increment(t=0){let n=this.state.value;return n>=99&&(t=0),t===0&&(n>=0&&n<25?t=Math.random()*3+3:n>=25&&n<65?t=Math.random()*3:n>=65&&n<90?t=Math.random()*2:n>=90&&n<99?t=.5:t=0),t+n}},vK=new k("LOADING_BAR_CONFIG");var kS=(()=>{class e{get progress$(){return this.value$}constructor(n,r={},o){this.platformId=n,this.config=r,this.zone=o,this.refs={},this.streams$=new _e,this.value$=this.streams$.pipe(es(null),Ht(()=>Yi(Object.keys(this.refs).map(i=>this.refs[i].value$))),xK(this.zone),Q(i=>Math.max(0,...i)))}start(n=2){this.useRef().start(n)}set(n){this.useRef().set(n)}increment(n){this.useRef().increment(n)}complete(){this.useRef().complete()}stop(){this.useRef().stop()}useRef(n="default"){return this.refs[n]||(this.refs[n]=new AS(this.config),this.streams$.next(),dg(this.platformId)||this.refs[n].disable()),this.refs[n]}static{this.\u0275fac=function(r){return new(r||e)(P(Zo),P(vK,8),P(Se,8))}}static{this.\u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function xK(e){return e?t=>new ie(n=>t.subscribe(r=>e.run(()=>n.next(r)),r=>e.run(()=>n.error(r)),()=>e.run(()=>n.complete()))):t=>t}var bK=(()=>{class e{get value$(){return this.ref?this.loader.useRef(this.ref).value$:this.loader.value$}constructor(n){this.loader=n,this.includeSpinner=!0,this.includeBar=!0,this.fixed=!0,this.color="#29d"}static{this.\u0275fac=function(r){return new(r||e)(xe(kS))}}static{this.\u0275cmp=gn({type:e,selectors:[["ngx-loading-bar"]],hostVars:3,hostBindings:function(r,o){r&2&&(Fa("fixed",o.fixed),ti("color",o.color))},inputs:{includeSpinner:"includeSpinner",includeBar:"includeBar",fixed:"fixed",color:"color",value:"value",ref:"ref",height:"height",diameter:"diameter"},decls:2,vars:3,consts:[[4,"ngIf"],["class","ngx-spinner",4,"ngIf"],["class","ngx-bar",3,"background","height","width",4,"ngIf"],[1,"ngx-spinner"],[1,"ngx-spinner-icon"],[1,"ngx-bar"]],template:function(r,o){r&1&&(uo(0,pK,3,2,"ng-container",0),eg(1,"async")),r&2&&We("ngIf",o.value!=null?o.value:tg(1,1,o.value$))},dependencies:[of,ja],styles:["[_nghost-%COMP%]{position:relative;display:block;pointer-events:none}[_nghost-%COMP%]   .ngx-spinner[_ngcontent-%COMP%]{transition:.35s linear all;display:block;position:absolute;top:5px;left:0}[_nghost-%COMP%]   .ngx-spinner[_ngcontent-%COMP%]   .ngx-spinner-icon[_ngcontent-%COMP%]{width:14px;height:14px;border:solid 2px transparent;border-top-color:inherit;border-left-color:inherit;border-radius:50%;animation:_ngcontent-%COMP%_loading-bar-spinner .4s linear infinite}[_nghost-%COMP%]   .ngx-bar[_ngcontent-%COMP%]{transition:width .35s;position:absolute;top:0;left:0;width:100%;height:2px;border-bottom-right-radius:1px;border-top-right-radius:1px}[dir=rtl]   [_nghost-%COMP%]   .ngx-bar[_ngcontent-%COMP%]{right:0;left:unset}[fixed=true][_nghost-%COMP%]{z-index:10002}[fixed=true][_nghost-%COMP%]   .ngx-bar[_ngcontent-%COMP%]{position:fixed}[fixed=true][_nghost-%COMP%]   .ngx-spinner[_ngcontent-%COMP%]{position:fixed;top:10px;left:10px}[dir=rtl]   [fixed=true][_nghost-%COMP%]   .ngx-spinner[_ngcontent-%COMP%]{right:10px;left:unset}@keyframes _ngcontent-%COMP%_loading-bar-spinner{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"],changeDetection:0})}}return e})(),eF=(()=>{class e extends bK{static{this.\u0275fac=(()=>{let n;return function(o){return(n||(n=co(e)))(o||e)}})()}static{this.\u0275cmp=gn({type:e,selectors:[["ngx-loading-bar"]],hostVars:3,hostBindings:function(r,o){r&2&&(Fa("fixed",o.fixed),ti("color",o.color))},standalone:!1,features:[ms],decls:2,vars:3,consts:[[4,"ngIf"],["class","ngx-spinner",4,"ngIf"],["class","ngx-bar",3,"background","height","width",4,"ngIf"],[1,"ngx-spinner"],[1,"ngx-spinner-icon"],[1,"ngx-bar"]],template:function(r,o){r&1&&(uo(0,gK,3,2,"ng-container",0),eg(1,"async")),r&2&&We("ngIf",o.value!=null?o.value:tg(1,1,o.value$))},dependencies:[ja,of],styles:[yK],changeDetection:0})}}return e})(),tF=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=Ut({type:e})}static{this.\u0275inj=At({imports:[sf]})}}return e})();var NS;try{NS=typeof Intl<"u"&&Intl.v8BreakIterator}catch(e){NS=!1}var rF=(()=>{class e{_platformId=b(Zo);isBrowser=this._platformId?dg(this._platformId):typeof document=="object"&&!!document;EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent);TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent);BLINK=this.isBrowser&&!!(window.chrome||NS)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT;WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT;IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window);FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent);ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT;SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT;constructor(){}static \u0275fac=function(r){return new(r||e)};static \u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function FS(e){return Array.isArray(e)?e:[e]}var oF=new Set,Za,sF=(()=>{class e{_platform=b(rF);_nonce=b(Nu,{optional:!0});_matchMedia;constructor(){this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):_K}matchMedia(n){return(this._platform.WEBKIT||this._platform.BLINK)&&EK(n,this._nonce),this._matchMedia(n)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function EK(e,t){if(!oF.has(e))try{Za||(Za=document.createElement("style"),t&&Za.setAttribute("nonce",t),Za.setAttribute("type","text/css"),document.head.appendChild(Za)),Za.sheet&&(Za.sheet.insertRule(`@media ${e} {body{ }}`,0),oF.add(e))}catch(n){console.error(n)}}function _K(e){return{matches:e==="all"||e==="",media:e,addListener:()=>{},removeListener:()=>{}}}var wf=(()=>{class e{_mediaMatcher=b(sF);_zone=b(Se);_queries=new Map;_destroySubject=new _e;constructor(){}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(n){return iF(FS(n)).some(o=>this._registerQuery(o).mql.matches)}observe(n){let o=iF(FS(n)).map(s=>this._registerQuery(s).observable),i=Yi(o);return i=Ji(i.pipe(An(1)),i.pipe(rE(1),eE(0))),i.pipe(Q(s=>{let a={matches:!1,breakpoints:{}};return s.forEach(({matches:c,query:u})=>{a.matches=a.matches||c,a.breakpoints[u]=c}),a}))}_registerQuery(n){if(this._queries.has(n))return this._queries.get(n);let r=this._mediaMatcher.matchMedia(n),i={observable:new ie(s=>{let a=c=>this._zone.run(()=>s.next(c));return r.addListener(a),()=>{r.removeListener(a)}}).pipe(es(r),Q(({matches:s})=>({query:n,matches:s})),kn(this._destroySubject)),mql:r};return this._queries.set(n,i),i}static \u0275fac=function(r){return new(r||e)};static \u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function iF(e){return e.map(t=>t.split(",")).reduce((t,n)=>t.concat(n)).map(t=>t.trim())}var ey={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"};var Cs=(function(e){return e.LIGHT="light",e.DARK="dark",e})(Cs||{});var cF=(()=>{class e{constructor(n){this.document=n,this.currentMode=Cs.LIGHT,this.modeChangedSubject=new ut(this.currentMode),this.modeChanged$=this.modeChangedSubject.asObservable(),this.init()}updateCurrentMode(n){this.currentMode=n,this.modeChangedSubject.next(this.currentMode)}init(){let n=window.matchMedia("(prefers-color-scheme: dark)");this.updateCurrentMode(n.matches?Cs.DARK:Cs.LIGHT),this.document.body.classList.add(this.currentMode)}static{this.\u0275fac=function(r){return new(r||e)(P(Ue))}}static{this.\u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function SK(e,t){if(e&1){let n=Hu();Xo(0),de(1,"main",1)(2,"img",2),nt("click",function(){Ia(n);let o=Ct();return wa(o.goToMainPage())}),pe(),de(3,"section",3),yt(4,"router-outlet"),pe()(),ei()}}function DK(e,t){e&1&&(Xo(0),de(1,"main",4)(2,"section",3),yt(3,"router-outlet"),pe()(),ei())}function IK(e,t){e&1&&yt(0,"img",11)}function wK(e,t){e&1&&yt(0,"img",12)}function MK(e,t){if(e&1&&(Xo(0),de(1,"header",5),yt(2,"img",6),pe(),de(3,"div",7),uo(4,IK,1,0,"img",8)(5,wK,1,0,"img",9),pe(),de(6,"div",10)(7,"h1"),Nr(8,"Only available in landscape mode"),pe(),de(9,"h3"),Nr(10,"Turn your device !"),pe()(),ei()),e&2){let n=Ct();Oe(4),We("ngIf",n.mode==n.Mode.LIGHT),Oe(),We("ngIf",n.mode==n.Mode.DARK)}}var uF=(()=>{class e{constructor(n,r,o){this.responsive=n,this.modeToggleService=r,this.router=o,this.isMobileDisplay=!0,this.isPortrait=!1,this.isLandscape=!1,this.mode=Cs.LIGHT,this.destroy$=new _e,this.Mode=Cs,this.modeToggleService.modeChanged$.subscribe(i=>this.mode=i),this.checkOrientation()}ngOnInit(){this.responsive.observe([ey.Web]).pipe(kn(this.destroy$)).subscribe(n=>{this.isMobileDisplay=!n.matches})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}onOrientationChange(){this.checkOrientation()}checkOrientation(){let n=window.screen.orientation.angle;this.isPortrait=n===0||n===180,this.isLandscape=n===90||n===-90}goToMainPage(){return ve(this,null,function*(){yield this.router.navigate([],{queryParams:{},queryParamsHandling:""}).then(()=>{window.location.reload()}).catch()})}static{this.\u0275fac=function(r){return new(r||e)(xe(wf),xe(cF),xe(mo))}}static{this.\u0275cmp=gn({type:e,selectors:[["app-root"]],hostBindings:function(r,o){r&1&&nt("orientationchange",function(s){return o.onOrientationChange(s)},J_)},standalone:!1,decls:4,vars:3,consts:[[4,"ngIf"],[1,"flex","app-container"],["src","../../assets/images/title.svg","id","title-image","alt","Website Title",1,"top-left-corner","cursor-pointer",3,"click"],[1,"flex","content"],[1,"app-container"],[1,"header-mobile","mt-40","mb-40"],["src","../../assets/images/title-mobile.svg","alt","Website Title",1,"title-image-mobile"],[1,"portrait-to-landscape"],["src","../../assets/images/light/orientation.png","class","portrait-to-landscape-image","alt","Portrait to landscape image",4,"ngIf"],["src","../../assets/images/dark/orientation.png","class","portrait-to-landscape-image","alt","Portrait to landscape image",4,"ngIf"],[1,"ml-10"],["src","../../assets/images/light/orientation.png","alt","Portrait to landscape image",1,"portrait-to-landscape-image"],["src","../../assets/images/dark/orientation.png","alt","Portrait to landscape image",1,"portrait-to-landscape-image"]],template:function(r,o){r&1&&(yt(0,"ngx-loading-bar"),uo(1,SK,5,0,"ng-container",0)(2,DK,4,0,"ng-container",0)(3,MK,11,2,"ng-container",0)),r&2&&(Oe(),We("ngIf",!o.isMobileDisplay),Oe(),We("ngIf",o.isMobileDisplay&&o.isLandscape),Oe(),We("ngIf",o.isMobileDisplay&&o.isPortrait))},dependencies:[ja,eF,Cf],styles:['.flex[_ngcontent-%COMP%]{display:flex}.mt-40[_ngcontent-%COMP%]{margin-top:40px}.mb-40[_ngcontent-%COMP%]{margin-bottom:40px}.mb-10[_ngcontent-%COMP%]{margin-bottom:10px}.ml-10[_ngcontent-%COMP%]{margin-left:10px}.user-select-none[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none}.cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.large[_ngcontent-%COMP%]{font-size:large}.medium[_ngcontent-%COMP%]{font-size:medium}.app-button[_ngcontent-%COMP%]{background-color:var(--backgroundColor);color:var(--textColor);border:1px var(--borderColor) solid}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%;margin:0}[_ngcontent-%COMP%]:root{font-family:Inter,sans-serif;font-feature-settings:"liga" 1,"calt" 1,"ss01" on}@supports (font-variation-settings: normal){[_ngcontent-%COMP%]:root{font-family:InterVariable,sans-serif}}a[_ngcontent-%COMP%]{all:unset}body.dark[_ngcontent-%COMP%]{--backgroundColor: #2e2e2e;--textColor: white;--borderColor: white;--menuButtonColor: #CC71FA;--gridHighLightColor: #474747;background-color:var(--backgroundColor);color:var(--textColor)}body.light[_ngcontent-%COMP%]{--backgroundColor: white;--textColor: black;--borderColor: black;--menuButtonColor: #70F1FA;--gridHighLightColor: #e8e8e8;background-color:var(--backgroundColor);color:var(--textColor)}.app-container[_ngcontent-%COMP%]{height:100%}.app-container[_ngcontent-%COMP%]   .top-left-corner[_ngcontent-%COMP%]{position:absolute;top:10px;left:10px}.menu[_ngcontent-%COMP%]{flex-direction:column;justify-content:flex-start;align-items:flex-start}.menu.genre[_ngcontent-%COMP%]{justify-content:flex-end}.content[_ngcontent-%COMP%]{flex:1;justify-content:center;align-items:center;overflow:auto;height:100%}.column[_ngcontent-%COMP%]{flex-direction:column}.nowrap[_ngcontent-%COMP%]{white-space:nowrap}.header-mobile[_ngcontent-%COMP%]{font-size:32px;width:100%;text-align:center}#title-image[_ngcontent-%COMP%]{width:128px;aspect-ratio:1}.title-image-mobile[_ngcontent-%COMP%]{width:256px}.portrait-to-landscape[_ngcontent-%COMP%]{justify-content:center;display:flex;flex-direction:row;margin:64px}.portrait-to-landscape[_ngcontent-%COMP%]   .portrait-to-landscape-image[_ngcontent-%COMP%]{width:64px}']})}}return e})();var lF=(()=>{class e{constructor(n){this.elementRef=n,this.threshold=500,this.mouseLongPress=new Ot;let r=to(n.nativeElement,"mousedown").pipe(lt(a=>a.button==0),Q(()=>!0)),o=to(n.nativeElement,"touchstart").pipe(Q(()=>!0)),i=to(n.nativeElement,"touchend").pipe(Q(()=>!1)),s=to(window,"mouseup").pipe(lt(a=>a.button==0),Q(()=>!1));this.eventSubscribe=Xb(r,s,o,i).pipe(Ht(a=>a?mu(this.threshold,10):Z(null)),lt(a=>a)).subscribe(()=>this.mouseLongPress.emit())}ngOnDestroy(){this.eventSubscribe&&this.eventSubscribe.unsubscribe()}static{this.\u0275fac=function(r){return new(r||e)(xe(Ar))}}static{this.\u0275dir=on({type:e,selectors:[["","longPress",""]],outputs:{mouseLongPress:"mouseLongPress"}})}}return e})();var Ja=e=>{if(!TK(e))throw new Error(`Invalid BPM '${e}'. Must be between 40 and 300.`);return e},TK=e=>Number.isFinite(e)&&e>=40&&e<=300;var fF=(()=>{class e{constructor(){this.maxBpm=300,this.minBpm=40,this.bpm=ys(40),this.bpmChange=ig(),this.incrementBpm=()=>this.updateBpm(Math.min(this.bpm()+1,this.maxBpm)),this.decrementBpm=()=>this.updateBpm(Math.max(this.bpm()-1,this.minBpm)),this.updateBpm=n=>this.bpmChange.emit(n)}updateNumber(n){let r=n.target,o=Number(r.value);o=Math.min(o,this.maxBpm),o=Math.max(o,this.minBpm),this.updateBpm(o)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=gn({type:e,selectors:[["app-bpm-input"]],inputs:{bpm:[1,"bpm"]},outputs:{bpmChange:"bpmChange"},decls:4,vars:1,consts:[[1,"number-control"],["longPress","",1,"number-left","cursor-pointer",3,"mouseLongPress","click"],["type","number","name","number",1,"number-quantity","large",3,"change","value"],["longPress","",1,"number-right","cursor-pointer",3,"mouseLongPress","click"]],template:function(r,o){r&1&&(de(0,"div",0)(1,"div",1),nt("mouseLongPress",function(){return o.decrementBpm()})("click",function(){return o.decrementBpm()}),pe(),de(2,"input",2),nt("change",function(s){return o.updateNumber(s)}),pe(),de(3,"div",3),nt("mouseLongPress",function(){return o.incrementBpm()})("click",function(){return o.incrementBpm()}),pe()()),r&2&&(Oe(2),We("value",o.bpm()))},dependencies:[lF],styles:['.number-control[_ngcontent-%COMP%]{display:flex;align-items:center}.number-control[_ngcontent-%COMP%]   .number-left[_ngcontent-%COMP%]:before, .number-control[_ngcontent-%COMP%]   .number-right[_ngcontent-%COMP%]:after{content:attr(data-content);background-color:var(--backgroundColor);display:flex;align-items:center;justify-content:center;border:1px solid var(--borderColor);width:24px;height:24px;color:var(--textColor)}.number-control[_ngcontent-%COMP%]   .number-left[_ngcontent-%COMP%]:before{border-bottom-left-radius:5px;border-top-left-radius:5px;content:"-"}.number-control[_ngcontent-%COMP%]   .number-right[_ngcontent-%COMP%]:after{content:"+";border-bottom-right-radius:5px;border-top-right-radius:5px}.number-control[_ngcontent-%COMP%]   .number-quantity[_ngcontent-%COMP%]{padding:.25rem;width:64px;height:16px;-moz-appearance:textfield;border:0;border-top:1px solid var(--borderColor);border-bottom:1px solid var(--borderColor);background-color:var(--backgroundColor);color:var(--textColor)}']})}}return e})();var RK=(()=>{class e{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||e)(xe(hs),xe(Ar))};static \u0275dir=on({type:e})}return e})(),hF=(()=>{class e extends RK{static \u0275fac=(()=>{let n;return function(o){return(n||(n=co(e)))(o||e)}})();static \u0275dir=on({type:e,features:[ms]})}return e})(),mF=new k("");var AK=new k("",{factory:()=>gF}),gF="always";var kK={provide:mF,useExisting:ya(()=>vF),multi:!0};function yF(e,t){return e==null?`${t}`:(t&&typeof t=="object"&&(t="Object"),`${e}: ${t}`.slice(0,50))}function NK(e){return e.split(":")[0]}var vF=(()=>{class e extends hF{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;appRefInjector=b(kr).injector;destroyRef=b(nn);cdr=b(vs);_queuedWrite=!1;_writeValueAfterRender(){this._queuedWrite||this.appRefInjector.destroyed||(this._queuedWrite=!0,Fu({write:()=>{this.destroyRef.destroyed||(this._queuedWrite=!1,this.writeValue(this.value))}},{injector:this.appRefInjector}))}writeValue(n){this.cdr.markForCheck(),this.value=n;let r=this._getOptionId(n),o=yF(r,n);this.setProperty("value",o)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){let r=NK(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static \u0275fac=(()=>{let n;return function(o){return(n||(n=co(e)))(o||e)}})();static \u0275dir=on({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,o){r&1&&nt("change",function(s){return o.onChange(s.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Xm([kK]),ms]})}return e})(),xF=(()=>{class e{_element;_renderer;_select;id;constructor(n,r,o){this._element=n,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue(yF(this.id,n)),this._select._writeValueAfterRender())}set value(n){this._setElementValue(n),this._select&&this._select._writeValueAfterRender()}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select._writeValueAfterRender())}static \u0275fac=function(r){return new(r||e)(xe(Ar),xe(hs),xe(vF,9))};static \u0275dir=on({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return e})(),FK={provide:mF,useExisting:ya(()=>bF),multi:!0};function pF(e,t){return e==null?`${t}`:(typeof t=="string"&&(t=`'${t}'`),t&&typeof t=="object"&&(t="Object"),`${e}: ${t}`.slice(0,50))}function PK(e){return e.split(":")[0]}var bF=(()=>{class e extends hF{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;writeValue(n){this.value=n;let r;if(Array.isArray(n)){let o=n.map(i=>this._getOptionId(i));r=(i,s)=>{i._setSelected(o.indexOf(s.toString())>-1)}}else r=(o,i)=>{o._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{let o=[],i=r.selectedOptions;if(i!==void 0){let s=i;for(let a=0;a<s.length;a++){let c=s[a],u=this._getOptionValue(c.value);o.push(u)}}else{let s=r.options;for(let a=0;a<s.length;a++){let c=s[a];if(c.selected){let u=this._getOptionValue(c.value);o.push(u)}}}this.value=o,n(o)}}_registerOption(n){let r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){let r=PK(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static \u0275fac=(()=>{let n;return function(o){return(n||(n=co(e)))(o||e)}})();static \u0275dir=on({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,o){r&1&&nt("change",function(s){return o.onChange(s.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Xm([FK]),ms]})}return e})(),EF=(()=>{class e{_element;_renderer;_select;id;_value;constructor(n,r,o){this._element=n,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue(pF(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(pF(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||e)(xe(Ar),xe(hs),xe(bF,9))};static \u0275dir=on({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return e})();var LK=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=Ut({type:e});static \u0275inj=At({})}return e})();var il=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:AK,useValue:n.callSetDisabledState??gF}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=Ut({type:e});static \u0275inj=At({imports:[LK]})}return e})();function HK(e,t){if(e&1&&(de(0,"option",2),Nr(1),pe()),e&2){let n=t.$implicit;We("value",n),Oe(),tf(n)}}var _F=(()=>{class e{constructor(){this.elements=ys([]),this.selectedElement=ys(""),this.placeHolder=ys(""),this.selectChange=ig(),this.onSelectChange=n=>this.selectChange.emit(n)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=gn({type:e,selectors:[["app-select-input"]],inputs:{elements:[1,"elements"],selectedElement:[1,"selectedElement"],placeHolder:[1,"placeHolder"]},outputs:{selectChange:"selectChange"},decls:5,vars:2,consts:[[1,"cursor-pointer","large",3,"change","value"],["value","","disabled","","selected",""],[3,"value"]],template:function(r,o){r&1&&(de(0,"select",0),nt("change",function(s){return o.onSelectChange(s.target.value)}),de(1,"option",1),Nr(2),pe(),Pa(3,HK,2,2,"option",2,Xd),pe()),r&2&&(We("value",o.selectedElement()),Oe(2),tf(o.placeHolder()),Oe(),La(o.elements()))},dependencies:[il,xF,EF],styles:[".flex[_ngcontent-%COMP%]{display:flex}.mt-40[_ngcontent-%COMP%]{margin-top:40px}.mb-40[_ngcontent-%COMP%]{margin-bottom:40px}.mb-10[_ngcontent-%COMP%]{margin-bottom:10px}.ml-10[_ngcontent-%COMP%]{margin-left:10px}.user-select-none[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none}.cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.large[_ngcontent-%COMP%]{font-size:large}.medium[_ngcontent-%COMP%]{font-size:medium}.app-button[_ngcontent-%COMP%]{background-color:var(--backgroundColor);color:var(--textColor);border:1px var(--borderColor) solid}select[_ngcontent-%COMP%]{border:1px var(--borderColor) solid;border-radius:5px;background-color:var(--backgroundColor);color:var(--textColor)}"]})}}return e})();var ty=new k("IManageBeats");var ny=new k("AudioEngine");var Mf=(function(e){return e[e.eight=8]="eight",e[e.sixteen=16]="sixteen",e[e.thirty_two=32]="thirty_two",e[e.sixty_four=64]="sixty_four",e})(Mf||{});var Qa=e=>e;var sl=e=>e;var BK=60,VK=4,ry=(()=>{class e{constructor(){this.bpm=Ja(128),this.numberOfSteps=Mf.sixteen}setBpm(n){this.bpm=n}setNumberOfSteps(n){this.numberOfSteps=n}get stepDuration(){return sl(BK/this.bpm/VK)}get barDuration(){return sl(this.stepDuration*this.numberOfSteps)}getNextStepTime(n,r){return Math.floor(n/this.barDuration)*this.barDuration+r*this.stepDuration}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var SF=(()=>{class e{constructor(){this.playPause$=new _e,to(document,"keydown").pipe(lt(n=>n.code==="Space"),Q(()=>"toggle")).subscribe(n=>this.playPause$.next(n))}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function $K(e,t){if(e&1){let n=Hu();de(0,"div",11),lm(),de(1,"svg",13),nt("mousedown",function(){let o=Ia(n).$implicit,i=Ct();return wa(i.soundService.playTrack(o.fileName))}),yt(2,"g",14),de(3,"g",15)(4,"g",16),yt(5,"path",17)(6,"path",18)(7,"path",19)(8,"path",20)(9,"path",21),pe()(),de(10,"g")(11,"g",22),yt(12,"path",17)(13,"path",18)(14,"path",19)(15,"path",20)(16,"path",21),pe()()(),dm(),de(17,"div",23),Nr(18),pe()()}if(e&2){let n=t.$implicit;Oe(18),Vu(" ",n.name," ")}}function qK(e,t){if(e&1){let n=Hu();de(0,"button",26),nt("click",function(){let o=Ia(n),i=o.$implicit,s=o.$index,a=Ct().$implicit,c=Ct();return wa(c.stepClick(a,c.StepIndex(s),i))}),pe()}if(e&2){let n=t.$implicit,r=t.$index,o=Ct(2);Bu("active",n)("current",r===o.soundService.index)("highlight",o.Math.floor(r/4)%2===0)}}function zK(e,t){if(e&1&&(de(0,"article")(1,"div",24),Pa(2,qK,1,6,"button",25,Qm),pe()()),e&2){let n=t.$implicit,r=Ct();Oe(),Bu("eight-steps",n.numberOfSteps==r.NumberOfSteps.eight)("sixteen-steps",n.numberOfSteps==r.NumberOfSteps.sixteen)("thirty-two-steps",n.numberOfSteps==r.NumberOfSteps.thirty_two)("sixty-four-steps",n.numberOfSteps==r.NumberOfSteps.sixty_four),Oe(),La(n.steps.steps)}}var DF=(()=>{class e{constructor(n,r,o,i,s){this._beatsManager=n,this.soundService=r,this.responsive=o,this.tempoService=i,this.playerEvents=s,this.customBeatSubject=new ut(null),this.destroy$=new _e,this.Math=Math,this.NumberOfSteps=Mf,this.StepIndex=Qa,this.beat={},this.genres=new Map,this.genresLabel=[],this.beats=[],this.isMobileDisplay=!1,this.selectedGenreLabel="",this.stepClick=(a,c,u)=>{a.steps.setStepAtIndex(c,!u),a.steps.getStepAtIndex(c)?this.soundService.enableStep(a.fileName,c):this.soundService.disableStep(a.fileName,c),this.beat=N(x({},this.beat),{tracks:this.beat.tracks}),this.customBeatSubject.next(this.beat)},this.beatBehaviourSubject=new _e,this.responsive.observe([ey.Web]).pipe(kn(this.destroy$)).subscribe(a=>{this.isMobileDisplay=!a.matches}),this.playerEvents.playPause$.pipe(kn(this.destroy$)).subscribe(()=>this.soundService.playPause())}ngOnInit(){this.beatBehaviourSubject.subscribe(n=>{this.tempoService.setNumberOfSteps(n.tracks[0].numberOfSteps),this.tempoService.setBpm(n.bpm),this.soundService.setTracks(n.tracks)}),this._beatsManager.getAllBeats().then(n=>{this.genres=new Map;for(let o of n)this.genres.has(o.genre)||this.genres.set(o.genre,[]),this.genres.get(o.genre).push(o);this.genresLabel=[...this.genres.keys()];let r=this.genres.values().next().value?.[0];this.selectGenre(r.genre),this.selectBeat(n[0])}).catch(()=>{})}selectGenre(n){this.selectedGenreLabel=n;let r=this.genres.get(n);this.beats=r.map(o=>o.label),this.selectBeat(r[0])}selectBeat(n){this.beat=n,this.beatBehaviourSubject.next(this.beat),this.customBeatSubject.next(this.beat)}beatChange(n){let r=this.genres.get(this.selectedGenreLabel).find(o=>o.label===n);this.selectBeat(r)}changeBeatBpm(n){this.soundService.pause(),this.tempoService.setBpm(Ja(n)),this.beat=this.beat=N(x({},this.beat),{bpm:Ja(n)}),this.customBeatSubject.next(this.beat)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static{this.\u0275fac=function(r){return new(r||e)(xe(ty),xe(ny),xe(wf),xe(ry),xe(SF))}}static{this.\u0275cmp=gn({type:e,selectors:[["sequencer"]],decls:19,vars:8,consts:[["id","main-container"],[1,"play-button-container","flex"],[1,"play-pause-button","cursor-pointer","app-button",3,"click"],[1,"sequencer-header"],[1,"label"],["placeHolder","Choose genre",3,"selectChange","elements","selectedElement"],[3,"selectChange","elements","selectedElement","placeHolder"],[1,"flex","label","bpm-input-group"],[3,"bpmChange","bpm"],[1,"large","user-select-none"],[1,"tracks-name-container"],[1,"tracks-name"],[1,"tracks-container"],["role","img","viewBox","0 0 21 21","aria-hidden","true","focusable","false",1,"svg-icon","cursor-pointer",3,"mousedown"],["stroke-width","0"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","1.134"],["fill","none","fill-rule","evenodd","stroke","#000000","stroke-linecap","round","stroke-linejoin","round"],["d","m6.5 8.5v4"],["d","m8.5 6.5v9"],["d","m10.5 9.5v2"],["d","m12.5 7.5v6.814"],["d","m14.5 4.5v12"],["fill","none","fill-rule","evenodd","stroke-linecap","round","stroke-linejoin","round"],[1,"track-name","user-select-none","medium"],["id","track"],[1,"step","cursor-pointer",3,"active","current","highlight"],[1,"step","cursor-pointer",3,"click"]],template:function(r,o){r&1&&(de(0,"div",0)(1,"div",1)(2,"button",2),nt("click",function(){return o.soundService.playPause()}),Nr(3),pe()(),de(4,"div",3)(5,"div",4)(6,"app-select-input",5),nt("selectChange",function(s){return o.selectGenre(s)}),pe()(),de(7,"div",4)(8,"app-select-input",6),nt("selectChange",function(s){return o.beatChange(s)}),pe()(),de(9,"div",7)(10,"app-bpm-input",8),nt("bpmChange",function(s){return o.changeBeatBpm(s)}),pe(),de(11,"span",9),Nr(12," bpm"),pe()()(),de(13,"div",10),Pa(14,$K,19,1,"div",11,Xd),pe(),de(16,"section",12),Pa(17,zK,4,8,"article",null,Qm),pe()()),r&2&&(Oe(3),Vu(" ",o.soundService.isPlaying?"\u23F8":"\u25B6"," "),Oe(3),We("elements",o.genresLabel)("selectedElement",o.selectedGenreLabel),Oe(2),We("placeHolder",SC("Choose ",o.selectedGenreLabel," beat"))("elements",o.beats)("selectedElement",o.beat.label),Oe(2),We("bpm",o.tempoService.bpm),Oe(4),La(o.beat.tracks),Oe(3),La(o.beat.tracks))},dependencies:[fF,_F,il],styles:['html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%;margin:0}[_ngcontent-%COMP%]:root{font-family:Inter,sans-serif;font-feature-settings:"liga" 1,"calt" 1,"ss01" on}@supports (font-variation-settings: normal){[_ngcontent-%COMP%]:root{font-family:InterVariable,sans-serif}}a[_ngcontent-%COMP%]{all:unset}.flex[_ngcontent-%COMP%]{display:flex}.mt-40[_ngcontent-%COMP%]{margin-top:40px}.mb-40[_ngcontent-%COMP%]{margin-bottom:40px}.mb-10[_ngcontent-%COMP%]{margin-bottom:10px}.ml-10[_ngcontent-%COMP%]{margin-left:10px}.user-select-none[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none}.cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.large[_ngcontent-%COMP%]{font-size:large}.medium[_ngcontent-%COMP%]{font-size:medium}.app-button[_ngcontent-%COMP%]{background-color:var(--backgroundColor);color:var(--textColor);border:1px var(--borderColor) solid}body.dark[_ngcontent-%COMP%]{--backgroundColor: #2e2e2e;--textColor: white;--borderColor: white;--menuButtonColor: #CC71FA;--gridHighLightColor: #474747;background-color:var(--backgroundColor);color:var(--textColor)}body.light[_ngcontent-%COMP%]{--backgroundColor: white;--textColor: black;--borderColor: black;--menuButtonColor: #70F1FA;--gridHighLightColor: #e8e8e8;background-color:var(--backgroundColor);color:var(--textColor)}#main-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:max-content auto;gap:24px;margin:0 10px}.sequencer-grid[_ngcontent-%COMP%]{flex-direction:column}#track[_ngcontent-%COMP%]{display:grid;grid-template-rows:repeat(1,1fr);gap:4px}#track[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]{height:40px;width:40px;background-color:var(--backgroundColor);border-radius:4px;border:1px solid var(--borderColor)}#track[_ngcontent-%COMP%]   .current[_ngcontent-%COMP%]{background:repeating-linear-gradient(-45deg,var(--backgroundColor),var(--backgroundColor) 10px,var(--textColor) 5px,var(--textColor) 15px)}#track[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%], #track[_ngcontent-%COMP%]   .active.highlight[_ngcontent-%COMP%]{background-color:#cc71fa}#track[_ngcontent-%COMP%]   .active.current[_ngcontent-%COMP%], #track[_ngcontent-%COMP%]   .active.highlight.current[_ngcontent-%COMP%]{background:repeating-linear-gradient(-45deg,#CC71FA,#CC71FA 10px,var(--backgroundColor) 5px,var(--backgroundColor) 15px)}#track[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%]{background:var(--gridHighLightColor)}#track[_ngcontent-%COMP%]   .current.highlight[_ngcontent-%COMP%]{background:repeating-linear-gradient(-45deg,var(--gridHighLightColor),var(--gridHighLightColor) 10px,var(--textColor) 5px,var(--textColor) 15px)}.eight-steps[_ngcontent-%COMP%]{grid-template-columns:repeat(8,1fr)}.sixteen-steps[_ngcontent-%COMP%]{grid-template-columns:repeat(16,1fr)}.thirty-two-steps[_ngcontent-%COMP%]{grid-template-columns:repeat(32,1fr)}.sixty-four-steps[_ngcontent-%COMP%]{grid-template-columns:repeat(64,1fr)}.tracks-container[_ngcontent-%COMP%]{grid-column-start:2;grid-row-start:2;display:grid;grid-template-columns:auto;gap:4px;overflow-x:auto}.tracks-name-container[_ngcontent-%COMP%]{grid-column-start:1;grid-row-start:2}.tracks-name-container[_ngcontent-%COMP%]   .tracks-name[_ngcontent-%COMP%]{display:flex;gap:8px;align-items:center;height:45px}.tracks-name-container[_ngcontent-%COMP%]   .tracks-name[_ngcontent-%COMP%]   .svg-icon[_ngcontent-%COMP%]{stroke:var(--textColor);height:32px;width:32px}.tracks-name-container[_ngcontent-%COMP%]   .tracks-name[_ngcontent-%COMP%]   .track-name[_ngcontent-%COMP%]{white-space:nowrap}.sequencer-header[_ngcontent-%COMP%]{grid-column-start:2;grid-row-start:1}.sequencer-header[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{vertical-align:bottom}.sequencer-header[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]   .small[_ngcontent-%COMP%]{font-size:small}.sequencer-header[_ngcontent-%COMP%]   div[_ngcontent-%COMP%] + div[_ngcontent-%COMP%]{margin-top:8px}.sequencer-header[_ngcontent-%COMP%]   .bpm-input-group[_ngcontent-%COMP%]{align-items:center;gap:5px}.play-button-container[_ngcontent-%COMP%]{grid-column-start:1;grid-row-start:1;justify-content:center;align-items:center}.play-button-container[_ngcontent-%COMP%]   .play-pause-button[_ngcontent-%COMP%]{height:64px;width:64px;min-width:64px;font-size:20px;border-radius:8px;border-color:color-mix(in srgb,var(--textColor) 30%,var(--backgroundColor));transition:transform .2s ease-in-out,opacity .2s ease-in-out,border-color .3s,border-radius .3s,color .3s,background-color .3s}.play-button-container[_ngcontent-%COMP%]   .play-pause-button[_ngcontent-%COMP%]:active{transform:scale(.9)}.play-button-container[_ngcontent-%COMP%]   .play-pause-button[_ngcontent-%COMP%]:hover{background-color:color-mix(in srgb,var(--textColor) 80%,var(--backgroundColor));color:var(--backgroundColor);border-radius:10px;border-color:color-mix(in srgb,var(--textColor) 80%,var(--backgroundColor))}.custom-url-text[_ngcontent-%COMP%]{background-color:var(--backgroundColor);color:var(--textColor)}']})}}return e})();var IF=(()=>{class e{constructor(n){this.loader=n}intercept(n,r){return this.loader.start(),r.handle(n).pipe(Xi(()=>this.loader.complete()))}static{this.\u0275fac=function(r){return new(r||e)(P(kS))}}static{this.\u0275prov=O({token:e,factory:e.\u0275fac})}}return e})();var oy=class{constructor(t){this.getStepAtIndex=n=>this.steps[n],this.setStepAtIndex=(n,r)=>{this.steps[n]=r},this.steps=t}};var WK=[8,16,32,64],iy=class{constructor(t,n,r){if(this.fileName=n,this.name=t,!WK.includes(r.length))throw new Error(`Step ${r.length} is invalid`);this.steps=new oy(r),this.numberOfSteps=this.steps.steps.length}};var sy=class{static toBeat(t){return{label:t.label,genre:t.genre,bpm:GK(t.bpm),tracks:t.tracks.map(n=>new iy(n.name,n.fileName,[...n.steps].map(r=>r==="X")))}}static toCompactBeat(t){return{label:t.label,genre:t.genre,bpm:t.bpm,tracks:t.tracks.map(n=>({name:n.name,fileName:n.fileName,steps:n.steps.steps.map(r=>r?"X":" ").join("")}))}}};function GK(e){let t=typeof e=="number"?e:typeof e=="string"?Number(e):NaN;return Ja(t)}var ay=new k("JsonFilesReaderInterface");var wF=(()=>{class e{constructor(n){this.jsonFileReader=n}getAllBeats(){return Cd(this.jsonFileReader.loadAllJson().pipe(Q(n=>n.filter(r=>r!=null).map(r=>sy.toBeat(r)))))}static{this.\u0275fac=function(r){return new(r||e)(P(ay))}}static{this.\u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var Vz=nW(kF());var cy=e=>typeof e=="function",d=function(e,t){if(typeof e=="function")return function(){return e(arguments)?t.apply(this,arguments):n=>t(n,...arguments)};switch(e){case 0:case 1:throw new RangeError(`Invalid arity ${e}`);case 2:return function(n,r){return arguments.length>=2?t(n,r):function(o){return t(o,n)}};case 3:return function(n,r,o){return arguments.length>=3?t(n,r,o):function(i){return t(i,n,r)}};case 4:return function(n,r,o,i){return arguments.length>=4?t(n,r,o,i):function(s){return t(s,n,r,o)}};case 5:return function(n,r,o,i,s){return arguments.length>=5?t(n,r,o,i,s):function(a){return t(a,n,r,o,i)}};default:return function(){if(arguments.length>=e)return t.apply(this,arguments);let n=arguments;return function(r){return t(r,...n)}}}};var G=e=>e;var al=e=>()=>e,ci=al(!0),Hr=al(!1),PS=al(null),uy=al(void 0),go=uy;function m(e,t,n,r,o,i,s,a,c){switch(arguments.length){case 1:return e;case 2:return t(e);case 3:return n(t(e));case 4:return r(n(t(e)));case 5:return o(r(n(t(e))));case 6:return i(o(r(n(t(e)))));case 7:return s(i(o(r(n(t(e))))));case 8:return a(s(i(o(r(n(t(e)))))));case 9:return c(a(s(i(o(r(n(t(e))))))));default:{let u=arguments[0];for(let l=1;l<arguments.length;l++)u=arguments[l](u);return u}}}var cl=e=>(t,n)=>t===n||e(t,n);var NF=d(2,(e,t)=>cl((n,r)=>e(t(n),t(r))));var FF=e=>cl((t,n)=>{if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(!e(t[r],n[r]))return!1;return!0});var ly=e=>d(3,(t,n,r)=>e(t,o=>N(x({},o),{[n]:r(o)}))),dy=e=>d(2,(t,n)=>e(t,r=>({[n]:r}))),fy=(e,t)=>d(3,(n,r,o)=>t(n,i=>e(o(i),s=>N(x({},i),{[r]:s}))));var LF="effect/GlobalValue",Of,U=(e,t)=>(Of||(globalThis[LF]??=new Map,Of=globalThis[LF]),Of.has(e)||Of.set(e,t()),Of.get(e));var Rf=e=>typeof e=="string",Af=e=>typeof e=="number";var LS=e=>typeof e=="bigint";var Ss=cy;var YK=e=>typeof e=="object"&&e!==null,li=e=>YK(e)||Ss(e),A=d(2,(e,t)=>li(e)&&t in e),Ds=d(2,(e,t)=>A(e,"_tag")&&e._tag===t),Xa=e=>e==null;var sr=e=>typeof e=="string"||A(e,Symbol.iterator);var jS=e=>A(e,"then")&&Ss(e.then);var ec=e=>`BUG: ${e} - please report an issue at https://github.com/Effect-TS/effect/issues`;var HS=Symbol.for("effect/Gen/GenKind"),HF=e=>li(e)&&HS in e,BS=class{value;constructor(t){this.value=t}get _F(){return G}get _R(){return t=>t}get _O(){return t=>t}get _E(){return t=>t}[HS]=HS;[Symbol.iterator](){return new tc(this)}},tc=class e{self;called=!1;constructor(t){this.self=t}next(t){return this.called?{value:t,done:!0}:(this.called=!0,{value:this.self,done:!1})}return(t){return{value:t,done:!0}}throw(t){throw t}[Symbol.iterator](){return new e(this.self)}};var BF=()=>function(){let e=arguments[0];for(let t=1;t<arguments.length;t++)e=arguments[t](e);return new BS(e)},ZK=335903614,JK=4150755663,QK=1481765933,XK=1284865837,eY=9007199254740992,tY=134217728,py=class{_state;constructor(t,n,r,o){return Xa(n)&&Xa(t)?(n=Math.random()*4294967295>>>0,t=0):Xa(n)&&(n=t,t=0),Xa(o)&&Xa(r)?(o=this._state?this._state[3]:JK,r=this._state?this._state[2]:ZK):Xa(o)&&(o=r,r=0),this._state=new Int32Array([0,0,r>>>0,((o||0)|1)>>>0]),this._next(),jF(this._state,this._state[0],this._state[1],t>>>0,n>>>0),this._next(),this}getState(){return[this._state[0],this._state[1],this._state[2],this._state[3]]}setState(t){this._state[0]=t[0],this._state[1]=t[1],this._state[2]=t[2],this._state[3]=t[3]|1}integer(t){return Math.round(this.number()*Number.MAX_SAFE_INTEGER)%t}number(){let t=(this._next()&67108863)*1,n=(this._next()&134217727)*1;return(t*tY+n)/eY}_next(){let t=this._state[0]>>>0,n=this._state[1]>>>0;nY(this._state,t,n,QK,XK),jF(this._state,this._state[0],this._state[1],this._state[2],this._state[3]);let r=t>>>18,o=(n>>>18|t<<14)>>>0;r=(r^t)>>>0,o=(o^n)>>>0;let i=(o>>>27|r<<5)>>>0,s=t>>>27,a=(-s>>>0&31)>>>0;return(i>>>s|i<<a)>>>0}};function nY(e,t,n,r,o){let i=(n>>>16)*(o&65535)>>>0,s=(n&65535)*(o>>>16)>>>0,a=(n&65535)*(o&65535)>>>0,c=(n>>>16)*(o>>>16)+((s>>>16)+(i>>>16))>>>0;s=s<<16>>>0,a=a+s>>>0,a>>>0<s>>>0&&(c=c+1>>>0),i=i<<16>>>0,a=a+i>>>0,a>>>0<i>>>0&&(c=c+1>>>0),c=c+Math.imul(n,r)>>>0,c=c+Math.imul(t,o)>>>0,e[0]=c,e[1]=a}function jF(e,t,n,r,o){let i=t+r>>>0,s=n+o>>>0;s>>>0<n>>>0&&(i=i+1|0),e[0]=i,e[1]=s}var VS=Symbol.for("effect/Utils/YieldWrap"),yo=class{#e;constructor(t){this.#e=t}[VS](){return this.#e}};function Nf(e){if(typeof e=="object"&&e!==null&&VS in e)return e[VS]();throw new Error(ec("yieldWrapGet"))}var yn=U("effect/Utils/isStructuralRegion",()=>({enabled:!1,tester:void 0}));var VF={effect_internal_function:e=>e()},rY={effect_internal_function:e=>e()},oY=VF.effect_internal_function(()=>new Error().stack)?.includes("effect_internal_function")===!0,Ye=oY?VF.effect_internal_function:rY.effect_internal_function,iY=function*(){}.constructor,UF=e=>li(e)&&e.constructor===iY;var $S=U(Symbol.for("effect/Hash/randomHashCache"),()=>new WeakMap),L=Symbol.for("effect/Hash"),w=e=>{if(yn.enabled===!0)return 0;switch(typeof e){case"number":return my(e);case"bigint":return he(e.toString(10));case"boolean":return he(String(e));case"symbol":return he(String(e));case"string":return he(e);case"undefined":return he("undefined");case"function":case"object":return e===null?he("null"):e instanceof Date?Number.isNaN(e.getTime())?he("Invalid Date"):w(e.toISOString()):e instanceof URL?w(e.href):sY(e)?e[L]():ul(e);default:throw new Error(`BUG: unhandled typeof ${typeof e} - please report an issue at https://github.com/Effect-TS/effect/issues`)}},ul=e=>($S.has(e)||$S.set(e,my(Math.floor(Math.random()*Number.MAX_SAFE_INTEGER))),$S.get(e)),B=e=>t=>t*53^e,hy=e=>e&3221225471|e>>>1&1073741824,sY=e=>A(e,L),my=e=>{if(e!==e||e===1/0)return 0;let t=e|0;for(t!==e&&(t^=e*4294967295);e>4294967295;)t^=e/=4294967295;return hy(t)},he=e=>{let t=5381,n=e.length;for(;n;)t=t*33^e.charCodeAt(--n);return hy(t)},aY=(e,t)=>{let n=12289;for(let r=0;r<t.length;r++)n^=m(he(t[r]),B(w(e[t[r]])));return hy(n)},gy=e=>aY(e,Object.keys(e)),vn=e=>{let t=6151;for(let n=0;n<e.length;n++)t=m(t,B(w(e[n])));return hy(t)},K=function(){if(arguments.length===1){let n=arguments[0];return function(r){return Object.defineProperty(n,L,{value(){return r},enumerable:!1}),r}}let e=arguments[0],t=arguments[1];return Object.defineProperty(e,L,{value(){return t},enumerable:!1}),t};var F=Symbol.for("effect/Equal");function M(){return arguments.length===1?e=>yy(e,arguments[0]):yy(arguments[0],arguments[1])}function yy(e,t){if(e===t)return!0;let n=typeof e;if(n!==typeof t)return!1;if(n==="object"||n==="function"){if(e!==null&&t!==null){if(ll(e)&&ll(t))return w(e)===w(t)&&e[F](t)?!0:yn.enabled&&yn.tester?yn.tester(e,t):!1;if(e instanceof Date&&t instanceof Date){let r=e.getTime(),o=t.getTime();return r===o||Number.isNaN(r)&&Number.isNaN(o)}else if(e instanceof URL&&t instanceof URL)return e.href===t.href}if(yn.enabled){if(Array.isArray(e)&&Array.isArray(t))return e.length===t.length&&e.every((r,o)=>yy(r,t[o]));if(Object.getPrototypeOf(e)===Object.prototype&&Object.getPrototypeOf(t)===Object.prototype){let r=Object.keys(e),o=Object.keys(t);if(r.length===o.length){for(let i of r)if(!(i in t&&yy(e[i],t[i])))return yn.tester?yn.tester(e,t):!1;return!0}}return yn.tester?yn.tester(e,t):!1}}return yn.enabled&&yn.tester?yn.tester(e,t):!1}var ll=e=>A(e,F),Ff=()=>M;var Y=Symbol.for("nodejs.util.inspect.custom"),re=e=>{try{if(A(e,"toJSON")&&Ss(e.toJSON)&&e.toJSON.length===0)return e.toJSON();if(Array.isArray(e))return e.map(re)}catch(t){return{}}return WF(e)};var se=e=>JSON.stringify(e,null,2),EMe={toJSON(){return re(this)},[Y](){return this.toJSON()},toString(){return se(this.toJSON())}},$F=class{[Y](){return this.toJSON()}toString(){return se(this.toJSON())}},di=(e,t=2)=>{if(typeof e=="string")return e;try{return typeof e=="object"?vy(e,t):String(e)}catch(n){return String(e)}},vy=(e,t)=>{let n=[],r=JSON.stringify(e,(o,i)=>typeof i=="object"&&i!==null?n.includes(i)?void 0:n.push(i)&&(nc.fiberRefs!==void 0&&qF(i)?i[qS](nc.fiberRefs):i):i,t);return n=void 0,r},qS=Symbol.for("effect/Inspectable/Redactable"),qF=e=>typeof e=="object"&&e!==null&&qS in e,nc=U("effect/Inspectable/redactableState",()=>({fiberRefs:void 0})),zF=(e,t)=>{let n=nc.fiberRefs;nc.fiberRefs=e;try{return t()}finally{nc.fiberRefs=n}},WF=e=>qF(e)&&nc.fiberRefs!==void 0?e[qS](nc.fiberRefs):e;var R=(e,t)=>{switch(t.length){case 0:return e;case 1:return t[0](e);case 2:return t[1](t[0](e));case 3:return t[2](t[1](t[0](e)));case 4:return t[3](t[2](t[1](t[0](e))));case 5:return t[4](t[3](t[2](t[1](t[0](e)))));case 6:return t[5](t[4](t[3](t[2](t[1](t[0](e))))));case 7:return t[6](t[5](t[4](t[3](t[2](t[1](t[0](e)))))));case 8:return t[7](t[6](t[5](t[4](t[3](t[2](t[1](t[0](e))))))));case 9:return t[8](t[7](t[6](t[5](t[4](t[3](t[2](t[1](t[0](e)))))))));default:{let n=e;for(let r=0,o=t.length;r<o;r++)n=t[r](n);return n}}};var rc="Async",oc="Commit",rt="Failure",dl="OnFailure",fl="OnSuccess",pl="OnSuccessAndFailure",ot="Success",by="Sync";var fi="UpdateRuntimeFlags",hl="While",ic="Iterator",Ey="WithRuntime",ml="Yield",Pf="RevertFlags";var uY="3.19.16",jf=()=>uY;var KF=Symbol.for("effect/Effect"),YF=Symbol.for("effect/Stream"),ZF=Symbol.for("effect/Sink"),JF=Symbol.for("effect/Channel"),Is={_R:e=>e,_E:e=>e,_A:e=>e,_V:jf()},lY={_A:e=>e,_In:e=>e,_L:e=>e,_E:e=>e,_R:e=>e},dY={_Env:e=>e,_InErr:e=>e,_InElem:e=>e,_InDone:e=>e,_OutErr:e=>e,_OutElem:e=>e,_OutDone:e=>e},pi={[KF]:Is,[YF]:Is,[ZF]:lY,[JF]:dY,[F](e){return this===e},[L](){return K(this,ul(this))},[Symbol.iterator](){return new tc(new yo(this))},pipe(){return R(this,arguments)}},gl={[L](){return K(this,gy(this))},[F](e){let t=Object.keys(this),n=Object.keys(e);if(t.length!==n.length)return!1;for(let r of t)if(!(r in e&&M(this[r],e[r])))return!1;return!0}},hi=N(x({},pi),{_op:oc}),zS=x(x({},hi),gl),QF=(function(){function e(){}return e.prototype=hi,e})();var eP=Symbol.for("effect/Option"),tP=N(x({},pi),{[eP]:{_A:e=>e},[Y](){return this.toJSON()},toString(){return se(this.toJSON())}}),fY=Object.assign(Object.create(tP),{_tag:"Some",_op:"Some",[F](e){return _y(e)&&WS(e)&&M(this.value,e.value)},[L](){return K(this,B(w(this._tag))(w(this.value)))},toJSON(){return{_id:"Option",_tag:this._tag,value:re(this.value)}}}),pY=w("None"),hY=Object.assign(Object.create(tP),{_tag:"None",_op:"None",[F](e){return _y(e)&&sc(e)},[L](){return pY},toJSON(){return{_id:"Option",_tag:this._tag}}}),_y=e=>A(e,eP),sc=e=>e._tag==="None",WS=e=>e._tag==="Some",ws=Object.create(hY),ar=e=>{let t=Object.create(fY);return t.value=e,t};var GS=Symbol.for("effect/Either"),nP=N(x({},pi),{[GS]:{_R:e=>e},[Y](){return this.toJSON()},toString(){return se(this.toJSON())}}),mY=Object.assign(Object.create(nP),{_tag:"Right",_op:"Right",[F](e){return KS(e)&&Sy(e)&&M(this.right,e.right)},[L](){return B(w(this._tag))(w(this.right))},toJSON(){return{_id:"Either",_tag:this._tag,right:re(this.right)}}}),gY=Object.assign(Object.create(nP),{_tag:"Left",_op:"Left",[F](e){return KS(e)&&yl(e)&&M(this.left,e.left)},[L](){return B(w(this._tag))(w(this.left))},toJSON(){return{_id:"Either",_tag:this._tag,left:re(this.left)}}}),KS=e=>A(e,GS),yl=e=>e._tag==="Left",Sy=e=>e._tag==="Right",Dy=e=>{let t=Object.create(gY);return t.left=e,t},Iy=e=>{let t=Object.create(mY);return t.right=e,t},YS=e=>Sy(e)?ws:ar(e.left),ZS=e=>yl(e)?ws:ar(e.right);var sn=Iy;var cr=Dy;var vo=yl,vl=Sy;var yY=d(2,(e,{onLeft:t,onRight:n})=>vo(e)?t(e.left):n(e.right));var wy=yY({onLeft:G,onRight:G});var JS=e=>e.length>0;var be={};g0(be,{Do:()=>QY,TypeId:()=>xY,all:()=>dP,andThen:()=>AY,ap:()=>HY,as:()=>cP,asVoid:()=>OY,bind:()=>JY,bindTo:()=>YY,composeK:()=>LY,contains:()=>nD,containsWith:()=>hP,exists:()=>KY,filter:()=>UY,filterMap:()=>pP,firstSomeOf:()=>IY,flatMap:()=>xn,flatMapNullable:()=>kY,flatten:()=>NY,fromIterable:()=>EY,fromNullable:()=>Br,gen:()=>e7,getEquivalence:()=>$Y,getLeft:()=>CY,getOrElse:()=>pt,getOrNull:()=>MY,getOrThrow:()=>eD,getOrThrowWith:()=>aP,getOrUndefined:()=>$t,getOrder:()=>qY,getRight:()=>_Y,isNone:()=>ce,isOption:()=>sP,isSome:()=>Ce,let:()=>ZY,lift2:()=>zY,liftNullable:()=>wY,liftPredicate:()=>WY,liftThrowable:()=>TY,map:()=>ft,match:()=>vt,mergeWith:()=>xl,none:()=>_,orElse:()=>SY,orElseEither:()=>DY,orElseSome:()=>XS,partitionMap:()=>VY,product:()=>lP,productMany:()=>jY,reduceCompact:()=>BY,some:()=>C,tap:()=>uP,toArray:()=>fP,toRefinement:()=>bY,void:()=>RY,zipLeft:()=>PY,zipRight:()=>FY,zipWith:()=>tD});var My=e=>(t,n)=>t===n?0:e(t,n);var oP=My((e,t)=>e<t?-1:1);var iP=d(2,(e,t)=>My((n,r)=>e(t(n),t(r))));var QS=e=>d(2,(t,n)=>e(t,n)===1);var xY=Symbol.for("effect/Option"),_=()=>ws,C=ar,sP=_y,ce=sc,Ce=WS,vt=d(2,(e,{onNone:t,onSome:n})=>ce(e)?t():n(e.value)),bY=e=>t=>Ce(e(t)),EY=e=>{for(let t of e)return C(t);return _()},_Y=ZS,CY=YS,pt=d(2,(e,t)=>ce(e)?t():e.value),SY=d(2,(e,t)=>ce(e)?t():e),XS=d(2,(e,t)=>ce(e)?C(t()):e),DY=d(2,(e,t)=>ce(e)?ft(t(),Iy):ft(e,Dy)),IY=e=>{let t=_();for(t of e)if(Ce(t))return t;return t},Br=e=>e==null?_():C(e),wY=e=>(...t)=>Br(e(...t)),MY=pt(PS),$t=pt(uy),TY=e=>(...t)=>{try{return C(e(...t))}catch(n){return _()}},aP=d(2,(e,t)=>{if(Ce(e))return e.value;throw t()}),eD=aP(()=>new Error("getOrThrow called on a None")),ft=d(2,(e,t)=>ce(e)?_():C(t(e.value))),cP=d(2,(e,t)=>ft(e,()=>t)),OY=cP(void 0),RY=C(void 0);var xn=d(2,(e,t)=>ce(e)?_():t(e.value)),AY=d(2,(e,t)=>xn(e,n=>{let r=cy(t)?t(n):t;return sP(r)?r:C(r)})),kY=d(2,(e,t)=>ce(e)?_():Br(t(e.value))),NY=xn(G),FY=d(2,(e,t)=>xn(e,()=>t)),PY=d(2,(e,t)=>uP(e,()=>t)),LY=d(2,(e,t)=>n=>xn(e(n),t)),uP=d(2,(e,t)=>xn(e,n=>ft(t(n),()=>n))),lP=(e,t)=>Ce(e)&&Ce(t)?C([e.value,t.value]):_(),jY=(e,t)=>{if(ce(e))return _();let n=[e.value];for(let r of t){if(ce(r))return _();n.push(r.value)}return C(n)},dP=e=>{if(Symbol.iterator in e){let n=[];for(let r of e){if(ce(r))return _();n.push(r.value)}return C(n)}let t={};for(let n of Object.keys(e)){let r=e[n];if(ce(r))return _();t[n]=r.value}return C(t)},tD=d(3,(e,t,n)=>ft(lP(e,t),([r,o])=>n(r,o))),HY=d(2,(e,t)=>tD(e,t,(n,r)=>n(r))),BY=d(3,(e,t,n)=>{let r=t;for(let o of e)Ce(o)&&(r=n(r,o.value));return r}),fP=e=>ce(e)?[]:[e.value],VY=d(2,(e,t)=>{if(ce(e))return[_(),_()];let n=t(e.value);return yl(n)?[C(n.left),_()]:[_(),C(n.right)]}),pP=xn,UY=d(2,(e,t)=>pP(e,n=>t(n)?ar(n):ws)),$Y=e=>cl((t,n)=>ce(t)?ce(n):ce(n)?!1:e(t.value,n.value)),qY=e=>My((t,n)=>Ce(t)?Ce(n)?e(t.value,n.value):1:-1),zY=e=>d(2,(t,n)=>tD(t,n,e)),WY=d(2,(e,t)=>t(e)?C(e):_()),hP=e=>d(2,(t,n)=>ce(t)?!1:e(t.value,n)),GY=Ff(),nD=hP(GY),KY=d(2,(e,t)=>ce(e)?!1:t(e.value)),YY=dy(ft),ZY=ly(ft);var JY=fy(ft,xn),QY=C({}),XY=BF(),e7=(...e)=>{let n=(e.length===1?e[0]:e[1].bind(e[0]))(XY),r=n.next();for(;!r.done;){let o=HF(r.value)?r.value.value:Nf(r.value);if(ce(o))return o;r=n.next(o.value)}return C(r.value)},xl=e=>(t,n)=>ce(t)?n:ce(n)?t:C(e(t.value,n.value));var mP=(...e)=>e;var Hf=e=>new Array(e),rD=d(2,(e,t)=>{let n=Math.max(1,Math.floor(e)),r=new Array(n);for(let o=0;o<n;o++)r[o]=t(o);return r});var ae=e=>Array.isArray(e)?e:Array.from(e),yP=e=>Array.isArray(e)?e:[e];var bl=d(2,(e,t)=>[t,...e]);var vP=d(2,(e,t)=>[...e,t]),oD=d(2,(e,t)=>ae(e).concat(ae(t)));var t7=e=>e.length===0,xP=t7,Oy=JS,Jt=JS;var bP=(e,t)=>e<0||e>=t.length,n7=(e,t)=>Math.floor(Math.min(Math.max(0,e),t.length)),r7=d(2,(e,t)=>{let n=Math.floor(t);return bP(n,e)?_():C(e[n])}),iD=d(2,(e,t)=>{let n=Math.floor(t);if(bP(n,e))throw new Error(`Index ${n} out of bounds`);return e[n]});var Ts=r7(0),Nt=iD(0),Ry=e=>Jt(e)?C(sD(e)):_(),sD=e=>e[e.length-1];var xo=e=>e.slice(1);var o7=(e,t)=>{let n=0;for(let r of e){if(!t(r,n))break;n++}return n},EP=d(2,(e,t)=>s7(e,o7(e,t))),_P=d(2,(e,t)=>{let n=ae(e);return n.slice(n7(t,n),n.length)});var aD=e=>Array.from(e).reverse(),ac=d(2,(e,t)=>{let n=Array.from(e);return n.sort(t),n});var cD=d(2,(e,t)=>CP(e,t,mP)),CP=d(3,(e,t,n)=>{let r=ae(e),o=ae(t);if(Jt(r)&&Jt(o)){let i=[n(Nt(r),Nt(o))],s=Math.min(r.length,o.length);for(let a=1;a<s;a++)i[a]=n(r[a],o[a]);return i}return[]});var i7=Ff();var s7=d(2,(e,t)=>{let n=Array.from(e),r=Math.floor(t);return Jt(n)?r>=1?a7(n,r):[[],n]:[n,[]]}),a7=d(2,(e,t)=>{let n=Math.max(1,Math.floor(t));return n>=e.length?[c7(e),[]]:[bl(e.slice(1,n),Nt(e)),e.slice(n)]});var c7=e=>e.slice();var u7=d(3,(e,t,n)=>{let r=ae(e),o=ae(t);return Jt(r)?Jt(o)?IP(n)(oD(r,o)):r:o}),Vr=d(2,(e,t)=>u7(e,t,i7));var Ur=()=>[],an=e=>[e],bo=d(2,(e,t)=>e.map(t)),SP=d(2,(e,t)=>{if(xP(e))return[];let n=[];for(let r=0;r<e.length;r++){let o=t(e[r],r);for(let i=0;i<o.length;i++)n.push(o[i])}return n}),Ay=SP(G),El=d(2,(e,t)=>{let n=ae(e),r=[];for(let o=0;o<n.length;o++){let i=t(n[o],o);Ce(i)&&r.push(i.value)}return r});var uD=d(2,(e,t)=>{let n=[],r=[],o=ae(e);for(let i=0;i<o.length;i++){let s=t(o[i],i);vo(s)?n.push(s.left):r.push(s.right)}return[n,r]}),DP=El(G);var Os=d(3,(e,t,n)=>ae(e).reduce((r,o,i)=>n(r,o,i),t)),ky=d(3,(e,t,n)=>ae(e).reduceRight((r,o,i)=>n(r,o,i),t));var lD=(e,t)=>{let n=[],r=e,o;for(;Ce(o=t(r));){let[i,s]=o.value;n.push(i),r=s}return n};var _l=FF;var IP=d(2,(e,t)=>{let n=ae(e);if(Jt(n)){let r=[Nt(n)],o=xo(n);for(let i of o)r.every(s=>!t(i,s))&&r.push(i);return r}return[]}),dD=e=>IP(e,Ff());var mi=d(2,(e,t)=>ae(e).join(t));var Rs=oP;var wP=e=>e.replace(/[/\\^$*+?.()|[\]{}]/g,"\\$&");var TP=e=>!e;var pD=Symbol.for("effect/Context/Tag"),Bf=Symbol.for("effect/Context/Reference"),p7="effect/STM",h7=Symbol.for(p7),Vf=N(x({},pi),{_op:"Tag",[h7]:Is,[pD]:{_Service:e=>e,_Identifier:e=>e},toString(){return se(this.toJSON())},toJSON(){return{_id:"Tag",key:this.key,stack:this.stack}},[Y](){return this.toJSON()},of(e){return e},context(e){return gD(this,e)}}),m7=N(x({},Vf),{[Bf]:Bf}),RP=e=>{let t=Error.stackTraceLimit;Error.stackTraceLimit=2;let n=new Error;Error.stackTraceLimit=t;let r=Object.create(Vf);return Object.defineProperty(r,"stack",{get(){return n.stack}}),r.key=e,r};var AP=()=>(e,t)=>{let n=Error.stackTraceLimit;Error.stackTraceLimit=2;let r=new Error;Error.stackTraceLimit=n;function o(){}return Object.setPrototypeOf(o,m7),o.key=e,o.defaultValue=t.defaultValue,Object.defineProperty(o,"stack",{get(){return r.stack}}),o},hD=Symbol.for("effect/Context"),g7={[hD]:{_Services:e=>e},[F](e){if(mD(e)&&this.unsafeMap.size===e.unsafeMap.size){for(let t of this.unsafeMap.keys())if(!e.unsafeMap.has(t)||!M(this.unsafeMap.get(t),e.unsafeMap.get(t)))return!1;return!0}return!1},[L](){return K(this,my(this.unsafeMap.size))},pipe(){return R(this,arguments)},toString(){return se(this.toJSON())},toJSON(){return{_id:"Context",services:Array.from(this.unsafeMap).map(re)}},[Y](){return this.toJSON()}},gi=e=>{let t=Object.create(g7);return t.unsafeMap=e,t},y7=e=>{let t=new Error(`Service not found${e.key?`: ${String(e.key)}`:""}`);if(e.stack){let n=e.stack.split(`
`);if(n.length>2){let r=n[2].match(/at (.*)/);r&&(t.message=t.message+` (defined at ${r[1]})`)}}if(t.stack){let n=t.stack.split(`
`);n.splice(1,3),t.stack=n.join(`
`)}return t},mD=e=>A(e,hD),kP=e=>A(e,pD),NP=e=>A(e,Bf),v7=gi(new Map),FP=()=>v7,gD=(e,t)=>gi(new Map([[e.key,t]])),PP=d(3,(e,t,n)=>{let r=new Map(e.unsafeMap);return r.set(t.key,n),gi(r)}),fD=U("effect/Context/defaultValueCache",()=>new Map),yD=e=>{if(fD.has(e.key))return fD.get(e.key);let t=e.defaultValue();return fD.set(e.key,t),t},LP=(e,t)=>e.unsafeMap.has(t.key)?e.unsafeMap.get(t.key):yD(t),vD=d(2,(e,t)=>{if(!e.unsafeMap.has(t.key)){if(Bf in t)return yD(t);throw y7(t)}return e.unsafeMap.get(t.key)}),jP=vD;var HP=d(2,(e,t)=>e.unsafeMap.has(t.key)?ar(e.unsafeMap.get(t.key)):NP(t)?ar(yD(t)):ws),BP=d(2,(e,t)=>{let n=new Map(e.unsafeMap);for(let[r,o]of t.unsafeMap)n.set(r,o);return gi(n)}),VP=(...e)=>{let t=new Map;for(let n=0;n<e.length;n++)e[n].unsafeMap.forEach((r,o)=>{t.set(o,r)});return gi(t)};var cn=RP;var $P=mD,Uf=kP;var Vn=FP,cc=gD,je=PP,bn=jP;var As=vD,$r=HP,yi=BP,qP=VP;var Eo=AP;var zP=Symbol.for("effect/Chunk");function x7(e,t,n,r,o){for(let i=t;i<Math.min(e.length,t+o);i++)n[r+i-t]=e[i];return n}var WP=[],b7=e=>cl((t,n)=>t.length===n.length&&ur(t).every((r,o)=>e(r,uc(n,o)))),E7=b7(M),_7={[zP]:{_A:e=>e},toString(){return se(this.toJSON())},toJSON(){return{_id:"Chunk",values:ur(this).map(re)}},[Y](){return this.toJSON()},[F](e){return GP(e)&&E7(this,e)},[L](){return K(this,vn(ur(this)))},[Symbol.iterator](){switch(this.backing._tag){case"IArray":return this.backing.array[Symbol.iterator]();case"IEmpty":return WP[Symbol.iterator]();default:return ur(this)[Symbol.iterator]()}},pipe(){return R(this,arguments)}},Dt=e=>{let t=Object.create(_7);switch(t.backing=e,e._tag){case"IEmpty":{t.length=0,t.depth=0,t.left=t,t.right=t;break}case"IConcat":{t.length=e.left.length+e.right.length,t.depth=1+Math.max(e.left.depth,e.right.depth),t.left=e.left,t.right=e.right;break}case"IArray":{t.length=e.array.length,t.depth=0,t.left=_o,t.right=_o;break}case"ISingleton":{t.length=1,t.depth=0,t.left=_o,t.right=_o;break}case"ISlice":{t.length=e.length,t.depth=e.chunk.depth+1,t.left=_o,t.right=_o;break}}return t},GP=e=>A(e,zP),_o=Dt({_tag:"IEmpty"}),un=()=>_o,$f=(...e)=>I7(e),Ze=e=>Dt({_tag:"ISingleton",a:e}),lc=e=>GP(e)?e:qf(ae(e)),xD=(e,t,n)=>{switch(e.backing._tag){case"IArray":{x7(e.backing.array,0,t,n,e.length);break}case"IConcat":{xD(e.left,t,n),xD(e.right,t,n+e.left.length);break}case"ISingleton":{t[n]=e.backing.a;break}case"ISlice":{let r=0,o=n;for(;r<e.length;)t[o]=uc(e,r),r+=1,o+=1;break}}};var C7=e=>{switch(e.backing._tag){case"IEmpty":return WP;case"IArray":return e.backing.array;default:{let t=new Array(e.length);return xD(e,t,0),e.backing={_tag:"IArray",array:t},e.left=_o,e.right=_o,e.depth=0,t}}},ur=C7,S7=e=>{switch(e.backing._tag){case"IEmpty":case"ISingleton":return e;case"IArray":return Dt({_tag:"IArray",array:aD(e.backing.array)});case"IConcat":return Dt({_tag:"IConcat",left:Co(e.backing.right),right:Co(e.backing.left)});case"ISlice":return qf(aD(ur(e)))}},Co=S7,D7=d(2,(e,t)=>t<0||t>=e.length?_():C(uc(e,t))),qf=e=>e.length===0?un():e.length===1?Ze(e[0]):Dt({_tag:"IArray",array:e}),I7=e=>qf(e),uc=d(2,(e,t)=>{switch(e.backing._tag){case"IEmpty":throw new Error("Index out of bounds");case"ISingleton":{if(t!==0)throw new Error("Index out of bounds");return e.backing.a}case"IArray":{if(t>=e.length||t<0)throw new Error("Index out of bounds");return e.backing.array[t]}case"IConcat":return t<e.left.length?uc(e.left,t):uc(e.right,t-e.left.length);case"ISlice":return uc(e.backing.chunk,t+e.backing.offset)}}),Fy=d(2,(e,t)=>Un(e,Ze(t))),Ft=d(2,(e,t)=>Un(Ze(t),e));var bD=d(2,(e,t)=>{if(t<=0)return e;if(t>=e.length)return _o;switch(e.backing._tag){case"ISlice":return Dt({_tag:"ISlice",chunk:e.backing.chunk,offset:e.backing.offset+t,length:e.backing.length-t});case"IConcat":return t>e.left.length?bD(e.right,t-e.left.length):Dt({_tag:"IConcat",left:bD(e.left,t),right:e.right});default:return Dt({_tag:"ISlice",chunk:e,offset:t,length:e.length-t})}});var Un=d(2,(e,t)=>{if(e.backing._tag==="IEmpty")return t;if(t.backing._tag==="IEmpty")return e;let n=t.depth-e.depth;if(Math.abs(n)<=1)return Dt({_tag:"IConcat",left:e,right:t});if(n<-1)if(e.left.depth>=e.right.depth){let r=Un(e.right,t);return Dt({_tag:"IConcat",left:e.left,right:r})}else{let r=Un(e.right.right,t);if(r.depth===e.depth-3){let o=Dt({_tag:"IConcat",left:e.right.left,right:r});return Dt({_tag:"IConcat",left:e.left,right:o})}else{let o=Dt({_tag:"IConcat",left:e.left,right:e.right.left});return Dt({_tag:"IConcat",left:o,right:r})}}else if(t.right.depth>=t.left.depth){let r=Un(e,t.left);return Dt({_tag:"IConcat",left:r,right:t.right})}else{let r=Un(e,t.left.left);if(r.depth===t.depth-3){let o=Dt({_tag:"IConcat",left:r,right:t.left.right});return Dt({_tag:"IConcat",left:o,right:t.right})}else{let o=Dt({_tag:"IConcat",left:t.left.right,right:t.right});return Dt({_tag:"IConcat",left:r,right:o})}}});var ED=e=>e.length===0,qt=e=>e.length>0,Py=D7(0),_D=e=>uc(e,0),Pt=_D;var Xt=e=>bD(e,1);var CD=Symbol.for("effect/Duration"),QP=BigInt(0),KP=BigInt(24),Ly=BigInt(60),SD=BigInt(1e3),YP=BigInt(1e6),ZP=BigInt(1e9),w7=/^(-?\d+(?:\.\d+)?)\s+(nanos?|micros?|millis?|seconds?|minutes?|hours?|days?|weeks?)$/,It=e=>{if(XP(e))return e;if(Af(e))return ks(e);if(LS(e))return zf(e);if(Array.isArray(e)&&e.length===2&&e.every(Af))return e[0]===-1/0||e[1]===-1/0||Number.isNaN(e[0])||Number.isNaN(e[1])?Ns:e[0]===1/0||e[1]===1/0?R7:zf(BigInt(Math.round(e[0]*1e9))+BigInt(Math.round(e[1])));if(Rf(e)){let t=w7.exec(e);if(t){let[n,r,o]=t,i=Number(r);switch(o){case"nano":case"nanos":return zf(BigInt(r));case"micro":case"micros":return A7(BigInt(r));case"milli":case"millis":return ks(i);case"second":case"seconds":return DD(i);case"minute":case"minutes":return k7(i);case"hour":case"hours":return N7(i);case"day":case"days":return F7(i);case"week":case"weeks":return P7(i)}}}throw new Error("Invalid DurationInput")};var JP={_tag:"Millis",millis:0},M7={_tag:"Infinity"},T7={[CD]:CD,[L](){return K(this,gy(this.value))},[F](e){return XP(e)&&V7(this,e)},toString(){return`Duration(${MD(this)})`},toJSON(){switch(this.value._tag){case"Millis":return{_id:"Duration",_tag:"Millis",millis:this.value.millis};case"Nanos":return{_id:"Duration",_tag:"Nanos",hrtime:j7(this)};case"Infinity":return{_id:"Duration",_tag:"Infinity"}}},[Y](){return this.toJSON()},pipe(){return R(this,arguments)}},Do=e=>{let t=Object.create(T7);return Af(e)?isNaN(e)||e<=0?t.value=JP:Number.isFinite(e)?Number.isInteger(e)?t.value={_tag:"Millis",millis:e}:t.value={_tag:"Nanos",nanos:BigInt(Math.round(e*1e6))}:t.value=M7:e<=QP?t.value=JP:t.value={_tag:"Nanos",nanos:e},t},XP=e=>A(e,CD);var O7=e=>{switch(e.value._tag){case"Millis":return e.value.millis===0;case"Nanos":return e.value.nanos===QP;case"Infinity":return!1}},Ns=Do(0),R7=Do(1/0),zf=e=>Do(e),A7=e=>Do(e*SD),ks=e=>Do(e),DD=e=>Do(e*1e3),k7=e=>Do(e*6e4),N7=e=>Do(e*36e5),F7=e=>Do(e*864e5),P7=e=>Do(e*6048e5),So=e=>H7(e,{onMillis:t=>t,onNanos:t=>Number(t)/1e6});var L7=e=>{let t=It(e);switch(t.value._tag){case"Infinity":throw new Error("Cannot convert infinite duration to nanos");case"Nanos":return t.value.nanos;case"Millis":return BigInt(Math.round(t.value.millis*1e6))}},j7=e=>{let t=It(e);switch(t.value._tag){case"Infinity":return[1/0,0];case"Nanos":return[Number(t.value.nanos/ZP),Number(t.value.nanos%ZP)];case"Millis":return[Math.floor(t.value.millis/1e3),Math.round(t.value.millis%1e3*1e6)]}},H7=d(2,(e,t)=>{let n=It(e);switch(n.value._tag){case"Nanos":return t.onNanos(n.value.nanos);case"Infinity":return t.onMillis(1/0);case"Millis":return t.onMillis(n.value.millis)}}),ID=d(3,(e,t,n)=>{let r=It(e),o=It(t);if(r.value._tag==="Infinity"||o.value._tag==="Infinity")return n.onMillis(So(r),So(o));if(r.value._tag==="Nanos"||o.value._tag==="Nanos"){let i=r.value._tag==="Nanos"?r.value.nanos:BigInt(Math.round(r.value.millis*1e6)),s=o.value._tag==="Nanos"?o.value.nanos:BigInt(Math.round(o.value.millis*1e6));return n.onNanos(i,s)}return n.onMillis(r.value.millis,o.value.millis)});var B7=(e,t)=>ID(e,t,{onMillis:(n,r)=>n===r,onNanos:(n,r)=>n===r});var eL=d(2,(e,t)=>ID(e,t,{onMillis:(n,r)=>n<=r,onNanos:(n,r)=>n<=r}));var wD=d(2,(e,t)=>ID(e,t,{onMillis:(n,r)=>n>=r,onNanos:(n,r)=>n>=r})),V7=d(2,(e,t)=>B7(It(e),It(t))),U7=e=>{let t=It(e);if(t.value._tag==="Infinity")return{days:1/0,hours:1/0,minutes:1/0,seconds:1/0,millis:1/0,nanos:1/0};let n=L7(t),r=n/YP,o=r/SD,i=o/Ly,s=i/Ly,a=s/KP;return{days:Number(a),hours:Number(s%KP),minutes:Number(i%Ly),seconds:Number(o%Ly),millis:Number(r%SD),nanos:Number(n%YP)}},MD=e=>{let t=It(e);if(t.value._tag==="Infinity")return"Infinity";if(O7(t))return"0";let n=U7(t),r=[];return n.days!==0&&r.push(`${n.days}d`),n.hours!==0&&r.push(`${n.hours}h`),n.minutes!==0&&r.push(`${n.minutes}m`),n.seconds!==0&&r.push(`${n.seconds}s`),n.millis!==0&&r.push(`${n.millis}ms`),n.nanos!==0&&r.push(`${n.nanos}ns`),r.join(" ")};var TD=Math.pow(2,5),tL=TD-1,nL=TD/2,rL=TD/4;function $7(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),e=e+(e>>4)&252645135,e+=e>>8,e+=e>>16,e&127}function Fs(e,t){return t>>>e&tL}function Ps(e){return 1<<e}function jy(e,t){return $7(e&t-1)}var oL=(e,t)=>({value:e,previous:t});function dc(e,t,n,r){let o=r;if(!e){let i=r.length;o=new Array(i);for(let s=0;s<i;++s)o[s]=r[s]}return o[t]=n,o}function OD(e,t,n){let r=n.length-1,o=0,i=0,s=n;if(e)o=i=t;else for(s=new Array(r);o<t;)s[i++]=n[o++];for(++o;o<=r;)s[i++]=n[o++];return e&&(s.length=r),s}function iL(e,t,n,r){let o=r.length;if(e){let c=o;for(;c>=t;)r[c--]=r[c];return r[t]=n,r}let i=0,s=0,a=new Array(o+1);for(;i<t;)a[s++]=r[i++];for(a[t]=n;i<o;)a[++s]=r[i++];return a}var xi=class e{_tag="EmptyNode";modify(t,n,r,o,i,s){let a=r(_());return ce(a)?new e:(++s.value,new Cl(t,o,i,a))}};function lr(e){return Ds(e,"EmptyNode")}function z7(e){return lr(e)||e._tag==="LeafNode"||e._tag==="CollisionNode"}function Hy(e,t){return lr(e)?!1:t===e.edit}var Cl=class e{edit;hash;key;value;_tag="LeafNode";constructor(t,n,r,o){this.edit=t,this.hash=n,this.key=r,this.value=o}modify(t,n,r,o,i,s){if(M(i,this.key)){let c=r(this.value);return c===this.value?this:ce(c)?(--s.value,new xi):Hy(this,t)?(this.value=c,this):new e(t,o,i,c)}let a=r(_());return ce(a)?this:(++s.value,sL(t,n,this.hash,this,o,new e(t,o,i,a)))}},RD=class e{edit;hash;children;_tag="CollisionNode";constructor(t,n,r){this.edit=t,this.hash=n,this.children=r}modify(t,n,r,o,i,s){if(o===this.hash){let c=Hy(this,t),u=this.updateCollisionList(c,t,this.hash,this.children,r,i,s);return u===this.children?this:u.length>1?new e(t,this.hash,u):u[0]}let a=r(_());return ce(a)?this:(++s.value,sL(t,n,this.hash,this,o,new Cl(t,o,i,a)))}updateCollisionList(t,n,r,o,i,s,a){let c=o.length;for(let l=0;l<c;++l){let f=o[l];if("key"in f&&M(s,f.key)){let h=f.value,p=i(h);return p===h?o:ce(p)?(--a.value,OD(t,l,o)):dc(t,l,new Cl(n,r,s,p),o)}}let u=i(_());return ce(u)?o:(++a.value,dc(t,c,new Cl(n,r,s,u),o))}},Wf=class e{edit;mask;children;_tag="IndexedNode";constructor(t,n,r){this.edit=t,this.mask=n,this.children=r}modify(t,n,r,o,i,s){let a=this.mask,c=this.children,u=Fs(n,o),l=Ps(u),f=jy(a,l),h=a&l,p=Hy(this,t);if(!h){let z=new xi().modify(t,n+5,r,o,i,s);return z?c.length>=nL?G7(t,u,z,a,c):new e(t,a|l,iL(p,f,z,c)):this}let y=c[f],S=y.modify(t,n+5,r,o,i,s);if(y===S)return this;let I=a,T;if(lr(S)){if(I&=~l,!I)return new xi;if(c.length<=2&&z7(c[f^1]))return c[f^1];T=OD(p,f,c)}else T=dc(p,f,S,c);return p?(this.mask=I,this.children=T,this):new e(t,I,T)}},AD=class e{edit;size;children;_tag="ArrayNode";constructor(t,n,r){this.edit=t,this.size=n,this.children=r}modify(t,n,r,o,i,s){let a=this.size,c=this.children,u=Fs(n,o),l=c[u],f=(l||new xi).modify(t,n+5,r,o,i,s);if(l===f)return this;let h=Hy(this,t),p;if(lr(l)&&!lr(f))++a,p=dc(h,u,f,c);else if(!lr(l)&&lr(f)){if(--a,a<=rL)return W7(t,a,u,c);p=dc(h,u,new xi,c)}else p=dc(h,u,f,c);return h?(this.size=a,this.children=p,this):new e(t,a,p)}};function W7(e,t,n,r){let o=new Array(t-1),i=0,s=0;for(let a=0,c=r.length;a<c;++a)if(a!==n){let u=r[a];u&&!lr(u)&&(o[i++]=u,s|=1<<a)}return new Wf(e,s,o)}function G7(e,t,n,r,o){let i=[],s=r,a=0;for(let c=0;s;++c)s&1&&(i[c]=o[a++]),s>>>=1;return i[t]=n,new AD(e,a+1,i)}function K7(e,t,n,r,o,i){if(n===o)return new RD(e,n,[i,r]);let s=Fs(t,n),a=Fs(t,o);if(s===a)return c=>new Wf(e,Ps(s)|Ps(a),[c]);{let c=s<a?[r,i]:[i,r];return new Wf(e,Ps(s)|Ps(a),c)}}function sL(e,t,n,r,o,i){let s,a=t;for(;;){let c=K7(e,a,n,r,o,i);if(typeof c=="function")s=oL(c,s),a=a+5;else{let u=c;for(;s!=null;)u=s.value(u),s=s.previous;return u}}}var aL="effect/HashMap",By=Symbol.for(aL),Z7={[By]:By,[Symbol.iterator](){return new Vy(this,(e,t)=>[e,t])},[L](){let e=w(aL);for(let t of this)e^=m(w(t[0]),B(w(t[1])));return K(this,e)},[F](e){if(dL(e)){if(e._size!==this._size)return!1;for(let t of this){let n=m(e,$y(t[0],w(t[0])));if(ce(n))return!1;if(!M(t[1],n.value))return!1}return!0}return!1},toString(){return se(this.toJSON())},toJSON(){return{_id:"HashMap",values:Array.from(this).map(re)}},[Y](){return this.toJSON()},pipe(){return R(this,arguments)}},kD=(e,t,n,r)=>{let o=Object.create(Z7);return o._editable=e,o._edit=t,o._root=n,o._size=r,o},Vy=class e{map;f;v;constructor(t,n){this.map=t,this.f=n,this.v=cL(this.map._root,this.f,void 0)}next(){if(ce(this.v))return{done:!0,value:void 0};let t=this.v.value;return this.v=Uy(t.cont),{done:!1,value:t.value}}[Symbol.iterator](){return new e(this.map,this.f)}},Uy=e=>e?uL(e[0],e[1],e[2],e[3],e[4]):_(),cL=(e,t,n=void 0)=>{switch(e._tag){case"LeafNode":return Ce(e.value)?C({value:t(e.key,e.value.value),cont:n}):Uy(n);case"CollisionNode":case"ArrayNode":case"IndexedNode":{let r=e.children;return uL(r.length,r,0,t,n)}default:return Uy(n)}},uL=(e,t,n,r,o)=>{for(;n<e;){let i=t[n++];if(i&&!lr(i))return cL(i,r,[e,t,n,r,o])}return Uy(o)},J7=kD(!1,0,new xi,0),Dl=()=>J7;var lL=e=>{let t=Kf(Dl());for(let n of e)fc(t,n[0],n[1]);return FD(t)},dL=e=>A(e,By),fL=e=>e&&lr(e._root),pL=d(2,(e,t)=>$y(e,t,w(t))),$y=d(3,(e,t,n)=>{let r=e._root,o=0;for(;;)switch(r._tag){case"LeafNode":return M(t,r.key)?r.value:_();case"CollisionNode":{if(n===r.hash){let i=r.children;for(let s=0,a=i.length;s<a;++s){let c=i[s];if("key"in c&&M(t,c.key))return c.value}}return _()}case"IndexedNode":{let i=Fs(o,n),s=Ps(i);if(r.mask&s){r=r.children[jy(r.mask,s)],o+=5;break}return _()}case"ArrayNode":{if(r=r.children[Fs(o,n)],r){o+=5;break}return _()}default:return _()}});var ND=d(2,(e,t)=>Ce($y(e,t,w(t))));var fc=d(3,(e,t,n)=>zy(e,t,()=>C(n))),Q7=d(3,(e,t,n)=>e._editable?(e._root=t,e._size=n,e):t===e._root?e:kD(e._editable,e._edit,t,n)),qy=e=>new Vy(e,t=>t);var Gf=e=>e._size;var Kf=e=>kD(!0,e._edit+1,e._root,e._size),FD=e=>(e._editable=!1,e),hL=d(2,(e,t)=>{let n=Kf(e);return t(n),FD(n)}),zy=d(3,(e,t,n)=>mL(e,t,w(t),n)),mL=d(4,(e,t,n,r)=>{let o={value:e._size},i=e._root.modify(e._editable?e._edit:NaN,0,r,n,t,o);return m(e,Q7(i,o.value))});var Wy=d(2,(e,t)=>zy(e,t,_));var gL=d(2,(e,t)=>Il(e,Dl(),(n,r,o)=>fc(n,o,t(r,o))));var Gy=d(2,(e,t)=>Il(e,void 0,(n,r,o)=>t(r,o))),Il=d(3,(e,t,n)=>{let r=e._root;if(r._tag==="LeafNode")return Ce(r.value)?n(t,r.value.value,r.key):t;if(r._tag==="EmptyNode")return t;let o=[r.children],i;for(;i=o.pop();)for(let s=0,a=i.length;s<a;){let c=i[s++];c&&!lr(c)&&(c._tag==="LeafNode"?Ce(c.value)&&(t=n(t,c.value.value,c.key)):o.push(c.children))}return t});var vL="effect/HashSet",Ky=Symbol.for(vL),X7={[Ky]:Ky,[Symbol.iterator](){return qy(this._keyMap)},[L](){return K(this,B(w(this._keyMap))(w(vL)))},[F](e){return xL(e)?Gf(this._keyMap)===Gf(e._keyMap)&&M(this._keyMap,e._keyMap):!1},toString(){return se(this.toJSON())},toJSON(){return{_id:"HashSet",values:Array.from(this).map(re)}},[Y](){return this.toJSON()},pipe(){return R(this,arguments)}},Yy=e=>{let t=Object.create(X7);return t._keyMap=e,t},xL=e=>A(e,Ky),eZ=Yy(Dl()),Yf=()=>eZ,bL=e=>{let t=Zy(Yf());for(let n of e)wl(t,n);return Jy(t)},EL=(...e)=>{let t=Zy(Yf());for(let n of e)wl(t,n);return Jy(t)},_L=d(2,(e,t)=>ND(e._keyMap,t));var CL=e=>Gf(e._keyMap),Zy=e=>Yy(Kf(e._keyMap)),Jy=e=>(e._keyMap._editable=!1,e),PD=d(2,(e,t)=>{let n=Zy(e);return t(n),Jy(n)}),wl=d(2,(e,t)=>e._keyMap._editable?(fc(t,!0)(e._keyMap),e):Yy(fc(t,!0)(e._keyMap))),LD=d(2,(e,t)=>e._keyMap._editable?(Wy(t)(e._keyMap),e):Yy(Wy(t)(e._keyMap))),SL=d(2,(e,t)=>PD(e,n=>{for(let r of t)LD(n,r)}));var DL=d(2,(e,t)=>PD(Yf(),n=>{IL(e,r=>wl(n,r));for(let r of t)wl(n,r)}));var IL=d(2,(e,t)=>Gy(e._keyMap,(n,r)=>t(r))),wL=d(3,(e,t,n)=>Il(e._keyMap,t,(r,o,i)=>n(r,i)));var Io=Yf,Qy=bL,pc=EL,ML=_L;var hc=CL;var mc=wl,jD=LD,HD=SL;var bi=DL;var gc=wL;var TL=Symbol.for("effect/MutableRef"),nZ={[TL]:TL,toString(){return se(this.toJSON())},toJSON(){return{_id:"MutableRef",current:re(this.current)}},[Y](){return this.toJSON()},pipe(){return R(this,arguments)}},wo=e=>{let t=Object.create(nZ);return t.current=e,t},Xy=d(3,(e,t,n)=>M(t,e.current)?(e.current=n,!0):!1);var En=e=>e.current;var dr=d(2,(e,t)=>(e.current=t,e));var tv="effect/FiberId",Ls=Symbol.for(tv),Ml="None",BD="Runtime",VD="Composite",rZ=he(`${tv}-${Ml}`),UD=class{[Ls]=Ls;_tag=Ml;id=-1;startTimeMillis=-1;[L](){return rZ}[F](t){return rv(t)&&t._tag===Ml}toString(){return se(this.toJSON())}toJSON(){return{_id:"FiberId",_tag:this._tag}}[Y](){return this.toJSON()}},$D=class{id;startTimeMillis;[Ls]=Ls;_tag=BD;constructor(t,n){this.id=t,this.startTimeMillis=n}[L](){return K(this,he(`${tv}-${this._tag}-${this.id}-${this.startTimeMillis}`))}[F](t){return rv(t)&&t._tag===BD&&this.id===t.id&&this.startTimeMillis===t.startTimeMillis}toString(){return se(this.toJSON())}toJSON(){return{_id:"FiberId",_tag:this._tag,id:this.id,startTimeMillis:this.startTimeMillis}}[Y](){return this.toJSON()}},qD=class{left;right;[Ls]=Ls;_tag=VD;constructor(t,n){this.left=t,this.right=n}_hash;[L](){return m(he(`${tv}-${this._tag}`),B(w(this.left)),B(w(this.right)),K(this))}[F](t){return rv(t)&&t._tag===VD&&M(this.left,t.left)&&M(this.right,t.right)}toString(){return se(this.toJSON())}toJSON(){return{_id:"FiberId",_tag:this._tag,left:re(this.left),right:re(this.right)}}[Y](){return this.toJSON()}},nv=new UD;var rv=e=>A(e,Ls);var RL=d(2,(e,t)=>e._tag===Ml?t:t._tag===Ml?e:new qD(e,t));var ev=e=>{switch(e._tag){case Ml:return Io();case BD:return pc(e.id);case VD:return m(ev(e.left),bi(ev(e.right)))}},OL=U(Symbol.for("effect/Fiber/Id/_fiberCounter"),()=>wo(0));var ov=e=>Array.from(ev(e)).map(n=>`#${n}`).join(",");var AL=()=>{let e=En(OL);return m(OL,dr(e+1)),new $D(e,Date.now())};var _n=nv;var zD=RL;var NL=ov;var iv=AL;var vc=Dl;var FL=lL,PL=fL,WD=pL;var qr=fc,GD=qy;var LL=hL,jL=zy;var HL=gL;var BL=Gy,KD=Il;var Zf=Symbol.for("effect/List"),YD=e=>ae(e),oZ=e=>NF(_l(e),YD),iZ=oZ(M),sZ={[Zf]:Zf,_tag:"Cons",toString(){return se(this.toJSON())},toJSON(){return{_id:"List",_tag:"Cons",values:YD(this).map(re)}},[Y](){return this.toJSON()},[F](e){return UL(e)&&this._tag===e._tag&&iZ(this,e)},[L](){return K(this,vn(YD(this)))},[Symbol.iterator](){let e=!1,t=this;return{next(){if(e)return this.return();if(t._tag==="Nil")return e=!0,this.return();let n=t.head;return t=t.tail,{done:e,value:n}},return(n){return e||(e=!0),{done:!0,value:n}}}},pipe(){return R(this,arguments)}},sv=(e,t)=>{let n=Object.create(sZ);return n.head=e,n.tail=t,n},aZ=he("Nil"),cZ={[Zf]:Zf,_tag:"Nil",toString(){return se(this.toJSON())},toJSON(){return{_id:"List",_tag:"Nil"}},[Y](){return this.toJSON()},[L](){return aZ},[F](e){return UL(e)&&this._tag===e._tag},[Symbol.iterator](){return{next(){return{done:!0,value:void 0}}}},pipe(){return R(this,arguments)}},VL=Object.create(cZ),UL=e=>A(e,Zf),Mo=e=>e._tag==="Nil",ZD=e=>e._tag==="Cons";var uZ=()=>VL,_i=(e,t)=>sv(e,t),To=uZ,Jf=e=>sv(e,VL);var $L=d(2,(e,t)=>lZ(t,e)),av=d(2,(e,t)=>_i(t,e)),lZ=d(2,(e,t)=>{if(Mo(e))return t;if(Mo(t))return e;{let n=sv(t.head,e),r=n,o=t.tail;for(;!Mo(o);){let i=sv(o.head,e);r.tail=i,r=i,o=o.tail}return n}});var qL=d(3,(e,t,n)=>{let r=t,o=e;for(;!Mo(o);)r=n(r,o.head),o=o.tail;return r});var zL=e=>{let t=To(),n=e;for(;!Mo(n);)t=av(t,n.head),n=n.tail;return t};var H0e=Object.assign(Object.create(Array.prototype),{[L](){return K(this,vn(this))},[F](e){return Array.isArray(e)&&this.length===e.length?this.every((t,n)=>M(t,e[n])):!1}}),Rl=(function(){function e(t){t&&Object.assign(this,t)}return e.prototype=gl,e})(),cv=e=>Object.assign(Object.create(gl),e);var dZ=Symbol.for("effect/DifferContextPatch");function GL(e){return e}var ep=N(x({},Rl.prototype),{[dZ]:{_Value:GL,_Patch:GL}}),fZ=Object.assign(Object.create(ep),{_tag:"Empty"}),pZ=Object.create(fZ),JD=()=>pZ,hZ=Object.assign(Object.create(ep),{_tag:"AndThen"}),mZ=(e,t)=>{let n=Object.create(hZ);return n.first=e,n.second=t,n},gZ=Object.assign(Object.create(ep),{_tag:"AddService"}),yZ=(e,t)=>{let n=Object.create(gZ);return n.key=e,n.service=t,n},vZ=Object.assign(Object.create(ep),{_tag:"RemoveService"}),xZ=e=>{let t=Object.create(vZ);return t.key=e,t},bZ=Object.assign(Object.create(ep),{_tag:"UpdateService"}),EZ=(e,t)=>{let n=Object.create(bZ);return n.key=e,n.update=t,n},KL=(e,t)=>{let n=new Map(e.unsafeMap),r=JD();for(let[o,i]of t.unsafeMap.entries())if(n.has(o)){let s=n.get(o);n.delete(o),M(s,i)||(r=Xf(EZ(o,()=>i))(r))}else n.delete(o),r=Xf(yZ(o,i))(r);for(let[o]of n.entries())r=Xf(xZ(o))(r);return r},Xf=d(2,(e,t)=>mZ(e,t)),YL=d(2,(e,t)=>{if(e._tag==="Empty")return t;let n=!1,r=Ze(e),o=new Map(t.unsafeMap);for(;qt(r);){let s=Pt(r),a=Xt(r);switch(s._tag){case"Empty":{r=a;break}case"AddService":{o.set(s.key,s.service),r=a;break}case"AndThen":{r=Ft(Ft(a,s.second),s.first);break}case"RemoveService":{o.delete(s.key),r=a;break}case"UpdateService":{o.set(s.key,s.update(o.get(s.key))),n=!0,r=a;break}}}if(!n)return gi(o);let i=new Map;for(let[s]of t.unsafeMap)o.has(s)&&(i.set(s,o.get(s)),o.delete(s));for(let[s,a]of o)i.set(s,a);return gi(i)});var CZ=Symbol.for("effect/DifferHashSetPatch");function QD(e){return e}var lv=N(x({},Rl.prototype),{[CZ]:{_Value:QD,_Key:QD,_Patch:QD}}),SZ=Object.assign(Object.create(lv),{_tag:"Empty"}),DZ=Object.create(SZ),XD=()=>DZ,IZ=Object.assign(Object.create(lv),{_tag:"AndThen"}),wZ=(e,t)=>{let n=Object.create(IZ);return n.first=e,n.second=t,n},MZ=Object.assign(Object.create(lv),{_tag:"Add"}),TZ=e=>{let t=Object.create(MZ);return t.value=e,t},OZ=Object.assign(Object.create(lv),{_tag:"Remove"}),RZ=e=>{let t=Object.create(OZ);return t.value=e,t},ZL=(e,t)=>{let[n,r]=gc([e,XD()],([o,i],s)=>ML(s)(o)?[jD(s)(o),i]:[o,uv(TZ(s))(i)])(t);return gc(r,(o,i)=>uv(RZ(i))(o))(n)},uv=d(2,(e,t)=>wZ(e,t)),JL=d(2,(e,t)=>{if(e._tag==="Empty")return t;let n=t,r=Ze(e);for(;qt(r);){let o=Pt(r),i=Xt(r);switch(o._tag){case"Empty":{r=i;break}case"AndThen":{r=Ft(o.first)(Ft(o.second)(i));break}case"Add":{n=mc(o.value)(n),r=i;break}case"Remove":n=jD(o.value)(n),r=i}}return n});var kZ=Symbol.for("effect/DifferReadonlyArrayPatch");function QL(e){return e}var np=N(x({},Rl.prototype),{[kZ]:{_Value:QL,_Patch:QL}}),NZ=Object.assign(Object.create(np),{_tag:"Empty"}),FZ=Object.create(NZ),eI=()=>FZ,PZ=Object.assign(Object.create(np),{_tag:"AndThen"}),LZ=(e,t)=>{let n=Object.create(PZ);return n.first=e,n.second=t,n},jZ=Object.assign(Object.create(np),{_tag:"Append"}),HZ=e=>{let t=Object.create(jZ);return t.values=e,t},BZ=Object.assign(Object.create(np),{_tag:"Slice"}),VZ=(e,t)=>{let n=Object.create(BZ);return n.from=e,n.until=t,n},UZ=Object.assign(Object.create(np),{_tag:"Update"}),$Z=(e,t)=>{let n=Object.create(UZ);return n.index=e,n.patch=t,n},XL=e=>{let t=0,n=eI();for(;t<e.oldValue.length&&t<e.newValue.length;){let r=e.oldValue[t],o=e.newValue[t],i=e.differ.diff(r,o);M(i,e.differ.empty)||(n=tp(n,$Z(t,i))),t=t+1}return t<e.oldValue.length&&(n=tp(n,VZ(0,t))),t<e.newValue.length&&(n=tp(n,HZ(_P(t)(e.newValue)))),n},tp=d(2,(e,t)=>LZ(e,t)),e1=d(3,(e,t,n)=>{if(e._tag==="Empty")return t;let r=t.slice(),o=an(e);for(;Oy(o);){let i=Nt(o),s=xo(o);switch(i._tag){case"Empty":{o=s;break}case"AndThen":{s.unshift(i.first,i.second),o=s;break}case"Append":{for(let a of i.values)r.push(a);o=s;break}case"Slice":{r=r.slice(i.from,i.until),o=s;break}case"Update":{r[i.index]=n.patch(i.patch,r[i.index]),o=s;break}}}return r});var t1=Symbol.for("effect/Differ"),zZ={[t1]:{_P:G,_V:G},pipe(){return R(this,arguments)}},js=e=>{let t=Object.create(zZ);return t.empty=e.empty,t.diff=e.diff,t.combine=e.combine,t.patch=e.patch,t},tI=()=>js({empty:JD(),combine:(e,t)=>Xf(t)(e),diff:(e,t)=>KL(e,t),patch:(e,t)=>YL(t)(e)});var nI=()=>js({empty:XD(),combine:(e,t)=>uv(t)(e),diff:(e,t)=>ZL(e,t),patch:(e,t)=>JL(t)(e)});var rI=e=>js({empty:eI(),combine:(t,n)=>tp(t,n),diff:(t,n)=>XL({oldValue:t,newValue:n,differ:e}),patch:(t,n)=>e1(t,n,e)});var dv=()=>n1((e,t)=>t),n1=e=>js({empty:G,combine:(t,n)=>t===G?n:n===G?t:r=>n(t(r)),diff:(t,n)=>M(t,n)?G:al(n),patch:(t,n)=>e(n,t(n))});var rp=255,r1=8,fv=e=>e&rp,pv=e=>e>>r1&rp,xc=(e,t)=>(e&rp)+((t&e&rp)<<r1),hv=xc(0,0),o1=e=>xc(e,e),i1=e=>xc(e,0);var s1=d(2,(e,t)=>xc(fv(e)&~t,pv(e)));var iI=d(2,(e,t)=>e|t);var a1=e=>~e>>>0&rp;var WZ=0,zr=1,u1=2,sI=4,mv=16,aI=32;var l1=e=>gv(e,aI),cI=d(2,(e,t)=>e&~t);var uI=d(2,(e,t)=>e|t);var Ci=e=>op(e)&&!GZ(e),op=e=>gv(e,zr);var gv=d(2,(e,t)=>(e&t)!==0),lI=(...e)=>e.reduce((t,n)=>t|n,0),d1=lI(WZ);var dI=e=>gv(e,sI);var GZ=e=>gv(e,mv);var fr=d(2,(e,t)=>xc(e^t,t)),Si=d(2,(e,t)=>e&(a1(fv(t))|pv(t))|fv(t)&pv(t));var fI=js({empty:hv,diff:(e,t)=>fr(e,t),combine:(e,t)=>iI(t)(e),patch:(e,t)=>Si(t,e)});var f1=hv;var pI=o1,hI=i1;var mI=s1;var p1={_tag:"Empty"},xI=(e,t)=>({_tag:"Par",left:e,right:t}),yv=(e,t)=>({_tag:"Seq",left:e,right:t}),bI=(e,t)=>({_tag:"Single",dataSource:e,blockedRequest:t});var h1=e=>{let t=Jf(e),n=To();for(;;){let[r,o]=qL(t,[m1(),To()],([i,s],a)=>{let[c,u]=KZ(a);return[tJ(i,c),$L(s,u)]});if(n=YZ(n,r),Mo(o))return zL(n);t=o}throw new Error("BUG: BlockedRequests.flatten - please report an issue at https://github.com/Effect-TS/effect/issues")},KZ=e=>{let t=e,n=m1(),r=To(),o=To();for(;;)switch(t._tag){case"Empty":{if(Mo(r))return[n,o];t=r.head,r=r.tail;break}case"Par":{r=_i(t.right,r),t=t.left;break}case"Seq":{let i=t.left,s=t.right;switch(i._tag){case"Empty":{t=s;break}case"Par":{let a=i.left,c=i.right;t=xI(yv(a,s),yv(c,s));break}case"Seq":{let a=i.left,c=i.right;t=yv(a,yv(c,s));break}case"Single":{t=i,o=_i(s,o);break}}break}case"Single":{if(n=eJ(n,t),Mo(r))return[n,o];t=r.head,r=r.tail;break}}throw new Error("BUG: BlockedRequests.step - please report an issue at https://github.com/Effect-TS/effect/issues")},YZ=(e,t)=>{if(Mo(e))return Jf(yI(t));if(nJ(t))return e;let n=cJ(e.head),r=rJ(t);return n.length===1&&r.length===1&&M(n[0],r[0])?_i(aJ(e.head,yI(t)),e.tail):_i(yI(t),e)},ZZ=Symbol.for("effect/RequestBlock/Entry"),vI=class{request;result;listeners;ownerId;state;[ZZ]=JZ;constructor(t,n,r,o,i){this.request=t,this.result=n,this.listeners=r,this.ownerId=o,this.state=i}},JZ={_R:e=>e};var EI=e=>new vI(e.request,e.result,e.listeners,e.ownerId,e.state),QZ=Symbol.for("effect/RequestBlock/RequestBlockParallel"),XZ={_R:e=>e},sp=class{map;[QZ]=XZ;constructor(t){this.map=t}},m1=()=>new sp(vc());var eJ=(e,t)=>new sp(jL(e.map,t.dataSource,n=>XS(ft(n,Fy(t.blockedRequest)),()=>Ze(t.blockedRequest)))),tJ=(e,t)=>new sp(KD(e.map,t.map,(n,r,o)=>qr(n,o,vt(WD(n,o),{onNone:()=>r,onSome:i=>Un(r,i)})))),nJ=e=>PL(e.map),rJ=e=>Array.from(GD(e.map)),yI=e=>sJ(HL(e.map,t=>Ze(t))),oJ=Symbol.for("effect/RequestBlock/RequestBlockSequential"),iJ={_R:e=>e},vv=class{map;[oJ]=iJ;constructor(t){this.map=t}},sJ=e=>new vv(e),aJ=(e,t)=>new vv(KD(t.map,e.map,(n,r,o)=>qr(n,o,vt(WD(n,o),{onNone:()=>un(),onSome:i=>Un(i,r)}))));var cJ=e=>Array.from(GD(e.map)),g1=e=>Array.from(e.map);var Hs="Empty",bc="Fail",Ec="Interrupt",_c="Parallel",Cc="Sequential";var b1="effect/Cause",E1=Symbol.for(b1),lJ={_E:e=>e},Nl={[E1]:lJ,[L](){return m(w(b1),B(w(hJ(this))),K(this))},[F](e){return CI(e)&&pJ(this,e)},pipe(){return R(this,arguments)},toJSON(){switch(this._tag){case"Empty":return{_id:"Cause",_tag:this._tag};case"Die":return{_id:"Cause",_tag:this._tag,defect:re(this.defect)};case"Interrupt":return{_id:"Cause",_tag:this._tag,fiberId:this.fiberId.toJSON()};case"Fail":return{_id:"Cause",_tag:this._tag,failure:re(this.error)};case"Sequential":case"Parallel":return{_id:"Cause",_tag:this._tag,left:re(this.left),right:re(this.right)}}},toString(){return Ii(this)},[Y](){return this.toJSON()}},Cn=(()=>{let e=Object.create(Nl);return e._tag=Hs,e})(),Dc=e=>{let t=Object.create(Nl);return t._tag=bc,t.error=e,t},wt=e=>{let t=Object.create(Nl);return t._tag="Die",t.defect=e,t},pr=e=>{let t=Object.create(Nl);return t._tag=Ec,t.fiberId=e,t},Sn=(e,t)=>{let n=Object.create(Nl);return n._tag=_c,n.left=e,n.right=t,n},Je=(e,t)=>{let n=Object.create(Nl);return n._tag=Cc,n.left=e,n.right=t,n},CI=e=>A(e,E1),_1=e=>e._tag===Hs;var ap=e=>e._tag==="Die";var SI=e=>e._tag===Hs?!0:Al(e,!0,(t,n)=>{switch(n._tag){case Hs:return C(t);case"Die":case bc:case Ec:return C(!1);default:return _()}});var DI=e=>Ce(dJ(e)),cp=e=>MI(void 0,gJ)(e),bv=e=>Co(Al(e,un(),(t,n)=>n._tag===bc?C(m(t,Ft(n.error))):_())),II=e=>Co(Al(e,un(),(t,n)=>n._tag==="Die"?C(m(t,Ft(n.defect))):_())),Ev=e=>Al(e,Io(),(t,n)=>n._tag===Ec?C(m(t,mc(n.fiberId))):_()),C1=e=>Ic(e,t=>t._tag===bc?C(t.error):_()),Di=e=>{let t=C1(e);switch(t._tag){case"None":return sn(e);case"Some":return cr(t.value)}};var dJ=e=>Ic(e,t=>t._tag===Ec?C(t.fiberId):_()),S1=e=>up(e,{onEmpty:_(),onFail:()=>_(),onDie:t=>C(wt(t)),onInterrupt:()=>_(),onSequential:xl(Je),onParallel:xl(Sn)}),D1=e=>up(e,{onEmpty:_(),onFail:t=>C(wt(t)),onDie:t=>C(wt(t)),onInterrupt:()=>_(),onSequential:xl(Je),onParallel:xl(Sn)});var wI=e=>up(e,{onEmpty:Cn,onFail:()=>Cn,onDie:wt,onInterrupt:pr,onSequential:Je,onParallel:Sn}),I1=e=>up(e,{onEmpty:Cn,onFail:wt,onDie:wt,onInterrupt:pr,onSequential:Je,onParallel:Sn});var fJ=d(2,(e,t)=>up(e,{onEmpty:Cn,onFail:n=>t(n),onDie:n=>wt(n),onInterrupt:n=>pr(n),onSequential:(n,r)=>Je(n,r),onParallel:(n,r)=>Sn(n,r)})),w1=e=>fJ(e,G);var pJ=(e,t)=>{let n=Ze(e),r=Ze(t);for(;qt(n)&&qt(r);){let[o,i]=m(Pt(n),Al([Io(),un()],([c,u],l)=>{let[f,h]=_I(l);return C([m(c,bi(f)),m(u,Un(h))])})),[s,a]=m(Pt(r),Al([Io(),un()],([c,u],l)=>{let[f,h]=_I(l);return C([m(c,bi(f)),m(u,Un(h))])}));if(!M(o,s))return!1;n=i,r=a}return!0},hJ=e=>mJ(Ze(e),un()),mJ=(e,t)=>{for(;;){let[n,r]=m(e,Os([Io(),un()],([i,s],a)=>{let[c,u]=_I(a);return[m(i,bi(c)),m(s,Un(u))]})),o=hc(n)>0?m(t,Ft(n)):t;if(ED(r))return Co(o);e=r,t=o}throw new Error(ec("Cause.flattenCauseLoop"))},Ic=d(2,(e,t)=>{let n=[e];for(;n.length>0;){let r=n.pop(),o=t(r);switch(o._tag){case"None":{switch(r._tag){case Cc:case _c:{n.push(r.right),n.push(r.left);break}}break}case"Some":return o}}return _()});var _I=e=>{let t=e,n=[],r=Io(),o=un();for(;t!==void 0;)switch(t._tag){case Hs:{if(n.length===0)return[r,o];t=n.pop();break}case bc:{if(r=mc(r,$f(t._tag,t.error)),n.length===0)return[r,o];t=n.pop();break}case"Die":{if(r=mc(r,$f(t._tag,t.defect)),n.length===0)return[r,o];t=n.pop();break}case Ec:{if(r=mc(r,$f(t._tag,t.fiberId)),n.length===0)return[r,o];t=n.pop();break}case Cc:{switch(t.left._tag){case Hs:{t=t.right;break}case Cc:{t=Je(t.left.left,Je(t.left.right,t.right));break}case _c:{t=Sn(Je(t.left.left,t.right),Je(t.left.right,t.right));break}default:{o=Ft(o,t.right),t=t.left;break}}break}case _c:{n.push(t.right),t=t.left;break}}throw new Error(ec("Cause.evaluateCauseLoop"))};var gJ={emptyCase:ci,failCase:Hr,dieCase:Hr,interruptCase:ci,sequentialCase:(e,t,n)=>t&&n,parallelCase:(e,t,n)=>t&&n};var v1="SequentialCase",x1="ParallelCase",up=d(2,(e,{onDie:t,onEmpty:n,onFail:r,onInterrupt:o,onParallel:i,onSequential:s})=>MI(e,void 0,{emptyCase:()=>n,failCase:(a,c)=>r(c),dieCase:(a,c)=>t(c),interruptCase:(a,c)=>o(c),sequentialCase:(a,c,u)=>s(c,u),parallelCase:(a,c,u)=>i(c,u)})),Al=d(3,(e,t,n)=>{let r=t,o=e,i=[];for(;o!==void 0;){let s=n(r,o);switch(r=Ce(s)?s.value:r,o._tag){case Cc:{i.push(o.right),o=o.left;break}case _c:{i.push(o.right),o=o.left;break}default:{o=void 0;break}}o===void 0&&i.length>0&&(o=i.pop())}return r}),MI=d(3,(e,t,n)=>{let r=[e],o=[];for(;r.length>0;){let s=r.pop();switch(s._tag){case Hs:{o.push(sn(n.emptyCase(t)));break}case bc:{o.push(sn(n.failCase(t,s.error)));break}case"Die":{o.push(sn(n.dieCase(t,s.defect)));break}case Ec:{o.push(sn(n.interruptCase(t,s.fiberId)));break}case Cc:{r.push(s.right),r.push(s.left),o.push(cr({_tag:v1}));break}case _c:{r.push(s.right),r.push(s.left),o.push(cr({_tag:x1}));break}}}let i=[];for(;o.length>0;){let s=o.pop();switch(s._tag){case"Left":{switch(s.left._tag){case v1:{let a=i.pop(),c=i.pop(),u=n.sequentialCase(t,a,c);i.push(u);break}case x1:{let a=i.pop(),c=i.pop(),u=n.parallelCase(t,a,c);i.push(u);break}}break}case"Right":{i.push(s.right);break}}}if(i.length===0)throw new Error("BUG: Cause.reduceWithContext - please report an issue at https://github.com/Effect-TS/effect/issues");return i.pop()}),Ii=(e,t)=>cp(e)?"All fibers interrupted without errors.":TI(e).map(function(n){return t?.renderErrorCause!==!0||n.cause===void 0?n.stack:`${n.stack} {
${M1(n.cause,"  ")}
}`}).join(`
`),M1=(e,t)=>{let n=e.stack.split(`
`),r=`${t}[cause]: ${n[0]}`;for(let o=1,i=n.length;o<i;o++)r+=`
${t}${n[o]}`;return e.cause&&(r+=` {
${M1(e.cause,`${t}  `)}
${t}}`),r},xv=class e extends globalThis.Error{span=void 0;constructor(t){let n=typeof t=="object"&&t!==null,r=Error.stackTraceLimit;Error.stackTraceLimit=1,super(yJ(t),n&&"cause"in t&&typeof t.cause<"u"?{cause:new e(t.cause)}:void 0),this.message===""&&(this.message="An error has occurred"),Error.stackTraceLimit=r,this.name=t instanceof Error?t.name:"Error",n&&(Sc in t&&(this.span=t[Sc]),Object.keys(t).forEach(o=>{o in this||(this[o]=t[o])})),this.stack=xJ(`${this.name}: ${this.message}`,t instanceof Error&&t.stack?t.stack:"",this.span)}},yJ=e=>{if(typeof e=="string")return e;if(typeof e=="object"&&e!==null&&e instanceof Error)return e.message;try{if(A(e,"toString")&&Ss(e.toString)&&e.toString!==Object.prototype.toString&&e.toString!==globalThis.Array.prototype.toString)return e.toString()}catch(t){}return vy(e)},vJ=/\((.*)\)/g,lp=U("effect/Tracer/spanToTrace",()=>new WeakMap),xJ=(e,t,n)=>{let r=[e],o=t.startsWith(e)?t.slice(e.length).split(`
`):t.split(`
`);for(let i=1;i<o.length;i++){if(o[i].includes(" at new BaseEffectError")||o[i].includes(" at new YieldableError")){i++;continue}if(o[i].includes("Generator.next")||o[i].includes("effect_internal_function"))break;r.push(o[i].replace(/at .*effect_instruction_i.*\((.*)\)/,"at $1").replace(/EffectPrimitive\.\w+/,"<anonymous>"))}if(n){let i=n,s=0;for(;i&&i._tag==="Span"&&s<10;){let a=lp.get(i);if(typeof a=="function"){let c=a();if(typeof c=="string"){let u=c.matchAll(vJ),l=!1;for(let[,f]of u)l=!0,r.push(`    at ${i.name} (${f})`);l||r.push(`    at ${i.name} (${c.replace(/^at /,"")})`)}else r.push(`    at ${i.name}`)}else r.push(`    at ${i.name}`);i=$t(i.parent),s++}}return r.join(`
`)},Sc=Symbol.for("effect/SpanAnnotation"),TI=e=>MI(e,void 0,{emptyCase:()=>[],dieCase:(t,n)=>[new xv(n)],failCase:(t,n)=>[new xv(n)],interruptCase:()=>[],parallelCase:(t,n,r)=>[...n,...r],sequentialCase:(t,n,r)=>[...n,...r]});var Mc="Pending",dp="Done";var bJ="effect/Deferred",O1=Symbol.for(bJ),R1={_E:e=>e,_A:e=>e},A1=e=>({_tag:Mc,joiners:e}),OI=e=>({_tag:dp,effect:e});var Fl=class e{self;called=!1;constructor(t){this.self=t}next(t){return this.called?{value:t,done:!0}:(this.called=!0,{value:this.self,done:!1})}return(t){return{value:t,done:!0}}throw(t){throw t}[Symbol.iterator](){return new e(this.self)}};var wi=(e,t)=>{let n=new Qe("Blocked");return n.effect_instruction_i0=e,n.effect_instruction_i1=t,n},Iv=e=>{let t=new Qe("RunBlocked");return t.effect_instruction_i0=e,t},Mi=Symbol.for("effect/Effect"),Cv=class{patch;op;_op=Pf;constructor(t,n){this.patch=t,this.op=n}},Qe=class{_op;effect_instruction_i0=void 0;effect_instruction_i1=void 0;effect_instruction_i2=void 0;trace=void 0;[Mi]=Is;constructor(t){this._op=t}[F](t){return this===t}[L](){return K(this,ul(this))}pipe(){return R(this,arguments)}toJSON(){return{_id:"Effect",_op:this._op,effect_instruction_i0:re(this.effect_instruction_i0),effect_instruction_i1:re(this.effect_instruction_i1),effect_instruction_i2:re(this.effect_instruction_i2)}}toString(){return se(this.toJSON())}[Y](){return this.toJSON()}[Symbol.iterator](){return new Fl(new yo(this))}},Sv=class{_op;effect_instruction_i0=void 0;effect_instruction_i1=void 0;effect_instruction_i2=void 0;trace=void 0;[Mi]=Is;constructor(t){this._op=t,this._tag=t}[F](t){return Vl(t)&&t._op==="Failure"&&M(this.effect_instruction_i0,t.effect_instruction_i0)}[L](){return m(he(this._tag),B(w(this.effect_instruction_i0)),K(this))}get cause(){return this.effect_instruction_i0}pipe(){return R(this,arguments)}toJSON(){return{_id:"Exit",_tag:this._op,cause:this.cause.toJSON()}}toString(){return se(this.toJSON())}[Y](){return this.toJSON()}[Symbol.iterator](){return new Fl(new yo(this))}},Dv=class{_op;effect_instruction_i0=void 0;effect_instruction_i1=void 0;effect_instruction_i2=void 0;trace=void 0;[Mi]=Is;constructor(t){this._op=t,this._tag=t}[F](t){return Vl(t)&&t._op==="Success"&&M(this.effect_instruction_i0,t.effect_instruction_i0)}[L](){return m(he(this._tag),B(w(this.effect_instruction_i0)),K(this))}get value(){return this.effect_instruction_i0}pipe(){return R(this,arguments)}toJSON(){return{_id:"Exit",_tag:this._op,value:re(this.value)}}toString(){return se(this.toJSON())}[Y](){return this.toJSON()}[Symbol.iterator](){return new Fl(new yo(this))}},ye=e=>A(e,Mi),X=e=>{let t=new Qe(Ey);return t.effect_instruction_i0=e,t},wv=d(3,(e,t,n)=>et(r=>g(e,o=>g(Ge(H(()=>r(t(o)))),i=>H(()=>n(o,i)).pipe(He({onFailure:s=>{switch(i._tag){case rt:return oe(Je(i.effect_instruction_i0,s));case ot:return oe(s)}},onSuccess:()=>i})))))),Fe=d(2,(e,t)=>g(e,()=>v(t))),Xe=e=>Fe(e,void 0),hp=function(){let e=new Qe(oc);switch(arguments.length){case 2:{e.effect_instruction_i0=arguments[0],e.commit=arguments[1];break}case 3:{e.effect_instruction_i0=arguments[0],e.effect_instruction_i1=arguments[1],e.commit=arguments[2];break}case 4:{e.effect_instruction_i0=arguments[0],e.effect_instruction_i1=arguments[1],e.effect_instruction_i2=arguments[2],e.commit=arguments[3];break}default:throw new Error(ec("you're not supposed to end up here"))}return e},Pl=(e,t=_n)=>{let n=new Qe(rc),r;return n.effect_instruction_i0=o=>{r=e(o)},n.effect_instruction_i1=t,Ao(n,o=>ye(r)?r:q)},mp=(e,t=_n)=>H(()=>Pl(e,t)),en=(e,t=_n)=>hp(e,function(){let n,r;function o(c){n?n(c):r===void 0&&(r=c)}let i=new Qe(rc);i.effect_instruction_i0=c=>{n=c,r&&c(r)},i.effect_instruction_i1=t;let s,a;return this.effect_instruction_i0.length!==1?(a=new AbortController,s=Ye(()=>this.effect_instruction_i0(o,a.signal))):s=Ye(()=>this.effect_instruction_i0(o)),s||a?Ao(i,c=>(a&&a.abort(),s??q)):i});var Oo=d(2,(e,t)=>{let n=new Qe(dl);return n.effect_instruction_i0=e,n.effect_instruction_i1=t,n}),Wr=d(2,(e,t)=>xt(e,{onFailure:t,onSuccess:v})),gp=d(3,(e,t,n)=>Oo(e,r=>{let o=Di(r);switch(o._tag){case"Left":return t(o.left)?n(o.left):oe(r);case"Right":return oe(o.right)}})),V1=d(2,(e,t)=>Oo(e,n=>{let r=Di(n);switch(r._tag){case"Left":return m(t(r.left),pt(()=>oe(n)));case"Right":return oe(r.right)}})),U1=e=>X((t,n)=>e(op(n.runtimeFlags))),k1=Symbol.for("effect/OriginalAnnotation");var Mv=(e,t)=>Ce(t)?new Proxy(e,{has(n,r){return r===Sc||r===k1||r in n},get(n,r){return r===Sc?t.value:r===k1?e:n[r]}}):e,ln=e=>li(e)&&!(Sc in e)?X(t=>oe(wt(Mv(e,Kv(t))))):oe(wt(e)),Bs=e=>Us(()=>wt(new AJ(e))),Vs=e=>g(E(e),ln),hr=e=>xt(e,{onFailure:t=>v(cr(t)),onSuccess:t=>v(sn(t))}),Ge=e=>yp(e,{onFailure:Ee,onSuccess:Pe}),ee=e=>li(e)&&!(Sc in e)?X(t=>oe(Dc(Mv(e,Kv(t))))):oe(Dc(e)),mr=e=>g(E(e),ee),oe=e=>{let t=new Sv(rt);return t.effect_instruction_i0=e,t},Us=e=>g(E(e),oe),$s=X(e=>v(e.id())),Dn=e=>X(t=>e(t.id())),g=d(2,(e,t)=>{let n=new Qe(fl);return n.effect_instruction_i0=e,n.effect_instruction_i1=t,n}),qs=d(2,(e,t)=>g(e,n=>{let r=typeof t=="function"?t(n):t;return ye(r)?r:jS(r)?Pl(o=>{r.then(i=>o(v(i)),i=>o(ee(new _p(i,"An unknown error occurred in Effect.andThen"))))}):v(r)})),Tv=e=>{let t=new Qe("OnStep");return t.effect_instruction_i0=e,t},In=e=>g(e,G),zs=e=>xt(e,{onFailure:v,onSuccess:ee}),yp=d(2,(e,t)=>He(e,{onFailure:n=>v(t.onFailure(n)),onSuccess:n=>v(t.onSuccess(n))})),He=d(2,(e,t)=>{let n=new Qe(pl);return n.effect_instruction_i0=e,n.effect_instruction_i1=t.onFailure,n.effect_instruction_i2=t.onSuccess,n}),xt=d(2,(e,t)=>He(e,{onFailure:n=>{if(II(n).length>0)return oe(I1(n));let o=bv(n);return o.length>0?t.onFailure(_D(o)):oe(n)},onSuccess:t.onSuccess})),zt=d(2,(e,t)=>H(()=>{let n=ae(e),r=Hf(n.length),o=0;return Fe(Ks({while:()=>o<n.length,body:()=>t(n[o],o),step:i=>{r[o++]=i}}),r)})),qn=d(2,(e,t)=>H(()=>{let n=ae(e),r=0;return Ks({while:()=>r<n.length,body:()=>t(n[r],r),step:()=>{r++}})})),Ov=d(e=>typeof e[0]=="boolean"||ye(e[0]),(e,t)=>ye(e)?g(e,n=>n?t.onTrue():t.onFalse()):e?t.onTrue():t.onFalse()),Rv=g($s,e=>Av(e)),Av=e=>oe(pr(e)),Ti=e=>{let t=new Qe(fi);return t.effect_instruction_i0=pI(zr),t.effect_instruction_i1=()=>e,t},$1=e=>hp(e,function(){let t=new Qe(fi);return t.effect_instruction_i0=pI(zr),t.effect_instruction_i1=n=>op(n)?Ye(()=>this.effect_instruction_i0(Ti)):Ye(()=>this.effect_instruction_i0(Oi)),t}),Ro=d(2,(e,t)=>et(n=>g(Ge(n(e)),r=>zI(t,r)))),D=d(2,(e,t)=>g(e,n=>E(()=>t(n)))),vp=d(2,(e,t)=>xt(e,{onFailure:n=>mr(()=>t.onFailure(n)),onSuccess:n=>E(()=>t.onSuccess(n))})),Ws=d(2,(e,t)=>He(e,{onFailure:n=>{let r=Di(n);switch(r._tag){case"Left":return mr(()=>t(r.left));case"Right":return oe(r.right)}},onSuccess:v})),kv=d(2,(e,t)=>dn(e,n=>zv(n)?q:t(n.effect_instruction_i0))),dn=d(2,(e,t)=>et(n=>He(n(e),{onFailure:r=>{let o=Ee(r);return He(t(o),{onFailure:i=>Ee(Je(r,i)),onSuccess:()=>o})},onSuccess:r=>{let o=Pe(r);return fe(t(o),o)}}))),Ao=d(2,(e,t)=>dn(e,Ul({onFailure:n=>cp(n)?Xe(t(Ev(n))):q,onSuccess:()=>q}))),Oc=d(2,(e,t)=>CJ(e,t,v)),Rc=e=>kI(e,G),kI=d(2,(e,t)=>xt(e,{onFailure:n=>ln(t(n)),onSuccess:v})),q1=uD,Ll=X((e,t)=>v(t.runtimeFlags)),v=e=>{let t=new Dv(ot);return t.effect_instruction_i0=e,t},H=e=>{let t=new Qe(oc);return t.commit=e,t},E=e=>{let t=new Qe(by);return t.effect_instruction_i0=e,t},Gr=d(e=>e.length===3||e.length===2&&!(li(e[1])&&"onlyEffect"in e[1]),(e,t)=>g(e,n=>{let r=typeof t=="function"?t(n):t;return ye(r)?Fe(r,n):jS(r)?Pl(o=>{r.then(i=>o(v(n)),i=>o(ee(new _p(i,"An unknown error occurred in Effect.tap"))))}):v(n)})),Nv=e=>X(t=>{let n=t.getFiberRef(pp),r=m(n,pt(()=>t.scope()));return e(it(pp,C(r)))}),CJ=d(3,(e,t,n)=>He(e,{onFailure:r=>II(r).length>0?oe(eD(D1(r))):t(),onSuccess:n})),Oi=e=>{let t=new Qe(fi);return t.effect_instruction_i0=hI(zr),t.effect_instruction_i1=()=>e,t},et=e=>hp(e,function(){let t=new Qe(fi);return t.effect_instruction_i0=hI(zr),t.effect_instruction_i1=n=>op(n)?Ye(()=>this.effect_instruction_i0(Ti)):Ye(()=>this.effect_instruction_i0(Oi)),t}),q=v(void 0);var Gs=e=>{let t=new Qe(fi);return t.effect_instruction_i0=e,t.effect_instruction_i1=void 0,t},jl=d(2,(e,t)=>g(t,n=>n?m(e,D(C)):v(_()))),Ks=e=>{let t=new Qe(hl);return t.effect_instruction_i0=e.while,t.effect_instruction_i1=e.body,t.effect_instruction_i2=e.step,t},fp=e=>H(()=>{let t=new Qe(ic);return t.effect_instruction_i0=e(),t}),Fv=function(){let e=arguments.length===1?arguments[0]:arguments[1].bind(arguments[0]);return fp(()=>e(m))},Hl=(e,...t)=>Object.defineProperty(t.length===0?function(...n){return fp(()=>e.apply(this,n))}:function(...n){let r=fp(()=>e.apply(this,n));for(let o of t)r=o(r,...n);return r},"length",{value:e.length,configurable:!0}),z1=d(2,(e,t)=>it(e,Bv,t)),W1=d(2,(e,t)=>it(e,HI,t)),Pv=d(2,(e,t)=>{let n=new Qe(fi);return n.effect_instruction_i0=t,n.effect_instruction_i1=()=>e,n}),G1=d(2,(e,t)=>it(e,VI,t)),K1=d(2,(e,t)=>it(e,Bl,t)),ko=e=>{let t=new Qe(ml);return typeof e?.priority<"u"?jI(t,e.priority):t},Ac=d(2,(e,t)=>g(e,n=>D(t,r=>[n,r])));var kc=d(2,(e,t)=>g(e,n=>Fe(t,n))),fe=d(2,(e,t)=>g(e,()=>t)),No=d(3,(e,t,n)=>g(e,r=>D(t,o=>n(r,o)))),Nc=mp(()=>{let e=setInterval(()=>{},2147483647);return E(()=>clearInterval(e))}),xp=e=>g($s,t=>m(e,wn(t))),wn=d(2,(e,t)=>g(e.interruptAsFork(t),()=>e.await)),Y1={_tag:"All",syslog:0,label:"ALL",ordinal:Number.MIN_SAFE_INTEGER,pipe(){return R(this,arguments)}},Z1={_tag:"Fatal",syslog:2,label:"FATAL",ordinal:5e4,pipe(){return R(this,arguments)}},J1={_tag:"Error",syslog:3,label:"ERROR",ordinal:4e4,pipe(){return R(this,arguments)}},NI={_tag:"Warning",syslog:4,label:"WARN",ordinal:3e4,pipe(){return R(this,arguments)}},FI={_tag:"Info",syslog:6,label:"INFO",ordinal:2e4,pipe(){return R(this,arguments)}},PI={_tag:"Debug",syslog:7,label:"DEBUG",ordinal:1e4,pipe(){return R(this,arguments)}},Q1={_tag:"Trace",syslog:7,label:"TRACE",ordinal:0,pipe(){return R(this,arguments)}},X1={_tag:"None",syslog:7,label:"OFF",ordinal:Number.MAX_SAFE_INTEGER,pipe(){return R(this,arguments)}};var SJ="effect/FiberRef",DJ=Symbol.for(SJ),IJ={_A:e=>e},zn=e=>X(t=>Pe(t.getFiberRef(e)));var Wt=d(2,(e,t)=>g(zn(e),t)),Tc=d(2,(e,t)=>wJ(e,()=>[void 0,t]));var wJ=d(2,(e,t)=>X(n=>{let[r,o]=t(n.getFiberRef(e));return n.setFiberRef(e,o),v(r)}));var MJ="effect/RequestResolver",e2=Symbol.for(MJ),TJ={_A:e=>e,_R:e=>e},N1=class e{runAll;target;[e2]=TJ;constructor(t,n){this.runAll=t,this.target=n}[L](){return K(this,this.target?w(this.target):ul(this))}[F](t){return this.target?OJ(t)&&M(this.target,t.target):this===t}identified(...t){return new e(this.runAll,lc(t))}pipe(){return R(this,arguments)}},OJ=e=>A(e,e2);var it=d(3,(e,t,n)=>wv(kc(zn(t),Tc(t,n)),()=>e,r=>Tc(t,r))),Mt=d(3,(e,t,n)=>Wt(t,r=>it(e,t,n(r)))),Ke=(e,t)=>Fc(e,{differ:dv(),fork:t?.fork??G,join:t?.join}),t2=e=>{let t=nI();return Fc(e,{differ:t,fork:t.empty})},RJ=e=>{let t=rI(dv());return Fc(e,{differ:t,fork:t.empty})},Lv=e=>{let t=tI();return Fc(e,{differ:t,fork:t.empty})},Fc=(e,t)=>N(x({},hi),{[DJ]:IJ,initial:e,commit(){return zn(this)},diff:(r,o)=>t.differ.diff(r,o),combine:(r,o)=>t.differ.combine(r,o),patch:r=>o=>t.differ.patch(r,o),fork:t.fork,join:t.join??((r,o)=>o)}),n2=e=>Fc(e,{differ:fI,fork:fI.empty}),Mn=U(Symbol.for("effect/FiberRef/currentContext"),()=>Lv(Vn())),Ri=U(Symbol.for("effect/FiberRef/currentSchedulingPriority"),()=>Ke(0)),jv=U(Symbol.for("effect/FiberRef/currentMaxOpsBeforeYield"),()=>Ke(2048)),Ys=U(Symbol.for("effect/FiberRef/currentLogAnnotation"),()=>Ke(vc())),LI=U(Symbol.for("effect/FiberRef/currentLogLevel"),()=>Ke(FI)),Hv=U(Symbol.for("effect/FiberRef/currentLogSpan"),()=>Ke(To())),jI=d(2,(e,t)=>it(e,Ri,t)),r2=d(2,(e,t)=>it(e,jv,t)),Bv=U(Symbol.for("effect/FiberRef/currentConcurrency"),()=>Ke("unbounded")),HI=U(Symbol.for("effect/FiberRef/currentRequestBatching"),()=>Ke(!0)),BI=U(Symbol.for("effect/FiberRef/currentUnhandledErrorLogLevel"),()=>Ke(C(PI))),o2=U(Symbol.for("effect/FiberRef/versionMismatchErrorLogLevel"),()=>Ke(C(NI))),i2=d(2,(e,t)=>it(e,BI,t)),Ai=U(Symbol.for("effect/FiberRef/currentMetricLabels"),()=>RJ(Ur())),s2=zn(Ai),pp=U(Symbol.for("effect/FiberRef/currentForkScopeOverride"),()=>Ke(_(),{fork:()=>_(),join:(e,t)=>e})),Pc=U(Symbol.for("effect/FiberRef/currentInterruptedCause"),()=>Ke(Cn,{fork:()=>Cn,join:(e,t)=>e})),VI=U(Symbol.for("effect/FiberRef/currentTracerEnabled"),()=>Ke(!0)),Bl=U(Symbol.for("effect/FiberRef/currentTracerTiming"),()=>Ke(!0)),bp=U(Symbol.for("effect/FiberRef/currentTracerSpanAnnotations"),()=>Ke(vc())),Vv=U(Symbol.for("effect/FiberRef/currentTracerSpanLinks"),()=>Ke(un())),Uv=Symbol.for("effect/Scope"),$v=Symbol.for("effect/CloseableScope"),qv=(e,t)=>e.addFinalizer(()=>Xe(t)),Lc=(e,t)=>e.addFinalizer(t),jc=(e,t)=>e.close(t),Wn=(e,t)=>e.fork(t);var a2=(function(){class e extends globalThis.Error{commit(){return ee(this)}toJSON(){let n=x({},this);return this.message&&(n.message=this.message),this.cause&&(n.cause=this.cause),n}[Y](){return this.toString!==globalThis.Error.prototype.toString?this.stack?`${this.toString()}
${this.stack.split(`
`).slice(1).join(`
`)}`:this.toString():"Bun"in globalThis?Ii(Dc(this),{renderErrorCause:!0}):this}}return Object.assign(e.prototype,zS),e})(),Hc=(e,t)=>{class n extends a2{_tag=t}return Object.assign(n.prototype,e),n.prototype.name=t,n},F1=Symbol.for("effect/Cause/errors/RuntimeException"),AJ=Hc({[F1]:F1},"RuntimeException");var RI=Symbol.for("effect/Cause/errors/InterruptedException"),DOe=Hc({[RI]:RI},"InterruptedException"),c2=e=>A(e,RI),P1=Symbol.for("effect/Cause/errors/IllegalArgument"),Ep=Hc({[P1]:P1},"IllegalArgumentException");var AI=Symbol.for("effect/Cause/errors/NoSuchElement"),Gn=Hc({[AI]:AI},"NoSuchElementException"),u2=e=>A(e,AI),L1=Symbol.for("effect/Cause/errors/InvalidPubSubCapacityException"),IOe=Hc({[L1]:L1},"InvalidPubSubCapacityException"),j1=Symbol.for("effect/Cause/errors/ExceededCapacityException"),wOe=Hc({[j1]:j1},"ExceededCapacityException");var H1=Symbol.for("effect/Cause/errors/Timeout"),kJ=Hc({[H1]:H1},"TimeoutException"),l2=e=>new kJ(`Operation timed out after '${MD(e)}'`);var B1=Symbol.for("effect/Cause/errors/UnknownException"),_p=(function(){class e extends a2{_tag="UnknownException";error;constructor(n,r){super(r??"An unknown error occurred",{cause:n}),this.error=n}}return Object.assign(e.prototype,{[B1]:B1,name:"UnknownException"}),e})();var Vl=e=>ye(e)&&"_tag"in e&&(e._tag==="Success"||e._tag==="Failure"),UI=e=>e._tag==="Failure",zv=e=>e._tag==="Success";var d2=d(2,(e,t)=>{switch(e._tag){case rt:return Ee(e.effect_instruction_i0);case ot:return Pe(t)}}),Cp=e=>d2(e,void 0);var Bc=(e,t)=>NJ(e,t?.parallel?Sn:Je),$I=e=>Ee(wt(e));var Sp=e=>Ee(Dc(e)),Ee=e=>{let t=new Sv(rt);return t.effect_instruction_i0=e,t},f2=d(2,(e,t)=>{switch(e._tag){case rt:return Ee(e.effect_instruction_i0);case ot:return t(e.effect_instruction_i0)}});var p2=e=>m(e,f2(G));var Wv=e=>Ee(pr(e)),_v=d(2,(e,t)=>{switch(e._tag){case rt:return Ee(e.effect_instruction_i0);case ot:return Pe(t(e.effect_instruction_i0))}});var Ul=d(2,(e,{onFailure:t,onSuccess:n})=>{switch(e._tag){case rt:return t(e.effect_instruction_i0);case ot:return n(e.effect_instruction_i0)}}),$l=d(2,(e,{onFailure:t,onSuccess:n})=>{switch(e._tag){case rt:return t(e.effect_instruction_i0);case ot:return n(e.effect_instruction_i0)}}),Pe=e=>{let t=new Dv(ot);return t.effect_instruction_i0=e,t},fn=Pe(void 0);var Dp=d(3,(e,t,{onFailure:n,onSuccess:r})=>{switch(e._tag){case rt:switch(t._tag){case ot:return Ee(e.effect_instruction_i0);case rt:return Ee(n(e.effect_instruction_i0,t.effect_instruction_i0))}case ot:switch(t._tag){case ot:return Pe(r(e.effect_instruction_i0,t.effect_instruction_i0));case rt:return Ee(t.effect_instruction_i0)}}}),NJ=(e,t)=>{let n=lc(e);return qt(n)?m(Xt(n),Os(m(Pt(n),_v(Ze)),(r,o)=>m(r,Dp(o,{onSuccess:(i,s)=>m(i,Ft(s)),onFailure:t}))),_v(Co),_v(r=>ur(r)),C):_()},Ip=e=>N(x({},hi),{[O1]:R1,state:wo(A1([])),commit(){return Tt(this)},blockingOn:e}),Kn=()=>g($s,e=>h2(e)),h2=e=>E(()=>Ip(e)),Tt=e=>mp(t=>{let n=En(e.state);switch(n._tag){case dp:return t(n.effect);case Mc:return n.joiners.push(t),FJ(e,t)}},e.blockingOn),qI=d(2,(e,t)=>Ro(t,e)),wp=d(2,(e,t)=>E(()=>{let n=En(e.state);switch(n._tag){case dp:return!1;case Mc:{dr(e.state,OI(t));for(let r=0,o=n.joiners.length;r<o;r++)n.joiners[r](t);return!0}}})),zI=d(2,(e,t)=>wp(e,t));var Mp=d(2,(e,t)=>wp(e,oe(t)));var m2=e=>g($s,t=>wp(e,Av(t)));var WI=d(2,(e,t)=>wp(e,v(t)));var Tp=(e,t)=>{let n=En(e.state);if(n._tag===Mc){dr(e.state,OI(t));for(let r=0,o=n.joiners.length;r<o;r++)n.joiners[r](t)}},FJ=(e,t)=>E(()=>{let n=En(e.state);if(n._tag===Mc){let r=n.joiners.indexOf(t);r>=0&&n.joiners.splice(r,1)}}),PJ=X(e=>Pe(e.currentContext)),Yn=()=>PJ;var gr=e=>g(Yn(),e),Kr=d(2,(e,t)=>it(Mn,t)(e)),Gv=d(2,(e,t)=>Mt(Mn,n=>yi(n,t))(e)),Vc=d(2,(e,t)=>gr(n=>Kr(e,t(n)))),GI=d(2,(e,t)=>g(e,n=>g(t.predicate(n),r=>r?v(n):t.orElse(n)))),g2=d(2,(e,t)=>GI(e,{predicate:t.predicate,orElse:n=>ee(t.orFailWith(n))})),Kv=e=>{let t=e.currentSpan;return t!==void 0&&t._tag==="Span"?C(t):_()},LJ={_tag:"Span",spanId:"noop",traceId:"noop",sampled:!1,status:{_tag:"Ended",startTime:BigInt(0),endTime:BigInt(0),exit:fn},attributes:new Map,links:[],kind:"internal",attribute(){},event(){},end(){},addLinks(){}},y2=e=>Object.assign(Object.create(LJ),e);var Op=Tt;var v2=zI;var x2=m2;var KI=Ip;var E2=p2;var _2=Pe;var C2=Symbol.for("effect/MutableHashMap"),jJ={[C2]:C2,[Symbol.iterator](){return new ZI(this)},toString(){return se(this.toJSON())},toJSON(){return{_id:"MutableHashMap",values:Array.from(this).map(re)}},[Y](){return this.toJSON()},pipe(){return R(this,arguments)}},ZI=class e{self;referentialIterator;bucketIterator;constructor(t){this.self=t,this.referentialIterator=t.referential[Symbol.iterator]()}next(){if(this.bucketIterator!==void 0)return this.bucketIterator.next();let t=this.referentialIterator.next();return t.done?(this.bucketIterator=new JI(this.self.buckets.values()),this.next()):t}[Symbol.iterator](){return new e(this.self)}},JI=class{backing;constructor(t){this.backing=t}currentBucket;next(){if(this.currentBucket===void 0){let n=this.backing.next();if(n.done)return n;this.currentBucket=n.value[Symbol.iterator]()}let t=this.currentBucket.next();return t.done?(this.currentBucket=void 0,this.next()):t}},Uc=()=>{let e=Object.create(jJ);return e.referential=new Map,e.buckets=new Map,e.bucketsSize=0,e};var mt=d(2,(e,t)=>{if(ll(t)===!1)return e.referential.has(t)?C(e.referential.get(t)):_();let n=t[L](),r=e.buckets.get(n);return r===void 0?_():HJ(e,r,t)});var HJ=(e,t,n,r=!1)=>{for(let o=0,i=t.length;o<i;o++)if(n[F](t[o][0])){let s=t[o][1];return r&&(t.splice(o,1),e.bucketsSize--),C(s)}return _()},Yr=d(2,(e,t)=>Ce(mt(e,t))),Tn=d(3,(e,t,n)=>{if(ll(t)===!1)return e.referential.set(t,n),e;let r=t[L](),o=e.buckets.get(r);return o===void 0?(e.buckets.set(r,[[t,n]]),e.bucketsSize++,e):(S2(e,o,t),o.push([t,n]),e.bucketsSize++,e)}),S2=(e,t,n)=>{for(let r=0,o=t.length;r<o;r++)if(n[F](t[r][0])){t.splice(r,1),e.bucketsSize--;return}};var $c=d(2,(e,t)=>{if(ll(t)===!1)return e.referential.delete(t),e;let n=t[L](),r=e.buckets.get(n);return r===void 0||(S2(e,r,t),r.length===0&&e.buckets.delete(n)),e});var Yv=e=>e.referential.size+e.bucketsSize;var D2=Symbol.for("effect/MutableList"),BJ={[D2]:D2,[Symbol.iterator](){let e=!1,t=this.head;return{next(){if(e)return this.return();if(t==null)return e=!0,this.return();let n=t.value;return t=t.next,{done:e,value:n}},return(n){return e||(e=!0),{done:!0,value:n}}}},toString(){return se(this.toJSON())},toJSON(){return{_id:"MutableList",values:Array.from(this).map(re)}},[Y](){return this.toJSON()},pipe(){return R(this,arguments)}},VJ=e=>({value:e,removed:!1,prev:void 0,next:void 0}),I2=()=>{let e=Object.create(BJ);return e.head=void 0,e.tail=void 0,e._length=0,e};var w2=e=>QI(e)===0,QI=e=>e._length;var M2=d(2,(e,t)=>{let n=VJ(t);return e.head===void 0&&(e.head=n),e.tail===void 0||(e.tail.next=n,n.prev=e.tail),e.tail=n,e._length+=1,e}),T2=e=>{let t=e.head;if(t!==void 0)return UJ(e,t),t.value};var UJ=(e,t)=>{t.removed||(t.removed=!0,t.prev!==void 0&&t.next!==void 0?(t.prev.next=t.next,t.next.prev=t.prev):t.prev!==void 0?(e.tail=t.prev,t.prev.next=void 0):t.next!==void 0?(e.head=t.next,t.next.prev=void 0):(e.tail=void 0,e.head=void 0),e._length>0&&(e._length-=1))};var R2=Symbol.for("effect/MutableQueue"),XI=Symbol.for("effect/mutable/MutableQueue/Empty"),$J={[R2]:R2,[Symbol.iterator](){return Array.from(this.queue)[Symbol.iterator]()},toString(){return se(this.toJSON())},toJSON(){return{_id:"MutableQueue",values:Array.from(this).map(re)}},[Y](){return this.toJSON()},pipe(){return R(this,arguments)}},qJ=e=>{let t=Object.create($J);return t.queue=I2(),t.capacity=e,t};var A2=()=>qJ(void 0);var k2=d(2,(e,t)=>{let n=QI(e.queue);return e.capacity!==void 0&&n===e.capacity?!1:(M2(t)(e.queue),!0)});var N2=d(2,(e,t)=>w2(e.queue)?t:T2(e.queue));var zJ="effect/Clock",ew=Symbol.for(zJ),Zn=cn("effect/Clock"),WJ=2**31-1,P2={unsafeSchedule(e,t){let n=So(t);if(n>WJ)return Hr;let r=!1,o=setTimeout(()=>{r=!0,e()},n);return()=>(clearTimeout(o),!r)}},L2=(function(){let e=BigInt(1e6);if(typeof performance>"u"||typeof performance.now!="function")return()=>BigInt(Date.now())*e;let t;return()=>(t===void 0&&(t=BigInt(Date.now())*e-BigInt(Math.round(performance.now()*1e6))),t+BigInt(Math.round(performance.now()*1e6)))})(),GJ=(function(){let e=typeof process=="object"&&"hrtime"in process&&typeof process.hrtime.bigint=="function"?process.hrtime:void 0;if(!e)return L2;let t=L2()-e.bigint();return()=>t+e.bigint()})(),tw=class{[ew]=ew;unsafeCurrentTimeMillis(){return Date.now()}unsafeCurrentTimeNanos(){return GJ()}currentTimeMillis=E(()=>this.unsafeCurrentTimeMillis());currentTimeNanos=E(()=>this.unsafeCurrentTimeNanos());scheduler(){return v(P2)}sleep(t){return en(n=>{let r=P2.unsafeSchedule(()=>n(q),t);return Xe(E(r))})}},nw=()=>new tw;var ow="InvalidData",iw="MissingData",sw="SourceUnavailable",aw="Unsupported";var YJ="effect/ConfigError",j2=Symbol.for(YJ),ql={_tag:"ConfigError",[j2]:j2},cw=(e,t)=>{let n=Object.create(ql);return n._op="And",n.left=e,n.right=t,Object.defineProperty(n,"toString",{enumerable:!1,value(){return`${this.left} and ${this.right}`}}),Object.defineProperty(n,"message",{enumerable:!1,get(){return this.toString()}}),n},uw=(e,t)=>{let n=Object.create(ql);return n._op="Or",n.left=e,n.right=t,Object.defineProperty(n,"toString",{enumerable:!1,value(){return`${this.left} or ${this.right}`}}),Object.defineProperty(n,"message",{enumerable:!1,get(){return this.toString()}}),n},ZJ=(e,t,n={pathDelim:"."})=>{let r=Object.create(ql);return r._op=ow,r.path=e,r.message=t,Object.defineProperty(r,"toString",{enumerable:!1,value(){return`(Invalid data at ${m(this.path,mi(n.pathDelim))}: "${this.message}")`}}),r},ki=(e,t,n={pathDelim:"."})=>{let r=Object.create(ql);return r._op=iw,r.path=e,r.message=t,Object.defineProperty(r,"toString",{enumerable:!1,value(){return`(Missing data at ${m(this.path,mi(n.pathDelim))}: "${this.message}")`}}),r},JJ=(e,t,n,r={pathDelim:"."})=>{let o=Object.create(ql);return o._op=sw,o.path=e,o.message=t,o.cause=n,Object.defineProperty(o,"toString",{enumerable:!1,value(){return`(Source unavailable at ${m(this.path,mi(r.pathDelim))}: "${this.message}")`}}),o},QJ=(e,t,n={pathDelim:"."})=>{let r=Object.create(ql);return r._op=aw,r.path=e,r.message=t,Object.defineProperty(r,"toString",{enumerable:!1,value(){return`(Unsupported operation at ${m(this.path,mi(n.pathDelim))}: "${this.message}")`}}),r};var Zs=d(2,(e,t)=>{switch(e._op){case"And":return cw(Zs(e.left,t),Zs(e.right,t));case"Or":return uw(Zs(e.left,t),Zs(e.right,t));case ow:return ZJ([...t,...e.path],e.message);case iw:return ki([...t,...e.path],e.message);case sw:return JJ([...t,...e.path],e.message,e.cause);case aw:return QJ([...t,...e.path],e.message)}});var U2={_tag:"Empty"};var Jv=d(2,(e,t)=>{let n=Jf(t),r=e;for(;ZD(n);){let o=n.head;switch(o._tag){case"Empty":{n=n.tail;break}case"AndThen":{n=_i(o.first,_i(o.second,n.tail));break}case"MapName":{r=bo(r,o.f),n=n.tail;break}case"Nested":{r=bl(r,o.name),n=n.tail;break}case"Unnested":{if(m(Ts(r),nD(o.name)))r=xo(r),n=n.tail;else return cr(ki(r,`Expected ${o.name} to be in path in ConfigProvider#unnested`));break}}}return sn(r)});var $2="Constant",q2="Fail",z2="Fallback",W2="Described",G2="Lazy",K2="MapOrFail",Y2="Nested",Z2="Primitive",J2="Sequence",Q2="HashMap",X2="ZipWith";var Qv=(e,t)=>[...e,...t],tQ="effect/ConfigProvider",ej=Symbol.for(tQ),zl=cn("effect/ConfigProvider"),nQ="effect/ConfigProviderFlat",tj=Symbol.for(nQ),rQ=e=>x({[ej]:ej,pipe(){return R(this,arguments)}},e),oQ=e=>({[tj]:tj,patch:e.patch,load:(t,n,r=!0)=>e.load(t,n,r),enumerateChildren:e.enumerateChildren}),iQ=e=>rQ({load:t=>g(yr(e,Ur(),t,!1),n=>vt(Ts(n),{onNone:()=>ee(ki(Ur(),`Expected a single value having structure: ${t}`)),onSome:v})),flattened:e}),nj=e=>{let{pathDelim:t,seqDelim:n}=Object.assign({},{pathDelim:"_",seqDelim:","},e),r=c=>m(c,mi(t)),o=c=>c.split(t),i=()=>typeof process<"u"&&"env"in process&&typeof process.env=="object"?process.env:{};return iQ(oQ({load:(c,u,l=!0)=>{let f=r(c),h=i(),p=f in h?C(h[f]):_();return m(p,Ws(()=>ki(c,`Expected ${f} to exist in the process context`)),g(y=>lQ(y,c,u,n,l)))},enumerateChildren:c=>E(()=>{let u=i(),h=Object.keys(u).map(p=>o(p.toUpperCase())).filter(p=>{for(let y=0;y<c.length;y++){let S=m(c,iD(y)),I=p[y];if(I===void 0||S!==I)return!1}return!0}).flatMap(p=>p.slice(c.length,c.length+1));return Qy(h)}),patch:U2}))};var sQ=(e,t,n,r)=>{let o=lD(n.length,c=>c>=r.length?_():C([e(c),c+1])),i=lD(r.length,c=>c>=n.length?_():C([t(c),c+1])),s=Qv(n,o),a=Qv(r,i);return[s,a]},aQ=(e,t)=>{let n=t;if(n._tag==="Nested"){let r=e.slice();for(;n._tag==="Nested";)r.push(n.name),n=n.config;return r}return e},yr=(e,t,n,r)=>{let o=n;switch(o._tag){case $2:return v(an(o.value));case W2:return H(()=>yr(e,t,o.config,r));case q2:return ee(ki(t,o.message));case z2:return m(H(()=>yr(e,t,o.first,r)),Wr(i=>o.condition(i)?m(yr(e,t,o.second,r),Wr(s=>ee(uw(i,s)))):ee(i)));case G2:return H(()=>yr(e,t,o.config(),r));case K2:return H(()=>m(yr(e,t,o.original,r),g(zt(i=>m(o.mapOrFail(i),Ws(Zs(aQ(t,o.original))))))));case Y2:return H(()=>yr(e,Qv(t,an(o.name)),o.config,r));case Z2:return m(Jv(t,e.patch),g(i=>m(e.load(i,o,r),g(s=>{if(s.length===0){let a=m(Ry(i),pt(()=>"<n/a>"));return ee(ki([],`Expected ${o.description} with name ${a}`))}return v(s)}))));case J2:return m(Jv(t,e.patch),g(i=>m(e.enumerateChildren(i),g(fQ),g(s=>s.length===0?H(()=>D(yr(e,t,o.config,!0),an)):m(zt(s,a=>yr(e,vP(t,`[${a}]`),o.config,!0)),D(a=>{let c=Ay(a);return c.length===0?an(Ur()):an(c)}))))));case Q2:return H(()=>m(Jv(t,e.patch),g(i=>m(e.enumerateChildren(i),g(s=>m(s,zt(a=>yr(e,Qv(i,an(a)),o.valueConfig,r)),D(a=>a.length===0?an(vc()):m(dQ(a),bo(c=>FL(cD(ae(s),c)))))))))));case X2:return H(()=>m(yr(e,t,o.left,r),hr,g(i=>m(yr(e,t,o.right,r),hr,g(s=>{if(vo(i)&&vo(s))return ee(cw(i.left,s.left));if(vo(i)&&vl(s))return ee(i.left);if(vl(i)&&vo(s))return ee(s.left);if(vl(i)&&vl(s)){let a=m(t,mi(".")),c=cQ(t,a),[u,l]=sQ(c,c,m(i.right,bo(sn)),m(s.right,bo(sn)));return m(u,cD(l),zt(([f,h])=>m(Ac(f,h),D(([p,y])=>o.zip(p,y)))))}throw new Error("BUG: ConfigProvider.fromFlatLoop - please report an issue at https://github.com/Effect-TS/effect/issues")})))))}},cQ=(e,t)=>n=>cr(ki(e,`The element at index ${n} in a sequence at path "${t}" was missing`));var uQ=(e,t)=>e.split(new RegExp(`\\s*${wP(t)}\\s*`)),lQ=(e,t,n,r,o)=>o?m(uQ(e,r),zt(i=>n.parse(i.trim())),Ws(Zs(t))):m(n.parse(e),vp({onFailure:Zs(t),onSuccess:an})),dQ=e=>Object.keys(e[0]).map(t=>e.map(n=>n[t])),fQ=e=>m(zt(e,hQ),vp({onFailure:()=>Ur(),onSuccess:ac(Rs)}),hr,D(wy));var pQ=/^(\[(\d+)\])$/,hQ=e=>{let t=e.match(pQ);if(t!==null){let n=t[2];return m(n!==void 0&&n.length>0?C(n):_(),xn(mQ))}return _()};var mQ=e=>{let t=Number.parseInt(e);return Number.isNaN(t)?_():C(t)};var rj=Symbol.for("effect/Console"),Ni=cn("effect/Console"),oj={[rj]:rj,assert(e,...t){return E(()=>{console.assert(e,...t)})},clear:E(()=>{console.clear()}),count(e){return E(()=>{console.count(e)})},countReset(e){return E(()=>{console.countReset(e)})},debug(...e){return E(()=>{console.debug(...e)})},dir(e,t){return E(()=>{console.dir(e,t)})},dirxml(...e){return E(()=>{console.dirxml(...e)})},error(...e){return E(()=>{console.error(...e)})},group(e){return e?.collapsed?E(()=>console.groupCollapsed(e?.label)):E(()=>console.group(e?.label))},groupEnd:E(()=>{console.groupEnd()}),info(...e){return E(()=>{console.info(...e)})},log(...e){return E(()=>{console.log(...e)})},table(e,t){return E(()=>{console.table(e,t)})},time(e){return E(()=>console.time(e))},timeEnd(e){return E(()=>console.timeEnd(e))},timeLog(e,...t){return E(()=>{console.timeLog(e,...t)})},trace(...e){return E(()=>{console.trace(...e)})},warn(...e){return E(()=>{console.warn(...e)})},unsafe:console};var yQ="effect/Random",Rp=Symbol.for(yQ),qc=cn("effect/Random"),lw=class{seed;[Rp]=Rp;PRNG;constructor(t){this.seed=t,this.PRNG=new py(t)}get next(){return E(()=>this.PRNG.number())}get nextBoolean(){return D(this.next,t=>t>.5)}get nextInt(){return E(()=>this.PRNG.integer(Number.MAX_SAFE_INTEGER))}nextRange(t,n){return D(this.next,r=>(n-t)*r+t)}nextIntBetween(t,n){return E(()=>this.PRNG.integer(n-t)+t)}shuffle(t){return sj(t,n=>this.nextIntBetween(0,n))}},sj=(e,t)=>H(()=>m(E(()=>Array.from(e)),g(n=>{let r=[];for(let o=n.length;o>=2;o=o-1)r.push(o);return m(r,qn(o=>m(t(o),D(i=>vQ(n,o-1,i)))),Fe(lc(n)))}))),vQ=(e,t,n)=>{let r=e[t];return e[t]=e[n],e[n]=r,e},fw=e=>new lw(w(e)),dw=class{values;[Rp]=Rp;index=0;constructor(t){if(this.values=t,t.length===0)throw new Error("Requires at least one value")}getNextValue(){let t=this.values[this.index];return this.index=(this.index+1)%this.values.length,t}get next(){return E(()=>{let t=this.getNextValue();return typeof t=="number"?Math.max(0,Math.min(1,t)):w(t)/2147483647})}get nextBoolean(){return E(()=>{let t=this.getNextValue();return typeof t=="boolean"?t:w(t)%2===0})}get nextInt(){return E(()=>{let t=this.getNextValue();return typeof t=="number"&&Number.isFinite(t)?Math.round(t):Math.abs(w(t))})}nextRange(t,n){return D(this.next,r=>(n-t)*r+t)}nextIntBetween(t,n){return E(()=>{let r=this.getNextValue();if(typeof r=="number"&&Number.isFinite(r))return Math.max(t,Math.min(n-1,Math.round(r)));let o=Math.abs(w(r));return t+o%(n-t)})}shuffle(t){return sj(t,n=>this.nextIntBetween(0,n))}},aj=e=>new dw(e);var uj=Symbol.for("effect/Tracer"),xQ=e=>x({[uj]:uj},e),Fi=cn("effect/Tracer"),Fo=cn("effect/ParentSpan"),lj=(function(){let e="abcdef0123456789",t=e.length;return function(n){let r="";for(let o=0;o<n;o++)r+=e.charAt(Math.floor(Math.random()*t));return r}})(),pw=class{name;parent;context;startTime;kind;_tag="Span";spanId;traceId="native";sampled=!0;status;attributes;events=[];links;constructor(t,n,r,o,i,s){this.name=t,this.parent=n,this.context=r,this.startTime=i,this.kind=s,this.status={_tag:"Started",startTime:i},this.attributes=new Map,this.traceId=n._tag==="Some"?n.value.traceId:lj(32),this.spanId=lj(16),this.links=Array.from(o)}end(t,n){this.status={_tag:"Ended",endTime:t,exit:n,startTime:this.status.startTime}}attribute(t,n){this.attributes.set(t,n)}event(t,n,r){this.events.push([t,n,r??{}])}addLinks(t){this.links.push(...t)}},dj=xQ({span:(e,t,n,r,o,i)=>new pw(e,t,n,r,o,i),context:e=>e()});var Pi=e=>{if(e?.captureStackTrace===!1)return e;if(e?.captureStackTrace!==void 0&&typeof e.captureStackTrace!="boolean")return e;let t=Error.stackTraceLimit;Error.stackTraceLimit=3;let n=new Error;Error.stackTraceLimit=t;let r=!1;return N(x({},e),{captureStackTrace:()=>{if(r!==!1)return r;if(n.stack!==void 0){let o=n.stack.split(`
`);if(o[3]!==void 0)return r=o[3].trim(),r}}})},Wl=Eo()("effect/Tracer/DisablePropagation",{defaultValue:Hr});var bQ=m(Vn(),je(Zn,nw()),je(Ni,oj),je(qc,fw(Math.random())),je(zl,nj()),je(Fi,dj)),st=U(Symbol.for("effect/DefaultServices/currentServices"),()=>Lv(bQ)),fj=e=>{let t=It(e);return Ap(n=>n.sleep(t))},ex=e=>X(t=>e(t.currentDefaultServices)),Ap=e=>ex(t=>e(t.unsafeMap.get(Zn.key))),pj=Ap(e=>e.currentTimeMillis),hj=Ap(e=>e.currentTimeNanos),mj=d(2,(e,t)=>Mt(st,je(Zn,t))(e)),gj=d(2,(e,t)=>Mt(st,je(zl,t))(e)),yj=e=>ex(t=>e(t.unsafeMap.get(zl.key)));var tx=e=>ex(t=>e(t.unsafeMap.get(qc.key))),vj=d(2,(e,t)=>Mt(st,je(qc,t))(e));var nx=e=>ex(t=>e(t.unsafeMap.get(Fi.key))),xj=d(2,(e,t)=>Mt(st,je(Fi,t))(e));var hw=fj,rx=pj,bj=hj,Ej=Ap,_j=Zn;function Cj(e){return new Po(e)}function Sj(){return Cj(new Map)}var gw=Symbol.for("effect/FiberRefs"),Po=class{locals;[gw]=gw;constructor(t){this.locals=t}pipe(){return R(this,arguments)}},EQ=(e,t,n,r=!1)=>{let o=e,i=t,s=n,a=r,c;for(;c===void 0;)if(Jt(i)&&Jt(s)){let u=Nt(i)[0],l=xo(i),f=Nt(s)[0],h=Nt(s)[1],p=xo(s);u.startTimeMillis<f.startTimeMillis?(s=p,a=!0):u.startTimeMillis>f.startTimeMillis?i=l:u.id<f.id?(s=p,a=!0):u.id>f.id?i=l:c=[h,a]}else c=[o.initial,!0];return c},ox=d(3,(e,t,n)=>{let r=new Map(e.locals);return n.locals.forEach((o,i)=>{let s=o[0][1];if(!o[0][0][F](t)){if(!r.has(i)){if(M(s,i.initial))return;r.set(i,[[t,i.join(i.initial,s)]]);return}let a=r.get(i),[c,u]=EQ(i,a,o);if(u){let l=i.diff(c,s),f=a[0][1],h=i.join(f,i.patch(l)(f));if(!M(f,h)){let p,y=a[0][0];y[F](t)?p=[[y,h],...a.slice(1)]:p=[[t,h],...a],r.set(i,p)}}}}),new Po(r)}),vw=d(2,(e,t)=>{let n=new Map;return Dj(e,n,t),new Po(n)}),Dj=(e,t,n)=>{e.locals.forEach((r,o)=>{let i=r[0][1],s=o.patch(o.fork)(i);M(i,s)?t.set(o,r):t.set(o,[[n,s],...r])})},Ij=e=>Qy(e.locals.keys()),wj=e=>qn(Ij(e),t=>Tc(t,Li(e,t))),kp=d(2,(e,t)=>{let n=new Map(e.locals);return n.delete(t),new Po(n)}),ix=d(2,(e,t)=>e.locals.has(t)?C(Nt(e.locals.get(t))[1]):_()),Li=d(2,(e,t)=>m(ix(e,t),pt(()=>t.initial))),Kl=d(2,(e,{fiberId:t,fiberRef:n,value:r})=>{if(e.locals.size===0)return new Po(new Map([[n,[[t,r]]]]));let o=new Map(e.locals);return yw(o,t,n,r),new Po(o)}),yw=(e,t,n,r)=>{let o=e.get(n)??[],i;if(Jt(o)){let[s,a]=Nt(o);if(s[F](t)){if(M(a,r))return;i=[[t,r],...o.slice(1)]}else i=[[t,r],...o]}else i=[[t,r]];e.set(n,i)},Mj=d(2,(e,{entries:t,forkAs:n})=>{if(e.locals.size===0)return new Po(new Map(t));let r=new Map(e.locals);return n!==void 0&&Dj(e,r,n),t.forEach(([o,i])=>{i.length===1?yw(r,i[0][0],o,i[0][1]):i.forEach(([s,a])=>{yw(r,s,o,a)})}),new Po(r)});var bw=ix,Tj=Li,Oj=ox,Rj=wj;var Aj=Mj;var kj=Sj;var _Q=Y1,Ew=Z1,_w=J1,Cw=NI,Sw=FI,Dw=PI,Iw=Q1,CQ=X1;var SQ=m(Rs,iP(e=>e.ordinal));var ww=QS(SQ);var Mw=e=>{switch(e){case"All":return _Q;case"Debug":return Dw;case"Error":return _w;case"Fatal":return Ew;case"Info":return Sw;case"Trace":return Iw;case"None":return CQ;case"Warning":return Cw}};var Nj=(e,t)=>({label:e,startTime:t}),Ow=e=>e.replace(/[\s="]/g,"_"),Rw=e=>t=>`${Ow(t.label)}=${e-t.startTime}ms`;var Pj=Nj;var jj=pi,Aw=hi;var DQ=QF;var ji=class extends DQ{};var Js=Symbol.for("effect/Readable");var RRe={[Js]:Js,pipe(){return R(this,arguments)}};var ax=Symbol.for("effect/Ref"),Fw={_A:e=>e},Nw=class extends ji{ref;commit(){return this.get}[ax]=Fw;[Js]=Js;constructor(t){super(),this.ref=t,this.get=E(()=>En(this.ref))}get;modify(t){return E(()=>{let n=En(this.ref),[r,o]=t(n);return n!==o&&dr(o)(this.ref),r})}},Yl=e=>new Nw(wo(e)),zc=e=>E(()=>Yl(e)),Gt=e=>e.get,Lo=d(2,(e,t)=>e.modify(()=>[void 0,t])),Hj=d(2,(e,t)=>e.modify(n=>[n,t]));var Pw=d(2,(e,t)=>e.modify(t));var Wc=d(2,(e,t)=>e.modify(n=>[void 0,t(n)]));var ux=zc,lx=Gt,Bj=Hj;var Vj=Wc;var Uj=nx;var qj="Empty",zj="Add",Wj="Remove",Gj="Update",Kj="AndThen",Yj={_tag:qj},Fp=(e,t)=>{let n=new Map(e.locals),r=Yj;for(let[o,i]of t.locals.entries()){let s=Nt(i)[1],a=n.get(o);if(a!==void 0){let c=Nt(a)[1];M(c,s)||(r=dx({_tag:Gj,fiberRef:o,patch:o.diff(c,s)})(r))}else r=dx({_tag:zj,fiberRef:o,value:s})(r);n.delete(o)}for(let[o]of n.entries())r=dx({_tag:Wj,fiberRef:o})(r);return r},dx=d(2,(e,t)=>({_tag:Kj,first:e,second:t})),fx=d(3,(e,t,n)=>{let r=n,o=an(e);for(;Jt(o);){let i=Nt(o),s=xo(o);switch(i._tag){case qj:{o=s;break}case zj:{r=Kl(r,{fiberId:t,fiberRef:i.fiberRef,value:i.value}),o=s;break}case Wj:{r=kp(r,i.fiberRef),o=s;break}case Gj:{let a=Li(r,i.fiberRef);r=Kl(r,{fiberId:t,fiberRef:i.fiberRef,value:i.fiberRef.patch(i.patch)(a)}),o=s;break}case Kj:{o=bl(i.first)(bl(i.second)(s));break}}}return r});var Jj="effect/MetricLabel",jw=Symbol.for(Jj),Hw=class{key;value;[jw]=jw;_hash;constructor(t,n){this.key=t,this.value=n,this._hash=he(Jj+this.key+this.value)}[L](){return this._hash}[F](t){return IQ(t)&&this.key===t.key&&this.value===t.value}pipe(){return R(this,arguments)}},Gc=(e,t)=>new Hw(e,t),IQ=e=>A(e,jw);var Qj=d(e=>ye(e[0]),function(){let e=arguments;return Mt(e[0],Ys,typeof e[1]=="string"?qr(e[1],e[2]):t=>Object.entries(e[1]).reduce((n,[r,o])=>qr(n,r,o),t))}),Zl=e=>D(e,C),Xj=e=>Ws(e,C),Vw=e=>{let t,n;return typeof e=="function"?t=e:(t=e.try,n=e.catch),H(()=>{try{return v(Ye(t))}catch(r){return ee(n?Ye(()=>n(r)):new _p(r,"An unknown error occurred in Effect.try"))}})},eH=d(3,(e,t,n)=>Wr(e,r=>A(r,t)&&r[t]===n.failure?n.onFailure(r):ee(r))),tH=d(2,(e,t)=>Oo(e,n=>{let r=Ic(n,o=>ap(o)?C(o):_());switch(r._tag){case"None":return oe(n);case"Some":return t(r.value.defect)}})),nH=d(2,(e,t)=>He(e,{onFailure:n=>{let r=t(n);switch(r._tag){case"None":return oe(n);case"Some":return r.value}},onSuccess:v})),rH=d(2,(e,t)=>Oo(e,n=>{let r=Ic(n,o=>ap(o)?C(o):_());switch(r._tag){case"None":return oe(n);case"Some":{let o=t(r.value.defect);return o._tag==="Some"?o.value:oe(n)}}})),oH=d(e=>ye(e[0]),(e,...t)=>{let n=t[t.length-1],r;return t.length===2?r=Ds(t[0]):r=o=>{let i=A(o,"_tag")?o._tag:void 0;if(!i)return!1;for(let s=0;s<t.length-1;s++)if(t[s]===i)return!0;return!1},gp(e,r,n)}),iH=d(2,(e,t)=>{let n;return gp(e,r=>(n??=Object.keys(t),A(r,"_tag")&&Rf(r._tag)&&n.includes(r._tag)),r=>t[r._tag](r))}),sH=e=>yp(e,{onFailure:G,onSuccess:()=>Cn}),jo=Ej,aH=jo(v),cH=d(2,(e,t)=>fe(hw(t),e)),mx=e=>X((t,n)=>e({id:t.id(),status:n,interruptors:Ev(t.getFiberRef(Pc))})),uH=mx(e=>hc(e.interruptors)>0?Rv:q),lH=mx(v),Jl=e=>jp(e,gx,Fp),wQ=e=>jp(e,Ac(gx,Ll),([t,n],[r,o])=>[Fp(t,r),fr(n,o)]),dH=v({}),fH=fy(D,g),pH=dy(D),hH=ly(D),mH=d(2,(e,t)=>H(()=>{let n=e[Symbol.iterator](),r=[],o,i=v(!1),s=0;for(;(o=n.next())&&!o.done;){let a=o.value,c=s++;i=g(i,u=>u?(r.push(a),v(!0)):t(a,c))}return D(i,()=>r)})),gH=d(2,(e,t)=>H(()=>{let n=e[Symbol.iterator](),r=[],o,i=v(!0),s=0;for(;(o=n.next())&&!o.done;){let a=o.value,c=s++;i=g(i,u=>D(u?t(a,c):v(!1),l=>(l||r.push(a),l)))}return D(i,()=>r)})),yH=e=>D(Yn(),e),Uw=e=>Oc(e,()=>g(ko(),()=>Uw(e))),vH=d(2,(e,t)=>D(zt(e,G),El(t))),xH=d(3,(e,t,n)=>Pp(e,t,r=>Vs(()=>n(r)))),bH=d(3,(e,t,n)=>Pp(e,t,()=>Bs(n))),Pp=d(3,(e,t,n)=>g(e,r=>t(r)?v(r):n(r))),EH=d(3,(e,t,n)=>H(()=>t(e)?v(e):ee(n(e)))),_H=d(e=>ye(e[0]),(e,t,n)=>Pp(e,t,r=>n===void 0?ee(new Gn):mr(()=>n(r)))),CH=d(2,(e,t)=>H(()=>{let n=e[Symbol.iterator](),r=n.next();return r.done?v(_()):SH(n,0,t,r.value)})),SH=(e,t,n,r)=>g(n(r,t),o=>{if(o)return v(C(r));let i=e.next();return i.done?v(_()):SH(e,t+1,n,i.value)}),DH=e=>H(()=>{let t=lc(e);return qt(t)?m(Xt(t),Os(Pt(t),(n,r)=>Oc(n,()=>r))):Vs(()=>new Ep("Received an empty collection of effects"))}),IH=d(2,(e,t)=>zs(t(zs(e)))),Lp=d(2,(e,t)=>xt(e,{onFailure:n=>v(t.onFailure(n)),onSuccess:n=>v(t.onSuccess(n))})),wH=d(2,(e,t)=>H(()=>MH(e[Symbol.iterator](),0,t))),MH=(e,t,n)=>{let r=e.next();return r.done?v(!0):g(n(r.value,t),o=>o?MH(e,t+1,n):v(o))},$w=e=>{let t=g(g(e,()=>ko()),()=>t);return t},gx=X(e=>v(e.getFiberRefs())),TH=e=>g(e,t=>{let r=t[Symbol.iterator]().next();return r.done?ee(new Gn):v(r.value)}),yx=e=>Lp(e,{onFailure:go,onSuccess:go}),OH=e=>He(e,{onFailure:t=>zw(t,"An error was silently ignored because it is not anticipated to be useful"),onSuccess:()=>q}),RH=e=>xx((t,n)=>Oj(n,t,e)),AH=e=>Lp(e,{onFailure:ci,onSuccess:Hr}),kH=e=>Lp(e,{onFailure:Hr,onSuccess:ci}),qw=(e,t)=>H(()=>t.while(e)?g(t.body(e),n=>qw(n,t)):v(e)),Hi=e=>(...t)=>{let n=Br(e),r;for(let o=0,i=t.length;o<i;o++){let s=t[o];CI(s)&&(r!==void 0?r=Je(r,s):r=s,t=[...t.slice(0,o),...t.slice(o+1)],o--)}return r===void 0&&(r=Cn),X(o=>(o.log(t,r,n),q))},NH=Hi(),FH=Hi(Iw),zw=Hi(Dw),PH=Hi(Sw),LH=Hi(Cw),jH=Hi(_w),HH=Hi(Ew),BH=d(2,(e,t)=>g(rx,n=>Mt(e,Hv,av(Pj(t,n))))),VH=zn(Ys),UH=(e,t)=>t.discard?qH(e,t.while,t.step,t.body):D($H(e,t.while,t.step,t.body),ae),$H=(e,t,n,r)=>H(()=>t(e)?g(r(e),o=>D($H(n(e),t,n,r),av(o))):E(()=>To())),qH=(e,t,n,r)=>H(()=>t(e)?g(r(e),()=>qH(n(e),t,n,r)):q),zH=d(3,(e,t,n)=>H(()=>{let r=e[Symbol.iterator](),o=[],i=v(t),s,a=0;for(;!(s=r.next()).done;){let c=a++,u=s.value;i=g(i,l=>D(n(l,u,c),([f,h])=>(o.push(h),f)))}return D(i,c=>[c,o])})),Ql=d(2,(e,t)=>He(e,{onFailure:n=>Us(()=>t(n)),onSuccess:v})),Ww=e=>m(Kn(),g(t=>m(wQ(e),Ro(t),Gw,D(n=>fe(n,m(Tt(t),g(([r,o])=>Fe(Ac(Kc(r[0]),Gs(r[1])),o)))))))),WH=e=>xt(e,{onFailure:t=>v(t),onSuccess:v}),vx=e=>D(e,t=>!t),GH=e=>g(e,t=>{switch(t._tag){case"None":return q;case"Some":return ee(new Gn)}}),Gw=e=>D(ux(!0),t=>Xe(jl(e,Bj(t,!1)))),KH=e=>xt(e,{onFailure:()=>v(_()),onSuccess:t=>v(C(t))}),YH=d(2,(e,t)=>Oc(e,()=>mr(t))),ZH=d(2,(e,t)=>Oc(e,()=>E(t))),JH=e=>He(e,{onFailure:t=>{let n=ae(bv(t));return n.length===0?oe(t):ee(n)},onSuccess:v}),Kc=e=>xx((t,n)=>m(e,fx(t,n))),QH=e=>e.length>=1?en((t,n)=>{try{e(n).then(r=>t(v(r)),r=>t(ln(r)))}catch(r){t(ln(r))}}):en(t=>{try{e().then(n=>t(v(n)),n=>t(ln(n)))}catch(n){t(ln(n))}}),Qs=d(3,(e,t,n)=>gr(r=>Kr(e,je(r,t,n)))),Xs=d(3,(e,t,n)=>gr(r=>g(n,o=>Kr(e,m(r,je(t,o)))))),XH=tx(v),eB=d(3,(e,t,n)=>ae(e).reduce((r,o,i)=>g(r,s=>n(s,o,i)),v(t))),tB=d(3,(e,t,n)=>ae(e).reduceRight((r,o,i)=>g(r,s=>n(o,s,i)),v(t))),nB=d(3,(e,t,n)=>g(E(()=>e[Symbol.iterator]()),r=>rB(r,0,t,n.while,n.body))),rB=(e,t,n,r,o)=>{let i=e.next();return!i.done&&r(n)?g(o(n,i.value,t),s=>rB(e,t+1,s,r,o)):v(n)},oB=d(2,(e,t)=>H(()=>iB(e,t))),iB=(e,t)=>g(e,n=>t<=0?v(n):fe(ko(),iB(e,t-1))),sB=e=>He(e,{onFailure:ee,onSuccess:v}),aB=e=>H(()=>Rj(e)),Yc=hw,Zc=v(_()),cB=e=>v(C(e)),jp=d(3,(e,t,n)=>g(t,r=>g(e,o=>D(t,i=>[n(r,i),o])))),uB=d(e=>ye(e[0]),function(){return Kw(arguments[0],typeof arguments[1]=="string"?[Gc(arguments[1],arguments[2])]:Object.entries(arguments[1]).map(([e,t])=>Gc(e,t)))}),Kw=d(2,(e,t)=>Mt(e,Ai,n=>Vr(n,t))),lB=d(2,(e,t)=>H(()=>{let n=e[Symbol.iterator](),r=[],o,i=v(!1),s=0;for(;(o=n.next())&&!o.done;){let a=o.value,c=s++;i=g(i,u=>u?v(!0):(r.push(a),t(a,c)))}return D(i,()=>r)})),dB=d(2,(e,t)=>H(()=>{let n=e[Symbol.iterator](),r=[],o,i=v(!0),s=0;for(;(o=n.next())&&!o.done;){let a=o.value,c=s++;i=g(i,u=>m(u?t(a,c):v(!1),D(l=>(l&&r.push(a),l))))}return D(i,()=>r)})),fB=d(2,(e,{onFailure:t,onSuccess:n})=>He(e,{onFailure:r=>{let o=Di(r);switch(o._tag){case"Left":return fe(t(o.left),oe(r));case"Right":return oe(r)}},onSuccess:r=>Fe(n(r),r)})),pB=d(2,(e,t)=>Oo(e,n=>vt(S1(n),{onNone:()=>oe(n),onSome:r=>fe(t(r),oe(n))}))),Yw=d(2,(e,t)=>He(e,{onFailure:n=>{let r=Di(n);switch(r._tag){case"Left":return fe(t(r.left),oe(n));case"Right":return oe(n)}},onSuccess:v})),hB=d(3,(e,t,n)=>Yw(e,r=>Ds(r,t)?n(r):q)),mB=d(2,(e,t)=>He(e,{onFailure:n=>fe(t(n),oe(n)),onSuccess:v})),gB=e=>Zw(e,bj),Zw=d(2,(e,t)=>jp(e,t,(n,r)=>zf(r-n))),MQ=Uj,yB=MQ(v),Jw=e=>{let t,n;typeof e=="function"?t=e:(t=e.try,n=e.catch);let r=o=>n?mr(()=>n(o)):ee(new _p(o,"An unknown error occurred in Effect.tryPromise"));return t.length>=1?en((o,i)=>{try{t(i).then(s=>o(v(s)),s=>o(r(s)))}catch(s){o(r(s))}}):en(o=>{try{t().then(i=>o(v(i)),i=>o(r(i)))}catch(i){o(r(i))}})},vB=d(2,(e,t)=>g(e,n=>Vw({try:()=>t.try(n),catch:t.catch}))),xB=d(2,(e,t)=>g(e,n=>Jw({try:t.try.length>=1?r=>t.try(n,r):()=>t.try(n),catch:t.catch}))),bB=d(2,(e,t)=>H(()=>t()?Zc:Zl(e))),EB=d(2,(e,t)=>g(t,n=>n?Zc:Zl(e))),_B=e=>Ql(e,w1),xx=e=>X(t=>(t.setFiberRefs(e(t.id(),t.getFiberRefs())),q)),CB=d(3,(e,t,n)=>Vc(e,r=>je(r,t,n(As(r,t))))),bx=d(2,(e,t)=>H(()=>t()?D(e,C):v(_()))),SB=d(3,(e,t,n)=>g(zn(t),r=>n(r)?D(e,o=>[r,C(o)]):v([r,_()]))),DB=d(3,(e,t,n)=>g(lx(t),r=>n(r)?D(e,o=>[r,C(o)]):v([r,_()]))),IB=d(2,(e,t)=>t(e)),wB=(e,t)=>(...n)=>g(e,r=>t(r)(...n)),MB=(e,t)=>(...n)=>D(e,r=>t(r)(...n)),Qw=e=>new Proxy({},{get(t,n,r){return(...o)=>g(e,i=>i[n](...o))}}),Xw=e=>new Proxy({},{get(t,n,r){return g(e,o=>ye(o[n])?o[n]:v(o[n]))}}),TB=e=>({functions:Qw(e),constants:Xw(e)}),OB=e=>D(Yn(),$r(e)),eM=e=>g(Yn(),$r(e)),RB=function(){let e=arguments;return yx(g(Ex,t=>E(()=>{if(typeof e[0]=="string")t.attribute(e[0],e[1]);else for(let n in e[0])t.attribute(n,e[0][n])})))},AB=function(){let e=arguments,t=Array.isArray(e[0])?e[0]:[{_tag:"SpanLink",span:e[0],attributes:e[1]??{}}];return yx(g(Ex,n=>E(()=>n.addLinks(t))))},kB=d(e=>ye(e[0]),function(){let e=arguments;return Mt(e[0],bp,typeof e[1]=="string"?qr(e[1],e[2]):t=>Object.entries(e[1]).reduce((n,[r,o])=>qr(n,r,o),t))}),NB=eM(Fo),Ex=g(Yn(),e=>{let t=e.unsafeMap.get(Fo.key);return t!==void 0&&t._tag==="Span"?v(t):ee(new Gn)}),FB=d(e=>ye(e[0]),(e,t,n)=>Mt(e,Vv,Fy({_tag:"SpanLink",span:t,attributes:n??{}}))),PB=BigInt(0),LB=xn(e=>bn(e.context,Wl)?e._tag==="Span"?LB(e.parent):_():C(e)),_x=(e,t,n)=>{let r=!e.getFiberRef(VI)||n.context&&bn(n.context,Wl),o=e.getFiberRef(Mn),i=n.parent?C(n.parent):n.root?_():LB($r(o,Fo)),s;if(r)s=y2({name:t,parent:i,context:je(n.context??Vn(),Wl,!0)});else{let a=e.getFiberRef(st),c=bn(a,Fi),u=bn(a,_j),l=e.getFiberRef(Bl),f=e.getFiberRefs(),h=bw(f,bp),p=bw(f,Vv),y=p._tag==="Some"?n.links!==void 0?[...ur(p.value),...n.links??[]]:ur(p.value):n.links??Ur();s=c.span(t,i,n.context??Vn(),y,l?u.unsafeCurrentTimeNanos():PB,n.kind??"internal",n),h._tag==="Some"&&BL(h.value,(S,I)=>s.attribute(I,S)),n.attributes!==void 0&&Object.entries(n.attributes).forEach(([S,I])=>s.attribute(S,I))}return typeof n.captureStackTrace=="function"&&lp.set(s,n.captureStackTrace),s},jB=(e,t)=>(t=Pi(t),X(n=>v(_x(n,e,t)))),HB=zn(bp),BB=zn(Vv),tM=(e,t,n,r)=>E(()=>{e.status._tag!=="Ended"&&(UI(t)&&lp.has(e)&&e.attribute("code.stacktrace",lp.get(e)()),e.end(r?n.unsafeCurrentTimeNanos():PB,t))}),px=(e,...t)=>{let n=Pi(t.length===1?void 0:t[0]),r=t[t.length-1];return X(o=>{let i=_x(o,e,n),s=o.getFiberRef(Bl),a=bn(o.getFiberRef(st),Zn);return dn(r(i),c=>tM(i,c,a,s))})},hx=d(2,(e,t)=>Qs(e,Fo,t)),nM=function(){let e=typeof arguments[0]!="string",t=e?arguments[1]:arguments[0],n=Pi(e?arguments[2]:arguments[1]);if(e){let r=arguments[0];return px(t,n,o=>hx(r,o))}return r=>px(t,n,o=>hx(r,o))},VB=e=>function(){let t=e.captureStackTrace??!1;if(e.captureStackTrace!==!1){let n=Error.stackTraceLimit;Error.stackTraceLimit=2;let r=new Error;Error.stackTraceLimit=n;let o=!1;t=()=>{if(o!==!1)return o;if(r.stack)return o=r.stack.trim().split(`
`).slice(2).join(`
`).trim(),o}}return H(()=>{let n=typeof e.options=="function"?e.options.apply(null,arguments):e.options;return nM(H(()=>Ye(()=>e.body.apply(this,arguments))),n.name,N(x({},n),{captureStackTrace:t}))})},UB=e=>e==null?ee(new Gn):v(e),$B=e=>Wr(D(e,C),t=>u2(t)?Zc:ee(t));var qB="Sequential",zB="Parallel",TQ="ParallelN",vr={_tag:qB},Hp={_tag:zB},WB=e=>({_tag:TQ,parallelism:e}),rM=e=>e._tag===qB,oM=e=>e._tag===zB;var Sx=vr,Dx=Hp,Ix=WB;var Jc=Fp;var Qc=fx;var Mx="effect/FiberStatus",ea=Symbol.for(Mx),wx="Done",KB="Running",YB="Suspended",OQ=he(`${Mx}-${wx}`),sM=class{[ea]=ea;_tag=wx;[L](){return OQ}[F](t){return Tx(t)&&t._tag===wx}},aM=class{runtimeFlags;[ea]=ea;_tag=KB;constructor(t){this.runtimeFlags=t}[L](){return m(w(Mx),B(w(this._tag)),B(w(this.runtimeFlags)),K(this))}[F](t){return Tx(t)&&t._tag===KB&&this.runtimeFlags===t.runtimeFlags}},cM=class{runtimeFlags;blockingOn;[ea]=ea;_tag=YB;constructor(t,n){this.runtimeFlags=t,this.blockingOn=n}[L](){return m(w(Mx),B(w(this._tag)),B(w(this.runtimeFlags)),B(w(this.blockingOn)),K(this))}[F](t){return Tx(t)&&t._tag===YB&&this.runtimeFlags===t.runtimeFlags&&M(this.blockingOn,t.blockingOn)}},ZB=new sM,JB=e=>new aM(e),QB=(e,t)=>new cM(e,t),Tx=e=>A(e,ea),XB=e=>e._tag===wx;var eV=ZB,uM=JB,tV=QB;var nV=XB;var AQ=Symbol.for("effect/Micro"),Ox=Symbol.for("effect/Micro/MicroExit");var oV=Symbol.for("effect/Micro/MicroCause");var kQ={_E:G},Rx=class extends globalThis.Error{_tag;traces;[oV];constructor(t,n,r){let o=`MicroCause.${t}`,i,s,a;if(n instanceof globalThis.Error){i=`(${o}) ${n.name}`,s=n.message;let c=s.split(`
`).length;a=n.stack?`(${o}) ${n.stack.split(`
`).slice(0,c+3).join(`
`)}`:`${i}: ${s}`}else i=o,s=di(n,0),a=`${i}: ${s}`;r.length>0&&(a+=`
    ${r.join(`
    `)}`),super(s),this._tag=t,this.traces=r,this[oV]=kQ,this.name=i,this.stack=a}pipe(){return R(this,arguments)}toString(){return this.stack}[Y](){return this.stack}};var dM=class extends Rx{defect;constructor(t,n=[]){super("Die",t,n),this.defect=t}},NQ=(e,t=[])=>new dM(e,t),fM=class extends Rx{constructor(t=[]){super("Interrupt","interrupted",t)}},FQ=(e=[])=>new fM(e);var cV=e=>e._tag==="Interrupt";var iV=Symbol.for("effect/Micro/MicroFiber"),PQ={_A:G,_E:G},Ax=class{context;interruptible;[iV];_stack=[];_observers=[];_exit;_children;currentOpCount=0;constructor(t,n=!0){this.context=t,this.interruptible=n,this[iV]=PQ}getRef(t){return LP(this.context,t)}addObserver(t){return this._exit?(t(this._exit),go):(this._observers.push(t),()=>{let n=this._observers.indexOf(t);n>=0&&this._observers.splice(n,1)})}_interrupted=!1;unsafeInterrupt(){this._exit||(this._interrupted=!0,this.interruptible&&this.evaluate(gM))}unsafePoll(){return this._exit}evaluate(t){if(this._exit)return;if(this._yielded!==void 0){let o=this._yielded;this._yielded=void 0,o()}let n=this.runLoop(t);if(n===ed)return;let r=sV.interruptChildren&&sV.interruptChildren(this);if(r!==void 0)return this.evaluate(Xc(r,()=>n));this._exit=n;for(let o=0;o<this._observers.length;o++)this._observers[o](n);this._observers.length=0}runLoop(t){let n=!1,r=t;this.currentOpCount=0;try{for(;;){if(this.currentOpCount++,!n&&this.getRef(od).shouldYield(this)){n=!0;let o=r;r=Xc(UQ,()=>o)}if(r=r[pM](this),r===ed){let o=this._yielded;return Ox in o?(this._yielded=void 0,o):ed}}}catch(o){return A(r,pM)?Lx(o):Lx(`MicroFiber.runLoop: Not a valid effect: ${String(r)}`)}}getCont(t){for(;;){let n=this._stack.pop();if(!n)return;let r=n[kx]&&n[kx](this);if(r)return{[t]:r};if(n[t])return n}}_yielded=void 0;yieldWith(t){return this._yielded=t,ed}children(){return this._children??=new Set}},sV=U("effect/Micro/fiberMiddleware",()=>({interruptChildren:void 0}));var LQ=e=>Bp(()=>{for(let r of e)r.unsafeInterrupt();let t=e[Symbol.iterator](),n=Bp(()=>{let r=t.next();for(;!r.done;){if(r.value.unsafePoll()){r=t.next();continue}let o=r.value;return dV(i=>{o.addObserver(s=>{i(n)})})}return rd});return n}),uV=Symbol.for("effect/Micro/identifier"),Ae=Symbol.for("effect/Micro/args"),pM=Symbol.for("effect/Micro/evaluate"),ta=Symbol.for("effect/Micro/successCont"),td=Symbol.for("effect/Micro/failureCont"),kx=Symbol.for("effect/Micro/ensureCont"),ed=Symbol.for("effect/Micro/Yield"),jQ={_A:G,_E:G,_R:G},HQ=N(x({},jj),{_op:"Micro",[AQ]:jQ,pipe(){return R(this,arguments)},[Symbol.iterator](){return new tc(new yo(this))},toJSON(){return x({_id:"Micro",op:this[uV]},Ae in this?{args:this[Ae]}:void 0)},toString(){return se(this)},[Y](){return se(this)}});function BQ(e){return Lx("Micro.evaluate: Not implemented")}var Hx=e=>N(x({},HQ),{[uV]:e.op,[pM]:e.eval??BQ,[ta]:e.contA,[td]:e.contE,[kx]:e.ensure}),na=e=>{let t=Hx(e);return function(){let n=Object.create(t);return n[Ae]=e.single===!1?arguments:arguments[0],n}},lV=e=>{let t=N(x({},Hx(e)),{[Ox]:Ox,_tag:e.op,get[e.prop](){return this[Ae]},toJSON(){return{_id:"MicroExit",_tag:e.op,[e.prop]:this[Ae]}},[F](n){return YQ(n)&&n._tag===e.op&&M(this[Ae],n[Ae])},[L](){return K(this,B(he(e.op))(w(this[Ae])))}});return function(n){let r=Object.create(t);return r[Ae]=n,r[ta]=void 0,r[td]=void 0,r[kx]=void 0,r}},nd=lV({op:"Success",prop:"value",eval(e){let t=e.getCont(ta);return t?t[ta](this[Ae],e):e.yieldWith(this)}}),Nx=lV({op:"Failure",prop:"cause",eval(e){let t=e.getCont(td);for(;cV(this[Ae])&&t&&e.interruptible;)t=e.getCont(td);return t?t[td](this[Ae],e):e.yieldWith(this)}});var Fx=na({op:"Sync",eval(e){let t=this[Ae](),n=e.getCont(ta);return n?n[ta](t,e):e.yieldWith(Vx(t))}}),Bp=na({op:"Suspend",eval(e){return this[Ae]()}}),VQ=na({op:"Yield",eval(e){let t=!1;return e.getRef(od).scheduleTask(()=>{t||e.evaluate(rd)},this[Ae]??0),e.yieldWith(()=>{t=!0})}}),UQ=VQ(0);var Px=nd(void 0);var Bx=na({op:"WithMicroFiber",eval(e){return this[Ae](e)}});var $Q=na({op:"Async",single:!1,eval(e){let t=this[Ae][0],n=!1,r=!1,o=this[Ae][1]?new AbortController:void 0,i=t(s=>{n||(n=!0,r?e.evaluate(s):r=s)},o?.signal);return r!==!1?r:(r=!0,e._yielded=()=>{n=!0},o===void 0&&i===void 0||e._stack.push(qQ(()=>(n=!0,o?.abort(),i??rd))),ed)}}),qQ=na({op:"AsyncFinalizer",ensure(e){e.interruptible&&(e.interruptible=!1,e._stack.push(yM(!0)))},contE(e,t){return cV(e)?Xc(this[Ae](),()=>Nx(e)):Nx(e)}}),dV=e=>$Q(e,e.length>=2);var zQ=d(2,(e,t)=>KQ(e,n=>t));var WQ=e=>eX(e,{onFailure:Ux,onSuccess:Vx});var Xc=d(2,(e,t)=>{let n=Object.create(GQ);return n[Ae]=e,n[ta]=t,n}),GQ=Hx({op:"OnSuccess",eval(e){return e._stack.push(this),this[Ae]}});var KQ=d(2,(e,t)=>Xc(e,n=>nd(t(n)))),YQ=e=>A(e,Ox),Vx=nd,Ux=Nx,gM=Ux(FQ());var Lx=e=>Ux(NQ(e));var rd=Vx(void 0),ZQ=e=>{for(let t of e)if(t._tag==="Failure")return t;return rd},JQ="setImmediate"in globalThis?globalThis.setImmediate:e=>setTimeout(e,0),jx=class{tasks=[];running=!1;scheduleTask(t,n){this.tasks.push(t),this.running||(this.running=!0,JQ(this.afterScheduled))}afterScheduled=()=>{this.running=!1,this.runTasks()};runTasks(){let t=this.tasks;this.tasks=[];for(let n=0,r=t.length;n<r;n++)t[n]()}shouldYield(t){return t.currentOpCount>=t.getRef(hM)}flush(){for(;this.tasks.length>0;)this.runTasks()}};var QQ=d(2,(e,t)=>Bx(n=>{let r=n.context;return n.context=t(r),tX(e,()=>(n.context=r,Px))}));var fV=d(2,(e,t)=>QQ(e,yi(t)));var hM=class extends Eo()("effect/Micro/currentMaxOpsBeforeYield",{defaultValue:()=>2048}){},mM=class extends Eo()("effect/Micro/currentConcurrency",{defaultValue:()=>"unbounded"}){},od=class extends Eo()("effect/Micro/currentScheduler",{defaultValue:()=>new jx}){};var pV=d(2,(e,t)=>{let n=Object.create(XQ);return n[Ae]=e,n[ta]=t.onSuccess,n[td]=t.onFailure,n}),XQ=Hx({op:"OnSuccessAndFailure",eval(e){return e._stack.push(this),this[Ae]}}),eX=d(2,(e,t)=>pV(e,{onFailure:n=>Fx(()=>t.onFailure(n)),onSuccess:n=>Fx(()=>t.onSuccess(n))}));var lM=Symbol.for("effect/Micro/MicroScope");var aV=class e{[lM];state={_tag:"Open",finalizers:new Set};constructor(){this[lM]=lM}unsafeAddFinalizer(t){this.state._tag==="Open"&&this.state.finalizers.add(t)}addFinalizer(t){return Bp(()=>this.state._tag==="Open"?(this.state.finalizers.add(t),Px):t(this.state.exit))}unsafeRemoveFinalizer(t){this.state._tag==="Open"&&this.state.finalizers.delete(t)}close(t){return Bp(()=>{if(this.state._tag==="Open"){let n=Array.from(this.state.finalizers).reverse();return this.state={_tag:"Closed",exit:t},Xc(iX(n,r=>WQ(r(t))),ZQ)}return Px})}get fork(){return Fx(()=>{let t=new e;if(this.state._tag==="Closed")return t.state=this.state,t;function n(r){return t.close(r)}return this.state.finalizers.add(n),t.unsafeAddFinalizer(r=>Fx(()=>this.unsafeRemoveFinalizer(n))),t})}};var tX=d(2,(e,t)=>rX(n=>pV(n(e),{onFailure:r=>Xc(t(Ux(r)),()=>Nx(r)),onSuccess:r=>Xc(t(Vx(r)),()=>nd(r))})));var yM=na({op:"SetInterruptible",ensure(e){if(e.interruptible=this[Ae],e._interrupted&&e.interruptible)return()=>gM}}),nX=e=>Bx(t=>t.interruptible?e:(t.interruptible=!0,t._stack.push(yM(!1)),t._interrupted?gM:e)),rX=e=>Bx(t=>t.interruptible?(t.interruptible=!1,t._stack.push(yM(!0)),e(nX)):e(G));var oX=na({op:"While",contA(e,t){return this[Ae].step(e),this[Ae].while()?(t._stack.push(this),this[Ae].body()):rd},eval(e){return this[Ae].while()?(e._stack.push(this),this[Ae].body()):rd}}),iX=(e,t,n)=>Bx(r=>{let o=n?.concurrency==="inherit"?r.getRef(mM):n?.concurrency??1,i=o==="unbounded"?Number.POSITIVE_INFINITY:Math.max(1,o),s=ae(e),a=s.length;if(a===0)return n?.discard?Px:nd([]);let c=n?.discard?void 0:new Array(a),u=0;return i===1?zQ(oX({while:()=>u<s.length,body:()=>t(s[u],u),step:c?l=>c[u++]=l:l=>u++}),c):dV(l=>{let f=new Set,h,p=0,y=0,S=!1,I=!1;function T(){for(S=!0;p<i&&u<a;){let z=u,qe=s[z];u++,p++;try{let le=sX(r,t(qe,z),!0,!0);f.add(le),le.addObserver(Lt=>{f.delete(le),!I&&(Lt._tag==="Failure"?h===void 0&&(h=Lt,a=u,f.forEach(jt=>jt.unsafeInterrupt())):c!==void 0&&(c[z]=Lt.value),y++,p--,y===a?l(h??nd(c)):!S&&p<i&&T())})}catch(le){h=Lx(le),a=u,f.forEach(Lt=>Lt.unsafeInterrupt())}}S=!1}return T(),Bp(()=>(I=!0,u=a,LQ(f)))})});var sX=(e,t,n=!1,r=!1)=>{let o=new Ax(e.context,e.interruptible);return r||(e.children().add(o),o.addObserver(()=>e.children().delete(o))),n?o.evaluate(t):e.getRef(od).scheduleTask(()=>o.evaluate(t),0),o};var hV=(e,t)=>{let n=new Ax(od.context(t?.scheduler??new jx));if(n.evaluate(e),t?.signal)if(t.signal.aborted)n.unsafeInterrupt();else{let r=()=>n.unsafeInterrupt();t.signal.addEventListener("abort",r,{once:!0}),n.addObserver(()=>t.signal.removeEventListener("abort",r))}return n};var $x=class{buckets=[];scheduleTask(t,n){let r=this.buckets.length,o,i=0;for(;i<r&&this.buckets[i][0]<=n;i++)o=this.buckets[i];o&&o[0]===n?o[1].push(t):i===r?this.buckets.push([n,[t]]):this.buckets.splice(i,0,[n,[t]])}},vM=class{maxNextTickBeforeTimer;running=!1;tasks=new $x;constructor(t){this.maxNextTickBeforeTimer=t}starveInternal(t){let n=this.tasks.buckets;this.tasks.buckets=[];for(let[r,o]of n)for(let i=0;i<o.length;i++)o[i]();this.tasks.buckets.length===0?this.running=!1:this.starve(t)}starve(t=0){t>=this.maxNextTickBeforeTimer?setTimeout(()=>this.starveInternal(0),0):Promise.resolve(void 0).then(()=>this.starveInternal(t+1))}shouldYield(t){return t.currentOpCount>t.getFiberRef(jv)?t.getFiberRef(Ri):!1}scheduleTask(t,n){this.tasks.scheduleTask(t,n),this.running||(this.running=!0,this.starve())}},gV=U(Symbol.for("effect/Scheduler/defaultScheduler"),()=>new vM(2048)),qx=class{tasks=new $x;deferred=!1;scheduleTask(t,n){this.deferred?gV.scheduleTask(t,n):this.tasks.scheduleTask(t,n)}shouldYield(t){return t.currentOpCount>t.getFiberRef(jv)?t.getFiberRef(Ri):!1}flush(){for(;this.tasks.buckets.length>0;){let t=this.tasks.buckets;this.tasks.buckets=[];for(let[n,r]of t)for(let o=0;o<r.length;o++)r[o]()}this.deferred=!0}};var eu=U(Symbol.for("effect/FiberRef/currentScheduler"),()=>Ke(gV)),yV=d(2,(e,t)=>it(e,eu,t));var zx=U(Symbol.for("effect/FiberRef/currentRequestMap"),()=>Ke(new Map));var bM=(e,t,n,r)=>{switch(e){case void 0:return t();case"unbounded":return n();case"inherit":return Wt(Bv,o=>o==="unbounded"?n():o>1?r(o):t());default:return e>1?r(e):t()}},Vp=(e,t,n)=>{switch(e){case void 0:return t();case"unbounded":return n();case"inherit":return Wt(Bv,r=>r==="unbounded"||r>1?n():t());default:return e>1?n():t()}};var Wx="InterruptSignal",Gx="Stateful",Kx="Resume",Yx="YieldNow",Zx=e=>({_tag:Wx,cause:e}),id=e=>({_tag:Gx,onFiber:e}),tu=e=>({_tag:Kx,effect:e}),vV=()=>({_tag:Yx});var uX="effect/FiberScope",Jx=Symbol.for(uX),EM=class{[Jx]=Jx;fiberId=_n;roots=new Set;add(t,n){this.roots.add(n),n.addObserver(()=>{this.roots.delete(n)})}},_M=class{fiberId;parent;[Jx]=Jx;constructor(t,n){this.fiberId=t,this.parent=n}add(t,n){this.parent.tell(id(r=>{r.addChild(n),n.addObserver(()=>{r.removeChild(n)})}))}},bV=e=>new _M(e.id(),e),Bi=U(Symbol.for("effect/FiberScope/Global"),()=>new EM);var lX="effect/Fiber",Up=Symbol.for(lX),$p={_E:e=>e,_A:e=>e},dX={[Up]:$p,pipe(){return R(this,arguments)}},fX="effect/Fiber",CM=Symbol.for(fX);var _V=e=>CM in e,CV=e=>e.await;var SV=e=>e.inheritAll;var DV=d(2,Hl(function*(e,t){for(let n of e){if(_V(n)){n.unsafeInterruptAsFork(t);continue}yield*Bo(n.interruptAsFork(t))}for(let n of e)_V(n)&&n.unsafePoll()||(yield*Bo(n.await))})),IV=d(2,(e,t)=>e.interruptAsFork(t)),Zr=e=>kc(In(e.await),e.inheritAll);var mAe=N(x(N(x({},hi),{commit(){return Zr(this)}}),dX),{id:()=>_n,await:Nc,children:v([]),inheritAll:Nc,poll:v(_()),interruptAsFork:()=>Nc});var ra="effect/FiberCurrent";var pX="effect/Logger",MV=Symbol.for(pX),TV={_Message:e=>e,_Output:e=>e},Qx=e=>({[MV]:TV,log:e,pipe(){return R(this,arguments)}});var xAe={[MV]:TV,log:go,pipe(){return R(this,arguments)}};var hX=/^[^\s"=]*$/,mX=(e,t)=>({annotations:n,cause:r,date:o,fiberId:i,logLevel:s,message:a,spans:c})=>{let u=y=>y.match(hX)?y:e(y),l=(y,S)=>`${Ow(y)}=${u(S)}`,f=(y,S)=>" "+l(y,S),h=l("timestamp",o.toISOString());h+=f("level",s.label),h+=f("fiber",ov(i));let p=yP(a);for(let y=0;y<p.length;y++)h+=f("message",di(p[y],t));_1(r)||(h+=f("cause",Ii(r,{renderErrorCause:!0})));for(let y of c)h+=" "+Rw(o.getTime())(y);for(let[y,S]of n)h+=f(y,di(S,t));return h},gX=e=>`"${e.replace(/\\([\s\S])|(")/g,"\\$1$2")}"`,OV=Qx(mX(gX));var nu={bold:"1",red:"31",green:"32",yellow:"33",blue:"34",cyan:"36",white:"37",gray:"90",black:"30",bgBrightRed:"101"},bAe={None:[],All:[],Trace:[nu.gray],Debug:[nu.blue],Info:[nu.green],Warning:[nu.yellow],Error:[nu.red],Fatal:[nu.bgBrightRed,nu.black]};var RV=typeof process=="object"&&process!==null&&typeof process.stdout=="object"&&process.stdout!==null,EAe=RV&&process.stdout.isTTY===!0,_Ae=RV||"Deno"in globalThis;var AV="effect/MetricBoundaries",SM=Symbol.for(AV),DM=class{values;[SM]=SM;constructor(t){this.values=t,this._hash=m(he(AV),B(vn(this.values)))}_hash;[L](){return this._hash}[F](t){return vX(t)&&M(this.values,t.values)}pipe(){return R(this,arguments)}},vX=e=>A(e,SM),xX=e=>{let t=m(e,oD(Ze(Number.POSITIVE_INFINITY)),dD);return new DM(t)};var kV=e=>m(rD(e.count-1,t=>e.start*Math.pow(e.factor,t)),qf,xX);var EX="effect/MetricKeyType",qp=Symbol.for(EX),LV="effect/MetricKeyType/Counter",IM=Symbol.for(LV),jV="effect/MetricKeyType/Frequency",wM=Symbol.for(jV),HV="effect/MetricKeyType/Gauge",MM=Symbol.for(HV),BV="effect/MetricKeyType/Histogram",TM=Symbol.for(BV),VV="effect/MetricKeyType/Summary",OM=Symbol.for(VV),zp={_In:e=>e,_Out:e=>e},RM=class{incremental;bigint;[qp]=zp;[IM]=IM;constructor(t,n){this.incremental=t,this.bigint=n,this._hash=he(LV)}_hash;[L](){return this._hash}[F](t){return kM(t)}pipe(){return R(this,arguments)}},_X=he(jV),NV=class{preregisteredWords;[qp]=zp;[wM]=wM;constructor(t){this.preregisteredWords=t}[L](){return _X}[F](t){return NM(t)}pipe(){return R(this,arguments)}},CX=he(HV),FV=class{bigint;[qp]=zp;[MM]=MM;constructor(t){this.bigint=t}[L](){return CX}[F](t){return FM(t)}pipe(){return R(this,arguments)}},AM=class{boundaries;[qp]=zp;[TM]=TM;constructor(t){this.boundaries=t,this._hash=m(he(BV),B(w(this.boundaries)))}_hash;[L](){return this._hash}[F](t){return PM(t)&&M(this.boundaries,t.boundaries)}pipe(){return R(this,arguments)}},PV=class{maxAge;maxSize;error;quantiles;[qp]=zp;[OM]=OM;constructor(t,n,r,o){this.maxAge=t,this.maxSize=n,this.error=r,this.quantiles=o,this._hash=m(he(VV),B(w(this.maxAge)),B(w(this.maxSize)),B(w(this.error)),B(vn(this.quantiles)))}_hash;[L](){return this._hash}[F](t){return LM(t)&&M(this.maxAge,t.maxAge)&&this.maxSize===t.maxSize&&this.error===t.error&&M(this.quantiles,t.quantiles)}pipe(){return R(this,arguments)}},UV=e=>new RM(e?.incremental??!1,e?.bigint??!1);var $V=e=>new AM(e);var kM=e=>A(e,IM),NM=e=>A(e,wM),FM=e=>A(e,MM),PM=e=>A(e,TM),LM=e=>A(e,OM);var SX="effect/MetricKey",zV=Symbol.for(SX),DX={_Type:e=>e},IX=_l(M),Wp=class{name;keyType;description;tags;[zV]=DX;constructor(t,n,r,o=[]){this.name=t,this.keyType=n,this.description=r,this.tags=o,this._hash=m(he(this.name+this.description),B(w(this.keyType)),B(vn(this.tags)))}_hash;[L](){return this._hash}[F](t){return wX(t)&&this.name===t.name&&M(this.keyType,t.keyType)&&M(this.description,t.description)&&IX(this.tags,t.tags)}pipe(){return R(this,arguments)}},wX=e=>A(e,zV),WV=(e,t)=>new Wp(e,UV(t),Br(t?.description));var GV=(e,t,n)=>new Wp(e,$V(t),Br(n));var KV=d(2,(e,t)=>t.length===0?e:new Wp(e.name,e.keyType,e.description,Vr(e.tags,t)));var TX="effect/MetricState",Gp=Symbol.for(TX),YV="effect/MetricState/Counter",jM=Symbol.for(YV),ZV="effect/MetricState/Frequency",HM=Symbol.for(ZV),JV="effect/MetricState/Gauge",BM=Symbol.for(JV),QV="effect/MetricState/Histogram",VM=Symbol.for(QV),XV="effect/MetricState/Summary",UM=Symbol.for(XV),Kp={_A:e=>e},$M=class{count;[Gp]=Kp;[jM]=jM;constructor(t){this.count=t}[L](){return m(w(YV),B(w(this.count)),K(this))}[F](t){return RX(t)&&this.count===t.count}pipe(){return R(this,arguments)}},OX=_l(M),qM=class{occurrences;[Gp]=Kp;[HM]=HM;constructor(t){this.occurrences=t}_hash;[L](){return m(he(ZV),B(vn(ae(this.occurrences.entries()))),K(this))}[F](t){return AX(t)&&OX(ae(this.occurrences.entries()),ae(t.occurrences.entries()))}pipe(){return R(this,arguments)}},zM=class{value;[Gp]=Kp;[BM]=BM;constructor(t){this.value=t}[L](){return m(w(JV),B(w(this.value)),K(this))}[F](t){return kX(t)&&this.value===t.value}pipe(){return R(this,arguments)}},WM=class{buckets;count;min;max;sum;[Gp]=Kp;[VM]=VM;constructor(t,n,r,o,i){this.buckets=t,this.count=n,this.min=r,this.max=o,this.sum=i}[L](){return m(w(QV),B(w(this.buckets)),B(w(this.count)),B(w(this.min)),B(w(this.max)),B(w(this.sum)),K(this))}[F](t){return NX(t)&&M(this.buckets,t.buckets)&&this.count===t.count&&this.min===t.min&&this.max===t.max&&this.sum===t.sum}pipe(){return R(this,arguments)}},GM=class{error;quantiles;count;min;max;sum;[Gp]=Kp;[UM]=UM;constructor(t,n,r,o,i,s){this.error=t,this.quantiles=n,this.count=r,this.min=o,this.max=i,this.sum=s}[L](){return m(w(XV),B(w(this.error)),B(w(this.quantiles)),B(w(this.count)),B(w(this.min)),B(w(this.max)),B(w(this.sum)),K(this))}[F](t){return FX(t)&&this.error===t.error&&M(this.quantiles,t.quantiles)&&this.count===t.count&&this.min===t.min&&this.max===t.max&&this.sum===t.sum}pipe(){return R(this,arguments)}},eU=e=>new $M(e),tU=e=>new qM(e),nU=e=>new zM(e),rU=e=>new WM(e.buckets,e.count,e.min,e.max,e.sum),oU=e=>new GM(e.error,e.quantiles,e.count,e.min,e.max,e.sum);var RX=e=>A(e,jM),AX=e=>A(e,HM),kX=e=>A(e,BM),NX=e=>A(e,VM),FX=e=>A(e,UM);var LX="effect/MetricHook",jX=Symbol.for(LX),HX={_In:e=>e,_Out:e=>e},Yp=e=>x({[jX]:HX,pipe(){return R(this,arguments)}},e);var iU=BigInt(0),aU=e=>{let t=e.keyType.bigint?iU:0,n=e.keyType.incremental?e.keyType.bigint?o=>o>=iU:o=>o>=0:o=>!0,r=o=>{n(o)&&(t=t+o)};return Yp({get:()=>eU(t),update:r,modify:r})},cU=e=>{let t=new Map;for(let r of e.keyType.preregisteredWords)t.set(r,0);let n=r=>{let o=t.get(r)??0;t.set(r,o+1)};return Yp({get:()=>tU(t),update:n,modify:n})},uU=(e,t)=>{let n=t;return Yp({get:()=>nU(n),update:r=>{n=r},modify:r=>{n=n+r}})},lU=e=>{let t=e.keyType.boundaries.values,n=t.length,r=new Uint32Array(n+1),o=new Float64Array(n),i=0,s=0,a=Number.MAX_VALUE,c=Number.MIN_VALUE;m(t,ac(Rs),bo((f,h)=>{o[h]=f}));let u=f=>{let h=0,p=n;for(;h!==p;){let y=Math.floor(h+(p-h)/2),S=o[y];f<=S?p=y:h=y,p===h+1&&(f<=o[h]?p=h:h=p)}r[h]=r[h]+1,i=i+1,s=s+f,f<a&&(a=f),f>c&&(c=f)},l=()=>{let f=Hf(n),h=0;for(let p=0;p<n;p++){let y=o[p],S=r[p];h=h+S,f[p]=[y,h]}return f};return Yp({get:()=>rU({buckets:l(),count:i,min:a,max:c,sum:s}),update:u,modify:u})},dU=e=>{let{error:t,maxAge:n,maxSize:r,quantiles:o}=e.keyType,i=m(o,ac(Rs)),s=Hf(r),a=0,c=0,u=0,l=0,f=0,h=y=>{let S=[],I=0;for(;I!==r-1;){let T=s[I];if(T!=null){let[z,qe]=T,le=ks(y-z);wD(le,Ns)&&eL(le,n)&&S.push(qe)}I=I+1}return BX(t,i,ac(S,Rs))},p=(y,S)=>{if(r>0){a=a+1;let I=a%r;s[I]=[S,y]}l=c===0?y:Math.min(l,y),f=c===0?y:Math.max(f,y),c=c+1,u=u+y};return Yp({get:()=>oU({error:t,quantiles:h(Date.now()),count:c,min:l,max:f,sum:u}),update:([y,S])=>p(y,S),modify:([y,S])=>p(y,S)})},BX=(e,t,n)=>{let r=n.length;if(!Jt(t))return Ur();let o=t[0],i=t.slice(1),s=sU(e,r,_(),0,o,n),a=an(s);return i.forEach(c=>{a.push(sU(e,r,s.value,s.consumed,c,s.rest))}),bo(a,c=>[c.quantile,c.value])},sU=(e,t,n,r,o,i)=>{let s=e,a=t,c=n,u=r,l=o,f=i,h=e,p=t,y=n,S=r,I=o,T=i;for(;;){if(!Jt(f))return{quantile:l,value:_(),consumed:u,rest:[]};if(l===1)return{quantile:l,value:C(sD(f)),consumed:u+f.length,rest:[]};let z=Nt(f),qe=EP(f,at=>at===z),le=l*a,Lt=s/2*le,jt=u+qe[0].length,Qn=Math.abs(jt-le);if(jt<le-Lt){h=s,p=a,y=Ts(f),S=jt,I=l,T=qe[1],s=h,a=p,c=y,u=S,l=I,f=T;continue}if(jt>le+Lt){let at=ce(c)?C(z):c;return{quantile:l,value:at,consumed:u,rest:f}}switch(c._tag){case"None":{h=s,p=a,y=Ts(f),S=jt,I=l,T=qe[1],s=h,a=p,c=y,u=S,l=I,f=T;continue}case"Some":{let at=Math.abs(le-c.value);if(Qn<at){h=s,p=a,y=Ts(f),S=jt,I=l,T=qe[1],s=h,a=p,c=y,u=S,l=I,f=T;continue}return{quantile:l,value:C(c.value),consumed:u,rest:f}}}}throw new Error("BUG: MetricHook.resolveQuantiles - please report an issue at https://github.com/Effect-TS/effect/issues")};var UX="effect/MetricPair",$X=Symbol.for(UX),qX={_Type:e=>e};var fU=(e,t)=>({[$X]:qX,metricKey:e,metricState:t,pipe(){return R(this,arguments)}});var WX="effect/MetricRegistry",pU=Symbol.for(WX),KM=class{[pU]=pU;map=Uc();snapshot(){let t=[];for(let[n,r]of this.map)t.push(fU(n,r.get()));return t}get(t){let n=m(this.map,mt(t),$t);if(n==null){if(kM(t.keyType))return this.getCounter(t);if(FM(t.keyType))return this.getGauge(t);if(NM(t.keyType))return this.getFrequency(t);if(PM(t.keyType))return this.getHistogram(t);if(LM(t.keyType))return this.getSummary(t);throw new Error("BUG: MetricRegistry.get - unknown MetricKeyType - please report an issue at https://github.com/Effect-TS/effect/issues")}else return n}getCounter(t){let n=m(this.map,mt(t),$t);if(n==null){let r=aU(t);m(this.map,Yr(t))||m(this.map,Tn(t,r)),n=r}return n}getFrequency(t){let n=m(this.map,mt(t),$t);if(n==null){let r=cU(t);m(this.map,Yr(t))||m(this.map,Tn(t,r)),n=r}return n}getGauge(t){let n=m(this.map,mt(t),$t);if(n==null){let r=uU(t,t.keyType.bigint?BigInt(0):0);m(this.map,Yr(t))||m(this.map,Tn(t,r)),n=r}return n}getHistogram(t){let n=m(this.map,mt(t),$t);if(n==null){let r=lU(t);m(this.map,Yr(t))||m(this.map,Tn(t,r)),n=r}return n}getSummary(t){let n=m(this.map,mt(t),$t);if(n==null){let r=dU(t);m(this.map,Yr(t))||m(this.map,Tn(t,r)),n=r}return n}},hU=()=>new KM;var KX="effect/Metric",YX=Symbol.for(KX),ZX={_Type:e=>e,_In:e=>e,_Out:e=>e},mU=U(Symbol.for("effect/Metric/globalMetricRegistry"),()=>hU()),gU=function(e,t,n,r){let o=Object.assign(i=>Gr(i,s=>QX(o,s)),{[YX]:ZX,keyType:e,unsafeUpdate:t,unsafeValue:n,unsafeModify:r,register(){return this.unsafeValue([]),this},pipe(){return R(this,arguments)}});return o};var Zp=(e,t)=>yU(WV(e,t));var yU=e=>{let t,n=new WeakMap,r=o=>{if(o.length===0)return t!==void 0||(t=mU.get(e)),t;let i=n.get(o);return i!==void 0||(i=mU.get(KV(e,o)),n.set(o,i)),i};return gU(e.keyType,(o,i)=>r(i).update(o),o=>r(o).get(),(o,i)=>r(i).modify(o))};var vU=(e,t,n)=>yU(GV(e,t,n));var xU=d(3,(e,t,n)=>JX(e,[Gc(t,n)]));var JX=d(2,(e,t)=>gU(e.keyType,(n,r)=>e.unsafeUpdate(n,Vr(t,r)),n=>e.unsafeValue(Vr(t,n)),(n,r)=>e.unsafeModify(n,Vr(t,r))));var QX=d(2,(e,t)=>Wt(Ai,n=>E(()=>e.unsafeUpdate(t,n))));var eee="effect/Request",YM=Symbol.for(eee),tee={_E:e=>e,_A:e=>e},XAe=N(x({},gl),{[YM]:tee}),bU=e=>A(e,YM);var ZM=d(2,(e,t)=>Wt(zx,n=>E(()=>{if(n.has(e)){let r=n.get(e);r.state.completed||(r.state.completed=!0,Tp(r.result,t))}})));var sd=class{count=0;observers=new Set;interrupted=!1;addObserver(t){this.observers.add(t)}removeObserver(t){this.observers.delete(t)}increment(){this.count++,this.observers.forEach(t=>t(this.count))}decrement(){this.count--,this.observers.forEach(t=>t(this.count))}};var oa={Forward:0,Backward:1},Xx=class e{self;stack;direction;count=0;constructor(t,n,r){this.self=t,this.stack=n,this.direction=r}clone(){return new e(this.self,this.stack.slice(),this.direction)}reversed(){return new e(this.self,this.stack.slice(),this.direction===oa.Forward?oa.Backward:oa.Forward)}next(){let t=this.entry;switch(this.count++,this.direction===oa.Forward?this.moveNext():this.movePrev(),t._tag){case"None":return{done:!0,value:this.count};case"Some":return{done:!1,value:t.value}}}get key(){return this.stack.length>0?C(this.stack[this.stack.length-1].key):_()}get value(){return this.stack.length>0?C(this.stack[this.stack.length-1].value):_()}get entry(){return ft(Ry(this.stack),t=>[t.key,t.value])}get index(){let t=0,n=this.stack;if(n.length===0){let r=this.self._root;return r!=null?r.count:0}else n[n.length-1].left!=null&&(t=n[n.length-1].left.count);for(let r=n.length-2;r>=0;--r)n[r+1]===n[r].right&&(++t,n[r].left!=null&&(t+=n[r].left.count));return t}moveNext(){let t=this.stack;if(t.length===0)return;let n=t[t.length-1];if(n.right!=null)for(n=n.right;n!=null;)t.push(n),n=n.left;else for(t.pop();t.length>0&&t[t.length-1].right===n;)n=t[t.length-1],t.pop()}get hasNext(){let t=this.stack;if(t.length===0)return!1;if(t[t.length-1].right!=null)return!0;for(let n=t.length-1;n>0;--n)if(t[n-1].left===t[n])return!0;return!1}movePrev(){let t=this.stack;if(t.length===0)return;let n=t[t.length-1];if(n!=null&&n.left!=null)for(n=n.left;n!=null;)t.push(n),n=n.right;else for(t.pop();t.length>0&&t[t.length-1].left===n;)n=t[t.length-1],t.pop()}get hasPrev(){let t=this.stack;if(t.length===0)return!1;if(t[t.length-1].left!=null)return!0;for(let n=t.length-1;n>0;--n)if(t[n-1].right===t[n])return!0;return!1}};var V={Red:0,Black:1},Jr=({color:e,count:t,key:n,left:r,right:o,value:i})=>({color:e,key:n,value:i,left:r,right:o,count:t});function JM(e,t){e.key=t.key,e.value=t.value,e.left=t.left,e.right=t.right,e.color=t.color,e.count=t.count}var Vi=({count:e,key:t,left:n,right:r,value:o},i)=>({color:i,key:t,value:o,left:n,right:r,count:e}),$e=e=>{e.count=1+(e.left?.count??0)+(e.right?.count??0)};var EU="effect/RedBlackTree",QM=Symbol.for(EU),oee={_Key:e=>e,_Value:e=>e},iee={[QM]:oee,[L](){let e=w(EU);for(let t of this)e^=m(w(t[0]),B(w(t[1])));return K(this,e)},[F](e){if(_U(e)){if((this._root?.count??0)!==(e._root?.count??0))return!1;let t=Array.from(e);return Array.from(this).every((n,r)=>{let o=t[r];return M(n[0],o[0])&&M(n[1],o[1])})}return!1},[Symbol.iterator](){let e=[],t=this._root;for(;t!=null;)e.push(t),t=t.left;return new Xx(this,e,oa.Forward)},toString(){return se(this.toJSON())},toJSON(){return{_id:"RedBlackTree",values:Array.from(this).map(re)}},[Y](){return this.toJSON()},pipe(){return R(this,arguments)}},Jp=(e,t)=>{let n=Object.create(iee);return n._ord=e,n._root=t,n},_U=e=>A(e,QM);var CU=d(2,(e,t)=>{let n=e._ord,r=e._root;for(;r!==void 0;){let o=n(t,r.key);if(M(t,r.key))return C(r.value);o<=0?r=r.left:r=r.right}return _()});var XM=d(2,(e,t)=>Ce(CU(e,t))),SU=d(3,(e,t,n)=>{let r=e._ord,o=e._root,i=[],s=[];for(;o!=null;){let a=r(t,o.key);i.push(o),s.push(a),a<=0?o=o.left:o=o.right}i.push({color:V.Red,key:t,value:n,left:void 0,right:void 0,count:1});for(let a=i.length-2;a>=0;--a){let c=i[a];s[a]<=0?i[a]={color:c.color,key:c.key,value:c.value,left:i[a+1],right:c.right,count:c.count+1}:i[a]={color:c.color,key:c.key,value:c.value,left:c.left,right:i[a+1],count:c.count+1}}for(let a=i.length-1;a>1;--a){let c=i[a-1],u=i[a];if(c.color===V.Black||u.color===V.Black)break;let l=i[a-2];if(l.left===c)if(c.left===u){let f=l.right;if(f&&f.color===V.Red)c.color=V.Black,l.right=Vi(f,V.Black),l.color=V.Red,a-=1;else{if(l.color=V.Red,l.left=c.right,c.color=V.Black,c.right=l,i[a-2]=c,i[a-1]=u,$e(l),$e(c),a>=3){let h=i[a-3];h.left===l?h.left=c:h.right=c}break}}else{let f=l.right;if(f&&f.color===V.Red)c.color=V.Black,l.right=Vi(f,V.Black),l.color=V.Red,a-=1;else{if(c.right=u.left,l.color=V.Red,l.left=u.right,u.color=V.Black,u.left=c,u.right=l,i[a-2]=u,i[a-1]=c,$e(l),$e(c),$e(u),a>=3){let h=i[a-3];h.left===l?h.left=u:h.right=u}break}}else if(c.right===u){let f=l.left;if(f&&f.color===V.Red)c.color=V.Black,l.left=Vi(f,V.Black),l.color=V.Red,a-=1;else{if(l.color=V.Red,l.right=c.left,c.color=V.Black,c.left=l,i[a-2]=c,i[a-1]=u,$e(l),$e(c),a>=3){let h=i[a-3];h.right===l?h.right=c:h.left=c}break}}else{let f=l.left;if(f&&f.color===V.Red)c.color=V.Black,l.left=Vi(f,V.Black),l.color=V.Red,a-=1;else{if(c.left=u.right,l.color=V.Red,l.right=u.left,u.color=V.Black,u.right=c,u.left=l,i[a-2]=u,i[a-1]=c,$e(l),$e(c),$e(u),a>=3){let h=i[a-3];h.right===l?h.right=u:h.left=u}break}}}return i[0].color=V.Black,Jp(e._ord,i[0])}),DU=e=>IU(e,oa.Forward);var IU=(e,t)=>{let n=e[Symbol.iterator](),r=0;return{[Symbol.iterator]:()=>IU(e,t),next:()=>{r++;let o=n.key;switch(t===oa.Forward?n.moveNext():n.movePrev(),o._tag){case"None":return{done:!0,value:r};case"Some":return{done:!1,value:o.value}}}}};var wU=d(2,(e,t)=>{if(!XM(e,t))return e;let n=e._ord,r=n,o=e._root,i=[];for(;o!==void 0;){let c=r(t,o.key);i.push(o),M(t,o.key)?o=void 0:c<=0?o=o.left:o=o.right}if(i.length===0)return e;let s=new Array(i.length),a=i[i.length-1];s[s.length-1]={color:a.color,key:a.key,value:a.value,left:a.left,right:a.right,count:a.count};for(let c=i.length-2;c>=0;--c)a=i[c],a.left===i[c+1]?s[c]={color:a.color,key:a.key,value:a.value,left:s[c+1],right:a.right,count:a.count}:s[c]={color:a.color,key:a.key,value:a.value,left:a.left,right:s[c+1],count:a.count};if(a=s[s.length-1],a.left!==void 0&&a.right!==void 0){let c=s.length;for(a=a.left;a.right!=null;)s.push(a),a=a.right;let u=s[c-1];s.push({color:a.color,key:u.key,value:u.value,left:a.left,right:a.right,count:a.count}),s[c-1].key=a.key,s[c-1].value=a.value;for(let l=s.length-2;l>=c;--l)a=s[l],s[l]={color:a.color,key:a.key,value:a.value,left:a.left,right:s[l+1],count:a.count};s[c-1].left=s[c]}if(a=s[s.length-1],a.color===V.Red){let c=s[s.length-2];c.left===a?c.left=void 0:c.right===a&&(c.right=void 0),s.pop();for(let u=0;u<s.length;++u)s[u].count--;return Jp(n,s[0])}else if(a.left!==void 0||a.right!==void 0){a.left!==void 0?JM(a,a.left):a.right!==void 0&&JM(a,a.right),a.color=V.Black;for(let c=0;c<s.length-1;++c)s[c].count--;return Jp(n,s[0])}else{if(s.length===1)return Jp(n,void 0);{for(let u=0;u<s.length;++u)s[u].count--;let c=s[s.length-2];see(s),c.left===a?c.left=void 0:c.right=void 0}}return Jp(n,s[0])});var see=e=>{let t,n,r,o;for(let i=e.length-1;i>=0;--i){if(t=e[i],i===0){t.color=V.Black;return}if(n=e[i-1],n.left===t){if(r=n.right,r!==void 0&&r.right!==void 0&&r.right.color===V.Red){if(r=n.right=Jr(r),o=r.right=Jr(r.right),n.right=r.left,r.left=n,r.right=o,r.color=n.color,t.color=V.Black,n.color=V.Black,o.color=V.Black,$e(n),$e(r),i>1){let s=e[i-2];s.left===n?s.left=r:s.right=r}e[i-1]=r;return}else if(r!==void 0&&r.left!==void 0&&r.left.color===V.Red){if(r=n.right=Jr(r),o=r.left=Jr(r.left),n.right=o.left,r.left=o.right,o.left=n,o.right=r,o.color=n.color,n.color=V.Black,r.color=V.Black,t.color=V.Black,$e(n),$e(r),$e(o),i>1){let s=e[i-2];s.left===n?s.left=o:s.right=o}e[i-1]=o;return}if(r!==void 0&&r.color===V.Black)if(n.color===V.Red){n.color=V.Black,n.right=Vi(r,V.Red);return}else{n.right=Vi(r,V.Red);continue}else if(r!==void 0){if(r=Jr(r),n.right=r.left,r.left=n,r.color=n.color,n.color=V.Red,$e(n),$e(r),i>1){let s=e[i-2];s.left===n?s.left=r:s.right=r}e[i-1]=r,e[i]=n,i+1<e.length?e[i+1]=t:e.push(t),i=i+2}}else{if(r=n.left,r!==void 0&&r.left!==void 0&&r.left.color===V.Red){if(r=n.left=Jr(r),o=r.left=Jr(r.left),n.left=r.right,r.right=n,r.left=o,r.color=n.color,t.color=V.Black,n.color=V.Black,o.color=V.Black,$e(n),$e(r),i>1){let s=e[i-2];s.right===n?s.right=r:s.left=r}e[i-1]=r;return}else if(r!==void 0&&r.right!==void 0&&r.right.color===V.Red){if(r=n.left=Jr(r),o=r.right=Jr(r.right),n.left=o.right,r.right=o.left,o.right=n,o.left=r,o.color=n.color,n.color=V.Black,r.color=V.Black,t.color=V.Black,$e(n),$e(r),$e(o),i>1){let s=e[i-2];s.right===n?s.right=o:s.left=o}e[i-1]=o;return}if(r!==void 0&&r.color===V.Black)if(n.color===V.Red){n.color=V.Black,n.left=Vi(r,V.Red);return}else{n.left=Vi(r,V.Red);continue}else if(r!==void 0){if(r=Jr(r),n.left=r.right,r.right=n,r.color=n.color,n.color=V.Red,$e(n),$e(r),i>1){let s=e[i-2];s.right===n?s.right=r:s.left=r}e[i-1]=r,e[i]=n,i+1<e.length?e[i+1]=t:e.push(t),i=i+2}}}};var MU=XM,TU=SU,OU=DU;var RU=wU;var eT=Symbol.for("effect/SortedSet"),cee={[eT]:{_A:e=>e},[L](){return m(w(this.keyTree),B(w(eT)),K(this))},[F](e){return uee(e)&&M(this.keyTree,e.keyTree)},[Symbol.iterator](){return OU(this.keyTree)},toString(){return se(this.toJSON())},toJSON(){return{_id:"SortedSet",values:Array.from(this).map(re)}},[Y](){return this.toJSON()},pipe(){return R(this,arguments)}},kU=e=>{let t=Object.create(cee);return t.keyTree=e,t},uee=e=>A(e,eT);var NU=d(2,(e,t)=>MU(e.keyTree,t)?e:kU(TU(e.keyTree,t,!0)));var FU=d(2,(e,t)=>kU(RU(e.keyTree,t)));var lee="effect/Supervisor",ud=Symbol.for(lee),Qp={_T:e=>e},ad=class e{underlying;value0;[ud]=Qp;constructor(t,n){this.underlying=t,this.value0=n}get value(){return this.value0}onStart(t,n,r,o){this.underlying.onStart(t,n,r,o)}onEnd(t,n){this.underlying.onEnd(t,n)}onEffect(t,n){this.underlying.onEffect(t,n)}onSuspend(t){this.underlying.onSuspend(t)}onResume(t){this.underlying.onResume(t)}map(t){return new e(this,m(this.value,D(t)))}zip(t){return new cd(this,t)}},cd=class e{left;right;_tag="Zip";[ud]=Qp;constructor(t,n){this.left=t,this.right=n}get value(){return Ac(this.left.value,this.right.value)}onStart(t,n,r,o){this.left.onStart(t,n,r,o),this.right.onStart(t,n,r,o)}onEnd(t,n){this.left.onEnd(t,n),this.right.onEnd(t,n)}onEffect(t,n){this.left.onEffect(t,n),this.right.onEffect(t,n)}onSuspend(t){this.left.onSuspend(t),this.right.onSuspend(t)}onResume(t){this.left.onResume(t),this.right.onResume(t)}map(t){return new ad(this,m(this.value,D(t)))}zip(t){return new e(this,t)}},rT=e=>A(e,ud)&&Ds(e,"Zip"),tT=class{[ud]=Qp;fibers=new Set;get value(){return E(()=>Array.from(this.fibers))}onStart(t,n,r,o){this.fibers.add(o)}onEnd(t,n){this.fibers.delete(n)}onEffect(t,n){}onSuspend(t){}onResume(t){}map(t){return new ad(this,m(this.value,D(t)))}zip(t){return new cd(this,t)}onRun(t,n){return t()}},nT=class{effect;[ud]=Qp;constructor(t){this.effect=t}get value(){return this.effect}onStart(t,n,r,o){}onEnd(t,n){}onEffect(t,n){}onSuspend(t){}onResume(t){}map(t){return new ad(this,m(this.value,D(t)))}zip(t){return new cd(this,t)}onRun(t,n){return t()}},LU=class{ref;[ud]=Qp;constructor(t){this.ref=t}get value(){return E(()=>En(this.ref))}onStart(t,n,r,o){m(this.ref,dr(m(En(this.ref),NU(o))))}onEnd(t,n){m(this.ref,dr(m(En(this.ref),FU(n))))}onEffect(t,n){}onSuspend(t){}onResume(t){}map(t){return new ad(this,m(this.value,D(t)))}zip(t){return new cd(this,t)}onRun(t,n){return t()}},dee=()=>new tT,jU=E(dee),fee=e=>new nT(e),ru=U("effect/Supervisor/none",()=>fee(q));var HU=js;var VU="Empty",UU="AddSupervisor",$U="RemoveSupervisor",qU="AndThen",ld={_tag:VU},tb=(e,t)=>({_tag:qU,first:e,second:t}),pee=(e,t)=>hee(t,Ze(e)),hee=(e,t)=>{let n=e,r=t;for(;qt(r);){let o=Pt(r);switch(o._tag){case VU:{r=Xt(r);break}case UU:{n=n.zip(o.supervisor),r=Xt(r);break}case $U:{n=oT(n,o.supervisor),r=Xt(r);break}case qU:{r=Ft(o.first)(Ft(o.second)(Xt(r)));break}}}return n},oT=(e,t)=>M(e,t)?ru:rT(e)?oT(e.left,t).zip(oT(e.right,t)):e,nb=e=>M(e,ru)?Io():rT(e)?m(nb(e.left),bi(nb(e.right))):pc(e),mee=(e,t)=>{if(M(e,t))return ld;let n=nb(e),r=nb(t),o=m(r,HD(n),gc(ld,(s,a)=>tb(s,{_tag:UU,supervisor:a}))),i=m(n,HD(r),gc(ld,(s,a)=>tb(s,{_tag:$U,supervisor:a})));return tb(o,i)},zU=HU({empty:ld,patch:pee,combine:tb,diff:mee});var vee=Zp("effect_fiber_started",{incremental:!0}),WU=Zp("effect_fiber_active"),xee=Zp("effect_fiber_successes",{incremental:!0}),bee=Zp("effect_fiber_failures",{incremental:!0}),Eee=xU(vU("effect_fiber_lifetimes",kV({start:.5,factor:2,count:35})),"time_unit","milliseconds"),Xp="Continue",_ee="Done",GU="Yield",Cee={_E:e=>e,_A:e=>e},rb=e=>{throw new Error(`BUG: FiberRuntime - ${di(e)} - please report an issue at https://github.com/Effect-TS/effect/issues`)},Ui=Symbol.for("effect/internal/fiberRuntime/YieldedOp"),$i=U("effect/internal/fiberRuntime/yieldedOpChannel",()=>({currentOp:null})),eh={[fl]:(e,t,n)=>Ye(()=>t.effect_instruction_i1(n)),OnStep:(e,t,n)=>Pe(Pe(n)),[pl]:(e,t,n)=>Ye(()=>t.effect_instruction_i2(n)),[Pf]:(e,t,n)=>(e.patchRuntimeFlags(e.currentRuntimeFlags,t.patch),Ci(e.currentRuntimeFlags)&&e.isInterrupted()?Ee(e.getInterruptedCause()):Pe(n)),[hl]:(e,t,n)=>(Ye(()=>t.effect_instruction_i2(n)),Ye(()=>t.effect_instruction_i0())?(e.pushStack(t),Ye(()=>t.effect_instruction_i1())):q),[ic]:(e,t,n)=>{for(;;){let r=Ye(()=>t.effect_instruction_i0.next(n));if(r.done)return Pe(r.value);let o=Nf(r.value);if(Vl(o)){if(o._tag==="Failure")return o}else return e.pushStack(t),o;n=o.value}}},See={[Wx]:(e,t,n,r)=>(e.processNewInterruptSignal(r.cause),Ci(t)?Ee(r.cause):n),[Kx]:(e,t,n,r)=>{throw new Error("It is illegal to have multiple concurrent run loops in a single fiber")},[Gx]:(e,t,n,r)=>(r.onFiber(e,uM(t)),n),[Yx]:(e,t,n,r)=>g(ko(),()=>n)},Dee=e=>qn(h1(e),t=>qi(g1(t),([n,r])=>{let o=new Map,i=[];for(let a of r){i.push(ur(a));for(let c of a)o.set(c.request,c)}let s=i.flat();return it(Bee(n.runAll(i),s,()=>s.forEach(a=>{a.listeners.interrupted=!0})),zx,o)},!1,!1)),Iee=jf(),th=class extends ji{[Up]=$p;[CM]=Cee;_fiberRefs;_fiberId;_queue=new Array;_children=null;_observers=new Array;_running=!1;_stack=[];_asyncInterruptor=null;_asyncBlockingOn=null;_exitValue=null;_steps=[];_isYielding=!1;currentRuntimeFlags;currentOpCount=0;currentSupervisor;currentScheduler;currentTracer;currentSpan;currentContext;currentDefaultServices;constructor(t,n,r){if(super(),this.currentRuntimeFlags=r,this._fiberId=t,this._fiberRefs=n,dI(r)){let o=this.getFiberRef(Ai);vee.unsafeUpdate(1,o),WU.unsafeUpdate(1,o)}this.refreshRefCache()}commit(){return Zr(this)}id(){return this._fiberId}resume(t){this.tell(tu(t))}get status(){return this.ask((t,n)=>n)}get runtimeFlags(){return this.ask((t,n)=>nV(n)?t.currentRuntimeFlags:n.runtimeFlags)}scope(){return bV(this)}get children(){return this.ask(t=>Array.from(t.getChildren()))}getChildren(){return this._children===null&&(this._children=new Set),this._children}getInterruptedCause(){return this.getFiberRef(Pc)}fiberRefs(){return this.ask(t=>t.getFiberRefs())}ask(t){return H(()=>{let n=Ip(this._fiberId);return this.tell(id((r,o)=>{Tp(n,E(()=>t(r,o)))})),Tt(n)})}tell(t){this._queue.push(t),this._running||(this._running=!0,this.drainQueueLaterOnExecutor())}get await(){return en(t=>{let n=r=>t(v(r));return this.tell(id((r,o)=>{r._exitValue!==null?n(this._exitValue):r.addObserver(n)})),E(()=>this.tell(id((r,o)=>{r.removeObserver(n)})))},this.id())}get inheritAll(){return X((t,n)=>{let r=t.id(),o=t.getFiberRefs(),i=n.runtimeFlags,s=this.getFiberRefs(),a=ox(o,r,s);t.setFiberRefs(a);let c=t.getFiberRef(ZU),u=m(fr(i,c),mI(zr),mI(mv));return Gs(u)})}get poll(){return E(()=>Br(this._exitValue))}unsafePoll(){return this._exitValue}interruptAsFork(t){return E(()=>this.tell(Zx(pr(t))))}unsafeInterruptAsFork(t){this.tell(Zx(pr(t)))}addObserver(t){this._exitValue!==null?t(this._exitValue):this._observers.push(t)}removeObserver(t){this._observers=this._observers.filter(n=>n!==t)}getFiberRefs(){return this.setFiberRef(ZU,this.currentRuntimeFlags),this._fiberRefs}unsafeDeleteFiberRef(t){this._fiberRefs=kp(this._fiberRefs,t)}getFiberRef(t){return this._fiberRefs.locals.has(t)?this._fiberRefs.locals.get(t)[0][1]:t.initial}setFiberRef(t,n){this._fiberRefs=Kl(this._fiberRefs,{fiberId:this._fiberId,fiberRef:t,value:n}),this.refreshRefCache()}refreshRefCache(){this.currentDefaultServices=this.getFiberRef(st),this.currentTracer=this.currentDefaultServices.unsafeMap.get(Fi.key),this.currentSupervisor=this.getFiberRef(pT),this.currentScheduler=this.getFiberRef(eu),this.currentContext=this.getFiberRef(Mn),this.currentSpan=this.currentContext.unsafeMap.get(Fo.key)}setFiberRefs(t){this._fiberRefs=t,this.refreshRefCache()}addChild(t){this.getChildren().add(t)}removeChild(t){this.getChildren().delete(t)}transferChildren(t){let n=this._children;if(this._children=null,n!==null&&n.size>0)for(let r of n)r._exitValue===null&&t.add(this.currentRuntimeFlags,r)}drainQueueOnCurrentThread(){let t=!0;for(;t;){let n=Xp,r=globalThis[ra];globalThis[ra]=this;try{for(;n===Xp;)n=this._queue.length===0?_ee:this.evaluateMessageWhileSuspended(this._queue.splice(0,1)[0])}finally{this._running=!1,globalThis[ra]=r}this._queue.length>0&&!this._running?(this._running=!0,n===GU?(this.drainQueueLaterOnExecutor(),t=!1):t=!0):t=!1}}drainQueueLaterOnExecutor(){this.currentScheduler.scheduleTask(this.run,this.getFiberRef(Ri))}drainQueueWhileRunning(t,n){let r=n;for(;this._queue.length>0;){let o=this._queue.splice(0,1)[0];r=See[o._tag](this,t,r,o)}return r}isInterrupted(){return!SI(this.getFiberRef(Pc))}addInterruptedCause(t){let n=this.getFiberRef(Pc);this.setFiberRef(Pc,Je(n,t))}processNewInterruptSignal(t){this.addInterruptedCause(t),this.sendInterruptSignalToAllChildren()}sendInterruptSignalToAllChildren(){if(this._children===null||this._children.size===0)return!1;let t=!1;for(let n of this._children)n.tell(Zx(pr(this.id()))),t=!0;return t}interruptAllChildren(){if(this.sendInterruptSignalToAllChildren()){let t=this._children.values();this._children=null;let n=!1;return Ks({while:()=>!n,body:()=>{let o=t.next();return o.done?E(()=>{n=!0}):Xe(o.value.await)},step:()=>{}})}return null}reportExitValue(t){if(dI(this.currentRuntimeFlags)){let n=this.getFiberRef(Ai),r=this.id().startTimeMillis,o=Date.now();switch(Eee.unsafeUpdate(o-r,n),WU.unsafeUpdate(-1,n),t._tag){case ot:{xee.unsafeUpdate(1,n);break}case rt:{bee.unsafeUpdate(1,n);break}}}if(t._tag==="Failure"){let n=this.getFiberRef(BI);!cp(t.cause)&&n._tag==="Some"&&this.log("Fiber terminated with an unhandled error",t.cause,n)}}setExitValue(t){this._exitValue=t,this.reportExitValue(t);for(let n=this._observers.length-1;n>=0;n--)this._observers[n](t);this._observers=[]}getLoggers(){return this.getFiberRef(Oee)}log(t,n,r){let o=Ce(r)?r.value:this.getFiberRef(LI),i=this.getFiberRef(QU);if(ww(i,o))return;let s=this.getFiberRef(Hv),a=this.getFiberRef(Ys),c=this.getLoggers(),u=this.getFiberRefs();if(hc(c)>0){let l=bn(this.getFiberRef(st),Zn),f=new Date(l.unsafeCurrentTimeMillis());zF(u,()=>{for(let h of c)h.log({fiberId:this.id(),logLevel:o,message:t,cause:n,context:u,spans:s,annotations:a,date:f})})}}evaluateMessageWhileSuspended(t){switch(t._tag){case Yx:return GU;case Wx:return this.processNewInterruptSignal(t.cause),this._asyncInterruptor!==null&&(this._asyncInterruptor(Ee(t.cause)),this._asyncInterruptor=null),Xp;case Kx:return this._asyncInterruptor=null,this._asyncBlockingOn=null,this.evaluateEffect(t.effect),Xp;case Gx:return t.onFiber(this,this._exitValue!==null?eV:tV(this.currentRuntimeFlags,this._asyncBlockingOn)),Xp;default:return rb(t)}}evaluateEffect(t){this.currentSupervisor.onResume(this);try{let n=Ci(this.currentRuntimeFlags)&&this.isInterrupted()?Ee(this.getInterruptedCause()):t;for(;n!==null;){let r=n,o=this.runLoop(r);if(o===Ui){let i=$i.currentOp;$i.currentOp=null,i._op===ml?l1(this.currentRuntimeFlags)?(this.tell(vV()),this.tell(tu(fn)),n=null):n=fn:i._op===rc&&(n=null)}else{this.currentRuntimeFlags=m(this.currentRuntimeFlags,uI(mv));let i=this.interruptAllChildren();i!==null?n=g(i,()=>o):(this._queue.length===0?this.setExitValue(o):this.tell(tu(o)),n=null)}}}finally{this.currentSupervisor.onSuspend(this)}}start(t){if(this._running)this.tell(tu(t));else{this._running=!0;let n=globalThis[ra];globalThis[ra]=this;try{this.evaluateEffect(t)}finally{this._running=!1,globalThis[ra]=n,this._queue.length>0&&this.drainQueueLaterOnExecutor()}}}startFork(t){this.tell(tu(t))}patchRuntimeFlags(t,n){let r=Si(t,n);return globalThis[ra]=this,this.currentRuntimeFlags=r,r}initiateAsync(t,n){let r=!1,o=i=>{r||(r=!0,this.tell(tu(i)))};Ci(t)&&(this._asyncInterruptor=o);try{n(o)}catch(i){o(oe(wt(i)))}}pushStack(t){this._stack.push(t),t._op==="OnStep"&&this._steps.push({refs:this.getFiberRefs(),flags:this.currentRuntimeFlags})}popStack(){let t=this._stack.pop();if(t)return t._op==="OnStep"&&this._steps.pop(),t}getNextSuccessCont(){let t=this.popStack();for(;t;){if(t._op!==dl)return t;t=this.popStack()}}getNextFailCont(){let t=this.popStack();for(;t;){if(t._op!==fl&&t._op!==hl&&t._op!==ic)return t;t=this.popStack()}}Tag(t){return E(()=>As(this.currentContext,t))}Left(t){return ee(t.left)}None(t){return ee(new Gn)}Right(t){return Pe(t.right)}Some(t){return Pe(t.value)}Micro(t){return Pl(n=>{let r=n,o=hV(fV(t,this.currentContext));return o.addObserver(i=>{if(i._tag==="Success")return r(Pe(i.value));switch(i.cause._tag){case"Interrupt":return r(Ee(pr(_n)));case"Fail":return r(ee(i.cause.error));case"Die":return r(ln(i.cause.defect))}}),Pl(i=>{r=s=>{i(q)},o.unsafeInterrupt()})})}[by](t){let n=Ye(()=>t.effect_instruction_i0()),r=this.getNextSuccessCont();return r!==void 0?(r._op in eh||rb(r),eh[r._op](this,r,n)):($i.currentOp=Pe(n),Ui)}[ot](t){let n=t,r=this.getNextSuccessCont();return r!==void 0?(r._op in eh||rb(r),eh[r._op](this,r,n.effect_instruction_i0)):($i.currentOp=n,Ui)}[rt](t){let n=t.effect_instruction_i0,r=this.getNextFailCont();if(r!==void 0)switch(r._op){case dl:case pl:return Ci(this.currentRuntimeFlags)&&this.isInterrupted()?Ee(wI(n)):Ye(()=>r.effect_instruction_i1(n));case"OnStep":return Ci(this.currentRuntimeFlags)&&this.isInterrupted()?Ee(wI(n)):Pe(Ee(n));case Pf:return this.patchRuntimeFlags(this.currentRuntimeFlags,r.patch),Ci(this.currentRuntimeFlags)&&this.isInterrupted()?Ee(Je(n,this.getInterruptedCause())):Ee(n);default:rb(r)}else return $i.currentOp=Ee(n),Ui}[Ey](t){return Ye(()=>t.effect_instruction_i0(this,uM(this.currentRuntimeFlags)))}Blocked(t){let n=this.getFiberRefs(),r=this.currentRuntimeFlags;if(this._steps.length>0){let o=[],i=this._steps[this._steps.length-1],s=this.popStack();for(;s&&s._op!=="OnStep";)o.push(s),s=this.popStack();this.setFiberRefs(i.refs),this.currentRuntimeFlags=i.flags;let a=Jc(i.refs,n),c=fr(i.flags,r);return Pe(wi(t.effect_instruction_i0,X(u=>{for(;o.length>0;)u.pushStack(o.pop());return u.setFiberRefs(Qc(u.id(),u.getFiberRefs())(a)),u.currentRuntimeFlags=Si(c)(u.currentRuntimeFlags),t.effect_instruction_i1})))}return et(o=>g(oh(Iv(t.effect_instruction_i0)),()=>o(t.effect_instruction_i1)))}RunBlocked(t){return Dee(t.effect_instruction_i0)}[fi](t){let n=t.effect_instruction_i0,r=this.currentRuntimeFlags,o=Si(r,n);if(Ci(o)&&this.isInterrupted())return Ee(this.getInterruptedCause());if(this.patchRuntimeFlags(this.currentRuntimeFlags,n),t.effect_instruction_i1){let i=fr(o,r);return this.pushStack(new Cv(i,t)),Ye(()=>t.effect_instruction_i1(r))}else return fn}[fl](t){return this.pushStack(t),t.effect_instruction_i0}OnStep(t){return this.pushStack(t),t.effect_instruction_i0}[dl](t){return this.pushStack(t),t.effect_instruction_i0}[pl](t){return this.pushStack(t),t.effect_instruction_i0}[rc](t){return this._asyncBlockingOn=t.effect_instruction_i1,this.initiateAsync(this.currentRuntimeFlags,t.effect_instruction_i0),$i.currentOp=t,Ui}[ml](t){return this._isYielding=!1,$i.currentOp=t,Ui}[hl](t){let n=t.effect_instruction_i0,r=t.effect_instruction_i1;return n()?(this.pushStack(t),r()):fn}[ic](t){return eh[ic](this,t,void 0)}[oc](t){return Ye(()=>t.commit())}runLoop(t){let n=t;for(this.currentOpCount=0;;){if((this.currentRuntimeFlags&u1)!==0&&this.currentSupervisor.onEffect(this,n),this._queue.length>0&&(n=this.drainQueueWhileRunning(this.currentRuntimeFlags,n)),!this._isYielding){this.currentOpCount+=1;let r=this.currentScheduler.shouldYield(this);if(r!==!1){this._isYielding=!0,this.currentOpCount=0;let o=n;n=g(ko({priority:r}),()=>o)}}try{if(n=this.currentTracer.context(()=>{if(Iee!==n[Mi]._V){let r=this.getFiberRef(o2);if(r._tag==="Some"){let o=n[Mi]._V;this.log(`Executing an Effect versioned ${o} with a Runtime of version ${jf()}, you may want to dedupe the effect dependencies, you can use the language service plugin to detect this at compile time: https://github.com/Effect-TS/language-service`,Cn,r)}}return this[n._op](n)},this),n===Ui){let r=$i.currentOp;return r._op===ml||r._op===rc?Ui:($i.currentOp=null,r._op===ot||r._op===rt?r:Ee(wt(r)))}}catch(r){n!==Ui&&!A(n,"_op")||!(n._op in this)?n=Bs(`Not a valid effect: ${di(n)}`):c2(r)?n=Ee(Je(wt(r),pr(_n))):n=ln(r)}}}run=()=>{this.drainQueueOnCurrentThread()}},QU=U("effect/FiberRef/currentMinimumLogLevel",()=>Ke(Mw("Info"))),wee=e=>Qx(t=>{let n=Tj(t.context,st);bn(n,Ni).unsafe.log(e.log(t))});var Mee=U(Symbol.for("effect/Logger/defaultLogger"),()=>wee(OV));var Tee=U(Symbol.for("effect/Logger/tracerLogger"),()=>Qx(({annotations:e,cause:t,context:n,fiberId:r,logLevel:o,message:i})=>{let s=$r(Li(n,Mn),Fo);if(s._tag==="None"||s.value._tag==="ExternalSpan")return;let a=As(Li(n,st),Zn),c={};for(let[u,l]of e)c[u]=l;c["effect.fiberId"]=NL(r),c["effect.logLevel"]=o.label,t!==null&&t._tag!=="Empty"&&(c["effect.cause"]=Ii(t,{renderErrorCause:!0})),s.value.event(di(Array.isArray(i)&&i.length===1?i[0]:i),a.unsafeCurrentTimeNanos(),c)}));var Oee=U(Symbol.for("effect/FiberRef/currentLoggers"),()=>t2(pc(Mee,Tee)));var XU=function(){if(typeof arguments[0]=="string")return xr(Ys,qr(arguments[0],arguments[1]));let e=Object.entries(arguments[0]);return xr(Ys,LL(t=>{for(let n=0;n<e.length;n++){let[r,o]=e[n];qr(t,r,o)}return t}))},e$=d(2,(e,t)=>{let n=typeof t=="string"?Mw(t):t;return X(r=>{let o=r.getFiberRef(QU);return ww(o,n)?v(_()):D(e,C)})}),rh=d(e=>ye(e[0]),(e,t)=>Oi(Gr(e,n=>dd(r=>t(n,r))))),t$=d(e=>ye(e[0]),(e,t)=>br(e,dd(n=>t(n)))),dd=e=>X(t=>{let n=t.getFiberRefs(),r=cI(t.currentRuntimeFlags,zr);return g(fT,o=>Lc(o,i=>X(s=>{let a=s.getFiberRefs(),c=s.currentRuntimeFlags,u=Jc(a,n),l=fr(c,r),f=Jc(n,a);return s.setFiberRefs(Qc(u,s.id(),n)),br(Pv(e(i),l),E(()=>{s.setFiberRefs(Qc(f,s.id(),s.getFiberRefs()))}))})))}),n$=e=>it(pp,C(Bi))(e),KU=Symbol.for("effect/Effect/existsPar/found"),r$=d(e=>sr(e[0])&&!ye(e[0]),(e,t,n)=>Vp(n?.concurrency,()=>H(()=>o$(e[Symbol.iterator](),0,t)),()=>xt(Jn(e,(r,o)=>Ov(t(r,o),{onTrue:()=>ee(KU),onFalse:()=>q}),n),{onFailure:r=>r===KU?v(!0):ee(r),onSuccess:()=>v(!1)}))),o$=(e,t,n)=>{let r=e.next();return r.done?v(!1):g(n(r.value,t),o=>o?v(o):o$(e,t+1,n))},i$=d(e=>sr(e[0])&&!ye(e[0]),(e,t,n)=>{let r=n?.negate?(o,i)=>D(t(o,i),TP):t;return Vp(n?.concurrency,()=>H(()=>ae(e).reduceRight((o,i,s)=>No(o,H(()=>r(i,s)),(a,c)=>c?[i,...a]:a),E(()=>new Array))),()=>D(Jn(e,(o,i)=>D(r(o,i),s=>s?C(o):_()),n),DP))}),Ree=e=>{if(Array.isArray(e)||sr(e))return[e,_()];let t=Object.keys(e),n=t.length;return[t.map(r=>e[r]),C(r=>{let o={};for(let i=0;i<n;i++)o[t[i]]=r[i];return o})]},Aee=(e,t,n)=>{let r=[];for(let o of e)r.push(hr(o));return g(Jn(r,G,{concurrency:n?.concurrency,batching:n?.batching,concurrentFinalizers:n?.concurrentFinalizers}),o=>{let i=_(),s=o.length,a=new Array(s),c=new Array(s),u=!1;for(let l=0;l<s;l++){let f=o[l];f._tag==="Left"?(a[l]=C(f.left),u=!0):(c[l]=f.right,a[l]=i)}return u?t._tag==="Some"?ee(t.value(a)):ee(a):n?.discard?q:t._tag==="Some"?v(t.value(c)):v(c)})},kee=(e,t,n)=>{let r=[];for(let o of e)r.push(hr(o));return n?.discard?Jn(r,G,{concurrency:n?.concurrency,batching:n?.batching,discard:!0,concurrentFinalizers:n?.concurrentFinalizers}):D(Jn(r,G,{concurrency:n?.concurrency,batching:n?.batching,concurrentFinalizers:n?.concurrentFinalizers}),o=>t._tag==="Some"?t.value(o):o)},ia=(e,t)=>{let[n,r]=Ree(e);return t?.mode==="validate"?Aee(n,r,t):t?.mode==="either"?kee(n,r,t):t?.discard!==!0&&r._tag==="Some"?D(Jn(n,G,t),r.value):Jn(n,G,t)},s$=e=>t=>ia(t,e),a$=(e,t)=>D(ia(ae(e).map(Ge),t),El(n=>zv(n)?C(n.effect_instruction_i0):_())),sT=d(2,(e,t)=>Array.from({length:t},()=>e)),c$=d(e=>ye(e[0]),(e,t,n)=>ia(sT(e,t),n)),Jn=d(e=>sr(e[0]),(e,t,n)=>X(r=>{let o=n?.batching===!0||n?.batching==="inherit"&&r.getFiberRef(HI);return n?.discard?bM(n.concurrency,()=>ou(Sx,n?.concurrentFinalizers)(i=>o?qi(e,(s,a)=>i(t(s,a)),!0,!1,1):qn(e,(s,a)=>i(t(s,a)))),()=>ou(Dx,n?.concurrentFinalizers)(i=>qi(e,(s,a)=>i(t(s,a)),o,!1)),i=>ou(Ix(i),n?.concurrentFinalizers)(s=>qi(e,(a,c)=>s(t(a,c)),o,!1,i))):bM(n?.concurrency,()=>ou(Sx,n?.concurrentFinalizers)(i=>o?iT(e,1,(s,a)=>i(t(s,a)),!0):zt(e,(s,a)=>i(t(s,a)))),()=>ou(Dx,n?.concurrentFinalizers)(i=>ob(e,(s,a)=>i(t(s,a)),o)),i=>ou(Ix(i),n?.concurrentFinalizers)(s=>iT(e,i,(a,c)=>s(t(a,c)),o)))})),ob=(e,t,n)=>H(()=>{let r=ae(e),o=new Array(r.length);return fe(qi(r,(s,a)=>g(t(s,a),c=>E(()=>o[a]=c)),n,!1),v(o))}),qi=(e,t,n,r,o)=>et(i=>Nv(s=>X(a=>{let c=Array.from(e).reverse(),u=c.length;if(u===0)return q;let l=0,f=!1,h=o?Math.min(c.length,o):c.length,p=new Set,y=new Array,S=()=>p.forEach(at=>{at.currentScheduler.scheduleTask(()=>{at.unsafeInterruptAsFork(a.id())},0)}),I=new Array,T=new Array,z=new Array,qe=()=>{let at=y.filter(({exit:On})=>On._tag==="Failure").sort((On,Qr)=>On.index<Qr.index?-1:On.index===Qr.index?0:1).map(({exit:On})=>On);return at.length===0&&at.push(fn),at},le=(at,On=!1)=>{let Qr=Oi(s(at)),Kt=Nee(Qr,a,a.currentRuntimeFlags,Bi);return a.currentScheduler.scheduleTask(()=>{On&&Kt.unsafeInterruptAsFork(a.id()),Kt.resume(Qr)},0),Kt},Lt=()=>{r||(u-=c.length,c=[]),f=!0,S()},jt=n?Tv:Ge,Qn=le(en(at=>{let On=(Kt,Ho)=>{Kt._op==="Blocked"?z.push(Kt):(y.push({index:Ho,exit:Kt}),Kt._op==="Failure"&&!f&&Lt())},Qr=()=>{if(c.length>0){let Kt=c.pop(),Ho=l++,Tb=()=>{let Er=c.pop();return Ho=l++,g(ko(),()=>g(jt(i(t(Er,Ho))),gd))},gd=Er=>c.length>0&&(On(Er,Ho),c.length>0)?Tb():v(Er),au=g(jt(i(t(Kt,Ho))),gd),Xr=le(au);I.push(Xr),p.add(Xr),f&&Xr.currentScheduler.scheduleTask(()=>{Xr.unsafeInterruptAsFork(a.id())},0),Xr.addObserver(Er=>{let Ki;if(Er._op==="Failure"?Ki=Er:Ki=Er.effect_instruction_i0,T.push(Xr),p.delete(Xr),On(Ki,Ho),y.length===u)at(v(pt(Bc(qe(),{parallel:!0}),()=>fn)));else if(z.length+y.length===u){let Ob=qe(),Rb=z.map(yd=>yd.effect_instruction_i0).reduce(xI);at(v(wi(Rb,qi([pt(Bc(Ob,{parallel:!0}),()=>fn),...z.map(yd=>yd.effect_instruction_i1)],yd=>yd,n,!0,o))))}else Qr()})}};for(let Kt=0;Kt<h;Kt++)Qr()}));return Xe(dn(In(i(Zr(Qn))),Ul({onFailure:at=>{Lt();let On=z.length+1,Qr=Math.min(typeof o=="number"?o:z.length,z.length),Kt=Array.from(z);return en(Ho=>{let Tb=[],gd=0,au=0,Xr=(Ki,Ob)=>Rb=>{Tb[Ki]=Rb,gd++,gd===On&&Ho(Pe(Ee(at))),Kt.length>0&&Ob&&Er()},Er=()=>{le(Kt.pop(),!0).addObserver(Xr(au,!0)),au++};Qn.addObserver(Xr(au,!1)),au++;for(let Ki=0;Ki<Qr;Ki++)Er()})},onSuccess:()=>zt(T,at=>at.inheritAll)})))}))),iT=(e,t,n,r)=>H(()=>{let o=ae(e),i=new Array(o.length);return fe(qi(o,(a,c)=>D(n(a,c),u=>i[c]=u),r,!1,t),v(i))}),zi=e=>X((t,n)=>v(ih(e,t,n.runtimeFlags))),oh=e=>Fee(e,Bi),u$=d(2,(e,t)=>zi(kv(e,n=>{let r=Di(n);switch(r._tag){case"Left":return t(r.left);case"Right":return oe(r.right)}}))),ih=(e,t,n,r=null)=>{let o=ib(e,t,n,r);return o.resume(e),o},Nee=(e,t,n,r=null)=>ib(e,t,n,r),ib=(e,t,n,r=null)=>{let o=iv(),i=t.getFiberRefs(),s=vw(i,o),a=new th(o,s,n),c=Li(s,Mn),u=a.currentSupervisor;return u.onStart(c,e,C(t),a),a.addObserver(f=>u.onEnd(f,a)),(r!==null?r:m(t.getFiberRef(pp),pt(()=>t.scope()))).add(n,a),a},Fee=(e,t)=>X((n,r)=>v(ih(e,n,r.runtimeFlags,t))),aT=d(e=>Ss(e[2]),(e,t,n,r)=>Vp(r?.concurrency,()=>ae(e).reduce((o,i,s)=>No(o,i,(a,c)=>n(a,c,s)),v(t)),()=>g(ux(t),o=>g(Jn(e,(i,s)=>g(i,a=>Vj(o,c=>n(c,a,s))),r),()=>lx(o))))),cT=d(e=>sr(e[0]),(e,t,n)=>m(Jn(e,(r,o)=>hr(t(r,o)),n),D(r=>q1(r,G)))),l$=d(e=>sr(e[0]),(e,t,n)=>g(cT(e,t,{concurrency:n?.concurrency,batching:n?.batching,concurrentFinalizers:n?.concurrentFinalizers}),([r,o])=>Oy(r)?ee(r):n?.discard?q:v(o))),d$=e=>X((t,n)=>en(r=>{let o=new Set,i,s=Cn,a=()=>{for(let l of o)l.unsafeInterruptAsFork(t.id())},c=!1,u=!0;for(let l of e){u=!1;let f=ih(Ti(l),t,n.runtimeFlags);if(o.add(f),f.addObserver(h=>{o.delete(f),i||(h._tag==="Success"?(c=!0,i=f,s=Cn,a()):s=Sn(h.cause,s)),c&&o.size===0&&r(i?fe(SV(i),i.unsafePoll()):oe(s))}),i)break}return u?r(Vs(()=>new Ep("Received an empty collection of effects"))):(c=!0,DV(o,t.id()))})),f$=d(e=>sr(e[0])&&!ye(e[0]),(e,t,n,r)=>Vp(r?.concurrency,()=>ae(e).reduce((o,i,s)=>No(o,i,(a,c)=>n(a,c,s)),t),()=>H(()=>m(aT([t,...e],_(),(o,i,s)=>{switch(o._tag){case"None":return C(i);case"Some":return C(n(o.value,i,s))}},r),D(o=>{switch(o._tag){case"None":throw new Error("BUG: Effect.reduceEffect - please report an issue at https://github.com/Effect-TS/effect/issues");case"Some":return o.value}}))))),sb=e=>gr(t=>vt($r(t,sa),{onNone:()=>e,onSome:n=>{switch(n.strategy._tag){case"Parallel":return e;case"Sequential":case"ParallelN":return g(Wn(n,Dx),r=>aa(e,r))}}})),YU=e=>t=>gr(n=>vt($r(n,sa),{onNone:()=>t,onSome:r=>r.strategy._tag==="ParallelN"&&r.strategy.parallelism===e?t:g(Wn(r,Ix(e)),o=>aa(t,o))})),p$=e=>t=>ou(e,!0)(t),ou=(e,t)=>n=>gr(r=>vt($r(r,sa),{onNone:()=>n(G),onSome:o=>{if(t===!0){let i=e._tag==="Parallel"?sb:e._tag==="Sequential"?ab:YU(e.parallelism);switch(o.strategy._tag){case"Parallel":return i(n(sb));case"Sequential":return i(n(ab));case"ParallelN":return i(n(YU(o.strategy.parallelism)))}}else return n(G)}})),iu=e=>g(sa,e),sh=e=>g(cb(),t=>dn(e(t),n=>t.close(n))),uT=e=>g(cb(),t=>jee(e,t)),ab=e=>gr(t=>vt($r(t,sa),{onNone:()=>e,onSome:n=>{switch(n.strategy._tag){case"Sequential":return e;case"Parallel":case"ParallelN":return g(Wn(n,Sx),r=>aa(e,r))}}})),h$=(e,t)=>lT([Gc(e,t)]),lT=e=>xr(Ai,t=>Vr(t,e)),m$=d(2,(e,t)=>sh(n=>g(aa(e,n),t))),g$=d(e=>ye(e[1]),(e,t,n)=>dT(e,t,(r,o)=>[r,o],n)),dT=d(e=>ye(e[1]),(e,t,n,r)=>In(Wi(Ge(e),Ge(t),(o,i)=>Dp(o,i,{onSuccess:n,onFailure:(s,a)=>r?.concurrent?Sn(s,a):Je(s,a)}),r)));var y$=d(e=>sr(e[0]),(e,t,n)=>zs(Jn(e,(r,o)=>zs(t(r,o)),n))),v$=e=>xr(st,je(Zn,e)),x$=e=>xr(st,je(qc,e)),b$=e=>xr(st,je(zl,e)),E$=e=>iu(t=>g(Wn(t,vr),n=>m(e,aa(n),D(r=>[Dn(o=>jc(n,Wv(o))),r])))),_$=d(e=>ye(e[1]),(e,t,n)=>Wi(e,t,(r,o)=>[r,o],n)),C$=d(e=>ye(e[1]),(e,t,n)=>n?.concurrent!==!0&&(n?.batching===void 0||n.batching===!1)?kc(e,t):Wi(e,t,(r,o)=>r,n)),S$=d(e=>ye(e[1]),(e,t,n)=>n?.concurrent!==!0&&(n?.batching===void 0||n.batching===!1)?fe(e,t):Wi(e,t,(r,o)=>o,n)),Wi=d(e=>ye(e[1]),(e,t,n,r)=>D(ia([e,t],{concurrency:r?.concurrent?2:1,batching:r?.batching,concurrentFinalizers:r?.concurrentFinalizers}),([o,i])=>n(o,i))),D$=e=>e===f1?q:m(Ll,g(t=>{let n=Si(t,e),r=fr(n,t);return m(Gs(e),fe(dd(()=>Gs(r))),Xe)}),Oi),sa=cn("effect/Scope"),fT=sa,Pee=(e,t)=>{e.state._tag==="Open"&&e.state.finalizers.set({},t)},Lee={[Uv]:Uv,[$v]:$v,pipe(){return R(this,arguments)},fork(e){return E(()=>{let t=I$(e);if(this.state._tag==="Closed")return t.state=this.state,t;let n={},r=o=>t.close(o);return this.state.finalizers.set(n,r),Pee(t,o=>E(()=>{this.state._tag==="Open"&&this.state.finalizers.delete(n)})),t})},close(e){return H(()=>{if(this.state._tag==="Closed")return q;let t=Array.from(this.state.finalizers.values()).reverse();return this.state={_tag:"Closed",exit:e},t.length===0?q:rM(this.strategy)?m(zt(t,n=>Ge(n(e))),g(n=>m(Bc(n),ft(Cp),pt(()=>fn)))):oM(this.strategy)?m(ob(t,n=>Ge(n(e)),!1),g(n=>m(Bc(n,{parallel:!0}),ft(Cp),pt(()=>fn)))):m(iT(t,this.strategy.parallelism,n=>Ge(n(e)),!1),g(n=>m(Bc(n,{parallel:!0}),ft(Cp),pt(()=>fn))))})},addFinalizer(e){return H(()=>this.state._tag==="Closed"?e(this.state.exit):(this.state.finalizers.set({},e),q))}},I$=(e=vr)=>{let t=Object.create(Lee);return t.strategy=e,t.state={_tag:"Open",finalizers:new Map},t},cb=(e=vr)=>E(()=>I$(e)),aa=d(2,(e,t)=>Vc(e,yi(cc(sa,t)))),jee=d(2,(e,t)=>m(e,aa(t),dn(n=>t.close(n)))),Hee=e=>Fc(e,{differ:zU,fork:ld}),ub=d(2,(e,t)=>Xe(rh(g(zn(e),n=>Fe(Tc(e,t),n)),n=>Tc(e,n)))),xr=d(2,(e,t)=>Wt(e,n=>ub(e,t(n))));var ZU=n2(d1),pT=Hee(ru),w$=e=>Jn(e,CV),hT=e=>N(x({},Aw),{commit(){return Zr(this)},[Up]:$p,id:()=>ae(e).reduce((n,r)=>zD(n,r.id()),_n),await:Ge(ob(e,n=>In(n.await),!1)),children:D(ob(e,n=>n.children,!1),Ay),inheritAll:qn(e,n=>n.inheritAll),poll:D(zt(e,n=>n.poll),ky(C(Pe(new Array)),(n,r)=>{switch(r._tag){case"None":return _();case"Some":switch(n._tag){case"None":return _();case"Some":return C(Dp(r.value,n.value,{onSuccess:(o,i)=>[o,...i],onFailure:Sn}))}}})),interruptAsFork:n=>qn(e,r=>r.interruptAsFork(n))});var mT=d(3,(e,t,n)=>gT(e,t,{onSelfWin:(r,o)=>g(r.await,i=>{switch(i._tag){case ot:return g(r.inheritAll,()=>n.onSelfDone(i,o));case rt:return n.onSelfDone(i,o)}}),onOtherWin:(r,o)=>g(r.await,i=>{switch(i._tag){case ot:return g(r.inheritAll,()=>n.onOtherDone(i,o));case rt:return n.onOtherDone(i,o)}})})),M$=e=>et(t=>Dn(n=>g(oh(t(e)),r=>m(t(Zr(r)),Ao(()=>m(r,IV(n))))))),lb=d(2,(e,t)=>Dn(n=>mT(e,t,{onSelfDone:(r,o)=>$l(r,{onFailure:i=>m(Zr(o),Ql(s=>Sn(i,s))),onSuccess:i=>m(o,wn(n),Fe(i))}),onOtherDone:(r,o)=>$l(r,{onFailure:i=>m(Zr(o),Ql(s=>Sn(s,i))),onSuccess:i=>m(o,wn(n),Fe(i))})}))),gT=d(3,(e,t,n)=>X((r,o)=>{let i=o.runtimeFlags,s=wo(!0),a=ib(e,r,i,n.selfScope),c=ib(t,r,i,n.otherScope);return en(u=>{a.addObserver(()=>JU(a,c,n.onSelfWin,s,u)),c.addObserver(()=>JU(c,a,n.onOtherWin,s,u)),a.startFork(e),c.startFork(t)},zD(a.id(),c.id()))})),JU=(e,t,n,r,o)=>{Xy(!0,!1)(r)&&o(n(e,t))},br=d(2,(e,t)=>et(n=>He(n(e),{onFailure:r=>He(t,{onFailure:o=>oe(Je(r,o)),onSuccess:()=>oe(r)}),onSuccess:r=>Fe(t,r)}))),Bee=(e,t,n)=>Dn(r=>g(g(oh(Ti(e)),o=>en(i=>{let s=t.map(u=>u.listeners.count),a=()=>{s.every(u=>u===0)&&t.every(u=>u.result.state.current._tag==="Pending"?!0:!!(u.result.state.current._tag==="Done"&&Vl(u.result.state.current.effect)&&u.result.state.current.effect._tag==="Failure"&&DI(u.result.state.current.effect.cause)))&&(c.forEach(u=>u()),n?.(),i(xp(o)))};o.addObserver(u=>{c.forEach(l=>l()),i(u)});let c=t.map((u,l)=>{let f=h=>{s[l]=h,a()};return u.listeners.addObserver(f),()=>u.listeners.removeObserver(f)});return a(),E(()=>{c.forEach(u=>u())})})),()=>H(()=>{let o=t.flatMap(i=>i.state.completed?[]:[i]);return qn(o,i=>ZM(i.request,Wv(r)))})));var nh=(e,t)=>(t=Pi(t),Oi(X(n=>{let r=As(n.getFiberRef(Mn),sa),o=_x(n,e,t),i=n.getFiberRef(Bl),s=bn(n.getFiberRef(st),Zn);return Fe(Lc(r,a=>tM(o,a,s,i)),o)}))),T$=e=>xr(st,je(Fi,e)),O$=function(){let e=typeof arguments[0]!="string",t=e?arguments[1]:arguments[0],n=Pi(e?arguments[2]:arguments[1]);if(e){let r=arguments[0];return g(nh(t,Pi(n)),o=>Qs(r,Fo,o))}return r=>g(nh(t,Pi(n)),o=>Qs(r,Fo,o))};var R$=(e,t,n,r)=>cv({_tag:"Complete",key:e,exit:t,entryStats:n,timeToLiveMillis:r}),A$=(e,t)=>cv({_tag:"Pending",key:e,deferred:t}),Vee=(e,t)=>cv({_tag:"Refreshing",deferred:e,complete:t}),yT=Symbol.for("effect/Cache/MapKey"),vT=class{current;[yT]=yT;previous=void 0;next=void 0;constructor(t){this.current=t}[L](){return m(w(this.current),B(w(this.previous)),B(w(this.next)),K(this))}[F](t){return this===t?!0:Uee(t)&&M(this.current,t.current)&&M(this.previous,t.previous)&&M(this.next,t.next)}},fd=e=>new vT(e),Uee=e=>A(e,yT),xT=class{head=void 0;tail=void 0;add(t){if(t!==this.tail)if(this.tail===void 0)this.head=t,this.tail=t;else{let n=t.previous,r=t.next;r!==void 0&&(t.next=void 0,n!==void 0?(n.next=r,r.previous=n):(this.head=r,this.head.previous=void 0)),this.tail.next=t,t.previous=this.tail,this.tail=t}}remove(){let t=this.head;if(t!==void 0){let n=t.next;n!==void 0?(t.next=void 0,this.head=n,this.head.previous=void 0):(this.head=void 0,this.tail=void 0)}return t}},$ee=()=>new xT,qee=(e,t,n,r,o,i)=>({map:e,keys:t,accesses:n,updating:r,hits:o,misses:i}),zee=()=>qee(Uc(),$ee(),A2(),wo(!1),0,0),Wee="effect/Cache",Gee=Symbol.for(Wee),Kee={_Key:e=>e,_Error:e=>e,_Value:e=>e},Yee="effect/ConsumerCache",Zee=Symbol.for(Yee),Jee={_Key:e=>e,_Error:e=>e,_Value:e=>e},Qee=e=>e,db=e=>({loadedMillis:e}),bT=class{capacity;context;fiberId;lookup;timeToLive;[Gee]=Kee;[Zee]=Jee;cacheState;constructor(t,n,r,o,i){this.capacity=t,this.context=n,this.fiberId=r,this.lookup=o,this.timeToLive=i,this.cacheState=zee()}get(t){return D(this.getEither(t),wy)}get cacheStats(){return E(()=>Qee({hits:this.cacheState.hits,misses:this.cacheState.misses,size:Yv(this.cacheState.map)}))}getOption(t){return H(()=>vt(mt(this.cacheState.map,t),{onNone:()=>{let n=fd(t);return this.trackAccess(n),this.trackMiss(),v(_())},onSome:n=>this.resolveMapValue(n)}))}getOptionComplete(t){return H(()=>vt(mt(this.cacheState.map,t),{onNone:()=>{let n=fd(t);return this.trackAccess(n),this.trackMiss(),v(_())},onSome:n=>this.resolveMapValue(n,!0)}))}contains(t){return E(()=>Yr(this.cacheState.map,t))}entryStats(t){return E(()=>{let n=mt(this.cacheState.map,t);if(Ce(n))switch(n.value._tag){case"Complete":{let r=n.value.entryStats.loadedMillis;return C(db(r))}case"Pending":return _();case"Refreshing":{let r=n.value.complete.entryStats.loadedMillis;return C(db(r))}}return _()})}getEither(t){return H(()=>{let n=t,r,o,i=$t(mt(this.cacheState.map,n));return i===void 0&&(o=KI(this.fiberId),r=fd(n),Yr(this.cacheState.map,n)?i=$t(mt(this.cacheState.map,n)):Tn(this.cacheState.map,n,A$(r,o))),i===void 0?(this.trackAccess(r),this.trackMiss(),D(this.lookupValueOf(t,o),sn)):g(this.resolveMapValue(i),vt({onNone:()=>this.getEither(t),onSome:s=>v(cr(s))}))})}invalidate(t){return E(()=>{$c(this.cacheState.map,t)})}invalidateWhen(t,n){return E(()=>{let r=mt(this.cacheState.map,t);Ce(r)&&r.value._tag==="Complete"&&r.value.exit._tag==="Success"&&n(r.value.exit.value)&&$c(this.cacheState.map,t)})}get invalidateAll(){return E(()=>{this.cacheState.map=Uc()})}refresh(t){return jo(n=>H(()=>{let r=t,o=KI(this.fiberId),i=$t(mt(this.cacheState.map,r));if(i===void 0&&(Yr(this.cacheState.map,r)?i=$t(mt(this.cacheState.map,r)):Tn(this.cacheState.map,r,A$(fd(r),o))),i===void 0)return Xe(this.lookupValueOf(t,o));switch(i._tag){case"Complete":{if(this.hasExpired(n,i.timeToLiveMillis)){let s=$t(mt(this.cacheState.map,r));return M(s,i)&&$c(this.cacheState.map,r),Xe(this.get(t))}return m(this.lookupValueOf(t,o),bx(()=>{let s=$t(mt(this.cacheState.map,r));if(M(s,i)){let a=Vee(o,i);return Tn(this.cacheState.map,r,a),!0}return!1}),Xe)}case"Pending":return Op(i.deferred);case"Refreshing":return Op(i.deferred)}}))}set(t,n){return jo(r=>E(()=>{let o=r.unsafeCurrentTimeMillis(),i=t,s=_2(n),a=R$(fd(i),s,db(o),o+So(It(this.timeToLive(s))));Tn(this.cacheState.map,i,a)}))}get size(){return E(()=>Yv(this.cacheState.map))}get values(){return E(()=>{let t=[];for(let n of this.cacheState.map)n[1]._tag==="Complete"&&n[1].exit._tag==="Success"&&t.push(n[1].exit.value);return t})}get entries(){return E(()=>{let t=[];for(let n of this.cacheState.map)n[1]._tag==="Complete"&&n[1].exit._tag==="Success"&&t.push([n[0],n[1].exit.value]);return t})}get keys(){return E(()=>{let t=[];for(let n of this.cacheState.map)n[1]._tag==="Complete"&&n[1].exit._tag==="Success"&&t.push(n[0]);return t})}resolveMapValue(t,n=!1){return jo(r=>{switch(t._tag){case"Complete":return this.trackAccess(t.key),this.hasExpired(r,t.timeToLiveMillis)?($c(this.cacheState.map,t.key.current),v(_())):(this.trackHit(),D(t.exit,C));case"Pending":return this.trackAccess(t.key),this.trackHit(),n?v(_()):D(Op(t.deferred),C);case"Refreshing":return this.trackAccess(t.complete.key),this.trackHit(),this.hasExpired(r,t.complete.timeToLiveMillis)?n?v(_()):D(Op(t.deferred),C):D(t.complete.exit,C)}})}trackHit(){this.cacheState.hits=this.cacheState.hits+1}trackMiss(){this.cacheState.misses=this.cacheState.misses+1}trackAccess(t){if(k2(this.cacheState.accesses,t),Xy(this.cacheState.updating,!1,!0)){let n=!0;for(;n;){let o=N2(this.cacheState.accesses,XI);o===XI?n=!1:this.cacheState.keys.add(o)}let r=Yv(this.cacheState.map);for(n=r>this.capacity;n;){let o=this.cacheState.keys.remove();o!==void 0?Yr(this.cacheState.map,o.current)&&($c(this.cacheState.map,o.current),r=r-1,n=r>this.capacity):n=!1}dr(this.cacheState.updating,!1)}}hasExpired(t,n){return t.unsafeCurrentTimeMillis()>n}lookupValueOf(t,n){return jo(r=>H(()=>{let o=t;return m(this.lookup(t),Kr(this.context),Ge,g(i=>{let s=r.unsafeCurrentTimeMillis(),a=db(s),c=R$(fd(o),i,a,s+So(It(this.timeToLive(i))));return Tn(this.cacheState.map,o,c),fe(v2(n,i),i)}),Ao(()=>fe(x2(n),E(()=>{$c(this.cacheState.map,o)}))))}))}};var k$=(e,t,n)=>new bT(e,Vn(),nv,t,r=>It(n(r)));var ca={};g0(ca,{Do:()=>oie,EffectTypeId:()=>Yte,Service:()=>Vae,Tag:()=>Bae,acquireRelease:()=>jre,acquireReleaseInterruptible:()=>Hre,acquireUseRelease:()=>Bre,addFinalizer:()=>Vre,all:()=>nne,allSuccesses:()=>one,allWith:()=>rne,allowInterrupt:()=>mre,andThen:()=>wie,annotateCurrentSpan:()=>Cae,annotateLogs:()=>bse,annotateLogsScoped:()=>Ese,annotateSpans:()=>_ae,ap:()=>aae,as:()=>Ire,asSome:()=>wre,asSomeError:()=>Mre,asVoid:()=>Tre,async:()=>Ine,asyncEffect:()=>wne,awaitAllChildren:()=>eoe,bind:()=>iie,bindAll:()=>sie,bindTo:()=>aie,blocked:()=>cae,cacheRequestResult:()=>fae,cached:()=>Xte,cachedFunction:()=>ene,cachedInvalidateWithTTL:()=>Qte,cachedWithTTL:()=>Jte,catch:()=>zne,catchAll:()=>Wne,catchAllCause:()=>Gne,catchAllDefect:()=>Kne,catchIf:()=>Yne,catchSome:()=>Zne,catchSomeCause:()=>Jne,catchSomeDefect:()=>Qne,catchTag:()=>Xne,catchTags:()=>ere,cause:()=>tre,checkInterruptible:()=>gre,clock:()=>Coe,clockWith:()=>Soe,configProviderWith:()=>Boe,console:()=>woe,consoleWith:()=>Moe,context:()=>$oe,contextWith:()=>qoe,contextWithEffect:()=>zoe,currentParentSpan:()=>Dae,currentSpan:()=>Sae,custom:()=>Mne,daemonChildren:()=>toe,delay:()=>Roe,descriptor:()=>noe,descriptorWith:()=>roe,die:()=>l0,dieMessage:()=>kne,dieSync:()=>Nne,diffFiberRefs:()=>ooe,disconnect:()=>yre,dropUntil:()=>ine,dropWhile:()=>sne,either:()=>lie,ensureErrorType:()=>zae,ensureRequirementsType:()=>Wae,ensureSuccessType:()=>qae,ensuring:()=>Ure,ensuringChild:()=>ioe,ensuringChildren:()=>soe,eventually:()=>nre,every:()=>une,exists:()=>lne,exit:()=>die,fail:()=>One,failCause:()=>Pz,failCauseSync:()=>Ane,failSync:()=>Rne,fiberId:()=>aoe,fiberIdWith:()=>coe,filter:()=>dne,filterEffectOrElse:()=>vie,filterEffectOrFail:()=>xie,filterMap:()=>fne,filterOrDie:()=>hie,filterOrDieMessage:()=>mie,filterOrElse:()=>gie,filterOrFail:()=>yie,finalizersMask:()=>Gre,findFirst:()=>pne,firstSuccessOf:()=>Ose,flatMap:()=>Iie,flatten:()=>Mie,flip:()=>Ore,flipWith:()=>Rre,fn:()=>Uae,fnUntraced:()=>$ae,forEach:()=>hne,forever:()=>Bie,fork:()=>uoe,forkAll:()=>doe,forkDaemon:()=>loe,forkIn:()=>foe,forkScoped:()=>poe,forkWithErrorHandler:()=>hoe,fromFiber:()=>moe,fromFiberEffect:()=>goe,fromNullable:()=>Pae,functionWithSpan:()=>kae,gen:()=>Fne,getFiberRefs:()=>Zie,getRuntimeFlags:()=>Pse,head:()=>mne,if:()=>pie,ignore:()=>rre,ignoreLogged:()=>ore,inheritFiberRefs:()=>Jie,interrupt:()=>vre,interruptWith:()=>xre,interruptible:()=>bre,interruptibleMask:()=>Ere,intoDeferred:()=>fie,isEffect:()=>Zte,isFailure:()=>ise,isSuccess:()=>sse,iterate:()=>Vie,labelMetrics:()=>Vse,labelMetricsScoped:()=>$se,let:()=>cie,liftPredicate:()=>Dre,linkSpanCurrent:()=>Tae,linkSpans:()=>Mae,locally:()=>Qie,locallyScoped:()=>ese,locallyScopedWith:()=>tse,locallyWith:()=>Xie,log:()=>dse,logAnnotations:()=>_se,logDebug:()=>hse,logError:()=>yse,logFatal:()=>vse,logInfo:()=>mse,logTrace:()=>pse,logWarning:()=>gse,logWithLevel:()=>fse,loop:()=>Uie,makeLatch:()=>Yse,makeSemaphore:()=>Gse,makeSpan:()=>Oae,makeSpanScoped:()=>Rae,map:()=>su,mapAccum:()=>Are,mapBoth:()=>kre,mapError:()=>Nre,mapErrorCause:()=>Fre,mapInputContext:()=>Woe,match:()=>ase,matchCause:()=>cse,matchCauseEffect:()=>use,matchEffect:()=>lse,merge:()=>Pre,mergeAll:()=>gne,metricLabels:()=>qse,negate:()=>Lre,never:()=>Pne,none:()=>Lne,onError:()=>$re,onExit:()=>qre,onInterrupt:()=>_re,once:()=>tne,option:()=>uie,optionFromOptional:()=>Lae,orDie:()=>Dse,orDieWith:()=>Ise,orElse:()=>wse,orElseFail:()=>Mse,orElseSucceed:()=>Tse,parallelErrors:()=>ire,parallelFinalizers:()=>zre,partition:()=>yne,patchFiberRefs:()=>nse,patchRuntimeFlags:()=>Lse,promise:()=>jne,provide:()=>Goe,provideService:()=>Koe,provideServiceEffect:()=>Yoe,race:()=>Tie,raceAll:()=>Oie,raceFirst:()=>Rie,raceWith:()=>Aie,random:()=>Rse,randomWith:()=>Ase,reduce:()=>vne,reduceEffect:()=>Ene,reduceRight:()=>bne,reduceWhile:()=>xne,repeat:()=>$ie,repeatN:()=>qie,repeatOrElse:()=>zie,replicate:()=>_ne,replicateEffect:()=>Cne,request:()=>dae,retry:()=>are,retryOrElse:()=>ure,runCallback:()=>Jse,runFork:()=>Zse,runPromise:()=>Qse,runPromiseExit:()=>Xse,runRequestBlock:()=>uae,runSync:()=>eae,runSyncExit:()=>tae,runtime:()=>Fse,sandbox:()=>sre,schedule:()=>Wie,scheduleForked:()=>Gie,scheduleFrom:()=>Kie,scope:()=>Kre,scopeWith:()=>Yre,scoped:()=>Jre,scopedWith:()=>Zre,sequentialFinalizers:()=>Wre,serviceConstants:()=>Xoe,serviceFunction:()=>Zoe,serviceFunctionEffect:()=>Joe,serviceFunctions:()=>Qoe,serviceMembers:()=>eie,serviceOption:()=>tie,serviceOptional:()=>nie,setFiberRefs:()=>rse,sleep:()=>Aoe,spanAnnotations:()=>Iae,spanLinks:()=>wae,step:()=>lae,succeed:()=>Hne,succeedNone:()=>d0,succeedSome:()=>Bne,summarized:()=>kie,supervised:()=>yoe,suspend:()=>Vne,sync:()=>Une,tagMetrics:()=>Bse,tagMetricsScoped:()=>Use,takeUntil:()=>ane,takeWhile:()=>cne,tap:()=>Nie,tapBoth:()=>Fie,tapDefect:()=>Pie,tapError:()=>Lie,tapErrorCause:()=>Hie,tapErrorTag:()=>jie,timed:()=>koe,timedWith:()=>Noe,timeout:()=>Foe,timeoutFail:()=>Loe,timeoutFailCause:()=>joe,timeoutOption:()=>Poe,timeoutTo:()=>Hoe,tracer:()=>gae,tracerWith:()=>yae,transplant:()=>voe,transposeMapOption:()=>Hae,transposeOption:()=>jae,try:()=>lre,tryMap:()=>dre,tryMapPromise:()=>fre,tryPromise:()=>pre,uninterruptible:()=>Cre,uninterruptibleMask:()=>Sre,unless:()=>bie,unlessEffect:()=>Eie,unsafeMakeLatch:()=>Kse,unsafeMakeSemaphore:()=>Wse,unsandbox:()=>hre,updateFiberRefs:()=>ose,updateService:()=>rie,useSpan:()=>Aae,using:()=>Qre,validate:()=>nae,validateAll:()=>Sne,validateFirst:()=>Dne,validateWith:()=>rae,void:()=>$ne,when:()=>_ie,whenEffect:()=>Cie,whenFiberRef:()=>Sie,whenLogLevel:()=>Sse,whenRef:()=>Die,whileLoop:()=>Yie,withClock:()=>Ioe,withClockScoped:()=>Doe,withConcurrency:()=>xoe,withConfigProvider:()=>Voe,withConfigProviderScoped:()=>Uoe,withConsole:()=>Ooe,withConsoleScoped:()=>Toe,withEarlyRelease:()=>Xre,withExecutionPlan:()=>cre,withFiberRuntime:()=>Tne,withLogSpan:()=>xse,withMaxOpsBeforeYield:()=>_oe,withMetric:()=>zse,withParentSpan:()=>Fae,withRandom:()=>Lz,withRandomFixed:()=>kse,withRandomScoped:()=>Nse,withRequestBatching:()=>pae,withRequestCache:()=>mae,withRequestCaching:()=>hae,withRuntimeFlagsPatch:()=>jse,withRuntimeFlagsPatchScoped:()=>Hse,withScheduler:()=>boe,withSchedulingPriority:()=>Eoe,withSpan:()=>Hz,withSpanScoped:()=>Nae,withTracer:()=>vae,withTracerEnabled:()=>bae,withTracerScoped:()=>xae,withTracerTiming:()=>Eae,withUnhandledErrorLogLevel:()=>Cse,yieldNow:()=>qne,zip:()=>oae,zipLeft:()=>iae,zipRight:()=>sae,zipWith:()=>jz});var Xee="effect/ScheduleInterval",ch=Symbol.for(Xee),ET={[ch]:ch,startMillis:0,endMillis:0},_T=(e,t)=>e>t?ET:{[ch]:ch,startMillis:e,endMillis:t},N$=d(2,(e,t)=>F$(e,t)===e),F$=d(2,(e,t)=>e.endMillis<=t.startMillis?e:t.endMillis<=e.startMillis?t:e.startMillis<t.startMillis?e:t.startMillis<e.startMillis?t:e.endMillis<=t.endMillis?e:t);var P$=e=>e.startMillis>=e.endMillis;var L$=d(2,(e,t)=>{let n=Math.max(e.startMillis,t.startMillis),r=Math.min(e.endMillis,t.endMillis);return _T(n,r)});var j$=e=>_T(e,Number.POSITIVE_INFINITY);var CT=ET,H$=N$;var B$=P$;var V$=L$;var U$=j$;var nte="effect/ScheduleIntervals",DT=Symbol.for(nte),IT=e=>({[DT]:DT,intervals:e});var $$=d(2,(e,t)=>rte(e.intervals,t.intervals,un())),rte=(e,t,n)=>{let r=e,o=t,i=n;for(;qt(r)&&qt(o);){let s=m(Pt(r),V$(Pt(o))),a=B$(s)?i:m(i,Ft(s));m(Pt(r),H$(Pt(o)))?r=Xt(r):o=Xt(o),i=a}return IT(Co(i))},fb=e=>m(e.intervals,Py,pt(()=>CT)).startMillis,q$=e=>m(e.intervals,Py,pt(()=>CT)).endMillis,z$=d(2,(e,t)=>fb(e)<fb(t)),W$=e=>qt(e.intervals);var G$=IT;var K$=$$,Y$=fb,wT=q$,Z$=z$,J$=W$;var TT="Continue",Q$="Done",X$=e=>({_tag:TT,intervals:e}),eq=e=>({_tag:TT,intervals:G$(Ze(e))}),tq={_tag:Q$},nq=e=>e._tag===TT,rq=e=>e._tag===Q$;var oq=X$;var iq=eq,pd=tq,OT=nq,uh=rq;var aq=jc;var cq=Wn;var AT=class{permits;waiters=new Set;taken=0;constructor(t){this.permits=t}get free(){return this.permits-this.taken}take=t=>mp(n=>{if(this.free<t){let r=()=>{this.free<t||(this.waiters.delete(r),this.taken+=t,n(v(t)))};return this.waiters.add(r),E(()=>{this.waiters.delete(r)})}return this.taken+=t,n(v(t))});updateTakenUnsafe(t,n){return this.taken=n(this.taken),this.waiters.size>0&&t.getFiberRef(eu).scheduleTask(()=>{let r=this.waiters.values(),o=r.next();for(;o.done===!1&&this.free>0;)o.value(),o=r.next()},t.getFiberRef(Ri)),v(this.free)}updateTaken(t){return X(n=>this.updateTakenUnsafe(n,t))}resize=t=>Xe(X(n=>(this.permits=t,this.free<0?q:this.updateTakenUnsafe(n,r=>r))));release=t=>this.updateTaken(n=>n-t);releaseAll=this.updateTaken(t=>0);withPermits=t=>n=>et(r=>g(r(this.take(t)),o=>br(r(n),this.release(o))));withPermitsIfAvailable=t=>n=>et(r=>H(()=>this.free<t?Zc:(this.taken+=t,br(r(Zl(n)),this.release(t)))))},hb=e=>new AT(e),dq=e=>E(()=>hb(e)),kT=class extends ji{isOpen;waiters=[];scheduled=!1;constructor(t){super(),this.isOpen=t}commit(){return this.await}unsafeSchedule(t){return this.scheduled||this.waiters.length===0?q:(this.scheduled=!0,t.currentScheduler.scheduleTask(this.flushWaiters,t.getFiberRef(Ri)),q)}flushWaiters=()=>{this.scheduled=!1;let t=this.waiters;this.waiters=[];for(let n=0;n<t.length;n++)t[n](fn)};open=X(t=>this.isOpen?q:(this.isOpen=!0,this.unsafeSchedule(t)));unsafeOpen(){this.isOpen||(this.isOpen=!0,this.flushWaiters())}release=X(t=>this.isOpen?q:this.unsafeSchedule(t));await=mp(t=>this.isOpen?t(q):(this.waiters.push(t),E(()=>{let n=this.waiters.indexOf(t);n!==-1&&this.waiters.splice(n,1)})));unsafeClose(){this.isOpen=!1}close=E(()=>{this.isOpen=!1});whenOpen=t=>fe(this.await,t)},FT=e=>new kT(e??!1),fq=e=>E(()=>FT(e)),pq=e=>mb(e,w$),hq=d(2,(e,t)=>D(PT(e,t),n=>n[0])),PT=d(2,(e,t)=>{let n=It(t);return g(Yn(),r=>D(yb(_()),o=>[Kr(ste(e,n,o),r),ate(o)]))}),lq=(e,t,n)=>{let r=So(It(t));return m(Kn(),Gr(o=>Ro(e,o)),D(o=>C([n+r,o])))},ste=(e,t,n)=>et(r=>m(jo(o=>o.currentTimeMillis),g(o=>dte(n,i=>{switch(i._tag){case"None":return C(lq(e,t,o));case"Some":{let[s]=i.value;return s-o<=0?C(lq(e,t,o)):_()}}})),g(o=>ce(o)?Bs("BUG: Effect.cachedInvalidate - please report an issue at https://github.com/Effect-TS/effect/issues"):r(Tt(o.value[1]))))),ate=e=>Lo(e,_()),mq=d(2,(e,t)=>mb(e,n=>t(hT(n)))),mb=d(2,(e,t)=>g(jU,n=>m(jT(e,n),br(g(n.value,t))))),gq=d(e=>sr(e[0]),(e,t)=>t?.discard?qn(e,zi):D(zt(e,zi),hT)),LT=d(2,(e,t)=>X((n,r)=>{let o=t,i=ih(e,n,r.runtimeFlags,Bi);if(o.state._tag==="Open"){let s=()=>Dn(c=>M(c,i.id())?q:Xe(xp(i))),a={};o.state.finalizers.set(a,s),i.addObserver(()=>{o.state._tag!=="Closed"&&o.state.finalizers.delete(a)})}else i.unsafeInterruptAsFork(n.id());return v(i)})),gb=e=>iu(t=>LT(e,t)),yq=e=>Zr(e),vq=e=>H(()=>g(e,Zr)),RT=Symbol.for("effect/Effect/memoizeFunction.key"),pb=class{a;eq;[RT]=RT;constructor(t,n){this.a=t,this.eq=n}[F](t){return A(t,RT)?this.eq?this.eq(this.a,t.a):M(this.a,t.a):!1}[L](){return this.eq?0:K(this,w(this.a))}},xq=(e,t)=>m(E(()=>Uc()),g(yb),D(n=>r=>m(n.modifyEffect(o=>{let i=m(o,mt(new pb(r,t)));return ce(i)?m(Kn(),Gr(s=>m(Jl(e(r)),Ro(s),zi)),D(s=>[s,m(o,Tn(new pb(r,t),s))])):v([i.value,o])}),g(Tt),g(([o,i])=>m(Kc(o),Fe(i)))))),bq=d(2,(e,t)=>m(Ge(e),lb(Ge(t)),n=>In(n))),jT=d(2,(e,t)=>Mt(pT,r=>r.zip(t))(e)),Eq=d(2,(e,t)=>HT(e,{onTimeout:()=>l2(t),duration:t})),HT=d(2,(e,{duration:t,onTimeout:n})=>In(lh(e,{onTimeout:()=>mr(n),onSuccess:v,duration:t}))),_q=d(2,(e,{duration:t,onTimeout:n})=>In(lh(e,{onTimeout:()=>Us(n),onSuccess:v,duration:t}))),Cq=d(2,(e,t)=>lh(e,{duration:t,onSuccess:C,onTimeout:_})),lh=d(2,(e,{duration:t,onSuccess:n,onTimeout:r})=>Dn(o=>et(i=>gT(i(e),Ti(Yc(t)),{onSelfWin:(s,a)=>g(s.await,c=>c._tag==="Success"?g(s.inheritAll,()=>Fe(wn(a,o),n(c.value))):g(wn(a,o),()=>Ee(c.cause))),onOtherWin:(s,a)=>g(s.await,c=>c._tag==="Success"?g(s.inheritAll,()=>Fe(wn(a,o),r())):g(wn(a,o),()=>Ee(c.cause))),otherScope:Bi})))),cte="effect/Ref/SynchronizedRef",ute=Symbol.for(cte),lte={_A:e=>e},NT=class extends ji{ref;withLock;[ute]=lte;[ax]=Fw;[Js]=Js;constructor(t,n){super(),this.ref=t,this.withLock=n,this.get=Gt(this.ref)}get;commit(){return this.get}modify(t){return this.modifyEffect(n=>v(t(n)))}modifyEffect(t){return this.withLock(m(g(Gt(this.ref),t),g(([n,r])=>Fe(Lo(this.ref,r),n))))}},yb=e=>E(()=>BT(e)),BT=e=>{let t=Yl(e),n=hb(1);return new NT(t,n.withPermits(1))},dte=d(2,(e,t)=>e.modifyEffect(n=>{let r=t(n);switch(r._tag){case"None":return v([n,n]);case"Some":return D(r.value,o=>[o,o])}}));var Sq=d(e=>ye(e[0]),(e,t,n)=>g(e,r=>ia(t(r),n).pipe(D(o=>Object.assign({},r,o)))));var Iq=Symbol.for("effect/ManagedRuntime");var wq="Fresh",Mq="FromEffect",Tq="Scoped",Oq="Suspend",Rq="Provide",Aq="ProvideMerge",kq="MergeAll";var Nq=wn;var hd=e=>function(){if(arguments.length===1){let t=arguments[0];return(n,...r)=>e(t,n,...r)}return e.apply(this,arguments)},bb=hd((e,t,n)=>{let r=iv(),o=[[Mn,[[r,e.context]]]];n?.scheduler&&o.push([eu,[[r,n.scheduler]]]);let i=Aj(e.fiberRefs,{entries:o,forkAs:r});n?.updateRefs&&(i=n.updateRefs(i,r));let s=new th(r,i,e.runtimeFlags),a=t;n?.scope&&(a=g(cq(n.scope,vr),u=>fe(qv(u,Dn(l=>M(l,s.id())?q:wn(s,l))),dn(t,l=>aq(u,l)))));let c=s.currentSupervisor;return c!==ru&&(c.onStart(e.context,a,_(),s),s.addObserver(u=>c.onEnd(u,s))),Bi.add(e.runtimeFlags,s),n?.immediate===!1?s.resume(a):s.start(a),s}),qT=hd((e,t,n={})=>{let r=bb(e,t,n);return n.onExit&&r.addObserver(o=>{n.onExit(o)}),(o,i)=>qT(e)(m(r,Nq(o??_n)),N(x({},i),{onExit:i?.onExit?s=>i.onExit(E2(s)):void 0}))}),hte=hd((e,t)=>{let n=jq(e)(t);if(n._tag==="Failure")throw Pq(n.effect_instruction_i0);return n.effect_instruction_i0}),UT=class extends Error{fiber;_tag="AsyncFiberException";constructor(t){super(`Fiber #${t.id().id} cannot be resolved synchronously. This is caused by using runSync on an effect that performs async work`),this.fiber=t,this.name=this._tag,this.stack=this.message}},mte=e=>{let t=Error.stackTraceLimit;Error.stackTraceLimit=0;let n=new UT(e);return Error.stackTraceLimit=t,n};var VT=Symbol.for("effect/Runtime/FiberFailure"),vb=Symbol.for("effect/Runtime/FiberFailure/Cause"),$T=class extends Error{[VT];[vb];constructor(t){let n=TI(t)[0];super(n?.message||"An error has occurred"),this[VT]=VT,this[vb]=t,this.name=n?`(FiberFailure) ${n.name}`:"FiberFailure",n?.stack&&(this.stack=n.stack)}toJSON(){return{_id:"FiberFailure",cause:this[vb].toJSON()}}toString(){return"(FiberFailure) "+Ii(this[vb],{renderErrorCause:!0})}[Y](){return this.toString()}},Pq=e=>{let t=Error.stackTraceLimit;Error.stackTraceLimit=0;let n=new $T(e);return Error.stackTraceLimit=t,n};var Lq=e=>{let t=e;switch(t._op){case"Failure":case"Success":return t;case"Left":return Sp(t.left);case"Right":return Pe(t.right);case"Some":return Pe(t.value);case"None":return Sp(new Gn)}},jq=hd((e,t)=>{let n=Lq(t);if(n)return n;let r=new qx,o=bb(e)(t,{scheduler:r});r.flush();let i=o.unsafePoll();return i||$I(Mv(mte(o),Kv(o)))}),gte=hd((e,t,n)=>Hq(e,t,n).then(r=>{switch(r._tag){case ot:return r.effect_instruction_i0;case rt:throw Pq(r.effect_instruction_i0)}})),Hq=hd((e,t,n)=>new Promise(r=>{let o=Lq(t);o&&r(o);let i=bb(e)(t);i.addObserver(s=>{r(s)}),n?.signal!==void 0&&(n.signal.aborted?i.unsafeInterruptAsFork(i.id()):n.signal.addEventListener("abort",()=>{i.unsafeInterruptAsFork(i.id())},{once:!0}))})),xb=class{context;runtimeFlags;fiberRefs;constructor(t,n,r){this.context=t,this.runtimeFlags=n,this.fiberRefs=r}pipe(){return R(this,arguments)}},yte=e=>new xb(e.context,e.runtimeFlags,e.fiberRefs),Eb=()=>X((e,t)=>v(new xb(e.getFiberRef(Mn),t.runtimeFlags,e.getFiberRefs()))),vte=lI(zr,aI,sI),Gi=yte({context:Vn(),runtimeFlags:vte,fiberRefs:kj()});var Bq=qT(Gi),Vq=bb(Gi),Uq=gte(Gi),$q=Hq(Gi),qq=hte(Gi),zq=jq(Gi),Wq=e=>H(()=>{let t;return g(Kn(),n=>g(Eb(),r=>et(o=>fe(zi(o(He(e(i=>qT(r)(Ro(i,n))),{onFailure:i=>Mp(n,i),onSuccess:i=>(t=i,q)}))),o(Ao(Tt(n),()=>t??q))))))});var Kq=d(2,(e,t)=>e.modifyEffect(t));var bte="effect/Layer",Jq=Symbol.for(bte),Ete={_RIn:e=>e,_E:e=>e,_ROut:e=>e},md={[Jq]:Ete,pipe(){return R(this,arguments)}},_te="effect/Layer/MemoMap",zT=Symbol.for(_te),Cte=Eo()("effect/Layer/CurrentMemoMap",{defaultValue:()=>wte()}),Ste=e=>A(e,Jq),Dte=e=>e._op_layer===wq,_b=class{ref;[zT];constructor(t){this.ref=t,this[zT]=zT}getOrElseMemoize(t,n){return m(Kq(this.ref,r=>{let o=r.get(t);if(o!==void 0){let[i,s]=o,a=m(i,g(([c,u])=>m(Kc(c),Fe(u))),dn(Ul({onFailure:()=>q,onSuccess:()=>Lc(n,s)})));return v([a,r])}return m(zc(0),g(i=>m(Kn(),g(s=>m(zc(()=>q),D(a=>{let c=et(l=>m(cb(),g(f=>m(l(g(Xq(t,f,!0),h=>Jl(h(this)))),Ge,g(h=>{switch(h._tag){case rt:return m(Mp(s,h.effect_instruction_i0),fe(jc(f,h)),fe(oe(h.effect_instruction_i0)));case ot:return m(Lo(a,p=>m(jc(f,p),jl(Pw(i,y=>[y===1,y-1])),Xe)),fe(Wc(i,p=>p+1)),fe(Lc(n,p=>m(E(()=>r.delete(t)),fe(Gt(a)),g(y=>y(p))))),fe(WI(s,h.effect_instruction_i0)),Fe(h.effect_instruction_i0[1]))}}))))),u=[m(Tt(s),dn($l({onFailure:()=>q,onSuccess:()=>Wc(i,l=>l+1)}))),l=>m(Gt(a),g(f=>f(l)))];return[c,Dte(t)?r:r.set(t,u)]}))))))}),In)}},Ite=H(()=>D(yb(new Map),e=>new _b(e))),wte=()=>new _b(BT(new Map));var Qq=d(2,(e,t)=>g(Ite,n=>Mte(e,n,t))),Mte=d(3,(e,t,n)=>g(Xq(e,n),r=>Qs(r(t),Cte,t))),Xq=(e,t,n=!1)=>{let r=e;switch(r._op_layer){case"Locally":return E(()=>o=>r.f(o.getOrElseMemoize(r.self,t)));case"ExtendScope":return E(()=>o=>iu(i=>o.getOrElseMemoize(r.layer,i)));case"Fold":return E(()=>o=>m(o.getOrElseMemoize(r.layer,t),He({onFailure:i=>o.getOrElseMemoize(r.failureK(i),t),onSuccess:i=>o.getOrElseMemoize(r.successK(i),t)})));case"Fresh":return E(()=>o=>m(r.layer,Qq(t)));case"FromEffect":return n?E(()=>o=>r.effect):E(()=>o=>o.getOrElseMemoize(e,t));case"Provide":return E(()=>o=>m(o.getOrElseMemoize(r.first,t),g(i=>m(o.getOrElseMemoize(r.second,t),Kr(i)))));case"Scoped":return n?E(()=>o=>aa(r.effect,t)):E(()=>o=>o.getOrElseMemoize(e,t));case"Suspend":return E(()=>o=>o.getOrElseMemoize(r.evaluate(),t));case"ProvideMerge":return E(()=>o=>m(o.getOrElseMemoize(r.first,t),No(o.getOrElseMemoize(r.second,t),r.zipK)));case"ZipWith":return Fv(function*(){let o=yield*Bo(Wn(t,Hp)),i=yield*Bo(Wn(o,vr)),s=yield*Bo(Wn(o,vr));return a=>m(a.getOrElseMemoize(r.first,i),Wi(a.getOrElseMemoize(r.second,s),r.zipK,{concurrent:!0}))});case"MergeAll":{let o=r.layers;return D(Wn(t,Hp),i=>s=>{let a=new Array(o.length);return D(qi(o,Hl(function*(c,u){let l=yield*Bo(Wn(i,vr)),f=yield*Bo(s.getOrElseMemoize(c,l));a[u]=f}),!1,!1),()=>qP(...a))})}}};var Tte=()=>Cb(Yn());var WT=d(2,(e,t)=>{let n=Uf(e),r=n?e:t;return Cb(D(n?t:e,i=>cc(r,i)))});function Cb(e){let t=Object.create(md);return t._op_layer=Mq,t.effect=e,t}var ez=(...e)=>{let t=Object.create(md);return t._op_layer=kq,t.layers=e,t};var GT=d(2,(e,t)=>{let n=Uf(e),r=n?e:t;return Ote(D(n?t:e,i=>cc(r,i)))});var Ote=e=>{let t=Object.create(md);return t._op_layer=Tq,t.effect=e,t};var tz=d(2,(e,t)=>{let n=Uf(e);return Cb(v(cc(n?e:t,n?t:e)))});var Rte=e=>{let t=Object.create(md);return t._op_layer=Oq,t.evaluate=e,t},nz=d(2,(e,t)=>{let n=Uf(e),r=n?e:t,o=n?t:e;return Cb(E(()=>cc(r,o())))});var KT=d(2,(e,t)=>Rte(()=>{let n=Object.create(md);return n._op_layer=Rq,n.first=Object.create(md,{_op_layer:{value:Aq,enumerable:!0},first:{value:Tte(),enumerable:!0},second:{value:Array.isArray(t)?ez(...t):t},zipK:{value:(r,o)=>m(r,yi(o))}}),n.second=e,n}));var Yq=d(2,(e,t)=>sh(n=>g(Qq(t,n),r=>Gv(e,r)))),Zq=d(2,(e,t)=>{let n=Jc(Gi.fiberRefs,t.fiberRefs),r=fr(Gi.runtimeFlags,t.runtimeFlags);return et(o=>X(i=>{let s=i.getFiberRef(Mn),a=i.getFiberRefs(),c=Qc(i.id(),a)(n),u=i.currentRuntimeFlags,l=Si(r)(u),f=Jc(c,a),h=fr(l,u);return i.setFiberRefs(c),i.currentRuntimeFlags=l,br(Gv(o(e),yi(s,t.context)),X(p=>(p.setFiberRefs(Qc(p.id(),p.getFiberRefs())(f)),p.currentRuntimeFlags=Si(h)(p.currentRuntimeFlags),q)))}))}),Sb=d(2,(e,t)=>Array.isArray(t)?Yq(e,ez(...t)):Ste(t)?Yq(e,t):$P(t)?Gv(e,t):Iq in t?g(t.runtimeEffect,n=>Zq(e,n)):Zq(e,t));var oz=D(zn(st),bn(Ni)),iz=e=>Wt(st,t=>e(bn(t,Ni))),sz=d(2,(e,t)=>Mt(e,st,je(Ni,t))),az=e=>xr(st,je(Ni,e));var cz=aj;var kte="effect/Schedule",fz=Symbol.for(kte),pz=e=>A(e,fz),Nte="effect/ScheduleDriver",Fte=Symbol.for(Nte),YT={start:0,now:0,input:void 0,output:void 0,elapsed:Ns,elapsedSincePrevious:Ns,recurrence:0},dh=Eo()("effect/Schedule/CurrentIterationMetadata",{defaultValue:()=>YT}),Pte={_Out:e=>e,_In:e=>e,_R:e=>e},Lte={_Out:e=>e,_In:e=>e,_R:e=>e},ZT=class{initial;step;[fz]=Pte;constructor(t,n){this.initial=t,this.step=n}pipe(){return R(this,arguments)}},lz=(e,t,n,r)=>Wc(e,o=>o.recurrence===0?{now:t,input:n,output:r,recurrence:o.recurrence+1,elapsed:Ns,elapsedSincePrevious:Ns,start:t}:{now:t,input:n,output:r,recurrence:o.recurrence+1,elapsed:ks(t-o.start),elapsedSincePrevious:ks(t-o.now),start:o.start}),JT=class{schedule;ref;[Fte]=Lte;constructor(t,n){this.schedule=t,this.ref=n}get state(){return D(Gt(this.ref),t=>t[1])}get last(){return g(Gt(this.ref),([t,n])=>{switch(t._tag){case"None":return mr(()=>new Gn);case"Some":return v(t.value)}})}iterationMeta=Yl(YT);get reset(){return Lo(this.ref,[_(),this.schedule.initial]).pipe(kc(Lo(this.iterationMeta,YT)))}next(t){return m(D(Gt(this.ref),n=>n[1]),g(n=>m(rx,g(r=>m(H(()=>this.schedule.step(r,t,n)),g(([o,i,s])=>{let a=Lo(this.ref,[C(i),o]);if(uh(s))return a.pipe(fe(ee(_())));let c=Y$(s.intervals)-r;if(c<=0)return a.pipe(fe(lz(this.iterationMeta,r,t,i)),Fe(i));let u=ks(c);return m(a,fe(lz(this.iterationMeta,r,t,i)),fe(Yc(u)),Fe(i))}))))))}},ph=(e,t)=>new ZT(e,t);var jte=e=>mz(e,go);var Hte=d(2,(e,t)=>e0(e,(n,r)=>E(()=>t(n,r)))),e0=d(2,(e,t)=>ph(e.initial,(n,r,o)=>g(e.step(n,r,o),([i,s,a])=>uh(a)?v([i,s,pd]):D(t(r,s),c=>c?[i,s,a]:[i,s,pd]))));var t0=e=>m(zc([_(),e.initial]),D(t=>new JT(e,t)));var hz=d(2,(e,t)=>Bte(e,t,K$)),Bte=d(3,(e,t,n)=>ph([e.initial,t.initial],(r,o,i)=>m(No(e.step(r,o,i[0]),t.step(r,o,i[1]),(s,a)=>[s,a]),g(([[s,a,c],[u,l,f]])=>OT(c)&&OT(f)?QT(e,t,o,s,a,c.intervals,u,l,f.intervals,n):v([[s,u],[a,l],pd]))))),QT=(e,t,n,r,o,i,s,a,c,u)=>{let l=u(i,c);return J$(l)?v([[r,s],[o,a],oq(l)]):m(i,Z$(c))?g(e.step(wT(i),n,r),([f,h,p])=>uh(p)?v([[f,s],[h,a],pd]):QT(e,t,n,f,h,p.intervals,s,a,c,u)):g(t.step(wT(c),n,s),([f,h,p])=>uh(p)?v([[r,f],[o,h],pd]):QT(e,t,n,r,o,i,f,h,p.intervals,u))};var mz=d(2,(e,t)=>Vte(e,n=>E(()=>t(n)))),Vte=d(2,(e,t)=>ph(e.initial,(n,r,o)=>g(e.step(n,r,o),([i,s,a])=>D(t(s),c=>[i,c,a]))));var Ute=e=>ph(e.initial,(t,n,r)=>m(e.step(t,n,r),D(([o,i,s])=>[o,n,s])));var n0=e=>qte(a0,t=>t<e);var $te=(e,t)=>ph(e,(n,r,o)=>E(()=>[t(o),o,iq(U$(n))]));var gz=d(2,(e,t)=>e0(e,(n,r)=>vx(t(n))));var yz=d(2,(e,t)=>e0(e,(n,r)=>t(n))),qte=d(2,(e,t)=>Hte(e,(n,r)=>t(r)));var Db=Symbol.for("effect/Schedule/ScheduleDefect"),XT=class{error;[Db];constructor(t){this.error=t,this[Db]=Db}},zte=e=>A(e,Db),Ib=e=>Wr(e,t=>ln(new XT(t))),Wte=e=>vt(Ic(e,t=>ap(t)&&zte(t.defect)?C(t.defect):_()),{onNone:()=>e,onSome:t=>Dc(t.error)}),hh=e=>Oo(e,t=>oe(Wte(t))),dz=d(2,(e,t)=>r0(e,t,(n,r)=>ee(n))),vz=d(2,(e,t)=>{if(pz(t))return dz(e,t);let n=t.schedule??Ute(a0),r=t.while?yz(n,s=>{let a=t.while(s);return typeof a=="boolean"?v(a):Ib(a)}):n,o=t.until?gz(r,s=>{let a=t.until(s);return typeof a=="boolean"?v(a):Ib(a)}):r,i=t.times?hz(o,n0(t.times)).pipe(mz(s=>s[0])):o;return hh(dz(e,i))}),r0=d(3,(e,t,n)=>g(t0(t),r=>xt(e,{onFailure:o=>n(o,_()),onSuccess:o=>xz(Xs(e,dh,Gt(r.iterationMeta)),r,(i,s)=>Xs(n(i,s),dh,Gt(r.iterationMeta)),o)}))),xz=(e,t,n,r)=>xt(t.next(r),{onFailure:()=>Rc(t.last),onSuccess:o=>xt(e,{onFailure:i=>n(i,C(o)),onSuccess:i=>xz(e,t,n,i)})}),fh=d(2,(e,t)=>o0(e,t,(n,r)=>ee(n))),bz=d(2,(e,t)=>pz(t)?fh(e,t):hh(fh(e,wb(t)))),wb=e=>{let t=e.schedule??a0,n=e.while?yz(t,o=>{let i=e.while(o);return typeof i=="boolean"?v(i):Ib(i)}):t,r=e.until?gz(n,o=>{let i=e.until(o);return typeof i=="boolean"?v(i):Ib(i)}):n;return e.times!==void 0?hz(r,n0(e.times)):r},o0=d(3,(e,t,n)=>g(t0(t),r=>Ez(Xs(e,dh,Gt(r.iterationMeta)),r,(o,i)=>Xs(n(o,i),dh,Gt(r.iterationMeta))))),Ez=(e,t,n)=>Wr(e,r=>xt(t.next(r),{onFailure:()=>m(t.last,Rc,g(o=>n(r,o))),onSuccess:()=>Ez(e,t,n)})),i0=d(2,(e,t)=>s0(e,void 0,t)),s0=d(3,(e,t,n)=>g(t0(n),r=>_z(Xs(e,dh,Gt(r.iterationMeta)),t,r))),_z=(e,t,n)=>xt(n.next(t),{onFailure:()=>Rc(n.last),onSuccess:()=>g(e,r=>_z(e,r,n))});var a0=$te(0,e=>e+1),Cz=jte(n0(1));var Sz=d(2,(e,t)=>gb(i0(e,t)));var wz=d(2,(e,t)=>H(()=>{let n=0,r;return g(Ks({while:()=>n<t.steps.length&&(r===void 0||vo(r)),body:()=>{let o=t.steps[n],i=Sb(e,o.provide);if(r){let s=!1,a=i;i=H(()=>s?a:(s=!0,r)),i=hh(fh(i,Iz(o,!1)))}else{let s=Iz(o,!0);i=s?hh(fh(i,s)):i}return hr(i)},step:o=>{r=o,n++}}),()=>r)})),Iz=(e,t)=>{if(t){if(e.attempts===1||!(e.schedule||e.attempts))return}else return wb({schedule:e.schedule?e.schedule:e.attempts?void 0:Cz,times:e.attempts,while:e.while});return wb({schedule:e.schedule,while:e.while,times:e.attempts?e.attempts-1:void 0})};var c0=U(Symbol.for("effect/FiberRef/currentCache"),()=>Ke(k$(65536,()=>D(Kn(),e=>({listeners:new sd,handle:e})),()=>DD(60)))),u0=U(Symbol.for("effect/FiberRef/currentCacheEnabled"),()=>Ke(!1)),Mz=(e,t)=>g(ye(t)?t:v(t),n=>Dn(r=>{let o=new Proxy(e,{});return Wt(u0,i=>{if(i){let a=Wt(c0,c=>g(c.getEither(o),u=>{switch(u._tag){case"Left":return u.left.listeners.interrupted?g(c.invalidateWhen(o,l=>l.handle===u.left.handle),()=>a):(u.left.listeners.increment(),et(l=>g(Ge(wi(p1,l(Tt(u.left.handle)))),f=>(u.left.listeners.decrement(),f))));case"Right":return u.right.listeners.increment(),et(l=>g(Ge(wi(bI(n,EI({request:o,result:u.right.handle,listeners:u.right.listeners,ownerId:r,state:{completed:!1}})),l(Tt(u.right.handle)))),()=>(u.right.listeners.decrement(),Tt(u.right.handle))))}}));return a}let s=new sd;return s.increment(),g(Kn(),a=>br(wi(bI(n,EI({request:o,result:a,listeners:s,ownerId:r,state:{completed:!1}})),Tt(a)),E(()=>s.decrement())))})})),Tz=(e,t)=>Wt(u0,n=>n?Wt(c0,r=>g(r.getEither(e),o=>{switch(o._tag){case"Left":return q;case"Right":return qI(o.right.handle,t)}})):q),Oz=d(2,(e,t)=>it(e,u0,t)),Rz=d(2,(e,t)=>it(e,c0,t));var Az=bU;var Yte=Mi,Zte=ye,Jte=hq,Qte=PT,Xte=Ww,ene=xq,tne=Gw,nne=ia,rne=s$,one=a$,ine=mH,sne=gH,ane=lB,cne=dB,une=wH,lne=r$,dne=i$,fne=vH,pne=CH,hne=Jn,mne=TH,gne=aT,yne=cT,vne=eB,xne=nB,bne=tB,Ene=f$,_ne=sT,Cne=c$,Sne=l$,Dne=y$,Ine=en,wne=Wq,Mne=hp,Tne=X,One=ee,Rne=mr,Pz=oe,Ane=Us,l0=ln,kne=Bs,Nne=Vs,Fne=Fv,Pne=Nc,Lne=GH,jne=QH,Hne=v,d0=Zc,Bne=cB,Vne=H,Une=E,$ne=q;var qne=ko,zne=eH;var Wne=Wr,Gne=Oo,Kne=tH,Yne=gp,Zne=V1,Jne=nH,Qne=rH,Xne=oH,ere=iH,tre=sH,nre=Uw,rre=yx,ore=OH,ire=JH,sre=sB,are=bz,cre=wz,ure=o0,lre=Vw;var dre=vB,fre=xB,pre=Jw,hre=_B,mre=uH,gre=U1,yre=M$,vre=Rv,xre=Av,bre=Ti,Ere=$1,_re=Ao,Cre=Oi,Sre=et,Dre=EH,Ire=Fe,wre=Zl,Mre=Xj,Tre=Xe,Ore=zs,Rre=IH,su=D,Are=zH,kre=vp,Nre=Ws,Fre=Ql,Pre=WH,Lre=vx,jre=rh,Hre=t$,Bre=wv,Vre=dd,Ure=br,$re=kv,qre=dn,zre=sb,Wre=ab,Gre=p$,Kre=fT,Yre=iu,Zre=sh,Jre=uT,Qre=m$,Xre=E$,eoe=pq,toe=n$,noe=lH,roe=mx,ooe=Jl,ioe=mq,soe=mb,aoe=$s,coe=Dn,uoe=zi,loe=oh,doe=gq,foe=LT,poe=gb,hoe=u$,moe=yq,goe=vq,yoe=jT,voe=Nv,xoe=z1,boe=yV,Eoe=jI,_oe=r2,Coe=aH,Soe=jo,Doe=v$,Ioe=mj,woe=oz,Moe=iz,Toe=az,Ooe=sz,Roe=cH,Aoe=Yc,koe=gB,Noe=Zw,Foe=Eq,Poe=Cq,Loe=HT,joe=_q,Hoe=lh,Boe=yj,Voe=gj,Uoe=b$,$oe=Yn,qoe=yH,zoe=gr,Woe=Vc,Goe=Sb,Koe=Qs,Yoe=Xs,Zoe=MB,Joe=wB,Qoe=Qw,Xoe=Xw,eie=TB,tie=OB,nie=eM,rie=CB,oie=dH,iie=fH,sie=Sq,aie=pH,cie=hH;var uie=KH,lie=hr,die=Ge,fie=Ro,pie=Ov;var hie=xH,mie=bH,gie=Pp,yie=_H,vie=GI,xie=g2,bie=bB,Eie=EB,_ie=bx,Cie=jl,Sie=SB,Die=DB,Iie=g,wie=qs,Mie=In,Tie=lb,Oie=d$,Rie=bq,Aie=mT,kie=jp,Nie=Gr,Fie=fB,Pie=pB,Lie=Yw,jie=hB,Hie=mB,Bie=$w,Vie=qw,Uie=UH,$ie=vz,qie=oB,zie=r0,Wie=i0,Gie=Sz,Kie=s0,Yie=Ks,Zie=gx,Jie=RH,Qie=it,Xie=Mt,ese=ub,tse=xr,nse=Kc,rse=aB,ose=xx,ise=AH,sse=kH,ase=Lp,cse=yp,use=He,lse=xt,dse=NH,fse=(e,...t)=>Hi(e)(...t),pse=FH,hse=zw,mse=PH,gse=LH,yse=jH,vse=HH,xse=BH,bse=Qj,Ese=XU,_se=VH,Cse=i2,Sse=e$,Dse=Rc,Ise=kI,wse=Oc,Mse=YH,Tse=ZH,Ose=DH,Rse=XH,Ase=tx,Lz=vj,kse=d(2,(e,t)=>Lz(e,cz(t))),Nse=x$,Fse=Eb,Pse=Ll,Lse=Gs,jse=Pv,Hse=D$,Bse=uB,Vse=Kw,Use=h$,$se=lT,qse=s2,zse=IB,Wse=hb,Gse=dq,Kse=FT,Yse=fq,Zse=Vq,Jse=Bq,Qse=Uq,Xse=$q,eae=qq,tae=zq,nae=g$,rae=dT,oae=_$,iae=C$,sae=S$,jz=Wi,aae=d(2,(e,t)=>jz(e,t,(n,r)=>n(r))),cae=wi,uae=Iv,lae=Tv,dae=d(e=>Az(e[0]),Mz),fae=Tz,pae=W1,hae=Oz,mae=Rz,gae=yB,yae=nx,vae=xj,xae=T$,bae=G1,Eae=K1,_ae=kB,Cae=RB,Sae=Ex,Dae=NB,Iae=HB,wae=BB,Mae=FB,Tae=AB,Oae=jB,Rae=nh,Aae=px,Hz=nM,kae=VB,Nae=O$,Fae=hx,Pae=UB,Lae=$B,jae=e=>sc(e)?d0:su(e.value,ar),Hae=d(2,(e,t)=>sc(e)?d0:su(t(e.value),ar)),Bz=e=>{let t=new Map;return new Proxy(e,{get(n,r,o){if(r in n)return Reflect.get(n,r,o);if(t.has(r))return t.get(r);let i=(...f)=>qs(n,h=>typeof h[r]=="function"?(t.set(r,(...p)=>qs(n,y=>y[r](...p))),h[r](...f)):(t.set(r,qs(n,p=>p[r])),h[r])),s=qs(n,f=>f[r]);Object.assign(i,s);let a=i.apply,c=i.bind,u=i.call,l=Object.setPrototypeOf({},Object.getPrototypeOf(s));return l.apply=a,l.bind=c,l.call=u,Object.setPrototypeOf(i,l),t.set(r,i),i}})},Bae=e=>()=>{let t=Error.stackTraceLimit;Error.stackTraceLimit=2;let n=new Error;Error.stackTraceLimit=t;function r(){}return Object.setPrototypeOf(r,Vf),r.key=e,Object.defineProperty(r,"use",{get(){return o=>qs(this,o)}}),Object.defineProperty(r,"stack",{get(){return n.stack}}),Bz(r)},Vae=function(){return function(){let[e,t]=arguments,n="accessors"in t?t.accessors:!1,r=Error.stackTraceLimit;Error.stackTraceLimit=2;let o=new Error;Error.stackTraceLimit=r;let i="unchecked",s=function(f){if(i==="unchecked"){let h=Object.getPrototypeOf(f);if(h===Object.prototype||h===null)i="plain";else{let p=Object.getPrototypeOf(this);Object.setPrototypeOf(p,h),i="patched"}}if(i==="plain")Object.assign(this,f);else if(i==="patched")return Object.setPrototypeOf(f,Object.getPrototypeOf(this)),f};s.prototype._tag=e,Object.defineProperty(s,"make",{get(){return f=>new this(f)}}),Object.defineProperty(s,"use",{get(){return f=>qs(this,f)}}),s.key=e,Object.assign(s,Vf),Object.defineProperty(s,"stack",{get(){return o.stack}});let a="dependencies"in t&&t.dependencies.length>0,c=a?"DefaultWithoutDependencies":"Default",u,l=!1;if("effect"in t?(l=typeof t.effect=="function",Object.defineProperty(s,c,{get(){return l?function(){return WT(s,su(t.effect.apply(null,arguments),f=>new this(f)))}.bind(this):u??=WT(s,su(t.effect,f=>new this(f)))}})):"scoped"in t?(l=typeof t.scoped=="function",Object.defineProperty(s,c,{get(){return l?function(){return GT(s,su(t.scoped.apply(null,arguments),f=>new this(f)))}.bind(this):u??=GT(s,su(t.scoped,f=>new this(f)))}})):"sync"in t?Object.defineProperty(s,c,{get(){return u??=nz(s,()=>new this(t.sync()))}}):Object.defineProperty(s,c,{get(){return u??=tz(s,new this(t.succeed))}}),a){let f;Object.defineProperty(s,"Default",{get(){return l?function(){return KT(this.DefaultWithoutDependencies.apply(null,arguments),t.dependencies)}:f??=KT(this.DefaultWithoutDependencies,t.dependencies)}})}return n===!0?Bz(s):s}},Uae=function(e,...t){let n=Error.stackTraceLimit;Error.stackTraceLimit=2;let r=new Error;if(Error.stackTraceLimit=n,typeof e!="string")return Nz(e.length,function(...s){let a=Error.stackTraceLimit;Error.stackTraceLimit=2;let c=new Error;return Error.stackTraceLimit=a,Fz({self:this,body:e,args:s,pipeables:t,spanName:"<anonymous>",spanOptions:{context:Wl.context(!0)},errorDef:r,errorCall:c})});let o=e,i=t[0];return(s,...a)=>Nz(s.length,{[o](...c){let u=Error.stackTraceLimit;Error.stackTraceLimit=2;let l=new Error;return Error.stackTraceLimit=u,Fz({self:this,body:s,args:c,pipeables:a,spanName:o,spanOptions:i,errorDef:r,errorCall:l})}}[o])};function Nz(e,t){return Object.defineProperty(t,"length",{value:e,configurable:!0})}function Fz(e){let t,n;if(UF(e.body))t=fp(()=>e.body.apply(e.self,e.args));else try{t=e.body.apply(e.self,e.args)}catch(s){n=s,t=l0(s)}if(e.pipeables.length>0)try{for(let s of e.pipeables)t=s(t,...e.args)}catch(s){t=n?Pz(Je(wt(n),wt(s))):l0(s)}let r=!1,o=()=>{if(r!==!1)return r;if(e.errorCall.stack){let s=e.errorDef.stack.trim().split(`
`),a=e.errorCall.stack.trim().split(`
`),c=s.slice(2).join(`
`).trim();c.includes("(")||(c=c.replace(/at (.*)/,"at ($1)"));let u=a.slice(2).join(`
`).trim();return u.includes("(")||(u=u.replace(/at (.*)/,"at ($1)")),r=`${c}
${u}`,r}},i=e.spanOptions&&"captureStackTrace"in e.spanOptions?e.spanOptions:x({captureStackTrace:o},e.spanOptions);return Hz(t,e.spanName,i)}var $ae=Hl,qae=()=>e=>e,zae=()=>e=>e,Wae=()=>e=>e;var Mb=class{getAudioBuffer(t){return ve(this,null,function*(){try{let n=yield fetch(`assets/sounds/${t}`);if(!n.ok)return be.none();let r=yield n.arrayBuffer(),o=yield new AudioContext().decodeAudioData(r);return be.some(o)}catch(n){return be.none()}})}};var Uz=(()=>{class e{constructor(n,r){this.zone=n,this.tempoService=r,this.audioFilesService=new Mb,this.tracks=[],this.index=Qa(0),this.isPlaying=!1,this.trackStepMap=new Map,this.trackSampleBuilderMap=new Map,this.pause=()=>{this.isPlaying=!1,this.clock.stop()},this.uiNextStep=()=>{this.zone.run(()=>{let o=Math.floor(this.context.currentTime/this.tempoService.stepDuration);this.index=Qa(o%this.tempoService.numberOfSteps)})},this.context=new AudioContext,document.addEventListener("click",this.resumeAudioContext.bind(this),{once:!0})}resumeAudioContext(){this.context.state==="suspended"&&this.context.resume().then(()=>{}).catch(n=>{console.error("Failed to resume AudioContext",n)})}play(){this.isPlaying=!0,this.clock=new Vz.default(this.context,{toleranceEarly:.1}),this.clock.start(),this.tracks.forEach(n=>{n.steps.steps.forEach((r,o)=>{r&&this.enableStep(n.fileName,Qa(o))})}),this.clock.callbackAtTime(this.uiNextStep,this.tempoService.getNextStepTime(sl(this.context.currentTime),Qa(0))).repeat(this.tempoService.stepDuration).tolerance({late:100})}setTracks(n){this.isPlaying&&this.pause(),this.tracks=n;let o=n.map(i=>i.fileName).map(i=>this.audioFilesService.getAudioBuffer(i).then(s=>{if(be.isNone(s))return;let a=()=>{let c=this.context.createBufferSource();return c.buffer=be.getOrThrow(s),c.connect(this.context.destination),c};this.trackSampleBuilderMap.set(i,a)}));Promise.all(o).then(()=>{}).catch(()=>{})}playPause(){this.isPlaying?this.pause():this.play()}enableStep(n,r){if(!this.clock)return;let o=this.clock.callbackAtTime(i=>{let s=this.trackSampleBuilderMap.get(n);if(s==null)return;s().start(i.deadline)},this.tempoService.getNextStepTime(sl(this.context.currentTime),r));o.repeat(this.tempoService.barDuration),this.trackStepMap.get(n)||this.trackStepMap.set(n,new Map),this.trackStepMap.get(n).set(r,o)}disableStep(n,r){let o=this.trackStepMap.get(n);o&&o.get(r).clear()}playTrack(n){let r=this.trackSampleBuilderMap.get(n);if(r==null)return;let o=r();o.connect(this.context.destination),o.start()}static{this.\u0275fac=function(r){return new(r||e)(P(Se),P(ry))}}static{this.\u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var $z=(()=>{class e{constructor(n){this.http=n,this.loadAllBeats=r=>ca.all(r.map(o=>this.fromObservable(()=>this.http.get(`/assets/beats/${o}.json`)).pipe(ca.catchAll(()=>ca.succeed(null)))),{discard:!1}),this.fromObservable=r=>ca.tryPromise({try:()=>Cd(r()),catch:o=>o})}loadAllJson(){let n=["hypnotic-techno/tresillo","hypnotic-techno/son-clave"].concat("techno/techno","techno/off-beat-clap").concat("hardcore-techno/gabber").concat("psytrance/psytrance").concat("dub/dub").concat("dancehall/standard").concat("metal/metal","metal/metal-blastbeat","metal/half-time-groove").concat("rock/rock","rock/variation").concat("punk/punk-beat-quarter-note-groove","punk/punk-beat-quarter-note-groove-variation","punk/punk-beat-eight-note-fill");return Ve(ca.runPromise(this.loadAllBeats(n)))}static{this.\u0275fac=function(r){return new(r||e)(P(Sg))}}static{this.\u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var qz=[{path:"",component:DF}];RS.forRoot(qz,{onSameUrlNavigation:"reload"});var zz=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=Ut({type:e,bootstrap:[uF]})}static{this.\u0275inj=At({providers:[{provide:Cg,useClass:IF,multi:!0},{provide:ay,useClass:$z},{provide:ny,useClass:Uz},{provide:ty,useClass:wF},MS(qz,OS()),QC(XC()),fk()],imports:[qC,tF,il]})}}return e})();var Wz={production:!0,httpClientInMemory:!0};Wz.production&&void 0;$C().bootstrapModule(zz).catch(e=>console.error(e));
