"use strict";(self.webpackChunkDrumBeatRepo=self.webpackChunkDrumBeatRepo||[]).push([[792],{928:()=>{function ed(e,t){return Object.is(e,t)}let yt=null,gc=!1,mc=1;const Br=Symbol("SIGNAL");function de(e){const t=yt;return yt=e,t}const Tp={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function fb(e){if(gc)throw new Error("");if(null===yt)return;yt.consumerOnSignalRead(e);const t=yt.nextProducerIndex++;Ap(yt),t<yt.producerNode.length&&yt.producerNode[t]!==e&&td(yt)&&Op(yt.producerNode[t],yt.producerIndexOfThis[t]),yt.producerNode[t]!==e&&(yt.producerNode[t]=e,yt.producerIndexOfThis[t]=td(yt)?jT(e,yt,t):0),yt.producerLastReadVersion[t]=e.version}function FT(e){if((!td(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==mc)){if(!e.producerMustRecompute(e)&&!pb(e))return e.dirty=!1,void(e.lastCleanEpoch=mc);e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=mc}}function PT(e){if(void 0===e.liveConsumerNode)return;const t=gc;gc=!0;try{for(const n of e.liveConsumerNode)n.dirty||VT(n)}finally{gc=t}}function LT(){return!1!==yt?.consumerAllowSignalWrites}function VT(e){e.dirty=!0,PT(e),e.consumerMarkedDirty?.(e)}function Rp(e){return e&&(e.nextProducerIndex=0),de(e)}function hb(e,t){if(de(t),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(td(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)Op(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function pb(e){Ap(e);for(let t=0;t<e.producerNode.length;t++){const n=e.producerNode[t],r=e.producerLastReadVersion[t];if(r!==n.version||(FT(n),r!==n.version))return!0}return!1}function gb(e){if(Ap(e),td(e))for(let t=0;t<e.producerNode.length;t++)Op(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function jT(e,t,n){if(BT(e),0===e.liveConsumerNode.length&&UT(e))for(let r=0;r<e.producerNode.length;r++)e.producerIndexOfThis[r]=jT(e.producerNode[r],e,r);return e.liveConsumerIndexOfThis.push(n),e.liveConsumerNode.push(t)-1}function Op(e,t){if(BT(e),1===e.liveConsumerNode.length&&UT(e))for(let r=0;r<e.producerNode.length;r++)Op(e.producerNode[r],e.producerIndexOfThis[r]);const n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){const r=e.liveConsumerIndexOfThis[t],o=e.liveConsumerNode[t];Ap(o),o.producerIndexOfThis[r]=t}}function td(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Ap(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function BT(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function UT(e){return void 0!==e.producerNode}const mb=Symbol("UNSET"),_b=Symbol("COMPUTING"),kp=Symbol("ERRORED"),EW={...Tp,value:mb,dirty:!0,error:null,equal:ed,producerMustRecompute:e=>e.value===mb||e.value===_b,producerRecomputeValue(e){if(e.value===_b)throw new Error("Detected cycle in computations.");const t=e.value;e.value=_b;const n=Rp(e);let r;try{r=e.computation()}catch(o){r=kp,e.error=o}finally{hb(e,n)}t!==mb&&t!==kp&&r!==kp&&e.equal(t,r)?e.value=t:(e.value=r,e.version++)}};let HT=function CW(){throw new Error};function $T(){HT()}let Np=null;function qT(e,t){LT()||$T(),e.equal(e.value,t)||(e.value=t,function IW(e){e.version++,function vW(){mc++}(),PT(e),Np?.()}(e))}const MW={...Tp,equal:ed,value:void 0};function tt(e){return"function"==typeof e}function yb(e){const n=e(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const vb=yb(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,o)=>`${o+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function xp(e,t){if(e){const n=e.indexOf(t);0<=n&&e.splice(n,1)}}class dn{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(tt(r))try{r()}catch(s){t=s instanceof vb?s.errors:[s]}const{_finalizers:o}=this;if(o){this._finalizers=null;for(const s of o)try{XT(s)}catch(i){t=t??[],i instanceof vb?t=[...t,...i.errors]:t.push(i)}}if(t)throw new vb(t)}}add(t){var n;if(t&&t!==this)if(this.closed)XT(t);else{if(t instanceof dn){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}}_hasParent(t){const{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){const{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&xp(n,t)}remove(t){const{_finalizers:n}=this;n&&xp(n,t),t instanceof dn&&t._removeParent(this)}}dn.EMPTY=(()=>{const e=new dn;return e.closed=!0,e})();const WT=dn.EMPTY;function GT(e){return e instanceof dn||e&&"closed"in e&&tt(e.remove)&&tt(e.add)&&tt(e.unsubscribe)}function XT(e){tt(e)?e():e.unsubscribe()}const Fi={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Fp={setTimeout(e,t,...n){const{delegate:r}=Fp;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){const{delegate:t}=Fp;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function KT(e){Fp.setTimeout(()=>{const{onUnhandledError:t}=Fi;if(!t)throw e;t(e)})}function bb(){}const RW=Eb("C",void 0,void 0);function Eb(e,t,n){return{kind:e,value:t,error:n}}let Pi=null;function Pp(e){if(Fi.useDeprecatedSynchronousErrorHandling){const t=!Pi;if(t&&(Pi={errorThrown:!1,error:null}),e(),t){const{errorThrown:n,error:r}=Pi;if(Pi=null,n)throw r}}else e()}class Cb extends dn{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,GT(t)&&t.add(this)):this.destination=PW}static create(t,n,r){return new nd(t,n,r)}next(t){this.isStopped?wb(function AW(e){return Eb("N",e,void 0)}(t),this):this._next(t)}error(t){this.isStopped?wb(function OW(e){return Eb("E",void 0,e)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?wb(RW,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const NW=Function.prototype.bind;function Sb(e,t){return NW.call(e,t)}class xW{constructor(t){this.partialObserver=t}next(t){const{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){Lp(r)}}error(t){const{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){Lp(r)}else Lp(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){Lp(n)}}}class nd extends Cb{constructor(t,n,r){let o;if(super(),tt(t)||!t)o={next:t??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Fi.useDeprecatedNextContext?(s=Object.create(t),s.unsubscribe=()=>this.unsubscribe(),o={next:t.next&&Sb(t.next,s),error:t.error&&Sb(t.error,s),complete:t.complete&&Sb(t.complete,s)}):o=t}this.destination=new xW(o)}}function Lp(e){Fi.useDeprecatedSynchronousErrorHandling?function kW(e){Fi.useDeprecatedSynchronousErrorHandling&&Pi&&(Pi.errorThrown=!0,Pi.error=e)}(e):KT(e)}function wb(e,t){const{onStoppedNotification:n}=Fi;n&&Fp.setTimeout(()=>n(e,t))}const PW={closed:!0,next:bb,error:function FW(e){throw e},complete:bb},Db="function"==typeof Symbol&&Symbol.observable||"@@observable";function Li(e){return e}function ZT(e){return 0===e.length?Li:1===e.length?e[0]:function(n){return e.reduce((r,o)=>o(r),n)}}let Ge=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,o){const s=function jW(e){return e&&e instanceof Cb||function VW(e){return e&&tt(e.next)&&tt(e.error)&&tt(e.complete)}(e)&&GT(e)}(n)?n:new nd(n,r,o);return Pp(()=>{const{operator:i,source:a}=this;s.add(i?i.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=YT(r))((o,s)=>{const i=new nd({next:a=>{try{n(a)}catch(c){s(c),i.unsubscribe()}},error:s,complete:o});this.subscribe(i)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[Db](){return this}pipe(...n){return ZT(n)(this)}toPromise(n){return new(n=YT(n))((r,o)=>{let s;this.subscribe(i=>s=i,i=>o(i),()=>r(s))})}}return e.create=t=>new e(t),e})();function YT(e){var t;return null!==(t=e??Fi.Promise)&&void 0!==t?t:Promise}const BW=yb(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let xt=(()=>{class e extends Ge{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new QT(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new BW}next(n){Pp(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){Pp(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Pp(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:o,observers:s}=this;return r||o?WT:(this.currentObservers=null,s.push(n),new dn(()=>{this.currentObservers=null,xp(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:o,isStopped:s}=this;r?n.error(o):s&&n.complete()}asObservable(){const n=new Ge;return n.source=this,n}}return e.create=(t,n)=>new QT(t,n),e})();class QT extends xt{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,t)}error(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,t)}complete(){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===n||n.call(t)}_subscribe(t){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(t))&&void 0!==r?r:WT}}class xn extends xt{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){const{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}function JT(e){return tt(e?.lift)}function Ft(e){return t=>{if(JT(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Mt(e,t,n,r,o){return new UW(e,t,n,r,o)}class UW extends Cb{constructor(t,n,r,o,s,i){super(t),this.onFinalize=s,this.shouldUnsubscribe=i,this._next=n?function(a){try{n(a)}catch(c){t.error(c)}}:super._next,this._error=o?function(a){try{o(a)}catch(c){t.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function se(e,t){return Ft((n,r)=>{let o=0;n.subscribe(Mt(r,s=>{r.next(e.call(t,s,o++))}))})}class M extends Error{constructor(t,n){super(function _c(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}(t,n)),this.code=t}}function $o(e){return{toString:e}.toString()}const vc="__parameters__";function Ec(e,t,n){return $o(()=>{const r=function Mb(e){return function(...n){if(e){const r=e(...n);for(const o in r)this[o]=r[o]}}}(t);function o(...s){if(this instanceof o)return r.apply(this,s),this;const i=new o(...s);return a.annotation=i,a;function a(c,l,u){const d=c.hasOwnProperty(vc)?c[vc]:Object.defineProperty(c,vc,{value:[]})[vc];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(i),c}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=e,o.annotationCls=o,o})}const nt=globalThis;function Le(e){for(let t in e)if(e[t]===Le)return t;throw Error("Could not find renamed property on target object.")}function HW(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function Pt(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(Pt).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function Ib(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const $W=Le({__forward_ref__:Le});function Xe(e){return e.__forward_ref__=Xe,e.toString=function(){return Pt(this())},e}function K(e){return jp(e)?e():e}function jp(e){return"function"==typeof e&&e.hasOwnProperty($W)&&e.__forward_ref__===Xe}function V(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function co(e){return{providers:e.providers||[],imports:e.imports||[]}}function Bp(e){return oR(e,Hp)||oR(e,sR)}function oR(e,t){return e.hasOwnProperty(t)?e[t]:null}function Up(e){return e&&(e.hasOwnProperty(Tb)||e.hasOwnProperty(KW))?e[Tb]:null}const Hp=Le({\u0275prov:Le}),Tb=Le({\u0275inj:Le}),sR=Le({ngInjectableDef:Le}),KW=Le({ngInjectorDef:Le});class P{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=V({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Nb(e){return e&&!!e.\u0275providers}const rd=Le({\u0275cmp:Le}),xb=Le({\u0275dir:Le}),Fb=Le({\u0275pipe:Le}),aR=Le({\u0275mod:Le}),qo=Le({\u0275fac:Le}),od=Le({__NG_ELEMENT_ID__:Le}),cR=Le({__NG_ENV_ID__:Le});function re(e){return"string"==typeof e?e:null==e?"":String(e)}function Pb(e,t){throw new M(-201,!1)}var ge=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(ge||{});let Lb;function lR(){return Lb}function Fn(e){const t=Lb;return Lb=e,t}function uR(e,t,n){const r=Bp(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&ge.Optional?null:void 0!==t?t:void Pb()}const sd={},Vb="__NG_DI_FLAG__",$p="ngTempTokenPath",t4=/\n/gm,dR="__source";let Cc;function Ps(e){const t=Cc;return Cc=e,t}function o4(e,t=ge.Default){if(void 0===Cc)throw new M(-203,!1);return null===Cc?uR(e,void 0,t):Cc.get(e,t&ge.Optional?null:void 0,t)}function j(e,t=ge.Default){return(lR()||o4)(K(e),t)}function I(e,t=ge.Default){return j(e,qp(t))}function qp(e){return typeof e>"u"||"number"==typeof e?e:(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function jb(e){const t=[];for(let n=0;n<e.length;n++){const r=K(e[n]);if(Array.isArray(r)){if(0===r.length)throw new M(900,!1);let o,s=ge.Default;for(let i=0;i<r.length;i++){const a=r[i],c=s4(a);"number"==typeof c?-1===c?o=a.token:s|=c:o=a}t.push(j(o,s))}else t.push(j(r))}return t}function id(e,t){return e[Vb]=t,e.prototype[Vb]=t,e}function s4(e){return e[Vb]}const Bb=id(Ec("Optional"),8),Ub=id(Ec("SkipSelf"),4);function Vi(e,t){return e.hasOwnProperty(qo)?e[qo]:null}function Sc(e,t){e.forEach(n=>Array.isArray(n)?Sc(n,t):t(n))}function hR(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function zp(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Gn(e,t,n){let r=wc(e,t);return r>=0?e[1|r]=n:(r=~r,function pR(e,t,n,r){let o=e.length;if(o==t)e.push(n,r);else if(1===o)e.push(r,e[0]),e[0]=n;else{for(o--,e.push(e[o-1],e[o]);o>t;)e[o]=e[o-2],o--;e[t]=n,e[t+1]=r}}(e,r,t,n)),r}function $b(e,t){const n=wc(e,t);if(n>=0)return e[1|n]}function wc(e,t){return function gR(e,t,n){let r=0,o=e.length>>n;for(;o!==r;){const s=r+(o-r>>1),i=e[s<<n];if(t===i)return s<<n;i>t?o=s:r=s+1}return~(o<<n)}(e,t,1)}const lo={},Se=[],uo=new P(""),mR=new P("",-1),qb=new P("");class Gp{get(t,n=sd){if(n===sd){const r=new Error(`NullInjectorError: No provider for ${Pt(t)}!`);throw r.name="NullInjectorError",r}return n}}var Xp=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Xp||{}),Ur=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Ur||{}),Ls=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(Ls||{});function f4(e,t,n){let r=e.length;for(;;){const o=e.indexOf(t,n);if(-1===o)return o;if(0===o||e.charCodeAt(o-1)<=32){const s=t.length;if(o+s===r||e.charCodeAt(o+s)<=32)return o}n=o+1}}function zb(e,t,n){let r=0;for(;r<n.length;){const o=n[r];if("number"==typeof o){if(0!==o)break;r++;const s=n[r++],i=n[r++],a=n[r++];e.setAttribute(t,i,a,s)}else{const s=o,i=n[++r];yR(s)?e.setProperty(t,s,i):e.setAttribute(t,s,i),r++}}return r}function _R(e){return 3===e||4===e||6===e}function yR(e){return 64===e.charCodeAt(0)}function ad(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const o=t[r];"number"==typeof o?n=o:0===n||vR(e,n,o,null,-1===n||2===n?t[++r]:null)}}return e}function vR(e,t,n,r,o){let s=0,i=e.length;if(-1===t)i=-1;else for(;s<e.length;){const a=e[s++];if("number"==typeof a){if(a===t){i=-1;break}if(a>t){i=s-1;break}}}for(;s<e.length;){const a=e[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==o&&(e[s+1]=o));if(r===e[s+1])return void(e[s+2]=o)}s++,null!==r&&s++,null!==o&&s++}-1!==i&&(e.splice(i,0,t),s=i+1),e.splice(s++,0,n),null!==r&&e.splice(s++,0,r),null!==o&&e.splice(s++,0,o)}const bR="ng-template";function h4(e,t,n,r){let o=0;if(r){for(;o<t.length&&"string"==typeof t[o];o+=2)if("class"===t[o]&&-1!==f4(t[o+1].toLowerCase(),n,0))return!0}else if(Wb(e))return!1;if(o=t.indexOf(1,o),o>-1){let s;for(;++o<t.length&&"string"==typeof(s=t[o]);)if(s.toLowerCase()===n)return!0}return!1}function Wb(e){return 4===e.type&&e.value!==bR}function p4(e,t,n){return t===(4!==e.type||n?e.value:bR)}function g4(e,t,n){let r=4;const o=e.attrs,s=null!==o?function y4(e){for(let t=0;t<e.length;t++)if(_R(e[t]))return t;return e.length}(o):0;let i=!1;for(let a=0;a<t.length;a++){const c=t[a];if("number"!=typeof c){if(!i)if(4&r){if(r=2|1&r,""!==c&&!p4(e,c,n)||""===c&&1===t.length){if(Hr(r))return!1;i=!0}}else if(8&r){if(null===o||!h4(e,o,c,n)){if(Hr(r))return!1;i=!0}}else{const l=t[++a],u=m4(c,o,Wb(e),n);if(-1===u){if(Hr(r))return!1;i=!0;continue}if(""!==l){let d;if(d=u>s?"":o[u+1].toLowerCase(),2&r&&l!==d){if(Hr(r))return!1;i=!0}}}}else{if(!i&&!Hr(r)&&!Hr(c))return!1;if(i&&Hr(c))continue;i=!1,r=c|1&r}}return Hr(r)||i}function Hr(e){return!(1&e)}function m4(e,t,n,r){if(null===t)return-1;let o=0;if(r||!n){let s=!1;for(;o<t.length;){const i=t[o];if(i===e)return o;if(3===i||6===i)s=!0;else{if(1===i||2===i){let a=t[++o];for(;"string"==typeof a;)a=t[++o];continue}if(4===i)break;if(0===i){o+=4;continue}}o+=s?1:2}return-1}return function v4(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function ER(e,t,n=!1){for(let r=0;r<t.length;r++)if(g4(e,t[r],n))return!0;return!1}function CR(e,t){return e?":not("+t.trim()+")":t}function E4(e){let t=e[0],n=1,r=2,o="",s=!1;for(;n<e.length;){let i=e[n];if("string"==typeof i)if(2&r){const a=e[++n];o+="["+i+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?o+="."+i:4&r&&(o+=" "+i);else""!==o&&!Hr(i)&&(t+=CR(s,o),o=""),r=i,s=s||!Hr(r);n++}return""!==o&&(t+=CR(s,o)),t}function zo(e){return $o(()=>{const t=wR(e),n={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Xp.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Ur.Emulated,styles:e.styles||Se,_:null,schemas:e.schemas||null,tView:null,id:""};DR(n);const r=e.dependencies;return n.directiveDefs=Kp(r,!1),n.pipeDefs=Kp(r,!0),n.id=function I4(e){let t=0;const n=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const o of n)t=Math.imul(31,t)+o.charCodeAt(0)|0;return t+=2147483648,"c"+t}(n),n})}function w4(e){return pe(e)||Lt(e)}function D4(e){return null!==e}function Wo(e){return $o(()=>({type:e.type,bootstrap:e.bootstrap||Se,declarations:e.declarations||Se,imports:e.imports||Se,exports:e.exports||Se,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function SR(e,t){if(null==e)return lo;const n={};for(const r in e)if(e.hasOwnProperty(r)){const o=e[r];let s,i,a=Ls.None;Array.isArray(o)?(a=o[0],s=o[1],i=o[2]??s):(s=o,i=o),t?(n[s]=a!==Ls.None?[r,a]:r,t[s]=i):n[s]=r}return n}function te(e){return $o(()=>{const t=wR(e);return DR(t),t})}function Ln(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function pe(e){return e[rd]||null}function Lt(e){return e[xb]||null}function rn(e){return e[Fb]||null}function fn(e,t){const n=e[aR]||null;if(!n&&!0===t)throw new Error(`Type ${Pt(e)} does not have '\u0275mod' property.`);return n}function wR(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||lo,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||Se,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:SR(e.inputs,t),outputs:SR(e.outputs),debugInfo:null}}function DR(e){e.features?.forEach(t=>t(e))}function Kp(e,t){if(!e)return null;const n=t?rn:w4;return()=>("function"==typeof e?e():e).map(r=>n(r)).filter(D4)}function Dc(e){return{\u0275providers:e}}function T4(...e){return{\u0275providers:Gb(0,e),\u0275fromNgModule:!0}}function Gb(e,...t){const n=[],r=new Set;let o;const s=i=>{n.push(i)};return Sc(t,i=>{const a=i;Zp(a,s,[],r)&&(o||=[],o.push(a))}),void 0!==o&&MR(o,s),n}function MR(e,t){for(let n=0;n<e.length;n++){const{ngModule:r,providers:o}=e[n];Xb(o,s=>{t(s,r)})}}function Zp(e,t,n,r){if(!(e=K(e)))return!1;let o=null,s=Up(e);const i=!s&&pe(e);if(s||i){if(i&&!i.standalone)return!1;o=e}else{const c=e.ngModule;if(s=Up(c),!s)return!1;o=c}const a=r.has(o);if(i){if(a)return!1;if(r.add(o),i.dependencies){const c="function"==typeof i.dependencies?i.dependencies():i.dependencies;for(const l of c)Zp(l,t,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let l;r.add(o);try{Sc(s.imports,u=>{Zp(u,t,n,r)&&(l||=[],l.push(u))})}finally{}void 0!==l&&MR(l,t)}if(!a){const l=Vi(o)||(()=>new o);t({provide:o,useFactory:l,deps:Se},o),t({provide:qb,useValue:o,multi:!0},o),t({provide:uo,useValue:()=>j(o),multi:!0},o)}const c=s.providers;if(null!=c&&!a){const l=e;Xb(c,u=>{t(u,l)})}}}return o!==e&&void 0!==e.providers}function Xb(e,t){for(let n of e)Nb(n)&&(n=n.\u0275providers),Array.isArray(n)?Xb(n,t):t(n)}const R4=Le({provide:String,useValue:Le});function Kb(e){return null!==e&&"object"==typeof e&&R4 in e}function ji(e){return"function"==typeof e}const Zb=new P(""),Yp={},A4={};let Yb;function Qp(){return void 0===Yb&&(Yb=new Gp),Yb}class Vn{}class Mc extends Vn{get destroyed(){return this._destroyed}constructor(t,n,r,o){super(),this.parent=n,this.source=r,this.scopes=o,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Jb(t,i=>this.processProvider(i)),this.records.set(mR,Ic(void 0,this)),o.has("environment")&&this.records.set(Vn,Ic(void 0,this));const s=this.records.get(Zb);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(qb,Se,ge.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const t=de(null);try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),de(t)}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const n=Ps(this),r=Fn(void 0);try{return t()}finally{Ps(n),Fn(r)}}get(t,n=sd,r=ge.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(cR))return t[cR](this);r=qp(r);const s=Ps(this),i=Fn(void 0);try{if(!(r&ge.SkipSelf)){let c=this.records.get(t);if(void 0===c){const l=function P4(e){return"function"==typeof e||"object"==typeof e&&e instanceof P}(t)&&Bp(t);c=l&&this.injectableDefInScope(l)?Ic(Qb(t),Yp):null,this.records.set(t,c)}if(null!=c)return this.hydrate(t,c)}return(r&ge.Self?Qp():this.parent).get(t,n=r&ge.Optional&&n===sd?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[$p]=a[$p]||[]).unshift(Pt(t)),s)throw a;return function i4(e,t,n,r){const o=e[$p];throw t[dR]&&o.unshift(t[dR]),e.message=function a4(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let o=Pt(t);if(Array.isArray(t))o=t.map(Pt).join(" -> ");else if("object"==typeof t){let s=[];for(let i in t)if(t.hasOwnProperty(i)){let a=t[i];s.push(i+":"+("string"==typeof a?JSON.stringify(a):Pt(a)))}o=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${o}]: ${e.replace(t4,"\n  ")}`}("\n"+e.message,o,n,r),e.ngTokenPath=o,e[$p]=null,e}(a,t,"R3InjectorError",this.source)}throw a}finally{Fn(i),Ps(s)}}resolveInjectorInitializers(){const t=de(null),n=Ps(this),r=Fn(void 0);try{const s=this.get(uo,Se,ge.Self);for(const i of s)i()}finally{Ps(n),Fn(r),de(t)}}toString(){const t=[],n=this.records;for(const r of n.keys())t.push(Pt(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new M(205,!1)}processProvider(t){let n=ji(t=K(t))?t:K(t&&t.provide);const r=function N4(e){return Kb(e)?Ic(void 0,e.useValue):Ic(RR(e),Yp)}(t);if(!ji(t)&&!0===t.multi){let o=this.records.get(n);o||(o=Ic(void 0,Yp,!0),o.factory=()=>jb(o.multi),this.records.set(n,o)),n=t,o.multi.push(t)}this.records.set(n,r)}hydrate(t,n){const r=de(null);try{return n.value===Yp&&(n.value=A4,n.value=n.factory()),"object"==typeof n.value&&n.value&&function F4(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{de(r)}}injectableDefInScope(t){if(!t.providedIn)return!1;const n=K(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){const n=this._onDestroyHooks.indexOf(t);-1!==n&&this._onDestroyHooks.splice(n,1)}}function Qb(e){const t=Bp(e),n=null!==t?t.factory:Vi(e);if(null!==n)return n;if(e instanceof P)throw new M(204,!1);if(e instanceof Function)return function k4(e){if(e.length>0)throw new M(204,!1);const n=function XW(e){return e&&(e[Hp]||e[sR])||null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new M(204,!1)}function RR(e,t,n){let r;if(ji(e)){const o=K(e);return Vi(o)||Qb(o)}if(Kb(e))r=()=>K(e.useValue);else if(function TR(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...jb(e.deps||[]));else if(function IR(e){return!(!e||!e.useExisting)}(e))r=()=>j(K(e.useExisting));else{const o=K(e&&(e.useClass||e.provide));if(!function x4(e){return!!e.deps}(e))return Vi(o)||Qb(o);r=()=>new o(...jb(e.deps))}return r}function Ic(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function Jb(e,t){for(const n of e)Array.isArray(n)?Jb(n,t):n&&Nb(n)?Jb(n.\u0275providers,t):t(n)}function Go(e,t){e instanceof Mc&&e.assertNotDestroyed();const r=Ps(e),o=Fn(void 0);try{return t()}finally{Ps(r),Fn(o)}}const st=0,x=1,q=2,It=3,$r=4,on=5,En=6,Rc=7,Ke=8,Tt=9,fo=10,Z=11,ld=12,kR=13,Oc=14,it=15,Bi=16,Ac=17,Xo=18,kc=19,NR=20,js=21,eg=22,hr=23,U=25,nE=1,ho=7,Nc=9,vt=10;var ng=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(ng||{});function jt(e){return Array.isArray(e)&&"object"==typeof e[nE]}function hn(e){return Array.isArray(e)&&!0===e[nE]}function rE(e){return!!(4&e.flags)}function Ui(e){return e.componentOffset>-1}function rg(e){return!(1&~e.flags)}function qr(e){return!!e.template}function dd(e){return!!(512&e[q])}class X4{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function VR(e,t,n,r){null!==t?t.applyValueToInputSignal(t,r):e[n]=r}function pr(){return jR}function jR(e){return e.type.prototype.ngOnChanges&&(e.setInput=Z4),K4}function K4(){const e=UR(this),t=e?.current;if(t){const n=e.previous;if(n===lo)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function Z4(e,t,n,r,o){const s=this.declaredInputs[r],i=UR(e)||function Y4(e,t){return e[BR]=t}(e,{previous:lo,current:null}),a=i.current||(i.current={}),c=i.previous,l=c[s];a[s]=new X4(l&&l.currentValue,n,c===lo),VR(e,t,o,n)}pr.ngInherit=!0;const BR="__ngSimpleChanges__";function UR(e){return e[BR]||null}const po=function(e,t,n){};function we(e){for(;Array.isArray(e);)e=e[st];return e}function fd(e,t){return we(t[e])}function Cn(e,t){return we(t[e.index])}function hd(e,t){return e.data[t]}function Xn(e,t){const n=t[e];return jt(n)?n:n[st]}function cE(e){return!(128&~e[q])}function gr(e,t){return null==t?null:e[t]}function qR(e){e[Ac]=0}function zR(e){1024&e[q]||(e[q]|=1024,cE(e)&&sg(e))}function og(e){return!!(9216&e[q]||e[hr]?.dirty)}function lE(e){e[fo].changeDetectionScheduler?.notify(8),64&e[q]&&(e[q]|=1024),og(e)&&sg(e)}function sg(e){e[fo].changeDetectionScheduler?.notify(0);let t=Ko(e);for(;null!==t&&!(8192&t[q])&&(t[q]|=8192,cE(t));)t=Ko(t)}function ig(e,t){if(!(256&~e[q]))throw new M(911,!1);null===e[js]&&(e[js]=[]),e[js].push(t)}function Ko(e){const t=e[It];return hn(t)?t[It]:t}const Y={lFrame:oO(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let GR=!1;function XR(){return Y.bindingsEnabled}function w(){return Y.lFrame.lView}function fe(){return Y.lFrame.tView}function Ve(){let e=KR();for(;null!==e&&64===e.type;)e=e.parent;return e}function KR(){return Y.lFrame.currentTNode}function zr(e,t){const n=Y.lFrame;n.currentTNode=e,n.isParent=t}function fE(){return Y.lFrame.isParent}function hE(){Y.lFrame.isParent=!1}function QR(){return GR}function JR(e){GR=e}function Wr(){return Y.lFrame.bindingIndex++}function hG(e,t){const n=Y.lFrame;n.bindingIndex=n.bindingRootIndex=e,pE(t)}function pE(e){Y.lFrame.currentDirectiveIndex=e}function cg(e){Y.lFrame.currentQueryIndex=e}function gG(e){const t=e[x];return 2===t.type?t.declTNode:1===t.type?e[on]:null}function nO(e,t,n){if(n&ge.SkipSelf){let o=t,s=e;for(;!(o=o.parent,null!==o||n&ge.Host||(o=gG(s),null===o||(s=s[Oc],10&o.type))););if(null===o)return!1;t=o,e=s}const r=Y.lFrame=rO();return r.currentTNode=t,r.lView=e,!0}function _E(e){const t=rO(),n=e[x];Y.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function rO(){const e=Y.lFrame,t=null===e?null:e.child;return null===t?oO(e):t}function oO(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function sO(){const e=Y.lFrame;return Y.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const iO=sO;function yE(){const e=sO();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function sn(){return Y.lFrame.selectedIndex}function qi(e){Y.lFrame.selectedIndex=e}function Ze(){const e=Y.lFrame;return hd(e.tView,e.selectedIndex)}let cO=!0;function gd(){return cO}function go(e){cO=e}function lg(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const s=e.data[n].type.prototype,{ngAfterContentInit:i,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=s;i&&(e.contentHooks??=[]).push(-n,i),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),c&&(e.viewHooks??=[]).push(-n,c),l&&((e.viewHooks??=[]).push(n,l),(e.viewCheckHooks??=[]).push(n,l)),null!=u&&(e.destroyHooks??=[]).push(n,u)}}function ug(e,t,n){lO(e,t,3,n)}function dg(e,t,n,r){(3&e[q])===n&&lO(e,t,n,r)}function vE(e,t){let n=e[q];(3&n)===t&&(n&=16383,n+=1,e[q]=n)}function lO(e,t,n,r){const s=r??-1,i=t.length-1;let a=0;for(let c=void 0!==r?65535&e[Ac]:0;c<i;c++)if("number"==typeof t[c+1]){if(a=t[c],null!=r&&a>=r)break}else t[c]<0&&(e[Ac]+=65536),(a<s||-1==s)&&(CG(e,n,t,c),e[Ac]=(4294901760&e[Ac])+c+2),c++}function uO(e,t){po(4,e,t);const n=de(null);try{t.call(e)}finally{de(n),po(5,e,t)}}function CG(e,t,n,r){const o=n[r]<0,s=n[r+1],a=e[o?-n[r]:n[r]];o?e[q]>>14<e[Ac]>>16&&(3&e[q])===t&&(e[q]+=16384,uO(a,s)):uO(a,s)}const xc=-1;class md{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}const EE={};class zi{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=qp(r);const o=this.injector.get(t,EE,r);return o!==EE||n===EE?o:this.parentInjector.get(t,n,r)}}function CE(e){return e!==xc}function _d(e){return 32767&e}function yd(e,t){let n=function IG(e){return e>>16}(e),r=t;for(;n>0;)r=r[Oc],n--;return r}let SE=!0;function fg(e){const t=SE;return SE=e,t}const fO=255,hO=5;let RG=0;const mo={};function hg(e,t){const n=pO(e,t);if(-1!==n)return n;const r=t[x];r.firstCreatePass&&(e.injectorIndex=t.length,wE(r.data,e),wE(t,null),wE(r.blueprint,null));const o=pg(e,t),s=e.injectorIndex;if(CE(o)){const i=_d(o),a=yd(o,t),c=a[x].data;for(let l=0;l<8;l++)t[s+l]=a[i+l]|c[i+l]}return t[s+8]=o,s}function wE(e,t){e.push(0,0,0,0,0,0,0,0,t)}function pO(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function pg(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,o=t;for(;null!==o;){if(r=EO(o),null===r)return xc;if(n++,o=o[Oc],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return xc}function DE(e,t,n){!function OG(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(od)&&(r=n[od]),null==r&&(r=n[od]=RG++);const o=r&fO;t.data[e+(o>>hO)]|=1<<o}(e,t,n)}function gO(e,t,n){if(n&ge.Optional||void 0!==e)return e;Pb()}function mO(e,t,n,r){if(n&ge.Optional&&void 0===r&&(r=null),!(n&(ge.Self|ge.Host))){const o=e[Tt],s=Fn(void 0);try{return o?o.get(t,r,n&ge.Optional):uR(t,r,n&ge.Optional)}finally{Fn(s)}}return gO(r,0,n)}function _O(e,t,n,r=ge.Default,o){if(null!==e){if(2048&t[q]&&!(r&ge.Self)){const i=function FG(e,t,n,r,o){let s=e,i=t;for(;null!==s&&null!==i&&2048&i[q]&&!(512&i[q]);){const a=yO(s,i,n,r|ge.Self,mo);if(a!==mo)return a;let c=s.parent;if(!c){const l=i[NR];if(l){const u=l.get(n,mo,r);if(u!==mo)return u}c=EO(i),i=i[Oc]}s=c}return o}(e,t,n,r,mo);if(i!==mo)return i}const s=yO(e,t,n,r,mo);if(s!==mo)return s}return mO(t,n,r,o)}function yO(e,t,n,r,o){const s=function NG(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(od)?e[od]:void 0;return"number"==typeof t?t>=0?t&fO:xG:t}(n);if("function"==typeof s){if(!nO(t,e,r))return r&ge.Host?gO(o,0,r):mO(t,n,r,o);try{let i;if(i=s(r),null!=i||r&ge.Optional)return i;Pb()}finally{iO()}}else if("number"==typeof s){let i=null,a=pO(e,t),c=xc,l=r&ge.Host?t[it][on]:null;for((-1===a||r&ge.SkipSelf)&&(c=-1===a?pg(e,t):t[a+8],c!==xc&&bO(r,!1)?(i=t[x],a=_d(c),t=yd(c,t)):a=-1);-1!==a;){const u=t[x];if(vO(s,a,u.data)){const d=kG(a,t,n,i,r,l);if(d!==mo)return d}c=t[a+8],c!==xc&&bO(r,t[x].data[a+8]===l)&&vO(s,a,t)?(i=u,a=_d(c),t=yd(c,t)):a=-1}}return o}function kG(e,t,n,r,o,s){const i=t[x],a=i.data[e+8],u=function gg(e,t,n,r,o){const s=e.providerIndexes,i=t.data,a=1048575&s,c=e.directiveStart,u=s>>20,f=o?a+u:e.directiveEnd;for(let h=r?a:a+u;h<f;h++){const g=i[h];if(h<c&&n===g||h>=c&&g.type===n)return h}if(o){const h=i[c];if(h&&qr(h)&&h.type===n)return c}return null}(a,i,n,null==r?Ui(a)&&SE:r!=i&&!!(3&a.type),o&ge.Host&&s===a);return null!==u?Wi(t,i,u,a):mo}function Wi(e,t,n,r){let o=e[n];const s=t.data;if(function SG(e){return e instanceof md}(o)){const i=o;i.resolving&&function QW(e,t){throw t&&t.join(" > "),new M(-200,e)}(function Ie(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():re(e)}(s[n]));const a=fg(i.canSeeViewProviders);i.resolving=!0;const l=i.injectImpl?Fn(i.injectImpl):null;nO(e,r,ge.Default);try{o=e[n]=i.factory(void 0,s,e,r),t.firstCreatePass&&n>=r.directiveStart&&function EG(e,t,n){const{ngOnChanges:r,ngOnInit:o,ngDoCheck:s}=t.type.prototype;if(r){const i=jR(t);(n.preOrderHooks??=[]).push(e,i),(n.preOrderCheckHooks??=[]).push(e,i)}o&&(n.preOrderHooks??=[]).push(0-e,o),s&&((n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s))}(n,s[n],t)}finally{null!==l&&Fn(l),fg(a),i.resolving=!1,iO()}}return o}function vO(e,t,n){return!!(n[t+(e>>hO)]&1<<e)}function bO(e,t){return!(e&ge.Self||e&ge.Host&&t)}class Bt{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return _O(this._tNode,this._lView,t,qp(r),n)}}function xG(){return new Bt(Ve(),w())}function Ut(e){return $o(()=>{const t=e.prototype.constructor,n=t[qo]||ME(t),r=Object.prototype;let o=Object.getPrototypeOf(e.prototype).constructor;for(;o&&o!==r;){const s=o[qo]||ME(o);if(s&&s!==n)return s;o=Object.getPrototypeOf(o)}return s=>new s})}function ME(e){return jp(e)?()=>{const t=ME(K(e));return t&&t()}:Vi(e)}function EO(e){const t=e[x],n=t.type;return 2===n?t.declTNode:1===n?e[on]:null}function MO(e,t=null,n=null,r){const o=IO(e,t,n,r);return o.resolveInjectorInitializers(),o}function IO(e,t=null,n=null,r,o=new Set){const s=[n||Se,T4(e)];return r=r||("object"==typeof e?void 0:Pt(e)),new Mc(s,t||Qp(),r||null,o)}class an{static{this.THROW_IF_NOT_FOUND=sd}static{this.NULL=new Gp}static create(t,n){if(Array.isArray(t))return MO({name:""},n,t,"");{const r=t.name??"";return MO({name:r},t.parent,t.providers,r)}}static{this.\u0275prov=V({token:an,providedIn:"any",factory:()=>j(mR)})}static{this.__NG_ELEMENT_ID__=-1}}new P("").__NG_ELEMENT_ID__=e=>{const t=Ve();if(null===t)throw new M(204,!1);if(2&t.type)return t.value;if(e&ge.Optional)return null;throw new M(204,!1)};function TE(e){return e.ngOriginalError}const RO=!0;let bd=(()=>{class e{static{this.__NG_ELEMENT_ID__=zG}static{this.__NG_ENV_ID__=n=>n}}return e})();class qG extends bd{constructor(t){super(),this._lView=t}onDestroy(t){return ig(this._lView,t),()=>function uE(e,t){if(null===e[js])return;const n=e[js].indexOf(t);-1!==n&&e[js].splice(n,1)}(this._lView,t)}}function zG(){return new qG(w())}let Qo=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new xn(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=V({token:e,providedIn:"root",factory:()=>new e})}}return e})();const at=class WG extends xt{constructor(t=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=t,function OR(){return void 0!==lR()||null!=function r4(){return Cc}()}()&&(this.destroyRef=I(bd,{optional:!0})??void 0,this.pendingTasks=I(Qo,{optional:!0})??void 0)}emit(t){const n=de(null);try{super.next(t)}finally{de(n)}}subscribe(t,n,r){let o=t,s=n||(()=>null),i=r;if(t&&"object"==typeof t){const c=t;o=c.next?.bind(c),s=c.error?.bind(c),i=c.complete?.bind(c)}this.__isAsync&&(s=this.wrapInTimeout(s),o&&(o=this.wrapInTimeout(o)),i&&(i=this.wrapInTimeout(i)));const a=super.subscribe({next:o,error:s,complete:i});return t instanceof dn&&t.add(a),a}wrapInTimeout(t){return n=>{const r=this.pendingTasks?.add();setTimeout(()=>{t(n),void 0!==r&&this.pendingTasks?.remove(r)})}}};function _g(...e){}function OO(e){let t,n;function r(){e=_g;try{void 0!==n&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(n),void 0!==t&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),r()}),"function"==typeof requestAnimationFrame&&(n=requestAnimationFrame(()=>{e(),r()})),()=>r()}function AO(e){return queueMicrotask(()=>e()),()=>{e=_g}}const RE="isAngularZone",yg=RE+"_ID";let GG=0;class Te{constructor(t){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new at(!1),this.onMicrotaskEmpty=new at(!1),this.onStable=new at(!1),this.onError=new at(!1);const{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:o=!1,scheduleInRootZone:s=RO}=t;if(typeof Zone>"u")throw new M(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!o&&r,i.shouldCoalesceRunChangeDetection=o,i.callbackScheduled=!1,i.scheduleInRootZone=s,function ZG(e){const t=()=>{!function KG(e){function t(){OO(()=>{e.callbackScheduled=!1,AE(e),e.isCheckStableRunning=!0,OE(e),e.isCheckStableRunning=!1})}e.isCheckStableRunning||e.callbackScheduled||(e.callbackScheduled=!0,e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),AE(e))}(e)},n=GG++;e._inner=e._inner.fork({name:"angular",properties:{[RE]:!0,[yg]:n,[yg+n]:!0},onInvokeTask:(r,o,s,i,a,c)=>{if(function YG(e){return xO(e,"__ignore_ng_zone__")}(c))return r.invokeTask(s,i,a,c);try{return kO(e),r.invokeTask(s,i,a,c)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===i.type||e.shouldCoalesceRunChangeDetection)&&t(),NO(e)}},onInvoke:(r,o,s,i,a,c,l)=>{try{return kO(e),r.invoke(s,i,a,c,l)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!function QG(e){return xO(e,"__scheduler_tick__")}(c)&&t(),NO(e)}},onHasTask:(r,o,s,i)=>{r.hasTask(s,i),o===s&&("microTask"==i.change?(e._hasPendingMicrotasks=i.microTask,AE(e),OE(e)):"macroTask"==i.change&&(e.hasPendingMacrotasks=i.macroTask))},onHandleError:(r,o,s,i)=>(r.handleError(s,i),e.runOutsideAngular(()=>e.onError.emit(i)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(RE)}static assertInAngularZone(){if(!Te.isInAngularZone())throw new M(909,!1)}static assertNotInAngularZone(){if(Te.isInAngularZone())throw new M(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,o){const s=this._inner,i=s.scheduleEventTask("NgZoneEvent: "+o,t,XG,_g,_g);try{return s.runTask(i,n,r)}finally{s.cancelTask(i)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const XG={};function OE(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function AE(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&!0===e.callbackScheduled)}function kO(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function NO(e){e._nesting--,OE(e)}class kE{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new at,this.onMicrotaskEmpty=new at,this.onStable=new at,this.onError=new at}run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,o){return t.apply(n,r)}}function xO(e,t){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0]?.data?.[t]}class _o{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&TE(t);for(;n&&TE(n);)n=TE(n);return n||null}}const e8=new P("",{providedIn:"root",factory:()=>{const e=I(Te),t=I(_o);return n=>e.runOutsideAngular(()=>t.handleError(n))}});function t8(){return Lc(Ve(),w())}function Lc(e,t){return new Kn(Cn(e,t))}let Kn=(()=>{class e{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=t8}}return e})();function Cd(e){return!(128&~e.flags)}const FE=new Map;let o8=0;function PE(e){FE.delete(e[kc])}const vg="__ngContext__";function pn(e,t){jt(t)?(e[vg]=t[kc],function i8(e){FE.set(e[kc],e)}(t)):e[vg]=t}function WO(e){return XO(e[ld])}function GO(e){return XO(e[$r])}function XO(e){for(;null!==e&&!hn(e);)e=e[$r];return e}let VE;const jc=new P("",{providedIn:"root",factory:()=>S8}),S8="ng",nA=new P(""),yo=new P("",{providedIn:"platform",factory:()=>"unknown"}),jE=new P("",{providedIn:"root",factory:()=>function Bs(){if(void 0!==VE)return VE;if(typeof document<"u")return document;throw new M(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let rA=()=>null;function WE(e,t,n=!1){return rA(e,t,n)}const dA=new P("",{providedIn:"root",factory:()=>!1});class _A{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}const cX=/^>|^->|<!--|-->|--!>|<!-$/g,lX=/(<|>)/g,uX="\u200b$1\u200b";function xA(e){return e.ownerDocument.defaultView}function FA(e){return e.ownerDocument}function Zn(e){return e instanceof Function?e():e}var Hs=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Hs||{});let sC;function iC(e,t){return sC(e,t)}function zc(e,t,n,r,o){if(null!=r){let s,i=!1;hn(r)?s=r:jt(r)&&(i=!0,r=r[st]);const a=we(r);0===e&&null!==n?null==o?qA(t,n,a):Xi(t,n,a,o||null,!0):1===e&&null!==n?Xi(t,n,a,o||null,!0):2===e?function Nd(e,t,n){e.removeChild(null,t,n)}(t,a,i):3===e&&t.destroyNode(a),null!=s&&function TX(e,t,n,r,o){const s=n[ho];s!==we(n)&&zc(t,e,r,s,o);for(let a=vt;a<n.length;a++){const c=n[a];Fg(c[x],c,e,t,r,s)}}(t,e,s,n,o)}}function cC(e,t){return e.createComment(function OA(e){return e.replace(cX,t=>t.replace(lX,uX))}(t))}function kg(e,t,n){return e.createElement(t,n)}function UA(e,t){t[fo].changeDetectionScheduler?.notify(9),Fg(e,t,t[Z],2,null,null)}function HA(e,t){const n=e[Nc],r=t[It];(jt(r)||t[it]!==r[It][it])&&(e[q]|=ng.HasTransplantedViews),null===n?e[Nc]=[t]:n.push(t)}function lC(e,t){const n=e[Nc],r=n.indexOf(t);n.splice(r,1)}function kd(e,t){if(e.length<=vt)return;const n=vt+t,r=e[n];if(r){const o=r[Bi];null!==o&&o!==e&&lC(o,r),t>0&&(e[n-1][$r]=r[$r]);const s=zp(e,vt+t);!function bX(e,t){UA(e,t),t[st]=null,t[on]=null}(r[x],r);const i=s[Xo];null!==i&&i.detachView(s[x]),r[It]=null,r[$r]=null,r[q]&=-129}return r}function Ng(e,t){if(!(256&t[q])){const n=t[Z];n.destroyNode&&Fg(e,t,n,3,null,null),function CX(e){let t=e[ld];if(!t)return uC(e[x],e);for(;t;){let n=null;if(jt(t))n=t[ld];else{const r=t[vt];r&&(n=r)}if(!n){for(;t&&!t[$r]&&t!==e;)jt(t)&&uC(t[x],t),t=t[It];null===t&&(t=e),jt(t)&&uC(t[x],t),n=t&&t[$r]}t=n}}(t)}}function uC(e,t){if(256&t[q])return;const n=de(null);try{t[q]&=-129,t[q]|=256,t[hr]&&gb(t[hr]),function DX(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const o=t[n[r]];if(!(o instanceof md)){const s=n[r+1];if(Array.isArray(s))for(let i=0;i<s.length;i+=2){const a=o[s[i]],c=s[i+1];po(4,a,c);try{c.call(a)}finally{po(5,a,c)}}else{po(4,o,s);try{s.call(o)}finally{po(5,o,s)}}}}}(e,t),function wX(e,t){const n=e.cleanup,r=t[Rc];if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const i=n[s+3];i>=0?r[i]():r[-i].unsubscribe(),s+=2}else n[s].call(r[n[s+1]]);null!==r&&(t[Rc]=null);const o=t[js];if(null!==o){t[js]=null;for(let s=0;s<o.length;s++)(0,o[s])()}}(e,t),1===t[x].type&&t[Z].destroy();const r=t[Bi];if(null!==r&&hn(t[It])){r!==t[It]&&lC(r,t);const o=t[Xo];null!==o&&o.detachView(e)}PE(t)}finally{de(n)}}function dC(e,t,n){return function $A(e,t,n){let r=t;for(;null!==r&&168&r.type;)r=(t=r).parent;if(null===r)return n[st];{const{componentOffset:o}=r;if(o>-1){const{encapsulation:s}=e.data[r.directiveStart+o];if(s===Ur.None||s===Ur.Emulated)return null}return Cn(r,n)}}(e,t.parent,n)}function Xi(e,t,n,r,o){e.insertBefore(t,n,r,o)}function qA(e,t,n){e.appendChild(t,n)}function zA(e,t,n,r,o){null!==r?Xi(e,t,n,r,o):qA(e,t,n)}function fC(e,t){return e.parentNode(t)}let hC,XA=function GA(e,t,n){return 40&e.type?Cn(e,n):null};function xg(e,t,n,r){const o=dC(e,r,t),s=t[Z],a=function WA(e,t,n){return XA(e,t,n)}(r.parent||t[on],r,t);if(null!=o)if(Array.isArray(n))for(let c=0;c<n.length;c++)zA(s,o,n[c],a,!1);else zA(s,o,n,a,!1);void 0!==hC&&hC(s,r,t,n,o)}function Ki(e,t){if(null!==t){const n=t.type;if(3&n)return Cn(t,e);if(4&n)return pC(-1,e[t.index]);if(8&n){const r=t.child;if(null!==r)return Ki(e,r);{const o=e[t.index];return hn(o)?pC(-1,o):we(o)}}if(128&n)return Ki(e,t.next);if(32&n)return iC(t,e)()||we(e[t.index]);{const r=ZA(e,t);return null!==r?Array.isArray(r)?r[0]:Ki(Ko(e[it]),r):Ki(e,t.next)}}return null}function ZA(e,t){return null!==t?e[it][on].projection[t.projection]:null}function pC(e,t){const n=vt+e+1;if(n<t.length){const r=t[n],o=r[x].firstChild;if(null!==o)return Ki(r,o)}return t[ho]}function gC(e,t,n,r,o,s,i){for(;null!=n;){if(128===n.type){n=n.next;continue}const a=r[n.index],c=n.type;if(i&&0===t&&(a&&pn(we(a),r),n.flags|=2),32&~n.flags)if(8&c)gC(e,t,n.child,r,o,s,!1),zc(t,e,o,a,s);else if(32&c){const l=iC(n,r);let u;for(;u=l();)zc(t,e,o,u,s);zc(t,e,o,a,s)}else 16&c?QA(e,t,r,n,o,s):zc(t,e,o,a,s);n=i?n.projectionNext:n.next}}function Fg(e,t,n,r,o,s){gC(n,r,e.firstChild,t,o,s,!1)}function QA(e,t,n,r,o,s){const i=n[it],c=i[on].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++)zc(t,e,o,c[l],s);else{let l=c;const u=i[It];Cd(r)&&(l.flags|=128),gC(e,t,l,u,o,s,!0)}}function JA(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function ek(e,t,n){const{mergedAttrs:r,classes:o,styles:s}=n;null!==r&&zb(e,t,r),null!==o&&JA(e,t,o),null!==s&&function OX(e,t,n){e.setAttribute(t,"style",n)}(e,t,s)}const oe={};function rt(e=1){tk(fe(),w(),sn()+e,!1)}function tk(e,t,n,r){if(!r)if(3&~t[q]){const s=e.preOrderHooks;null!==s&&dg(t,s,0,n)}else{const s=e.preOrderCheckHooks;null!==s&&ug(t,s,n)}qi(n)}function k(e,t=ge.Default){const n=w();return null===n?j(e,t):_O(Ve(),n,K(e),t)}function nk(e,t,n,r,o,s){const i=de(null);try{let a=null;o&Ls.SignalBased&&(a=t[r][Br]),null!==a&&void 0!==a.transformFn&&(s=a.transformFn(s)),o&Ls.HasDecoratorInputTransform&&(s=e.inputTransforms[r].call(t,s)),null!==e.setInput?e.setInput(t,a,s,n,r):VR(t,a,r,s)}finally{de(i)}}function Pg(e,t,n,r,o,s,i,a,c,l,u){const d=t.blueprint.slice();return d[st]=o,d[q]=204|r,(null!==l||e&&2048&e[q])&&(d[q]|=2048),qR(d),d[It]=d[Oc]=e,d[Ke]=n,d[fo]=i||e&&e[fo],d[Z]=a||e&&e[Z],d[Tt]=c||e&&e[Tt]||null,d[on]=s,d[kc]=function s8(){return o8++}(),d[En]=u,d[NR]=l,d[it]=2==t.type?e[it]:d,d}function Zi(e,t,n,r,o){let s=e.data[t];if(null===s)s=function mC(e,t,n,r,o){const s=KR(),i=fE(),c=e.data[t]=function jX(e,t,n,r,o,s){let i=t?t.injectorIndex:-1,a=0;return function $i(){return null!==Y.skipHydrationRootTNode}()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:i,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:o,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,i?s:s&&s.parent,n,t,r,o);return null===e.firstChild&&(e.firstChild=c),null!==s&&(i?null==s.child&&null!==c.parent&&(s.child=c):null===s.next&&(s.next=c,c.prev=s)),c}(e,t,n,r,o),function fG(){return Y.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=r,s.attrs=o;const i=function pd(){const e=Y.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();s.injectorIndex=null===i?-1:i.injectorIndex}return zr(s,!0),s}function xd(e,t,n,r){if(0===n)return-1;const o=t.length;for(let s=0;s<n;s++)t.push(r),e.blueprint.push(r),e.data.push(null);return o}function rk(e,t,n,r,o){const s=sn(),i=2&r;try{qi(-1),i&&t.length>U&&tk(e,t,U,!1),po(i?2:0,o),n(r,o)}finally{qi(s),po(i?3:1,o)}}function _C(e,t,n){if(rE(t)){const r=de(null);try{const s=t.directiveEnd;for(let i=t.directiveStart;i<s;i++){const a=e.data[i];a.contentQueries&&a.contentQueries(1,n[i],i)}}finally{de(r)}}}function yC(e,t,n){XR()&&(function WX(e,t,n,r){const o=n.directiveStart,s=n.directiveEnd;Ui(n)&&function JX(e,t,n){const r=Cn(t,e),o=ok(n);let i=16;n.signals?i=4096:n.onPush&&(i=64);const a=Lg(e,Pg(e,o,null,i,r,t,null,e[fo].rendererFactory.createRenderer(r,n),null,null,null));e[t.index]=a}(t,n,e.data[o+n.componentOffset]),e.firstCreatePass||hg(n,t),pn(r,t);const i=n.initialInputs;for(let a=o;a<s;a++){const c=e.data[a],l=Wi(t,e,a,n);pn(l,t),null!==i&&e5(0,a-o,l,c,0,i),qr(c)&&(Xn(n.index,t)[Ke]=Wi(t,e,a,n))}}(e,t,n,Cn(n,t)),!(64&~n.flags)&&lk(e,t,n))}function vC(e,t,n=Cn){const r=t.localNames;if(null!==r){let o=t.index+1;for(let s=0;s<r.length;s+=2){const i=r[s+1],a=-1===i?n(t,e):e[i];e[o++]=a}}}function ok(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=bC(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function bC(e,t,n,r,o,s,i,a,c,l,u){const d=U+r,f=d+o,h=function NX(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:oe);return n}(d,f),g="function"==typeof l?l():l;return h[x]={type:e,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:t,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof i?i():i,firstChild:null,schemas:c,consts:g,incompleteFirstPass:!1,ssrId:u}}let sk=()=>null;function ik(e,t,n,r,o){for(let s in t){if(!t.hasOwnProperty(s))continue;const i=t[s];if(void 0===i)continue;r??={};let a,c=Ls.None;Array.isArray(i)?(a=i[0],c=i[1]):a=i;let l=s;if(null!==o){if(!o.hasOwnProperty(s))continue;l=o[s]}0===e?ak(r,n,l,a,c):ak(r,n,l,a)}return r}function ak(e,t,n,r,o){let s;e.hasOwnProperty(n)?(s=e[n]).push(t,r):s=e[n]=[t,r],void 0!==o&&s.push(o)}function Bn(e,t,n,r,o,s,i,a){const c=Cn(t,n);let u,l=t.inputs;!a&&null!=l&&(u=l[r])?(DC(e,n,u,r,o),Ui(t)&&function HX(e,t){const n=Xn(t,e);16&n[q]||(n[q]|=64)}(n,t.index)):3&t.type&&(r=function UX(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),o=null!=i?i(o,t.value||"",r):o,s.setProperty(c,r,o))}function EC(e,t,n,r){if(XR()){const o=null===r?null:{"":-1},s=function XX(e,t){const n=e.directiveRegistry;let r=null,o=null;if(n)for(let s=0;s<n.length;s++){const i=n[s];if(ER(t,i.selectors,!1))if(r||(r=[]),qr(i))if(null!==i.findHostDirectiveDefs){const a=[];o=o||new Map,i.findHostDirectiveDefs(i,a,o),r.unshift(...a,i),CC(e,t,a.length)}else r.unshift(i),CC(e,t,0);else o=o||new Map,i.findHostDirectiveDefs?.(i,r,o),r.push(i)}return null===r?null:[r,o]}(e,n);let i,a;null===s?i=a=null:[i,a]=s,null!==i&&ck(e,t,n,i,o,a),o&&function KX(e,t,n){if(t){const r=e.localNames=[];for(let o=0;o<t.length;o+=2){const s=n[t[o+1]];if(null==s)throw new M(-301,!1);r.push(t[o],s)}}}(n,r,o)}n.mergedAttrs=ad(n.mergedAttrs,n.attrs)}function ck(e,t,n,r,o,s){for(let l=0;l<r.length;l++)DE(hg(n,t),e,r[l].type);!function YX(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,r.length);for(let l=0;l<r.length;l++){const u=r[l];u.providersResolver&&u.providersResolver(u)}let i=!1,a=!1,c=xd(e,t,r.length,null);for(let l=0;l<r.length;l++){const u=r[l];n.mergedAttrs=ad(n.mergedAttrs,u.hostAttrs),QX(e,n,t,c,u),ZX(c,u,o),null!==u.contentQueries&&(n.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(n.flags|=64);const d=u.type.prototype;!i&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),i=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}!function BX(e,t,n){const o=t.directiveEnd,s=e.data,i=t.attrs,a=[];let c=null,l=null;for(let u=t.directiveStart;u<o;u++){const d=s[u],f=n?n.get(d):null,g=f?f.outputs:null;c=ik(0,d.inputs,u,c,f?f.inputs:null),l=ik(1,d.outputs,u,l,g);const m=null===c||null===i||Wb(t)?null:t5(c,u,i);a.push(m)}null!==c&&(c.hasOwnProperty("class")&&(t.flags|=8),c.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=c,t.outputs=l}(e,n,s)}function lk(e,t,n){const r=n.directiveStart,o=n.directiveEnd,s=n.index,i=function pG(){return Y.lFrame.currentDirectiveIndex}();try{qi(s);for(let a=r;a<o;a++){const c=e.data[a],l=t[a];pE(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&GX(c,l)}}finally{qi(-1),pE(i)}}function GX(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function CC(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function ZX(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;qr(t)&&(n[""]=e)}}function QX(e,t,n,r,o){e.data[r]=o;const s=o.factory||(o.factory=Vi(o.type)),i=new md(s,qr(o),k);e.blueprint[r]=i,n[r]=i,function qX(e,t,n,r,o){const s=o.hostBindings;if(s){let i=e.hostBindingOpCodes;null===i&&(i=e.hostBindingOpCodes=[]);const a=~t.index;(function zX(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(i)!=a&&i.push(a),i.push(n,r,s)}}(e,t,r,xd(e,n,o.hostVars,oe),o)}function vo(e,t,n,r,o,s){const i=Cn(e,t);!function SC(e,t,n,r,o,s,i){if(null==s)e.removeAttribute(t,o,n);else{const a=null==i?re(s):i(s,r||"",o);e.setAttribute(t,o,a,n)}}(t[Z],i,s,e.value,n,r,o)}function e5(e,t,n,r,o,s){const i=s[t];if(null!==i)for(let a=0;a<i.length;)nk(r,n,i[a++],i[a++],i[a++],i[a++])}function t5(e,t,n){let r=null,o=0;for(;o<n.length;){const s=n[o];if(0!==s)if(5!==s){if("number"==typeof s)break;if(e.hasOwnProperty(s)){null===r&&(r=[]);const i=e[s];for(let a=0;a<i.length;a+=3)if(i[a]===t){r.push(s,i[a+1],i[a+2],n[o+1]);break}}o+=2}else o+=2;else o+=4}return r}function uk(e,t,n,r){return[e,!0,0,t,null,r,null,n,null,null]}function dk(e,t){const n=e.contentQueries;if(null!==n){const r=de(null);try{for(let o=0;o<n.length;o+=2){const i=n[o+1];if(-1!==i){const a=e.data[i];cg(n[o]),a.contentQueries(2,t[i],i)}}}finally{de(r)}}}function Lg(e,t){return e[ld]?e[kR][$r]=t:e[ld]=t,e[kR]=t,t}function wC(e,t,n){cg(0);const r=de(null);try{t(e,n)}finally{de(r)}}function Vg(e,t){const n=e[Tt],r=n?n.get(_o,null):null;r&&r.handleError(t)}function DC(e,t,n,r,o){for(let s=0;s<n.length;){const i=n[s++],a=n[s++],c=n[s++];nk(e.data[i],t[i],r,a,c,o)}}function n5(e,t){const n=Xn(t,e),r=n[x];!function r5(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(r,n);const o=n[st];null!==o&&null===n[En]&&(n[En]=WE(o,n[Tt])),MC(r,n,n[Ke])}function MC(e,t,n){_E(t);try{const r=e.viewQuery;null!==r&&wC(1,r,n);const o=e.template;null!==o&&rk(e,t,o,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[Xo]?.finishViewCreation(e),e.staticContentQueries&&dk(e,t),e.staticViewQueries&&wC(2,e.viewQuery,n);const s=e.components;null!==s&&function o5(e,t){for(let n=0;n<t.length;n++)n5(e,t[n])}(t,s)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[q]&=-5,yE()}}function Yi(e,t){return!t||null===t.firstChild||Cd(e)}function Fd(e,t,n,r,o=!1){for(;null!==n;){if(128===n.type){n=o?n.projectionNext:n.next;continue}const s=t[n.index];null!==s&&r.push(we(s)),hn(s)&&mk(s,r);const i=n.type;if(8&i)Fd(e,t,n.child,r);else if(32&i){const a=iC(n,t);let c;for(;c=a();)r.push(c)}else if(16&i){const a=ZA(t,n);if(Array.isArray(a))r.push(...a);else{const c=Ko(t[it]);Fd(c[x],c,a,r,!0)}}n=o?n.projectionNext:n.next}return r}function mk(e,t){for(let n=vt;n<e.length;n++){const r=e[n],o=r[x].firstChild;null!==o&&Fd(r[x],r,o,t)}e[ho]!==e[st]&&t.push(e[ho])}let _k=[];const c5={...Tp,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{sg(e.lView)},consumerOnSignalRead(){this.lView[hr]=this}},u5={...Tp,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{let t=Ko(e.lView);for(;t&&!yk(t[x]);)t=Ko(t);t&&zR(t)},consumerOnSignalRead(){this.lView[hr]=this}};function yk(e){return 2!==e.type}const d5=100;function jg(e,t=!0,n=0){const r=e[fo],o=r.rendererFactory;o.begin?.();try{!function f5(e,t){const n=QR();try{JR(!0),TC(e,t);let r=0;for(;og(e);){if(r===d5)throw new M(103,!1);r++,TC(e,1)}}finally{JR(n)}}(e,n)}catch(i){throw t&&Vg(e,i),i}finally{o.end?.(),r.inlineEffectRunner?.flush()}}function h5(e,t,n,r){const o=t[q];if(!(256&~o))return;t[fo].inlineEffectRunner?.flush(),_E(t);let a=!0,c=null,l=null;yk(e)?(l=function s5(e){return e[hr]??function i5(e){const t=_k.pop()??Object.create(c5);return t.lView=e,t}(e)}(t),c=Rp(l)):null===function xT(){return yt}()?(a=!1,l=function l5(e){const t=e[hr]??Object.create(u5);return t.lView=e,t}(t),c=Rp(l)):t[hr]&&(gb(t[hr]),t[hr]=null);try{qR(t),function eO(e){return Y.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&rk(e,t,n,2,r);const u=!(3&~o);if(u){const h=e.preOrderCheckHooks;null!==h&&ug(t,h,null)}else{const h=e.preOrderHooks;null!==h&&dg(t,h,0,null),vE(t,0)}if(function p5(e){for(let t=WO(e);null!==t;t=GO(t)){if(!(t[q]&ng.HasTransplantedViews))continue;const n=t[Nc];for(let r=0;r<n.length;r++)zR(n[r])}}(t),bk(t,0),null!==e.contentQueries&&dk(e,t),u){const h=e.contentCheckHooks;null!==h&&ug(t,h)}else{const h=e.contentHooks;null!==h&&dg(t,h,1),vE(t,1)}!function kX(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const o=n[r];if(o<0)qi(~o);else{const s=o,i=n[++r],a=n[++r];hG(i,s),a(2,t[s])}}}finally{qi(-1)}}(e,t);const d=e.components;null!==d&&Ck(t,d,0);const f=e.viewQuery;if(null!==f&&wC(2,f,r),u){const h=e.viewCheckHooks;null!==h&&ug(t,h)}else{const h=e.viewHooks;null!==h&&dg(t,h,2),vE(t,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[eg]){for(const h of t[eg])h();t[eg]=null}t[q]&=-73}catch(u){throw sg(t),u}finally{null!==l&&(hb(l,c),a&&function a5(e){e.lView[hr]!==e&&(e.lView=null,_k.push(e))}(l)),yE()}}function bk(e,t){for(let n=WO(e);null!==n;n=GO(n))for(let r=vt;r<n.length;r++)Ek(n[r],t)}function g5(e,t,n){Ek(Xn(t,e),n)}function Ek(e,t){cE(e)&&TC(e,t)}function TC(e,t){const r=e[x],o=e[q],s=e[hr];let i=!!(0===t&&16&o);if(i||=!!(64&o&&0===t),i||=!!(1024&o),i||=!(!s?.dirty||!pb(s)),i||=!1,s&&(s.dirty=!1),e[q]&=-9217,i)h5(r,e,r.template,e[Ke]);else if(8192&o){bk(e,1);const a=r.components;null!==a&&Ck(e,a,1)}}function Ck(e,t,n){for(let r=0;r<t.length;r++)g5(e,t[r],n)}function Pd(e,t){const n=QR()?64:1088;for(e[fo].changeDetectionScheduler?.notify(t);e;){e[q]|=n;const r=Ko(e);if(dd(e)&&!r)return e;e=r}return null}class Ld{get rootNodes(){const t=this._lView,n=t[x];return Fd(n,t,n.firstChild,[])}constructor(t,n,r=!0){this._lView=t,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ke]}set context(t){this._lView[Ke]=t}get destroyed(){return!(256&~this._lView[q])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[It];if(hn(t)){const n=t[8],r=n?n.indexOf(this):-1;r>-1&&(kd(t,r),zp(n,r))}this._attachedToViewContainer=!1}Ng(this._lView[x],this._lView)}onDestroy(t){ig(this._lView,t)}markForCheck(){Pd(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[q]&=-129}reattach(){lE(this._lView),this._lView[q]|=128}detectChanges(){this._lView[q]|=1024,jg(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new M(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const t=dd(this._lView),n=this._lView[Bi];null!==n&&!t&&lC(n,this._lView),UA(this._lView[x],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new M(902,!1);this._appRef=t;const n=dd(this._lView),r=this._lView[Bi];null!==r&&!n&&HA(r,this._lView),lE(this._lView)}}let ts=(()=>{class e{static{this.__NG_ELEMENT_ID__=y5}}return e})();const m5=ts,_5=class extends m5{constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n)}createEmbeddedViewImpl(t,n,r){const o=function Wc(e,t,n,r){const o=de(null);try{const s=t.tView,c=Pg(e,s,n,4096&e[q]?4096:16,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null);c[Bi]=e[t.index];const u=e[Xo];return null!==u&&(c[Xo]=u.createEmbeddedView(s)),MC(s,c,n),c}finally{de(o)}}(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:n,dehydratedView:r});return new Ld(o)}};function y5(){return function Bg(e,t){return 4&e.type?new _5(t,e,Lc(e,t)):null}(Ve(),w())}class Kc{}const zd=new P("",{providedIn:"root",factory:()=>!1}),qk=new P(""),jC=new P("");class u6{}class zk{}class f6{resolveComponentFactory(t){throw function d6(e){const t=Error(`No component factory found for ${Pt(e)}.`);return t.ngComponent=e,t}(t)}}class Wg{static{this.NULL=new f6}}class BC{}let ns=(()=>{class e{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function h6(){const e=w(),n=Xn(Ve().index,e);return(jt(n)?n:e)[Z]}()}}return e})(),p6=(()=>{class e{static{this.\u0275prov=V({token:e,providedIn:"root",factory:()=>null})}}return e})();function Xg(e,t,n){let r=n?e.styles:null,o=n?e.classes:null,s=0;if(null!==t)for(let i=0;i<t.length;i++){const a=t[i];"number"==typeof a?s=a:1==s?o=Ib(o,a):2==s&&(r=Ib(r,a+": "+t[++i]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=o:e.classesWithoutHost=o}class Kk extends Wg{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=pe(t);return new Xd(n,this.ngModule)}}function Zk(e,t){const n=[];for(const r in e){if(!e.hasOwnProperty(r))continue;const o=e[r];if(void 0===o)continue;const s=Array.isArray(o),i=s?o[0]:o;n.push(t?{propName:i,templateName:r,isSignal:!!((s?o[1]:Ls.None)&Ls.SignalBased)}:{propName:i,templateName:r})}return n}class Xd extends zk{get inputs(){const t=this.componentDef,n=t.inputTransforms,r=Zk(t.inputs,!0);if(null!==n)for(const o of r)n.hasOwnProperty(o.propName)&&(o.transform=n[o.propName]);return r}get outputs(){return Zk(this.componentDef.outputs,!1)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function C4(e){return e.map(E4).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,r,o){const s=de(null);try{let i=(o=o||this.ngModule)instanceof Vn?o:o?.injector;i&&null!==this.componentDef.getStandaloneInjector&&(i=this.componentDef.getStandaloneInjector(i)||i);const a=i?new zi(t,i):t,c=a.get(BC,null);if(null===c)throw new M(407,!1);const d={rendererFactory:c,sanitizer:a.get(p6,null),inlineEffectRunner:null,changeDetectionScheduler:a.get(Kc,null)},f=c.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",g=r?function xX(e,t,n,r){const s=r.get(dA,!1)||n===Ur.ShadowDom,i=e.selectRootElement(t,s);return function FX(e){sk(e)}(i),i}(f,r,this.componentDef.encapsulation,a):kg(f,h,function _6(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(h));let m=512;this.componentDef.signals?m|=4096:this.componentDef.onPush||(m|=16);let y=null;null!==g&&(y=WE(g,a,!0));const C=bC(0,null,null,1,0,null,null,null,null,null,null),v=Pg(null,C,null,m,null,null,d,f,a,null,y);_E(v);let N,L,$=null;try{const ae=this.componentDef;let Pe,et=null;ae.findHostDirectiveDefs?(Pe=[],et=new Map,ae.findHostDirectiveDefs(ae,Pe,et),Pe.push(ae)):Pe=[ae];const S=function v6(e,t){const n=e[x],r=U;return e[r]=t,Zi(n,r,2,"#host",null)}(v,g);$=function b6(e,t,n,r,o,s,i){const a=o[x];!function E6(e,t,n,r){for(const o of e)t.mergedAttrs=ad(t.mergedAttrs,o.hostAttrs);null!==t.mergedAttrs&&(Xg(t,t.mergedAttrs,!0),null!==n&&ek(r,n,t))}(r,e,t,i);let c=null;null!==t&&(c=WE(t,o[Tt]));const l=s.rendererFactory.createRenderer(t,n);let u=16;n.signals?u=4096:n.onPush&&(u=64);const d=Pg(o,ok(n),null,u,o[e.index],e,s,l,null,null,c);return a.firstCreatePass&&CC(a,e,r.length-1),Lg(o,d),o[e.index]=d}(S,g,ae,Pe,v,d,f),L=hd(C,U),g&&function S6(e,t,n,r){if(r)zb(e,n,["ng-version","18.2.13"]);else{const{attrs:o,classes:s}=function S4(e){const t=[],n=[];let r=1,o=2;for(;r<e.length;){let s=e[r];if("string"==typeof s)2===o?""!==s&&t.push(s,e[++r]):8===o&&n.push(s);else{if(!Hr(o))break;o=s}r++}return{attrs:t,classes:n}}(t.selectors[0]);o&&zb(e,n,o),s&&s.length>0&&JA(e,n,s.join(" "))}}(f,ae,g,r),void 0!==n&&function w6(e,t,n){const r=e.projection=[];for(let o=0;o<t.length;o++){const s=n[o];r.push(null!=s?Array.from(s):null)}}(L,this.ngContentSelectors,n),N=function C6(e,t,n,r,o,s){const i=Ve(),a=o[x],c=Cn(i,o);ck(a,o,i,n,null,r);for(let u=0;u<n.length;u++)pn(Wi(o,a,i.directiveStart+u,i),o);lk(a,o,i),c&&pn(c,o);const l=Wi(o,a,i.directiveStart+i.componentOffset,i);if(e[Ke]=o[Ke]=l,null!==s)for(const u of s)u(l,t);return _C(a,i,o),l}($,ae,Pe,et,v,[D6]),MC(C,v,null)}catch(ae){throw null!==$&&PE($),PE(v),ae}finally{yE()}return new y6(this.componentType,N,Lc(L,v),v,L)}finally{de(s)}}}class y6 extends u6{constructor(t,n,r,o,s){super(),this.location=r,this._rootLView=o,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Ld(o,void 0,!1),this.componentType=t}setInput(t,n){const r=this._tNode.inputs;let o;if(null!==r&&(o=r[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;const s=this._rootLView;DC(s[x],s,o,t,n),this.previousInputValues.set(t,n),Pd(Xn(this._tNode.index,s),1)}}get injector(){return new Bt(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function D6(){const e=Ve();lg(w()[x],e)}let Gr=(()=>{class e{static{this.__NG_ELEMENT_ID__=M6}}return e})();function M6(){return function Jk(e,t){let n;const r=t[e.index];return hn(r)?n=r:(n=uk(r,t,null,e),t[e.index]=n,Lg(t,n)),eN(n,t,e,r),new Yk(n,e,t)}(Ve(),w())}const I6=Gr,Yk=class extends I6{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return Lc(this._hostTNode,this._hostLView)}get injector(){return new Bt(this._hostTNode,this._hostLView)}get parentInjector(){const t=pg(this._hostTNode,this._hostLView);if(CE(t)){const n=yd(t,this._hostLView),r=_d(t);return new Bt(n[x].data[r+8],n)}return new Bt(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=Qk(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-vt}createEmbeddedView(t,n,r){let o,s;"number"==typeof r?o=r:null!=r&&(o=r.index,s=r.injector);const a=t.createEmbeddedViewImpl(n||{},s,null);return this.insertImpl(a,o,Yi(this._hostTNode,null)),a}createComponent(t,n,r,o,s){const i=t&&!function cd(e){return"function"==typeof e}(t);let a;if(i)a=n;else{const g=n||{};a=g.index,r=g.injector,o=g.projectableNodes,s=g.environmentInjector||g.ngModuleRef}const c=i?t:new Xd(pe(t)),l=r||this.parentInjector;if(!s&&null==c.ngModule){const m=(i?l:this.parentInjector).get(Vn,null);m&&(s=m)}pe(c.componentType??{});const h=c.create(l,o,null,s);return this.insertImpl(h.hostView,a,Yi(this._hostTNode,null)),h}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,r){const o=t._lView;if(function tG(e){return hn(e[It])}(o)){const a=this.indexOf(t);if(-1!==a)this.detach(a);else{const c=o[It],l=new Yk(c,c[on],c[It]);l.detach(l.indexOf(t))}}const s=this._adjustIndex(n),i=this._lContainer;return function Gc(e,t,n,r=!0){const o=t[x];if(function SX(e,t,n,r){const o=vt+r,s=n.length;r>0&&(n[o-1][$r]=t),r<s-vt?(t[$r]=n[o],hR(n,vt+r,t)):(n.push(t),t[$r]=null),t[It]=n;const i=t[Bi];null!==i&&n!==i&&HA(i,t);const a=t[Xo];null!==a&&a.insertView(e),lE(t),t[q]|=128}(o,t,e,n),r){const i=pC(n,e),a=t[Z],c=fC(a,e[ho]);null!==c&&function EX(e,t,n,r,o,s){r[st]=o,r[on]=t,Fg(e,r,n,1,o,s)}(o,e[on],a,t,c,i)}const s=t[En];null!==s&&null!==s.firstChild&&(s.firstChild=null)}(i,o,s,r),t.attachToViewContainerRef(),hR($C(i),s,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=Qk(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),r=kd(this._lContainer,n);r&&(zp($C(this._lContainer),n),Ng(r[x],r))}detach(t){const n=this._adjustIndex(t,-1),r=kd(this._lContainer,n);return r&&null!=zp($C(this._lContainer),n)?new Ld(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function Qk(e){return e[8]}function $C(e){return e[8]||(e[8]=[])}let eN=function nN(e,t,n,r){if(e[ho])return;let o;o=8&n.type?we(r):function T6(e,t){const n=e[Z],r=n.createComment(""),o=Cn(t,e);return Xi(n,fC(n,o),r,function MX(e,t){return e.nextSibling(t)}(n,o),!1),r}(t,n),e[ho]=o},qC=()=>!1;const uN=new Set;function wn(e){uN.has(e)||(uN.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}function Zc(e,t){wn("NgSignals");const n=function wW(e){const t=Object.create(MW);t.value=e;const n=()=>(fb(t),t.value);return n[Br]=t,n}(e),r=n[Br];return t?.equal&&(r.equal=t.equal),n.set=o=>qT(r,o),n.update=o=>function DW(e,t){LT()||$T(),qT(e,t(e.value))}(r,o),n.asReadonly=fN.bind(n),n}function fN(){const e=this[Br];if(void 0===e.readonlyFn){const t=()=>this();t[Br]=e,e.readonlyFn=t}return e.readonlyFn}function hN(e){return function dN(e){return"function"==typeof e&&void 0!==e[Br]}(e)&&"function"==typeof e.set}function xe(e){let t=function wN(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const r=[e];for(;t;){let o;if(qr(e))o=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new M(903,!1);o=t.\u0275dir}if(o){if(n){r.push(o);const i=e;i.inputs=Zg(e.inputs),i.inputTransforms=Zg(e.inputTransforms),i.declaredInputs=Zg(e.declaredInputs),i.outputs=Zg(e.outputs);const a=o.hostBindings;a&&Y6(e,a);const c=o.viewQuery,l=o.contentQueries;if(c&&K6(e,c),l&&Z6(e,l),G6(e,o),HW(e.outputs,o.outputs),qr(o)&&o.data.animation){const u=e.data;u.animation=(u.animation||[]).concat(o.data.animation)}}const s=o.features;if(s)for(let i=0;i<s.length;i++){const a=s[i];a&&a.ngInherit&&a(e),a===xe&&(n=!1)}}t=Object.getPrototypeOf(t)}!function X6(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){const o=e[r];o.hostVars=t+=o.hostVars,o.hostAttrs=ad(o.hostAttrs,n=ad(n,o.hostAttrs))}}(r)}function G6(e,t){for(const n in t.inputs){if(!t.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;const r=t.inputs[n];if(void 0!==r&&(e.inputs[n]=r,e.declaredInputs[n]=t.declaredInputs[n],null!==t.inputTransforms)){const o=Array.isArray(r)?r[0]:r;if(!t.inputTransforms.hasOwnProperty(o))continue;e.inputTransforms??={},e.inputTransforms[o]=t.inputTransforms[o]}}}function Zg(e){return e===lo?{}:e===Se?[]:e}function K6(e,t){const n=e.viewQuery;e.viewQuery=n?(r,o)=>{t(r,o),n(r,o)}:t}function Z6(e,t){const n=e.contentQueries;e.contentQueries=n?(r,o,s)=>{t(r,o,s),n(r,o,s)}:t}function Y6(e,t){const n=e.hostBindings;e.hostBindings=n?(r,o)=>{t(r,o),n(r,o)}:t}class ea{}class ON{}class eS extends ea{constructor(t,n,r,o=!0){super(),this.ngModuleType=t,this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Kk(this);const s=fn(t);this._bootstrapComponents=Zn(s.bootstrap),this._r3Injector=IO(t,n,[{provide:ea,useValue:this},{provide:Wg,useValue:this.componentFactoryResolver},...r],Pt(t),new Set(["environment"])),o&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class tS extends ON{constructor(t){super(),this.moduleType=t}create(t){return new eS(this.moduleType,t,[])}}class AN extends ea{constructor(t){super(),this.componentFactoryResolver=new Kk(this),this.instance=null;const n=new Mc([...t.providers,{provide:ea,useValue:this},{provide:Wg,useValue:this.componentFactoryResolver}],t.parent||Qp(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function nS(e,t,n=null){return new AN({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}function Yg(e){return!!function rS(e){return null!==e&&("function"==typeof e||"object"==typeof e)}(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function bt(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function Yd(e,t,n,r,o,s,i,a,c,l){const u=n+U,d=t.firstCreatePass?function l7(e,t,n,r,o,s,i,a,c){const l=t.consts,u=Zi(t,e,4,i||null,a||null);EC(t,n,u,gr(l,c)),lg(t,u);const d=u.tView=bC(2,u,r,o,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,l,null);return null!==t.queries&&(t.queries.template(t,u),d.queries=t.queries.embeddedTView(u)),u}(u,t,e,r,o,s,i,a,c):t.data[u];zr(d,!1);const f=kN(t,e,d,n);gd()&&xg(t,e,f,d),pn(f,e);const h=uk(f,e,f,d);return e[u]=h,Lg(e,h),function tN(e,t,n){return qC(e,t,n)}(h,d,e),rg(d)&&yC(t,e,d),null!=c&&vC(e,d,l),d}function _r(e,t,n,r,o,s,i,a){const c=w(),l=fe();return Yd(c,l,e,t,n,r,o,gr(l.consts,s),i,a),_r}let kN=function NN(e,t,n,r){return go(!0),t[Z].createComment("")};var el=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(el||{});let jN=(()=>{class e{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=V({token:e,providedIn:"root",factory:()=>new e})}}return e})();class ef{constructor(){this.ngZone=I(Te),this.scheduler=I(Kc),this.errorHandler=I(_o,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[el.EarlyRead,el.Write,el.MixedReadWrite,el.Read]}execute(){this.executing=!0;for(const t of ef.PHASES)for(const n of this.sequences)if(!n.erroredOrDestroyed&&n.hooks[t])try{n.pipelinedValue=this.ngZone.runOutsideAngular(()=>n.hooks[t](n.pipelinedValue))}catch(r){n.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(const t of this.sequences)t.afterRun(),t.once&&(this.sequences.delete(t),t.destroy());for(const t of this.deferredRegistrations)this.sequences.add(t);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(t){this.executing?this.deferredRegistrations.add(t):(this.sequences.add(t),this.scheduler.notify(6))}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}static{this.\u0275prov=V({token:ef,providedIn:"root",factory:()=>new ef})}}function yr(e,t,n,r){const o=w();return bt(o,Wr(),t)&&(fe(),vo(Ze(),o,e,t,n,r)),yr}function al(e,t,n,r){return bt(e,Wr(),n)?t+re(n)+r:oe}function om(e,t){return e<<17|t<<2}function Ws(e){return e>>17&32767}function gS(e){return 2|e}function ra(e){return(131068&e)>>2}function mS(e,t){return-131069&e|t<<2}function _S(e){return 1|e}function hx(e,t,n,r){const o=e[n+1],s=null===t;let i=r?Ws(o):ra(o),a=!1;for(;0!==i&&(!1===a||s);){const l=e[i+1];Y7(e[i],t)&&(a=!0,e[i+1]=r?_S(l):gS(l)),i=r?Ws(l):ra(l)}a&&(e[n+1]=r?gS(o):_S(o))}function Y7(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&wc(e,t)>=0}function gt(e,t,n){const r=w();return bt(r,Wr(),t)&&Bn(fe(),Ze(),r,e,t,r[Z],n,!1),gt}function yS(e,t,n,r,o){const i=o?"class":"style";DC(e,n,t.inputs[i],i,r)}function Gs(e,t,n){return Xr(e,t,n,!1),Gs}function ml(e,t){return Xr(e,t,null,!0),ml}function Xr(e,t,n,r){const o=w(),s=fe(),i=function Yo(e){const t=Y.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}(2);s.firstUpdatePass&&function Ex(e,t,n,r){const o=e.data;if(null===o[n+1]){const s=o[sn()],i=function bx(e,t){return t>=e.expandoStartIndex}(e,n);(function Dx(e,t){return!!(e.flags&(t?8:16))})(s,r)&&null===t&&!i&&(t=!1),t=function i9(e,t,n,r){const o=function gE(e){const t=Y.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let s=r?t.residualClasses:t.residualStyles;if(null===o)0===(r?t.classBindings:t.styleBindings)&&(n=nf(n=vS(null,e,t,n,r),t.attrs,r),s=null);else{const i=t.directiveStylingLast;if(-1===i||e[i]!==o)if(n=vS(o,e,t,n,r),null===s){let c=function a9(e,t,n){const r=n?t.classBindings:t.styleBindings;if(0!==ra(r))return e[Ws(r)]}(e,t,r);void 0!==c&&Array.isArray(c)&&(c=vS(null,e,t,c[1],r),c=nf(c,t.attrs,r),function c9(e,t,n,r){e[Ws(n?t.classBindings:t.styleBindings)]=r}(e,t,r,c))}else s=function l9(e,t,n){let r;const o=t.directiveEnd;for(let s=1+t.directiveStylingLast;s<o;s++)r=nf(r,e[s].hostAttrs,n);return nf(r,t.attrs,n)}(e,t,r)}return void 0!==s&&(r?t.residualClasses=s:t.residualStyles=s),n}(o,s,t,r),function K7(e,t,n,r,o,s){let i=s?t.classBindings:t.styleBindings,a=Ws(i),c=ra(i);e[r]=n;let u,l=!1;if(Array.isArray(n)?(u=n[1],(null===u||wc(n,u)>0)&&(l=!0)):u=n,o)if(0!==c){const f=Ws(e[a+1]);e[r+1]=om(f,a),0!==f&&(e[f+1]=mS(e[f+1],r)),e[a+1]=function G7(e,t){return 131071&e|t<<17}(e[a+1],r)}else e[r+1]=om(a,0),0!==a&&(e[a+1]=mS(e[a+1],r)),a=r;else e[r+1]=om(c,0),0===a?a=r:e[c+1]=mS(e[c+1],r),c=r;l&&(e[r+1]=gS(e[r+1])),hx(e,u,r,!0),hx(e,u,r,!1),function Z7(e,t,n,r,o){const s=o?e.residualClasses:e.residualStyles;null!=s&&"string"==typeof t&&wc(s,t)>=0&&(n[r+1]=_S(n[r+1]))}(t,u,e,r,s),i=om(a,c),s?t.classBindings=i:t.styleBindings=i}(o,s,t,n,i,r)}}(s,e,i,r),t!==oe&&bt(o,i,t)&&function Sx(e,t,n,r,o,s,i,a){if(!(3&t.type))return;const c=e.data,l=c[a+1],u=function X7(e){return!(1&~e)}(l)?wx(c,t,n,o,ra(l),i):void 0;sm(u)||(sm(s)||function W7(e){return!(2&~e)}(l)&&(s=wx(c,null,n,o,a,i)),function RX(e,t,n,r,o){if(t)o?e.addClass(n,r):e.removeClass(n,r);else{let s=-1===r.indexOf("-")?void 0:Hs.DashCase;null==o?e.removeStyle(n,r,s):("string"==typeof o&&o.endsWith("!important")&&(o=o.slice(0,-10),s|=Hs.Important),e.setStyle(n,r,o,s))}}(r,i,fd(sn(),n),o,s))}(s,s.data[sn()],o,o[Z],e,o[i+1]=function h9(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=Pt(function Us(e){return e instanceof _A?e.changingThisBreaksApplicationSecurity:e}(e)))),e}(t,n),r,i)}function vS(e,t,n,r,o){let s=null;const i=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<i&&(s=t[a],r=nf(r,s.hostAttrs,o),s!==e);)a++;return null!==e&&(n.directiveStylingLast=a),r}function nf(e,t,n){const r=n?1:2;let o=-1;if(null!==t)for(let s=0;s<t.length;s++){const i=t[s];"number"==typeof i?o=i:o===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Gn(e,i,!!n||t[++s]))}return void 0===e?null:e}function wx(e,t,n,r,o,s){const i=null===t;let a;for(;o>0;){const c=e[o],l=Array.isArray(c),u=l?c[1]:c,d=null===u;let f=n[o+1];f===oe&&(f=d?Se:void 0);let h=d?$b(f,r):u===r?f:void 0;if(l&&!sm(h)&&(h=$b(c,r)),sm(h)&&(a=h,i))return a;const g=e[o+1];o=i?Ws(g):ra(g)}if(null!==t){let c=s?t.residualClasses:t.residualStyles;null!=c&&(a=$b(c,r))}return a}function sm(e){return void 0!==e}function Re(e,t,n,r){const o=w(),s=fe(),i=U+e,a=o[Z],c=s.firstCreatePass?function P9(e,t,n,r,o,s){const i=t.consts,c=Zi(t,e,2,r,gr(i,o));return EC(t,n,c,gr(i,s)),null!==c.attrs&&Xg(c,c.attrs,!1),null!==c.mergedAttrs&&Xg(c,c.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,c),c}(i,s,o,t,n,r):s.data[i],l=Rx(s,o,c,a,t,e);o[i]=l;const u=rg(c);return zr(c,!0),ek(a,l,c),!function Qc(e){return!(32&~e.flags)}(c)&&gd()&&xg(s,o,l,c),0===function nG(){return Y.lFrame.elementDepthCount}()&&pn(l,o),function rG(){Y.lFrame.elementDepthCount++}(),u&&(yC(s,o,c),_C(s,c,o)),null!==r&&vC(o,c),Re}function Fe(){let e=Ve();fE()?hE():(e=e.parent,zr(e,!1));const t=e;(function sG(e){return Y.skipHydrationRootTNode===e})(t)&&function lG(){Y.skipHydrationRootTNode=null}(),function oG(){Y.lFrame.elementDepthCount--}();const n=fe();return n.firstCreatePass&&(lg(n,e),rE(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function DG(e){return!!(8&e.flags)}(t)&&yS(n,t,w(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function MG(e){return!!(16&e.flags)}(t)&&yS(n,t,w(),t.stylesWithoutHost,!1),Fe}function Dn(e,t,n,r){return Re(e,t,n,r),Fe(),Dn}let Rx=(e,t,n,r,o,s)=>(go(!0),kg(r,o,function aO(){return Y.lFrame.currentNamespace}()));function Xs(e,t,n){const r=w(),o=fe(),s=e+U,i=o.firstCreatePass?function j9(e,t,n,r,o){const s=t.consts,i=gr(s,r),a=Zi(t,e,8,"ng-container",i);return null!==i&&Xg(a,i,!0),EC(t,n,a,gr(s,o)),null!==t.queries&&t.queries.elementStart(t,a),a}(s,o,r,t,n):o.data[s];zr(i,!0);const a=Ax(o,r,i,e);return r[s]=a,gd()&&xg(o,r,a,i),pn(a,r),rg(i)&&(yC(o,r,i),_C(o,i,r)),null!=n&&vC(r,i),Xs}function Ks(){let e=Ve();const t=fe();return fE()?hE():(e=e.parent,zr(e,!1)),t.firstCreatePass&&(lg(t,e),rE(e)&&t.queries.elementEnd(e)),Ks}let Ax=(e,t,n,r)=>(go(!0),cC(t[Z],""));const am="en-US";let Px=am,eF=(e,t,n)=>{};function mt(e,t,n,r){const o=w(),s=fe(),i=Ve();return DS(s,o,o[Z],i,e,t,r),mt}function DS(e,t,n,r,o,s,i){const a=rg(r),l=e.firstCreatePass&&function hk(e){return e.cleanup??=[]}(e),u=t[Ke],d=function fk(e){return e[Rc]??=[]}(t);let f=!0;if(3&r.type||i){const m=Cn(r,t),y=i?i(m):m,C=d.length,v=i?L=>i(we(L[r.index])):r.index;let N=null;if(!i&&a&&(N=function NK(e,t,n,r){const o=e.cleanup;if(null!=o)for(let s=0;s<o.length-1;s+=2){const i=o[s];if(i===n&&o[s+1]===r){const a=t[Rc],c=o[s+2];return a.length>c?a[c]:null}"string"==typeof i&&(s+=2)}return null}(e,t,o,r.index)),null!==N)(N.__ngLastListenerFn__||N).__ngNextListenerFn__=s,N.__ngLastListenerFn__=s,f=!1;else{s=oF(r,t,u,s),eF(m,o,s);const L=n.listen(y,o,s);d.push(s,L),l&&l.push(o,v,C,C+1)}}else s=oF(r,t,u,s);const h=r.outputs;let g;if(f&&null!==h&&(g=h[o])){const m=g.length;if(m)for(let y=0;y<m;y+=2){const $=t[g[y]][g[y+1]].subscribe(s),ae=d.length;d.push(s,$),l&&l.push(o,r.index,ae,-(ae+1))}}}function rF(e,t,n,r){const o=de(null);try{return po(6,t,n),!1!==n(r)}catch(s){return Vg(e,s),!1}finally{po(7,t,n),de(o)}}function oF(e,t,n,r){return function o(s){if(s===Function)return r;Pd(e.componentOffset>-1?Xn(e.index,t):t,5);let a=rF(t,n,r,s),c=o.__ngNextListenerFn__;for(;c;)a=rF(t,n,c,s)&&a,c=c.__ngNextListenerFn__;return a}}function vr(e=1){return function mG(e){return(Y.lFrame.contextLView=function WR(e,t){for(;e>0;)t=t[Oc],e--;return t}(e,Y.lFrame.contextLView))[Ke]}(e)}function dm(e,t,n,r,o){const s=w(),i=al(s,t,n,r);return i!==oe&&Bn(fe(),Ze(),s,e,i,s[Z],o,!1),dm}function br(e,t=""){const n=w(),r=fe(),o=e+U,s=r.firstCreatePass?Zi(r,o,1,t,null):r.data[o],i=MF(r,n,s,t,e);n[o]=i,gd()&&xg(r,n,i,s),zr(s,!1)}let MF=(e,t,n,r,o)=>(go(!0),function aC(e,t){return e.createText(t)}(t[Z],r));function uf(e){return fm("",e,""),uf}function fm(e,t,n){const r=w(),o=al(r,e,t,n);return o!==oe&&function es(e,t,n){const r=fd(t,e);!function BA(e,t,n){e.setValue(t,n)}(e[Z],r,n)}(r,sn(),o),fm}function IS(e,t,n){hN(t)&&(t=t());const r=w();return bt(r,Wr(),t)&&Bn(fe(),Ze(),r,e,t,r[Z],n,!1),IS}function TS(e,t){const n=w(),r=fe(),o=Ve();return DS(r,n,n[Z],o,e,t),TS}function RS(e,t,n,r,o){if(e=K(e),Array.isArray(e))for(let s=0;s<e.length;s++)RS(e[s],t,n,r,o);else{const s=fe(),i=w(),a=Ve();let c=ji(e)?e:K(e.provide);const l=RR(e),u=1048575&a.providerIndexes,d=a.directiveStart,f=a.providerIndexes>>20;if(ji(e)||!e.multi){const h=new md(l,o,k),g=AS(c,t,o?u:u+f,d);-1===g?(DE(hg(a,i),s,c),OS(s,e,t.length),t.push(c),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),n.push(h),i.push(h)):(n[g]=h,i[g]=h)}else{const h=AS(c,t,u+f,d),g=AS(c,t,u,u+f),y=g>=0&&n[g];if(o&&!y||!o&&!(h>=0&&n[h])){DE(hg(a,i),s,c);const C=function sZ(e,t,n,r,o){const s=new md(e,n,k);return s.multi=[],s.index=t,s.componentProviders=0,VF(s,o,r&&!n),s}(o?oZ:rZ,n.length,o,r,l);!o&&y&&(n[g].providerFactory=C),OS(s,e,t.length,0),t.push(c),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),n.push(C),i.push(C)}else OS(s,e,h>-1?h:g,VF(n[o?g:h],l,!o&&r));!o&&r&&y&&n[g].componentProviders++}}}function OS(e,t,n,r){const o=ji(t),s=function O4(e){return!!e.useClass}(t);if(o||s){const c=(s?K(t.useClass):t).prototype.ngOnDestroy;if(c){const l=e.destroyHooks||(e.destroyHooks=[]);if(!o&&t.multi){const u=l.indexOf(n);-1===u?l.push(n,[r,c]):l[u+1].push(r,c)}else l.push(n,c)}}}function VF(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function AS(e,t,n,r){for(let o=n;o<r;o++)if(t[o]===e)return o;return-1}function rZ(e,t,n,r){return kS(this.multi,[])}function oZ(e,t,n,r){const o=this.multi;let s;if(this.providerFactory){const i=this.providerFactory.componentProviders,a=Wi(n,n[x],this.providerFactory.index,r);s=a.slice(0,i),kS(o,s);for(let c=i;c<a.length;c++)s.push(a[c])}else s=[],kS(o,s);return s}function kS(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function ct(e,t=[]){return n=>{n.providersResolver=(r,o)=>function nZ(e,t,n){const r=fe();if(r.firstCreatePass){const o=qr(e);RS(n,r.data,r.blueprint,o,!0),RS(t,r.data,r.blueprint,o,!1)}}(r,o?o(e):e,t)}}let iZ=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=Gb(0,n.type),o=r.length>0?nS([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,o)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=V({token:e,providedIn:"environment",factory:()=>new e(j(Vn))})}}return e})();function sa(e){wn("NgStandalone"),e.getStandaloneInjector=t=>t.get(iZ).getOrCreateStandaloneInjector(e)}function UF(e,t,n,r,o,s){const i=t+n;return bt(e,i,o)?function bo(e,t,n){return e[t]=n}(e,i+1,s?r.call(s,o):r(o)):function df(e,t){const n=e[t];return n===oe?void 0:n}(e,i+1)}function NS(e,t){const n=fe();let r;const o=e+U;n.firstCreatePass?(r=function bZ(e,t){if(t)for(let n=t.length-1;n>=0;n--){const r=t[n];if(e===r.name)return r}}(t,n.pipeRegistry),n.data[o]=r,r.onDestroy&&(n.destroyHooks??=[]).push(o,r.onDestroy)):r=n.data[o];const s=r.factory||(r.factory=Vi(r.type)),a=Fn(k);try{const c=fg(!1),l=s();return fg(c),function MS(e,t,n,r){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=r}(n,w(),o,l),l}finally{Fn(a)}}function xS(e,t,n){const r=e+U,o=w(),s=function Hi(e,t){return e[t]}(o,r);return function ff(e,t){return e[x].data[t].pure}(o,r)?UF(o,function Sn(){const e=Y.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}(),t,s.transform,n,s):s.transform(n)}let aP=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();const fP=new P(""),_m=new P("");let HS,BS=(()=>{class e{constructor(n,r,o){this._ngZone=n,this.registry=r,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,HS||(function yY(e){HS=e}(o),o.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Te.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb()}});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,o){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(i=>i.timeoutId!==s),n()},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:o})}whenStable(n,r,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,o),this._runCallbacksIfReady()}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,o){return[]}static{this.\u0275fac=function(r){return new(r||e)(j(Te),j(US),j(_m))}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac})}}return e})(),US=(()=>{class e{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return HS?.findTestabilityInTree(this,n,r)??null}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();function mf(e){return!!e&&"function"==typeof e.then}function hP(e){return!!e&&"function"==typeof e.subscribe}const vY=new P("");let pP=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=I(vY,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const o of this.appInits){const s=o();if(mf(s))n.push(s);else if(hP(s)){const i=new Promise((a,c)=>{s.subscribe({complete:a,error:c})});n.push(i)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(o=>{this.reject(o)}),0===n.length&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const ym=new P("");function mP(e,t){return Array.isArray(t)?t.reduce(mP,e):{...e,...t}}let So=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=I(e8),this.afterRenderManager=I(jN),this.zonelessEnabled=I(zd),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new xt,this.afterTick=new xt,this.componentTypes=[],this.components=[],this.isStable=I(Qo).hasPendingTasks.pipe(se(n=>!n)),this._injector=I(Vn)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:o=>{o&&r()}})}).finally(()=>{n.unsubscribe()})}get injector(){return this._injector}bootstrap(n,r){const o=n instanceof zk;if(!this._injector.get(pP).done)throw!o&&function Vs(e){const t=pe(e)||Lt(e)||rn(e);return null!==t&&t.standalone}(n),new M(405,!1);let i;i=o?n:this._injector.get(Wg).resolveComponentFactory(n),this.componentTypes.push(i.componentType);const a=function bY(e){return e.isBoundToModule}(i)?void 0:this._injector.get(ea),l=i.create(an.NULL,[],r||i.selector,a),u=l.location.nativeElement,d=l.injector.get(fP,null);return d?.registerApplication(u),l.onDestroy(()=>{this.detachView(l.hostView),vm(this.components,l),d?.unregisterApplication(u)}),this._loadComponent(l),l}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new M(101,!1);const n=de(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,de(n),this.afterTick.next()}}synchronize(){let n=null;this._injector.destroyed||(n=this._injector.get(BC,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;0!==this.dirtyFlags&&r++<10;)this.synchronizeOnce(n)}synchronizeOnce(n){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,7&this.dirtyFlags){const r=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:o,notifyErrorHandler:s}of this._views)SY(o,s,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),7&this.dirtyFlags)return}else n?.begin?.(),n?.end?.();8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:n})=>og(n))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;vm(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(ym,[]);[...this._bootstrapListeners,...r].forEach(o=>o(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>vm(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new M(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function vm(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}function SY(e,t,n,r){(n||og(e))&&jg(e,t,n&&!r?0:1)}class wY{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let DY=(()=>{class e{compileModuleSync(n){return new tS(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),s=Zn(fn(n).declarations).reduce((i,a)=>{const c=pe(a);return c&&i.push(new Xd(c)),i},[]);return new wY(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),TY=(()=>{class e{constructor(){this.zone=I(Te),this.changeDetectionScheduler=I(Kc),this.applicationRef=I(So)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function $S({ngZoneFactory:e,ignoreChangesOutsideZone:t,scheduleInRootZone:n}){return e??=()=>new Te({...qS(),scheduleInRootZone:n}),[{provide:Te,useFactory:e},{provide:uo,multi:!0,useFactory:()=>{const r=I(TY,{optional:!0});return()=>r.initialize()}},{provide:uo,multi:!0,useFactory:()=>{const r=I(OY);return()=>{r.initialize()}}},!0===t?{provide:qk,useValue:!0}:[],{provide:jC,useValue:n??RO}]}function qS(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}let OY=(()=>{class e{constructor(){this.subscription=new dn,this.initialized=!1,this.zone=I(Te),this.pendingTasks=I(Qo)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Te.assertNotInAngularZone(),queueMicrotask(()=>{null!==n&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Te.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),_f=(()=>{class e{constructor(){this.appRef=I(So),this.taskService=I(Qo),this.ngZone=I(Te),this.zonelessEnabled=I(zd),this.disableScheduling=I(qk,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new dn,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(yg):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(I(jC,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof kE||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&5===n)return;switch(n){case 0:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 7:this.appRef.deferredDirtyFlags|=8;break;default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;const r=this.useMicrotaskScheduler?AO:OO;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>r(()=>this.tick())):this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(yg+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,AO(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const Zs=new P("",{providedIn:"root",factory:()=>I(Zs,ge.Optional|ge.SkipSelf)||function AY(){return typeof $localize<"u"&&$localize.locale||am}()}),Em=new P("");function Cm(e){return!e.moduleRef}let SP=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const o=r?.scheduleInRootZone,i=r?.ignoreChangesOutsideZone,a=[$S({ngZoneFactory:()=>function JG(e="zone.js",t){return"noop"===e?new kE:"zone.js"===e?new Te(t):e}(r?.ngZone,{...qS({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}),scheduleInRootZone:o}),ignoreChangesOutsideZone:i}),{provide:Kc,useExisting:_f}],c=function o7(e,t,n){return new eS(e,t,n,!1)}(n.moduleType,this.injector,a);return function CP(e){const t=Cm(e)?e.r3Injector:e.moduleRef.injector,n=t.get(Te);return n.run(()=>{Cm(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();const r=t.get(_o,null);let o;if(n.runOutsideAngular(()=>{o=n.onError.subscribe({next:s=>{r.handleError(s)}})}),Cm(e)){const s=()=>t.destroy(),i=e.platformInjector.get(Em);i.add(s),t.onDestroy(()=>{o.unsubscribe(),i.delete(s)})}else{const s=()=>e.moduleRef.destroy(),i=e.platformInjector.get(Em);i.add(s),e.moduleRef.onDestroy(()=>{vm(e.allPlatformModules,e.moduleRef),o.unsubscribe(),i.delete(s)})}return function CY(e,t,n){try{const r=n();return mf(r)?r.catch(o=>{throw t.runOutsideAngular(()=>e.handleError(o)),o}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(r,n,()=>{const s=t.get(pP);return s.runInitializers(),s.donePromise.then(()=>{if(function K9(e){"string"==typeof e&&(Px=e.toLowerCase().replace(/_/g,"-"))}(t.get(Zs,am)||am),Cm(e)){const a=t.get(So);return void 0!==e.rootComponent&&a.bootstrap(e.rootComponent),a}return function LY(e,t){const n=e.injector.get(So);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>n.bootstrap(r));else{if(!e.instance.ngDoBootstrap)throw new M(-403,!1);e.instance.ngDoBootstrap(n)}t.push(e)}(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}({moduleRef:c,allPlatformModules:this._modules,platformInjector:this.injector})}bootstrapModule(n,r=[]){const o=mP({},r);return function IY(e,t,n){const r=new tS(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,o))}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new M(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(Em,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(r){return new(r||e)(j(an))}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})(),Ys=null;const wP=new P("");function DP(e,t,n=[]){const r=`Platform: ${t}`,o=new P(r);return(s=[])=>{let i=WS();if(!i||i.injector.get(wP,!1)){const a=[...n,...s,{provide:o,useValue:!0}];e?e(a):function VY(e){if(Ys&&!Ys.get(wP,!1))throw new M(400,!1);(function gP(){!function SW(e){HT=e}(()=>{throw new M(600,!1)})})(),Ys=e;const t=e.get(SP);(function IP(e){e.get(nA,null)?.forEach(n=>n())})(e)}(function MP(e=[],t){return an.create({name:t,providers:[{provide:Zb,useValue:"platform"},{provide:Em,useValue:new Set([()=>Ys=null])},...e]})}(a,r))}return function jY(){const t=WS();if(!t)throw new M(401,!1);return t}()}}function WS(){return Ys?.get(SP)??null}let yf=(()=>{class e{static{this.__NG_ELEMENT_ID__=UY}}return e})();function UY(e){return function HY(e,t,n){if(Ui(e)&&!n){const r=Xn(e.index,t);return new Ld(r,r)}return 175&e.type?new Ld(t[it],t):null}(Ve(),w(),!(16&~e))}class kP{constructor(){}supports(t){return Yg(t)}create(t){return new GY(t)}}const WY=(e,t)=>t;class GY{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||WY}forEachItem(t){let n;for(n=this._itHead;null!==n;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,o=0,s=null;for(;n||r;){const i=!r||n&&n.currentIndex<xP(r,o,s)?n:r,a=xP(i,o,s),c=i.currentIndex;if(i===r)o--,r=r._nextRemoved;else if(n=n._next,null==i.previousIndex)o++;else{s||(s=[]);const l=a-o,u=c-o;if(l!=u){for(let f=0;f<l;f++){const h=f<s.length?s[f]:s[f]=0,g=h+f;u<=g&&g<l&&(s[f]=h+1)}s[i.previousIndex]=u-l}}a!==c&&t(i,a,c)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)t(n)}diff(t){if(null==t&&(t=[]),!Yg(t))throw new M(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let o,s,i,n=this._itHead,r=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)s=t[a],i=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,i)?(r&&(n=this._verifyReinsertion(n,s,i,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,i,a),r=!0),n=n._next}else o=0,function a7(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Symbol.iterator]();let r;for(;!(r=n.next()).done;)t(r.value)}}(t,a=>{i=this._trackByFn(o,a),null!==n&&Object.is(n.trackById,i)?(r&&(n=this._verifyReinsertion(n,a,i,o)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,i,o),r=!0),n=n._next,o++}),this.length=o;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,o){let s;return null===t?s=this._itTail:(s=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,s,o)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(r,o))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,s,o)):t=this._addAfter(new XY(n,r),s,o),t}_verifyReinsertion(t,n,r,o){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?t=this._reinsertAfter(s,t._prev,o):t.currentIndex!=o&&(t.currentIndex=o,this._addToMoves(t,o)),t}_truncate(t){for(;null!==t;){const n=t._next;this._addToRemovals(this._unlink(t)),t=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const o=t._prevRemoved,s=t._nextRemoved;return null===o?this._removalsHead=s:o._nextRemoved=s,null===s?this._removalsTail=o:s._prevRemoved=o,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){const o=null===n?this._itHead:n._next;return t._next=o,t._prev=n,null===o?this._itTail=t:o._prev=t,null===n?this._itHead=t:n._next=t,null===this._linkedRecords&&(this._linkedRecords=new NP),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const n=t._prev,r=t._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new NP),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class XY{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class KY{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){const n=t._prevDup,r=t._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class NP{constructor(){this.map=new Map}put(t){const n=t.trackById;let r=this.map.get(n);r||(r=new KY,this.map.set(n,r)),r.add(t)}get(t,n){const o=this.map.get(t);return o?o.get(t,n):null}remove(t){const n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function xP(e,t,n){const r=e.previousIndex;if(null===r)return r;let o=0;return n&&r<n.length&&(o=n[r]),r+t+o}function PP(){return new YS([new kP])}let YS=(()=>{class e{static{this.\u0275prov=V({token:e,providedIn:"root",factory:PP})}constructor(n){this.factories=n}static create(n,r){if(null!=r){const o=r.factories.slice();n=n.concat(o)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||PP()),deps:[[e,new Ub,new Bb]]}}find(n){const r=this.factories.find(o=>o.supports(n));if(null!=r)return r;throw new M(901,!1)}}return e})();const eQ=DP(null,"core",[]);let tQ=(()=>{class e{constructor(n){}static{this.\u0275fac=function(r){return new(r||e)(j(So))}}static{this.\u0275mod=Wo({type:e})}static{this.\u0275inj=co({})}}return e})();function Cf(e,t){wn("NgSignals");const n=function bW(e){const t=Object.create(EW);t.computation=e;const n=()=>{if(FT(t),fb(t),t.value===kp)throw t.error;return t.value};return n[Br]=t,n}(e);return t?.equal&&(n[Br].equal=t.equal),n}function wo(e){const t=de(null);try{return e()}finally{de(t)}}let i1=null;function Qs(){return i1}class jQ{}const Er=new P("");let a1=(()=>{class e{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=V({token:e,factory:()=>I(BQ),providedIn:"platform"})}}return e})(),BQ=(()=>{class e extends a1{constructor(){super(),this._doc=I(Er),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Qs().getBaseHref(this._doc)}onPopState(n){const r=Qs().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=Qs().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,o){this._history.pushState(n,r,o)}replaceState(n,r,o){this._history.replaceState(n,r,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=V({token:e,factory:()=>new e,providedIn:"platform"})}}return e})();function c1(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function l1(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function aa(e){return e&&"?"!==e[0]?"?"+e:e}let km=(()=>{class e{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=V({token:e,factory:()=>I(HQ),providedIn:"root"})}}return e})();const UQ=new P("");let HQ=(()=>{class e extends km{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??I(Er).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return c1(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+aa(this._platformLocation.search),o=this._platformLocation.hash;return o&&n?`${r}${o}`:r}pushState(n,r,o,s){const i=this.prepareExternalUrl(o+aa(s));this._platformLocation.pushState(n,r,i)}replaceState(n,r,o,s){const i=this.prepareExternalUrl(o+aa(s));this._platformLocation.replaceState(n,r,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||e)(j(a1),j(UQ,8))}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Sf=(()=>{class e{constructor(n){this._subject=new at,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function zQ(e){if(new RegExp("^(https?:)?//").test(e)){const[,n]=e.split(/\/\/[^\/]+/);return n}return e}(l1(u1(r))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+aa(r))}normalize(n){return e.stripTrailingSlash(function qQ(e,t){if(!e||!t.startsWith(e))return t;const n=t.substring(e.length);return""===n||["/",";","?","#"].includes(n[0])?n:t}(this._basePath,u1(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",o=null){this._locationStrategy.pushState(o,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+aa(r)),o)}replaceState(n,r="",o=null){this._locationStrategy.replaceState(o,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+aa(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(o=>o(n,r))}subscribe(n,r,o){return this._subject.subscribe({next:n,error:r,complete:o})}static{this.normalizeQueryParams=aa}static{this.joinWithSlash=c1}static{this.stripTrailingSlash=l1}static{this.\u0275fac=function(r){return new(r||e)(j(km))}}static{this.\u0275prov=V({token:e,factory:()=>function $Q(){return new Sf(j(km))}(),providedIn:"root"})}}return e})();function u1(e){return e.replace(/\/index.html$/,"")}function v1(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const r=n.indexOf("="),[o,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(o.trim()===t)return decodeURIComponent(s)}return null}class AJ{constructor(t,n,r,o){this.$implicit=t,this.ngForOf=n,this.index=r,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let uw=(()=>{class e{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,o){this._viewContainer=n,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((o,s,i)=>{if(null==o.previousIndex)r.createEmbeddedView(this._template,new AJ(o.item,this._ngForOf,-1,-1),null===i?void 0:i);else if(null==i)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,i),C1(a,o)}});for(let o=0,s=r.length;o<s;o++){const a=r.get(o).context;a.index=o,a.count=s,a.ngForOf=this._ngForOf}n.forEachIdentityChange(o=>{C1(r.get(o.currentIndex),o)})}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||e)(k(Gr),k(ts),k(YS))}}static{this.\u0275dir=te({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return e})();function C1(e,t){e.context.$implicit=t.item}let qm=(()=>{class e{constructor(n,r){this._viewContainer=n,this._context=new kJ,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){S1("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){S1("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||e)(k(Gr),k(ts))}}static{this.\u0275dir=te({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return e})();class kJ{constructor(){this.$implicit=null,this.ngIf=null}}function S1(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${Pt(t)}'.`)}class FJ{createSubscription(t,n){return wo(()=>t.subscribe({next:n,error:r=>{throw r}}))}dispose(t){wo(()=>t.unsubscribe())}}class PJ{createSubscription(t,n){return t.then(n,r=>{throw r})}dispose(t){}}const LJ=new PJ,VJ=new FJ;let hw=(()=>{class e{constructor(n){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){if(!this._obj){if(n)try{this.markForCheckOnValueUpdate=!1,this._subscribe(n)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,r=>this._updateLatestValue(n,r))}_selectStrategy(n){if(mf(n))return LJ;if(hP(n))return VJ;throw function Yr(e,t){return new M(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,r){n===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static{this.\u0275fac=function(r){return new(r||e)(k(yf,16))}}static{this.\u0275pipe=Ln({name:"async",type:e,pure:!1,standalone:!0})}}return e})(),M1=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=Wo({type:e})}static{this.\u0275inj=co({})}}return e})();const I1="browser";function T1(e){return e===I1}function R1(e){return"server"===e}class zm{}class Aee extends jQ{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class vw extends Aee{static makeCurrent(){!function VQ(e){i1??=e}(new vw)}onAndCancel(t,n,r){return t.addEventListener(n,r),()=>{t.removeEventListener(n,r)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.remove()}createElement(t,n){return(n=n||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return"window"===n?window:"document"===n?t:"body"===n?t.body:null}getBaseHref(t){const n=function kee(){return If=If||document.querySelector("base"),If?If.getAttribute("href"):null}();return null==n?null:function Nee(e){return new URL(e,document.baseURI).pathname}(n)}resetBaseElement(){If=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return v1(document.cookie,t)}}let If=null,Fee=(()=>{class e{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac})}}return e})();const bw=new P("");let B1=(()=>{class e{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(o=>{o.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,o){return this._findPluginFor(r).addEventListener(n,r,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(s=>s.supports(n)),!r)throw new M(5101,!1);return this._eventNameToPlugin.set(n,r),r}static{this.\u0275fac=function(r){return new(r||e)(j(bw),j(Te))}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac})}}return e})();class U1{constructor(t){this._doc=t}}const Ew="ng-app-id";let H1=(()=>{class e{constructor(n,r,o,s={}){this.doc=n,this.appId=r,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=R1(s),this.resetHostNodes()}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.elements?.forEach(o=>o.remove()),r.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${Ew}="${this.appId}"]`);if(n?.length){const r=new Map;return n.forEach(o=>{null!=o.textContent&&r.set(o.textContent,o)}),r}return null}changeUsageCount(n,r){const o=this.styleRef;if(o.has(n)){const s=o.get(n);return s.usage+=r,s.usage}return o.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){const o=this.styleNodesInDOM,s=o?.get(r);if(s?.parentNode===n)return o.delete(r),s.removeAttribute(Ew),s;{const i=this.doc.createElement("style");return this.nonce&&i.setAttribute("nonce",this.nonce),i.textContent=r,this.platformIsServer&&i.setAttribute(Ew,this.appId),n.appendChild(i),i}}addStyleToHost(n,r){const o=this.getStyleElement(n,r),s=this.styleRef,i=s.get(r)?.elements;i?i.push(o):s.set(r,{elements:[o],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||e)(j(Er),j(jc),j(jE,8),j(yo))}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac})}}return e})();const Cw={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Sw=/%COMP%/g,jee=new P("",{providedIn:"root",factory:()=>!0});function q1(e,t){return t.map(n=>n.replace(Sw,e))}let z1=(()=>{class e{constructor(n,r,o,s,i,a,c,l=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=i,this.platformId=a,this.ngZone=c,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=R1(a),this.defaultRenderer=new ww(n,i,c,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Ur.ShadowDom&&(r={...r,encapsulation:Ur.Emulated});const o=this.getOrCreateRenderer(n,r);return o instanceof G1?o.applyToHost(n):o instanceof Dw&&o.applyStyles(),o}getOrCreateRenderer(n,r){const o=this.rendererByCompId;let s=o.get(r.id);if(!s){const i=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case Ur.Emulated:s=new G1(c,l,r,this.appId,u,i,a,d);break;case Ur.ShadowDom:return new $ee(c,l,n,r,i,a,this.nonce,d);default:s=new Dw(c,l,r,u,i,a,d)}o.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||e)(j(B1),j(H1),j(jc),j(jee),j(Er),j(yo),j(Te),j(jE))}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac})}}return e})();class ww{constructor(t,n,r,o){this.eventManager=t,this.doc=n,this.ngZone=r,this.platformIsServer=o,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t,n){return n?this.doc.createElementNS(Cw[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(W1(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(W1(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){n.remove()}selectRootElement(t,n){let r="string"==typeof t?this.doc.querySelector(t):t;if(!r)throw new M(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,o){if(o){n=o+":"+n;const s=Cw[o];s?t.setAttributeNS(s,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){const o=Cw[r];o?t.removeAttributeNS(o,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,o){o&(Hs.DashCase|Hs.Important)?t.style.setProperty(n,r,o&Hs.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&Hs.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){null!=t&&(t[n]=r)}setValue(t,n){t.nodeValue=n}listen(t,n,r){if("string"==typeof t&&!(t=Qs().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${n}`);return this.eventManager.addEventListener(t,n,this.decoratePreventDefault(r))}decoratePreventDefault(t){return n=>{if("__ngUnwrap__"===n)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(n)):t(n))&&n.preventDefault()}}}function W1(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class $ee extends ww{constructor(t,n,r,o,s,i,a,c){super(t,s,i,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=q1(o.id,o.styles);for(const u of l){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(null,n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Dw extends ww{constructor(t,n,r,o,s,i,a,c){super(t,s,i,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=o,this.styles=c?q1(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class G1 extends Dw{constructor(t,n,r,o,s,i,a,c){const l=o+"-"+r.id;super(t,n,r,s,i,a,c,l),this.contentAttr=function Bee(e){return"_ngcontent-%COMP%".replace(Sw,e)}(l),this.hostAttr=function Uee(e){return"_nghost-%COMP%".replace(Sw,e)}(l)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){const r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}}let qee=(()=>{class e extends U1{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,o){return n.addEventListener(r,o,!1),()=>this.removeEventListener(n,r,o)}removeEventListener(n,r,o){return n.removeEventListener(r,o)}static{this.\u0275fac=function(r){return new(r||e)(j(Er))}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac})}}return e})();const X1=["alt","control","meta","shift"],zee={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Wee={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let Gee=(()=>{class e extends U1{constructor(n){super(n)}supports(n){return null!=e.parseEventName(n)}addEventListener(n,r,o){const s=e.parseEventName(r),i=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Qs().onAndCancel(n,s.domEventName,i))}static parseEventName(n){const r=n.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const s=e._normalizeKey(r.pop());let i="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),i="code."),X1.forEach(l=>{const u=r.indexOf(l);u>-1&&(r.splice(u,1),i+=l+".")}),i+=s,0!=r.length||0===s.length)return null;const c={};return c.domEventName=o,c.fullKey=i,c}static matchEventFullKeyCode(n,r){let o=zee[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(o=n.code,s="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),X1.forEach(i=>{i!==o&&(0,Wee[i])(n)&&(s+=i+".")}),s+=o,s===r)}static eventCallback(n,r,o){return s=>{e.matchEventFullKeyCode(s,n)&&o.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}static{this.\u0275fac=function(r){return new(r||e)(j(Er))}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac})}}return e})();const Yee=DP(eQ,"browser",[{provide:yo,useValue:I1},{provide:nA,useValue:function Xee(){vw.makeCurrent()},multi:!0},{provide:Er,useFactory:function Zee(){return function C8(e){VE=e}(document),document},deps:[]}]),Qee=new P(""),Y1=[{provide:_m,useClass:class xee{addToWindow(t){nt.getAngularTestability=(r,o=!0)=>{const s=t.findTestabilityInTree(r,o);if(null==s)throw new M(5103,!1);return s},nt.getAllAngularTestabilities=()=>t.getAllTestabilities(),nt.getAllAngularRootElements=()=>t.getAllRootElements(),nt.frameworkStabilizers||(nt.frameworkStabilizers=[]),nt.frameworkStabilizers.push(r=>{const o=nt.getAllAngularTestabilities();let s=o.length;const i=function(){s--,0==s&&r()};o.forEach(a=>{a.whenStable(i)})})}findTestabilityInTree(t,n,r){return null==n?null:t.getTestability(n)??(r?Qs().isShadowRoot(n)?this.findTestabilityInTree(t,n.host,!0):this.findTestabilityInTree(t,n.parentElement,!0):null)}},deps:[]},{provide:fP,useClass:BS,deps:[Te,US,_m]},{provide:BS,useClass:BS,deps:[Te,US,_m]}],Q1=[{provide:Zb,useValue:"root"},{provide:_o,useFactory:function Kee(){return new _o},deps:[]},{provide:bw,useClass:qee,multi:!0,deps:[Er,Te,yo]},{provide:bw,useClass:Gee,multi:!0,deps:[Er]},z1,H1,B1,{provide:BC,useExisting:z1},{provide:zm,useClass:Fee,deps:[]},[]];let Jee=(()=>{class e{constructor(n){}static withServerTransition(n){return{ngModule:e,providers:[{provide:jc,useValue:n.appId}]}}static{this.\u0275fac=function(r){return new(r||e)(j(Qee,12))}}static{this.\u0275mod=Wo({type:e})}static{this.\u0275inj=co({providers:[...Q1,...Y1],imports:[M1,tQ]})}}return e})(),ete=(()=>{class e{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static{this.\u0275fac=function(r){return new(r||e)(j(Er))}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function tL(e){return Array.isArray(e)?e:[e]}const{isArray:ste}=Array,{getPrototypeOf:ite,prototype:ate,keys:cte}=Object;function nL(e){if(1===e.length){const t=e[0];if(ste(t))return{args:t,keys:null};if(function lte(e){return e&&"object"==typeof e&&ite(e)===ate}(t)){const n=cte(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}function Js(e){return this instanceof Js?(this.v=e,this):new Js(e)}function iL(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=e[Symbol.asyncIterator];return t?t.call(e):(e=function Rw(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=e[s]&&function(i){return new Promise(function(a,c){!function o(s,i,a,c){Promise.resolve(c).then(function(l){s({value:l,done:a})},i)}(a,c,(i=e[s](i)).done,i.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const aL=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function cL(e){return tt(e?.then)}function lL(e){return tt(e[Db])}function uL(e){return Symbol.asyncIterator&&tt(e?.[Symbol.asyncIterator])}function dL(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const fL=function Ate(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function hL(e){return tt(e?.[fL])}function pL(e){return function sL(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,r=n.apply(e,t||[]),s=[];return o={},a("next"),a("throw"),a("return",function i(h){return function(g){return Promise.resolve(g).then(h,d)}}),o[Symbol.asyncIterator]=function(){return this},o;function a(h,g){r[h]&&(o[h]=function(m){return new Promise(function(y,C){s.push([h,m,y,C])>1||c(h,m)})},g&&(o[h]=g(o[h])))}function c(h,g){try{!function l(h){h.value instanceof Js?Promise.resolve(h.value.v).then(u,d):f(s[0][2],h)}(r[h](g))}catch(m){f(s[0][3],m)}}function u(h){c("next",h)}function d(h){c("throw",h)}function f(h,g){h(g),s.shift(),s.length&&c(s[0][0],s[0][1])}}(this,arguments,function*(){const n=e.getReader();try{for(;;){const{value:r,done:o}=yield Js(n.read());if(o)return yield Js(void 0);yield yield Js(r)}}finally{n.releaseLock()}})}function gL(e){return tt(e?.getReader)}function Qr(e){if(e instanceof Ge)return e;if(null!=e){if(lL(e))return function kte(e){return new Ge(t=>{const n=e[Db]();if(tt(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(aL(e))return function Nte(e){return new Ge(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}(e);if(cL(e))return function xte(e){return new Ge(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,KT)})}(e);if(uL(e))return mL(e);if(hL(e))return function Fte(e){return new Ge(t=>{for(const n of e)if(t.next(n),t.closed)return;t.complete()})}(e);if(gL(e))return function Pte(e){return mL(pL(e))}(e)}throw dL(e)}function mL(e){return new Ge(t=>{(function Lte(e,t){var n,r,o,s;return function rL(e,t,n,r){return new(n||(n=Promise))(function(s,i){function a(u){try{l(r.next(u))}catch(d){i(d)}}function c(u){try{l(r.throw(u))}catch(d){i(d)}}function l(u){u.done?s(u.value):function o(s){return s instanceof n?s:new n(function(i){i(s)})}(u.value).then(a,c)}l((r=r.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){try{for(n=iL(e);!(r=yield n.next()).done;)if(t.next(r.value),t.closed)return}catch(i){o={error:i}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(o)throw o.error}}t.complete()})})(e,t).catch(n=>t.error(n))})}function ss(e,t,n,r=0,o=!1){const s=t.schedule(function(){n(),o?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(s),!o)return s}function _L(e,t=0){return Ft((n,r)=>{n.subscribe(Mt(r,o=>ss(r,e,()=>r.next(o),t),()=>ss(r,e,()=>r.complete(),t),o=>ss(r,e,()=>r.error(o),t)))})}function yL(e,t=0){return Ft((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function vL(e,t){if(!e)throw new Error("Iterable cannot be null");return new Ge(n=>{ss(n,t,()=>{const r=e[Symbol.asyncIterator]();ss(n,t,()=>{r.next().then(o=>{o.done?n.complete():n.next(o.value)})},0,!0)})})}function Kt(e,t){return t?function $te(e,t){if(null!=e){if(lL(e))return function Vte(e,t){return Qr(e).pipe(yL(t),_L(t))}(e,t);if(aL(e))return function Bte(e,t){return new Ge(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}(e,t);if(cL(e))return function jte(e,t){return Qr(e).pipe(yL(t),_L(t))}(e,t);if(uL(e))return vL(e,t);if(hL(e))return function Ute(e,t){return new Ge(n=>{let r;return ss(n,t,()=>{r=e[fL](),ss(n,t,()=>{let o,s;try{({value:o,done:s}=r.next())}catch(i){return void n.error(i)}s?n.complete():n.next(o)},0,!0)}),()=>tt(r?.return)&&r.return()})}(e,t);if(gL(e))return function Hte(e,t){return vL(pL(e),t)}(e,t)}throw dL(e)}(e,t):Qr(e)}const{isArray:qte}=Array;function bL(e){return se(t=>function zte(e,t){return qte(t)?e(...t):e(t)}(e,t))}function EL(e){return e&&tt(e.schedule)}function Ow(e){return e[e.length-1]}function CL(e){return tt(Ow(e))?e.pop():void 0}function Zm(e){return EL(Ow(e))?e.pop():void 0}function SL(e,t){return e.reduce((n,r,o)=>(n[r]=t[o],n),{})}function Ym(...e){const t=Zm(e),n=CL(e),{args:r,keys:o}=nL(e);if(0===r.length)return Kt([],t);const s=new Ge(function Wte(e,t,n=Li){return r=>{wL(t,()=>{const{length:o}=e,s=new Array(o);let i=o,a=o;for(let c=0;c<o;c++)wL(t,()=>{const l=Kt(e[c],t);let u=!1;l.subscribe(Mt(r,d=>{s[c]=d,u||(u=!0,a--),a||r.next(n(s.slice()))},()=>{--i||r.complete()}))},r)},r)}}(r,t,o?i=>SL(o,i):Li));return n?s.pipe(bL(n)):s}function wL(e,t,n){e?ss(n,e,t):t()}function Rn(e,t,n=1/0){return tt(t)?Rn((r,o)=>se((s,i)=>t(r,s,o,i))(Qr(e(r,o))),n):("number"==typeof t&&(n=t),Ft((r,o)=>function Gte(e,t,n,r,o,s,i,a){const c=[];let l=0,u=0,d=!1;const f=()=>{d&&!c.length&&!l&&t.complete()},h=m=>l<r?g(m):c.push(m),g=m=>{s&&t.next(m),l++;let y=!1;Qr(n(m,u++)).subscribe(Mt(t,C=>{o?.(C),s?h(C):t.next(C)},()=>{y=!0},void 0,()=>{if(y)try{for(l--;c.length&&l<r;){const C=c.shift();i?ss(t,i,()=>g(C)):g(C)}f()}catch(C){t.error(C)}}))};return e.subscribe(Mt(t,h,()=>{d=!0,f()})),()=>{a?.()}}(r,o,e,n)))}function Qm(...e){return function Xte(){return function Aw(e=1/0){return Rn(Li,e)}(1)}()(Kt(e,Zm(e)))}const Do=new Ge(e=>e.complete());function ei(e){return e<=0?()=>Do:Ft((t,n)=>{let r=0;t.subscribe(Mt(n,o=>{++r<=e&&(n.next(o),e<=r&&n.complete())}))})}function is(e,t){return Ft((n,r)=>{let o=0;n.subscribe(Mt(r,s=>e.call(t,s,o++)&&r.next(s)))})}class Yte extends dn{constructor(t,n){super()}schedule(t,n=0){return this}}const Jm={setInterval(e,t,...n){const{delegate:r}=Jm;return r?.setInterval?r.setInterval(e,t,...n):setInterval(e,t,...n)},clearInterval(e){const{delegate:t}=Jm;return(t?.clearInterval||clearInterval)(e)},delegate:void 0},kw={now:()=>(kw.delegate||Date).now(),delegate:void 0};class Tf{constructor(t,n=Tf.now){this.schedulerActionCtor=t,this.now=n}schedule(t,n=0,r){return new this.schedulerActionCtor(this,t).schedule(r,n)}}Tf.now=kw.now;const DL=new class Jte extends Tf{constructor(t,n=Tf.now){super(t,n),this.actions=[],this._active=!1}flush(t){const{actions:n}=this;if(this._active)return void n.push(t);let r;this._active=!0;do{if(r=t.execute(t.state,t.delay))break}while(t=n.shift());if(this._active=!1,r){for(;t=n.shift();)t.unsubscribe();throw r}}}(class Qte extends Yte{constructor(t,n){super(t,n),this.scheduler=t,this.work=n,this.pending=!1}schedule(t,n=0){var r;if(this.closed)return this;this.state=t;const o=this.id,s=this.scheduler;return null!=o&&(this.id=this.recycleAsyncId(s,o,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(t,n,r=0){return Jm.setInterval(t.flush.bind(t,this),r)}recycleAsyncId(t,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&Jm.clearInterval(n)}execute(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(t,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,n){let o,r=!1;try{this.work(t)}catch(s){r=!0,o=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),o}unsubscribe(){if(!this.closed){const{id:t,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,xp(r,this),null!=t&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,super.unsubscribe()}}}),ene=DL;function e_(...e){const t=Zm(e);return Ft((n,r)=>{(t?Qm(e,n,t):Qm(e,n)).subscribe(r)})}function ML(e){return Ft((t,n)=>{Qr(e).subscribe(Mt(n,()=>n.complete(),bb)),!n.closed&&t.subscribe(n)})}let Nw;try{Nw=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Nw=!1}let nne=(()=>{class e{constructor(n){this._platformId=n,this.isBrowser=this._platformId?T1(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Nw)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static{this.\u0275fac=function(r){return new(r||e)(j(yo))}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const TL=new Set;let ua,sne=(()=>{class e{constructor(n,r){this._platform=n,this._nonce=r,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):ane}matchMedia(n){return(this._platform.WEBKIT||this._platform.BLINK)&&function ine(e,t){if(!TL.has(e))try{ua||(ua=document.createElement("style"),t&&ua.setAttribute("nonce",t),ua.setAttribute("type","text/css"),document.head.appendChild(ua)),ua.sheet&&(ua.sheet.insertRule(`@media ${e} {body{ }}`,0),TL.add(e))}catch(n){console.error(n)}}(n,this._nonce),this._matchMedia(n)}static{this.\u0275fac=function(r){return new(r||e)(j(nne),j(jE,8))}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function ane(e){return{matches:"all"===e||""===e,media:e,addListener:()=>{},removeListener:()=>{}}}let cne=(()=>{class e{constructor(n,r){this._mediaMatcher=n,this._zone=r,this._queries=new Map,this._destroySubject=new xt}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(n){return RL(tL(n)).some(o=>this._registerQuery(o).mql.matches)}observe(n){let s=Ym(RL(tL(n)).map(i=>this._registerQuery(i).observable));return s=Qm(s.pipe(ei(1)),s.pipe(function Zte(e){return is((t,n)=>e<=n)}(1),function tne(e,t=DL){return Ft((n,r)=>{let o=null,s=null,i=null;const a=()=>{if(o){o.unsubscribe(),o=null;const l=s;s=null,r.next(l)}};function c(){const l=i+e,u=t.now();if(u<l)return o=this.schedule(void 0,l-u),void r.add(o);a()}n.subscribe(Mt(r,l=>{s=l,i=t.now(),o||(o=t.schedule(c,e),r.add(o))},()=>{a(),r.complete()},void 0,()=>{s=o=null}))})}(0))),s.pipe(se(i=>{const a={matches:!1,breakpoints:{}};return i.forEach(({matches:c,query:l})=>{a.matches=a.matches||c,a.breakpoints[l]=c}),a}))}_registerQuery(n){if(this._queries.has(n))return this._queries.get(n);const r=this._mediaMatcher.matchMedia(n),s={observable:new Ge(i=>{const a=c=>this._zone.run(()=>i.next(c));return r.addListener(a),()=>{r.removeListener(a)}}).pipe(e_(r),se(({matches:i})=>({query:n,matches:i})),ML(this._destroySubject)),mql:r};return this._queries.set(n,s),s}static{this.\u0275fac=function(r){return new(r||e)(j(sne),j(Te))}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function RL(e){return e.map(t=>t.split(",")).reduce((t,n)=>t.concat(n)).map(t=>t.trim())}var da=function(e){return e.LIGHT="light",e.DARK="dark",e}(da||{});let une=(()=>{class e{constructor(n){this.document=n,this.currentMode=da.LIGHT,this.modeChangedSubject=new xn(this.currentMode),this.modeChanged$=this.modeChangedSubject.asObservable(),this.init()}updateCurrentMode(n){this.currentMode=n,this.modeChangedSubject.next(this.currentMode)}init(){const n=window.matchMedia("(prefers-color-scheme: dark)");let r=da.LIGHT;r=n.matches?da.DARK:da.LIGHT,this.updateCurrentMode(r),this.document.body.classList.add(this.currentMode)}static{this.\u0275fac=function(r){return new(r||e)(j(Er))}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function ne(...e){return Kt(e,Zm(e))}function OL(e=0,t,n=ene){let r=-1;return null!=t&&(EL(t)?n=t:r=t),new Ge(o=>{let s=function dne(e){return e instanceof Date&&!isNaN(e)}(e)?+e-n.now():e;s<0&&(s=0);let i=0;return n.schedule(function(){o.closed||(o.next(i++),0<=r?this.schedule(void 0,r):o.complete())},s)})}function gn(e,t,n){const r=tt(e)||t||n?{next:e,error:t,complete:n}:e;return r?Ft((o,s)=>{var i;null===(i=r.subscribe)||void 0===i||i.call(r);let a=!0;o.subscribe(Mt(s,c=>{var l;null===(l=r.next)||void 0===l||l.call(r,c),s.next(c)},()=>{var c;a=!1,null===(c=r.complete)||void 0===c||c.call(r),s.complete()},c=>{var l;a=!1,null===(l=r.error)||void 0===l||l.call(r,c),s.error(c)},()=>{var c,l;a&&(null===(c=r.unsubscribe)||void 0===c||c.call(r)),null===(l=r.finalize)||void 0===l||l.call(r)}))}):Li}function wr(e,t){return Ft((n,r)=>{let o=null,s=0,i=!1;const a=()=>i&&!o&&r.complete();n.subscribe(Mt(r,c=>{o?.unsubscribe();let l=0;const u=s++;Qr(e(c,u)).subscribe(o=Mt(r,d=>r.next(t?t(c,d,u,l++):d),()=>{o=null,a()}))},()=>{i=!0,a()}))})}class fne extends xt{constructor(t=1/0,n=1/0,r=kw){super(),this._bufferSize=t,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,n)}next(t){const{isStopped:n,_buffer:r,_infiniteTimeWindow:o,_timestampProvider:s,_windowTime:i}=this;n||(r.push(t),!o&&r.push(s.now()+i)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const n=this._innerSubscribe(t),{_infiniteTimeWindow:r,_buffer:o}=this,s=o.slice();for(let i=0;i<s.length&&!t.closed;i+=r?1:2)t.next(s[i]);return this._checkFinalizedStatuses(t),n}_trimBuffer(){const{_bufferSize:t,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:o}=this,s=(o?1:2)*t;if(t<1/0&&s<r.length&&r.splice(0,r.length-s),!o){const i=n.now();let a=0;for(let c=1;c<r.length&&r[c]<=i;c+=2)a=c;a&&r.splice(0,a+1)}}}function Fw(e,t,...n){if(!0===t)return void e();if(!1===t)return;const r=new nd({next:()=>{r.unsubscribe(),e()}});return t(...n).subscribe(r)}function gne(e,t){if(1&e&&(Re(0,"div",3),Dn(1,"div",4),Fe()),2&e){const n=vr(2);rt(),Gs("width",n.diameter)("height",n.diameter)}}function mne(e,t){if(1&e&&Dn(0,"div",5),2&e){const n=vr().ngIf,r=vr();Gs("background",r.color)("height",r.height)("width",n+"%")}}function _ne(e,t){if(1&e&&(Xs(0),_r(1,gne,2,4,"div",1)(2,mne,1,6,"div",2),Ks()),2&e){const n=vr();rt(),gt("ngIf",n.includeSpinner),rt(),gt("ngIf",n.includeBar)}}function yne(e,t){if(1&e&&(Re(0,"div",3),Dn(1,"div",4),Fe()),2&e){const n=vr(2);rt(),Gs("width",n.diameter)("height",n.diameter)}}function vne(e,t){if(1&e&&Dn(0,"div",5),2&e){const n=vr().ngIf,r=vr();Gs("background",r.color)("height",r.height)("width",n+"%")}}function bne(e,t){if(1&e&&(Xs(0),_r(1,yne,2,4,"div",1)(2,vne,1,6,"div",2),Ks()),2&e){const n=vr();rt(),gt("ngIf",n.includeSpinner),rt(),gt("ngIf",n.includeBar)}}class Cne{constructor(t={}){this.config=t,this.state={action:null,value:0,initialValue:0},this.requests=null,this.disabled=!1,this.stream$=new xt,this._value$=null,this.timer$=n=>{let r=ne(n);switch(n.action){case"start":case"increment":case"set":"start"===n.action&&0===this.config.latencyThreshold&&0===n.value&&(n.value=n.initialValue),this.requests>0&&(r=OL(this.config.latencyThreshold,250).pipe(se(o=>({...n,value:0===o?this.state.value||n.initialValue:this._increment()}))));break;case"complete":case"stop":r=0===n.value?ne({...n}):OL(0,500).pipe(ei(2),se(o=>({value:0===o?100:0})))}return r.pipe(se(o=>({...o,action:"set"})),gn(o=>this.next(o,!1)))},this.config={latencyThreshold:0,...t}}get value$(){return this._value$?this._value$:this._value$=this.stream$.pipe(e_(this.state),wr(t=>this.timer$(t)),function pne(e,t,n){let r,o=!1;return e&&"object"==typeof e?({bufferSize:r=1/0,windowTime:t=1/0,refCount:o=!1,scheduler:n}=e):r=e??1/0,function hne(e={}){const{connector:t=()=>new xt,resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:o=!0}=e;return s=>{let i,a,c,l=0,u=!1,d=!1;const f=()=>{a?.unsubscribe(),a=void 0},h=()=>{f(),i=c=void 0,u=d=!1},g=()=>{const m=i;h(),m?.unsubscribe()};return Ft((m,y)=>{l++,!d&&!u&&f();const C=c=c??t();y.add(()=>{l--,0===l&&!d&&!u&&(a=Fw(g,o))}),C.subscribe(y),!i&&l>0&&(i=new nd({next:v=>C.next(v),error:v=>{d=!0,f(),a=Fw(h,n,v),C.error(v)},complete:()=>{u=!0,f(),a=Fw(h,r),C.complete()}}),Qr(m).subscribe(i))})(s)}}({connector:()=>new fne(r,t,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}(),se(t=>t.value))}start(t=2){this.disabled||this.next({action:"start",initialValue:t})}stop(){this.next({action:"stop"})}complete(){this.next({action:"complete"})}disable(){this.disabled=!0}set(t){this.next({action:"set",value:t})}increment(t=0){this.next({action:"increment",value:t})}next(t,n=!0){switch(t.action){case"start":this.requests=(this.requests||0)+1;break;case"complete":if(this.requests=(this.requests||1)-1,this.requests>0)return;break;case"stop":this.requests=0;break;case"increment":t.value=this._increment(t.value)}this.state={...this.state,action:null,...t},n&&this.stream$.next(this.state)}_increment(t=0){const n=this.state.value;return n>=99&&(t=0),0===t&&(t=n>=0&&n<25?3*Math.random()+3:n>=25&&n<65?3*Math.random():n>=65&&n<90?2*Math.random():n>=90&&n<99?.5:0),t+n}}const AL=new P("LOADING_BAR_CONFIG");let Pw=(()=>{class e{get progress$(){return this.value$}constructor(n,r={},o){this.platformId=n,this.config=r,this.zone=o,this.refs={},this.streams$=new xt,this.value$=this.streams$.pipe(e_(null),wr(()=>Ym(Object.keys(this.refs).map(s=>this.refs[s].value$))),function Sne(e){return e?t=>new Ge(n=>t.subscribe(r=>e.run(()=>n.next(r)),r=>e.run(()=>n.error(r)),()=>e.run(()=>n.complete()))):t=>t}(this.zone),se(s=>Math.max(0,...s)))}start(n=2){this.useRef().start(n)}set(n){this.useRef().set(n)}increment(n){this.useRef().increment(n)}complete(){this.useRef().complete()}stop(){this.useRef().stop()}useRef(n="default"){return this.refs[n]||(this.refs[n]=new Cne(this.config),this.streams$.next(),T1(this.platformId)||this.refs[n].disable()),this.refs[n]}static{this.\u0275fac=function(r){return new(r||e)(j(yo),j(AL,8),j(Te,8))}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),wne=(()=>{class e{get value$(){return this.ref?this.loader.useRef(this.ref).value$:this.loader.value$}constructor(n){this.loader=n,this.includeSpinner=!0,this.includeBar=!0,this.fixed=!0,this.color="#29d"}static{this.\u0275fac=function(r){return new(r||e)(k(Pw))}}static{this.\u0275cmp=zo({type:e,selectors:[["ngx-loading-bar"]],hostVars:3,hostBindings:function(r,o){2&r&&(yr("fixed",o.fixed),Gs("color",o.color))},inputs:{includeSpinner:"includeSpinner",includeBar:"includeBar",fixed:"fixed",color:"color",value:"value",ref:"ref",height:"height",diameter:"diameter"},standalone:!0,features:[sa],decls:2,vars:3,consts:[[4,"ngIf"],["class","ngx-spinner",4,"ngIf"],["class","ngx-bar",3,"background","height","width",4,"ngIf"],[1,"ngx-spinner"],[1,"ngx-spinner-icon"],[1,"ngx-bar"]],template:function(r,o){1&r&&(_r(0,_ne,3,2,"ng-container",0),NS(1,"async")),2&r&&gt("ngIf",null!=o.value?o.value:xS(1,1,o.value$))},dependencies:[hw,qm],styles:["[_nghost-%COMP%]{position:relative;display:block;pointer-events:none}[_nghost-%COMP%]   .ngx-spinner[_ngcontent-%COMP%]{transition:.35s linear all;display:block;position:absolute;top:5px;left:0}[_nghost-%COMP%]   .ngx-spinner[_ngcontent-%COMP%]   .ngx-spinner-icon[_ngcontent-%COMP%]{width:14px;height:14px;border:solid 2px transparent;border-top-color:inherit;border-left-color:inherit;border-radius:50%;animation:_ngcontent-%COMP%_loading-bar-spinner .4s linear infinite}[_nghost-%COMP%]   .ngx-bar[_ngcontent-%COMP%]{transition:width .35s;position:absolute;top:0;left:0;width:100%;height:2px;border-bottom-right-radius:1px;border-top-right-radius:1px}[dir=rtl]   [_nghost-%COMP%]   .ngx-bar[_ngcontent-%COMP%]{right:0;left:unset}[fixed=true][_nghost-%COMP%]{z-index:10002}[fixed=true][_nghost-%COMP%]   .ngx-bar[_ngcontent-%COMP%]{position:fixed}[fixed=true][_nghost-%COMP%]   .ngx-spinner[_ngcontent-%COMP%]{position:fixed;top:10px;left:10px}[dir=rtl]   [fixed=true][_nghost-%COMP%]   .ngx-spinner[_ngcontent-%COMP%]{right:10px;left:unset}@keyframes _ngcontent-%COMP%_loading-bar-spinner{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"],changeDetection:0})}}return e})(),Dne=(()=>{class e extends wne{static{this.\u0275fac=(()=>{let n;return function(o){return(n||(n=Ut(e)))(o||e)}})()}static{this.\u0275cmp=zo({type:e,selectors:[["ngx-loading-bar"]],hostVars:3,hostBindings:function(r,o){2&r&&(yr("fixed",o.fixed),Gs("color",o.color))},features:[xe],decls:2,vars:3,consts:[[4,"ngIf"],["class","ngx-spinner",4,"ngIf"],["class","ngx-bar",3,"background","height","width",4,"ngIf"],[1,"ngx-spinner"],[1,"ngx-spinner-icon"],[1,"ngx-bar"]],template:function(r,o){1&r&&(_r(0,bne,3,2,"ng-container",0),NS(1,"async")),2&r&&gt("ngIf",null!=o.value?o.value:xS(1,1,o.value$))},dependencies:[qm,hw],styles:["[_nghost-%COMP%]{position:relative;display:block;pointer-events:none}[_nghost-%COMP%]   .ngx-spinner[_ngcontent-%COMP%]{transition:.35s linear all;display:block;position:absolute;top:5px;left:0}[_nghost-%COMP%]   .ngx-spinner[_ngcontent-%COMP%]   .ngx-spinner-icon[_ngcontent-%COMP%]{width:14px;height:14px;border:solid 2px transparent;border-top-color:inherit;border-left-color:inherit;border-radius:50%;animation:_ngcontent-%COMP%_loading-bar-spinner .4s linear infinite}[_nghost-%COMP%]   .ngx-bar[_ngcontent-%COMP%]{transition:width .35s;position:absolute;top:0;left:0;width:100%;height:2px;border-bottom-right-radius:1px;border-top-right-radius:1px}[dir=rtl]   [_nghost-%COMP%]   .ngx-bar[_ngcontent-%COMP%]{right:0;left:unset}[fixed=true][_nghost-%COMP%]{z-index:10002}[fixed=true][_nghost-%COMP%]   .ngx-bar[_ngcontent-%COMP%]{position:fixed}[fixed=true][_nghost-%COMP%]   .ngx-spinner[_ngcontent-%COMP%]{position:fixed;top:10px;left:10px}[dir=rtl]   [fixed=true][_nghost-%COMP%]   .ngx-spinner[_ngcontent-%COMP%]{right:10px;left:unset}@keyframes _ngcontent-%COMP%_loading-bar-spinner{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"],changeDetection:0})}}return e})(),Mne=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=Wo({type:e})}static{this.\u0275inj=co({imports:[M1]})}}return e})();const Af=yb(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function kL(e){return new Ge(t=>{Qr(e()).subscribe(t)})}function n_(e,t){const n=tt(e)?e:()=>e,r=o=>o.error(n());return new Ge(t?o=>t.schedule(r,0,o):r)}function Lw(){return Ft((e,t)=>{let n=null;e._refCount++;const r=Mt(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(n=null);const o=e._connection,s=n;n=null,o&&(!s||o===s)&&o.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}class NL extends Ge{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,JT(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new dn;const n=this.getSubject();t.add(this.source.subscribe(Mt(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=dn.EMPTY)}return t}refCount(){return Lw()(this)}}function r_(e){return Ft((t,n)=>{let r=!1;t.subscribe(Mt(n,o=>{r=!0,n.next(o)},()=>{r||n.next(e),n.complete()}))})}function xL(e=Tne){return Ft((t,n)=>{let r=!1;t.subscribe(Mt(n,o=>{r=!0,n.next(o)},()=>r?n.complete():n.error(e())))})}function Tne(){return new Af}function as(e,t){const n=arguments.length>=2;return r=>r.pipe(e?is((o,s)=>e(o,s,r)):Li,ei(1),n?r_(t):xL(()=>new Af))}function fa(e,t){return tt(t)?Rn(e,t,1):Rn(e,1)}function wl(e){return Ft((t,n)=>{let s,r=null,o=!1;r=t.subscribe(Mt(n,void 0,void 0,i=>{s=Qr(e(i,wl(e)(t))),r?(r.unsubscribe(),r=null,s.subscribe(n)):o=!0})),o&&(r.unsubscribe(),r=null,s.subscribe(n))})}function Vw(e){return e<=0?()=>Do:Ft((t,n)=>{let r=[];t.subscribe(Mt(n,o=>{r.push(o),e<r.length&&r.shift()},()=>{for(const o of r)n.next(o);n.complete()},void 0,()=>{r=null}))})}function Dl(e){return Ft((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}const ce="primary",kf=Symbol("RouteTitle");class Nne{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Ml(e){return new Nne(e)}function xne(e,t,n){const r=n.path.split("/");if(r.length>e.length||"full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;const o={};for(let s=0;s<r.length;s++){const i=r[s],a=e[s];if(":"===i[0])o[i.substring(1)]=a;else if(i!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:o}}function Mo(e,t){const n=e?jw(e):void 0,r=t?jw(t):void 0;if(!n||!r||n.length!=r.length)return!1;let o;for(let s=0;s<n.length;s++)if(o=n[s],!FL(e[o],t[o]))return!1;return!0}function jw(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function FL(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const n=[...e].sort(),r=[...t].sort();return n.every((o,s)=>r[s]===o)}return e===t}function PL(e){return e.length>0?e[e.length-1]:null}function ti(e){return function Ine(e){return!!e&&(e instanceof Ge||tt(e.lift)&&tt(e.subscribe))}(e)?e:mf(e)?Kt(Promise.resolve(e)):ne(e)}const Pne={exact:function jL(e,t,n){if(!pa(e.segments,t.segments)||!o_(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!e.children[r]||!jL(e.children[r],t.children[r],n))return!1;return!0},subset:BL},LL={exact:function Lne(e,t){return Mo(e,t)},subset:function Vne(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>FL(e[n],t[n]))},ignored:()=>!0};function VL(e,t,n){return Pne[n.paths](e.root,t.root,n.matrixParams)&&LL[n.queryParams](e.queryParams,t.queryParams)&&!("exact"===n.fragment&&e.fragment!==t.fragment)}function BL(e,t,n){return UL(e,t,t.segments,n)}function UL(e,t,n,r){if(e.segments.length>n.length){const o=e.segments.slice(0,n.length);return!(!pa(o,n)||t.hasChildren()||!o_(o,n,r))}if(e.segments.length===n.length){if(!pa(e.segments,n)||!o_(e.segments,n,r))return!1;for(const o in t.children)if(!e.children[o]||!BL(e.children[o],t.children[o],r))return!1;return!0}{const o=n.slice(0,e.segments.length),s=n.slice(e.segments.length);return!!(pa(e.segments,o)&&o_(e.segments,o,r)&&e.children[ce])&&UL(e.children[ce],t,s,r)}}function o_(e,t,n){return t.every((r,o)=>LL[n](e[o].parameters,r.parameters))}class ha{constructor(t=new je([],{}),n={},r=null){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Ml(this.queryParams),this._queryParamMap}toString(){return Une.serialize(this)}}class je{constructor(t,n){this.segments=t,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return i_(this)}}class Nf{constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap??=Ml(this.parameters),this._parameterMap}toString(){return qL(this)}}function pa(e,t){return e.length===t.length&&e.every((n,r)=>n.path===t[r].path)}let Il=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=V({token:e,factory:()=>new s_,providedIn:"root"})}}return e})();class s_{parse(t){const n=new Qne(t);return new ha(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){const n=`/${xf(t.root,!0)}`,r=function qne(e){const t=Object.entries(e).map(([n,r])=>Array.isArray(r)?r.map(o=>`${a_(n)}=${a_(o)}`).join("&"):`${a_(n)}=${a_(r)}`).filter(n=>n);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${n}${r}${"string"==typeof t.fragment?`#${function Hne(e){return encodeURI(e)}(t.fragment)}`:""}`}}const Une=new s_;function i_(e){return e.segments.map(t=>qL(t)).join("/")}function xf(e,t){if(!e.hasChildren())return i_(e);if(t){const n=e.children[ce]?xf(e.children[ce],!1):"",r=[];return Object.entries(e.children).forEach(([o,s])=>{o!==ce&&r.push(`${o}:${xf(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function Bne(e,t){let n=[];return Object.entries(e.children).forEach(([r,o])=>{r===ce&&(n=n.concat(t(o,r)))}),Object.entries(e.children).forEach(([r,o])=>{r!==ce&&(n=n.concat(t(o,r)))}),n}(e,(r,o)=>o===ce?[xf(e.children[ce],!1)]:[`${o}:${xf(r,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[ce]?`${i_(e)}/${n[0]}`:`${i_(e)}/(${n.join("//")})`}}function HL(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function a_(e){return HL(e).replace(/%3B/gi,";")}function Bw(e){return HL(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function c_(e){return decodeURIComponent(e)}function $L(e){return c_(e.replace(/\+/g,"%20"))}function qL(e){return`${Bw(e.path)}${function $ne(e){return Object.entries(e).map(([t,n])=>`;${Bw(t)}=${Bw(n)}`).join("")}(e.parameters)}`}const zne=/^[^\/()?;#]+/;function Uw(e){const t=e.match(zne);return t?t[0]:""}const Wne=/^[^\/()?;=#]+/,Xne=/^[^=?&#]+/,Zne=/^[^&#]+/;class Qne{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new je([],{}):new je([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[ce]=new je(t,n)),r}parseSegment(){const t=Uw(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new M(4009,!1);return this.capture(t),new Nf(c_(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const n=function Gne(e){const t=e.match(Wne);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=Uw(this.remaining);o&&(r=o,this.capture(r))}t[c_(n)]=c_(r)}parseQueryParam(t){const n=function Kne(e){const t=e.match(Xne);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=function Yne(e){const t=e.match(Zne);return t?t[0]:""}(this.remaining);i&&(r=i,this.capture(r))}const o=$L(n),s=$L(r);if(t.hasOwnProperty(o)){let i=t[o];Array.isArray(i)||(i=[i],t[o]=i),i.push(s)}else t[o]=s}parseParens(t){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Uw(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new M(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=ce);const i=this.parseChildren();n[s]=1===Object.keys(i).length?i[ce]:new je([],i),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new M(4011,!1)}}function zL(e){return e.segments.length>0?new je([],{[ce]:e}):e}function WL(e){const t={};for(const[r,o]of Object.entries(e.children)){const s=WL(o);if(r===ce&&0===s.segments.length&&s.hasChildren())for(const[i,a]of Object.entries(s.children))t[i]=a;else(s.segments.length>0||s.hasChildren())&&(t[r]=s)}return function Jne(e){if(1===e.numberOfChildren&&e.children[ce]){const t=e.children[ce];return new je(e.segments.concat(t.segments),t.children)}return e}(new je(e.segments,t))}function ga(e){return e instanceof ha}function GL(e){let t;const o=zL(function n(s){const i={};for(const c of s.children){const l=n(c);i[c.outlet]=l}const a=new je(s.url,i);return s===e&&(t=a),a}(e.root));return t??o}function XL(e,t,n,r){let o=e;for(;o.parent;)o=o.parent;if(0===t.length)return Hw(o,o,o,n,r);const s=function tre(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new ZL(!0,0,e);let t=0,n=!1;const r=e.reduce((o,s,i)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([c,l])=>{a[c]="string"==typeof l?l.split("/"):l}),[...o,{outlets:a}]}if(s.segmentPath)return[...o,s.segmentPath]}return"string"!=typeof s?[...o,s]:0===i?(s.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?n=!0:".."===a?t++:""!=a&&o.push(a))}),o):[...o,s]},[]);return new ZL(n,t,r)}(t);if(s.toRoot())return Hw(o,o,new je([],{}),n,r);const i=function nre(e,t,n){if(e.isAbsolute)return new u_(t,!0,0);if(!n)return new u_(t,!1,NaN);if(null===n.parent)return new u_(n,!0,0);const r=l_(e.commands[0])?0:1;return function rre(e,t,n){let r=e,o=t,s=n;for(;s>o;){if(s-=o,r=r.parent,!r)throw new M(4005,!1);o=r.segments.length}return new u_(r,!1,o-s)}(n,n.segments.length-1+r,e.numberOfDoubleDots)}(s,o,e),a=i.processChildren?Pf(i.segmentGroup,i.index,s.commands):YL(i.segmentGroup,i.index,s.commands);return Hw(o,i.segmentGroup,a,n,r)}function l_(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Ff(e){return"object"==typeof e&&null!=e&&e.outlets}function Hw(e,t,n,r,o){let i,s={};r&&Object.entries(r).forEach(([c,l])=>{s[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`}),i=e===t?n:KL(e,t,n);const a=zL(WL(i));return new ha(a,s,o)}function KL(e,t,n){const r={};return Object.entries(e.children).forEach(([o,s])=>{r[o]=s===t?n:KL(s,t,n)}),new je(e.segments,r)}class ZL{constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&l_(r[0]))throw new M(4003,!1);const o=r.find(Ff);if(o&&o!==PL(r))throw new M(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class u_{constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}}function YL(e,t,n){if(e??=new je([],{}),0===e.segments.length&&e.hasChildren())return Pf(e,t,n);const r=function sre(e,t,n){let r=0,o=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;o<e.segments.length;){if(r>=n.length)return s;const i=e.segments[o],a=n[r];if(Ff(a))break;const c=`${a}`,l=r<n.length-1?n[r+1]:null;if(o>0&&void 0===c)break;if(c&&l&&"object"==typeof l&&void 0===l.outlets){if(!JL(c,l,i))return s;r+=2}else{if(!JL(c,{},i))return s;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(e,t,n),o=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const s=new je(e.segments.slice(0,r.pathIndex),{});return s.children[ce]=new je(e.segments.slice(r.pathIndex),e.children),Pf(s,0,o)}return r.match&&0===o.length?new je(e.segments,{}):r.match&&!e.hasChildren()?$w(e,t,n):r.match?Pf(e,0,o):$w(e,t,n)}function Pf(e,t,n){if(0===n.length)return new je(e.segments,{});{const r=function ore(e){return Ff(e[0])?e[0].outlets:{[ce]:e}}(n),o={};if(Object.keys(r).some(s=>s!==ce)&&e.children[ce]&&1===e.numberOfChildren&&0===e.children[ce].segments.length){const s=Pf(e.children[ce],t,n);return new je(e.segments,s.children)}return Object.entries(r).forEach(([s,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(o[s]=YL(e.children[s],t,i))}),Object.entries(e.children).forEach(([s,i])=>{void 0===r[s]&&(o[s]=i)}),new je(e.segments,o)}}function $w(e,t,n){const r=e.segments.slice(0,t);let o=0;for(;o<n.length;){const s=n[o];if(Ff(s)){const c=ire(s.outlets);return new je(r,c)}if(0===o&&l_(n[0])){r.push(new Nf(e.segments[t].path,QL(n[0]))),o++;continue}const i=Ff(s)?s.outlets[ce]:`${s}`,a=o<n.length-1?n[o+1]:null;i&&a&&l_(a)?(r.push(new Nf(i,QL(a))),o+=2):(r.push(new Nf(i,{})),o++)}return new je(r,{})}function ire(e){const t={};return Object.entries(e).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(t[n]=$w(new je([],{}),0,r))}),t}function QL(e){const t={};return Object.entries(e).forEach(([n,r])=>t[n]=`${r}`),t}function JL(e,t,n){return e==n.path&&Mo(t,n.parameters)}const Lf="imperative";var ve=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(ve||{});class Io{constructor(t,n){this.id=t,this.url=n}}class qw extends Io{constructor(t,n,r="imperative",o=null){super(t,n),this.type=ve.NavigationStart,this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ma extends Io{constructor(t,n,r){super(t,n),this.urlAfterRedirects=r,this.type=ve.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var er=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(er||{}),zw=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(zw||{});class _a extends Io{constructor(t,n,r,o){super(t,n),this.reason=r,this.code=o,this.type=ve.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Vf extends Io{constructor(t,n,r,o){super(t,n),this.reason=r,this.code=o,this.type=ve.NavigationSkipped}}class Ww extends Io{constructor(t,n,r,o){super(t,n),this.error=r,this.target=o,this.type=ve.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class e2 extends Io{constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o,this.type=ve.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class are extends Io{constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o,this.type=ve.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class cre extends Io{constructor(t,n,r,o,s){super(t,n),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=s,this.type=ve.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class lre extends Io{constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o,this.type=ve.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ure extends Io{constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o,this.type=ve.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class dre{constructor(t){this.route=t,this.type=ve.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class fre{constructor(t){this.route=t,this.type=ve.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class hre{constructor(t){this.snapshot=t,this.type=ve.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pre{constructor(t){this.snapshot=t,this.type=ve.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gre{constructor(t){this.snapshot=t,this.type=ve.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mre{constructor(t){this.snapshot=t,this.type=ve.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Gw{}class d_{constructor(t,n){this.url=t,this.navigationBehaviorOptions=n}}function Jr(e){return e.outlet||ce}function jf(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){const n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class Cre{get injector(){return jf(this.route?.snapshot)??this.rootInjector}set injector(t){}constructor(t){this.rootInjector=t,this.outlet=null,this.route=null,this.children=new Bf(this.rootInjector),this.attachRef=null}}let Bf=(()=>{class e{constructor(n){this.rootInjector=n,this.contexts=new Map}onChildOutletCreated(n,r){const o=this.getOrCreateContext(n);o.outlet=r,this.contexts.set(n,o)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new Cre(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static{this.\u0275fac=function(r){return new(r||e)(j(Vn))}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();class t2{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){const n=Xw(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){const n=Xw(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){const n=Kw(t,this._root);return n.length<2?[]:n[n.length-2].children.map(o=>o.value).filter(o=>o!==t)}pathFromRoot(t){return Kw(t,this._root).map(n=>n.value)}}function Xw(e,t){if(e===t.value)return t;for(const n of t.children){const r=Xw(e,n);if(r)return r}return null}function Kw(e,t){if(e===t.value)return[t];for(const n of t.children){const r=Kw(e,n);if(r.length)return r.unshift(t),r}return[]}class eo{constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}}function Tl(e){const t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}class n2 extends t2{constructor(t,n){super(t),this.snapshot=n,Zw(this,t)}toString(){return this.snapshot.toString()}}function r2(e){const t=function Sre(e){const s=new h_([],{},{},"",{},ce,e,null,{});return new o2("",new eo(s,[]))}(e),n=new xn([new Nf("",{})]),r=new xn({}),o=new xn({}),s=new xn({}),i=new xn(""),a=new ya(n,r,s,i,o,ce,e,t.root);return a.snapshot=t.root,new n2(new eo(a,[]),t)}class ya{constructor(t,n,r,o,s,i,a,c){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=o,this.dataSubject=s,this.outlet=i,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(se(l=>l[kf]))??ne(void 0),this.url=t,this.params=n,this.queryParams=r,this.fragment=o,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(se(t=>Ml(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(se(t=>Ml(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function f_(e,t,n="emptyOnly"){let r;const{routeConfig:o}=e;return r=null===t||"always"!==n&&""!==o?.path&&(t.component||t.routeConfig?.loadComponent)?{params:{...e.params},data:{...e.data},resolve:{...e.data,...e._resolvedData??{}}}:{params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.data,...o?.data,...e._resolvedData}},o&&i2(o)&&(r.resolve[kf]=o.title),r}class h_{get title(){return this.data?.[kf]}constructor(t,n,r,o,s,i,a,c,l){this.url=t,this.params=n,this.queryParams=r,this.fragment=o,this.data=s,this.outlet=i,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ml(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ml(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class o2 extends t2{constructor(t,n){super(n),this.url=t,Zw(this,n)}toString(){return s2(this._root)}}function Zw(e,t){t.value._routerState=e,t.children.forEach(n=>Zw(e,n))}function s2(e){const t=e.children.length>0?` { ${e.children.map(s2).join(", ")} } `:"";return`${e.value}${t}`}function Yw(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,Mo(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),Mo(t.params,n.params)||e.paramsSubject.next(n.params),function Fne(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!Mo(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.urlSubject.next(n.url),Mo(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function Qw(e,t){const n=Mo(e.params,t.params)&&function jne(e,t){return pa(e,t)&&e.every((n,r)=>Mo(n.parameters,t[r].parameters))}(e.url,t.url);return n&&!(!e.parent!=!t.parent)&&(!e.parent||Qw(e.parent,t.parent))}function i2(e){return"string"==typeof e.title||null===e.title}let Jw=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=ce,this.activateEvents=new at,this.deactivateEvents=new at,this.attachEvents=new at,this.detachEvents=new at,this.parentContexts=I(Bf),this.location=I(Gr),this.changeDetector=I(yf),this.inputBinder=I(p_,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:o}=n.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new M(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new M(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new M(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new M(4013,!1);this._activatedRoute=n;const o=this.location,i=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new eD(n,a,o.injector);this.activated=o.createComponent(i,{index:o.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275dir=te({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[pr]})}}return e})();class eD{__ngOutletInjector(t){return new eD(this.route,this.childContexts,t)}constructor(t,n,r){this.route=t,this.childContexts=n,this.parent=r}get(t,n){return t===ya?this.route:t===Bf?this.childContexts:this.parent.get(t,n)}}const p_=new P("");function Uf(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=t.value;const o=function Dre(e,t,n){return t.children.map(r=>{for(const o of n.children)if(e.shouldReuseRoute(r.value,o.value.snapshot))return Uf(e,r,o);return Uf(e,r)})}(e,t,n);return new eo(r,o)}{if(e.shouldAttach(t.value)){const s=e.retrieve(t.value);if(null!==s){const i=s.route;return i.value._futureSnapshot=t.value,i.children=t.children.map(a=>Uf(e,a)),i}}const r=function Mre(e){return new ya(new xn(e.url),new xn(e.params),new xn(e.queryParams),new xn(e.fragment),new xn(e.data),e.outlet,e.component,e)}(t.value),o=t.children.map(s=>Uf(e,s));return new eo(r,o)}}class tD{constructor(t,n){this.redirectTo=t,this.navigationBehaviorOptions=n}}const c2="ngNavigationCancelingError";function g_(e,t){const{redirectTo:n,navigationBehaviorOptions:r}=ga(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,o=l2(!1,er.Redirect);return o.url=n,o.navigationBehaviorOptions=r,o}function l2(e,t){const n=new Error(`NavigationCancelingError: ${e||""}`);return n[c2]=!0,n.cancellationCode=t,n}function u2(e){return!!e&&e[c2]}class Rre{constructor(t,n,r,o,s){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=o,this.inputBindingEnabled=s}activate(t){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),Yw(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){const o=Tl(n);t.children.forEach(s=>{const i=s.value.outlet;this.deactivateRoutes(s,o[i],r),delete o[i]}),Object.values(o).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(t,n,r){const o=t.value,s=n?n.value:null;if(o===s)if(o.component){const i=r.getContext(o.outlet);i&&this.deactivateChildRoutes(t,n,i.children)}else this.deactivateChildRoutes(t,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){const r=n.getContext(t.value.outlet),o=r&&t.value.component?r.children:n,s=Tl(t);for(const i of Object.values(s))this.deactivateRouteAndItsChildren(i,o);if(r&&r.outlet){const i=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:i,route:t,contexts:a})}}deactivateRouteAndOutlet(t,n){const r=n.getContext(t.value.outlet),o=r&&t.value.component?r.children:n,s=Tl(t);for(const i of Object.values(s))this.deactivateRouteAndItsChildren(i,o);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,n,r){const o=Tl(n);t.children.forEach(s=>{this.activateRoutes(s,o[s.value.outlet],r),this.forwardEvent(new mre(s.value.snapshot))}),t.children.length&&this.forwardEvent(new pre(t.value.snapshot))}activateRoutes(t,n,r){const o=t.value,s=n?n.value:null;if(Yw(o),o===s)if(o.component){const i=r.getOrCreateContext(o.outlet);this.activateChildRoutes(t,n,i.children)}else this.activateChildRoutes(t,n,r);else if(o.component){const i=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const a=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),i.children.onOutletReAttached(a.contexts),i.attachRef=a.componentRef,i.route=a.route.value,i.outlet&&i.outlet.attach(a.componentRef,a.route.value),Yw(a.route.value),this.activateChildRoutes(t,null,i.children)}else i.attachRef=null,i.route=o,i.outlet&&i.outlet.activateWith(o,i.injector),this.activateChildRoutes(t,null,i.children)}else this.activateChildRoutes(t,null,r)}}class d2{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class m_{constructor(t,n){this.component=t,this.route=n}}function Ore(e,t,n){const r=e._root;return Hf(r,t?t._root:null,n,[r.value])}function Rl(e,t){const n=Symbol(),r=t.get(e,n);return r===n?"function"!=typeof e||function GW(e){return null!==Bp(e)}(e)?t.get(e):e:r}function Hf(e,t,n,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=Tl(t);return e.children.forEach(i=>{(function kre(e,t,n,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=e.value,i=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(i&&s.routeConfig===i.routeConfig){const c=function Nre(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!pa(e.url,t.url);case"pathParamsOrQueryParamsChange":return!pa(e.url,t.url)||!Mo(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Qw(e,t)||!Mo(e.queryParams,t.queryParams);default:return!Qw(e,t)}}(i,s,s.routeConfig.runGuardsAndResolvers);c?o.canActivateChecks.push(new d2(r)):(s.data=i.data,s._resolvedData=i._resolvedData),Hf(e,t,s.component?a?a.children:null:n,r,o),c&&a&&a.outlet&&a.outlet.isActivated&&o.canDeactivateChecks.push(new m_(a.outlet.component,i))}else i&&$f(t,a,o),o.canActivateChecks.push(new d2(r)),Hf(e,null,s.component?a?a.children:null:n,r,o)})(i,s[i.value.outlet],n,r.concat([i.value]),o),delete s[i.value.outlet]}),Object.entries(s).forEach(([i,a])=>$f(a,n.getContext(i),o)),o}function $f(e,t,n){const r=Tl(e),o=e.value;Object.entries(r).forEach(([s,i])=>{$f(i,o.component?t?t.children.getContext(s):null:t,n)}),n.canDeactivateChecks.push(new m_(o.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,o))}function qf(e){return"function"==typeof e}function f2(e){return e instanceof Af||"EmptyError"===e?.name}const __=Symbol("INITIAL_VALUE");function Ol(){return wr(e=>Ym(e.map(t=>t.pipe(ei(1),e_(__)))).pipe(se(t=>{for(const n of t)if(!0!==n){if(n===__)return __;if(!1===n||Bre(n))return n}return!0}),is(t=>t!==__),ei(1)))}function Bre(e){return ga(e)||e instanceof tD}function h2(e){return function LW(...e){return ZT(e)}(gn(t=>{if("boolean"!=typeof t)throw g_(0,t)}),se(t=>!0===t))}class nD{constructor(t){this.segmentGroup=t||null}}class y_ extends Error{constructor(t){super(),this.urlTree=t}}function Al(e){return n_(new nD(e))}class Jre{constructor(t,n){this.urlSerializer=t,this.urlTree=n}lineralizeSegments(t,n){let r=[],o=n.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return ne(r);if(o.numberOfChildren>1||!o.children[ce])return n_(new M(4e3,!1));o=o.children[ce]}}applyRedirectCommands(t,n,r,o,s){if("string"!=typeof n){const a=n,{queryParams:c,fragment:l,routeConfig:u,url:d,outlet:f,params:h,data:g,title:m}=o,y=Go(s,()=>a({params:h,data:g,queryParams:c,fragment:l,routeConfig:u,url:d,outlet:f,title:m}));if(y instanceof ha)throw new y_(y);n=y}const i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,r);if("/"===n[0])throw new y_(i);return i}applyRedirectCreateUrlTree(t,n,r,o){const s=this.createSegmentGroup(t,n.root,r,o);return new ha(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){const r={};return Object.entries(t).forEach(([o,s])=>{if("string"==typeof s&&":"===s[0]){const a=s.substring(1);r[o]=n[a]}else r[o]=s}),r}createSegmentGroup(t,n,r,o){const s=this.createSegments(t,n.segments,r,o);let i={};return Object.entries(n.children).forEach(([a,c])=>{i[a]=this.createSegmentGroup(t,c,r,o)}),new je(s,i)}createSegments(t,n,r,o){return n.map(s=>":"===s.path[0]?this.findPosParam(t,s,o):this.findOrReturn(s,r))}findPosParam(t,n,r){const o=r[n.path.substring(1)];if(!o)throw new M(4001,!1);return o}findOrReturn(t,n){let r=0;for(const o of n){if(o.path===t.path)return n.splice(r),o;r++}return t}}const rD={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function eoe(e,t,n,r,o){const s=p2(e,t,n);return s.matched?(r=function _re(e,t){return e.providers&&!e._injector&&(e._injector=nS(e.providers,t,`Route: ${e.path}`)),e._injector??t}(t,r),function Zre(e,t,n,r){const o=t.canMatch;return o&&0!==o.length?ne(o.map(i=>{const a=Rl(i,e);return ti(function jre(e){return e&&qf(e.canMatch)}(a)?a.canMatch(t,n):Go(e,()=>a(t,n)))})).pipe(Ol(),h2()):ne(!0)}(r,t,n).pipe(se(i=>!0===i?s:{...rD}))):ne(s)}function p2(e,t,n){if("**"===t.path)return function toe(e){return{matched:!0,parameters:e.length>0?PL(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}(n);if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{...rD}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const o=(t.matcher||xne)(n,e,t);if(!o)return{...rD};const s={};Object.entries(o.posParams??{}).forEach(([a,c])=>{s[a]=c.path});const i=o.consumed.length>0?{...s,...o.consumed[o.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:o.consumed,remainingSegments:n.slice(o.consumed.length),parameters:i,positionalParamSegments:o.posParams??{}}}function g2(e,t,n,r){return n.length>0&&function ooe(e,t,n){return n.some(r=>v_(e,t,r)&&Jr(r)!==ce)}(e,n,r)?{segmentGroup:new je(t,roe(r,new je(n,e.children))),slicedSegments:[]}:0===n.length&&function soe(e,t,n){return n.some(r=>v_(e,t,r))}(e,n,r)?{segmentGroup:new je(e.segments,noe(e,n,r,e.children)),slicedSegments:n}:{segmentGroup:new je(e.segments,e.children),slicedSegments:n}}function noe(e,t,n,r){const o={};for(const s of n)if(v_(e,t,s)&&!r[Jr(s)]){const i=new je([],{});o[Jr(s)]=i}return{...r,...o}}function roe(e,t){const n={};n[ce]=t;for(const r of e)if(""===r.path&&Jr(r)!==ce){const o=new je([],{});n[Jr(r)]=o}return n}function v_(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path}class aoe{}class uoe{constructor(t,n,r,o,s,i,a){this.injector=t,this.configLoader=n,this.rootComponentType=r,this.config=o,this.urlTree=s,this.paramsInheritanceStrategy=i,this.urlSerializer=a,this.applyRedirects=new Jre(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(t){return new M(4002,`'${t.segmentGroup}'`)}recognize(){const t=g2(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(se(({children:n,rootSnapshot:r})=>{const o=new eo(r,n),s=new o2("",o),i=function ere(e,t,n=null,r=null){return XL(GL(e),t,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return i.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(i),{state:s,tree:i}}))}match(t){const n=new h_([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),ce,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,ce,n).pipe(se(r=>({children:r,rootSnapshot:n})),wl(r=>{if(r instanceof y_)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof nD?this.noMatchError(r):r}))}processSegmentGroup(t,n,r,o,s){return 0===r.segments.length&&r.hasChildren()?this.processChildren(t,n,r,s):this.processSegment(t,n,r,r.segments,o,!0,s).pipe(se(i=>i instanceof eo?[i]:[]))}processChildren(t,n,r,o){const s=[];for(const i of Object.keys(r.children))"primary"===i?s.unshift(i):s.push(i);return Kt(s).pipe(fa(i=>{const a=r.children[i],c=function Ere(e,t){const n=e.filter(r=>Jr(r)===t);return n.push(...e.filter(r=>Jr(r)!==t)),n}(n,i);return this.processSegmentGroup(t,c,a,i,o)}),function One(e,t){return Ft(function Rne(e,t,n,r,o){return(s,i)=>{let a=n,c=t,l=0;s.subscribe(Mt(i,u=>{const d=l++;c=a?e(c,u,d):(a=!0,u),r&&i.next(c)},o&&(()=>{a&&i.next(c),i.complete()})))}}(e,t,arguments.length>=2,!0))}((i,a)=>(i.push(...a),i)),r_(null),function Ane(e,t){const n=arguments.length>=2;return r=>r.pipe(e?is((o,s)=>e(o,s,r)):Li,Vw(1),n?r_(t):xL(()=>new Af))}(),Rn(i=>{if(null===i)return Al(r);const a=m2(i);return function doe(e){e.sort((t,n)=>t.value.outlet===ce?-1:n.value.outlet===ce?1:t.value.outlet.localeCompare(n.value.outlet))}(a),ne(a)}))}processSegment(t,n,r,o,s,i,a){return Kt(n).pipe(fa(c=>this.processSegmentAgainstRoute(c._injector??t,n,c,r,o,s,i,a).pipe(wl(l=>{if(l instanceof nD)return ne(null);throw l}))),as(c=>!!c),wl(c=>{if(f2(c))return function ioe(e,t,n){return 0===t.length&&!e.children[n]}(r,o,s)?ne(new aoe):Al(r);throw c}))}processSegmentAgainstRoute(t,n,r,o,s,i,a,c){return Jr(r)===i||i!==ce&&v_(o,s,r)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,o,r,s,i,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,o,n,r,s,i,c):Al(o):Al(o)}expandSegmentAgainstRouteUsingRedirect(t,n,r,o,s,i,a){const{matched:c,parameters:l,consumedSegments:u,positionalParamSegments:d,remainingSegments:f}=p2(n,o,s);if(!c)return Al(n);"string"==typeof o.redirectTo&&"/"===o.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const h=new h_(s,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,_2(o),Jr(o),o.component??o._loadedComponent??null,o,y2(o)),g=f_(h,a,this.paramsInheritanceStrategy);h.params=Object.freeze(g.params),h.data=Object.freeze(g.data);const m=this.applyRedirects.applyRedirectCommands(u,o.redirectTo,d,h,t);return this.applyRedirects.lineralizeSegments(o,m).pipe(Rn(y=>this.processSegment(t,r,n,y.concat(f),i,!1,a)))}matchSegmentAgainstRoute(t,n,r,o,s,i){const a=eoe(n,r,o,t);return"**"===r.path&&(n.children={}),a.pipe(wr(c=>c.matched?this.getChildConfig(t=r._injector??t,r,o).pipe(wr(({routes:l})=>{const u=r._loadedInjector??t,{parameters:d,consumedSegments:f,remainingSegments:h}=c,g=new h_(f,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,_2(r),Jr(r),r.component??r._loadedComponent??null,r,y2(r)),m=f_(g,i,this.paramsInheritanceStrategy);g.params=Object.freeze(m.params),g.data=Object.freeze(m.data);const{segmentGroup:y,slicedSegments:C}=g2(n,f,h,l);if(0===C.length&&y.hasChildren())return this.processChildren(u,l,y,g).pipe(se(N=>new eo(g,N)));if(0===l.length&&0===C.length)return ne(new eo(g,[]));const v=Jr(r)===s;return this.processSegment(u,l,y,C,v?ce:s,!0,g).pipe(se(N=>new eo(g,N instanceof eo?[N]:[])))})):Al(n)))}getChildConfig(t,n,r){return n.children?ne({routes:n.children,injector:t}):n.loadChildren?void 0!==n._loadedRoutes?ne({routes:n._loadedRoutes,injector:n._loadedInjector}):function Kre(e,t,n,r){const o=t.canLoad;return void 0===o||0===o.length?ne(!0):ne(o.map(i=>{const a=Rl(i,e);return ti(function Fre(e){return e&&qf(e.canLoad)}(a)?a.canLoad(t,n):Go(e,()=>a(t,n)))})).pipe(Ol(),h2())}(t,n,r).pipe(Rn(o=>o?this.configLoader.loadChildren(t,n).pipe(gn(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function Qre(){return n_(l2(!1,er.GuardRejected))}())):ne({routes:[],injector:t})}}function foe(e){const t=e.value.routeConfig;return t&&""===t.path}function m2(e){const t=[],n=new Set;for(const r of e){if(!foe(r)){t.push(r);continue}const o=t.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==o?(o.children.push(...r.children),n.add(o)):t.push(r)}for(const r of n){const o=m2(r.children);t.push(new eo(r.value,o))}return t.filter(r=>!n.has(r))}function _2(e){return e.data||{}}function y2(e){return e.resolve||{}}function v2(e){const t=e.children.map(n=>v2(n)).flat();return[e,...t]}function oD(e){return wr(t=>{const n=e(t);return n?Kt(n).pipe(se(()=>t)):ne(t)})}let b2=(()=>{class e{buildTitle(n){let r,o=n.root;for(;void 0!==o;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(s=>s.outlet===ce);return r}getResolvedTitleForRoute(n){return n.data[kf]}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=V({token:e,factory:()=>I(yoe),providedIn:"root"})}}return e})(),yoe=(()=>{class e extends b2{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||e)(j(ete))}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const zf=new P("",{providedIn:"root",factory:()=>({})});let E2=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=zo({type:e,selectors:[["ng-component"]],standalone:!0,features:[sa],decls:1,vars:0,template:function(r,o){1&r&&Dn(0,"router-outlet")},dependencies:[Jw],encapsulation:2})}}return e})();function sD(e){const t=e.children&&e.children.map(sD),n=t?{...e,children:t}:{...e};return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==ce&&(n.component=E2),n}const b_=new P("");let C2=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=I(DY)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return ne(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=ti(n.loadComponent()).pipe(se(S2),gn(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),Dl(()=>{this.componentLoaders.delete(n)})),o=new NL(r,()=>new xt).pipe(Lw());return this.componentLoaders.set(n,o),o}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return ne({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=function voe(e,t,n,r){return ti(e.loadChildren()).pipe(se(S2),Rn(o=>o instanceof ON||Array.isArray(o)?ne(o):Kt(t.compileModuleAsync(o))),se(o=>{r&&r(e);let s,i,a=!1;return Array.isArray(o)?(i=o,!0):(s=o.create(n).injector,i=s.get(b_,[],{optional:!0,self:!0}).flat()),{routes:i.map(sD),injector:s}}))}(r,this.compiler,n,this.onLoadEndListener).pipe(Dl(()=>{this.childrenLoaders.delete(r)})),i=new NL(s,()=>new xt).pipe(Lw());return this.childrenLoaders.set(r,i),i}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function S2(e){return function boe(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let iD=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=V({token:e,factory:()=>I(Eoe),providedIn:"root"})}}return e})(),Eoe=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const w2=new P(""),M2=new P("");let E_=(()=>{class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new xt,this.transitionAbortSubject=new xt,this.configLoader=I(C2),this.environmentInjector=I(Vn),this.urlSerializer=I(Il),this.rootContexts=I(Bf),this.location=I(Sf),this.inputBindingEnabled=null!==I(p_,{optional:!0}),this.titleStrategy=I(b2),this.options=I(zf,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=I(iD),this.createViewTransition=I(w2,{optional:!0}),this.navigationErrorHandler=I(M2,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>ne(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=o=>this.events.next(new fre(o)),this.configLoader.onLoadStartListener=o=>this.events.next(new dre(o))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n,r,o){return this.transitions=new xn({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Lf,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(is(s=>0!==s.id),se(s=>({...s,extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),wr(s=>{let i=!1,a=!1;return ne(s).pipe(wr(c=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",er.SupersededByNewNavigation),Do;this.currentTransition=s,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,targetBrowserUrl:"string"==typeof c.extras.browserUrl?this.urlSerializer.parse(c.extras.browserUrl):c.extras.browserUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const l=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!l&&"reload"!==(c.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const d="";return this.events.next(new Vf(c.id,this.urlSerializer.serialize(c.rawUrl),d,zw.IgnoredSameUrlNavigation)),c.resolve(!1),Do}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return ne(c).pipe(wr(d=>{const f=this.transitions?.getValue();return this.events.next(new qw(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),f!==this.transitions?.getValue()?Do:Promise.resolve(d)}),function hoe(e,t,n,r,o,s){return Rn(i=>function coe(e,t,n,r,o,s,i="emptyOnly"){return new uoe(e,t,n,r,o,i,s).recognize()}(e,t,n,r,i.extractedUrl,o,s).pipe(se(({state:a,tree:c})=>({...i,targetSnapshot:a,urlAfterRedirects:c}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),gn(d=>{s.targetSnapshot=d.targetSnapshot,s.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:d.urlAfterRedirects};const f=new e2(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){const{id:d,extractedUrl:f,source:h,restoredState:g,extras:m}=c,y=new qw(d,this.urlSerializer.serialize(f),h,g);this.events.next(y);const C=r2(this.rootComponentType).snapshot;return this.currentTransition=s={...c,targetSnapshot:C,urlAfterRedirects:f,extras:{...m,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=f,ne(s)}{const d="";return this.events.next(new Vf(c.id,this.urlSerializer.serialize(c.extractedUrl),d,zw.IgnoredByUrlHandlingStrategy)),c.resolve(!1),Do}}),gn(c=>{const l=new are(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),se(c=>(this.currentTransition=s={...c,guards:Ore(c.targetSnapshot,c.currentSnapshot,this.rootContexts)},s)),function Ure(e,t){return Rn(n=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:s,canDeactivateChecks:i}}=n;return 0===i.length&&0===s.length?ne({...n,guardsResult:!0}):function Hre(e,t,n,r){return Kt(e).pipe(Rn(o=>function Xre(e,t,n,r,o){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return s&&0!==s.length?ne(s.map(a=>{const c=jf(t)??o,l=Rl(a,c);return ti(function Vre(e){return e&&qf(e.canDeactivate)}(l)?l.canDeactivate(e,t,n,r):Go(c,()=>l(e,t,n,r))).pipe(as())})).pipe(Ol()):ne(!0)}(o.component,o.route,n,t,r)),as(o=>!0!==o,!0))}(i,r,o,e).pipe(Rn(a=>a&&function xre(e){return"boolean"==typeof e}(a)?function $re(e,t,n,r){return Kt(t).pipe(fa(o=>Qm(function zre(e,t){return null!==e&&t&&t(new hre(e)),ne(!0)}(o.route.parent,r),function qre(e,t){return null!==e&&t&&t(new gre(e)),ne(!0)}(o.route,r),function Gre(e,t,n){const r=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(i=>function Are(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(i)).filter(i=>null!==i).map(i=>kL(()=>ne(i.guards.map(c=>{const l=jf(i.node)??n,u=Rl(c,l);return ti(function Lre(e){return e&&qf(e.canActivateChild)}(u)?u.canActivateChild(r,e):Go(l,()=>u(r,e))).pipe(as())})).pipe(Ol())));return ne(s).pipe(Ol())}(e,o.path,n),function Wre(e,t,n){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return ne(!0);const o=r.map(s=>kL(()=>{const i=jf(t)??n,a=Rl(s,i);return ti(function Pre(e){return e&&qf(e.canActivate)}(a)?a.canActivate(t,e):Go(i,()=>a(t,e))).pipe(as())}));return ne(o).pipe(Ol())}(e,o.route,n))),as(o=>!0!==o,!0))}(r,s,e,t):ne(a)),se(a=>({...n,guardsResult:a})))})}(this.environmentInjector,c=>this.events.next(c)),gn(c=>{if(s.guardsResult=c.guardsResult,c.guardsResult&&"boolean"!=typeof c.guardsResult)throw g_(0,c.guardsResult);const l=new cre(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(l)}),is(c=>!!c.guardsResult||(this.cancelNavigationTransition(c,"",er.GuardRejected),!1)),oD(c=>{if(c.guards.canActivateChecks.length)return ne(c).pipe(gn(l=>{const u=new lre(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),wr(l=>{let u=!1;return ne(l).pipe(function poe(e,t){return Rn(n=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=n;if(!o.length)return ne(n);const s=new Set(o.map(c=>c.route)),i=new Set;for(const c of s)if(!i.has(c))for(const l of v2(c))i.add(l);let a=0;return Kt(i).pipe(fa(c=>s.has(c)?function goe(e,t,n,r){const o=e.routeConfig,s=e._resolve;return void 0!==o?.title&&!i2(o)&&(s[kf]=o.title),function moe(e,t,n,r){const o=jw(e);if(0===o.length)return ne({});const s={};return Kt(o).pipe(Rn(i=>function _oe(e,t,n,r){const o=jf(t)??r,s=Rl(e,o);return ti(s.resolve?s.resolve(t,n):Go(o,()=>s(t,n)))}(e[i],t,n,r).pipe(as(),gn(a=>{if(a instanceof tD)throw g_(new s_,a);s[i]=a}))),Vw(1),function kne(e){return se(()=>e)}(s),wl(i=>f2(i)?Do:n_(i)))}(s,e,t,r).pipe(se(i=>(e._resolvedData=i,e.data=f_(e,e.parent,n).resolve,null)))}(c,r,e,t):(c.data=f_(c,c.parent,e).resolve,ne(void 0))),gn(()=>a++),Vw(1),Rn(c=>a===i.size?ne(n):Do))})}(this.paramsInheritanceStrategy,this.environmentInjector),gn({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(l,"",er.NoDataFromResolver)}}))}),gn(l=>{const u=new ure(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}))}),oD(c=>{const l=u=>{const d=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(u.routeConfig).pipe(gn(f=>{u.component=f}),se(()=>{})));for(const f of u.children)d.push(...l(f));return d};return Ym(l(c.targetSnapshot.root)).pipe(r_(null),ei(1))}),oD(()=>this.afterPreactivation()),wr(()=>{const{currentSnapshot:c,targetSnapshot:l}=s,u=this.createViewTransition?.(this.environmentInjector,c.root,l.root);return u?Kt(u).pipe(se(()=>s)):ne(s)}),se(c=>{const l=function wre(e,t,n){const r=Uf(e,t._root,n?n._root:void 0);return new n2(r,t)}(n.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=s={...c,targetRouterState:l},this.currentNavigation.targetRouterState=l,s}),gn(()=>{this.events.next(new Gw)}),((e,t,n,r)=>se(o=>(new Rre(t,o.targetRouterState,o.currentRouterState,n,r).activate(e),o)))(this.rootContexts,n.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),ei(1),gn({next:c=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ma(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{i=!0}}),ML(this.transitionAbortSubject.pipe(gn(c=>{throw c}))),Dl(()=>{!i&&!a&&this.cancelNavigationTransition(s,"",er.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),wl(c=>{if(a=!0,u2(c))this.events.next(new _a(s.id,this.urlSerializer.serialize(s.extractedUrl),c.message,c.cancellationCode)),function Ire(e){return u2(e)&&ga(e.url)}(c)?this.events.next(new d_(c.url,c.navigationBehaviorOptions)):s.resolve(!1);else{const l=new Ww(s.id,this.urlSerializer.serialize(s.extractedUrl),c,s.targetSnapshot??void 0);try{const u=Go(this.environmentInjector,()=>this.navigationErrorHandler?.(l));if(u instanceof tD){const{message:d,cancellationCode:f}=g_(0,u);this.events.next(new _a(s.id,this.urlSerializer.serialize(s.extractedUrl),d,f)),this.events.next(new d_(u.redirectTo,u.navigationBehaviorOptions))}else{this.events.next(l);const d=n.errorHandler(c);s.resolve(!!d)}}catch(u){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(u)}}return Do}))}))}cancelNavigationTransition(n,r,o){const s=new _a(n.id,this.urlSerializer.serialize(n.extractedUrl),r,o);this.events.next(s),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){const n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function woe(e){return e!==Lf}let Doe=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=V({token:e,factory:()=>I(Ioe),providedIn:"root"})}}return e})();class Moe{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}}let Ioe=(()=>{class e extends Moe{static{this.\u0275fac=(()=>{let n;return function(o){return(n||(n=Ut(e)))(o||e)}})()}static{this.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),I2=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=V({token:e,factory:()=>I(Toe),providedIn:"root"})}}return e})(),Toe=(()=>{class e extends I2{constructor(){super(...arguments),this.location=I(Sf),this.urlSerializer=I(Il),this.options=I(zf,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=I(iD),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new ha,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=r2(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{"popstate"===r.type&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof qw)this.stateMemento=this.createStateMemento();else if(n instanceof Vf)this.rawUrlTree=r.initialUrl;else if(n instanceof e2){if("eager"===this.urlUpdateStrategy&&!r.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??o,r)}}else n instanceof Gw?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,"deferred"===this.urlUpdateStrategy&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):n instanceof _a&&(n.code===er.GuardRejected||n.code===er.NoDataFromResolver)?this.restoreHistory(r):n instanceof Ww?this.restoreHistory(r,!0):n instanceof ma&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){const o=n instanceof ha?this.urlSerializer.serialize(n):n;if(this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl){const i={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(o,"",i)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(o,"",s)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===n.finalUrl&&0===s&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static{this.\u0275fac=(()=>{let n;return function(o){return(n||(n=Ut(e)))(o||e)}})()}static{this.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var Wf=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(Wf||{});function Roe(e){throw e}const Ooe={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Aoe={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ni=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=I(aP),this.stateManager=I(I2),this.options=I(zf,{optional:!0})||{},this.pendingTasks=I(Qo),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=I(E_),this.urlSerializer=I(Il),this.location=I(Sf),this.urlHandlingStrategy=I(iD),this._events=new xt,this.errorHandler=this.options.errorHandler||Roe,this.navigated=!1,this.routeReuseStrategy=I(Doe),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=I(b_,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!I(p_,{optional:!0}),this.eventsSubscription=new dn,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const n=this.navigationTransitions.events.subscribe(r=>{try{const o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(null!==o&&null!==s)if(this.stateManager.handleRouterEvent(r,s),r instanceof _a&&r.code!==er.Redirect&&r.code!==er.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof ma)this.navigated=!0;else if(r instanceof d_){const i=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,o.currentRawUrl),c={browserUrl:o.extras.browserUrl,info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||"eager"===this.urlUpdateStrategy||woe(o.source),...i};this.scheduleNavigation(a,Lf,null,c,{resolve:o.resolve,reject:o.reject,promise:o.promise})}(function Noe(e){return!(e instanceof Gw||e instanceof d_)})(r)&&this._events.next(r)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Lf,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,o){const s={replaceUrl:!0},i=o?.navigationId?o:null;if(o){const c={...o};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(s.state=c)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,i,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(sD),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){const{relativeTo:o,queryParams:s,fragment:i,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:i;let d,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u={...this.currentUrlTree.queryParams,...s};break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=s||null}null!==u&&(u=this.removeEmptyProps(u));try{d=GL(o?o.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||"/"!==n[0][0])&&(n=[]),d=this.currentUrlTree.root}return XL(d,n,u,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){const o=ga(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,Lf,null,r)}navigate(n,r={skipLocationChange:!1}){return function koe(e){for(let t=0;t<e.length;t++)if(null==e[t])throw new M(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let o;if(o=!0===r?{...Ooe}:!1===r?{...Aoe}:r,ga(n))return VL(this.currentUrlTree,n,o);const s=this.parseUrl(n);return VL(this.currentUrlTree,s,o)}removeEmptyProps(n){return Object.entries(n).reduce((r,[o,s])=>(null!=s&&(r[o]=s),r),{})}scheduleNavigation(n,r,o,s,i){if(this.disposed)return Promise.resolve(!1);let a,c,l;i?(a=i.resolve,c=i.reject,l=i.promise):l=new Promise((d,f)=>{a=d,c=f});const u=this.pendingTasks.add();return function T2(e,t){e.events.pipe(is(n=>n instanceof ma||n instanceof _a||n instanceof Ww||n instanceof Vf),se(n=>n instanceof ma||n instanceof Vf?Wf.COMPLETE:n instanceof _a&&(n.code===er.Redirect||n.code===er.SupersededByNewNavigation)?Wf.REDIRECTING:Wf.FAILED),is(n=>n!==Wf.REDIRECTING),ei(1)).subscribe(()=>{t()})}(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(d=>Promise.reject(d))}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const cD=new P("");function Voe(e,...t){return Dc([{provide:b_,multi:!0,useValue:e},[],{provide:ya,useFactory:O2,deps:[ni]},{provide:ym,multi:!0,useFactory:A2},t.map(n=>n.\u0275providers)])}function O2(e){return e.routerState.root}function A2(){const e=I(an);return t=>{const n=e.get(So);if(t!==n.components[0])return;const r=e.get(ni),o=e.get(k2);1===e.get(lD)&&r.initialNavigation(),e.get(N2,null,ge.Optional)?.setUpPreloading(),e.get(cD,null,ge.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}const k2=new P("",{factory:()=>new xt}),lD=new P("",{providedIn:"root",factory:()=>1}),N2=new P("");function Hoe(e,t){1&e&&(Xs(0),Re(1,"main",1),Dn(2,"img",2),Re(3,"section",3),Dn(4,"router-outlet"),Fe()(),Ks())}function $oe(e,t){1&e&&(Xs(0),Re(1,"main",4)(2,"section",3),Dn(3,"router-outlet"),Fe()(),Ks())}function qoe(e,t){1&e&&Dn(0,"img",11)}function zoe(e,t){1&e&&Dn(0,"img",12)}function Woe(e,t){if(1&e&&(Xs(0),Re(1,"header",5),Dn(2,"img",6),Fe(),Re(3,"div",7),_r(4,qoe,1,0,"img",8)(5,zoe,1,0,"img",9),Fe(),Re(6,"div",10)(7,"h1"),br(8,"Only available in landscape mode"),Fe(),Re(9,"h3"),br(10,"Turn your device!"),Fe()(),Ks()),2&e){const n=vr();rt(4),gt("ngIf",n.mode==n.Mode.LIGHT),rt(),gt("ngIf",n.mode==n.Mode.DARK)}}let Goe=(()=>{class e{constructor(n,r){this.responsive=n,this.modeToggleService=r,this.isMobileDisplay=!0,this.isPortrait=!1,this.isLandscape=!1,this.mode=da.LIGHT,this.Mode=da,this.modeToggleService.modeChanged$.subscribe(o=>this.mode=o),this.checkOrientation()}ngOnInit(){this.responsive.observe(["(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)"]).subscribe(n=>{this.isMobileDisplay=!n.matches})}onOrientationChange(n){this.checkOrientation()}checkOrientation(){const n=window.screen.orientation.angle;this.isPortrait=0===n||180===n,this.isLandscape=90===n||-90===n}static{this.\u0275fac=function(r){return new(r||e)(k(cne),k(une))}}static{this.\u0275cmp=zo({type:e,selectors:[["app-root"]],hostBindings:function(r,o){1&r&&mt("orientationchange",function(i){return o.onOrientationChange(i)},0,xA)},decls:4,vars:3,consts:[[4,"ngIf"],[1,"flex","app-container"],["src","./assets/images/title.svg","id","title-image","alt","Website Title",1,"top-left-corner"],[1,"flex","content"],[1,"app-container"],[1,"header-mobile","mt-40","mb-40"],["src","./assets/images/title-mobile.svg","alt","Website Title",1,"title-image-mobile"],[1,"portrait-to-landscape"],["src","./assets/images/light/orientation.png","class","portrait-to-landscape-image","alt","Portrait to landscape image",4,"ngIf"],["src","./assets/images/dark/orientation.png","class","portrait-to-landscape-image","alt","Portrait to landscape image",4,"ngIf"],[1,"ml-10"],["src","./assets/images/light/orientation.png","alt","Portrait to landscape image",1,"portrait-to-landscape-image"],["src","./assets/images/dark/orientation.png","alt","Portrait to landscape image",1,"portrait-to-landscape-image"]],template:function(r,o){1&r&&(Dn(0,"ngx-loading-bar"),_r(1,Hoe,5,0,"ng-container",0)(2,$oe,4,0,"ng-container",0)(3,Woe,11,2,"ng-container",0)),2&r&&(rt(),gt("ngIf",!o.isMobileDisplay),rt(),gt("ngIf",o.isMobileDisplay&&o.isLandscape),rt(),gt("ngIf",o.isMobileDisplay&&o.isPortrait))},dependencies:[qm,Dne,Jw],styles:['html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%;margin:0}[_ngcontent-%COMP%]:root{font-family:Inter,sans-serif;font-feature-settings:"liga" 1,"calt" 1,"ss01" on}@supports (font-variation-settings: normal){[_ngcontent-%COMP%]:root{font-family:InterVariable,sans-serif}}a[_ngcontent-%COMP%]{all:unset}h3[_ngcontent-%COMP%]{margin:0}button[_ngcontent-%COMP%]{font-family:inherit;font-size:100%;line-height:1.15;margin:0;overflow:visible;text-transform:none;-webkit-appearance:button}.flex[_ngcontent-%COMP%]{display:flex}.mt-40[_ngcontent-%COMP%]{margin-top:40px}.mb-40[_ngcontent-%COMP%]{margin-bottom:40px}.mb-10[_ngcontent-%COMP%]{margin-bottom:10px}.ml-10[_ngcontent-%COMP%]{margin-left:10px}body.dark[_ngcontent-%COMP%]{--backgroundColor: #2e2e2e;--textColor: white;--borderColor: white;--menuButtonColor: #CC71FA;--gridHighLightColor: #474747;background-color:var(--backgroundColor);color:var(--textColor)}body.light[_ngcontent-%COMP%]{--backgroundColor: white;--textColor: black;--borderColor: black;--menuButtonColor: #70F1FA;--gridHighLightColor: #e8e8e8;background-color:var(--backgroundColor);color:var(--textColor)}.app-container[_ngcontent-%COMP%]{height:100%}.app-container[_ngcontent-%COMP%]   .top-left-corner[_ngcontent-%COMP%]{position:absolute;top:10px;left:10px}.menu[_ngcontent-%COMP%]{flex-direction:column;justify-content:flex-start;align-items:flex-start}.menu.genre[_ngcontent-%COMP%]{justify-content:flex-end}.content[_ngcontent-%COMP%]{flex:1;justify-content:center;align-items:center;overflow:auto;height:100%}.header[_ngcontent-%COMP%]{width:240px;font-size:30px}.column[_ngcontent-%COMP%]{flex-direction:column}.nowrap[_ngcontent-%COMP%]{white-space:nowrap}.header-mobile[_ngcontent-%COMP%]{font-size:30px;width:100%;text-align:center}.pointer[_ngcontent-%COMP%]{cursor:pointer}#title-image[_ngcontent-%COMP%]{width:150px;aspect-ratio:1}.title-image-mobile[_ngcontent-%COMP%]{width:300px}.portrait-to-landscape[_ngcontent-%COMP%]{justify-content:center;display:flex;flex-direction:row;margin:50px}.portrait-to-landscape[_ngcontent-%COMP%]   .portrait-to-landscape-image[_ngcontent-%COMP%]{width:100px}']})}}return e})();function F2(e,t,n,r,o,s,i){try{var a=e[s](i),c=a.value}catch(l){return void n(l)}a.done?t(c):Promise.resolve(c).then(r,o)}function kl(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var s=e.apply(t,n);function i(c){F2(s,r,o,i,a,"next",c)}function a(c){F2(s,r,o,i,a,"throw",c)}i(void 0)})}}class C_{}class Gf{}class tr{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?"string"==typeof t?this.lazyInit=()=>{this.headers=new Map,t.split("\n").forEach(n=>{const r=n.indexOf(":");if(r>0){const o=n.slice(0,r),s=o.toLowerCase(),i=n.slice(r+1).trim();this.maybeSetNormalizedName(o,s),this.headers.has(s)?this.headers.get(s).push(i):this.headers.set(s,[i])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const n=this.headers.get(t.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,n){return this.clone({name:t,value:n,op:"a"})}set(t,n){return this.clone({name:t,value:n,op:"s"})}delete(t,n){return this.clone({name:t,value:n,op:"d"})}maybeSetNormalizedName(t,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,t)}init(){this.lazyInit&&(this.lazyInit instanceof tr?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(n=>{this.headers.set(n,t.headers.get(n)),this.normalizedNames.set(n,t.normalizedNames.get(n))})}clone(t){const n=new tr;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof tr?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}applyUpdate(t){const n=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(t.name,n);const o=("a"===t.op?this.headers.get(n):void 0)||[];o.push(...r),this.headers.set(n,o);break;case"d":const s=t.value;if(s){let i=this.headers.get(n);if(!i)return;i=i.filter(a=>-1===s.indexOf(a)),0===i.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,i)}else this.headers.delete(n),this.normalizedNames.delete(n)}}setHeaderEntries(t,n){const r=(Array.isArray(n)?n:[n]).map(s=>s.toString()),o=t.toLowerCase();this.headers.set(o,r),this.maybeSetNormalizedName(t,o)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>t(this.normalizedNames.get(n),this.headers.get(n)))}}class Xoe{encodeKey(t){return P2(t)}encodeValue(t){return P2(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const Zoe=/%(\d[a-f0-9])/gi,Yoe={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function P2(e){return encodeURIComponent(e).replace(Zoe,(t,n)=>Yoe[n]??t)}function S_(e){return`${e}`}class cs{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new Xoe,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Koe(e,t){const n=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(o=>{const s=o.indexOf("="),[i,a]=-1==s?[t.decodeKey(o),""]:[t.decodeKey(o.slice(0,s)),t.decodeValue(o.slice(s+1))],c=n.get(i)||[];c.push(a),n.set(i,c)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(n=>{const r=t.fromObject[n],o=Array.isArray(r)?r.map(S_):[S_(r)];this.map.set(n,o)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const n=this.map.get(t);return n?n[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,n){return this.clone({param:t,value:n,op:"a"})}appendAll(t){const n=[];return Object.keys(t).forEach(r=>{const o=t[r];Array.isArray(o)?o.forEach(s=>{n.push({param:r,value:s,op:"a"})}):n.push({param:r,value:o,op:"a"})}),this.clone(n)}set(t,n){return this.clone({param:t,value:n,op:"s"})}delete(t,n){return this.clone({param:t,value:n,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const n=this.encoder.encodeKey(t);return this.map.get(t).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const n=new cs({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(t),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const n=("a"===t.op?this.map.get(t.param):void 0)||[];n.push(S_(t.value)),this.map.set(t.param,n);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let r=this.map.get(t.param)||[];const o=r.indexOf(S_(t.value));-1!==o&&r.splice(o,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class Qoe{constructor(){this.map=new Map}set(t,n){return this.map.set(t,n),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function L2(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function V2(e){return typeof Blob<"u"&&e instanceof Blob}function j2(e){return typeof FormData<"u"&&e instanceof FormData}class Xf{constructor(t,n,r,o){let s;if(this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function Joe(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==r?r:null,s=o):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new tr,this.context??=new Qoe,this.params){const i=this.params.toString();if(0===i.length)this.urlWithParams=n;else{const a=n.indexOf("?");this.urlWithParams=n+(-1===a?"?":a<n.length-1?"&":"")+i}}else this.params=new cs,this.urlWithParams=n}serializeBody(){return null===this.body?null:"string"==typeof this.body||L2(this.body)||V2(this.body)||j2(this.body)||function ese(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}(this.body)?this.body:this.body instanceof cs?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||j2(this.body)?null:V2(this.body)?this.body.type||null:L2(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof cs?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const n=t.method||this.method,r=t.url||this.url,o=t.responseType||this.responseType,s=t.transferCache??this.transferCache,i=void 0!==t.body?t.body:this.body,a=t.withCredentials??this.withCredentials,c=t.reportProgress??this.reportProgress;let l=t.headers||this.headers,u=t.params||this.params;const d=t.context??this.context;return void 0!==t.setHeaders&&(l=Object.keys(t.setHeaders).reduce((f,h)=>f.set(h,t.setHeaders[h]),l)),t.setParams&&(u=Object.keys(t.setParams).reduce((f,h)=>f.set(h,t.setParams[h]),u)),new Xf(n,r,i,{params:u,headers:l,context:d,reportProgress:c,responseType:o,withCredentials:a,transferCache:s})}}var ri=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(ri||{});class uD{constructor(t,n=200,r="OK"){this.headers=t.headers||new tr,this.status=void 0!==t.status?t.status:n,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class w_ extends uD{constructor(t={}){super(t),this.type=ri.ResponseHeader}clone(t={}){return new w_({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class oi extends uD{constructor(t={}){super(t),this.type=ri.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new oi({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Nl extends uD{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function dD(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,transferCache:e.transferCache}}let U2=(()=>{class e{constructor(n){this.handler=n}request(n,r,o={}){let s;if(n instanceof Xf)s=n;else{let c,l;c=o.headers instanceof tr?o.headers:new tr(o.headers),o.params&&(l=o.params instanceof cs?o.params:new cs({fromObject:o.params})),s=new Xf(n,r,void 0!==o.body?o.body:null,{headers:c,context:o.context,params:l,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache})}const i=ne(s).pipe(fa(c=>this.handler.handle(c)));if(n instanceof Xf||"events"===o.observe)return i;const a=i.pipe(is(c=>c instanceof oi));switch(o.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(se(c=>{if(null!==c.body&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return a.pipe(se(c=>{if(null!==c.body&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return a.pipe(se(c=>{if(null!==c.body&&"string"!=typeof c.body)throw new Error("Response is not a string.");return c.body}));default:return a.pipe(se(c=>c.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:(new cs).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,o={}){return this.request("PATCH",n,dD(o,r))}post(n,r,o={}){return this.request("POST",n,dD(o,r))}put(n,r,o={}){return this.request("PUT",n,dD(o,r))}static{this.\u0275fac=function(r){return new(r||e)(j(C_))}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac})}}return e})();const rse=/^\)\]\}',?\n/;function H2(e){if(e.url)return e.url;const t="X-Request-URL".toLocaleLowerCase();return e.headers.get(t)}let fD=(()=>{class e{constructor(){this.fetchImpl=I(sse,{optional:!0})?.fetch??((...n)=>globalThis.fetch(...n)),this.ngZone=I(Te)}handle(n){return new Ge(r=>{const o=new AbortController;return this.doRequest(n,o.signal,r).then(hD,s=>r.error(new Nl({error:s}))),()=>o.abort()})}doRequest(n,r,o){var s=this;return kl(function*(){const i=s.createRequestInit(n);let a;try{const g=s.ngZone.runOutsideAngular(()=>s.fetchImpl(n.urlWithParams,{signal:r,...i}));(function ise(e){e.then(hD,hD)})(g),o.next({type:ri.Sent}),a=yield g}catch(g){return void o.error(new Nl({error:g,status:g.status??0,statusText:g.statusText,url:n.urlWithParams,headers:g.headers}))}const c=new tr(a.headers),l=a.statusText,u=H2(a)??n.urlWithParams;let d=a.status,f=null;if(n.reportProgress&&o.next(new w_({headers:c,status:d,statusText:l,url:u})),a.body){const g=a.headers.get("content-length"),m=[],y=a.body.getReader();let v,N,C=0;const L=typeof Zone<"u"&&Zone.current;yield s.ngZone.runOutsideAngular(kl(function*(){for(;;){const{done:ae,value:Pe}=yield y.read();if(ae)break;if(m.push(Pe),C+=Pe.length,n.reportProgress){N="text"===n.responseType?(N??"")+(v??=new TextDecoder).decode(Pe,{stream:!0}):void 0;const et=()=>o.next({type:ri.DownloadProgress,total:g?+g:void 0,loaded:C,partialText:N});L?L.run(et):et()}}}));const $=s.concatChunks(m,C);try{const ae=a.headers.get("Content-Type")??"";f=s.parseBody(n,$,ae)}catch(ae){return void o.error(new Nl({error:ae,headers:new tr(a.headers),status:a.status,statusText:a.statusText,url:H2(a)??n.urlWithParams}))}}0===d&&(d=f?200:0),d>=200&&d<300?(o.next(new oi({body:f,headers:c,status:d,statusText:l,url:u})),o.complete()):o.error(new Nl({error:f,headers:c,status:d,statusText:l,url:u}))})()}parseBody(n,r,o){switch(n.responseType){case"json":const s=(new TextDecoder).decode(r).replace(rse,"");return""===s?null:JSON.parse(s);case"text":return(new TextDecoder).decode(r);case"blob":return new Blob([r],{type:o});case"arraybuffer":return r.buffer}}createRequestInit(n){const r={},o=n.withCredentials?"include":void 0;if(n.headers.forEach((s,i)=>r[s]=i.join(",")),n.headers.has("Accept")||(r.Accept="application/json, text/plain, */*"),!n.headers.has("Content-Type")){const s=n.detectContentTypeHeader();null!==s&&(r["Content-Type"]=s)}return{body:n.serializeBody(),method:n.method,headers:r,credentials:o}}concatChunks(n,r){const o=new Uint8Array(r);let s=0;for(const i of n)o.set(i,s),s+=i.length;return o}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac})}}return e})();class sse{}function hD(){}function $2(e,t){return t(e)}function ase(e,t){return(n,r)=>t.intercept(n,{handle:o=>e(o,r)})}const q2=new P(""),Kf=new P(""),z2=new P(""),W2=new P("",{providedIn:"root",factory:()=>!0});function lse(){let e=null;return(t,n)=>{null===e&&(e=(I(q2,{optional:!0})??[]).reduceRight(ase,$2));const r=I(Qo);if(I(W2)){const s=r.add();return e(t,n).pipe(Dl(()=>r.remove(s)))}return e(t,n)}}let G2=(()=>{class e extends C_{constructor(n,r){super(),this.backend=n,this.injector=r,this.chain=null,this.pendingTasks=I(Qo),this.contributeToStability=I(W2)}handle(n){if(null===this.chain){const r=Array.from(new Set([...this.injector.get(Kf),...this.injector.get(z2,[])]));this.chain=r.reduceRight((o,s)=>function cse(e,t,n){return(r,o)=>Go(n,()=>t(r,s=>e(s,o)))}(o,s,this.injector),$2)}if(this.contributeToStability){const r=this.pendingTasks.add();return this.chain(n,o=>this.backend.handle(o)).pipe(Dl(()=>this.pendingTasks.remove(r)))}return this.chain(n,r=>this.backend.handle(r))}static{this.\u0275fac=function(r){return new(r||e)(j(Gf),j(Vn))}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac})}}return e})();const pse=/^\)\]\}',?\n/;let pD=(()=>{class e{constructor(n){this.xhrFactory=n}handle(n){if("JSONP"===n.method)throw new M(-2800,!1);const r=this.xhrFactory;return(r.\u0275loadImpl?Kt(r.\u0275loadImpl()):ne(null)).pipe(wr(()=>new Ge(s=>{const i=r.build();if(i.open(n.method,n.urlWithParams),n.withCredentials&&(i.withCredentials=!0),n.headers.forEach((m,y)=>i.setRequestHeader(m,y.join(","))),n.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){const m=n.detectContentTypeHeader();null!==m&&i.setRequestHeader("Content-Type",m)}if(n.responseType){const m=n.responseType.toLowerCase();i.responseType="json"!==m?m:"text"}const a=n.serializeBody();let c=null;const l=()=>{if(null!==c)return c;const m=i.statusText||"OK",y=new tr(i.getAllResponseHeaders()),C=function gse(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(i)||n.url;return c=new w_({headers:y,status:i.status,statusText:m,url:C}),c},u=()=>{let{headers:m,status:y,statusText:C,url:v}=l(),N=null;204!==y&&(N=typeof i.response>"u"?i.responseText:i.response),0===y&&(y=N?200:0);let L=y>=200&&y<300;if("json"===n.responseType&&"string"==typeof N){const $=N;N=N.replace(pse,"");try{N=""!==N?JSON.parse(N):null}catch(ae){N=$,L&&(L=!1,N={error:ae,text:N})}}L?(s.next(new oi({body:N,headers:m,status:y,statusText:C,url:v||void 0})),s.complete()):s.error(new Nl({error:N,headers:m,status:y,statusText:C,url:v||void 0}))},d=m=>{const{url:y}=l(),C=new Nl({error:m,status:i.status||0,statusText:i.statusText||"Unknown Error",url:y||void 0});s.error(C)};let f=!1;const h=m=>{f||(s.next(l()),f=!0);let y={type:ri.DownloadProgress,loaded:m.loaded};m.lengthComputable&&(y.total=m.total),"text"===n.responseType&&i.responseText&&(y.partialText=i.responseText),s.next(y)},g=m=>{let y={type:ri.UploadProgress,loaded:m.loaded};m.lengthComputable&&(y.total=m.total),s.next(y)};return i.addEventListener("load",u),i.addEventListener("error",d),i.addEventListener("timeout",d),i.addEventListener("abort",d),n.reportProgress&&(i.addEventListener("progress",h),null!==a&&i.upload&&i.upload.addEventListener("progress",g)),i.send(a),s.next({type:ri.Sent}),()=>{i.removeEventListener("error",d),i.removeEventListener("abort",d),i.removeEventListener("load",u),i.removeEventListener("timeout",d),n.reportProgress&&(i.removeEventListener("progress",h),null!==a&&i.upload&&i.upload.removeEventListener("progress",g)),i.readyState!==i.DONE&&i.abort()}})))}static{this.\u0275fac=function(r){return new(r||e)(j(zm))}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac})}}return e})();const gD=new P(""),K2=new P("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Z2=new P("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Y2{}let yse=(()=>{class e{constructor(n,r,o){this.doc=n,this.platform=r,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=v1(n,this.cookieName),this.lastCookieString=n),this.lastToken}static{this.\u0275fac=function(r){return new(r||e)(j(Er),j(yo),j(K2))}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac})}}return e})();function vse(e,t){const n=e.url.toLowerCase();if(!I(gD)||"GET"===e.method||"HEAD"===e.method||n.startsWith("http://")||n.startsWith("https://"))return t(e);const r=I(Y2).getToken(),o=I(Z2);return null!=r&&!e.headers.has(o)&&(e=e.clone({headers:e.headers.set(o,r)})),t(e)}var si=function(e){return e[e.Interceptors=0]="Interceptors",e[e.LegacyInterceptors=1]="LegacyInterceptors",e[e.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",e[e.NoXsrfProtection=3]="NoXsrfProtection",e[e.JsonpSupport=4]="JsonpSupport",e[e.RequestsMadeViaParent=5]="RequestsMadeViaParent",e[e.Fetch=6]="Fetch",e}(si||{});function va(e,t){return{\u0275kind:e,\u0275providers:t}}function bse(...e){const t=[U2,pD,G2,{provide:C_,useExisting:G2},{provide:Gf,useFactory:()=>I(fD,{optional:!0})??I(pD)},{provide:Kf,useValue:vse,multi:!0},{provide:gD,useValue:!0},{provide:Y2,useClass:yse}];for(const n of e)t.push(...n.\u0275providers);return Dc(t)}const Q2=new P(""),Ase={100:{code:100,text:"Continue",description:'"The initial part of a request has been received and has not yet been rejected by the server."',spec_title:"RFC7231#6.2.1",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.2.1"},101:{code:101,text:"Switching Protocols",description:'"The server understands and is willing to comply with the client\'s request, via the Upgrade header field, for a change in the application protocol being used on this connection."',spec_title:"RFC7231#6.2.2",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.2.2"},200:{code:200,text:"OK",description:'"The request has succeeded."',spec_title:"RFC7231#6.3.1",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.3.1"},201:{code:201,text:"Created",description:'"The request has been fulfilled and has resulted in one or more new resources being created."',spec_title:"RFC7231#6.3.2",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.3.2"},202:{code:202,text:"Accepted",description:'"The request has been accepted for processing, but the processing has not been completed."',spec_title:"RFC7231#6.3.3",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.3.3"},203:{code:203,text:"Non-Authoritative Information",description:'"The request was successful but the enclosed payload has been modified from that of the origin server\'s 200 (OK) response by a transforming proxy."',spec_title:"RFC7231#6.3.4",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.3.4"},204:{code:204,text:"No Content",description:'"The server has successfully fulfilled the request and that there is no additional content to send in the response payload body."',spec_title:"RFC7231#6.3.5",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.3.5"},205:{code:205,text:"Reset Content",description:'"The server has fulfilled the request and desires that the user agent reset the "document view", which caused the request to be sent, to its original state as received from the origin server."',spec_title:"RFC7231#6.3.6",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.3.6"},206:{code:206,text:"Partial Content",description:'"The server is successfully fulfilling a range request for the target resource by transferring one or more parts of the selected representation that correspond to the satisfiable ranges found in the requests\'s Range header field."',spec_title:"RFC7233#4.1",spec_href:"https://tools.ietf.org/html/rfc7233#section-4.1"},300:{code:300,text:"Multiple Choices",description:'"The target resource has more than one representation, each with its own more specific identifier, and information about the alternatives is being provided so that the user (or user agent) can select a preferred representation by redirecting its request to one or more of those identifiers."',spec_title:"RFC7231#6.4.1",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.4.1"},301:{code:301,text:"Moved Permanently",description:'"The target resource has been assigned a new permanent URI and any future references to this resource ought to use one of the enclosed URIs."',spec_title:"RFC7231#6.4.2",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.4.2"},302:{code:302,text:"Found",description:'"The target resource resides temporarily under a different URI."',spec_title:"RFC7231#6.4.3",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.4.3"},303:{code:303,text:"See Other",description:'"The server is redirecting the user agent to a different resource, as indicated by a URI in the Location header field, that is intended to provide an indirect response to the original request."',spec_title:"RFC7231#6.4.4",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.4.4"},304:{code:304,text:"Not Modified",description:'"A conditional GET request has been received and would have resulted in a 200 (OK) response if it were not for the fact that the condition has evaluated to false."',spec_title:"RFC7232#4.1",spec_href:"https://tools.ietf.org/html/rfc7232#section-4.1"},305:{code:305,text:"Use Proxy",description:"*deprecated*",spec_title:"RFC7231#6.4.5",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.4.5"},307:{code:307,text:"Temporary Redirect",description:'"The target resource resides temporarily under a different URI and the user agent MUST NOT change the request method if it performs an automatic redirection to that URI."',spec_title:"RFC7231#6.4.7",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.4.7"},400:{code:400,text:"Bad Request",description:'"The server cannot or will not process the request because the received syntax is invalid, nonsensical, or exceeds some limitation on what the server is willing to process."',spec_title:"RFC7231#6.5.1",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.1"},401:{code:401,text:"Unauthorized",description:'"The request has not been applied because it lacks valid authentication credentials for the target resource."',spec_title:"RFC7235#6.3.1",spec_href:"https://tools.ietf.org/html/rfc7235#section-3.1"},402:{code:402,text:"Payment Required",description:"*reserved*",spec_title:"RFC7231#6.5.2",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.2"},403:{code:403,text:"Forbidden",description:'"The server understood the request but refuses to authorize it."',spec_title:"RFC7231#6.5.3",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.3"},404:{code:404,text:"Not Found",description:'"The origin server did not find a current representation for the target resource or is not willing to disclose that one exists."',spec_title:"RFC7231#6.5.4",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.4"},405:{code:405,text:"Method Not Allowed",description:'"The method specified in the request-line is known by the origin server but not supported by the target resource."',spec_title:"RFC7231#6.5.5",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.5"},406:{code:406,text:"Not Acceptable",description:'"The target resource does not have a current representation that would be acceptable to the user agent, according to the proactive negotiation header fields received in the request, and the server is unwilling to supply a default representation."',spec_title:"RFC7231#6.5.6",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.6"},407:{code:407,text:"Proxy Authentication Required",description:'"The client needs to authenticate itself in order to use a proxy."',spec_title:"RFC7231#6.3.2",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.3.2"},408:{code:408,text:"Request Timeout",description:'"The server did not receive a complete request message within the time that it was prepared to wait."',spec_title:"RFC7231#6.5.7",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.7"},409:{code:409,text:"Conflict",description:'"The request could not be completed due to a conflict with the current state of the resource."',spec_title:"RFC7231#6.5.8",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.8"},410:{code:410,text:"Gone",description:'"Access to the target resource is no longer available at the origin server and that this condition is likely to be permanent."',spec_title:"RFC7231#6.5.9",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.9"},411:{code:411,text:"Length Required",description:'"The server refuses to accept the request without a defined Content-Length."',spec_title:"RFC7231#6.5.10",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.10"},412:{code:412,text:"Precondition Failed",description:'"One or more preconditions given in the request header fields evaluated to false when tested on the server."',spec_title:"RFC7232#4.2",spec_href:"https://tools.ietf.org/html/rfc7232#section-4.2"},413:{code:413,text:"Payload Too Large",description:'"The server is refusing to process a request because the request payload is larger than the server is willing or able to process."',spec_title:"RFC7231#6.5.11",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.11"},414:{code:414,text:"URI Too Long",description:'"The server is refusing to service the request because the request-target is longer than the server is willing to interpret."',spec_title:"RFC7231#6.5.12",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.12"},415:{code:415,text:"Unsupported Media Type",description:'"The origin server is refusing to service the request because the payload is in a format not supported by the target resource for this method."',spec_title:"RFC7231#6.5.13",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.13"},416:{code:416,text:"Range Not Satisfiable",description:'"None of the ranges in the request\'s Range header field overlap the current extent of the selected resource or that the set of ranges requested has been rejected due to invalid ranges or an excessive request of small or overlapping ranges."',spec_title:"RFC7233#4.4",spec_href:"https://tools.ietf.org/html/rfc7233#section-4.4"},417:{code:417,text:"Expectation Failed",description:'"The expectation given in the request\'s Expect header field could not be met by at least one of the inbound servers."',spec_title:"RFC7231#6.5.14",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.14"},418:{code:418,text:"I'm a teapot",description:'"1988 April Fools Joke. Returned by tea pots requested to brew coffee."',spec_title:"RFC 2324",spec_href:"https://tools.ietf.org/html/rfc2324"},426:{code:426,text:"Upgrade Required",description:'"The server refuses to perform the request using the current protocol but might be willing to do so after the client upgrades to a different protocol."',spec_title:"RFC7231#6.5.15",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.15"},500:{code:500,text:"Internal Server Error",description:'"The server encountered an unexpected condition that prevented it from fulfilling the request."',spec_title:"RFC7231#6.6.1",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.6.1"},501:{code:501,text:"Not Implemented",description:'"The server does not support the functionality required to fulfill the request."',spec_title:"RFC7231#6.6.2",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.6.2"},502:{code:502,text:"Bad Gateway",description:'"The server, while acting as a gateway or proxy, received an invalid response from an inbound server it accessed while attempting to fulfill the request."',spec_title:"RFC7231#6.6.3",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.6.3"},503:{code:503,text:"Service Unavailable",description:'"The server is currently unable to handle the request due to a temporary overload or scheduled maintenance, which will likely be alleviated after some delay."',spec_title:"RFC7231#6.6.4",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.6.4"},504:{code:504,text:"Gateway Time-out",description:'"The server, while acting as a gateway or proxy, did not receive a timely response from an upstream server it needed to access in order to complete the request."',spec_title:"RFC7231#6.6.5",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.6.5"},505:{code:505,text:"HTTP Version Not Supported",description:'"The server does not support, or refuses to support, the protocol version that was used in the request message."',spec_title:"RFC7231#6.6.6",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.6.6"},102:{code:102,text:"Processing",description:'"An interim response to inform the client that the server has accepted the complete request, but has not yet completed it."',spec_title:"RFC5218#10.1",spec_href:"https://tools.ietf.org/html/rfc2518#section-10.1"},207:{code:207,text:"Multi-Status",description:'"Status for multiple independent operations."',spec_title:"RFC5218#10.2",spec_href:"https://tools.ietf.org/html/rfc2518#section-10.2"},226:{code:226,text:"IM Used",description:'"The server has fulfilled a GET request for the resource, and the response is a representation of the result of one or more instance-manipulations applied to the current instance."',spec_title:"RFC3229#10.4.1",spec_href:"https://tools.ietf.org/html/rfc3229#section-10.4.1"},308:{code:308,text:"Permanent Redirect",description:'"The target resource has been assigned a new permanent URI and any future references to this resource SHOULD use one of the returned URIs. [...] This status code is similar to 301 Moved Permanently (Section 7.3.2 of rfc7231), except that it does not allow rewriting the request method from POST to GET."',spec_title:"RFC7238",spec_href:"https://tools.ietf.org/html/rfc7238"},422:{code:422,text:"Unprocessable Entity",description:'"The server understands the content type of the request entity (hence a 415(Unsupported Media Type) status code is inappropriate), and the syntax of the request entity is correct (thus a 400 (Bad Request) status code is inappropriate) but was unable to process the contained instructions."',spec_title:"RFC5218#10.3",spec_href:"https://tools.ietf.org/html/rfc2518#section-10.3"},423:{code:423,text:"Locked",description:'"The source or destination resource of a method is locked."',spec_title:"RFC5218#10.4",spec_href:"https://tools.ietf.org/html/rfc2518#section-10.4"},424:{code:424,text:"Failed Dependency",description:'"The method could not be performed on the resource because the requested action depended on another action and that action failed."',spec_title:"RFC5218#10.5",spec_href:"https://tools.ietf.org/html/rfc2518#section-10.5"},428:{code:428,text:"Precondition Required",description:'"The origin server requires the request to be conditional."',spec_title:"RFC6585#3",spec_href:"https://tools.ietf.org/html/rfc6585#section-3"},429:{code:429,text:"Too Many Requests",description:'"The user has sent too many requests in a given amount of time ("rate limiting")."',spec_title:"RFC6585#4",spec_href:"https://tools.ietf.org/html/rfc6585#section-4"},431:{code:431,text:"Request Header Fields Too Large",description:'"The server is unwilling to process the request because its header fields are too large."',spec_title:"RFC6585#5",spec_href:"https://tools.ietf.org/html/rfc6585#section-5"},451:{code:451,text:"Unavailable For Legal Reasons",description:'"The server is denying access to the resource in response to a legal demand."',spec_title:"draft-ietf-httpbis-legally-restricted-status",spec_href:"https://tools.ietf.org/html/draft-ietf-httpbis-legally-restricted-status"},506:{code:506,text:"Variant Also Negotiates",description:'"The server has an internal configuration error: the chosen variant resource is configured to engage in transparent content negotiation itself, and is therefore not a proper end point in the negotiation process."',spec_title:"RFC2295#8.1",spec_href:"https://tools.ietf.org/html/rfc2295#section-8.1"},507:{code:507,text:"Insufficient Storage",description:'The method could not be performed on the resource because the server is unable to store the representation needed to successfully complete the request."',spec_title:"RFC5218#10.6",spec_href:"https://tools.ietf.org/html/rfc2518#section-10.6"},511:{code:511,text:"Network Authentication Required",description:'"The client needs to authenticate to gain network access."',spec_title:"RFC6585#6",spec_href:"https://tools.ietf.org/html/rfc6585#section-6"}};class mD{}class xse{}let M_=(()=>{class e{constructor(n={}){Object.assign(this,{caseSensitiveSearch:!1,dataEncapsulation:!1,delay:500,delete404:!1,passThruUnknownUrl:!1,post204:!0,post409:!1,put204:!0,put404:!1,apiBase:void 0,host:void 0,rootPath:void 0},n)}static{this.\u0275fac=function(r){return new(r||e)(j(xse))}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac})}}return e})();class Lse{constructor(t,n={}){this.inMemDbService=t,this.config=new M_,this.db={},this.requestInfoUtils=this.getRequestInfoUtils();const r=this.getLocation("/");this.config.host=r.host,this.config.rootPath=r.path,Object.assign(this.config,n)}get dbReady(){return this.dbReadySubject||(this.dbReadySubject=new xn(!1),this.resetDb()),this.dbReadySubject.asObservable().pipe(as(t=>t))}handleRequest(t){return this.dbReady.pipe(fa(()=>this.handleRequest_(t)))}handleRequest_(t){const n=t.urlWithParams?t.urlWithParams:t.url,r=this.bind("parseRequestUrl"),o=r&&r(n,this.requestInfoUtils)||this.parseRequestUrl(n),s=o.collectionName,i=this.db[s],a={req:t,apiBase:o.apiBase,collection:i,collectionName:s,headers:this.createHeaders({"Content-Type":"application/json"}),id:this.parseId(i,s,o.id),method:this.getRequestMethod(t),query:o.query,resourceUrl:o.resourceUrl,url:n,utils:this.requestInfoUtils};let c;if(/commands\/?$/i.test(a.apiBase))return this.commands(a);const l=this.bind(a.method);if(l){const u=l(a);if(u)return u}return this.db[s]?this.createResponse$(()=>this.collectionHandler(a)):this.config.passThruUnknownUrl?this.getPassThruBackend().handle(t):(c=this.createErrorResponseOptions(n,404,`Collection '${s}' not found`),this.createResponse$(()=>c))}addDelay(t){const n=this.config.delay;return 0===n?t:function Ose(e,t){return new Ge(n=>{let r=!1,o=!1;const s=e.subscribe(i=>{o=!0,setTimeout(()=>{n.next(i),r&&n.complete()},t)},i=>setTimeout(()=>n.error(i),t),()=>{r=!0,o||n.complete()});return()=>s.unsubscribe()})}(t,n||500)}applyQuery(t,n){const r=[],o=this.config.caseSensitiveSearch?void 0:"i";n.forEach((i,a)=>{i.forEach(c=>r.push({name:a,rx:new RegExp(decodeURI(c),o)}))});const s=r.length;return s?t.filter(i=>{let a=!0,c=s;for(;a&&c;){c-=1;const l=r[c];a=l.rx.test(i[l.name])}return a}):t}bind(t){const n=this.inMemDbService[t];return n?n.bind(this.inMemDbService):void 0}bodify(t){return this.config.dataEncapsulation?{data:t}:t}clone(t){return JSON.parse(JSON.stringify(t))}collectionHandler(t){let n;switch(t.method){case"get":n=this.get(t);break;case"post":n=this.post(t);break;case"put":n=this.put(t);break;case"delete":n=this.delete(t);break;default:n=this.createErrorResponseOptions(t.url,405,"Method not allowed")}const r=this.bind("responseInterceptor");return r?r(n,t):n}commands(t){const n=t.collectionName.toLowerCase(),r=t.method;let o={url:t.url};switch(n){case"resetdb":return o.status=204,this.resetDb(t).pipe(fa(()=>this.createResponse$(()=>o,!1)));case"config":if("get"===r)o.status=200,o.body=this.clone(this.config);else{const s=this.getJsonBody(t.req);Object.assign(this.config,s),this.passThruBackend=void 0,o.status=204}break;default:o=this.createErrorResponseOptions(t.url,500,`Unknown command "${n}"`)}return this.createResponse$(()=>o,!1)}createErrorResponseOptions(t,n,r){return{body:{error:`${r}`},url:t,headers:this.createHeaders({"Content-Type":"application/json"}),status:n}}createResponse$(t,n=!0){const r=this.createResponseOptions$(t);let o=this.createResponse$fromResponseOptions$(r);return n?this.addDelay(o):o}createResponseOptions$(t){return new Ge(n=>{let r;try{r=t()}catch(s){r=this.createErrorResponseOptions("",500,`${s.message||s}`)}const o=r.status;try{r.statusText=null!=o?function kse(e){return Ase[e+""].text||"Unknown Status"}(o):void 0}catch{}return null!=o&&function Nse(e){return e>=200&&e<300}(o)?(n.next(r),n.complete()):n.error(r),()=>{}})}delete({collection:t,collectionName:n,headers:r,id:o,url:s}){return null==o?this.createErrorResponseOptions(s,404,`Missing "${n}" id`):{headers:r,status:this.removeById(t,o)||!this.config.delete404?204:404}}findById(t,n){return t.find(r=>r.id===n)}genId(t,n){const r=this.bind("genId");if(r){const o=r(t,n);if(null!=o)return o}return this.genIdDefault(t,n)}genIdDefault(t,n){if(!this.isCollectionIdNumeric(t,n))throw new Error(`Collection '${n}' id type is non-numeric or unknown. Can only generate numeric ids.`);let r=0;return t.reduce((o,s)=>{r=Math.max(r,"number"==typeof s.id?s.id:r)},void 0),r+1}get({collection:t,collectionName:n,headers:r,id:o,query:s,url:i}){let a=t;return null!=o&&""!==o?a=this.findById(t,o):s&&(a=this.applyQuery(t,s)),a?{body:this.bodify(this.clone(a)),headers:r,status:200}:this.createErrorResponseOptions(i,404,`'${n}' with id='${o}' not found`)}getLocation(t){if(!t.startsWith("http")){const n=typeof document>"u"?void 0:document,r=n?n.location.protocol+"//"+n.location.host:"http://fake";t=t.startsWith("/")?r+t:r+"/"+t}return function Fse(e){const n=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(e),r={source:"",protocol:"",authority:"",userInfo:"",user:"",password:"",host:"",port:"",relative:"",path:"",directory:"",file:"",query:"",anchor:""},o=Object.keys(r);let s=o.length;for(;s--;)r[o[s]]=n&&n[s]||"";return r}(t)}getPassThruBackend(){return this.passThruBackend?this.passThruBackend:this.passThruBackend=this.createPassThruBackend()}getRequestInfoUtils(){return{createResponse$:this.createResponse$.bind(this),findById:this.findById.bind(this),isCollectionIdNumeric:this.isCollectionIdNumeric.bind(this),getConfig:()=>this.config,getDb:()=>this.db,getJsonBody:this.getJsonBody.bind(this),getLocation:this.getLocation.bind(this),getPassThruBackend:this.getPassThruBackend.bind(this),parseRequestUrl:this.parseRequestUrl.bind(this)}}indexOf(t,n){return t.findIndex(r=>r.id===n)}parseId(t,n,r){if(!this.isCollectionIdNumeric(t,n))return r;const o=parseFloat(r);return isNaN(o)?r:o}isCollectionIdNumeric(t,n){return!(!t||!t[0])&&"number"==typeof t[0].id}parseRequestUrl(t){try{const n=this.getLocation(t);let r=(this.config.rootPath||"").length,o="";n.host!==this.config.host&&(r=1,o=n.protocol+"//"+n.host+"/");const i=n.path.substring(r).split("/");let c,a=0;null==this.config.apiBase?c=i[a++]:(c=function Pse(e){return e.replace(/\/$/,"")}(this.config.apiBase.trim()),a=c?c.split("/").length:0),c+="/";let l=i[a++];l=l&&l.split(".")[0];return{apiBase:c,collectionName:l,id:i[a++],query:this.createQueryMap(n.query),resourceUrl:o+c+l+"/"}}catch(n){throw new Error(`unable to parse url '${t}'; original error: ${n.message}`)}}post({collection:t,collectionName:n,headers:r,id:o,req:s,resourceUrl:i,url:a}){const c=this.clone(this.getJsonBody(s));if(null==c.id)try{c.id=o||this.genId(t,n)}catch(d){const f=d.message||"";return/id type is non-numeric/.test(f)?this.createErrorResponseOptions(a,422,f):this.createErrorResponseOptions(a,500,`Failed to generate new id for '${n}'`)}if(o&&o!==c.id)return this.createErrorResponseOptions(a,400,"Request id does not match item.id");const l=this.indexOf(t,o=c.id),u=this.bodify(c);return-1===l?(t.push(c),r.set("Location",i+"/"+o),{headers:r,body:u,status:201}):this.config.post409?this.createErrorResponseOptions(a,409,`'${n}' item with id='${o} exists and may not be updated with POST; use PUT instead.`):(t[l]=c,this.config.post204?{headers:r,status:204}:{headers:r,body:u,status:200})}put({collection:t,collectionName:n,headers:r,id:o,req:s,url:i}){const a=this.clone(this.getJsonBody(s));if(null==a.id)return this.createErrorResponseOptions(i,404,`Missing '${n}' id`);if(o&&o!==a.id)return this.createErrorResponseOptions(i,400,`Request for '${n}' id does not match item.id`);const c=this.indexOf(t,o=a.id),l=this.bodify(a);return c>-1?(t[c]=a,this.config.put204?{headers:r,status:204}:{headers:r,body:l,status:200}):this.config.put404?this.createErrorResponseOptions(i,404,`'${n}' item with id='${o} not found and may not be created with PUT; use POST instead.`):(t.push(a),{headers:r,body:l,status:201})}removeById(t,n){const r=this.indexOf(t,n);return r>-1&&(t.splice(r,1),!0)}resetDb(t){this.dbReadySubject&&this.dbReadySubject.next(!1);const n=this.inMemDbService.createDb(t);return(n instanceof Ge?n:"function"==typeof n.then?Kt(n):ne(n)).pipe(as()).subscribe(o=>{this.db=o,this.dbReadySubject&&this.dbReadySubject.next(!0)}),this.dbReady}}let Vse=(()=>{class e extends Lse{constructor(n,r,o){super(n,r),this.xhrFactory=o}handle(n){try{return this.handleRequest(n)}catch(r){const s=this.createErrorResponseOptions(n.url,500,`${r.message||r}`);return this.createResponse$(()=>s)}}getJsonBody(n){return n.body}getRequestMethod(n){return(n.method||"get").toLowerCase()}createHeaders(n){return new tr(n)}createQueryMap(n){const r=new Map;if(n){const o=new cs({fromString:n});o.keys().forEach(s=>r.set(s,o.getAll(s)||[]))}return r}createResponse$fromResponseOptions$(n){return n.pipe(se(r=>new oi(r)))}createPassThruBackend(){try{return new pD(this.xhrFactory)}catch(n){throw n.message="Cannot create passThru404 backend; "+(n.message||""),n}}static{this.\u0275fac=function(r){return new(r||e)(j(mD),j(M_,8),j(zm))}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac})}}return e})();function jse(e,t,n){return new Vse(e,t,n)}let iV=(()=>{class e{static forRoot(n,r){return{ngModule:e,providers:[{provide:mD,useClass:n},{provide:M_,useValue:r},{provide:Gf,useFactory:jse,deps:[mD,M_,zm]}]}}static forFeature(n,r){return e.forRoot(n,r)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=Wo({type:e})}static{this.\u0275inj=co({})}}return e})(),aV=(()=>{class e{createDb(){const n={id:"metal",label:"Metal",bpm:180,tracks:[{name:"Snare",fileName:"metal/snare.mp3",steps:"____X_______X___".split("").map(S=>"X"===S)},{name:"Hats",fileName:"metal/crash.mp3",steps:"X___X___X___X___".split("").map(S=>"X"===S)},{name:"Kick",fileName:"metal/kick.mp3",steps:"XXXXXXXXXXXXXXXX".split("").map(S=>"X"===S)}]},r={id:"techno",label:"4 on the floor",bpm:128,tracks:[{name:"Snare",fileName:"techno/snare.wav",steps:"____X_______X___".split("").map(S=>"X"===S)},{name:"Hats",fileName:"techno/hat.wav",steps:"X_X_X_X_X_X_X_X_".split("").map(S=>"X"===S)},{name:"Kick",fileName:"techno/kick.wav",steps:"X   X   X   X   ".split("").map(S=>"X"===S)}]},o={id:"rock-beat",label:"Rock",bpm:145,tracks:[{name:"Snare",fileName:"metal/snare.mp3",steps:"    X       X   ".split("").map(S=>"X"===S)},{name:"Hats",fileName:"metal/hat.mp3",steps:"X   X   X   X   ".split("").map(S=>"X"===S)},{name:"Kick",fileName:"metal/kick.mp3",steps:"X       X       ".split("").map(S=>"X"===S)}]},s={id:"rock-beat-variation",label:"Rock variation",bpm:145,tracks:[{name:"Snare",fileName:"metal/snare.mp3",steps:"    X       X   ".split("").map(S=>"X"===S)},{name:"Crash",fileName:"metal/crash.mp3",steps:"X   X   X   X   ".split("").map(S=>"X"===S)},{name:"Kick",fileName:"metal/kick.mp3",steps:"X       X       ".split("").map(S=>"X"===S)}]},i={id:"psytrance",label:"Psytrance",bpm:135,tracks:[{name:"Closed hats",fileName:"psytrance/closed-hat.wav",steps:"X   X   X   X   ".split("").map(S=>"X"===S)},{name:"Open hats",fileName:"psytrance/open-hat.wav",steps:"  X   X   X   X ".split("").map(S=>"X"===S)},{name:"Snare",fileName:"psytrance/snare.wav",steps:"    X       X   ".split("").map(S=>"X"===S)},{name:"Kick",fileName:"psytrance/kick.wav",steps:"X   X   X   X   ".split("").map(S=>"X"===S)},{name:"Bass",fileName:"psytrance/bass.wav",steps:" XXX XXX XXX XXX".split("").map(S=>"X"===S)}]},a={id:"off-beat-techno-clap",label:"OffBeat clap",bpm:128,tracks:[{name:"Clap",fileName:"gabber/clap.wav",steps:"    X      XX       X      XX   ".split("").map(S=>"X"===S)},{name:"Hats",fileName:"techno/hat.wav",steps:"  X   X   X   X   X   X   X   X ".split("").map(S=>"X"===S)},{name:"Kick",fileName:"techno/kick.wav",steps:"X   X   X   X   X   X   X   X   ".split("").map(S=>"X"===S)}]},c={id:"jersey-club",label:"Jersey club",bpm:140,tracks:[{name:"Bed squeak (low)",fileName:"jersey-club/squeak_low.mp3",steps:"X       X       ".split("").map(S=>"X"===S)},{name:"Bed squeak (high)",fileName:"jersey-club/squeak_high.mp3",steps:"    X       X   ".split("").map(S=>"X"===S)},{name:"Snare",fileName:"jersey-club/snare.mp3",steps:"X   X   X  X  X ".split("").map(S=>"X"===S)},{name:"Kick",fileName:"jersey-club/kick.mp3",steps:"X   X   X  X  X ".split("").map(S=>"X"===S)}]},l={id:"half-time-groove",label:"Half time groove",bpm:145,tracks:[{name:"Snare",fileName:"metal/snare.mp3",steps:"        X       ".split("").map(S=>"X"===S)},{name:"Crash",fileName:"metal/crash.mp3",steps:"X   X   X   X   ".split("").map(S=>"X"===S)},{name:"Kick",fileName:"metal/kick.mp3",steps:"X               ".split("").map(S=>"X"===S)}]},u={id:"garage",label:"Garage",bpm:130,tracks:[{name:"Snare",fileName:"techno/snare.wav",steps:"    X       X   ".split("").map(S=>"X"===S)},{name:"Hats",fileName:"techno/hat.wav",steps:"  X   X   X   X ".split("").map(S=>"X"===S)},{name:"Kick",fileName:"techno/kick.wav",steps:"X           X   ".split("").map(S=>"X"===S)}]},d={id:"gabber",label:"Gabber",bpm:200,tracks:[{name:"Crash Cymbal",fileName:"gabber/crash.wav",steps:"                               X".split("").map(S=>"X"===S)},{name:"Open HiHats",fileName:"gabber/open-hihat.wav",steps:"X X X X X X X X X X X X X X X X ".split("").map(S=>"X"===S)},{name:"Clap",fileName:"gabber/clap.wav",steps:"X   X   X   X   X   X   X   X   ".split("").map(S=>"X"===S)},{name:"Kick",fileName:"gabber/kick.wav",steps:"X   X   X   X   X   X   X   X   ".split("").map(S=>"X"===S)}]},f={id:"ebm",label:"EBM",bpm:120,tracks:[{name:"Clap",fileName:"ebm/clap.wav",steps:[" "," ","X"," ","X"," ","X"," "," "," ","X"," "," "," ","X","X"," "," ","X","X","X","X"," "," "," ","X"," ","X"," "," ","X"," "].map(S=>"X"===S)},{name:"Open High-Hat",fileName:"ebm/open-hihat.wav",steps:[" "," ","X"," "," "," ","X"," "," "," ","X"," "," "," ","X"," "," "," ","X"," "," "," ","X"," "," "," ","X"," "," "," ","X"," "].map(S=>"X"===S)},{name:"Closed High-Hat",fileName:"ebm/closed-hihat.wav",steps:["X","X"," "," ","X","X"," "," ","X","X"," "," ","X","X"," "," ","X","X"," "," ","X","X"," "," ","X","X"," "," ","X","X"," "," "].map(S=>"X"===S)},{name:"Snare",fileName:"ebm/snare.wav",steps:"    X       X       X       X XX".split("").map(S=>"X"===S)},{name:"Kick",fileName:"ebm/kick.wav",steps:"X   X   X   X   X   X   X   X   ".split("").map(S=>"X"===S)}]},h={id:"dub",label:"Dub",bpm:140,tracks:[{name:"Kick",fileName:"dub/kick.wav",steps:"X_______X_______X_______X_______X_______X_______X_______X_______".split("").map(S=>"X"===S)},{name:"Sub Bass",fileName:"dub/sub.wav",steps:["X"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","X"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","X"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","X"," "," "," "," "," "," "," ","X"," "," "," "," "," "," "," "].map(S=>"X"===S)},{name:"Skank",fileName:"dub/skank.wav",steps:"____X_______X_______X_______X_______X_______X_______X_______X___".split("").map(S=>"X"===S)},{name:"Snare",fileName:"dub/snare.wav",steps:[" "," "," "," "," "," "," "," ","X"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","X"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","X"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","X"," ","X"," "," "," "," "," "].map(S=>"X"===S)},{name:"Arpeggio",fileName:"dub/arpeggio_si.wav",steps:"____X_______X_______X_______X_______X_______X_______X_______X___".split("").map(S=>"X"===S)},{name:"Closed Hat",fileName:"dub/closed-hat.wav",steps:[" "," "," "," ","X"," ","X"," "," "," "," "," ","X"," "," "," "," "," "," "," ","X","X","X"," "," "," "," "," ","X"," "," "," "," "," "," "," ","X"," ","X"," "," "," "," "," ","X","X"," "," "," "," "," "," ","X"," ","X"," "," "," "," "," ","X"," ","X","X"].map(S=>"X"===S)},{name:"Bass",fileName:"dub/bass.wav",steps:"X                                         X                     ".split("").map(S=>"X"===S)}]},g={id:"blast-beat",label:"Blast beat",bpm:180,tracks:[{name:"Snare",fileName:"metal/snare.mp3",steps:"_X_X_X_X_X_X_X_X".split("").map(S=>"X"===S)},{name:"Hats",fileName:"metal/hat.mp3",steps:"X_X_X_X_X_X_X_X_".split("").map(S=>"X"===S)},{name:"Kick",fileName:"metal/kick.mp3",steps:"X_X_X_X_X_X_X_X_".split("").map(S=>"X"===S)}]},m={id:"breakcore",label:"Breakcore",bpm:180,tracks:[{name:"Snare (accent)",fileName:"techno/snare.wav",steps:"    X        X  ".split("").map(S=>"X"===S)},{name:"Snare (main)",fileName:"drum-n-bass/snare.wav",steps:"    X  X X   X  ".split("").map(S=>"X"===S)},{name:"Hats",fileName:"techno/hat.wav",steps:"XXXXXXXXXXXXXXXX".split("").map(S=>"X"===S)},{name:"Kick",fileName:"techno/kick.wav",steps:"X X       XX    ".split("").map(S=>"X"===S)}]},y={id:"drum-n-bass",label:"Drum & bass",bpm:170,tracks:[{name:"Snare",fileName:"drum-n-bass/snare.wav",steps:"    X       X   ".split("").map(S=>"X"===S)},{name:"Hats",fileName:"drum-n-bass/hat.wav",steps:"XXXXXXXXXXXXXXXX".split("").map(S=>"X"===S)},{name:"Kick",fileName:"drum-n-bass/kick.wav",steps:"X         X     ".split("").map(S=>"X"===S)}]},C={id:"dancehall-standard",label:"Standard dancehall",bpm:105,tracks:[{name:"Hats",fileName:"techno/hat.wav",steps:"XXXXXXXXXXXXXXXX".split("").map(S=>"X"===S)},{name:"Snare",fileName:"techno/snare.wav",steps:"      X       X ".split("").map(S=>"X"===S)},{name:"Kick",fileName:"techno/kick.wav",steps:"X  X  X X  X  X ".split("").map(S=>"X"===S)}]},v={id:"dancehall-reggaeton",label:"Reggaeton",bpm:105,tracks:[{name:"Hats",fileName:"techno/hat.wav",steps:"XXXXXXXXXXXXXXXX".split("").map(S=>"X"===S)},{name:"Snare",fileName:"techno/snare.wav",steps:"   X  X    X  X ".split("").map(S=>"X"===S)},{name:"Kick",fileName:"techno/kick.wav",steps:"X   X   X   X   ".split("").map(S=>"X"===S)}]},N={id:"dancehall-modern",label:"Modern dancehall",bpm:105,tracks:[{name:"Hats",fileName:"techno/hat.wav",steps:"XXXXXXXXXXXXXXXX".split("").map(S=>"X"===S)},{name:"Rim",fileName:"techno/snare.wav",steps:"   X  X     X   ".split("").map(S=>"X"===S)},{name:"Kick",fileName:"techno/kick.wav",steps:"X         X     ".split("").map(S=>"X"===S)}]};return{genres:[{label:"Techno",beats:[r,d,a]},{label:"Garage",beats:[u,y]},{label:"Breakbeat",beats:[c,m]},{label:"Dancehall",beats:[v,C,N]},{label:"Trance",beats:[i]},{label:"Dub",beats:[h]},{label:"Indus",beats:[f]},{label:"Metal",beats:[n,l,o,s,g]},{label:"Punk",beats:[{id:"punk-beat-quarter-note-groove",label:"Quarter note groove",bpm:170,tracks:[{name:"Hats",fileName:"metal/hat.mp3",steps:"X___X___X___X___".split("").map(S=>"X"===S)},{name:"Snare",fileName:"metal/snare.mp3",steps:"____X_______X___".split("").map(S=>"X"===S)},{name:"Kick",fileName:"metal/kick.mp3",steps:"X_______X_______".split("").map(S=>"X"===S)}]},{id:"punk-beat-quarter-note-groove-variation",label:"Quarter note groove variation",bpm:170,tracks:[{name:"Hats",fileName:"metal/hat.mp3",steps:"X___X___X___X___".split("").map(S=>"X"===S)},{name:"Snare",fileName:"metal/snare.mp3",steps:"____X_______X___".split("").map(S=>"X"===S)},{name:"Kick",fileName:"metal/kick.mp3",steps:"X_X_____X_X_____".split("").map(S=>"X"===S)}]},{id:"punk-beat-eight-note-fill",label:"Eight note fill",bpm:170,tracks:[{name:"Hats",fileName:"metal/hat.mp3",steps:"X_X_X_X_X_X_X_X_".split("").map(S=>"X"===S)},{name:"Snare",fileName:"metal/snare.mp3",steps:"____X_______X___".split("").map(S=>"X"===S)},{name:"Kick",fileName:"metal/kick.mp3",steps:"X_X___X_X_X_____".split("").map(S=>"X"===S)}]}]}],beats:[N,C,v,y,m,g,h,f,n,r,o,s,i,a,c,l,u,d]}}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const Bse={sixteen:16,thirty_two:32,sixty_four:64},_D=new P("IManageGenres");class Use{getAudioBuffer(t){return kl(function*(){const n=new Request(`assets/sounds/${t}`),o=yield(yield fetch(n)).arrayBuffer();return yield(new AudioContext).decodeAudioData(o).then(s=>s)})()}}let Hse=(()=>{class e{getRenderedBuffer(n,r,o,s){var i=this;return kl(function*(){const a=i.getTickLength(o),c=new OfflineAudioContext(1,2*s*a*44100,44100);return n.forEach(l=>{i.getDuplicatedTrackSteps(l).forEach((d,f)=>{if(!d)return;const h=r.find(y=>y.fileName===l.fileName).sample,g=c.createBufferSource();g.buffer=h,g.connect(c.destination),g.start(f*a)})}),c.oncomplete=l=>l.renderedBuffer,yield c.startRendering()})()}getDuplicatedTrackSteps(n){const r=[...n.steps];return r.push(...n.steps),r}getTickLength(n){return 60/n/4}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),I_=(()=>{class e{static{this.maxBpm=1300}static{this.minBpm=30}constructor(n,r){this.soundGeneratorService=n,this.loader=r,this.bpm=120,this.isPlaying=!1,this.index=0,this.samples=[],this.tracks=[],this.stepNumber=16,this.audioFilesService=new Use,this.loopBuffer=null,this.context=new AudioContext,this.playbackSource=new AudioBufferSourceNode(this.context)}playPause(){var n=this;return kl(function*(){n.isPlaying=!n.isPlaying,n.isPlaying?(n.loopBuffer||(n.loopBuffer=yield n.soundGeneratorService.getRenderedBuffer(n.tracks,n.samples,n.bpm,n.stepNumber)),n.play()):n.pause()})()}pause(){this.playbackSource.stop(this.context.currentTime),this.reset()}playSound(n){const r=this.context.createBufferSource();r.buffer=n,r.connect(this.context.destination),r.loop=!0,r.loopStart=r.buffer.duration/2,r.loopEnd=r.buffer.duration;const o=this.context.currentTime;r.start();const s=()=>{this.index=Math.trunc(1e3*(this.context.currentTime-o)/this.getMillisStepFromBpm()%this.stepNumber),this.isPlaying&&requestAnimationFrame(s)};s(),this.playbackSource.buffer&&this.playbackSource.stop(this.context.currentTime),this.playbackSource=r}getMillisStepFromBpm(){let r=6e4/this.bpm/4;return r=Math.min(r,1e3),r=Math.max(r,10),r}reset(){this.isPlaying=!1,this.index=0}resetLoopBuffer(){this.loopBuffer=null}setBpm(n){this.bpm=n}setTracks(n){this.tracks=n;const r=n.map(o=>o.fileName);this.loadTracks(r)}loadTracks(n){this.loader.start(),n.forEach(o=>this.samples.push({fileName:o}));const r=this.samples.map(o=>this.audioFilesService.getAudioBuffer(o.fileName).then(s=>o.sample=s));Promise.all(r).then(()=>this.loader.complete()).catch(()=>this.loader.complete())}setStepNumber(n){this.stepNumber=n}generateLoopBuffer(){var n=this;return kl(function*(){n.loopBuffer=yield n.soundGeneratorService.getRenderedBuffer(n.tracks,n.samples,n.bpm,n.stepNumber)})()}play(){this.loopBuffer&&this.playSound(this.loopBuffer)}static{this.\u0275fac=function(r){return new(r||e)(j(Hse),j(Pw))}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),$se=(()=>{class e{constructor(){this.maxBpm=I_.maxBpm,this.minBpm=I_.minBpm,this.bpm=I_.minBpm,this.bpmChange=new at}incrementBpm(){this.updateBpm(Math.min(this.bpm+1,this.maxBpm))}decrementBpm(){this.updateBpm(Math.max(this.bpm-1,this.minBpm))}updateNumber(n){let o=Number(n.target.value);o=Math.min(o,this.maxBpm),o=Math.max(o,this.minBpm),this.updateBpm(o)}updateBpm(n){this.bpm=n,this.bpmChange.emit(this.bpm)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=zo({type:e,selectors:[["app-bpm-input"]],inputs:{bpm:"bpm"},outputs:{bpmChange:"bpmChange"},standalone:!0,features:[sa],decls:4,vars:1,consts:[[1,"number-control"],[1,"number-left",3,"click"],["type","number","name","number",1,"number-quantity",3,"change","value"],[1,"number-right",3,"click"]],template:function(r,o){1&r&&(Re(0,"div",0)(1,"div",1),mt("click",function(){return o.decrementBpm()}),Fe(),Re(2,"input",2),mt("change",function(i){return o.updateNumber(i)}),Fe(),Re(3,"div",3),mt("click",function(){return o.incrementBpm()}),Fe()()),2&r&&(rt(2),gt("value",o.bpm))},styles:['.number-control[_ngcontent-%COMP%]{display:flex;align-items:center}.number-control[_ngcontent-%COMP%]   .number-left[_ngcontent-%COMP%]:before, .number-control[_ngcontent-%COMP%]   .number-right[_ngcontent-%COMP%]:after{content:attr(data-content);background-color:var(--backgroundColor);display:flex;align-items:center;justify-content:center;border:1px solid var(--borderColor);width:20px;color:var(--textColor);cursor:pointer}.number-control[_ngcontent-%COMP%]   .number-left[_ngcontent-%COMP%]:before{border-bottom-left-radius:5px;border-top-left-radius:5px;content:"-"}.number-control[_ngcontent-%COMP%]   .number-right[_ngcontent-%COMP%]:after{content:"+";border-bottom-right-radius:5px;border-top-right-radius:5px}.number-control[_ngcontent-%COMP%]   .number-quantity[_ngcontent-%COMP%]{padding:.25rem;width:50px;height:12px;-moz-appearance:textfield;border:0;border-top:1px solid var(--borderColor);border-bottom:1px solid var(--borderColor);background-color:var(--backgroundColor);color:var(--textColor)}']})}}return e})(),cV=(()=>{class e{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static{this.\u0275fac=function(r){return new(r||e)(k(ns),k(Kn))}}static{this.\u0275dir=te({type:e})}}return e})(),ba=(()=>{class e extends cV{static{this.\u0275fac=(()=>{let n;return function(o){return(n||(n=Ut(e)))(o||e)}})()}static{this.\u0275dir=te({type:e,features:[xe]})}}return e})();const Ro=new P(""),Wse={provide:Ro,useExisting:Xe(()=>yD),multi:!0},Xse=new P("");let yD=(()=>{class e extends cV{constructor(n,r,o){super(n,r),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Gse(){const e=Qs()?Qs().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static{this.\u0275fac=function(r){return new(r||e)(k(ns),k(Kn),k(Xse,8))}}static{this.\u0275dir=te({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,o){1&r&&mt("input",function(i){return o._handleInput(i.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(i){return o._compositionEnd(i.target.value)})},features:[ct([Wse]),xe]})}}return e})();const mn=new P(""),ai=new P("");function vV(e){return null!=e}function bV(e){return mf(e)?Kt(e):e}function EV(e){let t={};return e.forEach(n=>{t=null!=n?{...t,...n}:t}),0===Object.keys(t).length?null:t}function CV(e,t){return t.map(n=>n(e))}function SV(e){return e.map(t=>function Zse(e){return!e.validate}(t)?t:n=>t.validate(n))}function vD(e){return null!=e?function wV(e){if(!e)return null;const t=e.filter(vV);return 0==t.length?null:function(n){return EV(CV(n,t))}}(SV(e)):null}function bD(e){return null!=e?function DV(e){if(!e)return null;const t=e.filter(vV);return 0==t.length?null:function(n){return function qse(...e){const t=CL(e),{args:n,keys:r}=nL(e),o=new Ge(s=>{const{length:i}=n;if(!i)return void s.complete();const a=new Array(i);let c=i,l=i;for(let u=0;u<i;u++){let d=!1;Qr(n[u]).subscribe(Mt(s,f=>{d||(d=!0,l--),a[u]=f},()=>c--,void 0,()=>{(!c||!d)&&(l||s.next(r?SL(r,a):a),s.complete())}))}});return t?o.pipe(bL(t)):o}(CV(n,t).map(bV)).pipe(se(EV))}}(SV(e)):null}function MV(e,t){return null===e?[t]:Array.isArray(e)?[...e,t]:[e,t]}function ED(e){return e?Array.isArray(e)?e:[e]:[]}function R_(e,t){return Array.isArray(e)?e.includes(t):e===t}function RV(e,t){const n=ED(t);return ED(e).forEach(o=>{R_(n,o)||n.push(o)}),n}function OV(e,t){return ED(t).filter(n=>!R_(e,n))}class AV{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=vD(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=bD(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,n){return!!this.control&&this.control.hasError(t,n)}getError(t,n){return this.control?this.control.getError(t,n):null}}class On extends AV{get formDirective(){return null}get path(){return null}}class ci extends AV{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class kV{constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}}let NV=(()=>{class e extends kV{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||e)(k(ci,2))}}static{this.\u0275dir=te({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,o){2&r&&ml("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[xe]})}}return e})();const Zf="VALID",A_="INVALID",xl="PENDING",Yf="DISABLED";class Fl{}class FV extends Fl{constructor(t,n){super(),this.value=t,this.source=n}}class wD extends Fl{constructor(t,n){super(),this.pristine=t,this.source=n}}class DD extends Fl{constructor(t,n){super(),this.touched=t,this.source=n}}class k_ extends Fl{constructor(t,n){super(),this.status=t,this.source=n}}function N_(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class TD{constructor(t,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=Cf(()=>this.statusReactive()),this.statusReactive=Zc(void 0),this._pristine=Cf(()=>this.pristineReactive()),this.pristineReactive=Zc(!0),this._touched=Cf(()=>this.touchedReactive()),this.touchedReactive=Zc(!1),this._events=new xt,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return wo(this.statusReactive)}set status(t){wo(()=>this.statusReactive.set(t))}get valid(){return this.status===Zf}get invalid(){return this.status===A_}get pending(){return this.status==xl}get disabled(){return this.status===Yf}get enabled(){return this.status!==Yf}get pristine(){return wo(this.pristineReactive)}set pristine(t){wo(()=>this.pristineReactive.set(t))}get dirty(){return!this.pristine}get touched(){return wo(this.touchedReactive)}set touched(t){wo(()=>this.touchedReactive.set(t))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(RV(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(RV(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(OV(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(OV(t,this._rawAsyncValidators))}hasValidator(t){return R_(this._rawValidators,t)}hasAsyncValidator(t){return R_(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){const n=!1===this.touched;this.touched=!0;const r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched({...t,sourceControl:r}),n&&!1!==t.emitEvent&&this._events.next(new DD(!0,r))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(t))}markAsUntouched(t={}){const n=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const r=t.sourceControl??this;this._forEachChild(o=>{o.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:r})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,r),n&&!1!==t.emitEvent&&this._events.next(new DD(!1,r))}markAsDirty(t={}){const n=!0===this.pristine;this.pristine=!1;const r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty({...t,sourceControl:r}),n&&!1!==t.emitEvent&&this._events.next(new wD(!1,r))}markAsPristine(t={}){const n=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const r=t.sourceControl??this;this._forEachChild(o=>{o.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,r),n&&!1!==t.emitEvent&&this._events.next(new wD(!0,r))}markAsPending(t={}){this.status=xl;const n=t.sourceControl??this;!1!==t.emitEvent&&(this._events.next(new k_(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending({...t,sourceControl:n})}disable(t={}){const n=this._parentMarkedDirty(t.onlySelf);this.status=Yf,this.errors=null,this._forEachChild(o=>{o.disable({...t,onlySelf:!0})}),this._updateValue();const r=t.sourceControl??this;!1!==t.emitEvent&&(this._events.next(new FV(this.value,r)),this._events.next(new k_(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:n},this),this._onDisabledChange.forEach(o=>o(!0))}enable(t={}){const n=this._parentMarkedDirty(t.onlySelf);this.status=Zf,this._forEachChild(r=>{r.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:n},this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t,n){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){const r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Zf||this.status===xl)&&this._runAsyncValidator(r,t.emitEvent)}const n=t.sourceControl??this;!1!==t.emitEvent&&(this._events.next(new FV(this.value,n)),this._events.next(new k_(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity({...t,sourceControl:n})}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Yf:Zf}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,n){if(this.asyncValidator){this.status=xl,this._hasOwnPendingAsyncValidator={emitEvent:!1!==n};const r=bV(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(o=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(o,{emitEvent:n,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();const t=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(!1!==n.emitEvent,this,n.shouldHaveEmitted)}get(t){let n=t;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,o)=>r&&r._find(o),this)}getError(t,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,n,r){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||r)&&this._events.next(new k_(this.status,n)),this._parent&&this._parent._updateControlsErrors(t,n,r)}_initObservables(){this.valueChanges=new at,this.statusChanges=new at}_calculateStatus(){return this._allControlsDisabled()?Yf:this.errors?A_:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(xl)?xl:this._anyControlsHaveStatus(A_)?A_:Zf}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,n){const r=!this._anyControlsDirty(),o=this.pristine!==r;this.pristine=r,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,n),o&&this._events.next(new wD(this.pristine,n))}_updateTouched(t={},n){this.touched=this._anyControlsTouched(),this._events.next(new DD(this.touched,n)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,n)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){N_(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function oie(e){return Array.isArray(e)?vD(e):e||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function sie(e){return Array.isArray(e)?bD(e):e||null}(this._rawAsyncValidators)}}const Pl=new P("CallSetDisabledState",{providedIn:"root",factory:()=>x_}),x_="always";function Qf(e,t,n=x_){(function OD(e,t){const n=function IV(e){return e._rawValidators}(e);null!==t.validator?e.setValidators(MV(n,t.validator)):"function"==typeof n&&e.setValidators([n]);const r=function TV(e){return e._rawAsyncValidators}(e);null!==t.asyncValidator?e.setAsyncValidators(MV(r,t.asyncValidator)):"function"==typeof r&&e.setAsyncValidators([r]);const o=()=>e.updateValueAndValidity();L_(t._rawValidators,o),L_(t._rawAsyncValidators,o)})(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||"always"===n)&&t.valueAccessor.setDisabledState?.(e.disabled),function cie(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&VV(e,t)})}(e,t),function uie(e,t){const n=(r,o)=>{t.valueAccessor.writeValue(r),o&&t.viewToModelUpdate(r)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}(e,t),function lie(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&VV(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),function aie(e,t){if(t.valueAccessor.setDisabledState){const n=r=>{t.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}(e,t)}function L_(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function VV(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function UV(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}function HV(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}Promise.resolve();const $V=class extends TD{constructor(t=null,n,r){super(function MD(e){return(N_(e)?e.validators:e)||null}(n),function ID(e,t){return(N_(t)?t.asyncValidators:e)||null}(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),N_(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=HV(t)?t.value:t)}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){UV(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){UV(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){HV(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},yie={provide:ci,useExisting:Xe(()=>FD)},WV=Promise.resolve();let FD=(()=>{class e extends ci{constructor(n,r,o,s,i,a){super(),this._changeDetectorRef=i,this.callSetDisabledState=a,this.control=new $V,this._registered=!1,this.name="",this.update=new at,this._parent=n,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=function ND(e,t){if(!t)return null;let n,r,o;return Array.isArray(t),t.forEach(s=>{s.constructor===yD?n=s:function hie(e){return Object.getPrototypeOf(e.constructor)===ba}(s)?r=s:o=s}),o||r||n||null}(0,s)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){const r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),function kD(e,t){if(!e.hasOwnProperty("model"))return!1;const n=e.model;return!!n.isFirstChange()||!Object.is(t,n.currentValue)}(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Qf(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){WV.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){const r=n.isDisabled.currentValue,o=0!==r&&function bl(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}(r);WV.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?function F_(e,t){return[...t.path,e]}(n,this._parent):[n]}static{this.\u0275fac=function(r){return new(r||e)(k(On,9),k(mn,10),k(ai,10),k(Ro,10),k(yf,8),k(Pl,8))}}static{this.\u0275dir=te({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[ct([yie]),xe,pr]})}}return e})();const Rie={provide:Ro,useExisting:Xe(()=>j_),multi:!0};function ej(e,t){return null==e?`${t}`:(t&&"object"==typeof t&&(t="Object"),`${e}: ${t}`.slice(0,50))}let j_=(()=>{class e extends ba{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;const o=ej(this._getOptionId(n),n);this.setProperty("value",o)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){const r=function Oie(e){return e.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static{this.\u0275fac=(()=>{let n;return function(o){return(n||(n=Ut(e)))(o||e)}})()}static{this.\u0275dir=te({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,o){1&r&&mt("change",function(i){return o.onChange(i.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[ct([Rie]),xe]})}}return e})(),tj=(()=>{class e{constructor(n,r,o){this._element=n,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(n){null!=this._select&&(this._select._optionMap.set(this.id,n),this._setElementValue(ej(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||e)(k(Kn),k(ns),k(j_,9))}}static{this.\u0275dir=te({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return e})();const Aie={provide:Ro,useExisting:Xe(()=>jD),multi:!0};function nj(e,t){return null==e?`${t}`:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${e}: ${t}`.slice(0,50))}let jD=(()=>{class e extends ba{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){let r;if(this.value=n,Array.isArray(n)){const o=n.map(s=>this._getOptionId(s));r=(s,i)=>{s._setSelected(o.indexOf(i.toString())>-1)}}else r=(o,s)=>{o._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{const o=[],s=r.selectedOptions;if(void 0!==s){const i=s;for(let a=0;a<i.length;a++){const l=this._getOptionValue(i[a].value);o.push(l)}}else{const i=r.options;for(let a=0;a<i.length;a++){const c=i[a];if(c.selected){const l=this._getOptionValue(c.value);o.push(l)}}}this.value=o,n(o)}}_registerOption(n){const r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){const r=function kie(e){return e.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static{this.\u0275fac=(()=>{let n;return function(o){return(n||(n=Ut(e)))(o||e)}})()}static{this.\u0275dir=te({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,o){1&r&&mt("change",function(i){return o.onChange(i.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[ct([Aie]),xe]})}}return e})(),rj=(()=>{class e{constructor(n,r,o){this._element=n,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){null!=this._select&&(this._value=n,this._setElementValue(nj(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(nj(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||e)(k(Kn),k(ns),k(jD,9))}}static{this.\u0275dir=te({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return e})(),Uie=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=Wo({type:e})}static{this.\u0275inj=co({})}}return e})(),hj=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:Pl,useValue:n.callSetDisabledState??x_}]}}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=Wo({type:e})}static{this.\u0275inj=co({imports:[Uie]})}}return e})();function $ie(e,t){if(1&e&&(Re(0,"option",3),br(1),Fe()),2&e){const n=t.$implicit;gt("value",n),rt(),uf(n)}}let qie=(()=>{class e{constructor(){this.elements=[],this.selectedElement="",this.placeHolder="",this.selectChange=new at}onSelectChange(){this.selectChange.emit(this.selectedElement)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=zo({type:e,selectors:[["app-select-input"]],inputs:{elements:"elements",selectedElement:"selectedElement",placeHolder:"placeHolder"},outputs:{selectChange:"selectChange"},standalone:!0,features:[sa],decls:4,vars:3,consts:[[3,"ngModelChange","change","ngModel"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(r,o){1&r&&(Re(0,"select",0),TS("ngModelChange",function(i){return function FF(e,t){const n=hN(e);return n&&e.set(t),n}(o.selectedElement,i)||(o.selectedElement=i),i}),mt("change",function(){return o.onSelectChange()}),Re(1,"option",1),br(2),Fe(),_r(3,$ie,2,2,"option",2),Fe()),2&r&&(IS("ngModel",o.selectedElement),rt(2),uf(o.placeHolder),rt(),gt("ngForOf",o.elements))},dependencies:[hj,tj,rj,j_,NV,FD,uw],styles:["select[_ngcontent-%COMP%]{border:1px var(--borderColor) solid;border-radius:5px;background-color:var(--backgroundColor);color:var(--textColor)}"]})}}return e})();function zie(e,t){if(1&e&&(Re(0,"h3",14),br(1),Fe()),2&e){const n=t.$implicit;rt(),uf(n.name)}}function Wie(e,t){if(1&e&&Dn(0,"div",17),2&e){const n=t.$implicit,r=t.index,o=vr(2);ml("active",n)("current",r===o.soundService.index)("highlight",o.Math.floor(r/4)%2==0)}}function Gie(e,t){if(1&e&&(Re(0,"article")(1,"div",15),_r(2,Wie,1,6,"div",16),Fe()()),2&e){const n=t.$implicit,r=vr();rt(),ml("sixteen-steps",n.steps.length==r.StepLengths.sixteen)("thirty-two-steps",n.steps.length==r.StepLengths.thirty_two)("sixty-four-steps",n.steps.length==r.StepLengths.sixty_four),rt(),gt("ngForOf",n.steps)}}let Xie=(()=>{class e{constructor(n,r,o){this._genresManager=n,this.soundService=r,this.route=o,this.beat={},this.genre={},this.genresLabel=[],this.selectedGenreLabel="",this.beats=[],this.selectedBeatLabel="",this.genres=[],this.StepLengths=Bse,this.Math=Math,this.beatBehaviourSubject=new xt}ngOnInit(){this._genresManager.getGenres().then(n=>{this.genres=n,this.genresLabel=n.map(r=>r.label),this.route.queryParamMap.subscribe(r=>{this.selectGenre(n,r.get("genre"),r.get("beat"))})}).catch(n=>{console.log(n)}),this.beatBehaviourSubject.subscribe(n=>{this.soundService.isPlaying&&this.soundService.pause(),this.soundService.reset(),this.soundService.resetLoopBuffer(),this.soundService.setBpm(n.bpm),this.soundService.setTracks(n.tracks),this.soundService.setStepNumber(n.tracks[0].steps.length)})}toggleIsPlaying(){this.soundService.playPause().then(()=>{},()=>{})}handleKeyboardEvent(n){"Space"==n.code&&this.toggleIsPlaying()}selectGenre(n,r,o){const s=r?n.find(a=>a.label===r):n[0];if(!s)return;this.genre=s,this.selectedGenreLabel=s.label,this.beats=s.beats.map(a=>a.label);const i=o?s.beats.find(a=>a.id===o):s.beats[0];this.selectBeat(i)}selectBeat(n){null!=n&&(this.beat=n,this.beatBehaviourSubject.next(this.beat),this.selectedBeatLabel=this.beat.label)}changeBeatBpm(n){const r=this.soundService.isPlaying;this.soundService.setBpm(n),this.soundService.generateLoopBuffer().then(()=>{r&&this.soundService.play()},()=>{})}genreChange(n){this.selectGenre(this.genres,n,null)}beatChange(n){const r=this.genres.find(o=>o.label===this.selectedGenreLabel)?.beats.find(o=>o.label===n);this.selectBeat(r)}static{this.\u0275fac=function(r){return new(r||e)(k(_D),k(I_),k(ya))}}static{this.\u0275cmp=zo({type:e,selectors:[["sequencer"]],hostBindings:function(r,o){1&r&&mt("keydown",function(i){return o.handleKeyboardEvent(i)},0,FA)},standalone:!0,features:[sa],decls:23,vars:10,consts:[["id","main-container"],[1,"play-button-container","flex"],[1,"play-pause-button","pointer",3,"click"],[1,"sequencer-header"],[1,"label"],[1,"small"],["placeHolder","Choose genre",3,"selectChange","elements","selectedElement"],[3,"selectChange","elements","selectedElement","placeHolder"],[1,"flex","label","bpm-input-group"],[3,"bpmChange","bpm"],[1,"tracks-name"],["class","track-name",4,"ngFor","ngForOf"],[1,"tracks-container"],[4,"ngFor","ngForOf"],[1,"track-name"],["id","track"],["class","step",3,"active","current","highlight",4,"ngFor","ngForOf"],[1,"step"]],template:function(r,o){1&r&&(Re(0,"div",0)(1,"div",1)(2,"button",2),mt("click",function(){return o.toggleIsPlaying()}),br(3),Fe()(),Re(4,"div",3)(5,"div",4)(6,"span",5),br(7,"Genre : "),Fe(),Re(8,"app-select-input",6),mt("selectChange",function(i){return o.genreChange(i)}),Fe()(),Re(9,"div",4)(10,"span",5),br(11,"Beat : "),Fe(),Re(12,"app-select-input",7),mt("selectChange",function(i){return o.beatChange(i)}),Fe()(),Re(13,"div",8)(14,"span",5),br(15,"Tempo : "),Fe(),Re(16,"app-bpm-input",9),mt("bpmChange",function(i){return o.changeBeatBpm(i)}),Fe(),Re(17,"span",5),br(18," bpm"),Fe()()(),Re(19,"div",10),_r(20,zie,2,1,"h3",11),Fe(),Re(21,"section",12),_r(22,Gie,3,7,"article",13),Fe()()),2&r&&(rt(3),fm(" ",o.soundService.isPlaying?"\u23f8":"\u25b6"," "),rt(5),gt("elements",o.genresLabel)("selectedElement",o.selectedGenreLabel),rt(4),dm("placeHolder","Choose ",o.selectedGenreLabel," beat"),gt("elements",o.beats)("selectedElement",o.selectedBeatLabel),rt(4),gt("bpm",o.beat.bpm),rt(4),gt("ngForOf",o.beat.tracks),rt(2),gt("ngForOf",o.beat.tracks))},dependencies:[uw,$se,qie],styles:['html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%;margin:0}[_ngcontent-%COMP%]:root{font-family:Inter,sans-serif;font-feature-settings:"liga" 1,"calt" 1,"ss01" on}@supports (font-variation-settings: normal){[_ngcontent-%COMP%]:root{font-family:InterVariable,sans-serif}}a[_ngcontent-%COMP%]{all:unset}h3[_ngcontent-%COMP%]{margin:0}button[_ngcontent-%COMP%]{font-family:inherit;font-size:100%;line-height:1.15;margin:0;overflow:visible;text-transform:none;-webkit-appearance:button}.flex[_ngcontent-%COMP%]{display:flex}.mt-40[_ngcontent-%COMP%]{margin-top:40px}.mb-40[_ngcontent-%COMP%]{margin-bottom:40px}.mb-10[_ngcontent-%COMP%]{margin-bottom:10px}.ml-10[_ngcontent-%COMP%]{margin-left:10px}body.dark[_ngcontent-%COMP%]{--backgroundColor: #2e2e2e;--textColor: white;--borderColor: white;--menuButtonColor: #CC71FA;--gridHighLightColor: #474747;background-color:var(--backgroundColor);color:var(--textColor)}body.light[_ngcontent-%COMP%]{--backgroundColor: white;--textColor: black;--borderColor: black;--menuButtonColor: #70F1FA;--gridHighLightColor: #e8e8e8;background-color:var(--backgroundColor);color:var(--textColor)}#main-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:max-content auto;gap:10px;margin:0 10px}.sequencer-grid[_ngcontent-%COMP%]{flex-direction:column}#track[_ngcontent-%COMP%]{display:grid;grid-template-rows:repeat(1,1fr);gap:4px}#track[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]{height:40px;width:40px;background-color:var(--backgroundColor);border-radius:4px;border:1px solid var(--borderColor)}#track[_ngcontent-%COMP%]   .current[_ngcontent-%COMP%]{background:repeating-linear-gradient(-45deg,var(--backgroundColor),var(--backgroundColor) 10px,var(--textColor) 5px,var(--textColor) 15px)}#track[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%], #track[_ngcontent-%COMP%]   .active.highlight[_ngcontent-%COMP%]{background-color:#cc71fa}#track[_ngcontent-%COMP%]   .active.current[_ngcontent-%COMP%], #track[_ngcontent-%COMP%]   .active.highlight.current[_ngcontent-%COMP%]{background:repeating-linear-gradient(-45deg,#CC71FA,#CC71FA 10px,var(--backgroundColor) 5px,var(--backgroundColor) 15px)}#track[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%]{background:var(--gridHighLightColor)}#track[_ngcontent-%COMP%]   .current.highlight[_ngcontent-%COMP%]{background:repeating-linear-gradient(-45deg,var(--gridHighLightColor),var(--gridHighLightColor) 10px,var(--textColor) 5px,var(--textColor) 15px)}.sixteen-steps[_ngcontent-%COMP%]{grid-template-columns:repeat(16,1fr)}.thirty-two-steps[_ngcontent-%COMP%]{grid-template-columns:repeat(32,1fr)}.sixty-four-steps[_ngcontent-%COMP%]{grid-template-columns:repeat(64,1fr)}.tracks-container[_ngcontent-%COMP%]{grid-column-start:2;grid-row-start:2;display:grid;grid-template-columns:auto;gap:4px;overflow-x:auto}.tracks-name[_ngcontent-%COMP%]{margin-top:10px;grid-column-start:1;grid-row-start:2}.tracks-name[_ngcontent-%COMP%]   .track-name[_ngcontent-%COMP%]{white-space:nowrap;height:44px}.sequencer-header[_ngcontent-%COMP%]{grid-column-start:2;grid-row-start:1}.sequencer-header[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{vertical-align:bottom}.sequencer-header[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]   .small[_ngcontent-%COMP%]{font-size:small}.sequencer-header[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]   .large[_ngcontent-%COMP%]{font-size:large;font-weight:700}.sequencer-header[_ngcontent-%COMP%]   div[_ngcontent-%COMP%] + div[_ngcontent-%COMP%]{margin-top:5px}.sequencer-header[_ngcontent-%COMP%]   .bpm-input-group[_ngcontent-%COMP%]{align-items:center;gap:5px}.play-button-container[_ngcontent-%COMP%]{grid-column-start:1;grid-row-start:1;justify-content:center;align-items:center}.play-button-container[_ngcontent-%COMP%]   .play-pause-button[_ngcontent-%COMP%]{height:40px;width:40px;min-width:40px;background-color:var(--backgroundColor);color:var(--textColor);font-size:20px;border:none}']})}}return e})();const p=function(e,t){if("function"==typeof e)return function(){return e(arguments)?t.apply(this,arguments):n=>t(n,...arguments)};switch(e){case 0:case 1:throw new RangeError(`Invalid arity ${e}`);case 2:return function(n,r){return arguments.length>=2?t(n,r):function(o){return t(o,n)}};case 3:return function(n,r,o){return arguments.length>=3?t(n,r,o):function(s){return t(s,n,r)}};case 4:return function(n,r,o,s){return arguments.length>=4?t(n,r,o,s):function(i){return t(i,n,r,o)}};case 5:return function(n,r,o,s,i){return arguments.length>=5?t(n,r,o,s,i):function(a){return t(a,n,r,o,s)}};default:return function(){if(arguments.length>=e)return t.apply(this,arguments);const n=arguments;return function(r){return t(r,...n)}}}},Ce=e=>e,B_=e=>()=>e,eh=B_(!0),ls=B_(!1),pj=B_(void 0),U_=pj;function _(e,t,n,r,o,s,i,a,c){switch(arguments.length){case 1:return e;case 2:return t(e);case 3:return n(t(e));case 4:return r(n(t(e)));case 5:return o(r(n(t(e))));case 6:return s(o(r(n(t(e)))));case 7:return i(s(o(r(n(t(e))))));case 8:return a(i(s(o(r(n(t(e)))))));case 9:return c(a(i(s(o(r(n(t(e))))))));default:{let l=arguments[0];for(let u=1;u<arguments.length;u++)l=arguments[u](l);return l}}}const H_=()=>"3.12.0",UD=Symbol.for(`effect/GlobalValue/globalStoreId/${H_()}`);UD in globalThis||(globalThis[UD]=new Map);const HD=globalThis[UD],me=(e,t)=>(HD.has(e)||HD.set(e,t()),HD.get(e)),th=e=>"number"==typeof e,Ca=e=>"function"==typeof e,$_=e=>(e=>"object"==typeof e&&null!==e)(e)||Ca(e),G=p(2,(e,t)=>$_(e)&&t in e),q_=p(2,(e,t)=>G(e,"_tag")&&e._tag===t),Ll=e=>null==e,nh=e=>`BUG: ${e} - please report an issue at https://github.com/Effect-TS/effect/issues`;Symbol;class rh{self;called=!1;constructor(t){this.self=t}next(t){return this.called?{value:t,done:!0}:(this.called=!0,{value:this.self,done:!1})}return(t){return{value:t,done:!0}}throw(t){throw t}[Symbol.iterator](){return new rh(this.self)}}class oae{_state;constructor(t,n,r,o){return Ll(n)&&Ll(t)?(n=4294967295*Math.random()>>>0,t=0):Ll(n)&&(n=t,t=0),Ll(o)&&Ll(r)?(o=this._state?this._state[3]:4150755663,r=this._state?this._state[2]:335903614):Ll(o)&&(o=r,r=0),this._state=new Int32Array([0,0,r>>>0,(1|(o||0))>>>0]),this._next(),Ej(this._state,this._state[0],this._state[1],t>>>0,n>>>0),this._next(),this}getState(){return[this._state[0],this._state[1],this._state[2],this._state[3]]}setState(t){this._state[0]=t[0],this._state[1]=t[1],this._state[2]=t[2],this._state[3]=1|t[3]}integer(t){return Math.round(this.number()*Number.MAX_SAFE_INTEGER)%t}number(){return(1*(67108863&this._next())*134217728+1*(134217727&this._next()))/9007199254740992}_next(){const t=this._state[0]>>>0,n=this._state[1]>>>0;(function sae(e,t,n,r,o){let s=(n>>>16)*(65535&o)>>>0,i=(65535&n)*(o>>>16)>>>0,a=(65535&n)*(65535&o)>>>0,c=(n>>>16)*(o>>>16)+((i>>>16)+(s>>>16))>>>0;i=i<<16>>>0,a=a+i>>>0,a>>>0<i>>>0&&(c=c+1>>>0),s=s<<16>>>0,a=a+s>>>0,a>>>0<s>>>0&&(c=c+1>>>0),c=c+Math.imul(n,r)>>>0,c=c+Math.imul(t,o)>>>0,e[0]=c,e[1]=a})(this._state,t,n,1481765933,1284865837),Ej(this._state,this._state[0],this._state[1],this._state[2],this._state[3]);let r=t>>>18,o=(n>>>18|t<<14)>>>0;r=(r^t)>>>0,o=(o^n)>>>0;const s=(o>>>27|r<<5)>>>0,i=t>>>27;return(s>>>i|s<<((-i>>>0&31)>>>0))>>>0}}function Ej(e,t,n,r,o){let s=t+r>>>0;const i=n+o>>>0;i>>>0<n>>>0&&(s=s+1|0),e[0]=s,e[1]=i}const zD=Symbol.for("effect/Utils/YieldWrap");class oh{#e;constructor(t){this.#e=t}[zD](){return this.#e}}const Zt=me("effect/Utils/isStructuralRegion",()=>({enabled:!1,tester:void 0})),Yt=(e=>{const t={[e]:n=>n()};return function(n){return t[e](n)}})("effect_internal_function"),WD=me(Symbol.for("effect/Hash/randomHashCache"),()=>new WeakMap),Q=Symbol.for("effect/Hash"),B=e=>{if(!0===Zt.enabled)return 0;switch(typeof e){case"number":return GD(e);case"bigint":return lt(e.toString(10));case"boolean":case"symbol":return lt(String(e));case"string":return lt(e);case"undefined":return lt("undefined");case"function":case"object":return null===e?lt("null"):e instanceof Date?B(e.toISOString()):aae(e)?e[Q]():z_(e);default:throw new Error(`BUG: unhandled typeof ${typeof e} - please report an issue at https://github.com/Effect-TS/effect/issues`)}},z_=e=>(WD.has(e)||WD.set(e,GD(Math.floor(Math.random()*Number.MAX_SAFE_INTEGER))),WD.get(e)),ie=e=>t=>53*t^e,W_=e=>3221225471&e|e>>>1&1073741824,aae=e=>G(e,Q),GD=e=>{if(e!=e||e===1/0)return 0;let t=0|e;for(t!==e&&(t^=4294967295*e);e>4294967295;)t^=e/=4294967295;return W_(t)},lt=e=>{let t=5381,n=e.length;for(;n;)t=33*t^e.charCodeAt(--n);return W_(t)},Sj=e=>((e,t)=>{let n=12289;for(let r=0;r<t.length;r++)n^=_(lt(t[r]),ie(B(e[t[r]])));return W_(n)})(e,Object.keys(e)),Sa=e=>{let t=6151;for(let n=0;n<e.length;n++)t=_(t,ie(B(e[n])));return W_(t)},He=function(){if(1===arguments.length){const n=arguments[0];return function(r){return Object.defineProperty(n,Q,{value:()=>r,enumerable:!1}),r}}const t=arguments[1];return Object.defineProperty(arguments[0],Q,{value:()=>t,enumerable:!1}),t},J=Symbol.for("effect/Equal");function H(){return 1===arguments.length?e=>G_(e,arguments[0]):G_(arguments[0],arguments[1])}function G_(e,t){if(e===t)return!0;const n=typeof e;if(n!==typeof t)return!1;if("object"===n||"function"===n){if(null!==e&&null!==t){if(sh(e)&&sh(t))return!(B(e)!==B(t)||!e[J](t))||!(!Zt.enabled||!Zt.tester)&&Zt.tester(e,t);if(e instanceof Date&&t instanceof Date)return e.toISOString()===t.toISOString()}if(Zt.enabled){if(Array.isArray(e)&&Array.isArray(t))return e.length===t.length&&e.every((r,o)=>G_(r,t[o]));if(Object.getPrototypeOf(e)===Object.prototype&&Object.getPrototypeOf(e)===Object.prototype){const r=Object.keys(e),o=Object.keys(t);if(r.length===o.length){for(const s of r)if(!(s in t)||!G_(e[s],t[s]))return!!Zt.tester&&Zt.tester(e,t);return!0}}return!!Zt.tester&&Zt.tester(e,t)}}return!(!Zt.enabled||!Zt.tester)&&Zt.tester(e,t)}const sh=e=>G(e,J),XD=()=>H,$e=Symbol.for("nodejs.util.inspect.custom"),ot=e=>{try{if(G(e,"toJSON")&&Ca(e.toJSON)&&0===e.toJSON.length)return e.toJSON();if(Array.isArray(e))return e.map(ot)}catch{return{}}return uae(e)},ht=e=>JSON.stringify(e,null,2),Vl=(e,t=2)=>{if("string"==typeof e)return e;try{return"object"==typeof e?KD(e,t):String(e)}catch{return String(e)}},KD=(e,t)=>{let n=[];const r=JSON.stringify(e,(o,s)=>"object"==typeof s&&null!==s?n.includes(s)?void 0:n.push(s)&&(void 0!==wa.fiberRefs&&wj(s)?s[ZD](wa.fiberRefs):s):s,t);return n=void 0,r},ZD=Symbol.for("effect/Inspectable/Redactable"),wj=e=>"object"==typeof e&&null!==e&&ZD in e,wa=me("effect/Inspectable/redactableState",()=>({fiberRefs:void 0})),uae=e=>wj(e)&&void 0!==wa.fiberRefs?e[ZD](wa.fiberRefs):e,W=(e,t)=>{switch(t.length){case 0:return e;case 1:return t[0](e);case 2:return t[1](t[0](e));case 3:return t[2](t[1](t[0](e)));case 4:return t[3](t[2](t[1](t[0](e))));case 5:return t[4](t[3](t[2](t[1](t[0](e)))));case 6:return t[5](t[4](t[3](t[2](t[1](t[0](e))))));case 7:return t[6](t[5](t[4](t[3](t[2](t[1](t[0](e)))))));case 8:return t[7](t[6](t[5](t[4](t[3](t[2](t[1](t[0](e))))))));case 9:return t[8](t[7](t[6](t[5](t[4](t[3](t[2](t[1](t[0](e)))))))));default:{let n=e;for(let r=0,o=t.length;r<o;r++)n=t[r](n);return n}}},ih="Async",X_="Commit",qe="Failure",K_="OnFailure",Z_="OnSuccess",Y_="OnSuccessAndFailure",ze="Success",Dj="Sync",dae="Tag",Da="UpdateRuntimeFlags",Q_="While",ah="Iterator",Mj="WithRuntime",J_="Yield",YD="RevertFlags",Ij=Symbol.for("effect/Effect"),Tj=Symbol.for("effect/Stream"),Rj=Symbol.for("effect/Sink"),Oj=Symbol.for("effect/Channel"),jl={_R:e=>e,_E:e=>e,_A:e=>e,_V:H_()},ch={[Ij]:jl,[Tj]:jl,[Rj]:{_A:e=>e,_In:e=>e,_L:e=>e,_E:e=>e,_R:e=>e},[Oj]:{_Env:e=>e,_InErr:e=>e,_InElem:e=>e,_InDone:e=>e,_OutErr:e=>e,_OutElem:e=>e,_OutDone:e=>e},[J](e){return this===e},[Q](){return He(this,z_(this))},[Symbol.iterator](){return new rh(new oh(this))},pipe(){return W(this,arguments)}},ey={[Q](){return He(this,Sj(this))},[J](e){const t=Object.keys(this),n=Object.keys(e);if(t.length!==n.length)return!1;for(const r of t)if(!(r in e)||!H(this[r],e[r]))return!1;return!0}},ds={...ch,_op:X_},QD={...ds,...ey},pae=function(){function e(){}return e.prototype=ds,e}(),Aj=Symbol.for("effect/Option"),kj={...ch,[Aj]:{_A:e=>e},[$e](){return this.toJSON()},toString(){return ht(this.toJSON())}},mae=Object.assign(Object.create(kj),{_tag:"Some",_op:"Some",[J](e){return JD(e)&&Nj(e)&&H(this.value,e.value)},[Q](){return He(this,ie(B(this._tag))(B(this.value)))},toJSON(){return{_id:"Option",_tag:this._tag,value:ot(this.value)}}}),_ae=B("None"),yae=Object.assign(Object.create(kj),{_tag:"None",_op:"None",[J]:e=>JD(e)&&eM(e),[Q]:()=>_ae,toJSON(){return{_id:"Option",_tag:this._tag}}}),JD=e=>G(e,Aj),eM=e=>"None"===e._tag,Nj=e=>"Some"===e._tag,ty=Object.create(yae),lh=e=>{const t=Object.create(mae);return t.value=e,t},tM=Symbol.for("effect/Context/Tag"),uh=Symbol.for("effect/Context/Reference"),nM={...ch,_op:"Tag",[Symbol.for("effect/STM")]:jl,[tM]:{_Service:e=>e,_Identifier:e=>e},toString(){return ht(this.toJSON())},toJSON(){return{_id:"Tag",key:this.key,stack:this.stack}},[$e](){return this.toJSON()},of:e=>e,context(e){return Fj(this,e)}},vae={...nM,[uh]:uh},rM=Symbol.for("effect/Context"),Sae={[rM]:{_Services:e=>e},[J](e){if(xj(e)&&this.unsafeMap.size===e.unsafeMap.size){for(const t of this.unsafeMap.keys())if(!e.unsafeMap.has(t)||!H(this.unsafeMap.get(t),e.unsafeMap.get(t)))return!1;return!0}return!1},[Q](){return He(this,GD(this.unsafeMap.size))},pipe(){return W(this,arguments)},toString(){return ht(this.toJSON())},toJSON(){return{_id:"Context",services:Array.from(this.unsafeMap).map(ot)}},[$e](){return this.toJSON()}},Oo=e=>{const t=Object.create(Sae);return t.unsafeMap=e,t},xj=e=>G(e,rM),Mae=Oo(new Map),Fj=(e,t)=>Oo(new Map([[e.key,t]])),Tae=p(3,(e,t,n)=>{const r=new Map(e.unsafeMap);return r.set(t.key,n),Oo(r)}),sM=me("effect/Context/defaultValueCache",()=>new Map),ny=e=>{if(sM.has(e.key))return sM.get(e.key);const t=e.defaultValue();return sM.set(e.key,t),t},Pj=p(2,(e,t)=>{if(!e.unsafeMap.has(t.key)){if(uh in t)return ny(t);throw(e=>{const t=new Error("Service not found"+(e.key?`: ${String(e.key)}`:""));if(e.stack){const n=e.stack.split("\n");if(n.length>2){const r=n[2].match(/at (.*)/);r&&(t.message=t.message+` (defined at ${r[1]})`)}}if(t.stack){const n=t.stack.split("\n");n.splice(1,3),t.stack=n.join("\n")}return t})(t)}return e.unsafeMap.get(t.key)}),Ma=e=>{const t=Error.stackTraceLimit;Error.stackTraceLimit=2;const n=new Error;Error.stackTraceLimit=t;const r=Object.create(nM);return Object.defineProperty(r,"stack",{get:()=>n.stack}),r.key=e,r},Ia=()=>Mae,qt=Tae,Ao=Pj,ry=Pj,li=p(2,(e,t)=>e.unsafeMap.has(t.key)?lh(e.unsafeMap.get(t.key)):(e=>G(e,uh))(t)?lh(ny(t)):ty),dh=p(2,(e,t)=>{const n=new Map(e.unsafeMap);for(const[r,o]of t.unsafeMap)n.set(r,o);return Oo(n)}),oy=()=>(e,t)=>{const n=Error.stackTraceLimit;Error.stackTraceLimit=2;const r=new Error;function o(){}return Error.stackTraceLimit=n,Object.setPrototypeOf(o,vae),o.key=e,o.defaultValue=t.defaultValue,Object.defineProperty(o,"stack",{get:()=>r.stack}),o},iM=Symbol.for("effect/Either"),Lj={...ch,[iM]:{_R:e=>e},[$e](){return this.toJSON()},toString(){return ht(this.toJSON())}},jae=Object.assign(Object.create(Lj),{_tag:"Right",_op:"Right",[J](e){return aM(e)&&lM(e)&&H(this.right,e.right)},[Q](){return ie(B(this._tag))(B(this.right))},toJSON(){return{_id:"Either",_tag:this._tag,right:ot(this.right)}}}),Bae=Object.assign(Object.create(Lj),{_tag:"Left",_op:"Left",[J](e){return aM(e)&&cM(e)&&H(this.left,e.left)},[Q](){return ie(B(this._tag))(B(this.left))},toJSON(){return{_id:"Either",_tag:this._tag,left:ot(this.left)}}}),aM=e=>G(e,iM),cM=e=>"Left"===e._tag,lM=e=>"Right"===e._tag,St=e=>{const t=Object.create(jae);return t.right=e,t},nr=e=>{const t=Object.create(Bae);return t.left=e,t},rr=cM,fh=lM,Hj=p(2,(e,{onLeft:t,onRight:n})=>rr(e)?t(e.left):n(e.right))({onLeft:Ce,onRight:Ce}),Bl=e=>(t,n)=>t===n||e(t,n),Kae=p(2,(e,t)=>Bl((n,r)=>e(t(n),t(r)))),zj=e=>e.length>0,T=()=>ty,A=lh,be=eM,he=Nj,or=p(2,(e,{onNone:t,onSome:n})=>be(e)?t():n(e.value)),sr=p(2,(e,t)=>be(e)?t():e.value),Qae=p(2,(e,t)=>be(e)?A(t()):e),Ul=e=>null==e?T():A(e),ir=sr(pj),Wj=p(2,(e,t)=>{if(he(e))return e.value;throw t()})(()=>new Error("getOrThrow called on a None")),Hl=p(2,(e,t)=>be(e)?T():A(t(e.value))),uM=p(2,(e,t)=>be(e)?T():t(e.value)),tce=(e=>p(2,(t,n)=>!be(t)&&e(t.value,n)))(XD()),ui=(Symbol,e=>(t,n)=>t===n?0:e(t,n)),Kj=ui((e,t)=>e<t?-1:1),Zj=p(2,(e,t)=>ui((n,r)=>e(t(n),t(r)))),Qj=e=>p(2,(t,n)=>1===e(t,n)),yce=(...e)=>e,dM=e=>new Array(e),le=e=>Array.isArray(e)?e:Array.from(e),sy=p(2,(e,t)=>[t,...e]),bce=p(2,(e,t)=>[...e,t]),rB=p(2,(e,t)=>le(e).concat(le(t))),Cce=zj,cn=zj,oB=(e,t)=>e<0||e>=t.length,wce=p(2,(e,t)=>{const n=Math.floor(t);return oB(n,e)?T():A(e[n])}),sB=p(2,(e,t)=>{const n=Math.floor(t);if(oB(n,e))throw new Error(`Index ${n} out of bounds`);return e[n]}),hh=wce(0),Hn=sB(0),fM=e=>e[e.length-1],di=e=>e.slice(1),Ice=p(2,(e,t)=>Fce(e,((e,t)=>{let n=0;for(const r of e){if(!t(r,n))break;n++}return n})(e,t))),Tce=p(2,(e,t)=>{const n=le(e);return n.slice(((e,t)=>Math.floor(Math.min(Math.max(0,e),t.length)))(t,n),n.length)}),aB=e=>Array.from(e).reverse(),ph=p(2,(e,t)=>{const n=Array.from(e);return n.sort(t),n}),cB=p(2,(e,t)=>Nce(e,t,yce)),Nce=p(3,(e,t,n)=>{const r=le(e),o=le(t);if(cn(r)&&cn(o)){const s=[n(Hn(r),Hn(o))],i=Math.min(r.length,o.length);for(let a=1;a<i;a++)s[a]=n(r[a],o[a]);return s}return[]}),lB=XD(),Fce=p(2,(e,t)=>{const n=Array.from(e),r=Math.floor(t);return cn(n)?r>=1?Pce(n,r):[[],n]:[n,[]]}),Pce=p(2,(e,t)=>{const n=Math.max(1,Math.floor(t));return n>=e.length?[Lce(e),[]]:[sy(e.slice(1,n),Hn(e)),e.slice(n)]}),Lce=e=>e.slice(),Vce=p(3,(e,t,n)=>{const r=le(e),o=le(t);return cn(r)?cn(o)?hB(n)(rB(r,o)):r:o}),ql=p(2,(e,t)=>Vce(e,t,lB)),Dr=e=>[e],zl=p(2,(e,t)=>e.map(t)),uB=p(2,(e,t)=>{if((e=>0===e.length)(e))return[];const n=[];for(let r=0;r<e.length;r++){const o=t(e[r],r);for(let s=0;s<o.length;s++)n.push(o[s])}return n})(Ce),Ta=p(3,(e,t,n)=>le(e).reduce((r,o,s)=>n(r,o,s),t)),fB=(e,t)=>{const n=[];let o,r=e;for(;he(o=t(r));){const[s,i]=o.value;n.push(s),r=i}return n},pM=e=>Bl((t,n)=>{if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(!e(t[r],n[r]))return!1;return!0}),hB=p(2,(e,t)=>{const n=le(e);if(cn(n)){const r=[Hn(n)],o=di(n);for(const s of o)r.every(i=>!t(s,i))&&r.push(s);return r}return[]}),Hce=e=>hB(e,XD()),Ra=p(2,(e,t)=>le(e).join(t)),pB=Symbol.for("effect/Chunk"),gB=[],qce=(e=>Bl((t,n)=>t.length===n.length&&$n(t).every((r,o)=>e(r,No(n,o)))))(H),zce={[pB]:{_A:e=>e},toString(){return ht(this.toJSON())},toJSON(){return{_id:"Chunk",values:$n(this).map(ot)}},[$e](){return this.toJSON()},[J](e){return mB(e)&&qce(this,e)},[Q](){return He(this,Sa($n(this)))},[Symbol.iterator](){switch(this.backing._tag){case"IArray":return this.backing.array[Symbol.iterator]();case"IEmpty":return gB[Symbol.iterator]();default:return $n(this)[Symbol.iterator]()}},pipe(){return W(this,arguments)}},At=e=>{const t=Object.create(zce);switch(t.backing=e,e._tag){case"IEmpty":t.length=0,t.depth=0,t.left=t,t.right=t;break;case"IConcat":t.length=e.left.length+e.right.length,t.depth=1+Math.max(e.left.depth,e.right.depth),t.left=e.left,t.right=e.right;break;case"IArray":t.length=e.array.length,t.depth=0,t.left=ko,t.right=ko;break;case"ISingleton":t.length=1,t.depth=0,t.left=ko,t.right=ko;break;case"ISlice":t.length=e.length,t.depth=e.chunk.depth+1,t.left=ko,t.right=ko}return t},mB=e=>G(e,pB),ko=At({_tag:"IEmpty"}),ln=()=>ko,gM=(...e)=>1===e.length?zt(e[0]):Wce(e),zt=e=>At({_tag:"ISingleton",a:e}),Wl=e=>mB(e)?e:At({_tag:"IArray",array:le(e)}),mM=(e,t,n)=>{switch(e.backing._tag){case"IArray":!function $ce(e,t,n,r,o){for(let s=t;s<Math.min(e.length,t+o);s++)n[r+s-t]=e[s]}(e.backing.array,0,t,n,e.length);break;case"IConcat":mM(e.left,t,n),mM(e.right,t,n+e.left.length);break;case"ISingleton":t[n]=e.backing.a;break;case"ISlice":{let r=0,o=n;for(;r<e.length;)t[o]=No(e,r),r+=1,o+=1;break}}},$n=e=>{switch(e.backing._tag){case"IEmpty":return gB;case"IArray":return e.backing.array;default:{const t=new Array(e.length);return mM(e,t,0),e.backing={_tag:"IArray",array:t},e.left=ko,e.right=ko,e.depth=0,t}}},hi=e=>{switch(e.backing._tag){case"IEmpty":case"ISingleton":return e;case"IArray":return At({_tag:"IArray",array:aB(e.backing.array)});case"IConcat":return At({_tag:"IConcat",left:hi(e.backing.right),right:hi(e.backing.left)});case"ISlice":return ar(aB($n(e)))}},ar=e=>At({_tag:"IArray",array:e}),Wce=e=>ar(e),No=p(2,(e,t)=>{switch(e.backing._tag){case"IEmpty":throw new Error("Index out of bounds");case"ISingleton":if(0!==t)throw new Error("Index out of bounds");return e.backing.a;case"IArray":if(t>=e.length||t<0)throw new Error("Index out of bounds");return e.backing.array[t];case"IConcat":return t<e.left.length?No(e.left,t):No(e.right,t-e.left.length);case"ISlice":return No(e.backing.chunk,t+e.backing.offset)}}),yB=p(2,(e,t)=>Mr(e,zt(t))),ut=p(2,(e,t)=>Mr(zt(t),e)),gh=p(2,(e,t)=>{if(t<=0)return e;if(t>=e.length)return ko;switch(e.backing._tag){case"ISlice":return At({_tag:"ISlice",chunk:e.backing.chunk,offset:e.backing.offset+t,length:e.backing.length-t});case"IConcat":return t>e.left.length?gh(e.right,t-e.left.length):At({_tag:"IConcat",left:gh(e.left,t),right:e.right});default:return At({_tag:"ISlice",chunk:e,offset:t,length:e.length-t})}}),Mr=p(2,(e,t)=>{if("IEmpty"===e.backing._tag)return t;if("IEmpty"===t.backing._tag)return e;const n=t.depth-e.depth;if(Math.abs(n)<=1)return At({_tag:"IConcat",left:e,right:t});if(n<-1){if(e.left.depth>=e.right.depth){const r=Mr(e.right,t);return At({_tag:"IConcat",left:e.left,right:r})}{const r=Mr(e.right.right,t);if(r.depth===e.depth-3){const o=At({_tag:"IConcat",left:e.right.left,right:r});return At({_tag:"IConcat",left:e.left,right:o})}{const o=At({_tag:"IConcat",left:e.left,right:e.right.left});return At({_tag:"IConcat",left:o,right:r})}}}if(t.right.depth>=t.left.depth){const r=Mr(e,t.left);return At({_tag:"IConcat",left:r,right:t.right})}{const r=Mr(e,t.left.left);if(r.depth===t.depth-3){const o=At({_tag:"IConcat",left:r,right:t.left.right});return At({_tag:"IConcat",left:o,right:t.right})}{const o=At({_tag:"IConcat",left:t.left.right,right:t.right});return At({_tag:"IConcat",left:r,right:o})}}}),vB=e=>0===e.length,pt=e=>e.length>0,EB=e=>No(e,0),De=EB,dt=e=>gh(e,1),_M=Symbol.for("effect/Duration"),CB=BigInt(0),SB=BigInt(24),ay=BigInt(60),yM=BigInt(1e3),wB=BigInt(1e6),vM=BigInt(1e9),DB=/^(-?\d+(?:\.\d+)?)\s+(nanos?|micros?|millis?|seconds?|minutes?|hours?|days?|weeks?)$/,_n=e=>{if(IB(e))return e;if(th(e))return mh(e);if((e=>"bigint"==typeof e)(e))return cy(e);if(Array.isArray(e)){if(2===e.length&&th(e[0])&&th(e[1]))return cy(BigInt(e[0])*vM+BigInt(e[1]))}else if((e=>"string"==typeof e)(e)){DB.lastIndex=0;const t=DB.exec(e);if(t){const[n,r,o]=t,s=Number(r);switch(o){case"nano":case"nanos":return cy(BigInt(r));case"micro":case"micros":return Qce(BigInt(r));case"milli":case"millis":return mh(s);case"second":case"seconds":return TB(s);case"minute":case"minutes":return Jce(s);case"hour":case"hours":return ele(s);case"day":case"days":return tle(s);case"week":case"weeks":return nle(s)}}}throw new Error("Invalid DurationInput")},MB={_tag:"Millis",millis:0},Kce={_tag:"Infinity"},Zce={[_M]:_M,[Q](){return He(this,Sj(this.value))},[J](e){return IB(e)&&ale(this,e)},toString(){return`Duration(${OB(this)})`},toJSON(){switch(this.value._tag){case"Millis":return{_id:"Duration",_tag:"Millis",millis:this.value.millis};case"Nanos":return{_id:"Duration",_tag:"Nanos",hrtime:ole(this)};case"Infinity":return{_id:"Duration",_tag:"Infinity"}}},[$e](){return this.toJSON()},pipe(){return W(this,arguments)}},fs=e=>{const t=Object.create(Zce);return t.value=th(e)?isNaN(e)||e<=0?MB:Number.isFinite(e)?Number.isInteger(e)?{_tag:"Millis",millis:e}:{_tag:"Nanos",nanos:BigInt(Math.round(1e6*e))}:Kce:e<=CB?MB:{_tag:"Nanos",nanos:e},t},IB=e=>G(e,_M),Yce=fs(0),cy=e=>fs(e),Qce=e=>fs(e*yM),mh=e=>fs(e),TB=e=>fs(1e3*e),Jce=e=>fs(6e4*e),ele=e=>fs(36e5*e),tle=e=>fs(864e5*e),nle=e=>fs(6048e5*e),Gl=e=>Xl(e,{onMillis:t=>t,onNanos:t=>Number(t)/1e6}),ole=e=>{const t=_n(e);switch(t.value._tag){case"Infinity":return[1/0,0];case"Nanos":return[Number(t.value.nanos/vM),Number(t.value.nanos%vM)];case"Millis":return[Math.floor(t.value.millis/1e3),Math.round(t.value.millis%1e3*1e6)]}},Xl=p(2,(e,t)=>{const n=_n(e);switch(n.value._tag){case"Nanos":return t.onNanos(n.value.nanos);case"Infinity":return t.onMillis(1/0);case"Millis":return t.onMillis(n.value.millis)}}),RB=p(3,(e,t,n)=>{const r=_n(e),o=_n(t);if("Infinity"===r.value._tag||"Infinity"===o.value._tag)return n.onMillis(Gl(r),Gl(o));if("Nanos"===r.value._tag||"Nanos"===o.value._tag){const s="Nanos"===r.value._tag?r.value.nanos:BigInt(Math.round(1e6*r.value.millis)),i="Nanos"===o.value._tag?o.value.nanos:BigInt(Math.round(1e6*o.value.millis));return n.onNanos(s,i)}return n.onMillis(r.value.millis,o.value.millis)}),ile=p(2,(e,t)=>RB(e,t,{onMillis:(n,r)=>n>=r,onNanos:(n,r)=>n>=r})),ale=p(2,(e,t)=>((e,t)=>RB(e,t,{onMillis:(n,r)=>n===r,onNanos:(n,r)=>n===r}))(_n(e),_n(t))),OB=e=>{const t=_n(e);if("Infinity"===t.value._tag)return"Infinity";const n=(e=>{const t=_n(e);if("Infinity"===t.value._tag)return{days:1/0,hours:1/0,minutes:1/0,seconds:1/0,millis:1/0,nanos:1/0};const n=(e=>{const t=_n(e);switch(t.value._tag){case"Infinity":throw new Error("Cannot convert infinite duration to nanos");case"Nanos":return t.value.nanos;case"Millis":return BigInt(Math.round(1e6*t.value.millis))}})(t),r=n/wB,o=r/yM,s=o/ay,i=s/ay;return{days:Number(i/SB),hours:Number(i%SB),minutes:Number(s%ay),seconds:Number(o%ay),millis:Number(r%yM),nanos:Number(n%wB)}})(t),r=[];return 0!==n.days&&r.push(`${n.days}d`),0!==n.hours&&r.push(`${n.hours}h`),0!==n.minutes&&r.push(`${n.minutes}m`),0!==n.seconds&&r.push(`${n.seconds}s`),0!==n.millis&&r.push(`${n.millis}ms`),0!==n.nanos&&r.push(`${n.nanos}ns`),r.join(" ")},bM=Math.pow(2,5),lle=bM-1,ule=bM/2,dle=bM/4;function Kl(e,t){return t>>>e&lle}function Zl(e){return 1<<e}function AB(e,t){return function fle(e){return e=(e=(858993459&(e-=e>>1&1431655765))+(e>>2&858993459))+(e>>4)&252645135,127&(e+=e>>8)+(e>>16)}(e&t-1)}const hle=(e,t)=>({value:e,previous:t});function Yl(e,t,n,r){let o=r;if(!e){const s=r.length;o=new Array(s);for(let i=0;i<s;++i)o[i]=r[i]}return o[t]=n,o}function kB(e,t,n){const r=n.length-1;let o=0,s=0,i=n;if(e)o=s=t;else for(i=new Array(r);o<t;)i[s++]=n[o++];for(++o;o<=r;)i[s++]=n[o++];return e&&(i.length=r),i}class pi{_tag="EmptyNode";modify(t,n,r,o,s,i){const a=r(T());return be(a)?new pi:(++i.value,new Aa(t,o,s,a))}}function to(e){return q_(e,"EmptyNode")}function ly(e,t){return!to(e)&&t===e.edit}class Aa{edit;hash;key;value;_tag="LeafNode";constructor(t,n,r,o){this.edit=t,this.hash=n,this.key=r,this.value=o}modify(t,n,r,o,s,i){if(H(s,this.key)){const c=r(this.value);return c===this.value?this:be(c)?(--i.value,new pi):ly(this,t)?(this.value=c,this):new Aa(t,o,s,c)}const a=r(T());return be(a)?this:(++i.value,NB(t,n,this.hash,this,o,new Aa(t,o,s,a)))}}class EM{edit;hash;children;_tag="CollisionNode";constructor(t,n,r){this.edit=t,this.hash=n,this.children=r}modify(t,n,r,o,s,i){if(o===this.hash){const c=ly(this,t),l=this.updateCollisionList(c,t,this.hash,this.children,r,s,i);return l===this.children?this:l.length>1?new EM(t,this.hash,l):l[0]}const a=r(T());return be(a)?this:(++i.value,NB(t,n,this.hash,this,o,new Aa(t,o,s,a)))}updateCollisionList(t,n,r,o,s,i,a){const c=o.length;for(let u=0;u<c;++u){const d=o[u];if("key"in d&&H(i,d.key)){const f=d.value,h=s(f);return h===f?o:be(h)?(--a.value,kB(t,u,o)):Yl(t,u,new Aa(n,r,i,h),o)}}const l=s(T());return be(l)?o:(++a.value,Yl(t,c,new Aa(n,r,i,l),o))}}class Ql{edit;mask;children;_tag="IndexedNode";constructor(t,n,r){this.edit=t,this.mask=n,this.children=r}modify(t,n,r,o,s,i){const a=this.mask,c=this.children,l=Kl(n,o),u=Zl(l),d=AB(a,u),f=a&u,h=ly(this,t);if(!f){const v=(new pi).modify(t,n+5,r,o,s,i);return v?c.length>=ule?function _le(e,t,n,r,o){const s=[];let i=r,a=0;for(let c=0;i;++c)1&i&&(s[c]=o[a++]),i>>>=1;return s[t]=n,new CM(e,a+1,s)}(t,l,v,a,c):new Ql(t,a|u,function ple(e,t,n,r){const o=r.length;if(e){let c=o;for(;c>=t;)r[c--]=r[c];return r[t]=n,r}let s=0,i=0;const a=new Array(o+1);for(;s<t;)a[i++]=r[s++];for(a[t]=n;s<o;)a[++i]=r[s++];return a}(h,d,v,c)):this}const g=c[d],m=g.modify(t,n+5,r,o,s,i);if(g===m)return this;let C,y=a;if(to(m)){if(y&=~u,!y)return new pi;if(c.length<=2&&function gle(e){return to(e)||"LeafNode"===e._tag||"CollisionNode"===e._tag}(c[1^d]))return c[1^d];C=kB(h,d,c)}else C=Yl(h,d,m,c);return h?(this.mask=y,this.children=C,this):new Ql(t,y,C)}}class CM{edit;size;children;_tag="ArrayNode";constructor(t,n,r){this.edit=t,this.size=n,this.children=r}modify(t,n,r,o,s,i){let a=this.size;const c=this.children,l=Kl(n,o),u=c[l],d=(u||new pi).modify(t,n+5,r,o,s,i);if(u===d)return this;const f=ly(this,t);let h;if(to(u)&&!to(d))++a,h=Yl(f,l,d,c);else if(!to(u)&&to(d)){if(--a,a<=dle)return function mle(e,t,n,r){const o=new Array(t-1);let s=0,i=0;for(let a=0,c=r.length;a<c;++a)if(a!==n){const l=r[a];l&&!to(l)&&(o[s++]=l,i|=1<<a)}return new Ql(e,i,o)}(t,a,l,c);h=Yl(f,l,new pi,c)}else h=Yl(f,l,d,c);return f?(this.size=a,this.children=h,this):new CM(t,a,h)}}function yle(e,t,n,r,o,s){if(n===o)return new EM(e,n,[s,r]);const i=Kl(t,n),a=Kl(t,o);if(i===a)return c=>new Ql(e,Zl(i)|Zl(a),[c]);{const c=i<a?[r,s]:[s,r];return new Ql(e,Zl(i)|Zl(a),c)}}function NB(e,t,n,r,o,s){let i,a=t;for(;;){const c=yle(e,a,n,r,o,s);if("function"!=typeof c){let l=c;for(;null!=i;)l=i.value(l),i=i.previous;return l}i=hle(c,i),a+=5}}const xB="effect/HashMap",uy=Symbol.for(xB),vle={[uy]:uy,[Symbol.iterator](){return new Jl(this,(e,t)=>[e,t])},[Q](){let e=B(xB);for(const t of this)e^=_(B(t[0]),ie(B(t[1])));return He(this,e)},[J](e){if(VB(e)){if(e._size!==this._size)return!1;for(const t of this){const n=_(e,eu(t[0],B(t[0])));if(be(n))return!1;if(!H(t[1],n.value))return!1}return!0}return!1},toString(){return ht(this.toJSON())},toJSON(){return{_id:"HashMap",values:Array.from(this).map(ot)}},[$e](){return this.toJSON()},pipe(){return W(this,arguments)}},SM=(e,t,n,r)=>{const o=Object.create(vle);return o._editable=e,o._edit=t,o._root=n,o._size=r,o};class Jl{map;f;v;constructor(t,n){this.map=t,this.f=n,this.v=FB(this.map._root,this.f,void 0)}next(){if(be(this.v))return{done:!0,value:void 0};const t=this.v.value;return this.v=dy(t.cont),{done:!1,value:t.value}}[Symbol.iterator](){return new Jl(this.map,this.f)}}const dy=e=>e?PB(e[0],e[1],e[2],e[3],e[4]):T(),FB=(e,t,n=void 0)=>{switch(e._tag){case"LeafNode":return he(e.value)?A({value:t(e.key,e.value.value),cont:n}):dy(n);case"CollisionNode":case"ArrayNode":case"IndexedNode":{const r=e.children;return PB(r.length,r,0,t,n)}default:return dy(n)}},PB=(e,t,n,r,o)=>{for(;n<e;){const s=t[n++];if(s&&!to(s))return FB(s,r,[e,t,n,r,o])}return dy(o)},ble=SM(!1,0,new pi,0),ka=()=>ble,VB=e=>G(e,uy),Sle=p(2,(e,t)=>eu(e,t,B(t))),eu=p(3,(e,t,n)=>{let r=e._root,o=0;for(;;)switch(r._tag){case"LeafNode":return H(t,r.key)?r.value:T();case"CollisionNode":if(n===r.hash){const s=r.children;for(let i=0,a=s.length;i<a;++i){const c=s[i];if("key"in c&&H(t,c.key))return c.value}}return T();case"IndexedNode":{const i=Zl(Kl(o,n));if(r.mask&i){r=r.children[AB(r.mask,i)],o+=5;break}return T()}case"ArrayNode":if(r=r.children[Kl(o,n)],r){o+=5;break}return T();default:return T()}}),jB=p(2,(e,t)=>he(eu(e,t,B(t)))),hs=p(3,(e,t,n)=>py(e,t,()=>A(n))),Mle=p(3,(e,t,n)=>e._editable?(e._root=t,e._size=n,e):t===e._root?e:SM(e._editable,e._edit,t,n)),wM=e=>new Jl(e,t=>t),fy=e=>e._size,_h=e=>SM(!0,e._edit+1,e._root,e._size),hy=e=>(e._editable=!1,e),py=p(3,(e,t,n)=>BB(e,t,B(t),n)),BB=p(4,(e,t,n,r)=>{const o={value:e._size},s=e._root.modify(e._editable?e._edit:NaN,0,r,n,t,o);return _(e,Mle(s,o.value))}),gy=p(2,(e,t)=>py(e,t,T)),kle=p(2,(e,t)=>vh(e,ka(),(n,r,o)=>hs(n,o,t(r,o)))),my=p(2,(e,t)=>vh(e,void 0,(n,r,o)=>t(r,o))),vh=p(3,(e,t,n)=>{const r=e._root;if("LeafNode"===r._tag)return he(r.value)?n(t,r.value.value,r.key):t;if("EmptyNode"===r._tag)return t;const o=[r.children];let s;for(;s=o.pop();)for(let i=0,a=s.length;i<a;){const c=s[i++];c&&!to(c)&&("LeafNode"===c._tag?he(c.value)&&(t=n(t,c.value.value,c.key)):o.push(c.children))}return t}),HB="effect/HashSet",_y=Symbol.for(HB),Lle={[_y]:_y,[Symbol.iterator](){return wM(this._keyMap)},[Q](){return He(this,ie(B(this._keyMap))(B(HB)))},[J](e){return!!$B(e)&&fy(this._keyMap)===fy(e._keyMap)&&H(this._keyMap,e._keyMap)},toString(){return ht(this.toJSON())},toJSON(){return{_id:"HashSet",values:Array.from(this).map(ot)}},[$e](){return this.toJSON()},pipe(){return W(this,arguments)}},bh=e=>{const t=Object.create(Lle);return t._keyMap=e,t},$B=e=>G(e,_y),Vle=bh(ka()),xo=()=>Vle,tu=p(2,(e,t)=>jB(e._keyMap,t)),nu=e=>bh(_h(e._keyMap)),ru=e=>(e._keyMap._editable=!1,e),Na=p(2,(e,t)=>{const n=nu(e);return t(n),ru(n)}),Ir=p(2,(e,t)=>e._keyMap._editable?(hs(t,!0)(e._keyMap),e):bh(hs(t,!0)(e._keyMap))),MM=p(2,(e,t)=>e._keyMap._editable?(gy(t)(e._keyMap),e):bh(gy(t)(e._keyMap))),$le=p(2,(e,t)=>Na(e,n=>{for(const r of t)MM(n,r)})),zle=p(2,(e,t)=>Na(xo(),n=>{yy(e,r=>Ir(n,r));for(const r of t)Ir(n,r)})),yy=p(2,(e,t)=>my(e._keyMap,(n,r)=>t(r))),gi=xo,vy=(...e)=>{const t=nu(xo());for(const n of e)Ir(t,n);return ru(t)},Qle=tu,Eh=e=>fy(e._keyMap),Ch=Ir,GB=MM,XB=$le,ou=zle,Sh=p(3,(e,t,n)=>vh(e._keyMap,t,(r,o,s)=>n(r,s))),KB=Symbol.for("effect/MutableRef"),eue={[KB]:KB,toString(){return ht(this.toJSON())},toJSON(){return{_id:"MutableRef",current:ot(this.current)}},[$e](){return this.toJSON()},pipe(){return W(this,arguments)}},wh=e=>{const t=Object.create(eue);return t.current=e,t},ps=e=>e.current,Dh=p(2,(e,t)=>(e.current=t,e)),by="effect/FiberId",mi=Symbol.for(by),_i="None",Mh="Runtime",tue=lt(`${by}-${_i}`);class nue{[mi]=mi;_tag=_i;id=-1;startTimeMillis=-1;[Q](){return tue}[J](t){return Ey(t)&&t._tag===_i}toString(){return ht(this.toJSON())}toJSON(){return{_id:"FiberId",_tag:this._tag}}[$e](){return this.toJSON()}}class TM{id;startTimeMillis;[mi]=mi;_tag=Mh;constructor(t,n){this.id=t,this.startTimeMillis=n}[Q](){return He(this,lt(`${by}-${this._tag}-${this.id}-${this.startTimeMillis}`))}[J](t){return Ey(t)&&t._tag===Mh&&this.id===t.id&&this.startTimeMillis===t.startTimeMillis}toString(){return ht(this.toJSON())}toJSON(){return{_id:"FiberId",_tag:this._tag,id:this.id,startTimeMillis:this.startTimeMillis}}[$e](){return this.toJSON()}}const RM=new nue,Ey=e=>G(e,mi),Cy=e=>{switch(e._tag){case _i:return gi();case Mh:return vy(e.id);case"Composite":return _(Cy(e.left),ou(Cy(e.right)))}},eU=me(Symbol.for("effect/Fiber/Id/_fiberCounter"),()=>wh(0)),kM=e=>Array.from(Cy(e)).map(n=>`#${n}`).join(","),Fo=RM,hue=kM,rU=()=>{const e=ps(eU);return _(eU,Dh(e+1)),new TM(e,Date.now())},Sy=ka,gue=e=>{const t=_h(ka());for(const n of e)hs(t,n[0],n[1]);return hy(t)},wy=Sle,Po=hs,oU=wM,sU=fy,vue=py,bue=kle,Dy=vh,Rh=Symbol.for("effect/List"),xM=e=>le(e),Cue=(e=>Kae(pM(e),xM))(H),Sue={[Rh]:Rh,_tag:"Cons",toString(){return ht(this.toJSON())},toJSON(){return{_id:"List",_tag:"Cons",values:xM(this).map(ot)}},[$e](){return this.toJSON()},[J](e){return iU(e)&&this._tag===e._tag&&Cue(this,e)},[Q](){return He(this,Sa(xM(this)))},[Symbol.iterator](){let e=!1,t=this;return{next(){if(e)return this.return();if("Nil"===t._tag)return e=!0,this.return();const n=t.head;return t=t.tail,{done:e,value:n}},return:n=>(e||(e=!0),{done:!0,value:n})}},pipe(){return W(this,arguments)}},gs=(e,t)=>{const n=Object.create(Sue);return n.head=e,n.tail=t,n},wue=lt("Nil"),Due={[Rh]:Rh,_tag:"Nil",toString(){return ht(this.toJSON())},toJSON:()=>({_id:"List",_tag:"Nil"}),[$e](){return this.toJSON()},[Q]:()=>wue,[J](e){return iU(e)&&this._tag===e._tag},[Symbol.iterator]:()=>({next:()=>({done:!0,value:void 0})}),pipe(){return W(this,arguments)}},ms=Object.create(Due),iU=e=>G(e,Rh),wt=e=>"Nil"===e._tag,FM=e=>"Cons"===e._tag,xa=(e,t)=>gs(e,t),Fa=()=>ms,PM=e=>gs(e,ms),Tue=p(2,(e,t)=>Rue(t,e)),LM=p(2,(e,t)=>xa(t,e)),Rue=p(2,(e,t)=>{if(wt(e))return t;if(wt(t))return e;{const n=gs(t.head,e);let r=n,o=t.tail;for(;!wt(o);){const s=gs(o.head,e);r.tail=s,r=s,o=o.tail}return n}}),Nue=p(3,(e,t,n)=>{let r=t,o=e;for(;!wt(o);)r=n(r,o.head),o=o.tail;return r}),xue=e=>{let t=Fa(),n=e;for(;!wt(n);)t=LM(t,n.head),n=n.tail;return t},su=function(){function e(t){t&&Object.assign(this,t)}return e.prototype=ey,e}();const uU=Symbol.for("effect/DifferContextPatch");function dU(e){return e}const Ah={...su.prototype,[uU]:{_Value:dU,_Patch:dU}},Xue=Object.create(Object.assign(Object.create(Ah),{_tag:"Empty"})),fU=()=>Xue,Kue=Object.assign(Object.create(Ah),{_tag:"AndThen"}),Yue=Object.assign(Object.create(Ah),{_tag:"AddService"}),Que=(e,t)=>{const n=Object.create(Yue);return n.key=e,n.service=t,n},Jue=Object.assign(Object.create(Ah),{_tag:"RemoveService"}),ede=e=>{const t=Object.create(Jue);return t.key=e,t},tde=Object.assign(Object.create(Ah),{_tag:"UpdateService"}),nde=(e,t)=>{const n=Object.create(tde);return n.key=e,n.update=t,n},Ty=p(2,(e,t)=>((e,t)=>{const n=Object.create(Kue);return n.first=e,n.second=t,n})(e,t)),ode=p(2,(e,t)=>{if("Empty"===e._tag)return t;let n=!1,r=zt(e);const o=new Map(t.unsafeMap);for(;pt(r);){const i=De(r),a=dt(r);switch(i._tag){case"Empty":r=a;break;case"AddService":o.set(i.key,i.service),r=a;break;case"AndThen":r=ut(ut(a,i.second),i.first);break;case"RemoveService":o.delete(i.key),r=a;break;case"UpdateService":o.set(i.key,i.update(o.get(i.key))),n=!0,r=a}}if(!n)return Oo(o);const s=new Map;for(const[i]of t.unsafeMap)o.has(i)&&(s.set(i,o.get(i)),o.delete(i));for(const[i,a]of o)s.set(i,a);return Oo(s)});const gU=Symbol.for("effect/DifferHashSetPatch");function UM(e){return e}const Oy={...su.prototype,[gU]:{_Value:UM,_Key:UM,_Patch:UM}},mde=Object.create(Object.assign(Object.create(Oy),{_tag:"Empty"})),mU=()=>mde,_de=Object.assign(Object.create(Oy),{_tag:"AndThen"}),vde=Object.assign(Object.create(Oy),{_tag:"Add"}),bde=e=>{const t=Object.create(vde);return t.value=e,t},Ede=Object.assign(Object.create(Oy),{_tag:"Remove"}),HM=p(2,(e,t)=>((e,t)=>{const n=Object.create(_de);return n.first=e,n.second=t,n})(e,t)),wde=p(2,(e,t)=>{if("Empty"===e._tag)return t;let n=t,r=zt(e);for(;pt(r);){const o=De(r),s=dt(r);switch(o._tag){case"Empty":r=s;break;case"AndThen":r=ut(o.first)(ut(o.second)(s));break;case"Add":n=Ch(o.value)(n),r=s;break;case"Remove":n=GB(o.value)(n),r=s}}return n});const yU=Symbol.for("effect/DifferReadonlyArrayPatch");function vU(e){return e}const Nh={...su.prototype,[yU]:{_Value:vU,_Patch:vU}},jde=Object.create(Object.assign(Object.create(Nh),{_tag:"Empty"})),bU=()=>jde,Bde=Object.assign(Object.create(Nh),{_tag:"AndThen"}),Hde=Object.assign(Object.create(Nh),{_tag:"Append"}),qde=Object.assign(Object.create(Nh),{_tag:"Slice"}),Wde=Object.assign(Object.create(Nh),{_tag:"Update"}),Gde=(e,t)=>{const n=Object.create(Wde);return n.index=e,n.patch=t,n},Ay=p(2,(e,t)=>((e,t)=>{const n=Object.create(Bde);return n.first=e,n.second=t,n})(e,t)),Kde=p(3,(e,t,n)=>{if("Empty"===e._tag)return t;let r=t.slice(),o=Dr(e);for(;Cce(o);){const s=Hn(o),i=di(o);switch(s._tag){case"Empty":o=i;break;case"AndThen":i.unshift(s.first,s.second),o=i;break;case"Append":for(const a of s.values)r.push(a);o=i;break;case"Slice":r=r.slice(s.from,s.until),o=i;break;case"Update":r[s.index]=n.patch(s.patch,r[s.index]),o=i}}return r}),EU=Symbol.for("effect/Differ"),Zde={[EU]:{_P:Ce,_V:Ce}},no=e=>{const t=Object.create(Zde);return t.empty=e.empty,t.diff=e.diff,t.combine=e.combine,t.patch=e.patch,t},SU=()=>no({empty:mU(),combine:(e,t)=>HM(t)(e),diff:(e,t)=>((e,t)=>{const[n,r]=Sh([e,mU()],([o,s],i)=>Qle(i)(o)?[GB(i)(o),s]:[o,HM(bde(i))(s)])(t);return Sh(r,(o,s)=>HM((e=>{const t=Object.create(Ede);return t.value=e,t})(s))(o))(n)})(e,t),patch:(e,t)=>wde(t)(e)}),wU=e=>no({empty:bU(),combine:(t,n)=>Ay(t,n),diff:(t,n)=>(e=>{let t=0,n=bU();for(;t<e.oldValue.length&&t<e.newValue.length;){const s=e.differ.diff(e.oldValue[t],e.newValue[t]);H(s,e.differ.empty)||(n=Ay(n,Gde(t,s))),t+=1}return t<e.oldValue.length&&(n=Ay(n,((e,t)=>{const n=Object.create(qde);return n.from=0,n.until=t,n})(0,t))),t<e.newValue.length&&(n=Ay(n,(e=>{const t=Object.create(Hde);return t.values=e,t})(Tce(t)(e.newValue)))),n})({oldValue:t,newValue:n,differ:e}),patch:(t,n)=>Kde(t,n,e)}),zM=()=>DU((e,t)=>t),DU=e=>no({empty:Ce,combine:(t,n)=>t===Ce?n:n===Ce?t:r=>n(t(r)),diff:(t,n)=>H(t,n)?Ce:B_(n),patch:(t,n)=>e(n,t(n))}),Tr=e=>255&e,Rr=e=>e>>8&255,_s=(e,t)=>(255&e)+((t&e&255)<<8),IU=_s(0,0),afe=p(2,(e,t)=>_s(Tr(e)&~t,Rr(e))),RU=p(2,(e,t)=>e|t),ffe=p(2,(e,t)=>e|t),vs=e=>Fy(e)&&!pfe(e),Fy=e=>Pa(e,1),Pa=p(2,(e,t)=>!!(e&t)),kU=(...e)=>e.reduce((t,n)=>t|n,0),hfe=kU(0),NU=e=>Pa(e,4),pfe=e=>Pa(e,16),bs=p(2,(e,t)=>_s(e^t,t)),La=p(2,(e,t)=>e&((e=>~e>>>0&255)(Tr(t))|Rr(t))|Tr(t)&Rr(t)),LU=no({empty:IU,diff:(e,t)=>bs(e,t),combine:(e,t)=>RU(t)(e),patch:(e,t)=>La(t,e)}),jU=e=>_s(e,0),BU=afe,au="Die",cu="Empty",lu="Fail",uu="Interrupt",du="Parallel",fu="Sequential",UU="effect/Cause",HU=Symbol.for(UU),hu={[HU]:{_E:e=>e},[Q](){return _(B(UU),ie(B(Dfe(this))),He(this))},[J](e){return $U(e)&&wfe(this,e)},pipe(){return W(this,arguments)},toJSON(){switch(this._tag){case"Empty":return{_id:"Cause",_tag:this._tag};case"Die":return{_id:"Cause",_tag:this._tag,defect:ot(this.defect)};case"Interrupt":return{_id:"Cause",_tag:this._tag,fiberId:this.fiberId.toJSON()};case"Fail":return{_id:"Cause",_tag:this._tag,failure:ot(this.error)};case"Sequential":case"Parallel":return{_id:"Cause",_tag:this._tag,left:ot(this.left),right:ot(this.right)}}},toString(){return Ph(this)},[$e](){return this.toJSON()}},Or=(()=>{const e=Object.create(hu);return e._tag=cu,e})(),Es=e=>{const t=Object.create(hu);return t._tag=lu,t.error=e,t},un=e=>{const t=Object.create(hu);return t._tag=au,t.defect=e,t},cr=e=>{const t=Object.create(hu);return t._tag=uu,t.fiberId=e,t},Qt=(e,t)=>{const n=Object.create(hu);return n._tag=du,n.left=e,n.right=t,n},ft=(e,t)=>{const n=Object.create(hu);return n._tag=fu,n.left=e,n.right=t,n},$U=e=>G(e,HU),KM=e=>Py(void 0,Tfe)(e),pu=e=>{const t=(e=>gu(e,t=>t._tag===lu?A(t.error):T()))(e);switch(t._tag){case"None":return St(e);case"Some":return nr(t.value)}},vfe=e=>gu(e,t=>t._tag===uu?A(t.fiberId):T()),ZU=e=>Va(e,{onEmpty:Or,onFail:()=>Or,onDie:t=>un(t),onInterrupt:t=>cr(t),onSequential:ft,onParallel:Qt}),wfe=(e,t)=>{let n=zt(e),r=zt(t);for(;pt(n)&&pt(r);){const[o,s]=_(De(n),mu([gi(),ln()],([c,l],u)=>{const[d,f]=ZM(u);return A([_(c,ou(d)),_(l,Mr(f))])})),[i,a]=_(De(r),mu([gi(),ln()],([c,l],u)=>{const[d,f]=ZM(u);return A([_(c,ou(d)),_(l,Mr(f))])}));if(!H(o,i))return!1;n=s,r=a}return!0},Dfe=e=>Mfe(zt(e),ln()),Mfe=(e,t)=>{for(;;){const[n,r]=_(e,Ta([gi(),ln()],([s,i],a)=>{const[c,l]=ZM(a);return[_(s,ou(c)),_(i,Mr(l))]})),o=Eh(n)>0?_(t,ut(n)):t;if(vB(r))return hi(o);e=r,t=o}throw new Error(nh("Cause.flattenCauseLoop"))},gu=p(2,(e,t)=>{const n=[e];for(;n.length>0;){const r=n.pop(),o=t(r);switch(o._tag){case"None":switch(r._tag){case fu:case du:n.push(r.right),n.push(r.left)}break;case"Some":return o}}return T()}),ZM=e=>{let t=e;const n=[];let r=gi(),o=ln();for(;void 0!==t;)switch(t._tag){case cu:if(0===n.length)return[r,o];t=n.pop();break;case lu:if(r=Ch(r,gM(t._tag,t.error)),0===n.length)return[r,o];t=n.pop();break;case au:if(r=Ch(r,gM(t._tag,t.defect)),0===n.length)return[r,o];t=n.pop();break;case uu:if(r=Ch(r,gM(t._tag,t.fiberId)),0===n.length)return[r,o];t=n.pop();break;case fu:switch(t.left._tag){case cu:t=t.right;break;case fu:t=ft(t.left.left,ft(t.left.right,t.right));break;case du:t=Qt(ft(t.left.left,t.right),ft(t.left.right,t.right));break;default:o=ut(o,t.right),t=t.left}break;case du:n.push(t.right),t=t.left}throw new Error(nh("Cause.evaluateCauseLoop"))},Tfe={emptyCase:eh,failCase:ls,dieCase:ls,interruptCase:eh,sequentialCase:(e,t,n)=>t&&n,parallelCase:(e,t,n)=>t&&n},JU="SequentialCase",eH="ParallelCase",Va=p(2,(e,{onDie:t,onEmpty:n,onFail:r,onInterrupt:o,onParallel:s,onSequential:i})=>Py(e,void 0,{emptyCase:()=>n,failCase:(a,c)=>r(c),dieCase:(a,c)=>t(c),interruptCase:(a,c)=>o(c),sequentialCase:(a,c,l)=>i(c,l),parallelCase:(a,c,l)=>s(c,l)})),mu=p(3,(e,t,n)=>{let r=t,o=e;const s=[];for(;void 0!==o;){const i=n(r,o);switch(r=he(i)?i.value:r,o._tag){case fu:case du:s.push(o.right),o=o.left;break;default:o=void 0}void 0===o&&s.length>0&&(o=s.pop())}return r}),Py=p(3,(e,t,n)=>{const r=[e],o=[];for(;r.length>0;){const i=r.pop();switch(i._tag){case cu:o.push(St(n.emptyCase(t)));break;case lu:o.push(St(n.failCase(t,i.error)));break;case au:o.push(St(n.dieCase(t,i.defect)));break;case uu:o.push(St(n.interruptCase(t,i.fiberId)));break;case fu:r.push(i.right),r.push(i.left),o.push(nr({_tag:JU}));break;case du:r.push(i.right),r.push(i.left),o.push(nr({_tag:eH}))}}const s=[];for(;o.length>0;){const i=o.pop();switch(i._tag){case"Left":switch(i.left._tag){case JU:{const a=s.pop(),c=s.pop(),l=n.sequentialCase(t,a,c);s.push(l);break}case eH:{const a=s.pop(),c=s.pop(),l=n.parallelCase(t,a,c);s.push(l);break}}break;case"Right":s.push(i.right)}}if(0===s.length)throw new Error("BUG: Cause.reduceWithContext - please report an issue at https://github.com/Effect-TS/effect/issues");return s.pop()}),Ph=(e,t)=>KM(e)?"All fibers interrupted without errors.":rH(e).map(function(n){return!0!==t?.renderErrorCause||void 0===n.cause?n.stack:`${n.stack} {\n${tH(n.cause,"  ")}\n}`}).join("\n"),tH=(e,t)=>{const n=e.stack.split("\n");let r=`${t}[cause]: ${n[0]}`;for(let o=1,s=n.length;o<s;o++)r+=`\n${t}${n[o]}`;return e.cause&&(r+=` {\n${tH(e.cause,`${t}  `)}\n${t}}`),r};class Ly extends globalThis.Error{span=void 0;constructor(t){const n="object"==typeof t&&null!==t,r=Error.stackTraceLimit;Error.stackTraceLimit=1,super(Rfe(t),n&&"cause"in t&&typeof t.cause<"u"?{cause:new Ly(t.cause)}:void 0),""===this.message&&(this.message="An error has occurred"),Error.stackTraceLimit=r,this.name=t instanceof Error?t.name:"Error",n&&(nH in t&&(this.span=t[nH]),Object.keys(t).forEach(o=>{o in this||(this[o]=t[o])})),this.stack=Afe(`${this.name}: ${this.message}`,t instanceof Error&&t.stack?t.stack:"",this.span)}}const Rfe=e=>{if("string"==typeof e)return e;if("object"==typeof e&&null!==e&&e instanceof Error)return e.message;try{if(G(e,"toString")&&Ca(e.toString)&&e.toString!==Object.prototype.toString&&e.toString!==globalThis.Array.prototype.toString)return e.toString()}catch{}return KD(e)},Ofe=/\((.*)\)/g,Vy=me("effect/Tracer/spanToTrace",()=>new WeakMap),Afe=(e,t,n)=>{const r=[e],o=t.startsWith(e)?t.slice(e.length).split("\n"):t.split("\n");for(let s=1;s<o.length&&!o[s].includes("Generator.next");s++){if(o[s].includes("effect_internal_function")){r.pop();break}r.push(o[s].replace(/at .*effect_instruction_i.*\((.*)\)/,"at $1").replace(/EffectPrimitive\.\w+/,"<anonymous>"))}if(n){let s=n,i=0;for(;s&&"Span"===s._tag&&i<10;){const a=Vy.get(s);if("function"==typeof a){const c=a();if("string"==typeof c){const l=c.matchAll(Ofe);let u=!1;for(const[,d]of l)u=!0,r.push(`    at ${s.name} (${d})`);u||r.push(`    at ${s.name} (${c.replace(/^at /,"")})`)}else r.push(`    at ${s.name}`)}else r.push(`    at ${s.name}`);s=ir(s.parent),i++}}return r.join("\n")},nH=Symbol.for("effect/SpanAnnotation"),rH=e=>Py(e,void 0,{emptyCase:()=>[],dieCase:(t,n)=>[new Ly(n)],failCase:(t,n)=>[new Ly(n)],interruptCase:()=>[],parallelCase:(t,n,r)=>[...n,...r],sequentialCase:(t,n,r)=>[...n,...r]}),_u="Pending",oH=Symbol.for("effect/Deferred"),kfe={_E:e=>e,_A:e=>e},Nfe=e=>({_tag:_u,joiners:e});class Vh{self;called=!1;constructor(t){this.self=t}next(t){return this.called?{value:t,done:!0}:(this.called=!0,{value:this.self,done:!1})}return(t){return{value:t,done:!0}}throw(t){throw t}[Symbol.iterator](){return new Vh(this.self)}}const YM=Symbol.for("effect/EffectError"),yu=(e,t)=>{const n=new Dt("Blocked");return n.effect_instruction_i0=e,n.effect_instruction_i1=t,n},ja=Symbol.for("effect/Effect");class Pfe{patch;op;_op=YD;constructor(t,n){this.patch=t,this.op=n}}class Dt{_op;effect_instruction_i0=void 0;effect_instruction_i1=void 0;effect_instruction_i2=void 0;trace=void 0;[ja]=jl;constructor(t){this._op=t}[J](t){return this===t}[Q](){return He(this,z_(this))}pipe(){return W(this,arguments)}toJSON(){return{_id:"Effect",_op:this._op,effect_instruction_i0:ot(this.effect_instruction_i0),effect_instruction_i1:ot(this.effect_instruction_i1),effect_instruction_i2:ot(this.effect_instruction_i2)}}toString(){return ht(this.toJSON())}[$e](){return this.toJSON()}[Symbol.iterator](){return new Vh(new oh(this))}}class aH{_op;effect_instruction_i0=void 0;effect_instruction_i1=void 0;effect_instruction_i2=void 0;trace=void 0;[ja]=jl;constructor(t){this._op=t,this._tag=t}[J](t){return Yy(t)&&"Failure"===t._op&&H(this.effect_instruction_i0,t.effect_instruction_i0)}[Q](){return _(lt(this._tag),ie(B(this.effect_instruction_i0)),He(this))}get cause(){return this.effect_instruction_i0}pipe(){return W(this,arguments)}toJSON(){return{_id:"Exit",_tag:this._op,cause:this.cause.toJSON()}}toString(){return ht(this.toJSON())}[$e](){return this.toJSON()}[Symbol.iterator](){return new Vh(new oh(this))}}class cH{_op;effect_instruction_i0=void 0;effect_instruction_i1=void 0;effect_instruction_i2=void 0;trace=void 0;[ja]=jl;constructor(t){this._op=t,this._tag=t}[J](t){return Yy(t)&&"Success"===t._op&&H(this.effect_instruction_i0,t.effect_instruction_i0)}[Q](){return _(lt(this._tag),ie(B(this.effect_instruction_i0)),He(this))}get value(){return this.effect_instruction_i0}pipe(){return W(this,arguments)}toJSON(){return{_id:"Exit",_tag:this._op,value:ot(this.value)}}toString(){return ht(this.toJSON())}[$e](){return this.toJSON()}[Symbol.iterator](){return new Vh(new oh(this))}}const We=e=>G(e,ja),Ee=e=>{const t=new Dt(Mj);return t.effect_instruction_i0=e,t},lH=p(3,(e,t,n)=>en(r=>b(e,o=>b(kt(z(()=>r(t(o)))),s=>z(()=>n(o,s)).pipe(Nt({onFailure:i=>{switch(s._tag){case qe:return _e(ft(s.effect_instruction_i0,i));case ze:return _e(i)}},onSuccess:()=>s})))))),_t=p(2,(e,t)=>b(e,()=>D(t))),Jt=e=>_t(e,void 0),jy=function(){const e=new Dt(X_);switch(arguments.length){case 2:e.effect_instruction_i0=arguments[0],e.commit=arguments[1];break;case 3:e.effect_instruction_i0=arguments[0],e.effect_instruction_i1=arguments[1],e.commit=arguments[2];break;case 4:e.effect_instruction_i0=arguments[0],e.effect_instruction_i1=arguments[1],e.effect_instruction_i2=arguments[2],e.commit=arguments[3];break;default:throw new Error(nh("you're not supposed to end up here"))}return e},jh=(e,t=Fo)=>{const n=new Dt(ih);let r;return n.effect_instruction_i0=o=>{r=e(o)},n.effect_instruction_i1=t,za(n,o=>We(r)?r:ee)},By=(e,t=Fo)=>z(()=>jh(e,t)),ro=(e,t=Fo)=>jy(e,function(){let n,r;function o(c){n?n(c):void 0===r&&(r=c)}const s=new Dt(ih);let i,a;return s.effect_instruction_i0=c=>{n=c,r&&c(r)},s.effect_instruction_i1=t,1!==this.effect_instruction_i0.length?(a=new AbortController,i=Yt(()=>this.effect_instruction_i0(o,a.signal))):i=Yt(()=>this.effect_instruction_i0(o)),i||a?za(s,c=>(a&&a.abort(),i??ee)):s}),Ua=p(2,(e,t)=>yn(e,{onFailure:t,onSuccess:D})),Uy=Symbol.for("effect/SpanAnnotation"),Hy=Symbol.for("effect/OriginalAnnotation"),JM=(e,t)=>he(t)?new Proxy(e,{has:(n,r)=>r===Uy||r===Hy||r in n,get:(n,r)=>r===Uy?t.value:r===Hy?e:n[r]}):e,Ha=e=>$_(e)&&!(Uy in e)?Ee(t=>_e(un(JM(e,II(t))))):_e(un(e)),Bh=e=>Hh(()=>un(new uhe(e))),$a=e=>yn(e,{onFailure:t=>D(nr(t)),onSuccess:t=>D(St(t))}),kt=e=>eI(e,{onFailure:ye,onSuccess:Me}),ue=e=>$_(e)&&!(Uy in e)?Ee(t=>_e(Es(JM(e,II(t))))):_e(Es(e)),Ar=e=>b(R(e),ue),_e=e=>{const t=new aH(qe);return t.effect_instruction_i0=e,t},Hh=e=>b(R(e),_e),vu=Ee(e=>D(e.id())),Cs=e=>Ee(t=>e(t.id())),b=p(2,(e,t)=>{const n=new Dt(Z_);return n.effect_instruction_i0=e,n.effect_instruction_i1=t,n}),uH=e=>{const t=new Dt("OnStep");return t.effect_instruction_i0=e,t},kr=e=>b(e,Ce),eI=p(2,(e,t)=>Nt(e,{onFailure:n=>D(t.onFailure(n)),onSuccess:n=>D(t.onSuccess(n))})),Nt=p(2,(e,t)=>{const n=new Dt(Y_);return n.effect_instruction_i0=e,n.effect_instruction_i1=t.onFailure,n.effect_instruction_i2=t.onSuccess,n}),yn=p(2,(e,t)=>Nt(e,{onFailure:n=>{if((e=>hi(mu(e,ln(),(t,n)=>n._tag===au?A(_(t,ut(n.defect))):T())))(n).length>0)return _e((e=>Va(e,{onEmpty:Or,onFail:t=>un(t),onDie:t=>un(t),onInterrupt:t=>cr(t),onSequential:(t,n)=>ft(t,n),onParallel:(t,n)=>Qt(t,n)}))(n));const o=(e=>hi(mu(e,ln(),(t,n)=>n._tag===lu?A(_(t,ut(n.error))):T())))(n);return o.length>0?t.onFailure(EB(o)):_e(n)},onSuccess:t.onSuccess})),qn=p(2,(e,t)=>z(()=>{const n=le(e),r=dM(n.length);let o=0;return _t(zy({while:()=>o<n.length,body:()=>t(n[o],o),step:s=>{r[o++]=s}}),r)})),Lo=p(2,(e,t)=>z(()=>{const n=le(e);let r=0;return zy({while:()=>r<n.length,body:()=>t(n[r],r),step:()=>{r++}})})),qa=e=>{const t=new Dt(Da);return t.effect_instruction_i0=(e=>_s(e,e))(1),t.effect_instruction_i1=()=>e,t},F=p(2,(e,t)=>b(e,n=>R(()=>t(n)))),tI=p(2,(e,t)=>yn(e,{onFailure:n=>Ar(()=>t.onFailure(n)),onSuccess:n=>R(()=>t.onSuccess(n))})),qh=p(2,(e,t)=>Nt(e,{onFailure:n=>{const r=pu(n);switch(r._tag){case"Left":return Ar(()=>t(r.left));case"Right":return _e(r.right)}},onSuccess:D})),oo=p(2,(e,t)=>en(n=>Nt(n(e),{onFailure:r=>{const o=ye(r);return Nt(t(o),{onFailure:s=>ye(ft(r,s)),onSuccess:()=>o})},onSuccess:r=>{const o=Me(r);return ke(t(o),o)}}))),za=p(2,(e,t)=>oo(e,ev({onFailure:n=>KM(n)?Jt(t((e=>mu(e,gi(),(t,n)=>n._tag===uu?A(_(t,Ch(n.fiberId))):T()))(n))):ee,onSuccess:()=>ee}))),D=e=>{const t=new cH(ze);return t.effect_instruction_i0=e,t},z=e=>{const t=new Dt(X_);return t.commit=e,t},R=e=>{const t=new Dt("Sync");return t.effect_instruction_i0=e,t},Wa=p(e=>3===e.length||2===e.length&&!($_(e[1])&&"onlyEffect"in e[1]),(e,t)=>b(e,n=>{const r="function"==typeof t?t(n):t;return We(r)?_t(r,n):(e=>G(e,"then")&&Ca(e.then))(r)?jh(o=>{r.then(s=>o(D(n)),s=>o(ue(new Ya(s))))}):D(n)})),Ga=e=>{const t=new Dt(Da);return t.effect_instruction_i0=jU(1),t.effect_instruction_i1=()=>e,t},en=e=>jy(e,function(){const t=new Dt(Da);return t.effect_instruction_i0=jU(1),t.effect_instruction_i1=n=>Fy(n)?Yt(()=>this.effect_instruction_i0(qa)):Yt(()=>this.effect_instruction_i0(Ga)),t}),ee=D(void 0),zy=e=>{const t=new Dt(Q_);return t.effect_instruction_i0=e.while,t.effect_instruction_i1=e.body,t.effect_instruction_i2=e.step,t},Xa=e=>{const t=new Dt(J_);return typeof e?.priority<"u"?TH(t,e.priority):t},Wy=p(2,(e,t)=>b(e,n=>F(t,r=>[n,r]))),Gh=p(2,(e,t)=>b(e,n=>_t(t,n))),ke=p(2,(e,t)=>b(e,()=>t)),so=p(2,(e,t)=>b(e.interruptAsFork(t),()=>e.await)),oI={_tag:"Info",syslog:6,label:"INFO",ordinal:2e4,pipe(){return W(this,arguments)}},sI={_tag:"Debug",syslog:7,label:"DEBUG",ordinal:1e4,pipe(){return W(this,arguments)}},Zfe=Symbol.for("effect/FiberRef"),Yfe={_A:e=>e},Vo=e=>Ee(t=>Me(t.getFiberRef(e))),Nr=p(2,(e,t)=>b(Vo(e),t)),Eu=p(2,(e,t)=>SH(e,()=>[void 0,t])),SH=p(2,(e,t)=>Ee(n=>{const[r,o]=t(n.getFiberRef(e));return n.setFiberRef(e,o),D(r)})),vn=p(3,(e,t,n)=>lH(Gh(Vo(t),Eu(t,n)),()=>e,r=>Eu(t,r))),Wt=(e,t)=>Cu(e,{differ:zM(),fork:t?.fork??Ce,join:t?.join}),MH=e=>{const t=no({empty:fU(),combine:(e,t)=>Ty(t)(e),diff:(e,t)=>((e,t)=>{const n=new Map(e.unsafeMap);let r=fU();for(const[o,s]of t.unsafeMap.entries())if(n.has(o)){const i=n.get(o);n.delete(o),H(i,s)||(r=Ty(nde(o,()=>s))(r))}else n.delete(o),r=Ty(Que(o,s))(r);for(const[o]of n.entries())r=Ty(ede(o))(r);return r})(e,t),patch:(e,t)=>ode(t)(e)});return Cu(e,{differ:t,fork:t.empty})},Cu=(e,t)=>({...ds,[Zfe]:Yfe,initial:e,commit(){return Vo(this)},diff:(r,o)=>t.differ.diff(r,o),combine:(r,o)=>t.differ.combine(r,o),patch:r=>o=>t.differ.patch(r,o),fork:t.fork,join:t.join??((r,o)=>o)}),ohe=e=>Cu(e,{differ:LU,fork:LU.empty}),jo=me(Symbol.for("effect/FiberRef/currentContext"),()=>MH(Ia())),Su=me(Symbol.for("effect/FiberRef/currentSchedulingPriority"),()=>Wt(0)),iI=me(Symbol.for("effect/FiberRef/currentMaxOpsBeforeYield"),()=>Wt(2048)),Xh=me(Symbol.for("effect/FiberRef/currentLogAnnotation"),()=>Wt(Sy())),she=me(Symbol.for("effect/FiberRef/currentLogLevel"),()=>Wt(oI)),IH=me(Symbol.for("effect/FiberRef/currentLogSpan"),()=>Wt(Fa())),TH=p(2,(e,t)=>vn(e,Su,t)),OH=me(Symbol.for("effect/FiberRef/currentUnhandledErrorLogLevel"),()=>Wt(A(sI))),wu=me(Symbol.for("effect/FiberRef/currentMetricLabels"),()=>(()=>{const t=wU(zM());return Cu([],{differ:t,fork:t.empty})})()),Xy=me(Symbol.for("effect/FiberRef/currentForkScopeOverride"),()=>Wt(T(),{fork:()=>T(),join:(e,t)=>e})),Kh=me(Symbol.for("effect/FiberRef/currentInterruptedCause"),()=>Wt(Or,{fork:()=>Or,join:(e,t)=>e})),NH=function(){class e extends globalThis.Error{commit(){return ue(this)}toJSON(){return{...this}}[$e](){return this.toString!==globalThis.Error.prototype.toString?this.stack?`${this.toString()}\n${this.stack.split("\n").slice(1).join("\n")}`:this.toString():"Bun"in globalThis?Ph(Es(this),{renderErrorCause:!0}):this}}return Object.assign(e.prototype,QD),e}(),Za=(e,t)=>{class n extends NH{_tag=t}return Object.assign(n.prototype,e),n.prototype.name=t,n},fI=Symbol.for("effect/Cause/errors/RuntimeException"),uhe=Za({[fI]:fI},"RuntimeException"),hI=Symbol.for("effect/Cause/errors/InterruptedException"),gI=Symbol.for("effect/Cause/errors/NoSuchElement"),vi=Za({[gI]:gI},"NoSuchElementException"),vI=Symbol.for("effect/Cause/errors/UnknownException"),Ya=function(){class e extends NH{cause;_tag="UnknownException";error;constructor(n,r){super(r??"An unknown error occurred",{cause:n}),this.cause=n,this.error=n}}return Object.assign(e.prototype,{[vI]:vI,name:"UnknownException"}),e}(),Yy=e=>We(e)&&"_tag"in e&&("Success"===e._tag||"Failure"===e._tag),Qa=(e,t)=>Nhe(e,t?.parallel?Qt:ft),Ja=e=>ye(Es(e)),ye=e=>{const t=new aH(qe);return t.effect_instruction_i0=e,t},Jy=p(2,(e,t)=>{switch(e._tag){case qe:return ye(e.effect_instruction_i0);case ze:return Me(t(e.effect_instruction_i0))}}),ev=p(2,(e,{onFailure:t,onSuccess:n})=>{switch(e._tag){case qe:return t(e.effect_instruction_i0);case ze:return n(e.effect_instruction_i0)}}),Me=e=>{const t=new cH(ze);return t.effect_instruction_i0=e,t},ur=Me(void 0),Bo=p(3,(e,t,{onFailure:n,onSuccess:r})=>{switch(e._tag){case qe:switch(t._tag){case ze:return ye(e.effect_instruction_i0);case qe:return ye(n(e.effect_instruction_i0,t.effect_instruction_i0))}case ze:switch(t._tag){case ze:return Me(r(e.effect_instruction_i0,t.effect_instruction_i0));case qe:return ye(t.effect_instruction_i0)}}}),Nhe=(e,t)=>{const n=Wl(e);return pt(n)?_(dt(n),Ta(_(De(n),Jy(zt)),(r,o)=>_(r,Bo(o,{onSuccess:(s,i)=>_(s,ut(i)),onFailure:t}))),Jy(hi),Jy(r=>$n(r)),A):T()},CI=e=>({...ds,[oH]:kfe,state:wh(Nfe([])),commit(){return xr(this)},blockingOn:e}),xr=e=>By(t=>{const n=ps(e.state);switch(n._tag){case"Done":return t(n.effect);case _u:return n.joiners.push(t),qhe(e,t)}},e.blockingOn),wI=(e,t)=>{const n=ps(e.state);if(n._tag===_u){Dh(e.state,(e=>({_tag:"Done",effect:e}))(t));for(let r=0,o=n.joiners.length;r<o;r++)n.joiners[r](t)}},qhe=(e,t)=>R(()=>{const n=ps(e.state);if(n._tag===_u){const r=n.joiners.indexOf(t);r>=0&&n.joiners.splice(r,1)}}),II=e=>{const t=e.currentSpan;return void 0!==t&&"Span"===t._tag?A(t):T()},TI=Symbol.for("effect/Clock"),ws=Ma("effect/Clock"),UH={unsafeSchedule(e,t){const n=Gl(t);if(n>2147483647)return ls;let r=!1;const o=setTimeout(()=>{r=!0,e()},n);return()=>(clearTimeout(o),!r)}},HH=function(){const e=BigInt(1e6);if(typeof performance>"u")return()=>BigInt(Date.now())*e;if("number"==typeof performance.timeOrigin&&0===performance.timeOrigin)return()=>BigInt(Math.round(1e6*performance.now()));const t=BigInt(Date.now())*e-BigInt(Math.round(1e6*performance.now()));return()=>t+BigInt(Math.round(1e6*performance.now()))}(),Khe=function(){const e="object"==typeof process&&"hrtime"in process&&"function"==typeof process.hrtime.bigint?process.hrtime:void 0;if(!e)return HH;const t=HH()-e.bigint();return()=>t+e.bigint()}();class Zhe{[TI]=TI;unsafeCurrentTimeMillis(){return Date.now()}unsafeCurrentTimeNanos(){return Khe()}currentTimeMillis=R(()=>this.unsafeCurrentTimeMillis());currentTimeNanos=R(()=>this.unsafeCurrentTimeNanos());scheduler(){return D(UH)}sleep(t){return ro(n=>{const r=UH.unsafeSchedule(()=>n(ee),t);return Jt(R(r))})}}const $H=()=>new Zhe,Ci=Kj,WH="InvalidData",GH="MissingData",XH="SourceUnavailable",KH="Unsupported",RI=Symbol.for("effect/ConfigError"),Iu={_tag:"ConfigError",[RI]:RI},ZH=(e,t)=>{const n=Object.create(Iu);return n._op="And",n.left=e,n.right=t,Object.defineProperty(n,"toString",{enumerable:!1,value(){return`${this.left} and ${this.right}`}}),n},YH=(e,t)=>{const n=Object.create(Iu);return n._op="Or",n.left=e,n.right=t,Object.defineProperty(n,"toString",{enumerable:!1,value(){return`${this.left} or ${this.right}`}}),n},Qhe=(e,t,n={pathDelim:"."})=>{const r=Object.create(Iu);return r._op=WH,r.path=e,r.message=t,Object.defineProperty(r,"toString",{enumerable:!1,value(){return`(Invalid data at ${_(this.path,Ra(n.pathDelim))}: "${this.message}")`}}),r},ec=(e,t,n={pathDelim:"."})=>{const r=Object.create(Iu);return r._op=GH,r.path=e,r.message=t,Object.defineProperty(r,"toString",{enumerable:!1,value(){return`(Missing data at ${_(this.path,Ra(n.pathDelim))}: "${this.message}")`}}),r},Jhe=(e,t,n,r={pathDelim:"."})=>{const o=Object.create(Iu);return o._op=XH,o.path=e,o.message=t,o.cause=n,Object.defineProperty(o,"toString",{enumerable:!1,value(){return`(Source unavailable at ${_(this.path,Ra(r.pathDelim))}: "${this.message}")`}}),o},epe=(e,t,n={pathDelim:"."})=>{const r=Object.create(Iu);return r._op=KH,r.path=e,r.message=t,Object.defineProperty(r,"toString",{enumerable:!1,value(){return`(Unsupported operation at ${_(this.path,Ra(n.pathDelim))}: "${this.message}")`}}),r},tc=p(2,(e,t)=>{switch(e._op){case"And":return ZH(tc(e.left,t),tc(e.right,t));case"Or":return YH(tc(e.left,t),tc(e.right,t));case WH:return Qhe([...t,...e.path],e.message);case GH:return ec([...t,...e.path],e.message);case XH:return Jhe([...t,...e.path],e.message,e.cause);case KH:return epe([...t,...e.path],e.message)}}),rpe={_tag:"Empty"},OI=p(2,(e,t)=>{let n=PM(t),r=e;for(;FM(n);){const o=n.head;switch(o._tag){case"Empty":n=n.tail;break;case"AndThen":n=xa(o.first,xa(o.second,n.tail));break;case"MapName":r=zl(r,o.f),n=n.tail;break;case"Nested":r=sy(r,o.name),n=n.tail;break;case"Unnested":if(!_(hh(r),tce(o.name)))return nr(ec(r,`Expected ${o.name} to be in path in ConfigProvider#unnested`));r=di(r),n=n.tail}}return St(r)}),nv=(e,t)=>[...e,...t],QH=Symbol.for("effect/ConfigProvider"),rv=Ma("effect/ConfigProvider"),JH=Symbol.for("effect/ConfigProviderFlat"),gpe=e=>({[QH]:QH,pipe(){return W(this,arguments)},...e}),mpe=e=>{const{pathDelim:t,seqDelim:n}=Object.assign({},{pathDelim:"_",seqDelim:","},e),s=()=>typeof process<"u"&&"env"in process&&"object"==typeof process.env?process.env:{};return(e=>gpe({load:t=>b(Pr(e,[],t,!1),n=>or(hh(n),{onNone:()=>ue(ec([],`Expected a single value having structure: ${t}`)),onSome:D})),flattened:e}))((e=>({[JH]:JH,patch:e.patch,load:(t,n,r=!0)=>e.load(t,n,r),enumerateChildren:e.enumerateChildren}))({load:(c,l,u=!0)=>{const d=(c=>_(c,Ra(t)))(c),f=s();return _(d in f?A(f[d]):T(),qh(()=>ec(c,`Expected ${d} to exist in the process context`)),b(g=>t$(g,c,l,n,u)))},enumerateChildren:c=>R(()=>{const l=s(),f=Object.keys(l).map(h=>(c=>c.split(t))(h.toUpperCase())).filter(h=>{for(let g=0;g<c.length;g++){const m=_(c,sB(g)),y=h[g];if(void 0===y||m!==y)return!1}return!0}).flatMap(h=>h.slice(c.length,c.length+1));return(e=>{const t=nu(xo());for(const n of e)Ir(t,n);return ru(t)})(f)}),patch:rpe}))},Pr=(e,t,n,r)=>{const o=n;switch(o._tag){case"Constant":return D(Dr(o.value));case"Described":return z(()=>Pr(e,t,o.config,r));case"Fail":return ue(ec(t,o.message));case"Fallback":return _(z(()=>Pr(e,t,o.first,r)),Ua(s=>o.condition(s)?_(Pr(e,t,o.second,r),Ua(i=>ue(YH(s,i)))):ue(s)));case"Lazy":return z(()=>Pr(e,t,o.config(),r));case"MapOrFail":return z(()=>_(Pr(e,t,o.original,r),b(qn(s=>_(o.mapOrFail(s),qh(tc(((e,t)=>{let n=t;if("Nested"===n._tag){const r=e.slice();for(;"Nested"===n._tag;)r.push(n.name),n=n.config;return r}return e})(t,o.original))))))));case"Nested":return z(()=>Pr(e,nv(t,Dr(o.name)),o.config,r));case"Primitive":return _(OI(t,e.patch),b(s=>_(e.load(s,o,r),b(i=>{if(0===i.length){const a=_((e=>cn(e)?A(fM(e)):T())(s),sr(()=>"<n/a>"));return ue(ec([],`Expected ${o.description} with name ${a}`))}return D(i)}))));case"Sequence":return _(OI(t,e.patch),b(s=>_(e.enumerateChildren(s),b(Spe),b(i=>0===i.length?z(()=>F(Pr(e,t,o.config,!0),Dr)):_(qn(i,a=>Pr(e,bce(t,`[${a}]`),o.config,!0)),F(a=>{const c=uB(a);return Dr(0===c.length?[]:c)}))))));case"HashMap":return z(()=>_(OI(t,e.patch),b(s=>_(e.enumerateChildren(s),b(i=>_(i,qn(a=>Pr(e,nv(s,Dr(a)),o.valueConfig,r)),F(a=>0===a.length?Dr(Sy()):_(Cpe(a),zl(c=>gue(cB(le(i),c)))))))))));case"ZipWith":return z(()=>_(Pr(e,t,o.left,r),$a,b(s=>_(Pr(e,t,o.right,r),$a,b(i=>{if(rr(s)&&rr(i))return ue(ZH(s.left,i.left));if(rr(s)&&fh(i))return ue(s.left);if(fh(s)&&rr(i))return ue(i.left);if(fh(s)&&fh(i)){const a=_(t,Ra(".")),c=bpe(t,a),[l,u]=((e,t,n,r)=>{const o=fB(n.length,c=>c>=r.length?T():A([e(c),c+1])),s=fB(r.length,c=>c>=n.length?T():A([t(c),c+1]));return[nv(n,o),nv(r,s)]})(c,c,_(s.right,zl(St)),_(i.right,zl(St)));return _(l,cB(u),qn(([d,f])=>_(Wy(d,f),F(([h,g])=>o.zip(h,g)))))}throw new Error("BUG: ConfigProvider.fromFlatLoop - please report an issue at https://github.com/Effect-TS/effect/issues")})))))}},bpe=(e,t)=>n=>nr(ec(e,`The element at index ${n} in a sequence at path "${t}" was missing`)),t$=(e,t,n,r,o)=>o?_(((e,t)=>e.split(new RegExp(`\\s*${(e=>e.replace(/[/\\^$*+?.()|[\]{}]/g,"\\$&"))(t)}\\s*`)))(e,r),qn(s=>n.parse(s.trim())),qh(tc(t))):_(n.parse(e),tI({onFailure:tc(t),onSuccess:Dr})),Cpe=e=>Object.keys(e[0]).map(t=>e.map(n=>n[t])),Spe=e=>_(qn(e,Mpe),tI({onFailure:()=>[],onSuccess:ph(Ci)}),$a,F(Hj)),Dpe=/^(\[(\d+)\])$/,Mpe=e=>{const t=e.match(Dpe);if(null!==t){const n=t[2];return _(void 0!==n&&n.length>0?A(n):T(),uM(n$))}return T()},n$=e=>{const t=Number.parseInt(e);return Number.isNaN(t)?T():A(t)},r$=Symbol.for("effect/Console"),Tu=Ma("effect/Console"),Npe={[r$]:r$,assert:(e,...t)=>R(()=>{console.assert(e,...t)}),clear:R(()=>{console.clear()}),count:e=>R(()=>{console.count(e)}),countReset:e=>R(()=>{console.countReset(e)}),debug:(...e)=>R(()=>{console.debug(...e)}),dir:(e,t)=>R(()=>{console.dir(e,t)}),dirxml:(...e)=>R(()=>{console.dirxml(...e)}),error:(...e)=>R(()=>{console.error(...e)}),group:e=>R(e?.collapsed?()=>console.groupCollapsed(e?.label):()=>console.group(e?.label)),groupEnd:R(()=>{console.groupEnd()}),info:(...e)=>R(()=>{console.info(...e)}),log:(...e)=>R(()=>{console.log(...e)}),table:(e,t)=>R(()=>{console.table(e,t)}),time:e=>R(()=>console.time(e)),timeEnd:e=>R(()=>console.timeEnd(e)),timeLog:(e,...t)=>R(()=>{console.timeLog(e,...t)}),trace:(...e)=>R(()=>{console.trace(...e)}),warn:(...e)=>R(()=>{console.warn(...e)}),unsafe:console},o$=Symbol.for("effect/Random"),sv=Ma("effect/Random");class xpe{seed;[o$]=o$;PRNG;constructor(t){this.seed=t,this.PRNG=new oae(t)}get next(){return R(()=>this.PRNG.number())}get nextBoolean(){return F(this.next,t=>t>.5)}get nextInt(){return R(()=>this.PRNG.integer(Number.MAX_SAFE_INTEGER))}nextRange(t,n){return F(this.next,r=>(n-t)*r+t)}nextIntBetween(t,n){return R(()=>this.PRNG.integer(n-t)+t)}shuffle(t){return Fpe(t,n=>this.nextIntBetween(0,n))}}const Fpe=(e,t)=>z(()=>_(R(()=>Array.from(e)),b(n=>{const r=[];for(let o=n.length;o>=2;o-=1)r.push(o);return _(r,Lo(o=>_(t(o),F(s=>Ppe(n,o-1,s)))),_t(Wl(n)))}))),Ppe=(e,t,n)=>{const r=e[t];return e[t]=e[n],e[n]=r,e},Lpe=e=>new xpe(B(e)),AI=Symbol.for("effect/Tracer"),s$=e=>({[AI]:AI,...e}),nc=Ma("effect/Tracer"),Ds=Ma("effect/ParentSpan"),i$=function(){return function(n){let r="";for(let o=0;o<n;o++)r+="abcdef0123456789".charAt(Math.floor(16*Math.random()));return r}}();class Vpe{name;parent;context;links;startTime;kind;_tag="Span";spanId;traceId="native";sampled=!0;status;attributes;events=[];constructor(t,n,r,o,s,i){this.name=t,this.parent=n,this.context=r,this.links=o,this.startTime=s,this.kind=i,this.status={_tag:"Started",startTime:s},this.attributes=new Map,this.traceId="Some"===n._tag?n.value.traceId:i$(32),this.spanId=i$(16)}end(t,n){this.status={_tag:"Ended",endTime:t,exit:n,startTime:this.status.startTime}}attribute(t,n){this.attributes.set(t,n)}event(t,n,r){this.events.push([t,n,r??{}])}}const jpe=s$({span:(e,t,n,r,o,s)=>new Vpe(e,t,n,r,o,s),context:e=>e()}),Upe=_(Ia(),qt(ws,$H()),qt(Tu,Npe),qt(sv,Lpe(Math.random())),qt(rv,mpe()),qt(nc,jpe)),Gt=me(Symbol.for("effect/DefaultServices/currentServices"),()=>MH(Upe)),Qpe=ch,Jpe=pae;class lv extends Jpe{}const Ou={_tag:"Sequential"};const jI=Symbol.for("effect/FiberRefs");class Si{locals;[jI]=jI;constructor(t){this.locals=t}pipe(){return W(this,arguments)}}const h$=p(3,(e,t,n)=>{const r=new Map(e.locals);return n.locals.forEach((o,s)=>{const i=o[0][1];if(!o[0][0][J](t)){if(!r.has(s)){if(H(i,s.initial))return;return void r.set(s,[[t,s.join(s.initial,i)]])}const a=r.get(s),[c,l]=((e,t,n,r=!1)=>{const o=e;let c,s=t,i=n,a=r;for(;void 0===c;)if(cn(s)&&cn(i)){const l=Hn(s)[0],u=di(s),d=Hn(i)[0],f=Hn(i)[1],h=di(i);l.startTimeMillis<d.startTimeMillis?(i=h,a=!0):l.startTimeMillis>d.startTimeMillis?s=u:l.id<d.id?(i=h,a=!0):l.id>d.id?s=u:c=[f,a]}else c=[o.initial,!0];return c})(s,a,o);if(l){const u=s.diff(c,i),d=a[0][1],f=s.join(d,s.patch(u)(d));if(!H(d,f)){let h;const g=a[0][0];h=g[J](t)?[[g,f],...a.slice(1)]:[[t,f],...a],r.set(s,h)}}}}),new Si(r)}),p$=p(2,(e,t)=>{const n=new Map;return g$(e,n,t),new Si(n)}),g$=(e,t,n)=>{e.locals.forEach((r,o)=>{const s=r[0][1],i=o.patch(o.fork)(s);H(s,i)?t.set(o,r):t.set(o,[[n,i],...r])})},BI=p(2,(e,t)=>{const n=new Map(e.locals);return n.delete(t),new Si(n)}),_$=p(2,(e,t)=>e.locals.has(t)?A(Hn(e.locals.get(t))[1]):T()),Au=p(2,(e,t)=>_(_$(e,t),sr(()=>t.initial))),uv=p(2,(e,{fiberId:t,fiberRef:n,value:r})=>{if(0===e.locals.size)return new Si(new Map([[n,[[t,r]]]]));const o=new Map(e.locals);return UI(o,t,n,r),new Si(o)}),UI=(e,t,n,r)=>{const o=e.get(n)??[];let s;if(cn(o)){const[i,a]=Hn(o);if(i[J](t)){if(H(a,r))return;s=[[t,r],...o.slice(1)]}else s=[[t,r],...o]}else s=[[t,r]];e.set(n,s)},cge=Au,dge=p(2,(e,{entries:t,forkAs:n})=>{if(0===e.locals.size)return new Si(new Map(t));const r=new Map(e.locals);return void 0!==n&&g$(e,r,n),t.forEach(([o,s])=>{1===s.length?UI(r,s[0][0],o,s[0][1]):s.forEach(([i,a])=>{UI(r,i,o,a)})}),new Si(r)}),fge=function oge(){return function f$(e){return new Si(e)}(new Map)},S$="AndThen",w$={_tag:"Empty"},dv=p(2,(e,t)=>({_tag:S$,first:e,second:t})),tp=(e,t)=>{const n=new Map(e.locals);let r=w$;for(const[o,s]of t.locals.entries()){const i=Hn(s)[1],a=n.get(o);if(void 0!==a){const c=Hn(a)[1];H(c,i)||(r=dv({_tag:"Update",fiberRef:o,patch:o.diff(c,i)})(r))}else r=dv({_tag:"Add",fiberRef:o,value:i})(r);n.delete(o)}for(const[o]of n.entries())r=dv({_tag:"Remove",fiberRef:o})(r);return r},np=p(3,(e,t,n)=>{let r=n,o=Dr(e);for(;cn(o);){const s=Hn(o),i=di(o);switch(s._tag){case"Empty":o=i;break;case"Add":r=uv(r,{fiberId:t,fiberRef:s.fiberRef,value:s.value}),o=i;break;case"Remove":r=BI(r,s.fiberRef),o=i;break;case"Update":{const a=Au(r,s.fiberRef);r=uv(r,{fiberId:t,fiberRef:s.fiberRef,value:s.fiberRef.patch(s.patch)(a)}),o=i;break}case S$:o=sy(s.first)(sy(s.second)(i))}}return r}),fv="effect/FiberStatus",wi=Symbol.for(fv),hv="Done",$I="Running",qI="Suspended",hge=lt(`${fv}-${hv}`);class pge{[wi]=wi;_tag=hv;[Q](){return hge}[J](t){return pv(t)&&t._tag===hv}}class gge{runtimeFlags;[wi]=wi;_tag=$I;constructor(t){this.runtimeFlags=t}[Q](){return _(B(fv),ie(B(this._tag)),ie(B(this.runtimeFlags)),He(this))}[J](t){return pv(t)&&t._tag===$I&&this.runtimeFlags===t.runtimeFlags}}class mge{runtimeFlags;blockingOn;[wi]=wi;_tag=qI;constructor(t,n){this.runtimeFlags=t,this.blockingOn=n}[Q](){return _(B(fv),ie(B(this._tag)),ie(B(this.runtimeFlags)),ie(B(this.blockingOn)),He(this))}[J](t){return pv(t)&&t._tag===qI&&this.runtimeFlags===t.runtimeFlags&&H(this.blockingOn,t.blockingOn)}}const pv=e=>G(e,wi),Sge=new pge,M$=e=>new gge(e),A$=oI,Oge=Qj(_(Ci,Zj(e=>e.ordinal))),x$=Symbol.for("effect/Micro"),gv=Symbol.for("effect/Micro/MicroExit"),zI=Symbol.for("effect/Micro/MicroCause"),kge={_E:Ce};class WI extends globalThis.Error{_tag;traces;[zI];constructor(t,n,r){const o=`MicroCause.${t}`;let s,i,a;if(n instanceof globalThis.Error){s=`(${o}) ${n.name}`,i=n.message;const c=i.split("\n").length;a=n.stack?`(${o}) ${n.stack.split("\n").slice(0,c+3).join("\n")}`:`${s}: ${i}`}else s=o,i=Vl(n,0),a=`${s}: ${i}`;r.length>0&&(a+=`\n    ${r.join("\n    ")}`),super(i),this._tag=t,this.traces=r,this[zI]=kge,this.name=s,this.stack=a}pipe(){return W(this,arguments)}toString(){return this.stack}[$e](){return this.stack}}class xge extends WI{defect;constructor(t,n=[]){super("Die",t,n),this.defect=t}}class Pge extends WI{constructor(t=[]){super("Interrupt","interrupted",t)}}const Lge=(e=[])=>new Pge(e),P$=e=>"Interrupt"===e._tag,L$=Symbol.for("effect/Micro/MicroFiber"),jge={_A:Ce,_E:Ce};class V${context;interruptible;[L$];_stack=[];_observers=[];_exit;_children;currentOpCount=0;constructor(t,n=!0){this.context=t,this.interruptible=n,this[L$]=jge}getRef(t){return((e,t)=>e.unsafeMap.has(t.key)?e.unsafeMap.get(t.key):ny(t))(this.context,t)}addObserver(t){return this._exit?(t(this._exit),U_):(this._observers.push(t),()=>{const n=this._observers.indexOf(t);n>=0&&this._observers.splice(n,1)})}_interrupted=!1;unsafeInterrupt(){this._exit||(this._interrupted=!0,this.interruptible&&this.evaluate(YI))}unsafePoll(){return this._exit}evaluate(t){if(this._exit)return;if(void 0!==this._yielded){const o=this._yielded;this._yielded=void 0,o()}const n=this.runLoop(t);if(n===xu)return;const r=GI.interruptChildren&&GI.interruptChildren(this);if(void 0!==r)return this.evaluate(An(r,()=>n));this._exit=n;for(let o=0;o<this._observers.length;o++)this._observers[o](n);this._observers.length=0}runLoop(t){let n=!1,r=t;this.currentOpCount=0;try{for(;;){if(this.currentOpCount++,!n&&this.getRef(vv).shouldYield(this)){n=!0;const o=r;r=An(qge,()=>o)}if(r=r[XI](this),r===xu){const o=this._yielded;return gv in o?(this._yielded=void 0,o):xu}}}catch(o){return G(r,XI)?Pu(o):Pu(`MicroFiber.runLoop: Not a valid effect: ${String(r)}`)}}getCont(t){for(;;){const n=this._stack.pop();if(!n)return;const r=n[mv]&&n[mv](this);if(r)return{[t]:r};if(n[t])return n}}_yielded=void 0;yieldWith(t){return this._yielded=t,xu}children(){return this._children??=new Set}}const GI=me("effect/Micro/fiberMiddleware",()=>({interruptChildren:void 0})),B$=Symbol.for("effect/Micro/identifier"),Ne=Symbol.for("effect/Micro/args"),XI=Symbol.for("effect/Micro/evaluate"),Ms=Symbol.for("effect/Micro/successCont"),Nu=Symbol.for("effect/Micro/failureCont"),mv=Symbol.for("effect/Micro/ensureCont"),xu=Symbol.for("effect/Micro/Yield"),Uge={_A:Ce,_E:Ce,_R:Ce},Hge={...Qpe,_op:"Micro",[x$]:Uge,pipe(){return W(this,arguments)},[Symbol.iterator](){return new rh(new oh(this))},toJSON(){return{_id:"Micro",op:this[B$],...Ne in this?{args:this[Ne]}:void 0}},toString(){return ht(this)},[$e](){return ht(this)}};function $ge(e){return Pu("Micro.evaluate: Not implemented")}const rp=e=>({...Hge,[B$]:e.op,[XI]:e.eval??$ge,[Ms]:e.contA,[Nu]:e.contE,[mv]:e.ensure}),Is=e=>{const t=rp(e);return function(){const n=Object.create(t);return n[Ne]=!1===e.single?arguments:arguments[0],n}},U$=e=>{const t={...rp(e),[gv]:gv,_tag:e.op,get[e.prop](){return this[Ne]},toJSON(){return{_id:"MicroExit",_tag:e.op,[e.prop]:this[Ne]}},[J](n){return Qge(n)&&n._tag===e.op&&H(this[Ne],n[Ne])},[Q](){return He(this,ie(lt(e.op))(B(this[Ne])))}};return function(n){const r=Object.create(t);return r[Ne]=n,r[Ms]=void 0,r[Nu]=void 0,r[mv]=void 0,r}},Xt=U$({op:"Success",prop:"value",eval(e){const t=e.getCont(Ms);return t?t[Ms](this[Ne],e):e.yieldWith(this)}}),Di=U$({op:"Failure",prop:"cause",eval(e){let t=e.getCont(Nu);for(;P$(this[Ne])&&t&&e.interruptible;)t=e.getCont(Nu);return t?t[Nu](this[Ne],e):e.yieldWith(this)}}),qge=Is({op:"Yield",eval(e){let t=!1;return e.getRef(vv).scheduleTask(()=>{t||e.evaluate(oc)},this[Ne]??0),e.yieldWith(()=>{t=!0})}})(0),Ii=Xt(void 0),io=Is({op:"WithMicroFiber",eval(e){return this[Ne](e)}}),An=p(2,(e,t)=>{const n=Object.create(Zge);return n[Ne]=e,n[Ms]=t,n}),Zge=rp({op:"OnSuccess",eval(e){return e._stack.push(this),this[Ne]}}),Qge=e=>G(e,gv),yv=Xt,sp=Di,YI=sp(Lge()),Pu=e=>sp(((e,t=[])=>new xge(e,t))(e)),oc=yv(void 0),eme="setImmediate"in globalThis?globalThis.setImmediate:e=>setTimeout(e,0);class JI{tasks=[];running=!1;scheduleTask(t,n){this.tasks.push(t),this.running||(this.running=!0,eme(this.afterScheduled))}afterScheduled=()=>{this.running=!1,this.runTasks()};runTasks(){const t=this.tasks;this.tasks=[];for(let n=0,r=t.length;n<r;n++)t[n]()}shouldYield(t){return t.currentOpCount>=t.getRef(sme)}flush(){for(;this.tasks.length>0;)this.runTasks()}}const tme=p(2,(e,t)=>io(n=>{const r=n.context;return n.context=t(r),z$(e,()=>(n.context=r,Ii))})),rme=p(2,(e,t)=>tme(e,dh(t)));class sme extends(oy()("effect/Micro/currentMaxOpsBeforeYield",{defaultValue:()=>2048})){}class vv extends(oy()("effect/Micro/currentScheduler",{defaultValue:()=>new JI})){}const ume=p(2,(e,t)=>{const n=Object.create(dme);return n[Ne]=e,n[Ms]=t.onSuccess,n[Nu]=t.onFailure,n}),dme=rp({op:"OnSuccessAndFailure",eval(e){return e._stack.push(this),this[Ne]}}),z$=p(2,(e,t)=>G$(n=>ume(n(e),{onFailure:r=>An(t(sp(r)),()=>Di(r)),onSuccess:r=>An(t(yv(r)),()=>Xt(r))}))),Ev=Is({op:"SetInterruptible",ensure(e){if(e.interruptible=this[Ne],e._interrupted&&e.interruptible)return()=>YI}}),r0=e=>io(t=>t.interruptible?e:(t.interruptible=!0,t._stack.push(Ev(!1)),t._interrupted?YI:e)),G$=e=>io(t=>t.interruptible?(t.interruptible=!1,t._stack.push(Ev(!0)),e(r0)):e(Ce));class Sv{buckets=[];scheduleTask(t,n){const r=this.buckets.length;let o,s=0;for(;s<r&&this.buckets[s][0]<=n;s++)o=this.buckets[s];o&&o[0]===n?o[1].push(t):s===r?this.buckets.push([n,[t]]):this.buckets.splice(s,0,[n,[t]])}}class Pme{maxNextTickBeforeTimer;running=!1;tasks=new Sv;constructor(t){this.maxNextTickBeforeTimer=t}starveInternal(t){const n=this.tasks.buckets;this.tasks.buckets=[];for(const[r,o]of n)for(let s=0;s<o.length;s++)o[s]();0===this.tasks.buckets.length?this.running=!1:this.starve(t)}starve(t=0){t>=this.maxNextTickBeforeTimer?setTimeout(()=>this.starveInternal(0),0):Promise.resolve(void 0).then(()=>this.starveInternal(t+1))}shouldYield(t){return t.currentOpCount>t.getFiberRef(iI)&&t.getFiberRef(Su)}scheduleTask(t,n){this.tasks.scheduleTask(t,n),this.running||(this.running=!0,this.starve())}}const cp=me(Symbol.for("effect/Scheduler/defaultScheduler"),()=>new Pme(2048)),Dv=me(Symbol.for("effect/FiberRef/currentScheduler"),()=>Wt(cp)),u0=(e,t)=>({_tag:"Par",left:e,right:t}),lp=(e,t)=>({_tag:"Seq",left:e,right:t}),$me=e=>{let t=e,n=e3(),r=Fa(),o=Fa();for(;;)switch(t._tag){case"Empty":if(wt(r))return[n,o];t=r.head,r=r.tail;break;case"Par":r=xa(t.right,r),t=t.left;break;case"Seq":{const s=t.left,i=t.right;switch(s._tag){case"Empty":t=i;break;case"Par":{const c=s.right;t=u0(lp(s.left,i),lp(c,i));break}case"Seq":t=lp(s.left,lp(s.right,i));break;case"Single":t=s,o=xa(i,o)}break}case"Single":if(n=Zme(n,t),wt(r))return[n,o];t=r.head,r=r.tail}throw new Error("BUG: BlockedRequests.step - please report an issue at https://github.com/Effect-TS/effect/issues")},qme=(e,t)=>{if(wt(e))return PM(h0(t));if(Qme(t))return e;const n=o_e(e.head),r=Jme(t);return 1===n.length&&1===r.length&&H(n[0],r[0])?xa(r_e(e.head,h0(t)),e.tail):xa(h0(t),e)},Xme=Symbol.for("effect/RequestBlock/RequestBlockParallel"),Kme={_R:e=>e};class Mv{map;[Xme]=Kme;constructor(t){this.map=t}}const e3=()=>new Mv(Sy()),Zme=(e,t)=>new Mv(vue(e.map,t.dataSource,n=>Qae(Hl(n,yB(t.blockedRequest)),()=>zt(t.blockedRequest)))),Yme=(e,t)=>new Mv(Dy(e.map,t.map,(n,r,o)=>Po(n,o,or(wy(n,o),{onNone:()=>r,onSome:s=>Mr(r,s)})))),Qme=e=>(e=>e&&to(e._root))(e.map),Jme=e=>Array.from(oU(e.map)),h0=e=>n_e(bue(e.map,t=>zt(t))),e_e=Symbol.for("effect/RequestBlock/RequestBlockSequential"),t_e={_R:e=>e};class t3{map;[e_e]=t_e;constructor(t){this.map=t}}const n_e=e=>new t3(e),r_e=(e,t)=>new t3(Dy(t.map,e.map,(n,r,o)=>Po(n,o,or(wy(n,o),{onNone:()=>ln(),onSome:s=>Mr(s,r)})))),o_e=e=>Array.from(oU(e.map)),p0=me(Symbol.for("effect/FiberRef/currentRequestMap"),()=>Wt(new Map)),f_e=e=>t=>`${t.label.replace(/[\s="]/g,"_")}=${e-t.startTime}ms`,o3="effect/MetricLabel",m0=Symbol.for(o3);class __e{key;value;[m0]=m0;_hash;constructor(t,n){this.key=t,this.value=n,this._hash=lt(o3+this.key+this.value)}[Q](){return this._hash}[J](t){return y_e(t)&&this.key===t.key&&this.value===t.value}pipe(){return W(this,arguments)}}const Tv=(e,t)=>new __e(e,t),y_e=e=>G(e,m0),D0="InterruptSignal",M0="Stateful",I0="Resume",T0="YieldNow",R0=e=>({_tag:D0,cause:e}),Pv=e=>({_tag:M0,onFiber:e}),Vu=e=>({_tag:I0,effect:e}),Lv=Symbol.for("effect/FiberScope");class hve{[Lv]=Lv;fiberId=Fo;roots=new Set;add(t,n){this.roots.add(n),n.addObserver(()=>{this.roots.delete(n)})}}class pve{fiberId;parent;[Lv]=Lv;constructor(t,n){this.fiberId=t,this.parent=n}add(t,n){this.parent.tell(Pv(r=>{r.addChild(n),n.addObserver(()=>{r.removeChild(n)})}))}}const ju=me(Symbol.for("effect/FiberScope/Global"),()=>new hve),Bu=Symbol.for("effect/Fiber"),Vv={_E:e=>e,_A:e=>e},O0=Symbol.for("effect/Fiber"),kn=e=>Gh(kr(e.await),e.inheritAll),Ri="effect/FiberCurrent",Uv=Symbol.for("effect/Logger"),x0={_Message:e=>e,_Output:e=>e},cc=e=>({[Uv]:x0,log:e,pipe(){return W(this,arguments)}}),Vve=cc(({annotations:e,cause:t,date:n,fiberId:r,logLevel:o,message:s,spans:i})=>{const a=n.getTime();let l=[`timestamp=${n.toISOString()}`,`level=${o.label}`,`fiber=${kM(r)}`].join(" ");const u=(e=>Array.isArray(e)?e:[e])(s);for(let d=0;d<u.length;d++){const f=Vl(u[d]);f.length>0&&(l+=" message=",l=F0(f,l))}if(null!=t&&"Empty"!==t._tag&&(l+=" cause=",l=F0(Ph(t,{renderErrorCause:!0}),l)),FM(i)){l+=" ";let d=!0;for(const f of i)d?d=!1:l+=" ",l+=_(f,f_e(a))}if(sU(e)>0){l+=" ";let d=!0;for(const[f,h]of e)d?d=!1:l+=" ",l+=q3(f),l+="=",l=F0(Vl(h),l)}return l}),$3=/^[^\s"=]+$/,F0=(e,t)=>t+(e.match($3)?e:(e=>`"${e.replace(/\\([\s\S])|(")/g,"\\$1$2")}"`)(e)),q3=e=>e.replace(/[\s="]/g,"_"),W3="object"==typeof process&&null!==process&&"object"==typeof process.stdout&&null!==process.stdout,Hu=(W3&&process,W3||globalThis,Symbol.for("effect/MetricKeyType")),X3="effect/MetricKeyType/Counter",P0=Symbol.for(X3),L0=Symbol.for("effect/MetricKeyType/Frequency"),V0=Symbol.for("effect/MetricKeyType/Gauge"),Y3="effect/MetricKeyType/Histogram",j0=Symbol.for(Y3),B0=Symbol.for("effect/MetricKeyType/Summary"),fp={_In:e=>e,_Out:e=>e};class Zve{incremental;bigint;[Hu]=fp;[P0]=P0;constructor(t,n){this.incremental=t,this.bigint=n,this._hash=lt(X3)}_hash;[Q](){return this._hash}[J](t){return J3(t)}pipe(){return W(this,arguments)}}class tbe{boundaries;[Hu]=fp;[j0]=j0;constructor(t){this.boundaries=t,this._hash=_(lt(Y3),ie(B(this.boundaries)))}_hash;[Q](){return this._hash}[J](t){return nq(t)&&H(this.boundaries,t.boundaries)}pipe(){return W(this,arguments)}}const J3=e=>G(e,P0),nq=e=>G(e,j0),oq=Symbol.for("effect/MetricKey"),sbe={_Type:e=>e},ibe=pM(H);class $u{name;keyType;description;tags;[oq]=sbe;constructor(t,n,r,o=[]){this.name=t,this.keyType=n,this.description=r,this.tags=o,this._hash=_(lt(this.name+this.description),ie(B(this.keyType)),ie(Sa(this.tags)))}_hash;[Q](){return this._hash}[J](t){return abe(t)&&this.name===t.name&&H(this.keyType,t.keyType)&&H(this.description,t.description)&&ibe(this.tags,t.tags)}pipe(){return W(this,arguments)}}const abe=e=>G(e,oq),ube=p(2,(e,t)=>0===t.length?e:new $u(e.name,e.keyType,e.description,ql(e.tags,t))),sq=Symbol.for("effect/MutableHashMap"),dbe={[sq]:sq,[Symbol.iterator](){return new U0(this)},toString(){return ht(this.toJSON())},toJSON(){return{_id:"MutableHashMap",values:Array.from(this).map(ot)}},[$e](){return this.toJSON()},pipe(){return W(this,arguments)}};class U0{self;referentialIterator;bucketIterator;constructor(t){this.self=t,this.referentialIterator=t.referential[Symbol.iterator]()}next(){if(void 0!==this.bucketIterator)return this.bucketIterator.next();const t=this.referentialIterator.next();return t.done?(this.bucketIterator=new fbe(this.self.buckets.values()),this.next()):t}[Symbol.iterator](){return new U0(this.self)}}class fbe{backing;constructor(t){this.backing=t}currentBucket;next(){if(void 0===this.currentBucket){const n=this.backing.next();if(n.done)return n;this.currentBucket=n.value[Symbol.iterator]()}const t=this.currentBucket.next();return t.done?(this.currentBucket=void 0,this.next()):t}}const hp=()=>{const e=Object.create(dbe);return e.referential=new Map,e.buckets=new Map,e.bucketsSize=0,e},tn=p(2,(e,t)=>{if(!1===sh(t))return e.referential.has(t)?A(e.referential.get(t)):T();const n=t[Q](),r=e.buckets.get(n);return void 0===r?T():pbe(e,r,t)}),pbe=(e,t,n,r=!1)=>{for(let o=0,s=t.length;o<s;o++)if(n[J](t[o][0])){const i=t[o][1];return r&&(t.splice(o,1),e.bucketsSize--),A(i)}return T()},Ts=p(2,(e,t)=>he(tn(e,t))),Vr=p(3,(e,t,n)=>{if(!1===sh(t))return e.referential.set(t,n),e;const r=t[Q](),o=e.buckets.get(r);return void 0===o?(e.buckets.set(r,[[t,n]]),e.bucketsSize++,e):(iq(e,o,t),o.push([t,n]),e.bucketsSize++,e)}),iq=(e,t,n)=>{for(let r=0,o=t.length;r<o;r++)if(n[J](t[r][0]))return t.splice(r,1),void e.bucketsSize--},zu=Symbol.for("effect/MetricState"),aq="effect/MetricState/Counter",$0=Symbol.for(aq),cq="effect/MetricState/Frequency",q0=Symbol.for(cq),lq="effect/MetricState/Gauge",z0=Symbol.for(lq),uq="effect/MetricState/Histogram",W0=Symbol.for(uq),dq="effect/MetricState/Summary",G0=Symbol.for(dq),pp={_A:e=>e};class gbe{count;[zu]=pp;[$0]=$0;constructor(t){this.count=t}[Q](){return _(B(aq),ie(B(this.count)),He(this))}[J](t){return Mbe(t)&&this.count===t.count}pipe(){return W(this,arguments)}}const mbe=pM(H);class _be{occurrences;[zu]=pp;[q0]=q0;constructor(t){this.occurrences=t}_hash;[Q](){return _(lt(cq),ie(Sa(le(this.occurrences.entries()))),He(this))}[J](t){return Ibe(t)&&mbe(le(this.occurrences.entries()),le(t.occurrences.entries()))}pipe(){return W(this,arguments)}}class ybe{value;[zu]=pp;[z0]=z0;constructor(t){this.value=t}[Q](){return _(B(lq),ie(B(this.value)),He(this))}[J](t){return Tbe(t)&&this.value===t.value}pipe(){return W(this,arguments)}}class vbe{buckets;count;min;max;sum;[zu]=pp;[W0]=W0;constructor(t,n,r,o,s){this.buckets=t,this.count=n,this.min=r,this.max=o,this.sum=s}[Q](){return _(B(uq),ie(B(this.buckets)),ie(B(this.count)),ie(B(this.min)),ie(B(this.max)),ie(B(this.sum)),He(this))}[J](t){return Rbe(t)&&H(this.buckets,t.buckets)&&this.count===t.count&&this.min===t.min&&this.max===t.max&&this.sum===t.sum}pipe(){return W(this,arguments)}}class bbe{error;quantiles;count;min;max;sum;[zu]=pp;[G0]=G0;constructor(t,n,r,o,s,i){this.error=t,this.quantiles=n,this.count=r,this.min=o,this.max=s,this.sum=i}[Q](){return _(B(dq),ie(B(this.error)),ie(B(this.quantiles)),ie(B(this.count)),ie(B(this.min)),ie(B(this.max)),ie(B(this.sum)),He(this))}[J](t){return Obe(t)&&this.error===t.error&&H(this.quantiles,t.quantiles)&&this.count===t.count&&this.min===t.min&&this.max===t.max&&this.sum===t.sum}pipe(){return W(this,arguments)}}const Mbe=e=>G(e,$0),Ibe=e=>G(e,q0),Tbe=e=>G(e,z0),Rbe=e=>G(e,W0),Obe=e=>G(e,G0),Abe=Symbol.for("effect/MetricHook"),kbe={_In:e=>e,_Out:e=>e},gp=e=>({[Abe]:kbe,pipe(){return W(this,arguments)},...e}),fq=BigInt(0),Vbe=(e,t,n)=>{const r=n.length;if(!cn(t))return[];const o=t[0],s=t.slice(1),i=hq(e,r,T(),0,o,n),a=Dr(i);return s.forEach(c=>{a.push(hq(e,r,i.value,i.consumed,c,i.rest))}),zl(a,c=>[c.quantile,c.value])},hq=(e,t,n,r,o,s)=>{let i=e,a=t,c=n,l=r,u=o,d=s,f=e,h=t,g=n,m=r,y=o,C=s;for(;;){if(!cn(d))return{quantile:u,value:T(),consumed:l,rest:[]};if(1===u)return{quantile:u,value:A(fM(d)),consumed:l+d.length,rest:[]};const v=Ice(d,Pe=>Pe<=d[0]),N=u*a,L=i/2*N,$=l+v[0].length,ae=Math.abs($-N);if($<N-L)f=i,h=a,g=hh(d),m=$,y=u,C=v[1],i=f,a=h,c=g,l=m,u=y,d=C;else{if($>N+L)return{quantile:u,value:c,consumed:l,rest:d};switch(c._tag){case"None":f=i,h=a,g=hh(d),m=$,y=u,C=v[1],i=f,a=h,c=g,l=m,u=y,d=C;continue;case"Some":if(ae<Math.abs(N-c.value)){f=i,h=a,g=hh(d),m=$,y=u,C=v[1],i=f,a=h,c=g,l=m,u=y,d=C;continue}return{quantile:u,value:A(c.value),consumed:l,rest:d}}}}throw new Error("BUG: MetricHook.resolveQuantiles - please report an issue at https://github.com/Effect-TS/effect/issues")},pq=Symbol.for("effect/MetricPair"),gq={_Type:e=>e},jbe=(e,t)=>({[pq]:gq,metricKey:e,metricState:t,pipe(){return W(this,arguments)}}),mq=Symbol.for("effect/MetricRegistry");class Bbe{[mq]=mq;map=hp();snapshot(){const t=[];for(const[n,r]of this.map)t.push(jbe(n,r.get()));return t}get(t){const n=_(this.map,tn(t),ir);if(null==n){if(J3(t.keyType))return this.getCounter(t);if(G(t.keyType,V0))return this.getGauge(t);if((e=>G(e,L0))(t.keyType))return this.getFrequency(t);if(nq(t.keyType))return this.getHistogram(t);if((e=>G(e,B0))(t.keyType))return this.getSummary(t);throw new Error("BUG: MetricRegistry.get - unknown MetricKeyType - please report an issue at https://github.com/Effect-TS/effect/issues")}return n}getCounter(t){let n=_(this.map,tn(t),ir);if(null==n){const r=(e=>{let t=e.keyType.bigint?fq:0;const n=e.keyType.incremental?e.keyType.bigint?o=>o>=fq:o=>o>=0:o=>!0,r=o=>{n(o)&&(t+=o)};return gp({get:()=>(e=>new gbe(e))(t),update:r,modify:r})})(t);_(this.map,Ts(t))||_(this.map,Vr(t,r)),n=r}return n}getFrequency(t){let n=_(this.map,tn(t),ir);if(null==n){const r=(e=>{const t=new Map;for(const r of e.keyType.preregisteredWords)t.set(r,0);const n=r=>{const o=t.get(r)??0;t.set(r,o+1)};return gp({get:()=>(e=>new _be(e))(t),update:n,modify:n})})(t);_(this.map,Ts(t))||_(this.map,Vr(t,r)),n=r}return n}getGauge(t){let n=_(this.map,tn(t),ir);if(null==n){const r=((e,t)=>{let n=t;return gp({get:()=>(e=>new ybe(e))(n),update:r=>{n=r},modify:r=>{n+=r}})})(0,t.keyType.bigint?BigInt(0):0);_(this.map,Ts(t))||_(this.map,Vr(t,r)),n=r}return n}getHistogram(t){let n=_(this.map,tn(t),ir);if(null==n){const r=(e=>{const t=e.keyType.boundaries.values,n=t.length,r=new Uint32Array(n+1),o=new Float32Array(n);let s=0,i=0,a=Number.MAX_VALUE,c=Number.MIN_VALUE;_(t,ph(Ci),zl((d,f)=>{o[f]=d}));const l=d=>{let f=0,h=n;for(;f!==h;){const g=Math.floor(f+(h-f)/2);d<=o[g]?h=g:f=g,h===f+1&&(d<=o[f]?h=f:f=h)}r[f]=r[f]+1,s+=1,i+=d,d<a&&(a=d),d>c&&(c=d)},u=()=>{const d=dM(n);let f=0;for(let h=0;h<n;h++)f+=r[h],d[h]=[o[h],f];return d};return gp({get:()=>(e=>new vbe(e.buckets,e.count,e.min,e.max,e.sum))({buckets:u(),count:s,min:a,max:c,sum:i}),update:l,modify:l})})(t);_(this.map,Ts(t))||_(this.map,Vr(t,r)),n=r}return n}getSummary(t){let n=_(this.map,tn(t),ir);if(null==n){const r=(e=>{const{error:t,maxAge:n,maxSize:r,quantiles:o}=e.keyType,s=_(o,ph(Ci)),i=dM(r);let a=0,c=0,l=0,u=Number.MAX_VALUE,d=Number.MIN_VALUE;const f=g=>{const m=[];let y=0;for(;y!==r-1;){const C=i[y];if(null!=C){const[v,N]=C,L=mh(g-v);ile(L,Yce)&&L<=n&&m.push(N)}y+=1}return Vbe(t,s,ph(m,Ci))},h=(g,m)=>{r>0&&(a+=1,i[a%r]=[m,g]),c+=1,l+=g,g<u&&(u=g),g>d&&(d=g)};return gp({get:()=>(e=>new bbe(e.error,e.quantiles,e.count,e.min,e.max,e.sum))({error:t,quantiles:f(Date.now()),count:c,min:u,max:d,sum:l}),update:([g,m])=>h(g,m),modify:([g,m])=>h(g,m)})})(t);_(this.map,Ts(t))||_(this.map,Vr(t,r)),n=r}return n}}const Hbe=Symbol.for("effect/Metric"),$be={_Type:e=>e,_In:e=>e,_Out:e=>e},X0=me(Symbol.for("effect/Metric/globalMetricRegistry"),()=>new Bbe),Hv=function(e,t,n,r){const o=Object.assign(s=>Wa(s,i=>_q(o,i)),{[Hbe]:$be,keyType:e,unsafeUpdate:t,unsafeValue:n,unsafeModify:r,register(){return this.unsafeValue([]),this},pipe(){return W(this,arguments)}});return o},$v=(e,t)=>mp(((e,t)=>new $u(e,(e=>new Zve(e?.incremental??!1,e?.bigint??!1))(t),Ul(t?.description)))(e,t)),mp=e=>{let t;const n=new WeakMap,r=o=>{if(0===o.length)return void 0!==t||(t=X0.get(e)),t;let s=n.get(o);return void 0!==s||(s=X0.get(ube(e,o)),n.set(o,s)),s};return Hv(e.keyType,(o,s)=>r(s).update(o),o=>r(o).get(),(o,s)=>r(s).modify(o))},Z0=(e,t,n)=>mp(((e,t,n)=>new $u(e,(e=>new tbe(e))(t),Ul(n)))(e,t,n)),Y0=p(3,(e,t,n)=>Wbe(e,[Tv(t,n)])),Wbe=p(2,(e,t)=>Hv(e.keyType,(n,r)=>e.unsafeUpdate(n,ql(t,r)),n=>e.unsafeValue(ql(t,n)),(n,r)=>e.unsafeModify(n,ql(t,r)))),_q=p(2,(e,t)=>Nr(wu,n=>R(()=>e.unsafeUpdate(t,n)))),yq="effect/MetricBoundaries",Q0=Symbol.for(yq);class Xbe{values;[Q0]=Q0;constructor(t){this.values=t,this._hash=_(lt(yq),ie(Sa(this.values)))}_hash;[Q](){return this._hash}[J](t){return Kbe(t)&&H(this.values,t.values)}pipe(){return W(this,arguments)}}const Kbe=e=>G(e,Q0),vq=e=>{const t=_(e,rB(zt(Number.POSITIVE_INFINITY)),Hce);return new Xbe(t)},Zbe=e=>_(((e,t)=>{const n=Math.max(1,Math.floor(e)),r=new Array(n);for(let o=0;o<n;o++)r[o]=t(o);return r})(e.count-1,t=>e.start*Math.pow(e.factor,t)),ar,vq),lc=p(2,(e,t)=>Nr(p0,n=>R(()=>{if(n.has(e)){const r=n.get(e);r.state.completed||(r.state.completed=!0,wI(r.result,t))}}))),Wu=Symbol.for("effect/Supervisor"),_p={_T:e=>e};class Gu{underlying;value0;[Wu]=_p;constructor(t,n){this.underlying=t,this.value0=n}get value(){return this.value0}onStart(t,n,r,o){this.underlying.onStart(t,n,r,o)}onEnd(t,n){this.underlying.onEnd(t,n)}onEffect(t,n){this.underlying.onEffect(t,n)}onSuspend(t){this.underlying.onSuspend(t)}onResume(t){this.underlying.onResume(t)}map(t){return new Gu(this,_(this.value,F(t)))}zip(t){return new Xu(this,t)}}class Xu{left;right;_tag="Zip";[Wu]=_p;constructor(t,n){this.left=t,this.right=n}get value(){return Wy(this.left.value,this.right.value)}onStart(t,n,r,o){this.left.onStart(t,n,r,o),this.right.onStart(t,n,r,o)}onEnd(t,n){this.left.onEnd(t,n),this.right.onEnd(t,n)}onEffect(t,n){this.left.onEffect(t,n),this.right.onEffect(t,n)}onSuspend(t){this.left.onSuspend(t),this.right.onSuspend(t)}onResume(t){this.left.onResume(t),this.right.onResume(t)}map(t){return new Gu(this,_(this.value,F(t)))}zip(t){return new Xu(this,t)}}const Cq=e=>G(e,Wu)&&q_(e,"Zip");class aEe{effect;[Wu]=_p;constructor(t){this.effect=t}get value(){return this.effect}onStart(t,n,r,o){}onEnd(t,n){}onEffect(t,n){}onSuspend(t){}onResume(t){}map(t){return new Gu(this,_(this.value,F(t)))}zip(t){return new Xu(this,t)}onRun(t,n){return t()}}const qv=me("effect/Supervisor/none",()=>new aEe(ee)),wq="AddSupervisor",Dq="RemoveSupervisor",Mq="AndThen",yp={_tag:"Empty"},zv=(e,t)=>({_tag:Mq,first:e,second:t}),tT=(e,t)=>H(e,t)?qv:Cq(e)?tT(e.left,t).zip(tT(e.right,t)):e,Wv=e=>H(e,qv)?gi():Cq(e)?_(Wv(e.left),ou(Wv(e.right))):vy(e),pEe=no({empty:yp,patch:(e,t)=>((e,t)=>{let n=e,r=t;for(;pt(r);){const o=De(r);switch(o._tag){case"Empty":r=dt(r);break;case wq:n=n.zip(o.supervisor),r=dt(r);break;case Dq:n=tT(n,o.supervisor),r=dt(r);break;case Mq:r=ut(o.first)(ut(o.second)(dt(r)))}}return n})(t,zt(e)),combine:zv,diff:(e,t)=>{if(H(e,t))return yp;const n=Wv(e),r=Wv(t),o=_(r,XB(n),Sh(yp,(i,a)=>zv(i,{_tag:wq,supervisor:a}))),s=_(n,XB(r),Sh(yp,(i,a)=>zv(i,{_tag:Dq,supervisor:a})));return zv(o,s)}}),gEe=$v("effect_fiber_started",{incremental:!0}),Iq=$v("effect_fiber_active"),mEe=$v("effect_fiber_successes",{incremental:!0}),_Ee=$v("effect_fiber_failures",{incremental:!0}),yEe=Y0(Z0("effect_fiber_lifetimes",Zbe({start:.5,factor:2,count:35})),"time_unit","milliseconds"),vp="Continue",bEe={_E:e=>e,_A:e=>e},Gv=e=>{throw new Error(`BUG: FiberRuntime - ${Vl(e)} - please report an issue at https://github.com/Effect-TS/effect/issues`)},Rs=Symbol.for("effect/internal/fiberRuntime/YieldedOp"),Os=me("effect/internal/fiberRuntime/yieldedOpChannel",()=>({currentOp:null})),bp={[Z_]:(e,t,n)=>Yt(()=>t.effect_instruction_i1(n)),OnStep:(e,t,n)=>Me(Me(n)),[Y_]:(e,t,n)=>Yt(()=>t.effect_instruction_i2(n)),[YD]:(e,t,n)=>(e.patchRuntimeFlags(e.currentRuntimeFlags,t.patch),vs(e.currentRuntimeFlags)&&e.isInterrupted()?ye(e.getInterruptedCause()):Me(n)),[Q_]:(e,t,n)=>(Yt(()=>t.effect_instruction_i2(n)),Yt(()=>t.effect_instruction_i0())?(e.pushStack(t),Yt(()=>t.effect_instruction_i1())):ee),[ah]:(e,t,n)=>{const r=Yt(()=>t.effect_instruction_i0.next(n));return r.done?Me(r.value):(e.pushStack(t),function Cj(e){if("object"==typeof e&&null!==e&&zD in e)return e[zD]();throw new Error(nh("yieldWrapGet"))}(r.value))}},EEe={[D0]:(e,t,n,r)=>(e.processNewInterruptSignal(r.cause),vs(t)?ye(r.cause):n),[I0]:(e,t,n,r)=>{throw new Error("It is illegal to have multiple concurrent run loops in a single fiber")},[M0]:(e,t,n,r)=>(r.onFiber(e,M$(t)),n),[T0]:(e,t,n,r)=>b(Xa(),()=>n)};class Rq extends lv{[Bu]=Vv;[O0]=bEe;_fiberRefs;_fiberId;_queue=new Array;_children=null;_observers=new Array;_running=!1;_stack=[];_asyncInterruptor=null;_asyncBlockingOn=null;_exitValue=null;_steps=[];_isYielding=!1;currentRuntimeFlags;currentOpCount=0;currentSupervisor;currentScheduler;currentTracer;currentSpan;currentContext;currentDefaultServices;constructor(t,n,r){if(super(),this.currentRuntimeFlags=r,this._fiberId=t,this._fiberRefs=n,NU(r)){const o=this.getFiberRef(wu);gEe.unsafeUpdate(1,o),Iq.unsafeUpdate(1,o)}this.refreshRefCache()}commit(){return kn(this)}id(){return this._fiberId}resume(t){this.tell(Vu(t))}get status(){return this.ask((t,n)=>n)}get runtimeFlags(){return this.ask((t,n)=>n._tag===hv?t.currentRuntimeFlags:n.runtimeFlags)}scope(){return new pve((e=this).id(),e);var e}get children(){return this.ask(t=>Array.from(t.getChildren()))}getChildren(){return null===this._children&&(this._children=new Set),this._children}getInterruptedCause(){return this.getFiberRef(Kh)}fiberRefs(){return this.ask(t=>t.getFiberRefs())}ask(t){return z(()=>{const n=CI(this._fiberId);return this.tell(Pv((r,o)=>{wI(n,R(()=>t(r,o)))})),xr(n)})}tell(t){this._queue.push(t),this._running||(this._running=!0,this.drainQueueLaterOnExecutor())}get await(){return ro(t=>{const n=r=>t(D(r));return this.tell(Pv((r,o)=>{null!==r._exitValue?n(this._exitValue):r.addObserver(n)})),R(()=>this.tell(Pv((r,o)=>{r.removeObserver(n)})))},this.id())}get inheritAll(){return Ee((t,n)=>{const r=t.id(),o=t.getFiberRefs(),s=n.runtimeFlags,i=this.getFiberRefs(),a=h$(o,r,i);t.setFiberRefs(a);const c=t.getFiberRef($q);return(e=>{const t=new Dt(Da);return t.effect_instruction_i0=e,t.effect_instruction_i1=void 0,t})(_(bs(s,c),BU(1),BU(16)))})}get poll(){return R(()=>Ul(this._exitValue))}unsafePoll(){return this._exitValue}interruptAsFork(t){return R(()=>this.tell(R0(cr(t))))}unsafeInterruptAsFork(t){this.tell(R0(cr(t)))}addObserver(t){null!==this._exitValue?t(this._exitValue):this._observers.push(t)}removeObserver(t){this._observers=this._observers.filter(n=>n!==t)}getFiberRefs(){return this.setFiberRef($q,this.currentRuntimeFlags),this._fiberRefs}unsafeDeleteFiberRef(t){this._fiberRefs=BI(this._fiberRefs,t)}getFiberRef(t){return this._fiberRefs.locals.has(t)?this._fiberRefs.locals.get(t)[0][1]:t.initial}setFiberRef(t,n){this._fiberRefs=uv(this._fiberRefs,{fiberId:this._fiberId,fiberRef:t,value:n}),this.refreshRefCache()}refreshRefCache(){this.currentDefaultServices=this.getFiberRef(Gt),this.currentTracer=this.currentDefaultServices.unsafeMap.get(nc.key),this.currentSupervisor=this.getFiberRef(qq),this.currentScheduler=this.getFiberRef(Dv),this.currentContext=this.getFiberRef(jo),this.currentSpan=this.currentContext.unsafeMap.get(Ds.key)}setFiberRefs(t){this._fiberRefs=t,this.refreshRefCache()}addChild(t){this.getChildren().add(t)}removeChild(t){this.getChildren().delete(t)}transferChildren(t){const n=this._children;if(this._children=null,null!==n&&n.size>0)for(const r of n)null===r._exitValue&&t.add(this.currentRuntimeFlags,r)}drainQueueOnCurrentThread(){let t=!0;for(;t;){let n=vp;const r=globalThis[Ri];globalThis[Ri]=this;try{for(;n===vp;)n=0===this._queue.length?"Done":this.evaluateMessageWhileSuspended(this._queue.splice(0,1)[0])}finally{this._running=!1,globalThis[Ri]=r}this._queue.length>0&&!this._running?(this._running=!0,"Yield"===n?(this.drainQueueLaterOnExecutor(),t=!1):t=!0):t=!1}}drainQueueLaterOnExecutor(){this.currentScheduler.scheduleTask(this.run,this.getFiberRef(Su))}drainQueueWhileRunning(t,n){let r=n;for(;this._queue.length>0;){const o=this._queue.splice(0,1)[0];r=EEe[o._tag](this,t,r,o)}return r}isInterrupted(){return!((e=this.getFiberRef(Kh))._tag===cu||mu(e,!0,(t,n)=>{switch(n._tag){case cu:return A(t);case au:case lu:case uu:return A(!1);default:return T()}}));var e}addInterruptedCause(t){const n=this.getFiberRef(Kh);this.setFiberRef(Kh,ft(n,t))}processNewInterruptSignal(t){this.addInterruptedCause(t),this.sendInterruptSignalToAllChildren()}sendInterruptSignalToAllChildren(){if(null===this._children||0===this._children.size)return!1;let t=!1;for(const n of this._children)n.tell(R0(cr(this.id()))),t=!0;return t}interruptAllChildren(){if(this.sendInterruptSignalToAllChildren()){const t=this._children.values();this._children=null;let n=!1;return zy({while:()=>!n,body:()=>{const o=t.next();return o.done?R(()=>{n=!0}):Jt(o.value.await)},step:()=>{}})}return null}reportExitValue(t){if(NU(this.currentRuntimeFlags)){const n=this.getFiberRef(wu),r=this.id().startTimeMillis,o=Date.now();switch(yEe.unsafeUpdate(o-r,n),Iq.unsafeUpdate(-1,n),t._tag){case ze:mEe.unsafeUpdate(1,n);break;case qe:_Ee.unsafeUpdate(1,n)}}if("Failure"===t._tag){const n=this.getFiberRef(OH);!KM(t.cause)&&"Some"===n._tag&&this.log("Fiber terminated with an unhandled error",t.cause,n)}}setExitValue(t){this._exitValue=t,this.reportExitValue(t);for(let n=this._observers.length-1;n>=0;n--)this._observers[n](t);this._observers=[]}getLoggers(){return this.getFiberRef(IEe)}log(t,n,r){const o=he(r)?r.value:this.getFiberRef(she),s=this.getFiberRef(SEe);if(Oge(s,o))return;const i=this.getFiberRef(IH),a=this.getFiberRef(Xh),c=this.getLoggers(),l=this.getFiberRefs();if(Eh(c)>0){const u=Ao(this.getFiberRef(Gt),ws),d=new Date(u.unsafeCurrentTimeMillis());((e,t)=>{const n=wa.fiberRefs;wa.fiberRefs=e;try{return t()}finally{wa.fiberRefs=n}})(l,()=>{for(const f of c)f.log({fiberId:this.id(),logLevel:o,message:t,cause:n,context:l,spans:i,annotations:a,date:d})})}}evaluateMessageWhileSuspended(t){switch(t._tag){case T0:return"Yield";case D0:return this.processNewInterruptSignal(t.cause),null!==this._asyncInterruptor&&(this._asyncInterruptor(ye(t.cause)),this._asyncInterruptor=null),vp;case I0:return this._asyncInterruptor=null,this._asyncBlockingOn=null,this.evaluateEffect(t.effect),vp;case M0:return t.onFiber(this,null!==this._exitValue?Sge:((e,t)=>new mge(e,t))(this.currentRuntimeFlags,this._asyncBlockingOn)),vp;default:return Gv(t)}}evaluateEffect(t){this.currentSupervisor.onResume(this);try{let n=vs(this.currentRuntimeFlags)&&this.isInterrupted()?ye(this.getInterruptedCause()):t;for(;null!==n;){const o=this.runLoop(n);if(o===Rs){const s=Os.currentOp;Os.currentOp=null,s._op===J_?Pa(this.currentRuntimeFlags,32)?(this.tell({_tag:T0}),this.tell(Vu(ur)),n=null):n=ur:s._op===ih&&(n=null)}else{this.currentRuntimeFlags=_(this.currentRuntimeFlags,ffe(16));const s=this.interruptAllChildren();null!==s?n=b(s,()=>o):(0===this._queue.length?this.setExitValue(o):this.tell(Vu(o)),n=null)}}}finally{this.currentSupervisor.onSuspend(this)}}start(t){if(this._running)this.tell(Vu(t));else{this._running=!0;const n=globalThis[Ri];globalThis[Ri]=this;try{this.evaluateEffect(t)}finally{this._running=!1,globalThis[Ri]=n,this._queue.length>0&&this.drainQueueLaterOnExecutor()}}}startFork(t){this.tell(Vu(t))}patchRuntimeFlags(t,n){const r=La(t,n);return globalThis[Ri]=this,this.currentRuntimeFlags=r,r}initiateAsync(t,n){let r=!1;const o=s=>{r||(r=!0,this.tell(Vu(s)))};vs(t)&&(this._asyncInterruptor=o);try{n(o)}catch(s){o(_e(un(s)))}}pushStack(t){this._stack.push(t),"OnStep"===t._op&&this._steps.push({refs:this.getFiberRefs(),flags:this.currentRuntimeFlags})}popStack(){const t=this._stack.pop();if(t)return"OnStep"===t._op&&this._steps.pop(),t}getNextSuccessCont(){let t=this.popStack();for(;t;){if(t._op!==K_)return t;t=this.popStack()}}getNextFailCont(){let t=this.popStack();for(;t;){if(t._op!==Z_&&t._op!==Q_&&t._op!==ah)return t;t=this.popStack()}}[dae](t){return R(()=>ry(this.currentContext,t))}Left(t){return ue(t.left)}None(t){return ue(new vi)}Right(t){return Me(t.right)}Some(t){return Me(t.value)}Micro(t){return jh(n=>{let r=n;const o=((e,t)=>{const n=new V$(vv.context(t?.scheduler??new JI));if(n.evaluate(e),t?.signal)if(t.signal.aborted)n.unsafeInterrupt();else{const r=()=>n.unsafeInterrupt();t.signal.addEventListener("abort",r,{once:!0}),n.addObserver(()=>t.signal.removeEventListener("abort",r))}return n})(rme(t,this.currentContext));return o.addObserver(s=>{if("Success"===s._tag)return r(Me(s.value));switch(s.cause._tag){case"Interrupt":return r(ye(cr(Fo)));case"Fail":return r(ue(s.cause.error));case"Die":return r(Ha(s.cause.defect))}}),jh(s=>{r=i=>{s(ee)},o.unsafeInterrupt()})})}[Dj](t){const n=Yt(()=>t.effect_instruction_i0()),r=this.getNextSuccessCont();return void 0!==r?(r._op in bp||Gv(r),bp[r._op](this,r,n)):(Os.currentOp=Me(n),Rs)}[ze](t){const n=t,r=this.getNextSuccessCont();return void 0!==r?(r._op in bp||Gv(r),bp[r._op](this,r,n.effect_instruction_i0)):(Os.currentOp=n,Rs)}[qe](t){const n=t.effect_instruction_i0,r=this.getNextFailCont();if(void 0===r)return Os.currentOp=ye(n),Rs;switch(r._op){case K_:case Y_:return vs(this.currentRuntimeFlags)&&this.isInterrupted()?ye(ZU(n)):Yt(()=>r.effect_instruction_i1(n));case"OnStep":return vs(this.currentRuntimeFlags)&&this.isInterrupted()?ye(ZU(n)):Me(ye(n));case YD:return this.patchRuntimeFlags(this.currentRuntimeFlags,r.patch),vs(this.currentRuntimeFlags)&&this.isInterrupted()?ye(ft(n,this.getInterruptedCause())):ye(n);default:Gv(r)}}[Mj](t){return Yt(()=>t.effect_instruction_i0(this,M$(this.currentRuntimeFlags)))}Blocked(t){const n=this.getFiberRefs(),r=this.currentRuntimeFlags;if(this._steps.length>0){const o=[],s=this._steps[this._steps.length-1];let i=this.popStack();for(;i&&"OnStep"!==i._op;)o.push(i),i=this.popStack();this.setFiberRefs(s.refs),this.currentRuntimeFlags=s.flags;const a=tp(s.refs,n),c=bs(s.flags,r);return Me(yu(t.effect_instruction_i0,Ee(l=>{for(;o.length>0;)l.pushStack(o.pop());return l.setFiberRefs(np(l.id(),l.getFiberRefs())(a)),l.currentRuntimeFlags=La(c)(l.currentRuntimeFlags),t.effect_instruction_i1})))}return en(o=>b(Zu((e=>{const t=new Dt("RunBlocked");return t.effect_instruction_i0=e,t})(t.effect_instruction_i0)),()=>o(t.effect_instruction_i1)))}RunBlocked(t){return Lo((e=>{let t=PM(e),n=Fa();for(;;){const[r,o]=Nue(t,[e3(),Fa()],([s,i],a)=>{const[c,l]=$me(a);return[Yme(s,c),Tue(i,l)]});if(n=qme(n,r),wt(o))return xue(n);t=o}throw new Error("BUG: BlockedRequests.flatten - please report an issue at https://github.com/Effect-TS/effect/issues")})(t.effect_instruction_i0),t=>uc((e=>Array.from(e.map))(t),([n,r])=>{const o=new Map,s=[];for(const a of r){s.push($n(a));for(const c of a)o.set(c.request,c)}const i=s.flat();return vn(Zq(n.runAll(s),i,()=>i.forEach(a=>{a.listeners.interrupted=!0})),p0,o)},!1,!1))}[Da](t){const n=t.effect_instruction_i0,r=this.currentRuntimeFlags,o=La(r,n);if(vs(o)&&this.isInterrupted())return ye(this.getInterruptedCause());if(this.patchRuntimeFlags(this.currentRuntimeFlags,n),t.effect_instruction_i1){const s=bs(o,r);return this.pushStack(new Pfe(s,t)),Yt(()=>t.effect_instruction_i1(r))}return ur}[Z_](t){return this.pushStack(t),t.effect_instruction_i0}OnStep(t){return this.pushStack(t),t.effect_instruction_i0}[K_](t){return this.pushStack(t),t.effect_instruction_i0}[Y_](t){return this.pushStack(t),t.effect_instruction_i0}[ih](t){return this._asyncBlockingOn=t.effect_instruction_i1,this.initiateAsync(this.currentRuntimeFlags,t.effect_instruction_i0),Os.currentOp=t,Rs}[J_](t){return this._isYielding=!1,Os.currentOp=t,Rs}[Q_](t){const r=t.effect_instruction_i1;return(0,t.effect_instruction_i0)()?(this.pushStack(t),r()):ur}[ah](t){return bp[ah](this,t,void 0)}[X_](t){return Yt(()=>t.commit())}runLoop(t){let n=t;for(this.currentOpCount=0;;){if(2&this.currentRuntimeFlags&&this.currentSupervisor.onEffect(this,n),this._queue.length>0&&(n=this.drainQueueWhileRunning(this.currentRuntimeFlags,n)),!this._isYielding){this.currentOpCount+=1;const r=this.currentScheduler.shouldYield(this);if(!1!==r){this._isYielding=!0,this.currentOpCount=0;const o=n;n=b(Xa({priority:r}),()=>o)}}try{if(n=this.currentTracer.context(()=>"3.12.0"!==n[ja]._V?Bh(`Cannot execute an Effect versioned ${n[ja]._V} with a Runtime of version 3.12.0`):this[n._op](n),this),n===Rs){const r=Os.currentOp;return r._op===J_||r._op===ih?Rs:(Os.currentOp=null,r._op===ze||r._op===qe?r:ye(un(r)))}}catch(r){n=n!==Rs&&!G(n,"_op")||!(n._op in this)?Bh(`Not a valid effect: ${Vl(n)}`):G(r,YM)?ye(r.cause):G(r,hI)?ye(ft(un(r),cr(Fo))):Ha(r)}}}run=()=>{this.drainQueueOnCurrentThread()}}const SEe=me("effect/FiberRef/currentMinimumLogLevel",()=>Wt(A$)),DEe=me(Symbol.for("effect/Logger/defaultLogger"),()=>{return e=Vve,cc(t=>{const n=cge(t.context,Gt);Ao(n,Tu).unsafe.log(e.log(t))});var e}),MEe=me(Symbol.for("effect/Logger/tracerLogger"),()=>cc(({annotations:e,cause:t,context:n,fiberId:r,logLevel:o,message:s})=>{const i=li(Au(n,jo),Ds);if("None"===i._tag||"ExternalSpan"===i.value._tag)return;const a=ry(Au(n,Gt),ws),c={};for(const[l,u]of e)c[l]=u;c["effect.fiberId"]=hue(r),c["effect.logLevel"]=o.label,null!==t&&"Empty"!==t._tag&&(c["effect.cause"]=Ph(t,{renderErrorCause:!0})),i.value.event(Vl(Array.isArray(s)?s[0]:s),a.unsafeCurrentTimeNanos(),c)})),IEe=me(Symbol.for("effect/FiberRef/currentLoggers"),()=>(e=>{const t=SU();return Cu(e,{differ:t,fork:t.empty})})(vy(DEe,MEe))),uc=(e,t,n,r,o)=>en(s=>(e=>Ee(t=>{const r=_(t.getFiberRef(Xy),sr(()=>t.scope()));return e(vn(Xy,A(r)))}))(i=>Ee(a=>{let c=Array.from(e).reverse(),l=c.length;if(0===l)return ee;let u=0,d=!1;const f=o?Math.min(c.length,o):c.length,h=new Set,g=new Array,y=new Array,C=new Array,v=new Array,N=()=>{const et=g.filter(({exit:S})=>"Failure"===S._tag).sort((S,ao)=>S.index<ao.index?-1:S.index===ao.index?0:1).map(({exit:S})=>S);return 0===et.length&&et.push(ur),et},L=(et,S=!1)=>{const ao=Ga(i(et)),Nn=BEe(ao,a,a.currentRuntimeFlags,ju);return a.currentScheduler.scheduleTask(()=>{S&&Nn.unsafeInterruptAsFork(a.id()),Nn.resume(ao)},0),Nn},$=()=>{r||(l-=c.length,c=[]),d=!0,h.forEach(et=>{et.currentScheduler.scheduleTask(()=>{et.unsafeInterruptAsFork(a.id())},0)})},ae=n?uH:kt,Pe=L(ro(et=>{const S=(Nn,Uo)=>{"Blocked"===Nn._op?v.push(Nn):(g.push({index:Uo,exit:Nn}),"Failure"===Nn._op&&!d&&$())},ao=()=>{if(c.length>0){const Nn=c.pop();let Uo=u++;const ub=()=>{const fr=c.pop();return Uo=u++,b(Xa(),()=>b(ae(s(t(fr,Uo))),pc))},pc=fr=>c.length>0&&(S(fr,Uo),c.length>0)?ub():D(fr),db=b(ae(s(t(Nn,Uo))),pc),Ho=L(db);y.push(Ho),h.add(Ho),d&&Ho.currentScheduler.scheduleTask(()=>{Ho.unsafeInterruptAsFork(a.id())},0),Ho.addObserver(fr=>{let Mp;if(Mp="Failure"===fr._op?fr:fr.effect_instruction_i0,C.push(Ho),h.delete(Ho),S(Mp,Uo),g.length===l)et(D(sr(Qa(N(),{parallel:!0}),()=>ur)));else if(v.length+g.length===l){const NT=v.map(Ip=>Ip.effect_instruction_i0).reduce(u0);et(D(yu(NT,uc([sr(Qa(N(),{parallel:!0}),()=>ur),...v.map(Ip=>Ip.effect_instruction_i1)],Ip=>Ip,n,!0,o))))}else ao()})}};for(let Nn=0;Nn<f;Nn++)ao()}));return Jt(oo(kr(s(kn(Pe))),ev({onFailure:()=>{$();const et=v.length+1,S=Math.min("number"==typeof o?o:v.length,v.length),ao=Array.from(v);return ro(Nn=>{const Uo=[];let ub=0,pc=0;const db=(fr,Mp)=>NT=>{Uo[fr]=NT,ub++,ub===et&&Nn(Wj(Qa(Uo,{parallel:!0}))),ao.length>0&&Mp&&Ho()},Ho=()=>{L(ao.pop(),!0).addObserver(db(pc,!0)),pc++};Pe.addObserver(db(pc,!1)),pc++;for(let fr=0;fr<S;fr++)Ho()})},onSuccess:()=>qn(C,et=>et.inheritAll)})))}))),Zu=e=>UEe(e,ju),BEe=(e,t,n,r=null)=>Yv(e,t,n,r),Yv=(e,t,n,r=null)=>{const o=rU(),s=t.getFiberRefs(),i=p$(s,o),a=new Rq(o,i,n),c=Au(i,jo),l=a.currentSupervisor;return l.onStart(c,e,A(t),a),a.addObserver(d=>l.onEnd(d,a)),(null!==r?r:_(t.getFiberRef(Xy),sr(()=>t.scope()))).add(n,a),a},UEe=(e,t)=>Ee((n,r)=>D(((e,t,n,r=null)=>{const o=Yv(e,t,n,r);return o.resume(e),o})(e,n,r.runtimeFlags,t))),cCe=e=>Cu(e,{differ:pEe,fork:yp}),$q=ohe(hfe),qq=cCe(qv),Zq=(e,t,n)=>Cs(r=>b(b(Zu(qa(e)),o=>ro(s=>{const i=t.map(l=>l.listeners.count),a=()=>{i.every(l=>0===l)&&t.every(l=>"Pending"===l.result.state.current._tag||!("Done"!==l.result.state.current._tag||!Yy(l.result.state.current.effect)||"Failure"!==l.result.state.current.effect._tag||!(e=>he(vfe(e)))(l.result.state.current.effect.cause)))&&(c.forEach(l=>l()),n?.(),s((e=>b(vu,t=>_(e,so(t))))(o)))};o.addObserver(l=>{c.forEach(u=>u()),s(l)});const c=t.map((l,u)=>{const d=f=>{i[u]=f,a()};return l.listeners.addObserver(d),()=>l.listeners.removeObserver(d)});return a(),R(()=>{c.forEach(l=>l())})})),()=>z(()=>{const o=t.flatMap(s=>s.state.completed?[]:[s]);return Lo(o,s=>lc(s.request,(e=>ye(cr(e)))(r)))}))),owe=(e,t)=>e.close(t),swe=(e,t)=>e.fork(t),ab=e=>(t,n)=>{const r=rU(),o=[[jo,[[r,e.context]]]];n?.scheduler&&o.push([Dv,[[r,n.scheduler]]]);let s=dge(e.fiberRefs,{entries:o,forkAs:r});n?.updateRefs&&(s=n.updateRefs(s,r));const i=new Rq(r,s,e.runtimeFlags);let a=t;n?.scope&&(a=b(swe(n.scope,Ou),l=>ke(((e,t)=>e.addFinalizer(()=>Jt(t)))(l,Cs(u=>H(u,i.id())?ee:so(i,u))),oo(t,u=>owe(l,u)))));const c=i.currentSupervisor;return c!==qv&&(c.onStart(e.context,a,T(),i),i.addObserver(l=>c.onEnd(l,i))),ju.add(e.runtimeFlags,i),!1===n?.immediate?i.resume(a):i.start(a),i};Error;const cb=Symbol.for("effect/Runtime/FiberFailure"),DT=Symbol.for("effect/Runtime/FiberFailure/Cause");class lwe extends Error{[cb];[DT];constructor(t){super(),this[cb]=cb,this[DT]=t;const n=rH(t);if(n.length>0){const r=n[0];this.name=r.name,this.message=r.message,this.stack=r.stack}this.name=`(FiberFailure) ${this.name}`,(void 0===this.message||0===this.message.length)&&(this.message="An error has occurred")}toJSON(){return{_id:"FiberFailure",cause:this[DT].toJSON()}}toString(){return"(FiberFailure) "+(this.stack??this.message)}[$e](){return this.toString()}}const uwe=e=>(t,n)=>Uz(e)(t,n).then(r=>{switch(r._tag){case ze:return r.effect_instruction_i0;case qe:throw(e=>{const t=Error.stackTraceLimit;Error.stackTraceLimit=0;const n=new lwe(e);return Error.stackTraceLimit=t,n})(r.effect_instruction_i0)}}),Uz=e=>(t,n)=>new Promise(r=>{const o=(e=>{const t=e;switch(t._op){case"Failure":case"Success":return t;case"Left":return Ja(t.left);case"Right":return Me(t.right);case"Some":return Me(t.value);case"None":return Ja(vi())}})(t);o&&r(o);const s=ab(e)(t);s.addObserver(i=>{r(i)}),void 0!==n?.signal&&(n.signal.aborted?s.unsafeInterruptAsFork(s.id()):n.signal.addEventListener("abort",()=>{s.unsafeInterruptAsFork(s.id())},{once:!0}))});class Hz{context;runtimeFlags;fiberRefs;constructor(t,n,r){this.context=t,this.runtimeFlags=n,this.fiberRefs=r}pipe(){return W(this,arguments)}}const pwe=uwe((e=>new Hz(e.context,e.runtimeFlags,e.fiberRefs))({context:Ia(),runtimeFlags:kU(1,32,4),fiberRefs:fge()}));Symbol;Symbol;const dDe=e=>{let t,n;return"function"==typeof e?t=e:(t=e.try,n=e.catch),ro(t.length>=1?(r,o)=>{try{t(o).then(s=>r(Me(s)),s=>r(n?Ar(()=>n(s)):ue(new Ya(s))))}catch(s){r(n?Ar(()=>n(s)):ue(new Ya(s)))}}:r=>{try{t().then(o=>r(Me(o)),o=>r(n?Ar(()=>n(o)):ue(new Ya(o))))}catch(o){r(n?Ar(()=>n(o)):ue(new Ya(o)))}})},fDe=pwe;let _W=(()=>{class e{constructor(n){this.http=n,this.genresUrl="api/genres"}getGenres(){const n=dDe({try:()=>function pDe(e,t){const n="object"==typeof t;return new Promise((r,o)=>{let i,s=!1;e.subscribe({next:a=>{i=a,s=!0},error:o,complete:()=>{s?r(i):n?r(t.defaultValue):o(new Af)}})})}(this.http.get(this.genresUrl)),catch:()=>new Error("Can't get genres")});return fDe(n)}static{this.\u0275fac=function(r){return new(r||e)(j(U2))}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),gDe=(()=>{class e{constructor(n){this.loader=n}intercept(n,r){return this.loader.start(),r.handle(n).pipe(Dl(()=>this.loader.complete()))}static{this.\u0275fac=function(r){return new(r||e)(j(Pw))}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac})}}return e})();const _De=[{path:"",component:Xie},{path:"add-beat",component:(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=zo({type:e,selectors:[["app-beat-creator"]],standalone:!0,features:[sa],decls:2,vars:0,template:function(r,o){1&r&&(Re(0,"p"),br(1,"Welcome to the beat creator, Let us make some music ! \u{1f3b6}\u{1f3b6}"),Fe())}})}}return e})()}];let yDe=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=Wo({type:e,bootstrap:[Goe]})}static{this.\u0275inj=co({providers:[{provide:_D,useClass:_W},{provide:q2,useClass:gDe,multi:!0},Voe(_De),bse(va(si.LegacyInterceptors,[{provide:Q2,useFactory:lse},{provide:Kf,useExisting:Q2,multi:!0}])),{provide:_D,useClass:_W},iV.forRoot(aV,{dataEncapsulation:!1}).providers],imports:[Jee,Mne,hj,iV.forRoot(aV,{dataEncapsulation:!1})]})}}return e})();Yee().bootstrapModule(yDe).catch(e=>console.error(e))}},ed=>{ed(ed.s=928)}]);