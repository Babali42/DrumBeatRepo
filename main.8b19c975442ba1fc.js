"use strict";(self.webpackChunkDrumBeatRepo=self.webpackChunkDrumBeatRepo||[]).push([[792],{928:()=>{function Vu(e,t,n,r,o,s,i){try{var a=e[s](i),c=a.value}catch(l){return void n(l)}a.done?t(c):Promise.resolve(c).then(r,o)}function jo(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var s=e.apply(t,n);function i(c){Vu(s,r,o,i,a,"next",c)}function a(c){Vu(s,r,o,i,a,"throw",c)}i(void 0)})}}let vt=null,dp=1;const Ai=Symbol("SIGNAL");function ue(e){const t=vt;return vt=e,t}function j0(e){if((!Bu(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==dp)){if(!e.producerMustRecompute(e)&&!kv(e))return e.dirty=!1,void(e.lastCleanEpoch=dp);e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=dp}}function kv(e){nc(e);for(let t=0;t<e.producerNode.length;t++){const n=e.producerNode[t],r=e.producerLastReadVersion[t];if(r!==n.version||(j0(n),r!==n.version))return!0}return!1}function fp(e,t){if(function G0(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}(e),nc(e),1===e.liveConsumerNode.length)for(let r=0;r<e.producerNode.length;r++)fp(e.producerNode[r],e.producerIndexOfThis[r]);const n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){const r=e.liveConsumerIndexOfThis[t],o=e.liveConsumerNode[t];nc(o),o.producerIndexOfThis[r]=t}}function Bu(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function nc(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}let X0=null;function nt(e){return"function"==typeof e}function xv(e){const n=e(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const Fv=xv(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,o)=>`${o+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function hp(e,t){if(e){const n=e.indexOf(t);0<=n&&e.splice(n,1)}}class bn{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(nt(r))try{r()}catch(s){t=s instanceof Fv?s.errors:[s]}const{_finalizers:o}=this;if(o){this._finalizers=null;for(const s of o)try{Z0(s)}catch(i){t=t??[],i instanceof Fv?t=[...t,...i.errors]:t.push(i)}}if(t)throw new Fv(t)}}add(t){var n;if(t&&t!==this)if(this.closed)Z0(t);else{if(t instanceof bn){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}}_hasParent(t){const{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){const{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&hp(n,t)}remove(t){const{_finalizers:n}=this;n&&hp(n,t),t instanceof bn&&t._removeParent(this)}}bn.EMPTY=(()=>{const e=new bn;return e.closed=!0,e})();const Q0=bn.EMPTY;function J0(e){return e instanceof bn||e&&"closed"in e&&nt(e.remove)&&nt(e.add)&&nt(e.unsubscribe)}function Z0(e){nt(e)?e():e.unsubscribe()}const ki={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},pp={setTimeout(e,t,...n){const{delegate:r}=pp;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){const{delegate:t}=pp;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function eT(e){pp.setTimeout(()=>{const{onUnhandledError:t}=ki;if(!t)throw e;t(e)})}function Pv(){}const Zq=Lv("C",void 0,void 0);function Lv(e,t,n){return{kind:e,value:t,error:n}}let Ni=null;function gp(e){if(ki.useDeprecatedSynchronousErrorHandling){const t=!Ni;if(t&&(Ni={errorThrown:!1,error:null}),e(),t){const{errorThrown:n,error:r}=Ni;if(Ni=null,n)throw r}}else e()}class Vv extends bn{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,J0(t)&&t.add(this)):this.destination=iz}static create(t,n,r){return new Uu(t,n,r)}next(t){this.isStopped?Bv(function tz(e){return Lv("N",e,void 0)}(t),this):this._next(t)}error(t){this.isStopped?Bv(function ez(e){return Lv("E",void 0,e)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Bv(Zq,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const rz=Function.prototype.bind;function jv(e,t){return rz.call(e,t)}class oz{constructor(t){this.partialObserver=t}next(t){const{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){mp(r)}}error(t){const{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){mp(r)}else mp(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){mp(n)}}}class Uu extends Vv{constructor(t,n,r){let o;if(super(),nt(t)||!t)o={next:t??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&ki.useDeprecatedNextContext?(s=Object.create(t),s.unsubscribe=()=>this.unsubscribe(),o={next:t.next&&jv(t.next,s),error:t.error&&jv(t.error,s),complete:t.complete&&jv(t.complete,s)}):o=t}this.destination=new oz(o)}}function mp(e){ki.useDeprecatedSynchronousErrorHandling?function nz(e){ki.useDeprecatedSynchronousErrorHandling&&Ni&&(Ni.errorThrown=!0,Ni.error=e)}(e):eT(e)}function Bv(e,t){const{onStoppedNotification:n}=ki;n&&pp.setTimeout(()=>n(e,t))}const iz={closed:!0,next:Pv,error:function sz(e){throw e},complete:Pv},Uv="function"==typeof Symbol&&Symbol.observable||"@@observable";function xi(e){return e}function tT(e){return 0===e.length?xi:1===e.length?e[0]:function(n){return e.reduce((r,o)=>o(r),n)}}let We=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,o){const s=function lz(e){return e&&e instanceof Vv||function cz(e){return e&&nt(e.next)&&nt(e.error)&&nt(e.complete)}(e)&&J0(e)}(n)?n:new Uu(n,r,o);return gp(()=>{const{operator:i,source:a}=this;s.add(i?i.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=nT(r))((o,s)=>{const i=new Uu({next:a=>{try{n(a)}catch(c){s(c),i.unsubscribe()}},error:s,complete:o});this.subscribe(i)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[Uv](){return this}pipe(...n){return tT(n)(this)}toPromise(n){return new(n=nT(n))((r,o)=>{let s;this.subscribe(i=>s=i,i=>o(i),()=>r(s))})}}return e.create=t=>new e(t),e})();function nT(e){var t;return null!==(t=e??ki.Promise)&&void 0!==t?t:Promise}const uz=xv(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Xt=(()=>{class e extends We{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new rT(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new uz}next(n){gp(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){gp(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){gp(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:o,observers:s}=this;return r||o?Q0:(this.currentObservers=null,s.push(n),new bn(()=>{this.currentObservers=null,hp(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:o,isStopped:s}=this;r?n.error(o):s&&n.complete()}asObservable(){const n=new We;return n.source=this,n}}return e.create=(t,n)=>new rT(t,n),e})();class rT extends Xt{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,t)}error(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,t)}complete(){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===n||n.call(t)}_subscribe(t){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(t))&&void 0!==r?r:Q0}}class Nn extends Xt{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){const{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}function oT(e){return nt(e?.lift)}function Ft(e){return t=>{if(oT(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Tt(e,t,n,r,o){return new dz(e,t,n,r,o)}class dz extends Vv{constructor(t,n,r,o,s,i){super(t),this.onFinalize=s,this.shouldUnsubscribe=i,this._next=n?function(a){try{n(a)}catch(c){t.error(c)}}:super._next,this._error=o?function(a){try{o(a)}catch(c){t.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function ie(e,t){return Ft((n,r)=>{let o=0;n.subscribe(Tt(r,s=>{r.next(e.call(t,s,o++))}))})}class M extends Error{constructor(t,n){super(function rc(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}(t,n)),this.code=t}}function Bo(e){return{toString:e}.toString()}const sc="__parameters__";function ac(e,t,n){return Bo(()=>{const r=function $v(e){return function(...n){if(e){const r=e(...n);for(const o in r)this[o]=r[o]}}}(t);function o(...s){if(this instanceof o)return r.apply(this,s),this;const i=new o(...s);return a.annotation=i,a;function a(c,l,u){const d=c.hasOwnProperty(sc)?c[sc]:Object.defineProperty(c,sc,{value:[]})[sc];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(i),c}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=e,o.annotationCls=o,o})}const ke=globalThis;function Pe(e){for(let t in e)if(e[t]===Pe)return t;throw Error("Could not find renamed property on target object.")}function fz(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function Pt(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(Pt).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function Hv(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const hz=Pe({__forward_ref__:Pe});function Ge(e){return e.__forward_ref__=Ge,e.toString=function(){return Pt(this())},e}function X(e){return yp(e)?e():e}function yp(e){return"function"==typeof e&&e.hasOwnProperty(hz)&&e.__forward_ref__===Ge}function L(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Vr(e){return{providers:e.providers||[],imports:e.imports||[]}}function vp(e){return lT(e,Ep)||lT(e,uT)}function lT(e,t){return e.hasOwnProperty(t)?e[t]:null}function bp(e){return e&&(e.hasOwnProperty(qv)||e.hasOwnProperty(vz))?e[qv]:null}const Ep=Pe({\u0275prov:Pe}),qv=Pe({\u0275inj:Pe}),uT=Pe({ngInjectableDef:Pe}),vz=Pe({ngInjectorDef:Pe});class P{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=L({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Kv(e){return e&&!!e.\u0275providers}const $u=Pe({\u0275cmp:Pe}),Yv=Pe({\u0275dir:Pe}),Qv=Pe({\u0275pipe:Pe}),fT=Pe({\u0275mod:Pe}),Uo=Pe({\u0275fac:Pe}),Hu=Pe({__NG_ELEMENT_ID__:Pe}),hT=Pe({__NG_ENV_ID__:Pe});function ne(e){return"string"==typeof e?e:null==e?"":String(e)}function Jv(e,t){throw new M(-201,!1)}var pe=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(pe||{});let Zv;function pT(){return Zv}function xn(e){const t=Zv;return Zv=e,t}function gT(e,t,n){const r=vp(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&pe.Optional?null:void 0!==t?t:void Jv()}const qu={},eb="__NG_DI_FLAG__",Cp="ngTempTokenPath",Dz=/\n/gm,mT="__source";let cc;function Ns(e){const t=cc;return cc=e,t}function Tz(e,t=pe.Default){if(void 0===cc)throw new M(-203,!1);return null===cc?gT(e,void 0,t):cc.get(e,t&pe.Optional?null:void 0,t)}function j(e,t=pe.Default){return(pT()||Tz)(X(e),t)}function N(e,t=pe.Default){return j(e,Sp(t))}function Sp(e){return typeof e>"u"||"number"==typeof e?e:(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function tb(e){const t=[];for(let n=0;n<e.length;n++){const r=X(e[n]);if(Array.isArray(r)){if(0===r.length)throw new M(900,!1);let o,s=pe.Default;for(let i=0;i<r.length;i++){const a=r[i],c=Rz(a);"number"==typeof c?-1===c?o=a.token:s|=c:o=a}t.push(j(o,s))}else t.push(j(r))}return t}function zu(e,t){return e[eb]=t,e.prototype[eb]=t,e}function Rz(e){return e[eb]}const nb=zu(ac("Optional"),8),rb=zu(ac("SkipSelf"),4);function Fi(e,t){return e.hasOwnProperty(Uo)?e[Uo]:null}function lc(e,t){e.forEach(n=>Array.isArray(n)?lc(n,t):t(n))}function yT(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function wp(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Wn(e,t,n){let r=uc(e,t);return r>=0?e[1|r]=n:(r=~r,function vT(e,t,n,r){let o=e.length;if(o==t)e.push(n,r);else if(1===o)e.push(r,e[0]),e[0]=n;else{for(o--,e.push(e[o-1],e[o]);o>t;)e[o]=e[o-2],o--;e[t]=n,e[t+1]=r}}(e,r,t,n)),r}function sb(e,t){const n=uc(e,t);if(n>=0)return e[1|n]}function uc(e,t){return function bT(e,t,n){let r=0,o=e.length>>n;for(;o!==r;){const s=r+(o-r>>1),i=e[s<<n];if(t===i)return s<<n;i>t?o=s:r=s+1}return~(o<<n)}(e,t,1)}const so={},Se=[],Pi=new P(""),ET=new P("",-1),ib=new P("");class Mp{get(t,n=qu){if(n===qu){const r=new Error(`NullInjectorError: No provider for ${Pt(t)}!`);throw r.name="NullInjectorError",r}return n}}var Ip=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Ip||{}),jr=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(jr||{}),rt=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(rt||{});function Pz(e,t,n){let r=e.length;for(;;){const o=e.indexOf(t,n);if(-1===o)return o;if(0===o||e.charCodeAt(o-1)<=32){const s=t.length;if(o+s===r||e.charCodeAt(o+s)<=32)return o}n=o+1}}function ab(e,t,n){let r=0;for(;r<n.length;){const o=n[r];if("number"==typeof o){if(0!==o)break;r++;const s=n[r++],i=n[r++],a=n[r++];e.setAttribute(t,i,a,s)}else{const s=o,i=n[++r];ST(s)?e.setProperty(t,s,i):e.setAttribute(t,s,i),r++}}return r}function CT(e){return 3===e||4===e||6===e}function ST(e){return 64===e.charCodeAt(0)}function Wu(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const o=t[r];"number"==typeof o?n=o:0===n||wT(e,n,o,null,-1===n||2===n?t[++r]:null)}}return e}function wT(e,t,n,r,o){let s=0,i=e.length;if(-1===t)i=-1;else for(;s<e.length;){const a=e[s++];if("number"==typeof a){if(a===t){i=-1;break}if(a>t){i=s-1;break}}}for(;s<e.length;){const a=e[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==o&&(e[s+1]=o));if(r===e[s+1])return void(e[s+2]=o)}s++,null!==r&&s++,null!==o&&s++}-1!==i&&(e.splice(i,0,t),s=i+1),e.splice(s++,0,n),null!==r&&e.splice(s++,0,r),null!==o&&e.splice(s++,0,o)}const DT="ng-template";function Lz(e,t,n,r){let o=0;if(r){for(;o<t.length&&"string"==typeof t[o];o+=2)if("class"===t[o]&&-1!==Pz(t[o+1].toLowerCase(),n,0))return!0}else if(cb(e))return!1;if(o=t.indexOf(1,o),o>-1){let s;for(;++o<t.length&&"string"==typeof(s=t[o]);)if(s.toLowerCase()===n)return!0}return!1}function cb(e){return 4===e.type&&e.value!==DT}function Vz(e,t,n){return t===(4!==e.type||n?e.value:DT)}function jz(e,t,n){let r=4;const o=e.attrs,s=null!==o?function $z(e){for(let t=0;t<e.length;t++)if(CT(e[t]))return t;return e.length}(o):0;let i=!1;for(let a=0;a<t.length;a++){const c=t[a];if("number"!=typeof c){if(!i)if(4&r){if(r=2|1&r,""!==c&&!Vz(e,c,n)||""===c&&1===t.length){if(Br(r))return!1;i=!0}}else if(8&r){if(null===o||!Lz(e,o,c,n)){if(Br(r))return!1;i=!0}}else{const l=t[++a],u=Bz(c,o,cb(e),n);if(-1===u){if(Br(r))return!1;i=!0;continue}if(""!==l){let d;if(d=u>s?"":o[u+1].toLowerCase(),2&r&&l!==d){if(Br(r))return!1;i=!0}}}}else{if(!i&&!Br(r)&&!Br(c))return!1;if(i&&Br(c))continue;i=!1,r=c|1&r}}return Br(r)||i}function Br(e){return!(1&e)}function Bz(e,t,n,r){if(null===t)return-1;let o=0;if(r||!n){let s=!1;for(;o<t.length;){const i=t[o];if(i===e)return o;if(3===i||6===i)s=!0;else{if(1===i||2===i){let a=t[++o];for(;"string"==typeof a;)a=t[++o];continue}if(4===i)break;if(0===i){o+=4;continue}}o+=s?1:2}return-1}return function Hz(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function MT(e,t,n=!1){for(let r=0;r<t.length;r++)if(jz(e,t[r],n))return!0;return!1}function IT(e,t){return e?":not("+t.trim()+")":t}function zz(e){let t=e[0],n=1,r=2,o="",s=!1;for(;n<e.length;){let i=e[n];if("string"==typeof i)if(2&r){const a=e[++n];o+="["+i+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?o+="."+i:4&r&&(o+=" "+i);else""!==o&&!Br(i)&&(t+=IT(s,o),o=""),r=i,s=s||!Br(r);n++}return""!==o&&(t+=IT(s,o)),t}function $o(e){return Bo(()=>{const t=RT(e),n={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Ip.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||jr.Emulated,styles:e.styles||Se,_:null,schemas:e.schemas||null,tView:null,id:""};OT(n);const r=e.dependencies;return n.directiveDefs=Tp(r,!1),n.pipeDefs=Tp(r,!0),n.id=function Qz(e){let t=0;const n=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const o of n)t=Math.imul(31,t)+o.charCodeAt(0)|0;return t+=2147483648,"c"+t}(n),n})}function Xz(e){return he(e)||Lt(e)}function Kz(e){return null!==e}function io(e){return Bo(()=>({type:e.type,bootstrap:e.bootstrap||Se,declarations:e.declarations||Se,imports:e.imports||Se,exports:e.exports||Se,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function TT(e,t){if(null==e)return so;const n={};for(const r in e)if(e.hasOwnProperty(r)){const o=e[r];let s,i,a=rt.None;Array.isArray(o)?(a=o[0],s=o[1],i=o[2]??s):(s=o,i=o),t?(n[s]=a!==rt.None?[r,a]:r,t[s]=i):n[s]=r}return n}function ee(e){return Bo(()=>{const t=RT(e);return OT(t),t})}function Pn(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function he(e){return e[$u]||null}function Lt(e){return e[Yv]||null}function rn(e){return e[Qv]||null}function cn(e,t){const n=e[fT]||null;if(!n&&!0===t)throw new Error(`Type ${Pt(e)} does not have '\u0275mod' property.`);return n}function RT(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||so,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||Se,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:TT(e.inputs,t),outputs:TT(e.outputs),debugInfo:null}}function OT(e){e.features?.forEach(t=>t(e))}function Tp(e,t){if(!e)return null;const n=t?rn:Xz;return()=>("function"==typeof e?e():e).map(r=>n(r)).filter(Kz)}function dc(e){return{\u0275providers:e}}function Jz(...e){return{\u0275providers:lb(0,e),\u0275fromNgModule:!0}}function lb(e,...t){const n=[],r=new Set;let o;const s=i=>{n.push(i)};return lc(t,i=>{const a=i;Rp(a,s,[],r)&&(o||=[],o.push(a))}),void 0!==o&&AT(o,s),n}function AT(e,t){for(let n=0;n<e.length;n++){const{ngModule:r,providers:o}=e[n];ub(o,s=>{t(s,r)})}}function Rp(e,t,n,r){if(!(e=X(e)))return!1;let o=null,s=bp(e);const i=!s&&he(e);if(s||i){if(i&&!i.standalone)return!1;o=e}else{const c=e.ngModule;if(s=bp(c),!s)return!1;o=c}const a=r.has(o);if(i){if(a)return!1;if(r.add(o),i.dependencies){const c="function"==typeof i.dependencies?i.dependencies():i.dependencies;for(const l of c)Rp(l,t,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let l;r.add(o);try{lc(s.imports,u=>{Rp(u,t,n,r)&&(l||=[],l.push(u))})}finally{}void 0!==l&&AT(l,t)}if(!a){const l=Fi(o)||(()=>new o);t({provide:o,useFactory:l,deps:Se},o),t({provide:ib,useValue:o,multi:!0},o),t({provide:Pi,useValue:()=>j(o),multi:!0},o)}const c=s.providers;if(null!=c&&!a){const l=e;ub(c,u=>{t(u,l)})}}}return o!==e&&void 0!==e.providers}function ub(e,t){for(let n of e)Kv(n)&&(n=n.\u0275providers),Array.isArray(n)?ub(n,t):t(n)}const Zz=Pe({provide:String,useValue:Pe});function db(e){return null!==e&&"object"==typeof e&&Zz in e}function Li(e){return"function"==typeof e}const fb=new P(""),Op={},tW={};let hb;function Ap(){return void 0===hb&&(hb=new Mp),hb}class Gn{}class fc extends Gn{get destroyed(){return this._destroyed}constructor(t,n,r,o){super(),this.parent=n,this.source=r,this.scopes=o,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,gb(t,i=>this.processProvider(i)),this.records.set(ET,hc(void 0,this)),o.has("environment")&&this.records.set(Gn,hc(void 0,this));const s=this.records.get(fb);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(ib,Se,pe.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const t=ue(null);try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ue(t)}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const n=Ns(this),r=xn(void 0);try{return t()}finally{Ns(n),xn(r)}}get(t,n=qu,r=pe.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(hT))return t[hT](this);r=Sp(r);const s=Ns(this),i=xn(void 0);try{if(!(r&pe.SkipSelf)){let c=this.records.get(t);if(void 0===c){const l=function iW(e){return"function"==typeof e||"object"==typeof e&&e instanceof P}(t)&&vp(t);c=l&&this.injectableDefInScope(l)?hc(pb(t),Op):null,this.records.set(t,c)}if(null!=c)return this.hydrate(t,c)}return(r&pe.Self?Ap():this.parent).get(t,n=r&pe.Optional&&n===qu?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[Cp]=a[Cp]||[]).unshift(Pt(t)),s)throw a;return function Oz(e,t,n,r){const o=e[Cp];throw t[mT]&&o.unshift(t[mT]),e.message=function Az(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let o=Pt(t);if(Array.isArray(t))o=t.map(Pt).join(" -> ");else if("object"==typeof t){let s=[];for(let i in t)if(t.hasOwnProperty(i)){let a=t[i];s.push(i+":"+("string"==typeof a?JSON.stringify(a):Pt(a)))}o=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${o}]: ${e.replace(Dz,"\n  ")}`}("\n"+e.message,o,n,r),e.ngTokenPath=o,e[Cp]=null,e}(a,t,"R3InjectorError",this.source)}throw a}finally{xn(i),Ns(s)}}resolveInjectorInitializers(){const t=ue(null),n=Ns(this),r=xn(void 0);try{const s=this.get(Pi,Se,pe.Self);for(const i of s)i()}finally{Ns(n),xn(r),ue(t)}}toString(){const t=[],n=this.records;for(const r of n.keys())t.push(Pt(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new M(205,!1)}processProvider(t){let n=Li(t=X(t))?t:X(t&&t.provide);const r=function rW(e){return db(e)?hc(void 0,e.useValue):hc(xT(e),Op)}(t);if(!Li(t)&&!0===t.multi){let o=this.records.get(n);o||(o=hc(void 0,Op,!0),o.factory=()=>tb(o.multi),this.records.set(n,o)),n=t,o.multi.push(t)}this.records.set(n,r)}hydrate(t,n){const r=ue(null);try{return n.value===Op&&(n.value=tW,n.value=n.factory()),"object"==typeof n.value&&n.value&&function sW(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{ue(r)}}injectableDefInScope(t){if(!t.providedIn)return!1;const n=X(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){const n=this._onDestroyHooks.indexOf(t);-1!==n&&this._onDestroyHooks.splice(n,1)}}function pb(e){const t=vp(e),n=null!==t?t.factory:Fi(e);if(null!==n)return n;if(e instanceof P)throw new M(204,!1);if(e instanceof Function)return function nW(e){if(e.length>0)throw new M(204,!1);const n=function yz(e){return e&&(e[Ep]||e[uT])||null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new M(204,!1)}function xT(e,t,n){let r;if(Li(e)){const o=X(e);return Fi(o)||pb(o)}if(db(e))r=()=>X(e.useValue);else if(function NT(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...tb(e.deps||[]));else if(function kT(e){return!(!e||!e.useExisting)}(e))r=()=>j(X(e.useExisting));else{const o=X(e&&(e.useClass||e.provide));if(!function oW(e){return!!e.deps}(e))return Fi(o)||pb(o);r=()=>new o(...tb(e.deps))}return r}function hc(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function gb(e,t){for(const n of e)Array.isArray(n)?gb(n,t):n&&Kv(n)?gb(n.\u0275providers,t):t(n)}function Ho(e,t){e instanceof fc&&e.assertNotDestroyed();const r=Ns(e),o=xn(void 0);try{return t()}finally{Ns(r),xn(o)}}const it=0,x=1,H=2,bt=3,Ur=4,ln=5,Xn=6,gc=7,Xe=8,Rt=9,$r=10,K=11,Xu=12,LT=13,mc=14,ht=15,Ku=16,_c=17,qo=18,Yu=19,VT=20,Fs=21,xp=22,Vi=23,re=25,_b=1,ao=7,yc=9,Et=10;var yb=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(yb||{});function un(e){return Array.isArray(e)&&"object"==typeof e[_b]}function dn(e){return Array.isArray(e)&&!0===e[_b]}function vb(e){return!!(4&e.flags)}function ji(e){return e.componentOffset>-1}function Pp(e){return!(1&~e.flags)}function Hr(e){return!!e.template}function bb(e){return!!(512&e[H])}class vW{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function $T(e,t,n,r){null!==t?t.applyValueToInputSignal(t,r):e[n]=r}function pr(){return HT}function HT(e){return e.type.prototype.ngOnChanges&&(e.setInput=EW),bW}function bW(){const e=zT(this),t=e?.current;if(t){const n=e.previous;if(n===so)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function EW(e,t,n,r,o){const s=this.declaredInputs[r],i=zT(e)||function CW(e,t){return e[qT]=t}(e,{previous:so,current:null}),a=i.current||(i.current={}),c=i.previous,l=c[s];a[s]=new vW(l&&l.currentValue,n,c===so),$T(e,t,o,n)}pr.ngInherit=!0;const qT="__ngSimpleChanges__";function zT(e){return e[qT]||null}const co=function(e,t,n){};let XT=!1;function Ve(e){for(;Array.isArray(e);)e=e[it];return e}function Ju(e,t){return Ve(t[e])}function En(e,t){return Ve(t[e.index])}function Zu(e,t){return e.data[t]}function Kn(e,t){const n=t[e];return un(n)?n:n[it]}function Db(e){return!(128&~e[H])}function lo(e,t){return null==t?null:e[t]}function KT(e){e[_c]=0}function TW(e){1024&e[H]||(e[H]|=1024,Db(e)&&ed(e))}function Mb(e){return!!(9216&e[H]||e[Vi]?.dirty)}function Ib(e){e[$r].changeDetectionScheduler?.notify(1),Mb(e)?ed(e):64&e[H]&&(function wW(){return XT}()?(e[H]|=1024,ed(e)):e[$r].changeDetectionScheduler?.notify())}function ed(e){e[$r].changeDetectionScheduler?.notify();let t=Bi(e);for(;null!==t&&!(8192&t[H])&&(t[H]|=8192,Db(t));)t=Bi(t)}function Lp(e,t){if(!(256&~e[H]))throw new M(911,!1);null===e[Fs]&&(e[Fs]=[]),e[Fs].push(t)}function Bi(e){const t=e[bt];return dn(t)?t[bt]:t}const Y={lFrame:sR(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function JT(){return Y.bindingsEnabled}function w(){return Y.lFrame.lView}function ge(){return Y.lFrame.tView}function Le(){let e=ZT();for(;null!==e&&64===e.type;)e=e.parent;return e}function ZT(){return Y.lFrame.currentTNode}function uo(e,t){const n=Y.lFrame;n.currentTNode=e,n.isParent=t}function Rb(){return Y.lFrame.isParent}function Ob(){Y.lFrame.isParent=!1}function qr(){return Y.lFrame.bindingIndex++}function UW(e,t){const n=Y.lFrame;n.bindingIndex=n.bindingRootIndex=e,Ab(t)}function Ab(e){Y.lFrame.currentDirectiveIndex=e}function Vp(e){Y.lFrame.currentQueryIndex=e}function HW(e){const t=e[x];return 2===t.type?t.declTNode:1===t.type?e[ln]:null}function rR(e,t,n){if(n&pe.SkipSelf){let o=t,s=e;for(;!(o=o.parent,null!==o||n&pe.Host||(o=HW(s),null===o||(s=s[mc],10&o.type))););if(null===o)return!1;t=o,e=s}const r=Y.lFrame=oR();return r.currentTNode=t,r.lView=e,!0}function xb(e){const t=oR(),n=e[x];Y.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function oR(){const e=Y.lFrame,t=null===e?null:e.child;return null===t?sR(e):t}function sR(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function iR(){const e=Y.lFrame;return Y.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const aR=iR;function Fb(){const e=iR();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function fn(){return Y.lFrame.selectedIndex}function Ui(e){Y.lFrame.selectedIndex=e}function Ke(){const e=Y.lFrame;return Zu(e.tView,e.selectedIndex)}let lR=!0;function nd(){return lR}function fo(e){lR=e}function jp(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const s=e.data[n].type.prototype,{ngAfterContentInit:i,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=s;i&&(e.contentHooks??=[]).push(-n,i),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),c&&(e.viewHooks??=[]).push(-n,c),l&&((e.viewHooks??=[]).push(n,l),(e.viewCheckHooks??=[]).push(n,l)),null!=u&&(e.destroyHooks??=[]).push(n,u)}}function Bp(e,t,n){uR(e,t,3,n)}function Up(e,t,n,r){(3&e[H])===n&&uR(e,t,n,r)}function Pb(e,t){let n=e[H];(3&n)===t&&(n&=16383,n+=1,e[H]=n)}function uR(e,t,n,r){const s=r??-1,i=t.length-1;let a=0;for(let c=void 0!==r?65535&e[_c]:0;c<i;c++)if("number"==typeof t[c+1]){if(a=t[c],null!=r&&a>=r)break}else t[c]<0&&(e[_c]+=65536),(a<s||-1==s)&&(YW(e,n,t,c),e[_c]=(4294901760&e[_c])+c+2),c++}function dR(e,t){co(4,e,t);const n=ue(null);try{t.call(e)}finally{ue(n),co(5,e,t)}}function YW(e,t,n,r){const o=n[r]<0,s=n[r+1],a=e[o?-n[r]:n[r]];o?e[H]>>14<e[_c]>>16&&(3&e[H])===t&&(e[H]+=16384,dR(a,s)):dR(a,s)}const Ec=-1;class rd{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function Vb(e){return e!==Ec}function od(e){return 32767&e}function sd(e,t){let n=function tG(e){return e>>16}(e),r=t;for(;n>0;)r=r[mc],n--;return r}let jb=!0;function $p(e){const t=jb;return jb=e,t}const fR=255,hR=5;let nG=0;const ho={};function Hp(e,t){const n=pR(e,t);if(-1!==n)return n;const r=t[x];r.firstCreatePass&&(e.injectorIndex=t.length,Bb(r.data,e),Bb(t,null),Bb(r.blueprint,null));const o=qp(e,t),s=e.injectorIndex;if(Vb(o)){const i=od(o),a=sd(o,t),c=a[x].data;for(let l=0;l<8;l++)t[s+l]=a[i+l]|c[i+l]}return t[s+8]=o,s}function Bb(e,t){e.push(0,0,0,0,0,0,0,0,t)}function pR(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function qp(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,o=t;for(;null!==o;){if(r=ER(o),null===r)return Ec;if(n++,o=o[mc],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Ec}function Ub(e,t,n){!function rG(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Hu)&&(r=n[Hu]),null==r&&(r=n[Hu]=nG++);const o=r&fR;t.data[e+(o>>hR)]|=1<<o}(e,t,n)}function gR(e,t,n){if(n&pe.Optional||void 0!==e)return e;Jv()}function mR(e,t,n,r){if(n&pe.Optional&&void 0===r&&(r=null),!(n&(pe.Self|pe.Host))){const o=e[Rt],s=xn(void 0);try{return o?o.get(t,r,n&pe.Optional):gT(t,r,n&pe.Optional)}finally{xn(s)}}return gR(r,0,n)}function _R(e,t,n,r=pe.Default,o){if(null!==e){if(2048&t[H]&&!(r&pe.Self)){const i=function cG(e,t,n,r,o){let s=e,i=t;for(;null!==s&&null!==i&&2048&i[H]&&!(512&i[H]);){const a=yR(s,i,n,r|pe.Self,ho);if(a!==ho)return a;let c=s.parent;if(!c){const l=i[VT];if(l){const u=l.get(n,ho,r);if(u!==ho)return u}c=ER(i),i=i[mc]}s=c}return o}(e,t,n,r,ho);if(i!==ho)return i}const s=yR(e,t,n,r,ho);if(s!==ho)return s}return mR(t,n,r,o)}function yR(e,t,n,r,o){const s=function iG(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Hu)?e[Hu]:void 0;return"number"==typeof t?t>=0?t&fR:aG:t}(n);if("function"==typeof s){if(!rR(t,e,r))return r&pe.Host?gR(o,0,r):mR(t,n,r,o);try{let i;if(i=s(r),null!=i||r&pe.Optional)return i;Jv()}finally{aR()}}else if("number"==typeof s){let i=null,a=pR(e,t),c=Ec,l=r&pe.Host?t[ht][ln]:null;for((-1===a||r&pe.SkipSelf)&&(c=-1===a?qp(e,t):t[a+8],c!==Ec&&bR(r,!1)?(i=t[x],a=od(c),t=sd(c,t)):a=-1);-1!==a;){const u=t[x];if(vR(s,a,u.data)){const d=sG(a,t,n,i,r,l);if(d!==ho)return d}c=t[a+8],c!==Ec&&bR(r,t[x].data[a+8]===l)&&vR(s,a,t)?(i=u,a=od(c),t=sd(c,t)):a=-1}}return o}function sG(e,t,n,r,o,s){const i=t[x],a=i.data[e+8],u=function zp(e,t,n,r,o){const s=e.providerIndexes,i=t.data,a=1048575&s,c=e.directiveStart,u=s>>20,f=o?a+u:e.directiveEnd;for(let p=r?a:a+u;p<f;p++){const g=i[p];if(p<c&&n===g||p>=c&&g.type===n)return p}if(o){const p=i[c];if(p&&Hr(p)&&p.type===n)return c}return null}(a,i,n,null==r?ji(a)&&jb:r!=i&&!!(3&a.type),o&pe.Host&&s===a);return null!==u?$i(t,i,u,a):ho}function $i(e,t,n,r){let o=e[n];const s=t.data;if(function QW(e){return e instanceof rd}(o)){const i=o;i.resolving&&function Cz(e,t){throw t&&t.join(" > "),new M(-200,e)}(function Me(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():ne(e)}(s[n]));const a=$p(i.canSeeViewProviders);i.resolving=!0;const l=i.injectImpl?xn(i.injectImpl):null;rR(e,r,pe.Default);try{o=e[n]=i.factory(void 0,s,e,r),t.firstCreatePass&&n>=r.directiveStart&&function KW(e,t,n){const{ngOnChanges:r,ngOnInit:o,ngDoCheck:s}=t.type.prototype;if(r){const i=HT(t);(n.preOrderHooks??=[]).push(e,i),(n.preOrderCheckHooks??=[]).push(e,i)}o&&(n.preOrderHooks??=[]).push(0-e,o),s&&((n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s))}(n,s[n],t)}finally{null!==l&&xn(l),$p(a),i.resolving=!1,aR()}}return o}function vR(e,t,n){return!!(n[t+(e>>hR)]&1<<e)}function bR(e,t){return!(e&pe.Self||e&pe.Host&&t)}class jt{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return _R(this._tNode,this._lView,t,Sp(r),n)}}function aG(){return new jt(Le(),w())}function Bt(e){return Bo(()=>{const t=e.prototype.constructor,n=t[Uo]||$b(t),r=Object.prototype;let o=Object.getPrototypeOf(e.prototype).constructor;for(;o&&o!==r;){const s=o[Uo]||$b(o);if(s&&s!==n)return s;o=Object.getPrototypeOf(o)}return s=>new s})}function $b(e){return yp(e)?()=>{const t=$b(X(e));return t&&t()}:Fi(e)}function ER(e){const t=e[x],n=t.type;return 2===n?t.declTNode:1===n?e[ln]:null}function MR(e,t=null,n=null,r){const o=IR(e,t,n,r);return o.resolveInjectorInitializers(),o}function IR(e,t=null,n=null,r,o=new Set){const s=[n||Se,Jz(e)];return r=r||("object"==typeof e?void 0:Pt(e)),new fc(s,t||Ap(),r||null,o)}let Ln=(()=>{class e{static{this.THROW_IF_NOT_FOUND=qu}static{this.NULL=new Mp}static create(n,r){if(Array.isArray(n))return MR({name:""},r,n,"");{const o=n.name??"";return MR({name:o},n.parent,n.providers,o)}}static{this.\u0275prov=L({token:e,providedIn:"any",factory:()=>j(ET)})}static{this.__NG_ELEMENT_ID__=-1}}return e})();function qb(e){return e.ngOriginalError}class po{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&qb(t);for(;n&&qb(n);)n=qb(n);return n||null}}const RR=new P("",{providedIn:"root",factory:()=>N(po).handleError.bind(void 0)});let wc=(()=>{class e{static{this.__NG_ELEMENT_ID__=_G}static{this.__NG_ENV_ID__=n=>n}}return e})();class mG extends wc{constructor(t){super(),this._lView=t}onDestroy(t){return Lp(this._lView,t),()=>function Tb(e,t){if(null===e[Fs])return;const n=e[Fs].indexOf(t);-1!==n&&e[Fs].splice(n,1)}(this._lView,t)}}function _G(){return new mG(w())}function yG(){return Dc(Le(),w())}function Dc(e,t){return new Yn(En(e,t))}let Yn=(()=>{class e{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=yG}}return e})();function zb(e){return t=>{setTimeout(e,void 0,t)}}const at=class vG extends Xt{constructor(t=!1){super(),this.destroyRef=void 0,this.__isAsync=t,function FT(){return void 0!==pT()||null!=function Iz(){return cc}()}()&&(this.destroyRef=N(wc,{optional:!0})??void 0)}emit(t){const n=ue(null);try{super.next(t)}finally{ue(n)}}subscribe(t,n,r){let o=t,s=n||(()=>null),i=r;if(t&&"object"==typeof t){const c=t;o=c.next?.bind(c),s=c.error?.bind(c),i=c.complete?.bind(c)}this.__isAsync&&(s=zb(s),o&&(o=zb(o)),i&&(i=zb(i)));const a=super.subscribe({next:o,error:s,complete:i});return t instanceof bn&&t.add(a),a}};function Gp(e){return!(128&~e.flags)}const Gb=new Map;let CG=0;const Kb="__ngContext__";function hn(e,t){un(t)?(e[Kb]=t[Yu],function wG(e){Gb.set(e[Yu],e)}(t)):e[Kb]=t}function UR(e){return HR(e[Xu])}function $R(e){return HR(e[Ur])}function HR(e){for(;null!==e&&!dn(e);)e=e[Ur];return e}let Yb;const Yp=new P("",{providedIn:"root",factory:()=>$G}),$G="ng",QR=new P(""),Go=new P("",{providedIn:"platform",factory:()=>"unknown"}),Qb=new P("",{providedIn:"root",factory:()=>function Ps(){if(void 0!==Yb)return Yb;if(typeof document<"u")return document;throw new M(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let JR=()=>null;function sE(e,t,n=!1){return JR(e,t,n)}const rO=new P("",{providedIn:"root",factory:()=>!1});class cO{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}const I4=/^>|^->|<!--|-->|--!>|<!-$/g,T4=/(<|>)/g,R4="\u200b$1\u200b";function SO(e){return e.ownerDocument.defaultView}function wO(e){return e.ownerDocument}function Qn(e){return e instanceof Function?e():e}var Vs=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Vs||{});let yE;function vE(e,t){return yE(e,t)}function Ac(e,t,n,r,o){if(null!=r){let s,i=!1;dn(r)?s=r:un(r)&&(i=!0,r=r[it]);const a=Ve(r);0===e&&null!==n?null==o?NO(t,n,a):Hi(t,n,a,o||null,!0):1===e&&null!==n?Hi(t,n,a,o||null,!0):2===e?function yd(e,t,n){const r=ug(e,t);r&&function W4(e,t,n,r){e.removeChild(t,n,r)}(e,r,t,n)}(t,a,i):3===e&&t.destroyNode(a),null!=s&&function K4(e,t,n,r,o){const s=n[ao];s!==Ve(n)&&Ac(t,e,r,s,o);for(let a=Et;a<n.length;a++){const c=n[a];fg(c[x],c,e,t,r,s)}}(t,e,s,n,o)}}function EE(e,t){return e.createComment(function bO(e){return e.replace(I4,t=>t.replace(T4,R4))}(t))}function cg(e,t,n){return e.createElement(t,n)}function OO(e,t){t[$r].changeDetectionScheduler?.notify(1),fg(e,t,t[K],2,null,null)}function AO(e,t){const n=e[yc],r=n.indexOf(t);n.splice(r,1)}function md(e,t){if(e.length<=Et)return;const n=Et+t,r=e[n];if(r){const o=r[Ku];null!==o&&o!==e&&AO(o,r),t>0&&(e[n-1][Ur]=r[Ur]);const s=wp(e,Et+t);!function j4(e,t){OO(e,t),t[it]=null,t[ln]=null}(r[x],r);const i=s[qo];null!==i&&i.detachView(s[x]),r[bt]=null,r[Ur]=null,r[H]&=-129}return r}function lg(e,t){if(!(256&t[H])){const n=t[K];n.destroyNode&&fg(e,t,n,3,null,null),function U4(e){let t=e[Xu];if(!t)return CE(e[x],e);for(;t;){let n=null;if(un(t))n=t[Xu];else{const r=t[Et];r&&(n=r)}if(!n){for(;t&&!t[Ur]&&t!==e;)un(t)&&CE(t[x],t),t=t[bt];null===t&&(t=e),un(t)&&CE(t[x],t),n=t&&t[Ur]}t=n}}(t)}}function CE(e,t){if(256&t[H])return;const n=ue(null);try{t[H]&=-129,t[H]|=256,t[Vi]&&function z0(e){if(nc(e),Bu(e))for(let t=0;t<e.producerNode.length;t++)fp(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}(t[Vi]),function z4(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const o=t[n[r]];if(!(o instanceof rd)){const s=n[r+1];if(Array.isArray(s))for(let i=0;i<s.length;i+=2){const a=o[s[i]],c=s[i+1];co(4,a,c);try{c.call(a)}finally{co(5,a,c)}}else{co(4,o,s);try{s.call(o)}finally{co(5,o,s)}}}}}(e,t),function q4(e,t){const n=e.cleanup,r=t[gc];if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const i=n[s+3];i>=0?r[i]():r[-i].unsubscribe(),s+=2}else n[s].call(r[n[s+1]]);null!==r&&(t[gc]=null);const o=t[Fs];if(null!==o){t[Fs]=null;for(let s=0;s<o.length;s++)(0,o[s])()}}(e,t),1===t[x].type&&t[K].destroy();const r=t[Ku];if(null!==r&&dn(t[bt])){r!==t[bt]&&AO(r,t);const o=t[qo];null!==o&&o.detachView(e)}!function DG(e){Gb.delete(e[Yu])}(t)}finally{ue(n)}}function SE(e,t,n){return function kO(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[it];{const{componentOffset:o}=r;if(o>-1){const{encapsulation:s}=e.data[r.directiveStart+o];if(s===jr.None||s===jr.Emulated)return null}return En(r,n)}}(e,t.parent,n)}function Hi(e,t,n,r,o){e.insertBefore(t,n,r,o)}function NO(e,t,n){e.appendChild(t,n)}function xO(e,t,n,r,o){null!==r?Hi(e,t,n,r,o):NO(e,t,n)}function ug(e,t){return e.parentNode(t)}let wE,LO=function PO(e,t,n){return 40&e.type?En(e,n):null};function dg(e,t,n,r){const o=SE(e,r,t),s=t[K],a=function FO(e,t,n){return LO(e,t,n)}(r.parent||t[ln],r,t);if(null!=o)if(Array.isArray(n))for(let c=0;c<n.length;c++)xO(s,o,n[c],a,!1);else xO(s,o,n,a,!1);void 0!==wE&&wE(s,r,t,n,o)}function _d(e,t){if(null!==t){const n=t.type;if(3&n)return En(t,e);if(4&n)return DE(-1,e[t.index]);if(8&n){const r=t.child;if(null!==r)return _d(e,r);{const o=e[t.index];return dn(o)?DE(-1,o):Ve(o)}}if(32&n)return vE(t,e)()||Ve(e[t.index]);{const r=jO(e,t);return null!==r?Array.isArray(r)?r[0]:_d(Bi(e[ht]),r):_d(e,t.next)}}return null}function jO(e,t){return null!==t?e[ht][ln].projection[t.projection]:null}function DE(e,t){const n=Et+e+1;if(n<t.length){const r=t[n],o=r[x].firstChild;if(null!==o)return _d(r,o)}return t[ao]}function ME(e,t,n,r,o,s,i){for(;null!=n;){const a=r[n.index],c=n.type;if(i&&0===t&&(a&&hn(Ve(a),r),n.flags|=2),32&~n.flags)if(8&c)ME(e,t,n.child,r,o,s,!1),Ac(t,e,o,a,s);else if(32&c){const l=vE(n,r);let u;for(;u=l();)Ac(t,e,o,u,s);Ac(t,e,o,a,s)}else 16&c?UO(e,t,r,n,o,s):Ac(t,e,o,a,s);n=i?n.projectionNext:n.next}}function fg(e,t,n,r,o,s){ME(n,r,e.firstChild,t,o,s,!1)}function UO(e,t,n,r,o,s){const i=n[ht],c=i[ln].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++)Ac(t,e,o,c[l],s);else{let l=c;const u=i[bt];Gp(r)&&(l.flags|=128),ME(e,t,l,u,o,s,!0)}}function $O(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function HO(e,t,n){const{mergedAttrs:r,classes:o,styles:s}=n;null!==r&&ab(e,t,r),null!==o&&$O(e,t,o),null!==s&&function Q4(e,t,n){e.setAttribute(t,"style",n)}(e,t,s)}const oe={};function ot(e=1){qO(ge(),w(),fn()+e,!1)}function qO(e,t,n,r){if(!r)if(3&~t[H]){const s=e.preOrderHooks;null!==s&&Up(t,s,0,n)}else{const s=e.preOrderCheckHooks;null!==s&&Bp(t,s,n)}Ui(n)}function A(e,t=pe.Default){const n=w();return null===n?j(e,t):_R(Le(),n,X(e),t)}function zO(e,t,n,r,o,s){const i=ue(null);try{let a=null;o&rt.SignalBased&&(a=t[r][Ai]),null!==a&&void 0!==a.transformFn&&(s=a.transformFn(s)),o&rt.HasDecoratorInputTransform&&(s=e.inputTransforms[r].call(t,s)),null!==e.setInput?e.setInput(t,a,s,n,r):$T(t,a,r,s)}finally{ue(i)}}function hg(e,t,n,r,o,s,i,a,c,l,u){const d=t.blueprint.slice();return d[it]=o,d[H]=204|r,(null!==l||e&&2048&e[H])&&(d[H]|=2048),KT(d),d[bt]=d[mc]=e,d[Xe]=n,d[$r]=i||e&&e[$r],d[K]=a||e&&e[K],d[Rt]=c||e&&e[Rt]||null,d[ln]=s,d[Yu]=function SG(){return CG++}(),d[Xn]=u,d[VT]=l,d[ht]=2==t.type?e[ht]:d,d}function kc(e,t,n,r,o){let s=e.data[t];if(null===s)s=function IE(e,t,n,r,o){const s=ZT(),i=Rb(),c=e.data[t]=function iX(e,t,n,r,o,s){let i=t?t.injectorIndex:-1,a=0;return function bc(){return null!==Y.skipHydrationRootTNode}()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:i,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:o,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,i?s:s&&s.parent,n,t,r,o);return null===e.firstChild&&(e.firstChild=c),null!==s&&(i?null==s.child&&null!==c.parent&&(s.child=c):null===s.next&&(s.next=c,c.prev=s)),c}(e,t,n,r,o),function BW(){return Y.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=r,s.attrs=o;const i=function td(){const e=Y.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();s.injectorIndex=null===i?-1:i.injectorIndex}return uo(s,!0),s}function vd(e,t,n,r){if(0===n)return-1;const o=t.length;for(let s=0;s<n;s++)t.push(r),e.blueprint.push(r),e.data.push(null);return o}function WO(e,t,n,r,o){const s=fn(),i=2&r;try{Ui(-1),i&&t.length>re&&qO(e,t,re,!1),co(i?2:0,o),n(r,o)}finally{Ui(s),co(i?3:1,o)}}function TE(e,t,n){if(vb(t)){const r=ue(null);try{const s=t.directiveEnd;for(let i=t.directiveStart;i<s;i++){const a=e.data[i];a.contentQueries&&a.contentQueries(1,n[i],i)}}finally{ue(r)}}}function RE(e,t,n){JT()&&(function hX(e,t,n,r){const o=n.directiveStart,s=n.directiveEnd;ji(n)&&function bX(e,t,n){const r=En(t,e),o=GO(n);let i=16;n.signals?i=4096:n.onPush&&(i=64);const a=pg(e,hg(e,o,null,i,r,t,null,e[$r].rendererFactory.createRenderer(r,n),null,null,null));e[t.index]=a}(t,n,e.data[o+n.componentOffset]),e.firstCreatePass||Hp(n,t),hn(r,t);const i=n.initialInputs;for(let a=o;a<s;a++){const c=e.data[a],l=$i(t,e,a,n);hn(l,t),null!==i&&EX(0,a-o,l,c,0,i),Hr(c)&&(Kn(n.index,t)[Xe]=$i(t,e,a,n))}}(e,t,n,En(n,t)),!(64&~n.flags)&&JO(e,t,n))}function OE(e,t,n=En){const r=t.localNames;if(null!==r){let o=t.index+1;for(let s=0;s<r.length;s+=2){const i=r[s+1],a=-1===i?n(t,e):e[i];e[o++]=a}}}function GO(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=AE(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function AE(e,t,n,r,o,s,i,a,c,l,u){const d=re+r,f=d+o,p=function eX(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:oe);return n}(d,f),g="function"==typeof l?l():l;return p[x]={type:e,blueprint:p,template:n,queries:null,viewQuery:a,declTNode:t,data:p.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof i?i():i,firstChild:null,schemas:c,consts:g,incompleteFirstPass:!1,ssrId:u}}let XO=()=>null;function KO(e,t,n,r,o){for(let s in t){if(!t.hasOwnProperty(s))continue;const i=t[s];if(void 0===i)continue;r??={};let a,c=rt.None;Array.isArray(i)?(a=i[0],c=i[1]):a=i;let l=s;if(null!==o){if(!o.hasOwnProperty(s))continue;l=o[s]}0===e?YO(r,n,l,a,c):YO(r,n,l,a)}return r}function YO(e,t,n,r,o){let s;e.hasOwnProperty(n)?(s=e[n]).push(t,r):s=e[n]=[t,r],void 0!==o&&s.push(o)}function jn(e,t,n,r,o,s,i,a){const c=En(t,n);let u,l=t.inputs;!a&&null!=l&&(u=l[r])?(PE(e,n,u,r,o),ji(t)&&function lX(e,t){const n=Kn(t,e);16&n[H]||(n[H]|=64)}(n,t.index)):3&t.type&&(r=function cX(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),o=null!=i?i(o,t.value||"",r):o,s.setProperty(c,r,o))}function kE(e,t,n,r){if(JT()){const o=null===r?null:{"":-1},s=function gX(e,t){const n=e.directiveRegistry;let r=null,o=null;if(n)for(let s=0;s<n.length;s++){const i=n[s];if(MT(t,i.selectors,!1))if(r||(r=[]),Hr(i))if(null!==i.findHostDirectiveDefs){const a=[];o=o||new Map,i.findHostDirectiveDefs(i,a,o),r.unshift(...a,i),NE(e,t,a.length)}else r.unshift(i),NE(e,t,0);else o=o||new Map,i.findHostDirectiveDefs?.(i,r,o),r.push(i)}return null===r?null:[r,o]}(e,n);let i,a;null===s?i=a=null:[i,a]=s,null!==i&&QO(e,t,n,i,o,a),o&&function mX(e,t,n){if(t){const r=e.localNames=[];for(let o=0;o<t.length;o+=2){const s=n[t[o+1]];if(null==s)throw new M(-301,!1);r.push(t[o],s)}}}(n,r,o)}n.mergedAttrs=Wu(n.mergedAttrs,n.attrs)}function QO(e,t,n,r,o,s){for(let l=0;l<r.length;l++)Ub(Hp(n,t),e,r[l].type);!function yX(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,r.length);for(let l=0;l<r.length;l++){const u=r[l];u.providersResolver&&u.providersResolver(u)}let i=!1,a=!1,c=vd(e,t,r.length,null);for(let l=0;l<r.length;l++){const u=r[l];n.mergedAttrs=Wu(n.mergedAttrs,u.hostAttrs),vX(e,n,t,c,u),_X(c,u,o),null!==u.contentQueries&&(n.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(n.flags|=64);const d=u.type.prototype;!i&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),i=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}!function aX(e,t,n){const o=t.directiveEnd,s=e.data,i=t.attrs,a=[];let c=null,l=null;for(let u=t.directiveStart;u<o;u++){const d=s[u],f=n?n.get(d):null,g=f?f.outputs:null;c=KO(0,d.inputs,u,c,f?f.inputs:null),l=KO(1,d.outputs,u,l,g);const m=null===c||null===i||cb(t)?null:CX(c,u,i);a.push(m)}null!==c&&(c.hasOwnProperty("class")&&(t.flags|=8),c.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=c,t.outputs=l}(e,n,s)}function JO(e,t,n){const r=n.directiveStart,o=n.directiveEnd,s=n.index,i=function $W(){return Y.lFrame.currentDirectiveIndex}();try{Ui(s);for(let a=r;a<o;a++){const c=e.data[a],l=t[a];Ab(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&pX(c,l)}}finally{Ui(-1),Ab(i)}}function pX(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function NE(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function _X(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;Hr(t)&&(n[""]=e)}}function vX(e,t,n,r,o){e.data[r]=o;const s=o.factory||(o.factory=Fi(o.type)),i=new rd(s,Hr(o),A);e.blueprint[r]=i,n[r]=i,function dX(e,t,n,r,o){const s=o.hostBindings;if(s){let i=e.hostBindingOpCodes;null===i&&(i=e.hostBindingOpCodes=[]);const a=~t.index;(function fX(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(i)!=a&&i.push(a),i.push(n,r,s)}}(e,t,r,vd(e,n,o.hostVars,oe),o)}function go(e,t,n,r,o,s){const i=En(e,t);!function xE(e,t,n,r,o,s,i){if(null==s)e.removeAttribute(t,o,n);else{const a=null==i?ne(s):i(s,r||"",o);e.setAttribute(t,o,a,n)}}(t[K],i,s,e.value,n,r,o)}function EX(e,t,n,r,o,s){const i=s[t];if(null!==i)for(let a=0;a<i.length;)zO(r,n,i[a++],i[a++],i[a++],i[a++])}function CX(e,t,n){let r=null,o=0;for(;o<n.length;){const s=n[o];if(0!==s)if(5!==s){if("number"==typeof s)break;if(e.hasOwnProperty(s)){null===r&&(r=[]);const i=e[s];for(let a=0;a<i.length;a+=3)if(i[a]===t){r.push(s,i[a+1],i[a+2],n[o+1]);break}}o+=2}else o+=2;else o+=4}return r}function ZO(e,t,n,r){return[e,!0,0,t,null,r,null,n,null,null]}function eA(e,t){const n=e.contentQueries;if(null!==n){const r=ue(null);try{for(let o=0;o<n.length;o+=2){const i=n[o+1];if(-1!==i){const a=e.data[i];Vp(n[o]),a.contentQueries(2,t[i],i)}}}finally{ue(r)}}}function pg(e,t){return e[Xu]?e[LT][Ur]=t:e[Xu]=t,e[LT]=t,t}function FE(e,t,n){Vp(0);const r=ue(null);try{t(e,n)}finally{ue(r)}}function gg(e,t){const n=e[Rt],r=n?n.get(po,null):null;r&&r.handleError(t)}function PE(e,t,n,r,o){for(let s=0;s<n.length;){const i=n[s++],a=n[s++],c=n[s++];zO(e.data[i],t[i],r,a,c,o)}}function SX(e,t){const n=Kn(t,e),r=n[x];!function wX(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(r,n);const o=n[it];null!==o&&null===n[Xn]&&(n[Xn]=sE(o,n[Rt])),LE(r,n,n[Xe])}function LE(e,t,n){xb(t);try{const r=e.viewQuery;null!==r&&FE(1,r,n);const o=e.template;null!==o&&WO(e,t,o,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[qo]?.finishViewCreation(e),e.staticContentQueries&&eA(e,t),e.staticViewQueries&&FE(2,e.viewQuery,n);const s=e.components;null!==s&&function DX(e,t){for(let n=0;n<t.length;n++)SX(e,t[n])}(t,s)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[H]&=-5,Fb()}}function Nc(e,t){return!t||null===t.firstChild||Gp(e)}function Ed(e,t,n,r=!0){const o=t[x];if(function $4(e,t,n,r){const o=Et+r,s=n.length;r>0&&(n[o-1][Ur]=t),r<s-Et?(t[Ur]=n[o],yT(n,Et+r,t)):(n.push(t),t[Ur]=null),t[bt]=n;const i=t[Ku];null!==i&&n!==i&&function H4(e,t){const n=e[yc];t[ht]!==t[bt][bt][ht]&&(e[H]|=yb.HasTransplantedViews),null===n?e[yc]=[t]:n.push(t)}(i,t);const a=t[qo];null!==a&&a.insertView(e),Ib(t),t[H]|=128}(o,t,e,n),r){const i=DE(n,e),a=t[K],c=ug(a,e[ao]);null!==c&&function B4(e,t,n,r,o,s){r[it]=o,r[ln]=t,fg(e,r,n,1,o,s)}(o,e[ln],a,t,c,i)}const s=t[Xn];null!==s&&null!==s.firstChild&&(s.firstChild=null)}function Cd(e,t,n,r,o=!1){for(;null!==n;){const s=t[n.index];null!==s&&r.push(Ve(s)),dn(s)&&sA(s,r);const i=n.type;if(8&i)Cd(e,t,n.child,r);else if(32&i){const a=vE(n,t);let c;for(;c=a();)r.push(c)}else if(16&i){const a=jO(t,n);if(Array.isArray(a))r.push(...a);else{const c=Bi(t[ht]);Cd(c[x],c,a,r,!0)}}n=o?n.projectionNext:n.next}return r}function sA(e,t){for(let n=Et;n<e.length;n++){const r=e[n],o=r[x].firstChild;null!==o&&Cd(r[x],r,o,t)}e[ao]!==e[it]&&t.push(e[ao])}let iA=[];const RX={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{},consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{ed(e.lView)},consumerOnSignalRead(){this.lView[Vi]=this}},aA=100;function mg(e,t=!0,n=0){const r=e[$r],o=r.rendererFactory;o.begin?.();try{!function OX(e,t){jE(e,t);let n=0;for(;Mb(e);){if(n===aA)throw new M(103,!1);n++,jE(e,1)}}(e,n)}catch(i){throw t&&gg(e,i),i}finally{o.end?.(),r.inlineEffectRunner?.flush()}}function AX(e,t,n,r){const o=t[H];if(!(256&~o))return;t[$r].inlineEffectRunner?.flush(),xb(t);let i=null,a=null;(function kX(e){return 2!==e.type})(e)&&(a=function MX(e){return e[Vi]??function IX(e){const t=iA.pop()??Object.create(RX);return t.lView=e,t}(e)}(t),i=function H0(e){return e&&(e.nextProducerIndex=0),ue(e)}(a));try{KT(t),function tR(e){return Y.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&WO(e,t,n,2,r);const c=!(3&~o);if(c){const d=e.preOrderCheckHooks;null!==d&&Bp(t,d,null)}else{const d=e.preOrderHooks;null!==d&&Up(t,d,0,null),Pb(t,0)}if(function NX(e){for(let t=UR(e);null!==t;t=$R(t)){if(!(t[H]&yb.HasTransplantedViews))continue;const n=t[yc];for(let r=0;r<n.length;r++){TW(n[r])}}}(t),cA(t,0),null!==e.contentQueries&&eA(e,t),c){const d=e.contentCheckHooks;null!==d&&Bp(t,d)}else{const d=e.contentHooks;null!==d&&Up(t,d,1),Pb(t,1)}!function Z4(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const o=n[r];if(o<0)Ui(~o);else{const s=o,i=n[++r],a=n[++r];UW(i,s),a(2,t[s])}}}finally{Ui(-1)}}(e,t);const l=e.components;null!==l&&uA(t,l,0);const u=e.viewQuery;if(null!==u&&FE(2,u,r),c){const d=e.viewCheckHooks;null!==d&&Bp(t,d)}else{const d=e.viewHooks;null!==d&&Up(t,d,2),Pb(t,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[xp]){for(const d of t[xp])d();t[xp]=null}t[H]&=-73}catch(c){throw ed(t),c}finally{null!==a&&(function q0(e,t){if(ue(t),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(Bu(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)fp(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}(a,i),function TX(e){e.lView[Vi]!==e&&(e.lView=null,iA.push(e))}(a)),Fb()}}function cA(e,t){for(let n=UR(e);null!==n;n=$R(n))for(let r=Et;r<n.length;r++)lA(n[r],t)}function xX(e,t,n){lA(Kn(t,e),n)}function lA(e,t){Db(e)&&jE(e,t)}function jE(e,t){const r=e[x],o=e[H],s=e[Vi];let i=!!(0===t&&16&o);if(i||=!!(64&o&&0===t),i||=!!(1024&o),i||=!(!s?.dirty||!kv(s)),s&&(s.dirty=!1),e[H]&=-9217,i)AX(r,e,r.template,e[Xe]);else if(8192&o){cA(e,1);const a=r.components;null!==a&&uA(e,a,1)}}function uA(e,t,n){for(let r=0;r<t.length;r++)xX(e,t[r],n)}function Sd(e){for(e[$r].changeDetectionScheduler?.notify();e;){e[H]|=64;const t=Bi(e);if(bb(e)&&!t)return e;e=t}return null}class wd{get rootNodes(){const t=this._lView,n=t[x];return Cd(n,t,n.firstChild,[])}constructor(t,n,r=!0){this._lView=t,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Xe]}set context(t){this._lView[Xe]=t}get destroyed(){return!(256&~this._lView[H])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[bt];if(dn(t)){const n=t[8],r=n?n.indexOf(this):-1;r>-1&&(md(t,r),wp(n,r))}this._attachedToViewContainer=!1}lg(this._lView[x],this._lView)}onDestroy(t){Lp(this._lView,t)}markForCheck(){Sd(this._cdRefInjectingView||this._lView)}detach(){this._lView[H]&=-129}reattach(){Ib(this._lView),this._lView[H]|=128}detectChanges(){this._lView[H]|=1024,mg(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new M(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,OO(this._lView[x],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new M(902,!1);this._appRef=t,Ib(this._lView)}}let Yo=(()=>{class e{static{this.__NG_ELEMENT_ID__=LX}}return e})();const FX=Yo,PX=class extends FX{constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n)}createEmbeddedViewImpl(t,n,r){const o=function bd(e,t,n,r){const o=ue(null);try{const s=t.tView,c=hg(e,s,n,4096&e[H]?4096:16,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null);c[Ku]=e[t.index];const u=e[qo];return null!==u&&(c[qo]=u.createEmbeddedView(s)),LE(s,c,n),c}finally{ue(o)}}(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:n,dehydratedView:r});return new wd(o)}};function LX(){return function _g(e,t){return 4&e.type?new PX(t,e,Dc(e,t)):null}(Le(),w())}class zE{}class a8{}class _A{}class l8{resolveComponentFactory(t){throw function c8(e){const t=Error(`No component factory found for ${Pt(e)}.`);return t.ngComponent=e,t}(t)}}let Cg=(()=>{class e{static{this.NULL=new l8}}return e})();class vA{}let Qo=(()=>{class e{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function u8(){const e=w(),n=Kn(Le().index,e);return(un(n)?n:e)[K]}()}}return e})(),d8=(()=>{class e{static{this.\u0275prov=L({token:e,providedIn:"root",factory:()=>null})}}return e})();const WE={},bA=new Set;function EA(...e){}class Ne{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new at(!1),this.onMicrotaskEmpty=new at(!1),this.onStable=new at(!1),this.onError=new at(!1),typeof Zone>"u")throw new M(908,!1);Zone.assertZonePatched();const o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!r&&n,o.shouldCoalesceRunChangeDetection=r,o.lastRequestAnimationFrameId=-1,o.nativeRequestAnimationFrame=function f8(){const e="function"==typeof ke.requestAnimationFrame;let t=ke[e?"requestAnimationFrame":"setTimeout"],n=ke[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&n){const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r);const o=n[Zone.__symbol__("OriginalDelegate")];o&&(n=o)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function g8(e){const t=()=>{!function p8(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(ke,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,XE(e),e.isCheckStableRunning=!0,GE(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),XE(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,o,s,i,a)=>{if(function m8(e){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0].data?.__ignore_ng_zone__}(a))return n.invokeTask(o,s,i,a);try{return CA(e),n.invokeTask(o,s,i,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||e.shouldCoalesceRunChangeDetection)&&t(),SA(e)}},onInvoke:(n,r,o,s,i,a,c)=>{try{return CA(e),n.invoke(o,s,i,a,c)}finally{e.shouldCoalesceRunChangeDetection&&t(),SA(e)}},onHasTask:(n,r,o,s)=>{n.hasTask(o,s),r===o&&("microTask"==s.change?(e._hasPendingMicrotasks=s.microTask,XE(e),GE(e)):"macroTask"==s.change&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,o,s)=>(n.handleError(o,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}(o)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ne.isInAngularZone())throw new M(909,!1)}static assertNotInAngularZone(){if(Ne.isInAngularZone())throw new M(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,o){const s=this._inner,i=s.scheduleEventTask("NgZoneEvent: "+o,t,h8,EA,EA);try{return s.runTask(i,n,r)}finally{s.cancelTask(i)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const h8={};function GE(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function XE(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function CA(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function SA(e){e._nesting--,GE(e)}class wA{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new at,this.onMicrotaskEmpty=new at,this.onStable=new at,this.onError=new at}run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,o){return t.apply(n,r)}}let Rd=(()=>{class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){const n=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const r of n)r()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static{this.\u0275prov=L({token:e,providedIn:"root",factory:()=>new e})}}return e})();function wg(e,t,n){let r=n?e.styles:null,o=n?e.classes:null,s=0;if(null!==t)for(let i=0;i<t.length;i++){const a=t[i];"number"==typeof a?s=a:1==s?o=Hv(o,a):2==s&&(r=Hv(r,a+": "+t[++i]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=o:e.classesWithoutHost=o}class AA extends Cg{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=he(t);return new kd(n,this.ngModule)}}function kA(e){const t=[];for(const n in e){if(!e.hasOwnProperty(n))continue;const r=e[n];void 0!==r&&t.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return t}class Dg{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=Sp(r);const o=this.injector.get(t,WE,r);return o!==WE||n===WE?o:this.parentInjector.get(t,n,r)}}class kd extends _A{get inputs(){const t=this.componentDef,n=t.inputTransforms,r=kA(t.inputs);if(null!==n)for(const o of r)n.hasOwnProperty(o.propName)&&(o.transform=n[o.propName]);return r}get outputs(){return kA(this.componentDef.outputs)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function Wz(e){return e.map(zz).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,r,o){const s=ue(null);try{let i=(o=o||this.ngModule)instanceof Gn?o:o?.injector;i&&null!==this.componentDef.getStandaloneInjector&&(i=this.componentDef.getStandaloneInjector(i)||i);const a=i?new Dg(t,i):t,c=a.get(vA,null);if(null===c)throw new M(407,!1);const l=a.get(d8,null),f={rendererFactory:c,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:a.get(Rd,null),changeDetectionScheduler:a.get(zE,null)},p=c.createRenderer(null,this.componentDef),g=this.componentDef.selectors[0][0]||"div",m=r?function tX(e,t,n,r){const s=r.get(rO,!1)||n===jr.ShadowDom,i=e.selectRootElement(t,s);return function nX(e){XO(e)}(i),i}(p,r,this.componentDef.encapsulation,a):cg(p,g,function C8(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(g));let y=512;this.componentDef.signals?y|=4096:this.componentDef.onPush||(y|=16);let b=null;null!==m&&(b=sE(m,a,!0));const C=AE(0,null,null,1,0,null,null,null,null,null,null),k=hg(null,C,null,y,null,null,f,p,a,null,b);let V,$;xb(k);try{const fe=this.componentDef;let et,tt=null;fe.findHostDirectiveDefs?(et=[],tt=new Map,fe.findHostDirectiveDefs(fe,et,tt),et.push(fe)):et=[fe];const S=function w8(e,t){const n=e[x],r=re;return e[r]=t,kc(n,r,2,"#host",null)}(k,m),fr=function D8(e,t,n,r,o,s,i){const a=o[x];!function M8(e,t,n,r){for(const o of e)t.mergedAttrs=Wu(t.mergedAttrs,o.hostAttrs);null!==t.mergedAttrs&&(wg(t,t.mergedAttrs,!0),null!==n&&HO(r,n,t))}(r,e,t,i);let c=null;null!==t&&(c=sE(t,o[Rt]));const l=s.rendererFactory.createRenderer(t,n);let u=16;n.signals?u=4096:n.onPush&&(u=64);const d=hg(o,GO(n),null,u,o[e.index],e,s,l,null,null,c);return a.firstCreatePass&&NE(a,e,r.length-1),pg(o,d),o[e.index]=d}(S,m,fe,et,k,f,p);$=Zu(C,re),m&&function T8(e,t,n,r){if(r)ab(e,n,["ng-version","17.3.12"]);else{const{attrs:o,classes:s}=function Gz(e){const t=[],n=[];let r=1,o=2;for(;r<e.length;){let s=e[r];if("string"==typeof s)2===o?""!==s&&t.push(s,e[++r]):8===o&&n.push(s);else{if(!Br(o))break;o=s}r++}return{attrs:t,classes:n}}(t.selectors[0]);o&&ab(e,n,o),s&&s.length>0&&$O(e,n,s.join(" "))}}(p,fe,m,r),void 0!==n&&function R8(e,t,n){const r=e.projection=[];for(let o=0;o<t.length;o++){const s=n[o];r.push(null!=s?Array.from(s):null)}}($,this.ngContentSelectors,n),V=function I8(e,t,n,r,o,s){const i=Le(),a=o[x],c=En(i,o);QO(a,o,i,n,null,r);for(let u=0;u<n.length;u++)hn($i(o,a,i.directiveStart+u,i),o);JO(a,o,i),c&&hn(c,o);const l=$i(o,a,i.directiveStart+i.componentOffset,i);if(e[Xe]=o[Xe]=l,null!==s)for(const u of s)u(l,t);return TE(a,i,o),l}(fr,fe,et,tt,k,[O8]),LE(C,k,null)}finally{Fb()}return new S8(this.componentType,V,Dc($,k),k,$)}finally{ue(s)}}}class S8 extends a8{constructor(t,n,r,o,s){super(),this.location=r,this._rootLView=o,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new wd(o,void 0,!1),this.componentType=t}setInput(t,n){const r=this._tNode.inputs;let o;if(null!==r&&(o=r[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;const s=this._rootLView;PE(s[x],s,o,t,n),this.previousInputValues.set(t,n),Sd(Kn(this._tNode.index,s))}}get injector(){return new jt(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function O8(){const e=Le();jp(w()[x],e)}let Wr=(()=>{class e{static{this.__NG_ELEMENT_ID__=A8}}return e})();function A8(){return function FA(e,t){let n;const r=t[e.index];return dn(r)?n=r:(n=ZO(r,t,null,e),t[e.index]=n,pg(t,n)),PA(n,t,e,r),new NA(n,e,t)}(Le(),w())}const k8=Wr,NA=class extends k8{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return Dc(this._hostTNode,this._hostLView)}get injector(){return new jt(this._hostTNode,this._hostLView)}get parentInjector(){const t=qp(this._hostTNode,this._hostLView);if(Vb(t)){const n=sd(t,this._hostLView),r=od(t);return new jt(n[x].data[r+8],n)}return new jt(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=xA(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-Et}createEmbeddedView(t,n,r){let o,s;"number"==typeof r?o=r:null!=r&&(o=r.index,s=r.injector);const a=t.createEmbeddedViewImpl(n||{},s,null);return this.insertImpl(a,o,Nc(this._hostTNode,null)),a}createComponent(t,n,r,o,s){const i=t&&!function Gu(e){return"function"==typeof e}(t);let a;if(i)a=n;else{const g=n||{};a=g.index,r=g.injector,o=g.projectableNodes,s=g.environmentInjector||g.ngModuleRef}const c=i?t:new kd(he(t)),l=r||this.parentInjector;if(!s&&null==c.ngModule){const m=(i?l:this.parentInjector).get(Gn,null);m&&(s=m)}he(c.componentType??{});const p=c.create(l,o,null,s);return this.insertImpl(p.hostView,a,Nc(this._hostTNode,null)),p}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,r){const o=t._lView;if(function IW(e){return dn(e[bt])}(o)){const a=this.indexOf(t);if(-1!==a)this.detach(a);else{const c=o[bt],l=new NA(c,c[ln],c[bt]);l.detach(l.indexOf(t))}}const s=this._adjustIndex(n),i=this._lContainer;return Ed(i,o,s,r),t.attachToViewContainerRef(),yT(JE(i),s,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=xA(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),r=md(this._lContainer,n);r&&(wp(JE(this._lContainer),n),lg(r[x],r))}detach(t){const n=this._adjustIndex(t,-1),r=md(this._lContainer,n);return r&&null!=wp(JE(this._lContainer),n)?new wd(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function xA(e){return e[8]}function JE(e){return e[8]||(e[8]=[])}let PA=function VA(e,t,n,r){if(e[ao])return;let o;o=8&n.type?Ve(r):function N8(e,t){const n=e[K],r=n.createComment(""),o=En(t,e);return Hi(n,ug(n,o),r,function G4(e,t){return e.nextSibling(t)}(n,o),!1),r}(t,n),e[ao]=o},ZE=()=>!1;function XA(e){return function WA(e){return"function"==typeof e&&void 0!==e[Ai]}(e)&&"function"==typeof e.set}function xe(e){let t=function sk(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const r=[e];for(;t;){let o;if(Hr(e))o=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new M(903,!1);o=t.\u0275dir}if(o){if(n){r.push(o);const i=e;i.inputs=Ig(e.inputs),i.inputTransforms=Ig(e.inputTransforms),i.declaredInputs=Ig(e.declaredInputs),i.outputs=Ig(e.outputs);const a=o.hostBindings;a&&r5(e,a);const c=o.viewQuery,l=o.contentQueries;if(c&&t5(e,c),l&&n5(e,l),Z8(e,o),fz(e.outputs,o.outputs),Hr(o)&&o.data.animation){const u=e.data;u.animation=(u.animation||[]).concat(o.data.animation)}}const s=o.features;if(s)for(let i=0;i<s.length;i++){const a=s[i];a&&a.ngInherit&&a(e),a===xe&&(n=!1)}}t=Object.getPrototypeOf(t)}!function e5(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){const o=e[r];o.hostVars=t+=o.hostVars,o.hostAttrs=Wu(o.hostAttrs,n=Wu(n,o.hostAttrs))}}(r)}function Z8(e,t){for(const n in t.inputs){if(!t.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;const r=t.inputs[n];if(void 0!==r&&(e.inputs[n]=r,e.declaredInputs[n]=t.declaredInputs[n],null!==t.inputTransforms)){const o=Array.isArray(r)?r[0]:r;if(!t.inputTransforms.hasOwnProperty(o))continue;e.inputTransforms??={},e.inputTransforms[o]=t.inputTransforms[o]}}}function Ig(e){return e===so?{}:e===Se?[]:e}function t5(e,t){const n=e.viewQuery;e.viewQuery=n?(r,o)=>{t(r,o),n(r,o)}:t}function n5(e,t){const n=e.contentQueries;e.contentQueries=n?(r,o,s)=>{t(r,o,s),n(r,o,s)}:t}function r5(e,t){const n=e.hostBindings;e.hostBindings=n?(r,o)=>{t(r,o),n(r,o)}:t}class zi{}class uk{}class cC extends zi{constructor(t,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new AA(this);const o=cn(t);this._bootstrapComponents=Qn(o.bootstrap),this._r3Injector=IR(t,n,[{provide:zi,useValue:this},{provide:Cg,useValue:this.componentFactoryResolver},...r],Pt(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class lC extends uk{constructor(t){super(),this.moduleType=t}create(t){return new cC(this.moduleType,t,[])}}class dk extends zi{constructor(t){super(),this.componentFactoryResolver=new AA(this),this.instance=null;const n=new fc([...t.providers,{provide:zi,useValue:this},{provide:Cg,useValue:this.componentFactoryResolver}],t.parent||Ap(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function uC(e,t,n=null){return new dk({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}let Us=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Nn(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Rg(e){return!!function dC(e){return null!==e&&("function"==typeof e||"object"==typeof e)}(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function Ct(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function Sn(e,t,n,r,o,s,i,a){const c=w(),l=ge(),u=e+re,d=l.firstCreatePass?function m5(e,t,n,r,o,s,i,a,c){const l=t.consts,u=kc(t,e,4,i||null,lo(l,a));kE(t,n,u,lo(l,c)),jp(t,u);const d=u.tView=AE(2,u,r,o,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,l,null);return null!==t.queries&&(t.queries.template(t,u),d.queries=t.queries.embeddedTView(u)),u}(u,l,c,t,n,r,o,s,i):l.data[u];uo(d,!1);const f=fk(l,c,d,e);nd()&&dg(l,c,f,d),hn(f,c);const p=ZO(f,c,f,d);return c[u]=p,pg(c,p),function LA(e,t,n){return ZE(e,t,n)}(p,d,c),Pp(d)&&RE(l,c,d),null!=i&&OE(c,d,a),Sn}let fk=function hk(e,t,n,r){return fo(!0),t[K].createComment("")};function mr(e,t,n,r){const o=w();return Ct(o,qr(),t)&&(ge(),go(Ke(),o,e,t,n,r)),mr}function Hc(e,t,n,r){return Ct(e,qr(),n)?t+ne(n)+r:oe}function Pg(e,t){return e<<17|t<<2}function Hs(e){return e>>17&32767}function EC(e){return 2|e}function Xi(e){return(131068&e)>>2}function CC(e,t){return-131069&e|t<<2}function SC(e){return 1|e}function qk(e,t,n,r){const o=e[n+1],s=null===t;let i=r?Hs(o):Xi(o),a=!1;for(;0!==i&&(!1===a||s);){const l=e[i+1];n6(e[i],t)&&(a=!0,e[i+1]=r?SC(l):EC(l)),i=r?Hs(l):Xi(l)}a&&(e[n+1]=r?EC(o):SC(o))}function n6(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&uc(e,t)>=0}function mt(e,t,n){const r=w();return Ct(r,qr(),t)&&jn(ge(),Ke(),r,e,t,r[K],n,!1),mt}function wC(e,t,n,r,o){const i=o?"class":"style";PE(e,n,t.inputs[i],i,r)}function qs(e,t,n){return Gr(e,t,n,!1),qs}function Jc(e,t){return Gr(e,t,null,!0),Jc}function Gr(e,t,n,r){const o=w(),s=ge(),i=function Wo(e){const t=Y.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}(2);s.firstUpdatePass&&function Jk(e,t,n,r){const o=e.data;if(null===o[n+1]){const s=o[fn()],i=function Qk(e,t){return t>=e.expandoStartIndex}(e,n);(function nN(e,t){return!!(e.flags&(t?8:16))})(s,r)&&null===t&&!i&&(t=!1),t=function d6(e,t,n,r){const o=function kb(e){const t=Y.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let s=r?t.residualClasses:t.residualStyles;if(null===o)0===(r?t.classBindings:t.styleBindings)&&(n=jd(n=DC(null,e,t,n,r),t.attrs,r),s=null);else{const i=t.directiveStylingLast;if(-1===i||e[i]!==o)if(n=DC(o,e,t,n,r),null===s){let c=function f6(e,t,n){const r=n?t.classBindings:t.styleBindings;if(0!==Xi(r))return e[Hs(r)]}(e,t,r);void 0!==c&&Array.isArray(c)&&(c=DC(null,e,t,c[1],r),c=jd(c,t.attrs,r),function h6(e,t,n,r){e[Hs(n?t.classBindings:t.styleBindings)]=r}(e,t,r,c))}else s=function p6(e,t,n){let r;const o=t.directiveEnd;for(let s=1+t.directiveStylingLast;s<o;s++)r=jd(r,e[s].hostAttrs,n);return jd(r,t.attrs,n)}(e,t,r)}return void 0!==s&&(r?t.residualClasses=s:t.residualStyles=s),n}(o,s,t,r),function e6(e,t,n,r,o,s){let i=s?t.classBindings:t.styleBindings,a=Hs(i),c=Xi(i);e[r]=n;let u,l=!1;if(Array.isArray(n)?(u=n[1],(null===u||uc(n,u)>0)&&(l=!0)):u=n,o)if(0!==c){const f=Hs(e[a+1]);e[r+1]=Pg(f,a),0!==f&&(e[f+1]=CC(e[f+1],r)),e[a+1]=function J5(e,t){return 131071&e|t<<17}(e[a+1],r)}else e[r+1]=Pg(a,0),0!==a&&(e[a+1]=CC(e[a+1],r)),a=r;else e[r+1]=Pg(c,0),0===a?a=r:e[c+1]=CC(e[c+1],r),c=r;l&&(e[r+1]=EC(e[r+1])),qk(e,u,r,!0),qk(e,u,r,!1),function t6(e,t,n,r,o){const s=o?e.residualClasses:e.residualStyles;null!=s&&"string"==typeof t&&uc(s,t)>=0&&(n[r+1]=SC(n[r+1]))}(t,u,e,r,s),i=Pg(a,c),s?t.classBindings=i:t.styleBindings=i}(o,s,t,n,i,r)}}(s,e,i,r),t!==oe&&Ct(o,i,t)&&function eN(e,t,n,r,o,s,i,a){if(!(3&t.type))return;const c=e.data,l=c[a+1],u=function Z5(e){return!(1&~e)}(l)?tN(c,t,n,o,Xi(l),i):void 0;Lg(u)||(Lg(s)||function Q5(e){return!(2&~e)}(l)&&(s=tN(c,null,n,o,a,i)),function Y4(e,t,n,r,o){if(t)o?e.addClass(n,r):e.removeClass(n,r);else{let s=-1===r.indexOf("-")?void 0:Vs.DashCase;null==o?e.removeStyle(n,r,s):("string"==typeof o&&o.endsWith("!important")&&(o=o.slice(0,-10),s|=Vs.Important),e.setStyle(n,r,o,s))}}(r,i,Ju(fn(),n),o,s))}(s,s.data[fn()],o,o[K],e,o[i+1]=function y6(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=Pt(function Ls(e){return e instanceof cO?e.changingThisBreaksApplicationSecurity:e}(e)))),e}(t,n),r,i)}function DC(e,t,n,r,o){let s=null;const i=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<i&&(s=t[a],r=jd(r,s.hostAttrs,o),s!==e);)a++;return null!==e&&(n.directiveStylingLast=a),r}function jd(e,t,n){const r=n?1:2;let o=-1;if(null!==t)for(let s=0;s<t.length;s++){const i=t[s];"number"==typeof i?o=i:o===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Wn(e,i,!!n||t[++s]))}return void 0===e?null:e}function tN(e,t,n,r,o,s){const i=null===t;let a;for(;o>0;){const c=e[o],l=Array.isArray(c),u=l?c[1]:c,d=null===u;let f=n[o+1];f===oe&&(f=d?Se:void 0);let p=d?sb(f,r):u===r?f:void 0;if(l&&!Lg(p)&&(p=sb(c,r)),Lg(p)&&(a=p,i))return a;const g=e[o+1];o=i?Hs(g):Xi(g)}if(null!==t){let c=s?t.residualClasses:t.residualStyles;null!=c&&(a=sb(c,r))}return a}function Lg(e){return void 0!==e}function Ie(e,t,n,r){const o=w(),s=ge(),i=re+e,a=o[K],c=s.firstCreatePass?function U6(e,t,n,r,o,s){const i=t.consts,c=kc(t,e,2,r,lo(i,o));return kE(t,n,c,lo(i,s)),null!==c.attrs&&wg(c,c.attrs,!1),null!==c.mergedAttrs&&wg(c,c.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,c),c}(i,s,o,t,n,r):s.data[i],l=iN(s,o,c,a,t,e);o[i]=l;const u=Pp(c);return uo(c,!0),HO(a,l,c),!function Fd(e){return!(32&~e.flags)}(c)&&nd()&&dg(s,o,l,c),0===function RW(){return Y.lFrame.elementDepthCount}()&&hn(l,o),function OW(){Y.lFrame.elementDepthCount++}(),u&&(RE(s,o,c),TE(s,c,o)),null!==r&&OE(o,c),Ie}function Fe(){let e=Le();Rb()?Ob():(e=e.parent,uo(e,!1));const t=e;(function kW(e){return Y.skipHydrationRootTNode===e})(t)&&function PW(){Y.skipHydrationRootTNode=null}(),function AW(){Y.lFrame.elementDepthCount--}();const n=ge();return n.firstCreatePass&&(jp(n,e),vb(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function ZW(e){return!!(8&e.flags)}(t)&&wC(n,t,w(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function eG(e){return!!(16&e.flags)}(t)&&wC(n,t,w(),t.stylesWithoutHost,!1),Fe}function wn(e,t,n,r){return Ie(e,t,n,r),Fe(),wn}let iN=(e,t,n,r,o,s)=>(fo(!0),cg(r,o,function cR(){return Y.lFrame.currentNamespace}()));function zs(e,t,n){const r=w(),o=ge(),s=e+re,i=o.firstCreatePass?function q6(e,t,n,r,o){const s=t.consts,i=lo(s,r),a=kc(t,e,8,"ng-container",i);return null!==i&&wg(a,i,!0),kE(t,n,a,lo(s,o)),null!==t.queries&&t.queries.elementStart(t,a),a}(s,o,r,t,n):o.data[s];uo(i,!0);const a=cN(o,r,i,e);return r[s]=a,nd()&&dg(o,r,a,i),hn(a,r),Pp(i)&&(RE(o,r,i),TE(o,i,r)),null!=n&&OE(r,i),zs}function Ws(){let e=Le();const t=ge();return Rb()?Ob():(e=e.parent,uo(e,!1)),t.firstCreatePass&&(jp(t,e),vb(e)&&t.queries.elementEnd(e)),Ws}let cN=(e,t,n,r)=>(fo(!0),EE(t[K],""));const el="en-US";let hN=el;function _t(e,t,n,r){const o=w(),s=ge(),i=Le();return kC(s,o,o[K],i,e,t,r),_t}function kC(e,t,n,r,o,s,i){const a=Pp(r),l=e.firstCreatePass&&function nA(e){return e.cleanup||(e.cleanup=[])}(e),u=t[Xe],d=function tA(e){return e[gc]||(e[gc]=[])}(t);let f=!0;if(3&r.type||i){const m=En(r,t),y=i?i(m):m,b=d.length,C=i?V=>i(Ve(V[r.index])):r.index;let k=null;if(!i&&a&&(k=function W7(e,t,n,r){const o=e.cleanup;if(null!=o)for(let s=0;s<o.length-1;s+=2){const i=o[s];if(i===n&&o[s+1]===r){const a=t[gc],c=o[s+2];return a.length>c?a[c]:null}"string"==typeof i&&(s+=2)}return null}(e,t,o,r.index)),null!==k)(k.__ngLastListenerFn__||k).__ngNextListenerFn__=s,k.__ngLastListenerFn__=s,f=!1;else{s=UN(r,t,u,s,!1);const V=n.listen(y,o,s);d.push(s,V),l&&l.push(o,C,b,b+1)}}else s=UN(r,t,u,s,!1);const p=r.outputs;let g;if(f&&null!==p&&(g=p[o])){const m=g.length;if(m)for(let y=0;y<m;y+=2){const $=t[g[y]][g[y+1]].subscribe(s),fe=d.length;d.push(s,$),l&&l.push(o,r.index,fe,-(fe+1))}}}function BN(e,t,n,r){const o=ue(null);try{return co(6,t,n),!1!==n(r)}catch(s){return gg(e,s),!1}finally{co(7,t,n),ue(o)}}function UN(e,t,n,r,o){return function s(i){if(i===Function)return r;Sd(e.componentOffset>-1?Kn(e.index,t):t);let c=BN(t,n,r,i),l=s.__ngNextListenerFn__;for(;l;)c=BN(t,n,l,i)&&c,l=l.__ngNextListenerFn__;return o&&!1===c&&i.preventDefault(),c}}function _r(e=1){return function qW(e){return(Y.lFrame.contextLView=function YT(e,t){for(;e>0;)t=t[mc],e--;return t}(e,Y.lFrame.contextLView))[Xe]}(e)}function $g(e,t,n,r,o){const s=w(),i=Hc(s,t,n,r);return i!==oe&&jn(ge(),Ke(),s,e,i,s[K],o,!1),$g}function yr(e,t=""){const n=w(),r=ge(),o=e+re,s=r.firstCreatePass?kc(r,o,1,t,null):r.data[o],i=lx(r,n,s,t,e);n[o]=i,nd()&&dg(r,n,i,s),uo(s,!1)}let lx=(e,t,n,r,o)=>(fo(!0),function bE(e,t){return e.createText(t)}(t[K],r));function Wd(e){return Hg("",e,""),Wd}function Hg(e,t,n){const r=w(),o=Hc(r,e,t,n);return o!==oe&&function Ko(e,t,n){const r=Ju(t,e);!function RO(e,t,n){e.setValue(t,n)}(e[K],r,n)}(r,fn(),o),Hg}function NC(e,t,n){XA(t)&&(t=t());const r=w();return Ct(r,qr(),t)&&jn(ge(),Ke(),r,e,t,r[K],n,!1),NC}function xC(e,t){const n=w(),r=ge(),o=Le();return kC(r,n,n[K],o,e,t),xC}function FC(e,t,n,r,o){if(e=X(e),Array.isArray(e))for(let s=0;s<e.length;s++)FC(e[s],t,n,r,o);else{const s=ge(),i=w(),a=Le();let c=Li(e)?e:X(e.provide);const l=xT(e),u=1048575&a.providerIndexes,d=a.directiveStart,f=a.providerIndexes>>20;if(Li(e)||!e.multi){const p=new rd(l,o,A),g=LC(c,t,o?u:u+f,d);-1===g?(Ub(Hp(a,i),s,c),PC(s,e,t.length),t.push(c),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),n.push(p),i.push(p)):(n[g]=p,i[g]=p)}else{const p=LC(c,t,u+f,d),g=LC(c,t,u,u+f),y=g>=0&&n[g];if(o&&!y||!o&&!(p>=0&&n[p])){Ub(Hp(a,i),s,c);const b=function m9(e,t,n,r,o){const s=new rd(e,n,A);return s.multi=[],s.index=t,s.componentProviders=0,vx(s,o,r&&!n),s}(o?g9:p9,n.length,o,r,l);!o&&y&&(n[g].providerFactory=b),PC(s,e,t.length,0),t.push(c),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),n.push(b),i.push(b)}else PC(s,e,p>-1?p:g,vx(n[o?g:p],l,!o&&r));!o&&r&&y&&n[g].componentProviders++}}}function PC(e,t,n,r){const o=Li(t),s=function eW(e){return!!e.useClass}(t);if(o||s){const c=(s?X(t.useClass):t).prototype.ngOnDestroy;if(c){const l=e.destroyHooks||(e.destroyHooks=[]);if(!o&&t.multi){const u=l.indexOf(n);-1===u?l.push(n,[r,c]):l[u+1].push(r,c)}else l.push(n,c)}}}function vx(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function LC(e,t,n,r){for(let o=n;o<r;o++)if(t[o]===e)return o;return-1}function p9(e,t,n,r){return VC(this.multi,[])}function g9(e,t,n,r){const o=this.multi;let s;if(this.providerFactory){const i=this.providerFactory.componentProviders,a=$i(n,n[x],this.providerFactory.index,r);s=a.slice(0,i),VC(o,s);for(let c=i;c<a.length;c++)s.push(a[c])}else s=[],VC(o,s);return s}function VC(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function ct(e,t=[]){return n=>{n.providersResolver=(r,o)=>function h9(e,t,n){const r=ge();if(r.firstCreatePass){const o=Hr(e);FC(n,r.data,r.blueprint,o,!0),FC(t,r.data,r.blueprint,o,!1)}}(r,o?o(e):e,t)}}let _9=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=lb(0,n.type),o=r.length>0?uC([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,o)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=L({token:e,providedIn:"environment",factory:()=>new e(j(Gn))})}}return e})();function Yi(e){(function mo(e){bA.has(e)||(bA.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))})("NgStandalone"),e.getStandaloneInjector=t=>t.get(_9).getOrCreateStandaloneInjector(e)}function Ex(e,t,n,r,o,s){const i=t+n;return Ct(e,i,o)?function _o(e,t,n){return e[t]=n}(e,i+1,s?r.call(s,o):r(o)):function Gd(e,t){const n=e[t];return n===oe?void 0:n}(e,i+1)}function jC(e,t){const n=ge();let r;const o=e+re;n.firstCreatePass?(r=function O9(e,t){if(t)for(let n=t.length-1;n>=0;n--){const r=t[n];if(e===r.name)return r}}(t,n.pipeRegistry),n.data[o]=r,r.onDestroy&&(n.destroyHooks??=[]).push(o,r.onDestroy)):r=n.data[o];const s=r.factory||(r.factory=Fi(r.type)),a=xn(A);try{const c=$p(!1),l=s();return $p(c),function e9(e,t,n,r){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=r}(n,w(),o,l),l}finally{xn(a)}}function BC(e,t,n){const r=e+re,o=w(),s=function vc(e,t){return e[t]}(o,r);return function Xd(e,t){return e[x].data[t].pure}(o,r)?Ex(o,function Cn(){const e=Y.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}(),t,s.transform,n,s):s.transform(n)}let Ux=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();const Wx=new P(""),Gg=new P("");let XC,WC=(()=>{class e{constructor(n,r,o){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,XC||(function TK(e){XC=e}(o),o.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ne.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb()}});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,o){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(i=>i.timeoutId!==s),n()},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:o})}whenStable(n,r,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,o),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,o){return[]}static{this.\u0275fac=function(r){return new(r||e)(j(Ne),j(GC),j(Gg))}}static{this.\u0275prov=L({token:e,factory:e.\u0275fac})}}return e})(),GC=(()=>{class e{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return XC?.findTestabilityInTree(this,n,r)??null}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();function Jd(e){return!!e&&"function"==typeof e.then}function Gx(e){return!!e&&"function"==typeof e.subscribe}const RK=new P("");let KC=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=N(RK,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const o of this.appInits){const s=o();if(Jd(s))n.push(s);else if(Gx(s)){const i=new Promise((a,c)=>{s.subscribe({complete:a,error:c})});n.push(i)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(o=>{this.reject(o)}),0===n.length&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const YC=new P("");function Yx(e,t){return Array.isArray(t)?t.reduce(Yx,e):{...e,...t}}let Gs=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=N(RR),this.afterRenderEffectManager=N(Rd),this.externalTestViews=new Set,this.beforeRender=new Xt,this.afterTick=new Xt,this.componentTypes=[],this.components=[],this.isStable=N(Us).hasPendingTasks.pipe(ie(n=>!n)),this._injector=N(Gn)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const o=n instanceof _A;if(!this._injector.get(KC).done)throw!o&&function xs(e){const t=he(e)||Lt(e)||rn(e);return null!==t&&t.standalone}(n),new M(405,!1);let i;i=o?n:this._injector.get(Cg).resolveComponentFactory(n),this.componentTypes.push(i.componentType);const a=function OK(e){return e.isBoundToModule}(i)?void 0:this._injector.get(zi),l=i.create(Ln.NULL,[],r||i.selector,a),u=l.location.nativeElement,d=l.injector.get(Wx,null);return d?.registerApplication(u),l.onDestroy(()=>{this.detachView(l.hostView),Xg(this.components,l),d?.unregisterApplication(u)}),this._loadComponent(l),l}tick(){this._tick(!0)}_tick(n){if(this._runningTick)throw new M(101,!1);const r=ue(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(n)}catch(o){this.internalErrorHandler(o)}finally{this.afterTick.next(),this._runningTick=!1,ue(r)}}detectChangesInAttachedViews(n){let r=0;const o=this.afterRenderEffectManager;for(;;){if(r===aA)throw new M(103,!1);if(n){const s=0===r;this.beforeRender.next(s);for(let{_lView:i,notifyErrorHandler:a}of this._views)kK(i,s,a)}if(r++,o.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>QC(s))&&(o.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>QC(s))))break}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;Xg(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(YC,[]);[...this._bootstrapListeners,...r].forEach(o=>o(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Xg(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new M(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Xg(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}function kK(e,t,n){!t&&!QC(e)||function NK(e,t,n){let r;n?(r=0,e[H]|=1024):r=64&e[H]?0:1,mg(e,t,r)}(e,n,t)}function QC(e){return Mb(e)}class xK{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let FK=(()=>{class e{compileModuleSync(n){return new lC(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),s=Qn(cn(n).declarations).reduce((i,a)=>{const c=he(a);return c&&i.push(new kd(c)),i},[]);return new xK(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),VK=(()=>{class e{constructor(){this.zone=N(Ne),this.applicationRef=N(Gs)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function jK(){const e=N(Ne),t=N(po);return n=>e.runOutsideAngular(()=>t.handleError(n))}let UK=(()=>{class e{constructor(){this.subscription=new bn,this.initialized=!1,this.zone=N(Ne),this.pendingTasks=N(Us)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ne.assertNotInAngularZone(),queueMicrotask(()=>{null!==n&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ne.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const Jo=new P("",{providedIn:"root",factory:()=>N(Jo,pe.Optional|pe.SkipSelf)||function $K(){return typeof $localize<"u"&&$localize.locale||el}()}),JC=new P("");let eF=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const o=function _8(e="zone.js",t){return"noop"===e?new wA:"zone.js"===e?new Ne(t):e}(r?.ngZone,function Zx(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return o.run(()=>{const s=function u5(e,t,n){return new cC(e,t,n)}(n.moduleType,this.injector,function Jx(e){return[{provide:Ne,useFactory:e},{provide:Pi,multi:!0,useFactory:()=>{const t=N(VK,{optional:!0});return()=>t.initialize()}},{provide:Pi,multi:!0,useFactory:()=>{const t=N(UK);return()=>{t.initialize()}}},{provide:RR,useFactory:jK}]}(()=>o)),i=s.injector.get(po,null);return o.runOutsideAngular(()=>{const a=o.onError.subscribe({next:c=>{i.handleError(c)}});s.onDestroy(()=>{Xg(this._modules,s),a.unsubscribe()})}),function Kx(e,t,n){try{const r=n();return Jd(r)?r.catch(o=>{throw t.runOutsideAngular(()=>e.handleError(o)),o}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(i,o,()=>{const a=s.injector.get(KC);return a.runInitializers(),a.donePromise.then(()=>(function pN(e){"string"==typeof e&&(hN=e.toLowerCase().replace(/_/g,"-"))}(s.injector.get(Jo,el)||el),this._moduleDoBootstrap(s),s))})})}bootstrapModule(n,r=[]){const o=Yx({},r);return function LK(e,t,n){const r=new lC(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,o))}_moduleDoBootstrap(n){const r=n.injector.get(Gs);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(o=>r.bootstrap(o));else{if(!n.instance.ngDoBootstrap)throw new M(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new M(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(JC,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(r){return new(r||e)(j(Ln))}}static{this.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})(),Xs=null;const tF=new P("");function nF(e,t,n=[]){const r=`Platform: ${t}`,o=new P(r);return(s=[])=>{let i=ZC();if(!i||i.injector.get(tF,!1)){const a=[...n,...s,{provide:o,useValue:!0}];e?e(a):function zK(e){if(Xs&&!Xs.get(tF,!1))throw new M(400,!1);(function Xx(){!function Xq(e){X0=e}(()=>{throw new M(600,!1)})})(),Xs=e;const t=e.get(eF);(function oF(e){e.get(QR,null)?.forEach(n=>n())})(e)}(function rF(e=[],t){return Ln.create({name:t,providers:[{provide:fb,useValue:"platform"},{provide:JC,useValue:new Set([()=>Xs=null])},...e]})}(a,r))}return function WK(e){const t=ZC();if(!t)throw new M(401,!1);return t}()}}function ZC(){return Xs?.get(eF)??null}let Zd=(()=>{class e{static{this.__NG_ELEMENT_ID__=XK}}return e})();function XK(e){return function KK(e,t,n){if(ji(e)&&!n){const r=Kn(e.index,t);return new wd(r,r)}return 47&e.type?new wd(t[ht],t):null}(Le(),w(),!(16&~e))}class lF{constructor(){}supports(t){return Rg(t)}create(t){return new eY(t)}}const ZK=(e,t)=>t;class eY{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||ZK}forEachItem(t){let n;for(n=this._itHead;null!==n;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,o=0,s=null;for(;n||r;){const i=!r||n&&n.currentIndex<dF(r,o,s)?n:r,a=dF(i,o,s),c=i.currentIndex;if(i===r)o--,r=r._nextRemoved;else if(n=n._next,null==i.previousIndex)o++;else{s||(s=[]);const l=a-o,u=c-o;if(l!=u){for(let f=0;f<l;f++){const p=f<s.length?s[f]:s[f]=0,g=p+f;u<=g&&g<l&&(s[f]=p+1)}s[i.previousIndex]=u-l}}a!==c&&t(i,a,c)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)t(n)}diff(t){if(null==t&&(t=[]),!Rg(t))throw new M(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let o,s,i,n=this._itHead,r=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)s=t[a],i=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,i)?(r&&(n=this._verifyReinsertion(n,s,i,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,i,a),r=!0),n=n._next}else o=0,function p5(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Symbol.iterator]();let r;for(;!(r=n.next()).done;)t(r.value)}}(t,a=>{i=this._trackByFn(o,a),null!==n&&Object.is(n.trackById,i)?(r&&(n=this._verifyReinsertion(n,a,i,o)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,i,o),r=!0),n=n._next,o++}),this.length=o;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,o){let s;return null===t?s=this._itTail:(s=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,s,o)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(r,o))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,s,o)):t=this._addAfter(new tY(n,r),s,o),t}_verifyReinsertion(t,n,r,o){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?t=this._reinsertAfter(s,t._prev,o):t.currentIndex!=o&&(t.currentIndex=o,this._addToMoves(t,o)),t}_truncate(t){for(;null!==t;){const n=t._next;this._addToRemovals(this._unlink(t)),t=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const o=t._prevRemoved,s=t._nextRemoved;return null===o?this._removalsHead=s:o._nextRemoved=s,null===s?this._removalsTail=o:s._prevRemoved=o,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){const o=null===n?this._itHead:n._next;return t._next=o,t._prev=n,null===o?this._itTail=t:o._prev=t,null===n?this._itHead=t:n._next=t,null===this._linkedRecords&&(this._linkedRecords=new uF),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const n=t._prev,r=t._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new uF),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class tY{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class nY{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){const n=t._prevDup,r=t._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class uF{constructor(){this.map=new Map}put(t){const n=t.trackById;let r=this.map.get(n);r||(r=new nY,this.map.set(n,r)),r.add(t)}get(t,n){const o=this.map.get(t);return o?o.get(t,n):null}remove(t){const n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function dF(e,t,n){const r=e.previousIndex;if(null===r)return r;let o=0;return n&&r<n.length&&(o=n[r]),r+t+o}function hF(){return new oS([new lF])}let oS=(()=>{class e{static{this.\u0275prov=L({token:e,providedIn:"root",factory:hF})}constructor(n){this.factories=n}static create(n,r){if(null!=r){const o=r.factories.slice();n=n.concat(o)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||hF()),deps:[[e,new rb,new nb]]}}find(n){const r=this.factories.find(o=>o.supports(n));if(null!=r)return r;throw new M(901,!1)}}return e})();const aY=nF(null,"core",[]);let cY=(()=>{class e{constructor(n){}static{this.\u0275fac=function(r){return new(r||e)(j(Gs))}}static{this.\u0275mod=io({type:e})}static{this.\u0275inj=Vr({})}}return e})();function PF(e){const t=ue(null);try{return e()}finally{ue(t)}}let LF=null;function Ks(){return LF}class qY{}const vr=new P("");let VF=(()=>{class e{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=L({token:e,factory:()=>N(zY),providedIn:"platform"})}}return e})(),zY=(()=>{class e extends VF{constructor(){super(),this._doc=N(vr),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ks().getBaseHref(this._doc)}onPopState(n){const r=Ks().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=Ks().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,o){this._history.pushState(n,r,o)}replaceState(n,r,o){this._history.replaceState(n,r,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=L({token:e,factory:()=>new e,providedIn:"platform"})}}return e})();function jF(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function BF(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function Ji(e){return e&&"?"!==e[0]?"?"+e:e}let om=(()=>{class e{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=L({token:e,factory:()=>N(GY),providedIn:"root"})}}return e})();const WY=new P("");let GY=(()=>{class e extends om{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??N(vr).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return jF(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+Ji(this._platformLocation.search),o=this._platformLocation.hash;return o&&n?`${r}${o}`:r}pushState(n,r,o,s){const i=this.prepareExternalUrl(o+Ji(s));this._platformLocation.pushState(n,r,i)}replaceState(n,r,o,s){const i=this.prepareExternalUrl(o+Ji(s));this._platformLocation.replaceState(n,r,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||e)(j(VF),j(WY,8))}}static{this.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),nf=(()=>{class e{constructor(n){this._subject=new at,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function YY(e){if(new RegExp("^(https?:)?//").test(e)){const[,n]=e.split(/\/\/[^\/]+/);return n}return e}(BF(UF(r))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Ji(r))}normalize(n){return e.stripTrailingSlash(function KY(e,t){if(!e||!t.startsWith(e))return t;const n=t.substring(e.length);return""===n||["/",";","?","#"].includes(n[0])?n:t}(this._basePath,UF(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",o=null){this._locationStrategy.pushState(o,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Ji(r)),o)}replaceState(n,r="",o=null){this._locationStrategy.replaceState(o,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Ji(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(o=>o(n,r))}subscribe(n,r,o){return this._subject.subscribe({next:n,error:r,complete:o})}static{this.normalizeQueryParams=Ji}static{this.joinWithSlash=jF}static{this.stripTrailingSlash=BF}static{this.\u0275fac=function(r){return new(r||e)(j(om))}}static{this.\u0275prov=L({token:e,factory:()=>function XY(){return new nf(j(om))}(),providedIn:"root"})}}return e})();function UF(e){return e.replace(/\/index.html$/,"")}function YF(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const r=n.indexOf("="),[o,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(o.trim()===t)return decodeURIComponent(s)}return null}class PQ{constructor(t,n,r,o){this.$implicit=t,this.ngForOf=n,this.index=r,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let _S=(()=>{class e{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,o){this._viewContainer=n,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((o,s,i)=>{if(null==o.previousIndex)r.createEmbeddedView(this._template,new PQ(o.item,this._ngForOf,-1,-1),null===i?void 0:i);else if(null==i)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,i),ZF(a,o)}});for(let o=0,s=r.length;o<s;o++){const a=r.get(o).context;a.index=o,a.count=s,a.ngForOf=this._ngForOf}n.forEachIdentityChange(o=>{ZF(r.get(o.currentIndex),o)})}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||e)(A(Wr),A(Yo),A(oS))}}static{this.\u0275dir=ee({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return e})();function ZF(e,t){e.context.$implicit=t.item}let mm=(()=>{class e{constructor(n,r){this._viewContainer=n,this._context=new LQ,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){eP("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){eP("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||e)(A(Wr),A(Yo))}}static{this.\u0275dir=ee({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return e})();class LQ{constructor(){this.$implicit=null,this.ngIf=null}}function eP(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${Pt(t)}'.`)}class UQ{createSubscription(t,n){return PF(()=>t.subscribe({next:n,error:r=>{throw r}}))}dispose(t){PF(()=>t.unsubscribe())}}class $Q{createSubscription(t,n){return t.then(n,r=>{throw r})}dispose(t){}}const HQ=new $Q,qQ=new UQ;let bS=(()=>{class e{constructor(n){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){if(!this._obj){if(n)try{this.markForCheckOnValueUpdate=!1,this._subscribe(n)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,r=>this._updateLatestValue(n,r))}_selectStrategy(n){if(Jd(n))return HQ;if(Gx(n))return qQ;throw function Yr(e,t){return new M(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,r){n===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static{this.\u0275fac=function(r){return new(r||e)(A(Zd,16))}}static{this.\u0275pipe=Pn({name:"async",type:e,pure:!1,standalone:!0})}}return e})(),rP=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=io({type:e})}static{this.\u0275inj=Vr({})}}return e})();const oP="browser";function sP(e){return e===oP}function iP(e){return"server"===e}class _m{}class jJ extends qY{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class wS extends jJ{static makeCurrent(){!function HY(e){LF??=e}(new wS)}onAndCancel(t,n,r){return t.addEventListener(n,r),()=>{t.removeEventListener(n,r)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,n){return(n=n||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return"window"===n?window:"document"===n?t:"body"===n?t.body:null}getBaseHref(t){const n=function BJ(){return cf=cf||document.querySelector("base"),cf?cf.getAttribute("href"):null}();return null==n?null:function UJ(e){return new URL(e,document.baseURI).pathname}(n)}resetBaseElement(){cf=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return YF(document.cookie,t)}}let cf=null,HJ=(()=>{class e{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=L({token:e,factory:e.\u0275fac})}}return e})();const DS=new P("");let gP=(()=>{class e{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(o=>{o.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,o){return this._findPluginFor(r).addEventListener(n,r,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(s=>s.supports(n)),!r)throw new M(5101,!1);return this._eventNameToPlugin.set(n,r),r}static{this.\u0275fac=function(r){return new(r||e)(j(DS),j(Ne))}}static{this.\u0275prov=L({token:e,factory:e.\u0275fac})}}return e})();class mP{constructor(t){this._doc=t}}const MS="ng-app-id";let _P=(()=>{class e{constructor(n,r,o,s={}){this.doc=n,this.appId=r,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=iP(s),this.resetHostNodes()}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.elements?.forEach(o=>o.remove()),r.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${MS}="${this.appId}"]`);if(n?.length){const r=new Map;return n.forEach(o=>{null!=o.textContent&&r.set(o.textContent,o)}),r}return null}changeUsageCount(n,r){const o=this.styleRef;if(o.has(n)){const s=o.get(n);return s.usage+=r,s.usage}return o.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){const o=this.styleNodesInDOM,s=o?.get(r);if(s?.parentNode===n)return o.delete(r),s.removeAttribute(MS),s;{const i=this.doc.createElement("style");return this.nonce&&i.setAttribute("nonce",this.nonce),i.textContent=r,this.platformIsServer&&i.setAttribute(MS,this.appId),n.appendChild(i),i}}addStyleToHost(n,r){const o=this.getStyleElement(n,r),s=this.styleRef,i=s.get(r)?.elements;i?i.push(o):s.set(r,{elements:[o],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||e)(j(vr),j(Yp),j(Qb,8),j(Go))}}static{this.\u0275prov=L({token:e,factory:e.\u0275fac})}}return e})();const IS={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},TS=/%COMP%/g,GJ=new P("",{providedIn:"root",factory:()=>!0});function vP(e,t){return t.map(n=>n.replace(TS,e))}let bP=(()=>{class e{constructor(n,r,o,s,i,a,c,l=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=i,this.platformId=a,this.ngZone=c,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=iP(a),this.defaultRenderer=new RS(n,i,c,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===jr.ShadowDom&&(r={...r,encapsulation:jr.Emulated});const o=this.getOrCreateRenderer(n,r);return o instanceof CP?o.applyToHost(n):o instanceof OS&&o.applyStyles(),o}getOrCreateRenderer(n,r){const o=this.rendererByCompId;let s=o.get(r.id);if(!s){const i=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case jr.Emulated:s=new CP(c,l,r,this.appId,u,i,a,d);break;case jr.ShadowDom:return new QJ(c,l,n,r,i,a,this.nonce,d);default:s=new OS(c,l,r,u,i,a,d)}o.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||e)(j(gP),j(_P),j(Yp),j(GJ),j(vr),j(Go),j(Ne),j(Qb))}}static{this.\u0275prov=L({token:e,factory:e.\u0275fac})}}return e})();class RS{constructor(t,n,r,o){this.eventManager=t,this.doc=n,this.ngZone=r,this.platformIsServer=o,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t,n){return n?this.doc.createElementNS(IS[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(EP(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(EP(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){t&&t.removeChild(n)}selectRootElement(t,n){let r="string"==typeof t?this.doc.querySelector(t):t;if(!r)throw new M(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,o){if(o){n=o+":"+n;const s=IS[o];s?t.setAttributeNS(s,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){const o=IS[r];o?t.removeAttributeNS(o,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,o){o&(Vs.DashCase|Vs.Important)?t.style.setProperty(n,r,o&Vs.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&Vs.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){null!=t&&(t[n]=r)}setValue(t,n){t.nodeValue=n}listen(t,n,r){if("string"==typeof t&&!(t=Ks().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${n}`);return this.eventManager.addEventListener(t,n,this.decoratePreventDefault(r))}decoratePreventDefault(t){return n=>{if("__ngUnwrap__"===n)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(n)):t(n))&&n.preventDefault()}}}function EP(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class QJ extends RS{constructor(t,n,r,o,s,i,a,c){super(t,s,i,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=vP(o.id,o.styles);for(const u of l){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(this.nodeOrShadowRoot(t),n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class OS extends RS{constructor(t,n,r,o,s,i,a,c){super(t,s,i,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=o,this.styles=c?vP(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class CP extends OS{constructor(t,n,r,o,s,i,a,c){const l=o+"-"+r.id;super(t,n,r,s,i,a,c,l),this.contentAttr=function XJ(e){return"_ngcontent-%COMP%".replace(TS,e)}(l),this.hostAttr=function KJ(e){return"_nghost-%COMP%".replace(TS,e)}(l)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){const r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}}let JJ=(()=>{class e extends mP{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,o){return n.addEventListener(r,o,!1),()=>this.removeEventListener(n,r,o)}removeEventListener(n,r,o){return n.removeEventListener(r,o)}static{this.\u0275fac=function(r){return new(r||e)(j(vr))}}static{this.\u0275prov=L({token:e,factory:e.\u0275fac})}}return e})();const SP=["alt","control","meta","shift"],ZJ={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},eZ={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let tZ=(()=>{class e extends mP{constructor(n){super(n)}supports(n){return null!=e.parseEventName(n)}addEventListener(n,r,o){const s=e.parseEventName(r),i=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ks().onAndCancel(n,s.domEventName,i))}static parseEventName(n){const r=n.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const s=e._normalizeKey(r.pop());let i="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),i="code."),SP.forEach(l=>{const u=r.indexOf(l);u>-1&&(r.splice(u,1),i+=l+".")}),i+=s,0!=r.length||0===s.length)return null;const c={};return c.domEventName=o,c.fullKey=i,c}static matchEventFullKeyCode(n,r){let o=ZJ[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(o=n.code,s="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),SP.forEach(i=>{i!==o&&(0,eZ[i])(n)&&(s+=i+".")}),s+=o,s===r)}static eventCallback(n,r,o){return s=>{e.matchEventFullKeyCode(s,n)&&o.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}static{this.\u0275fac=function(r){return new(r||e)(j(vr))}}static{this.\u0275prov=L({token:e,factory:e.\u0275fac})}}return e})();const sZ=nF(aY,"browser",[{provide:Go,useValue:oP},{provide:QR,useValue:function nZ(){wS.makeCurrent()},multi:!0},{provide:vr,useFactory:function oZ(){return function UG(e){Yb=e}(document),document},deps:[]}]),iZ=new P(""),MP=[{provide:Gg,useClass:class $J{addToWindow(t){ke.getAngularTestability=(r,o=!0)=>{const s=t.findTestabilityInTree(r,o);if(null==s)throw new M(5103,!1);return s},ke.getAllAngularTestabilities=()=>t.getAllTestabilities(),ke.getAllAngularRootElements=()=>t.getAllRootElements(),ke.frameworkStabilizers||(ke.frameworkStabilizers=[]),ke.frameworkStabilizers.push(r=>{const o=ke.getAllAngularTestabilities();let s=o.length;const i=function(){s--,0==s&&r()};o.forEach(a=>{a.whenStable(i)})})}findTestabilityInTree(t,n,r){return null==n?null:t.getTestability(n)??(r?Ks().isShadowRoot(n)?this.findTestabilityInTree(t,n.host,!0):this.findTestabilityInTree(t,n.parentElement,!0):null)}},deps:[]},{provide:Wx,useClass:WC,deps:[Ne,GC,Gg]},{provide:WC,useClass:WC,deps:[Ne,GC,Gg]}],IP=[{provide:fb,useValue:"root"},{provide:po,useFactory:function rZ(){return new po},deps:[]},{provide:DS,useClass:JJ,multi:!0,deps:[vr,Ne,Go]},{provide:DS,useClass:tZ,multi:!0,deps:[vr]},bP,_P,gP,{provide:vA,useExisting:bP},{provide:_m,useClass:HJ,deps:[]},[]];let aZ=(()=>{class e{constructor(n){}static withServerTransition(n){return{ngModule:e,providers:[{provide:Yp,useValue:n.appId}]}}static{this.\u0275fac=function(r){return new(r||e)(j(iZ,12))}}static{this.\u0275mod=io({type:e})}static{this.\u0275inj=Vr({providers:[...IP,...MP],imports:[rP,cY]})}}return e})(),cZ=(()=>{class e{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static{this.\u0275fac=function(r){return new(r||e)(j(vr))}}static{this.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function AP(e){return Array.isArray(e)?e:[e]}const{isArray:hZ}=Array,{getPrototypeOf:pZ,prototype:gZ,keys:mZ}=Object;function kP(e){if(1===e.length){const t=e[0];if(hZ(t))return{args:t,keys:null};if(function _Z(e){return e&&"object"==typeof e&&pZ(e)===gZ}(t)){const n=mZ(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}function Ys(e){return this instanceof Ys?(this.v=e,this):new Ys(e)}function PP(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=e[Symbol.asyncIterator];return t?t.call(e):(e=function xS(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=e[s]&&function(i){return new Promise(function(a,c){!function o(s,i,a,c){Promise.resolve(c).then(function(l){s({value:l,done:a})},i)}(a,c,(i=e[s](i)).done,i.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const LP=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function VP(e){return nt(e?.then)}function jP(e){return nt(e[Uv])}function BP(e){return Symbol.asyncIterator&&nt(e?.[Symbol.asyncIterator])}function UP(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const $P=function jZ(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function HP(e){return nt(e?.[$P])}function qP(e){return function FP(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,r=n.apply(e,t||[]),s=[];return o={},i("next"),i("throw"),i("return"),o[Symbol.asyncIterator]=function(){return this},o;function i(f){r[f]&&(o[f]=function(p){return new Promise(function(g,m){s.push([f,p,g,m])>1||a(f,p)})})}function a(f,p){try{!function c(f){f.value instanceof Ys?Promise.resolve(f.value.v).then(l,u):d(s[0][2],f)}(r[f](p))}catch(g){d(s[0][3],g)}}function l(f){a("next",f)}function u(f){a("throw",f)}function d(f,p){f(p),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const n=e.getReader();try{for(;;){const{value:r,done:o}=yield Ys(n.read());if(o)return yield Ys(void 0);yield yield Ys(r)}}finally{n.releaseLock()}})}function zP(e){return nt(e?.getReader)}function Qr(e){if(e instanceof We)return e;if(null!=e){if(jP(e))return function BZ(e){return new We(t=>{const n=e[Uv]();if(nt(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(LP(e))return function UZ(e){return new We(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}(e);if(VP(e))return function $Z(e){return new We(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,eT)})}(e);if(BP(e))return WP(e);if(HP(e))return function HZ(e){return new We(t=>{for(const n of e)if(t.next(n),t.closed)return;t.complete()})}(e);if(zP(e))return function qZ(e){return WP(qP(e))}(e)}throw UP(e)}function WP(e){return new We(t=>{(function zZ(e,t){var n,r,o,s;return function NP(e,t,n,r){return new(n||(n=Promise))(function(s,i){function a(u){try{l(r.next(u))}catch(d){i(d)}}function c(u){try{l(r.throw(u))}catch(d){i(d)}}function l(u){u.done?s(u.value):function o(s){return s instanceof n?s:new n(function(i){i(s)})}(u.value).then(a,c)}l((r=r.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){try{for(n=PP(e);!(r=yield n.next()).done;)if(t.next(r.value),t.closed)return}catch(i){o={error:i}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(o)throw o.error}}t.complete()})})(e,t).catch(n=>t.error(n))})}function ts(e,t,n,r=0,o=!1){const s=t.schedule(function(){n(),o?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(s),!o)return s}function GP(e,t=0){return Ft((n,r)=>{n.subscribe(Tt(r,o=>ts(r,e,()=>r.next(o),t),()=>ts(r,e,()=>r.complete(),t),o=>ts(r,e,()=>r.error(o),t)))})}function XP(e,t=0){return Ft((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function KP(e,t){if(!e)throw new Error("Iterable cannot be null");return new We(n=>{ts(n,t,()=>{const r=e[Symbol.asyncIterator]();ts(n,t,()=>{r.next().then(o=>{o.done?n.complete():n.next(o.value)})},0,!0)})})}function Kt(e,t){return t?function QZ(e,t){if(null!=e){if(jP(e))return function WZ(e,t){return Qr(e).pipe(XP(t),GP(t))}(e,t);if(LP(e))return function XZ(e,t){return new We(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}(e,t);if(VP(e))return function GZ(e,t){return Qr(e).pipe(XP(t),GP(t))}(e,t);if(BP(e))return KP(e,t);if(HP(e))return function KZ(e,t){return new We(n=>{let r;return ts(n,t,()=>{r=e[$P](),ts(n,t,()=>{let o,s;try{({value:o,done:s}=r.next())}catch(i){return void n.error(i)}s?n.complete():n.next(o)},0,!0)}),()=>nt(r?.return)&&r.return()})}(e,t);if(zP(e))return function YZ(e,t){return KP(qP(e),t)}(e,t)}throw UP(e)}(e,t):Qr(e)}const{isArray:JZ}=Array;function YP(e){return ie(t=>function ZZ(e,t){return JZ(t)?e(...t):e(t)}(e,t))}function QP(e){return e&&nt(e.schedule)}function FS(e){return e[e.length-1]}function JP(e){return nt(FS(e))?e.pop():void 0}function Em(e){return QP(FS(e))?e.pop():void 0}function ZP(e,t){return e.reduce((n,r,o)=>(n[r]=t[o],n),{})}function Cm(...e){const t=Em(e),n=JP(e),{args:r,keys:o}=kP(e);if(0===r.length)return Kt([],t);const s=new We(function eee(e,t,n=xi){return r=>{e1(t,()=>{const{length:o}=e,s=new Array(o);let i=o,a=o;for(let c=0;c<o;c++)e1(t,()=>{const l=Kt(e[c],t);let u=!1;l.subscribe(Tt(r,d=>{s[c]=d,u||(u=!0,a--),a||r.next(n(s.slice()))},()=>{--i||r.complete()}))},r)},r)}}(r,t,o?i=>ZP(o,i):xi));return n?s.pipe(YP(n)):s}function e1(e,t,n){e?ts(n,e,t):t()}function Tn(e,t,n=1/0){return nt(t)?Tn((r,o)=>ie((s,i)=>t(r,s,o,i))(Qr(e(r,o))),n):("number"==typeof t&&(n=t),Ft((r,o)=>function tee(e,t,n,r,o,s,i,a){const c=[];let l=0,u=0,d=!1;const f=()=>{d&&!c.length&&!l&&t.complete()},p=m=>l<r?g(m):c.push(m),g=m=>{s&&t.next(m),l++;let y=!1;Qr(n(m,u++)).subscribe(Tt(t,b=>{o?.(b),s?p(b):t.next(b)},()=>{y=!0},void 0,()=>{if(y)try{for(l--;c.length&&l<r;){const b=c.shift();i?ts(t,i,()=>g(b)):g(b)}f()}catch(b){t.error(b)}}))};return e.subscribe(Tt(t,p,()=>{d=!0,f()})),()=>{a?.()}}(r,o,e,n)))}function Sm(...e){return function nee(){return function PS(e=1/0){return Tn(xi,e)}(1)}()(Kt(e,Em(e)))}const bo=new We(e=>e.complete());function Qs(e){return e<=0?()=>bo:Ft((t,n)=>{let r=0;t.subscribe(Tt(n,o=>{++r<=e&&(n.next(o),e<=r&&n.complete())}))})}function ns(e,t){return Ft((n,r)=>{let o=0;n.subscribe(Tt(r,s=>e.call(t,s,o++)&&r.next(s)))})}class see extends bn{constructor(t,n){super()}schedule(t,n=0){return this}}const wm={setInterval(e,t,...n){const{delegate:r}=wm;return r?.setInterval?r.setInterval(e,t,...n):setInterval(e,t,...n)},clearInterval(e){const{delegate:t}=wm;return(t?.clearInterval||clearInterval)(e)},delegate:void 0},LS={now:()=>(LS.delegate||Date).now(),delegate:void 0};class uf{constructor(t,n=uf.now){this.schedulerActionCtor=t,this.now=n}schedule(t,n=0,r){return new this.schedulerActionCtor(this,t).schedule(r,n)}}uf.now=LS.now;const t1=new class aee extends uf{constructor(t,n=uf.now){super(t,n),this.actions=[],this._active=!1}flush(t){const{actions:n}=this;if(this._active)return void n.push(t);let r;this._active=!0;do{if(r=t.execute(t.state,t.delay))break}while(t=n.shift());if(this._active=!1,r){for(;t=n.shift();)t.unsubscribe();throw r}}}(class iee extends see{constructor(t,n){super(t,n),this.scheduler=t,this.work=n,this.pending=!1}schedule(t,n=0){var r;if(this.closed)return this;this.state=t;const o=this.id,s=this.scheduler;return null!=o&&(this.id=this.recycleAsyncId(s,o,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(t,n,r=0){return wm.setInterval(t.flush.bind(t,this),r)}recycleAsyncId(t,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&wm.clearInterval(n)}execute(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(t,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,n){let o,r=!1;try{this.work(t)}catch(s){r=!0,o=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),o}unsubscribe(){if(!this.closed){const{id:t,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,hp(r,this),null!=t&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,super.unsubscribe()}}}),cee=t1;function Dm(...e){const t=Em(e);return Ft((n,r)=>{(t?Sm(e,n,t):Sm(e,n)).subscribe(r)})}function n1(e){return Ft((t,n)=>{Qr(e).subscribe(Tt(n,()=>n.complete(),Pv)),!n.closed&&t.subscribe(n)})}let VS;try{VS=typeof Intl<"u"&&Intl.v8BreakIterator}catch{VS=!1}let uee=(()=>{class e{constructor(n){this._platformId=n,this.isBrowser=this._platformId?sP(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!VS)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static{this.\u0275fac=function(r){return new(r||e)(j(Go))}}static{this.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const o1=new Set;let ea,hee=(()=>{class e{constructor(n,r){this._platform=n,this._nonce=r,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):gee}matchMedia(n){return(this._platform.WEBKIT||this._platform.BLINK)&&function pee(e,t){if(!o1.has(e))try{ea||(ea=document.createElement("style"),t&&ea.setAttribute("nonce",t),ea.setAttribute("type","text/css"),document.head.appendChild(ea)),ea.sheet&&(ea.sheet.insertRule(`@media ${e} {body{ }}`,0),o1.add(e))}catch(n){console.error(n)}}(n,this._nonce),this._matchMedia(n)}static{this.\u0275fac=function(r){return new(r||e)(j(uee),j(Qb,8))}}static{this.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function gee(e){return{matches:"all"===e||""===e,media:e,addListener:()=>{},removeListener:()=>{}}}let mee=(()=>{class e{constructor(n,r){this._mediaMatcher=n,this._zone=r,this._queries=new Map,this._destroySubject=new Xt}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(n){return s1(AP(n)).some(o=>this._registerQuery(o).mql.matches)}observe(n){let s=Cm(s1(AP(n)).map(i=>this._registerQuery(i).observable));return s=Sm(s.pipe(Qs(1)),s.pipe(function oee(e){return ns((t,n)=>e<=n)}(1),function lee(e,t=t1){return Ft((n,r)=>{let o=null,s=null,i=null;const a=()=>{if(o){o.unsubscribe(),o=null;const l=s;s=null,r.next(l)}};function c(){const l=i+e,u=t.now();if(u<l)return o=this.schedule(void 0,l-u),void r.add(o);a()}n.subscribe(Tt(r,l=>{s=l,i=t.now(),o||(o=t.schedule(c,e),r.add(o))},()=>{a(),r.complete()},void 0,()=>{s=o=null}))})}(0))),s.pipe(ie(i=>{const a={matches:!1,breakpoints:{}};return i.forEach(({matches:c,query:l})=>{a.matches=a.matches||c,a.breakpoints[l]=c}),a}))}_registerQuery(n){if(this._queries.has(n))return this._queries.get(n);const r=this._mediaMatcher.matchMedia(n),s={observable:new We(i=>{const a=c=>this._zone.run(()=>i.next(c));return r.addListener(a),()=>{r.removeListener(a)}}).pipe(Dm(r),ie(({matches:i})=>({query:n,matches:i})),n1(this._destroySubject)),mql:r};return this._queries.set(n,s),s}static{this.\u0275fac=function(r){return new(r||e)(j(hee),j(Ne))}}static{this.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function s1(e){return e.map(t=>t.split(",")).reduce((t,n)=>t.concat(n)).map(t=>t.trim())}var ta=function(e){return e.LIGHT="light",e.DARK="dark",e}(ta||{});let yee=(()=>{class e{constructor(n){this.document=n,this.currentMode=ta.LIGHT,this.modeChangedSubject=new Nn(this.currentMode),this.modeChanged$=this.modeChangedSubject.asObservable(),this.init()}updateCurrentMode(n){this.currentMode=n,this.modeChangedSubject.next(this.currentMode)}init(){const n=window.matchMedia("(prefers-color-scheme: dark)");let r=ta.LIGHT;r=n.matches?ta.DARK:ta.LIGHT,this.updateCurrentMode(r),this.document.body.classList.add(this.currentMode)}static{this.\u0275fac=function(r){return new(r||e)(j(vr))}}static{this.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function te(...e){return Kt(e,Em(e))}function i1(e=0,t,n=cee){let r=-1;return null!=t&&(QP(t)?n=t:r=t),new We(o=>{let s=function vee(e){return e instanceof Date&&!isNaN(e)}(e)?+e-n.now():e;s<0&&(s=0);let i=0;return n.schedule(function(){o.closed||(o.next(i++),0<=r?this.schedule(void 0,r):o.complete())},s)})}function pn(e,t,n){const r=nt(e)||t||n?{next:e,error:t,complete:n}:e;return r?Ft((o,s)=>{var i;null===(i=r.subscribe)||void 0===i||i.call(r);let a=!0;o.subscribe(Tt(s,c=>{var l;null===(l=r.next)||void 0===l||l.call(r,c),s.next(c)},()=>{var c;a=!1,null===(c=r.complete)||void 0===c||c.call(r),s.complete()},c=>{var l;a=!1,null===(l=r.error)||void 0===l||l.call(r,c),s.error(c)},()=>{var c,l;a&&(null===(c=r.unsubscribe)||void 0===c||c.call(r)),null===(l=r.finalize)||void 0===l||l.call(r)}))}):xi}function Cr(e,t){return Ft((n,r)=>{let o=null,s=0,i=!1;const a=()=>i&&!o&&r.complete();n.subscribe(Tt(r,c=>{o?.unsubscribe();let l=0;const u=s++;Qr(e(c,u)).subscribe(o=Tt(r,d=>r.next(t?t(c,d,u,l++):d),()=>{o=null,a()}))},()=>{i=!0,a()}))})}class bee extends Xt{constructor(t=1/0,n=1/0,r=LS){super(),this._bufferSize=t,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,n)}next(t){const{isStopped:n,_buffer:r,_infiniteTimeWindow:o,_timestampProvider:s,_windowTime:i}=this;n||(r.push(t),!o&&r.push(s.now()+i)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const n=this._innerSubscribe(t),{_infiniteTimeWindow:r,_buffer:o}=this,s=o.slice();for(let i=0;i<s.length&&!t.closed;i+=r?1:2)t.next(s[i]);return this._checkFinalizedStatuses(t),n}_trimBuffer(){const{_bufferSize:t,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:o}=this,s=(o?1:2)*t;if(t<1/0&&s<r.length&&r.splice(0,r.length-s),!o){const i=n.now();let a=0;for(let c=1;c<r.length&&r[c]<=i;c+=2)a=c;a&&r.splice(0,a+1)}}}function BS(e,t,...n){if(!0===t)return void e();if(!1===t)return;const r=new Uu({next:()=>{r.unsubscribe(),e()}});return t(...n).subscribe(r)}function See(e,t){if(1&e&&(Ie(0,"div",3),wn(1,"div",4),Fe()),2&e){const n=_r(2);ot(),qs("width",n.diameter)("height",n.diameter)}}function wee(e,t){if(1&e&&wn(0,"div",5),2&e){const n=_r().ngIf,r=_r();qs("background",r.color)("height",r.height)("width",n+"%")}}function Dee(e,t){if(1&e&&(zs(0),Sn(1,See,2,4,"div",1)(2,wee,1,6,"div",2),Ws()),2&e){const n=_r();ot(),mt("ngIf",n.includeSpinner),ot(),mt("ngIf",n.includeBar)}}function Mee(e,t){if(1&e&&(Ie(0,"div",3),wn(1,"div",4),Fe()),2&e){const n=_r(2);ot(),qs("width",n.diameter)("height",n.diameter)}}function Iee(e,t){if(1&e&&wn(0,"div",5),2&e){const n=_r().ngIf,r=_r();qs("background",r.color)("height",r.height)("width",n+"%")}}function Tee(e,t){if(1&e&&(zs(0),Sn(1,Mee,2,4,"div",1)(2,Iee,1,6,"div",2),Ws()),2&e){const n=_r();ot(),mt("ngIf",n.includeSpinner),ot(),mt("ngIf",n.includeBar)}}class Oee{constructor(t={}){this.config=t,this.state={action:null,value:0,initialValue:0},this.requests=null,this.disabled=!1,this.stream$=new Xt,this._value$=null,this.timer$=n=>{let r=te(n);switch(n.action){case"start":case"increment":case"set":"start"===n.action&&0===this.config.latencyThreshold&&0===n.value&&(n.value=n.initialValue),this.requests>0&&(r=i1(this.config.latencyThreshold,250).pipe(ie(o=>({...n,value:0===o?this.state.value||n.initialValue:this._increment()}))));break;case"complete":case"stop":r=0===n.value?te({...n}):i1(0,500).pipe(Qs(2),ie(o=>({value:0===o?100:0})))}return r.pipe(ie(o=>({...o,action:"set"})),pn(o=>this.next(o,!1)))},this.config={latencyThreshold:0,...t}}get value$(){return this._value$?this._value$:this._value$=this.stream$.pipe(Dm(this.state),Cr(t=>this.timer$(t)),function Cee(e,t,n){let r,o=!1;return e&&"object"==typeof e?({bufferSize:r=1/0,windowTime:t=1/0,refCount:o=!1,scheduler:n}=e):r=e??1/0,function Eee(e={}){const{connector:t=(()=>new Xt),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:o=!0}=e;return s=>{let i,a,c,l=0,u=!1,d=!1;const f=()=>{a?.unsubscribe(),a=void 0},p=()=>{f(),i=c=void 0,u=d=!1},g=()=>{const m=i;p(),m?.unsubscribe()};return Ft((m,y)=>{l++,!d&&!u&&f();const b=c=c??t();y.add(()=>{l--,0===l&&!d&&!u&&(a=BS(g,o))}),b.subscribe(y),!i&&l>0&&(i=new Uu({next:C=>b.next(C),error:C=>{d=!0,f(),a=BS(p,n,C),b.error(C)},complete:()=>{u=!0,f(),a=BS(p,r),b.complete()}}),Qr(m).subscribe(i))})(s)}}({connector:()=>new bee(r,t,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}(),ie(t=>t.value))}start(t=2){this.disabled||this.next({action:"start",initialValue:t})}stop(){this.next({action:"stop"})}complete(){this.next({action:"complete"})}disable(){this.disabled=!0}set(t){this.next({action:"set",value:t})}increment(t=0){this.next({action:"increment",value:t})}next(t,n=!0){switch(t.action){case"start":this.requests=(this.requests||0)+1;break;case"complete":if(this.requests=(this.requests||1)-1,this.requests>0)return;break;case"stop":this.requests=0;break;case"increment":t.value=this._increment(t.value)}this.state={...this.state,action:null,...t},n&&this.stream$.next(this.state)}_increment(t=0){const n=this.state.value;return n>=99&&(t=0),0===t&&(t=n>=0&&n<25?3*Math.random()+3:n>=25&&n<65?3*Math.random():n>=65&&n<90?2*Math.random():n>=90&&n<99?.5:0),t+n}}const a1=new P("LOADING_BAR_CONFIG");let US=(()=>{class e{get progress$(){return this.value$}constructor(n,r={},o){this.platformId=n,this.config=r,this.zone=o,this.refs={},this.streams$=new Xt,this.value$=this.streams$.pipe(Dm(null),Cr(()=>Cm(Object.keys(this.refs).map(s=>this.refs[s].value$))),function Aee(e){return e?t=>new We(n=>t.subscribe(r=>e.run(()=>n.next(r)),r=>e.run(()=>n.error(r)),()=>e.run(()=>n.complete()))):t=>t}(this.zone),ie(s=>Math.max(0,...s)))}start(n=2){this.useRef().start(n)}set(n){this.useRef().set(n)}increment(n){this.useRef().increment(n)}complete(){this.useRef().complete()}stop(){this.useRef().stop()}useRef(n="default"){return this.refs[n]||(this.refs[n]=new Oee(this.config),this.streams$.next(),sP(this.platformId)||this.refs[n].disable()),this.refs[n]}static{this.\u0275fac=function(r){return new(r||e)(j(Go),j(a1,8),j(Ne,8))}}static{this.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),kee=(()=>{class e{get value$(){return this.ref?this.loader.useRef(this.ref).value$:this.loader.value$}constructor(n){this.loader=n,this.includeSpinner=!0,this.includeBar=!0,this.fixed=!0,this.color="#29d"}static{this.\u0275fac=function(r){return new(r||e)(A(US))}}static{this.\u0275cmp=$o({type:e,selectors:[["ngx-loading-bar"]],hostVars:3,hostBindings:function(r,o){2&r&&(mr("fixed",o.fixed),qs("color",o.color))},inputs:{includeSpinner:"includeSpinner",includeBar:"includeBar",fixed:"fixed",color:"color",value:"value",ref:"ref",height:"height",diameter:"diameter"},standalone:!0,features:[Yi],decls:2,vars:3,consts:[[4,"ngIf"],["class","ngx-spinner",4,"ngIf"],["class","ngx-bar",3,"background","height","width",4,"ngIf"],[1,"ngx-spinner"],[1,"ngx-spinner-icon"],[1,"ngx-bar"]],template:function(r,o){1&r&&(Sn(0,Dee,3,2,"ng-container",0),jC(1,"async")),2&r&&mt("ngIf",null!=o.value?o.value:BC(1,1,o.value$))},dependencies:[bS,mm],styles:["[_nghost-%COMP%]{position:relative;display:block;pointer-events:none}[_nghost-%COMP%]   .ngx-spinner[_ngcontent-%COMP%]{transition:.35s linear all;display:block;position:absolute;top:5px;left:0}[_nghost-%COMP%]   .ngx-spinner[_ngcontent-%COMP%]   .ngx-spinner-icon[_ngcontent-%COMP%]{width:14px;height:14px;border:solid 2px transparent;border-top-color:inherit;border-left-color:inherit;border-radius:50%;animation:_ngcontent-%COMP%_loading-bar-spinner .4s linear infinite}[_nghost-%COMP%]   .ngx-bar[_ngcontent-%COMP%]{transition:width .35s;position:absolute;top:0;left:0;width:100%;height:2px;border-bottom-right-radius:1px;border-top-right-radius:1px}[dir=rtl]   [_nghost-%COMP%]   .ngx-bar[_ngcontent-%COMP%]{right:0;left:unset}[fixed=true][_nghost-%COMP%]{z-index:10002}[fixed=true][_nghost-%COMP%]   .ngx-bar[_ngcontent-%COMP%]{position:fixed}[fixed=true][_nghost-%COMP%]   .ngx-spinner[_ngcontent-%COMP%]{position:fixed;top:10px;left:10px}[dir=rtl]   [fixed=true][_nghost-%COMP%]   .ngx-spinner[_ngcontent-%COMP%]{right:10px;left:unset}@keyframes _ngcontent-%COMP%_loading-bar-spinner{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"],changeDetection:0})}}return e})(),Nee=(()=>{class e extends kee{static{this.\u0275fac=(()=>{let n;return function(o){return(n||(n=Bt(e)))(o||e)}})()}static{this.\u0275cmp=$o({type:e,selectors:[["ngx-loading-bar"]],hostVars:3,hostBindings:function(r,o){2&r&&(mr("fixed",o.fixed),qs("color",o.color))},features:[xe],decls:2,vars:3,consts:[[4,"ngIf"],["class","ngx-spinner",4,"ngIf"],["class","ngx-bar",3,"background","height","width",4,"ngIf"],[1,"ngx-spinner"],[1,"ngx-spinner-icon"],[1,"ngx-bar"]],template:function(r,o){1&r&&(Sn(0,Tee,3,2,"ng-container",0),jC(1,"async")),2&r&&mt("ngIf",null!=o.value?o.value:BC(1,1,o.value$))},dependencies:[mm,bS],styles:["[_nghost-%COMP%]{position:relative;display:block;pointer-events:none}[_nghost-%COMP%]   .ngx-spinner[_ngcontent-%COMP%]{transition:.35s linear all;display:block;position:absolute;top:5px;left:0}[_nghost-%COMP%]   .ngx-spinner[_ngcontent-%COMP%]   .ngx-spinner-icon[_ngcontent-%COMP%]{width:14px;height:14px;border:solid 2px transparent;border-top-color:inherit;border-left-color:inherit;border-radius:50%;animation:_ngcontent-%COMP%_loading-bar-spinner .4s linear infinite}[_nghost-%COMP%]   .ngx-bar[_ngcontent-%COMP%]{transition:width .35s;position:absolute;top:0;left:0;width:100%;height:2px;border-bottom-right-radius:1px;border-top-right-radius:1px}[dir=rtl]   [_nghost-%COMP%]   .ngx-bar[_ngcontent-%COMP%]{right:0;left:unset}[fixed=true][_nghost-%COMP%]{z-index:10002}[fixed=true][_nghost-%COMP%]   .ngx-bar[_ngcontent-%COMP%]{position:fixed}[fixed=true][_nghost-%COMP%]   .ngx-spinner[_ngcontent-%COMP%]{position:fixed;top:10px;left:10px}[dir=rtl]   [fixed=true][_nghost-%COMP%]   .ngx-spinner[_ngcontent-%COMP%]{right:10px;left:unset}@keyframes _ngcontent-%COMP%_loading-bar-spinner{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"],changeDetection:0})}}return e})(),xee=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=io({type:e})}static{this.\u0275inj=Vr({imports:[rP]})}}return e})();const hf=xv(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function c1(e){return new We(t=>{Qr(e()).subscribe(t)})}function Im(e,t){const n=nt(e)?e:()=>e,r=o=>o.error(n());return new We(t?o=>t.schedule(r,0,o):r)}function $S(){return Ft((e,t)=>{let n=null;e._refCount++;const r=Tt(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(n=null);const o=e._connection,s=n;n=null,o&&(!s||o===s)&&o.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}class l1 extends We{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,oT(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new bn;const n=this.getSubject();t.add(this.source.subscribe(Tt(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=bn.EMPTY)}return t}refCount(){return $S()(this)}}function Tm(e){return Ft((t,n)=>{let r=!1;t.subscribe(Tt(n,o=>{r=!0,n.next(o)},()=>{r||n.next(e),n.complete()}))})}function u1(e=Pee){return Ft((t,n)=>{let r=!1;t.subscribe(Tt(n,o=>{r=!0,n.next(o)},()=>r?n.complete():n.error(e())))})}function Pee(){return new hf}function rs(e,t){const n=arguments.length>=2;return r=>r.pipe(e?ns((o,s)=>e(o,s,r)):xi,Qs(1),n?Tm(t):u1(()=>new hf))}function na(e,t){return nt(t)?Tn(e,t,1):Tn(e,1)}function al(e){return Ft((t,n)=>{let s,r=null,o=!1;r=t.subscribe(Tt(n,void 0,void 0,i=>{s=Qr(e(i,al(e)(t))),r?(r.unsubscribe(),r=null,s.subscribe(n)):o=!0})),o&&(r.unsubscribe(),r=null,s.subscribe(n))})}function HS(e){return e<=0?()=>bo:Ft((t,n)=>{let r=[];t.subscribe(Tt(n,o=>{r.push(o),e<r.length&&r.shift()},()=>{for(const o of r)n.next(o);n.complete()},void 0,()=>{r=null}))})}function cl(e){return Ft((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}const ae="primary",pf=Symbol("RouteTitle");class Uee{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function ll(e){return new Uee(e)}function $ee(e,t,n){const r=n.path.split("/");if(r.length>e.length||"full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;const o={};for(let s=0;s<r.length;s++){const i=r[s],a=e[s];if(i.startsWith(":"))o[i.substring(1)]=a;else if(i!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:o}}function Eo(e,t){const n=e?qS(e):void 0,r=t?qS(t):void 0;if(!n||!r||n.length!=r.length)return!1;let o;for(let s=0;s<n.length;s++)if(o=n[s],!d1(e[o],t[o]))return!1;return!0}function qS(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function d1(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const n=[...e].sort(),r=[...t].sort();return n.every((o,s)=>r[s]===o)}return e===t}function f1(e){return e.length>0?e[e.length-1]:null}function Js(e){return function Fee(e){return!!e&&(e instanceof We||nt(e.lift)&&nt(e.subscribe))}(e)?e:Jd(e)?Kt(Promise.resolve(e)):te(e)}const qee={exact:function g1(e,t,n){if(!ra(e.segments,t.segments)||!Rm(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!e.children[r]||!g1(e.children[r],t.children[r],n))return!1;return!0},subset:m1},h1={exact:function zee(e,t){return Eo(e,t)},subset:function Wee(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>d1(e[n],t[n]))},ignored:()=>!0};function p1(e,t,n){return qee[n.paths](e.root,t.root,n.matrixParams)&&h1[n.queryParams](e.queryParams,t.queryParams)&&!("exact"===n.fragment&&e.fragment!==t.fragment)}function m1(e,t,n){return _1(e,t,t.segments,n)}function _1(e,t,n,r){if(e.segments.length>n.length){const o=e.segments.slice(0,n.length);return!(!ra(o,n)||t.hasChildren()||!Rm(o,n,r))}if(e.segments.length===n.length){if(!ra(e.segments,n)||!Rm(e.segments,n,r))return!1;for(const o in t.children)if(!e.children[o]||!m1(e.children[o],t.children[o],r))return!1;return!0}{const o=n.slice(0,e.segments.length),s=n.slice(e.segments.length);return!!(ra(e.segments,o)&&Rm(e.segments,o,r)&&e.children[ae])&&_1(e.children[ae],t,s,r)}}function Rm(e,t,n){return t.every((r,o)=>h1[n](e[o].parameters,r.parameters))}class ul{constructor(t=new je([],{}),n={},r=null){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=ll(this.queryParams),this._queryParamMap}toString(){return Kee.serialize(this)}}class je{constructor(t,n){this.segments=t,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Om(this)}}class gf{constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap??=ll(this.parameters),this._parameterMap}toString(){return b1(this)}}function ra(e,t){return e.length===t.length&&e.every((n,r)=>n.path===t[r].path)}let dl=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=L({token:e,factory:()=>new zS,providedIn:"root"})}}return e})();class zS{parse(t){const n=new ite(t);return new ul(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){const n=`/${mf(t.root,!0)}`,r=function Jee(e){const t=Object.entries(e).map(([n,r])=>Array.isArray(r)?r.map(o=>`${Am(n)}=${Am(o)}`).join("&"):`${Am(n)}=${Am(r)}`).filter(n=>n);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${n}${r}${"string"==typeof t.fragment?`#${function Yee(e){return encodeURI(e)}(t.fragment)}`:""}`}}const Kee=new zS;function Om(e){return e.segments.map(t=>b1(t)).join("/")}function mf(e,t){if(!e.hasChildren())return Om(e);if(t){const n=e.children[ae]?mf(e.children[ae],!1):"",r=[];return Object.entries(e.children).forEach(([o,s])=>{o!==ae&&r.push(`${o}:${mf(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function Xee(e,t){let n=[];return Object.entries(e.children).forEach(([r,o])=>{r===ae&&(n=n.concat(t(o,r)))}),Object.entries(e.children).forEach(([r,o])=>{r!==ae&&(n=n.concat(t(o,r)))}),n}(e,(r,o)=>o===ae?[mf(e.children[ae],!1)]:[`${o}:${mf(r,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[ae]?`${Om(e)}/${n[0]}`:`${Om(e)}/(${n.join("//")})`}}function y1(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Am(e){return y1(e).replace(/%3B/gi,";")}function WS(e){return y1(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function km(e){return decodeURIComponent(e)}function v1(e){return km(e.replace(/\+/g,"%20"))}function b1(e){return`${WS(e.path)}${function Qee(e){return Object.entries(e).map(([t,n])=>`;${WS(t)}=${WS(n)}`).join("")}(e.parameters)}`}const Zee=/^[^\/()?;#]+/;function GS(e){const t=e.match(Zee);return t?t[0]:""}const ete=/^[^\/()?;=#]+/,nte=/^[^=?&#]+/,ote=/^[^&#]+/;class ite{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new je([],{}):new je([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[ae]=new je(t,n)),r}parseSegment(){const t=GS(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new M(4009,!1);return this.capture(t),new gf(km(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const n=function tte(e){const t=e.match(ete);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=GS(this.remaining);o&&(r=o,this.capture(r))}t[km(n)]=km(r)}parseQueryParam(t){const n=function rte(e){const t=e.match(nte);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=function ste(e){const t=e.match(ote);return t?t[0]:""}(this.remaining);i&&(r=i,this.capture(r))}const o=v1(n),s=v1(r);if(t.hasOwnProperty(o)){let i=t[o];Array.isArray(i)||(i=[i],t[o]=i),i.push(s)}else t[o]=s}parseParens(t){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=GS(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new M(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=ae);const i=this.parseChildren();n[s]=1===Object.keys(i).length?i[ae]:new je([],i),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new M(4011,!1)}}function E1(e){return e.segments.length>0?new je([],{[ae]:e}):e}function C1(e){const t={};for(const[r,o]of Object.entries(e.children)){const s=C1(o);if(r===ae&&0===s.segments.length&&s.hasChildren())for(const[i,a]of Object.entries(s.children))t[i]=a;else(s.segments.length>0||s.hasChildren())&&(t[r]=s)}return function ate(e){if(1===e.numberOfChildren&&e.children[ae]){const t=e.children[ae];return new je(e.segments.concat(t.segments),t.children)}return e}(new je(e.segments,t))}function fl(e){return e instanceof ul}function S1(e){let t;const o=E1(function n(s){const i={};for(const c of s.children){const l=n(c);i[c.outlet]=l}const a=new je(s.url,i);return s===e&&(t=a),a}(e.root));return t??o}function w1(e,t,n,r){let o=e;for(;o.parent;)o=o.parent;if(0===t.length)return XS(o,o,o,n,r);const s=function lte(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new M1(!0,0,e);let t=0,n=!1;const r=e.reduce((o,s,i)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([c,l])=>{a[c]="string"==typeof l?l.split("/"):l}),[...o,{outlets:a}]}if(s.segmentPath)return[...o,s.segmentPath]}return"string"!=typeof s?[...o,s]:0===i?(s.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?n=!0:".."===a?t++:""!=a&&o.push(a))}),o):[...o,s]},[]);return new M1(n,t,r)}(t);if(s.toRoot())return XS(o,o,new je([],{}),n,r);const i=function ute(e,t,n){if(e.isAbsolute)return new xm(t,!0,0);if(!n)return new xm(t,!1,NaN);if(null===n.parent)return new xm(n,!0,0);const r=Nm(e.commands[0])?0:1;return function dte(e,t,n){let r=e,o=t,s=n;for(;s>o;){if(s-=o,r=r.parent,!r)throw new M(4005,!1);o=r.segments.length}return new xm(r,!1,o-s)}(n,n.segments.length-1+r,e.numberOfDoubleDots)}(s,o,e),a=i.processChildren?yf(i.segmentGroup,i.index,s.commands):I1(i.segmentGroup,i.index,s.commands);return XS(o,i.segmentGroup,a,n,r)}function Nm(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function _f(e){return"object"==typeof e&&null!=e&&e.outlets}function XS(e,t,n,r,o){let i,s={};r&&Object.entries(r).forEach(([c,l])=>{s[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`}),i=e===t?n:D1(e,t,n);const a=E1(C1(i));return new ul(a,s,o)}function D1(e,t,n){const r={};return Object.entries(e.children).forEach(([o,s])=>{r[o]=s===t?n:D1(s,t,n)}),new je(e.segments,r)}class M1{constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&Nm(r[0]))throw new M(4003,!1);const o=r.find(_f);if(o&&o!==f1(r))throw new M(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class xm{constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}}function I1(e,t,n){if(e??=new je([],{}),0===e.segments.length&&e.hasChildren())return yf(e,t,n);const r=function hte(e,t,n){let r=0,o=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;o<e.segments.length;){if(r>=n.length)return s;const i=e.segments[o],a=n[r];if(_f(a))break;const c=`${a}`,l=r<n.length-1?n[r+1]:null;if(o>0&&void 0===c)break;if(c&&l&&"object"==typeof l&&void 0===l.outlets){if(!R1(c,l,i))return s;r+=2}else{if(!R1(c,{},i))return s;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(e,t,n),o=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const s=new je(e.segments.slice(0,r.pathIndex),{});return s.children[ae]=new je(e.segments.slice(r.pathIndex),e.children),yf(s,0,o)}return r.match&&0===o.length?new je(e.segments,{}):r.match&&!e.hasChildren()?KS(e,t,n):r.match?yf(e,0,o):KS(e,t,n)}function yf(e,t,n){if(0===n.length)return new je(e.segments,{});{const r=function fte(e){return _f(e[0])?e[0].outlets:{[ae]:e}}(n),o={};if(Object.keys(r).some(s=>s!==ae)&&e.children[ae]&&1===e.numberOfChildren&&0===e.children[ae].segments.length){const s=yf(e.children[ae],t,n);return new je(e.segments,s.children)}return Object.entries(r).forEach(([s,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(o[s]=I1(e.children[s],t,i))}),Object.entries(e.children).forEach(([s,i])=>{void 0===r[s]&&(o[s]=i)}),new je(e.segments,o)}}function KS(e,t,n){const r=e.segments.slice(0,t);let o=0;for(;o<n.length;){const s=n[o];if(_f(s)){const c=pte(s.outlets);return new je(r,c)}if(0===o&&Nm(n[0])){r.push(new gf(e.segments[t].path,T1(n[0]))),o++;continue}const i=_f(s)?s.outlets[ae]:`${s}`,a=o<n.length-1?n[o+1]:null;i&&a&&Nm(a)?(r.push(new gf(i,T1(a))),o+=2):(r.push(new gf(i,{})),o++)}return new je(r,{})}function pte(e){const t={};return Object.entries(e).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(t[n]=KS(new je([],{}),0,r))}),t}function T1(e){const t={};return Object.entries(e).forEach(([n,r])=>t[n]=`${r}`),t}function R1(e,t,n){return e==n.path&&Eo(t,n.parameters)}const vf="imperative";var ve=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(ve||{});class Co{constructor(t,n){this.id=t,this.url=n}}class YS extends Co{constructor(t,n,r="imperative",o=null){super(t,n),this.type=ve.NavigationStart,this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class oa extends Co{constructor(t,n,r){super(t,n),this.urlAfterRedirects=r,this.type=ve.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var er=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(er||{}),QS=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(QS||{});class hl extends Co{constructor(t,n,r,o){super(t,n),this.reason=r,this.code=o,this.type=ve.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class bf extends Co{constructor(t,n,r,o){super(t,n),this.reason=r,this.code=o,this.type=ve.NavigationSkipped}}class Fm extends Co{constructor(t,n,r,o){super(t,n),this.error=r,this.target=o,this.type=ve.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class O1 extends Co{constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o,this.type=ve.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gte extends Co{constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o,this.type=ve.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mte extends Co{constructor(t,n,r,o,s){super(t,n),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=s,this.type=ve.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class _te extends Co{constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o,this.type=ve.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class yte extends Co{constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o,this.type=ve.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vte{constructor(t){this.route=t,this.type=ve.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class bte{constructor(t){this.route=t,this.type=ve.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ete{constructor(t){this.snapshot=t,this.type=ve.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Cte{constructor(t){this.snapshot=t,this.type=ve.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ste{constructor(t){this.snapshot=t,this.type=ve.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wte{constructor(t){this.snapshot=t,this.type=ve.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class JS{}class ZS{constructor(t){this.url=t}}class Dte{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Ef,this.attachRef=null}}let Ef=(()=>{class e{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const o=this.getOrCreateContext(n);o.outlet=r,this.contexts.set(n,o)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new Dte,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();class A1{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){const n=ew(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){const n=ew(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){const n=tw(t,this._root);return n.length<2?[]:n[n.length-2].children.map(o=>o.value).filter(o=>o!==t)}pathFromRoot(t){return tw(t,this._root).map(n=>n.value)}}function ew(e,t){if(e===t.value)return t;for(const n of t.children){const r=ew(e,n);if(r)return r}return null}function tw(e,t){if(e===t.value)return[t];for(const n of t.children){const r=tw(e,n);if(r.length)return r.unshift(t),r}return[]}class Jr{constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}}function pl(e){const t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}class k1 extends A1{constructor(t,n){super(t),this.snapshot=n,ow(this,t)}toString(){return this.snapshot.toString()}}function N1(e){const t=function Mte(e){const s=new rw([],{},{},"",{},ae,e,null,{});return new x1("",new Jr(s,[]))}(e),n=new Nn([new gf("",{})]),r=new Nn({}),o=new Nn({}),s=new Nn({}),i=new Nn(""),a=new sa(n,r,s,i,o,ae,e,t.root);return a.snapshot=t.root,new k1(new Jr(a,[]),t)}class sa{constructor(t,n,r,o,s,i,a,c){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=o,this.dataSubject=s,this.outlet=i,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(ie(l=>l[pf]))??te(void 0),this.url=t,this.params=n,this.queryParams=r,this.fragment=o,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ie(t=>ll(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ie(t=>ll(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function nw(e,t,n="emptyOnly"){let r;const{routeConfig:o}=e;return r=null===t||"always"!==n&&""!==o?.path&&(t.component||t.routeConfig?.loadComponent)?{params:{...e.params},data:{...e.data},resolve:{...e.data,...e._resolvedData??{}}}:{params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.data,...o?.data,...e._resolvedData}},o&&P1(o)&&(r.resolve[pf]=o.title),r}class rw{get title(){return this.data?.[pf]}constructor(t,n,r,o,s,i,a,c,l){this.url=t,this.params=n,this.queryParams=r,this.fragment=o,this.data=s,this.outlet=i,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=ll(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=ll(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class x1 extends A1{constructor(t,n){super(n),this.url=t,ow(this,n)}toString(){return F1(this._root)}}function ow(e,t){t.value._routerState=e,t.children.forEach(n=>ow(e,n))}function F1(e){const t=e.children.length>0?` { ${e.children.map(F1).join(", ")} } `:"";return`${e.value}${t}`}function sw(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,Eo(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),Eo(t.params,n.params)||e.paramsSubject.next(n.params),function Hee(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!Eo(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.urlSubject.next(n.url),Eo(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function iw(e,t){const n=Eo(e.params,t.params)&&function Gee(e,t){return ra(e,t)&&e.every((n,r)=>Eo(n.parameters,t[r].parameters))}(e.url,t.url);return n&&!(!e.parent!=!t.parent)&&(!e.parent||iw(e.parent,t.parent))}function P1(e){return"string"==typeof e.title||null===e.title}let aw=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=ae,this.activateEvents=new at,this.deactivateEvents=new at,this.attachEvents=new at,this.detachEvents=new at,this.parentContexts=N(Ef),this.location=N(Wr),this.changeDetector=N(Zd),this.environmentInjector=N(Gn),this.inputBinder=N(Pm,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:o}=n.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new M(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new M(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new M(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new M(4013,!1);this._activatedRoute=n;const o=this.location,i=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new cw(n,a,o.injector);this.activated=o.createComponent(i,{index:o.length,injector:c,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275dir=ee({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[pr]})}}return e})();class cw{__ngOutletInjector(t){return new cw(this.route,this.childContexts,t)}constructor(t,n,r){this.route=t,this.childContexts=n,this.parent=r}get(t,n){return t===sa?this.route:t===Ef?this.childContexts:this.parent.get(t,n)}}const Pm=new P("");function Cf(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=t.value;const o=function Tte(e,t,n){return t.children.map(r=>{for(const o of n.children)if(e.shouldReuseRoute(r.value,o.value.snapshot))return Cf(e,r,o);return Cf(e,r)})}(e,t,n);return new Jr(r,o)}{if(e.shouldAttach(t.value)){const s=e.retrieve(t.value);if(null!==s){const i=s.route;return i.value._futureSnapshot=t.value,i.children=t.children.map(a=>Cf(e,a)),i}}const r=function Rte(e){return new sa(new Nn(e.url),new Nn(e.params),new Nn(e.queryParams),new Nn(e.fragment),new Nn(e.data),e.outlet,e.component,e)}(t.value),o=t.children.map(s=>Cf(e,s));return new Jr(r,o)}}const V1="ngNavigationCancelingError";function j1(e,t){const{redirectTo:n,navigationBehaviorOptions:r}=fl(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,o=B1(!1,er.Redirect);return o.url=n,o.navigationBehaviorOptions=r,o}function B1(e,t){const n=new Error(`NavigationCancelingError: ${e||""}`);return n[V1]=!0,n.cancellationCode=t,n}function U1(e){return!!e&&e[V1]}let $1=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=$o({type:e,selectors:[["ng-component"]],standalone:!0,features:[Yi],decls:1,vars:0,template:function(r,o){1&r&&wn(0,"router-outlet")},dependencies:[aw],encapsulation:2})}}return e})();function lw(e){const t=e.children&&e.children.map(lw),n=t?{...e,children:t}:{...e};return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==ae&&(n.component=$1),n}function So(e){return e.outlet||ae}function Sf(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){const n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class Lte{constructor(t,n,r,o,s){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=o,this.inputBindingEnabled=s}activate(t){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),sw(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){const o=pl(n);t.children.forEach(s=>{const i=s.value.outlet;this.deactivateRoutes(s,o[i],r),delete o[i]}),Object.values(o).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(t,n,r){const o=t.value,s=n?n.value:null;if(o===s)if(o.component){const i=r.getContext(o.outlet);i&&this.deactivateChildRoutes(t,n,i.children)}else this.deactivateChildRoutes(t,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){const r=n.getContext(t.value.outlet),o=r&&t.value.component?r.children:n,s=pl(t);for(const i of Object.values(s))this.deactivateRouteAndItsChildren(i,o);if(r&&r.outlet){const i=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:i,route:t,contexts:a})}}deactivateRouteAndOutlet(t,n){const r=n.getContext(t.value.outlet),o=r&&t.value.component?r.children:n,s=pl(t);for(const i of Object.values(s))this.deactivateRouteAndItsChildren(i,o);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,n,r){const o=pl(n);t.children.forEach(s=>{this.activateRoutes(s,o[s.value.outlet],r),this.forwardEvent(new wte(s.value.snapshot))}),t.children.length&&this.forwardEvent(new Cte(t.value.snapshot))}activateRoutes(t,n,r){const o=t.value,s=n?n.value:null;if(sw(o),o===s)if(o.component){const i=r.getOrCreateContext(o.outlet);this.activateChildRoutes(t,n,i.children)}else this.activateChildRoutes(t,n,r);else if(o.component){const i=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const a=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),i.children.onOutletReAttached(a.contexts),i.attachRef=a.componentRef,i.route=a.route.value,i.outlet&&i.outlet.attach(a.componentRef,a.route.value),sw(a.route.value),this.activateChildRoutes(t,null,i.children)}else{const a=Sf(o.snapshot);i.attachRef=null,i.route=o,i.injector=a,i.outlet&&i.outlet.activateWith(o,i.injector),this.activateChildRoutes(t,null,i.children)}}else this.activateChildRoutes(t,null,r)}}class H1{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Lm{constructor(t,n){this.component=t,this.route=n}}function Vte(e,t,n){const r=e._root;return wf(r,t?t._root:null,n,[r.value])}function gl(e,t){const n=Symbol(),r=t.get(e,n);return r===n?"function"!=typeof e||function _z(e){return null!==vp(e)}(e)?t.get(e):e:r}function wf(e,t,n,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=pl(t);return e.children.forEach(i=>{(function Bte(e,t,n,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=e.value,i=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(i&&s.routeConfig===i.routeConfig){const c=function Ute(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!ra(e.url,t.url);case"pathParamsOrQueryParamsChange":return!ra(e.url,t.url)||!Eo(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!iw(e,t)||!Eo(e.queryParams,t.queryParams);default:return!iw(e,t)}}(i,s,s.routeConfig.runGuardsAndResolvers);c?o.canActivateChecks.push(new H1(r)):(s.data=i.data,s._resolvedData=i._resolvedData),wf(e,t,s.component?a?a.children:null:n,r,o),c&&a&&a.outlet&&a.outlet.isActivated&&o.canDeactivateChecks.push(new Lm(a.outlet.component,i))}else i&&Df(t,a,o),o.canActivateChecks.push(new H1(r)),wf(e,null,s.component?a?a.children:null:n,r,o)})(i,s[i.value.outlet],n,r.concat([i.value]),o),delete s[i.value.outlet]}),Object.entries(s).forEach(([i,a])=>Df(a,n.getContext(i),o)),o}function Df(e,t,n){const r=pl(e),o=e.value;Object.entries(r).forEach(([s,i])=>{Df(i,o.component?t?t.children.getContext(s):null:t,n)}),n.canDeactivateChecks.push(new Lm(o.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,o))}function Mf(e){return"function"==typeof e}function q1(e){return e instanceof hf||"EmptyError"===e?.name}const Vm=Symbol("INITIAL_VALUE");function ml(){return Cr(e=>Cm(e.map(t=>t.pipe(Qs(1),Dm(Vm)))).pipe(ie(t=>{for(const n of t)if(!0!==n){if(n===Vm)return Vm;if(!1===n||n instanceof ul)return n}return!0}),ns(t=>t!==Vm),Qs(1)))}function z1(e){return function az(...e){return tT(e)}(pn(t=>{if(fl(t))throw j1(0,t)}),ie(t=>!0===t))}class uw{constructor(t){this.segmentGroup=t||null}}class dw extends Error{constructor(t){super(),this.urlTree=t}}function _l(e){return Im(new uw(e))}class ine{constructor(t,n){this.urlSerializer=t,this.urlTree=n}lineralizeSegments(t,n){let r=[],o=n.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return te(r);if(o.numberOfChildren>1||!o.children[ae])return Im(new M(4e3,!1));o=o.children[ae]}}applyRedirectCommands(t,n,r){const o=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,r);if(n.startsWith("/"))throw new dw(o);return o}applyRedirectCreateUrlTree(t,n,r,o){const s=this.createSegmentGroup(t,n.root,r,o);return new ul(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){const r={};return Object.entries(t).forEach(([o,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);r[o]=n[a]}else r[o]=s}),r}createSegmentGroup(t,n,r,o){const s=this.createSegments(t,n.segments,r,o);let i={};return Object.entries(n.children).forEach(([a,c])=>{i[a]=this.createSegmentGroup(t,c,r,o)}),new je(s,i)}createSegments(t,n,r,o){return n.map(s=>s.path.startsWith(":")?this.findPosParam(t,s,o):this.findOrReturn(s,r))}findPosParam(t,n,r){const o=r[n.path.substring(1)];if(!o)throw new M(4001,!1);return o}findOrReturn(t,n){let r=0;for(const o of n){if(o.path===t.path)return n.splice(r),o;r++}return t}}const fw={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ane(e,t,n,r,o){const s=hw(e,t,n);return s.matched?(r=function Ate(e,t){return e.providers&&!e._injector&&(e._injector=uC(e.providers,t,`Route: ${e.path}`)),e._injector??t}(t,r),function rne(e,t,n,r){const o=t.canMatch;return o&&0!==o.length?te(o.map(i=>{const a=gl(i,e);return Js(function Gte(e){return e&&Mf(e.canMatch)}(a)?a.canMatch(t,n):Ho(e,()=>a(t,n)))})).pipe(ml(),z1()):te(!0)}(r,t,n).pipe(ie(i=>!0===i?s:{...fw}))):te(s)}function hw(e,t,n){if("**"===t.path)return function cne(e){return{matched:!0,parameters:e.length>0?f1(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}(n);if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{...fw}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const o=(t.matcher||$ee)(n,e,t);if(!o)return{...fw};const s={};Object.entries(o.posParams??{}).forEach(([a,c])=>{s[a]=c.path});const i=o.consumed.length>0?{...s,...o.consumed[o.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:o.consumed,remainingSegments:n.slice(o.consumed.length),parameters:i,positionalParamSegments:o.posParams??{}}}function W1(e,t,n,r){return n.length>0&&function dne(e,t,n){return n.some(r=>jm(e,t,r)&&So(r)!==ae)}(e,n,r)?{segmentGroup:new je(t,une(r,new je(n,e.children))),slicedSegments:[]}:0===n.length&&function fne(e,t,n){return n.some(r=>jm(e,t,r))}(e,n,r)?{segmentGroup:new je(e.segments,lne(e,n,r,e.children)),slicedSegments:n}:{segmentGroup:new je(e.segments,e.children),slicedSegments:n}}function lne(e,t,n,r){const o={};for(const s of n)if(jm(e,t,s)&&!r[So(s)]){const i=new je([],{});o[So(s)]=i}return{...r,...o}}function une(e,t){const n={};n[ae]=t;for(const r of e)if(""===r.path&&So(r)!==ae){const o=new je([],{});n[So(r)]=o}return n}function jm(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path}class gne{}class yne{constructor(t,n,r,o,s,i,a){this.injector=t,this.configLoader=n,this.rootComponentType=r,this.config=o,this.urlTree=s,this.paramsInheritanceStrategy=i,this.urlSerializer=a,this.applyRedirects=new ine(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(t){return new M(4002,`'${t.segmentGroup}'`)}recognize(){const t=W1(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(ie(n=>{const r=new rw([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ae,this.rootComponentType,null,{}),o=new Jr(r,n),s=new x1("",o),i=function cte(e,t,n=null,r=null){return w1(S1(e),t,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return i.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(i),this.inheritParamsAndData(s._root,null),{state:s,tree:i}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t,ae).pipe(al(r=>{if(r instanceof dw)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof uw?this.noMatchError(r):r}))}inheritParamsAndData(t,n){const r=t.value,o=nw(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(o.params),r.data=Object.freeze(o.data),t.children.forEach(s=>this.inheritParamsAndData(s,r))}processSegmentGroup(t,n,r,o){return 0===r.segments.length&&r.hasChildren()?this.processChildren(t,n,r):this.processSegment(t,n,r,r.segments,o,!0).pipe(ie(s=>s instanceof Jr?[s]:[]))}processChildren(t,n,r){const o=[];for(const s of Object.keys(r.children))"primary"===s?o.unshift(s):o.push(s);return Kt(o).pipe(na(s=>{const i=r.children[s],a=function Fte(e,t){const n=e.filter(r=>So(r)===t);return n.push(...e.filter(r=>So(r)!==t)),n}(n,s);return this.processSegmentGroup(t,a,i,s)}),function Vee(e,t){return Ft(function Lee(e,t,n,r,o){return(s,i)=>{let a=n,c=t,l=0;s.subscribe(Tt(i,u=>{const d=l++;c=a?e(c,u,d):(a=!0,u),r&&i.next(c)},o&&(()=>{a&&i.next(c),i.complete()})))}}(e,t,arguments.length>=2,!0))}((s,i)=>(s.push(...i),s)),Tm(null),function jee(e,t){const n=arguments.length>=2;return r=>r.pipe(e?ns((o,s)=>e(o,s,r)):xi,HS(1),n?Tm(t):u1(()=>new hf))}(),Tn(s=>{if(null===s)return _l(r);const i=G1(s);return function vne(e){e.sort((t,n)=>t.value.outlet===ae?-1:n.value.outlet===ae?1:t.value.outlet.localeCompare(n.value.outlet))}(i),te(i)}))}processSegment(t,n,r,o,s,i){return Kt(n).pipe(na(a=>this.processSegmentAgainstRoute(a._injector??t,n,a,r,o,s,i).pipe(al(c=>{if(c instanceof uw)return te(null);throw c}))),rs(a=>!!a),al(a=>{if(q1(a))return function pne(e,t,n){return 0===t.length&&!e.children[n]}(r,o,s)?te(new gne):_l(r);throw a}))}processSegmentAgainstRoute(t,n,r,o,s,i,a){return function hne(e,t,n,r){return!!(So(e)===r||r!==ae&&jm(t,n,e))&&hw(t,e,n).matched}(r,o,s,i)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,o,r,s,i):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,o,n,r,s,i):_l(o):_l(o)}expandSegmentAgainstRouteUsingRedirect(t,n,r,o,s,i){const{matched:a,consumedSegments:c,positionalParamSegments:l,remainingSegments:u}=hw(n,o,s);if(!a)return _l(n);o.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const d=this.applyRedirects.applyRedirectCommands(c,o.redirectTo,l);return this.applyRedirects.lineralizeSegments(o,d).pipe(Tn(f=>this.processSegment(t,r,n,f.concat(u),i,!1)))}matchSegmentAgainstRoute(t,n,r,o,s){const i=ane(n,r,o,t);return"**"===r.path&&(n.children={}),i.pipe(Cr(a=>a.matched?this.getChildConfig(t=r._injector??t,r,o).pipe(Cr(({routes:c})=>{const l=r._loadedInjector??t,{consumedSegments:u,remainingSegments:d,parameters:f}=a,p=new rw(u,f,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function Ene(e){return e.data||{}}(r),So(r),r.component??r._loadedComponent??null,r,function Cne(e){return e.resolve||{}}(r)),{segmentGroup:g,slicedSegments:m}=W1(n,u,d,c);if(0===m.length&&g.hasChildren())return this.processChildren(l,c,g).pipe(ie(b=>null===b?null:new Jr(p,b)));if(0===c.length&&0===m.length)return te(new Jr(p,[]));const y=So(r)===s;return this.processSegment(l,c,g,m,y?ae:s,!0).pipe(ie(b=>new Jr(p,b instanceof Jr?[b]:[])))})):_l(n)))}getChildConfig(t,n,r){return n.children?te({routes:n.children,injector:t}):n.loadChildren?void 0!==n._loadedRoutes?te({routes:n._loadedRoutes,injector:n._loadedInjector}):function nne(e,t,n,r){const o=t.canLoad;return void 0===o||0===o.length?te(!0):te(o.map(i=>{const a=gl(i,e);return Js(function Hte(e){return e&&Mf(e.canLoad)}(a)?a.canLoad(t,n):Ho(e,()=>a(t,n)))})).pipe(ml(),z1())}(t,n,r).pipe(Tn(o=>o?this.configLoader.loadChildren(t,n).pipe(pn(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function sne(e){return Im(B1(!1,er.GuardRejected))}())):te({routes:[],injector:t})}}function bne(e){const t=e.value.routeConfig;return t&&""===t.path}function G1(e){const t=[],n=new Set;for(const r of e){if(!bne(r)){t.push(r);continue}const o=t.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==o?(o.children.push(...r.children),n.add(o)):t.push(r)}for(const r of n){const o=G1(r.children);t.push(new Jr(r.value,o))}return t.filter(r=>!n.has(r))}function X1(e){const t=e.children.map(n=>X1(n)).flat();return[e,...t]}function pw(e){return Cr(t=>{const n=e(t);return n?Kt(n).pipe(ie(()=>t)):te(t)})}let K1=(()=>{class e{buildTitle(n){let r,o=n.root;for(;void 0!==o;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(s=>s.outlet===ae);return r}getResolvedTitleForRoute(n){return n.data[pf]}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=L({token:e,factory:()=>N(Tne),providedIn:"root"})}}return e})(),Tne=(()=>{class e extends K1{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||e)(j(cZ))}}static{this.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const If=new P("",{providedIn:"root",factory:()=>({})}),Bm=new P("");let Y1=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=N(FK)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return te(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=Js(n.loadComponent()).pipe(ie(Q1),pn(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),cl(()=>{this.componentLoaders.delete(n)})),o=new l1(r,()=>new Xt).pipe($S());return this.componentLoaders.set(n,o),o}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return te({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=function Rne(e,t,n,r){return Js(e.loadChildren()).pipe(ie(Q1),Tn(o=>o instanceof uk||Array.isArray(o)?te(o):Kt(t.compileModuleAsync(o))),ie(o=>{r&&r(e);let s,i,a=!1;return Array.isArray(o)?(i=o,!0):(s=o.create(n).injector,i=s.get(Bm,[],{optional:!0,self:!0}).flat()),{routes:i.map(lw),injector:s}}))}(r,this.compiler,n,this.onLoadEndListener).pipe(cl(()=>{this.childrenLoaders.delete(r)})),i=new l1(s,()=>new Xt).pipe($S());return this.childrenLoaders.set(r,i),i}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Q1(e){return function One(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let gw=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=L({token:e,factory:()=>N(Ane),providedIn:"root"})}}return e})(),Ane=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const J1=new P("");let Um=(()=>{class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Xt,this.transitionAbortSubject=new Xt,this.configLoader=N(Y1),this.environmentInjector=N(Gn),this.urlSerializer=N(dl),this.rootContexts=N(Ef),this.location=N(nf),this.inputBindingEnabled=null!==N(Pm,{optional:!0}),this.titleStrategy=N(K1),this.options=N(If,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=N(gw),this.createViewTransition=N(J1,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>te(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=o=>this.events.next(new bte(o)),this.configLoader.onLoadStartListener=o=>this.events.next(new vte(o))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n,r,o){return this.transitions=new Nn({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:vf,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ns(s=>0!==s.id),ie(s=>({...s,extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Cr(s=>{let i=!1,a=!1;return te(s).pipe(Cr(c=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",er.SupersededByNewNavigation),bo;this.currentTransition=s,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const l=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!l&&"reload"!==(c.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const d="";return this.events.next(new bf(c.id,this.urlSerializer.serialize(c.rawUrl),d,QS.IgnoredSameUrlNavigation)),c.resolve(null),bo}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return te(c).pipe(Cr(d=>{const f=this.transitions?.getValue();return this.events.next(new YS(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),f!==this.transitions?.getValue()?bo:Promise.resolve(d)}),function Sne(e,t,n,r,o,s){return Tn(i=>function mne(e,t,n,r,o,s,i="emptyOnly"){return new yne(e,t,n,r,o,i,s).recognize()}(e,t,n,r,i.extractedUrl,o,s).pipe(ie(({state:a,tree:c})=>({...i,targetSnapshot:a,urlAfterRedirects:c}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),pn(d=>{s.targetSnapshot=d.targetSnapshot,s.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:d.urlAfterRedirects};const f=new O1(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){const{id:d,extractedUrl:f,source:p,restoredState:g,extras:m}=c,y=new YS(d,this.urlSerializer.serialize(f),p,g);this.events.next(y);const b=N1(this.rootComponentType).snapshot;return this.currentTransition=s={...c,targetSnapshot:b,urlAfterRedirects:f,extras:{...m,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=f,te(s)}{const d="";return this.events.next(new bf(c.id,this.urlSerializer.serialize(c.extractedUrl),d,QS.IgnoredByUrlHandlingStrategy)),c.resolve(null),bo}}),pn(c=>{const l=new gte(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),ie(c=>(this.currentTransition=s={...c,guards:Vte(c.targetSnapshot,c.currentSnapshot,this.rootContexts)},s)),function Xte(e,t){return Tn(n=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:s,canDeactivateChecks:i}}=n;return 0===i.length&&0===s.length?te({...n,guardsResult:!0}):function Kte(e,t,n,r){return Kt(e).pipe(Tn(o=>function tne(e,t,n,r,o){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return s&&0!==s.length?te(s.map(a=>{const c=Sf(t)??o,l=gl(a,c);return Js(function Wte(e){return e&&Mf(e.canDeactivate)}(l)?l.canDeactivate(e,t,n,r):Ho(c,()=>l(e,t,n,r))).pipe(rs())})).pipe(ml()):te(!0)}(o.component,o.route,n,t,r)),rs(o=>!0!==o,!0))}(i,r,o,e).pipe(Tn(a=>a&&function $te(e){return"boolean"==typeof e}(a)?function Yte(e,t,n,r){return Kt(t).pipe(na(o=>Sm(function Jte(e,t){return null!==e&&t&&t(new Ete(e)),te(!0)}(o.route.parent,r),function Qte(e,t){return null!==e&&t&&t(new Ste(e)),te(!0)}(o.route,r),function ene(e,t,n){const r=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(i=>function jte(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(i)).filter(i=>null!==i).map(i=>c1(()=>te(i.guards.map(c=>{const l=Sf(i.node)??n,u=gl(c,l);return Js(function zte(e){return e&&Mf(e.canActivateChild)}(u)?u.canActivateChild(r,e):Ho(l,()=>u(r,e))).pipe(rs())})).pipe(ml())));return te(s).pipe(ml())}(e,o.path,n),function Zte(e,t,n){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return te(!0);const o=r.map(s=>c1(()=>{const i=Sf(t)??n,a=gl(s,i);return Js(function qte(e){return e&&Mf(e.canActivate)}(a)?a.canActivate(t,e):Ho(i,()=>a(t,e))).pipe(rs())}));return te(o).pipe(ml())}(e,o.route,n))),rs(o=>!0!==o,!0))}(r,s,e,t):te(a)),ie(a=>({...n,guardsResult:a})))})}(this.environmentInjector,c=>this.events.next(c)),pn(c=>{if(s.guardsResult=c.guardsResult,fl(c.guardsResult))throw j1(0,c.guardsResult);const l=new mte(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(l)}),ns(c=>!!c.guardsResult||(this.cancelNavigationTransition(c,"",er.GuardRejected),!1)),pw(c=>{if(c.guards.canActivateChecks.length)return te(c).pipe(pn(l=>{const u=new _te(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),Cr(l=>{let u=!1;return te(l).pipe(function wne(e,t){return Tn(n=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=n;if(!o.length)return te(n);const s=new Set(o.map(c=>c.route)),i=new Set;for(const c of s)if(!i.has(c))for(const l of X1(c))i.add(l);let a=0;return Kt(i).pipe(na(c=>s.has(c)?function Dne(e,t,n,r){const o=e.routeConfig,s=e._resolve;return void 0!==o?.title&&!P1(o)&&(s[pf]=o.title),function Mne(e,t,n,r){const o=qS(e);if(0===o.length)return te({});const s={};return Kt(o).pipe(Tn(i=>function Ine(e,t,n,r){const o=Sf(t)??r,s=gl(e,o);return Js(s.resolve?s.resolve(t,n):Ho(o,()=>s(t,n)))}(e[i],t,n,r).pipe(rs(),pn(a=>{s[i]=a}))),HS(1),function Bee(e){return ie(()=>e)}(s),al(i=>q1(i)?bo:Im(i)))}(s,e,t,r).pipe(ie(i=>(e._resolvedData=i,e.data=nw(e,e.parent,n).resolve,null)))}(c,r,e,t):(c.data=nw(c,c.parent,e).resolve,te(void 0))),pn(()=>a++),HS(1),Tn(c=>a===i.size?te(n):bo))})}(this.paramsInheritanceStrategy,this.environmentInjector),pn({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(l,"",er.NoDataFromResolver)}}))}),pn(l=>{const u=new yte(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}))}),pw(c=>{const l=u=>{const d=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(u.routeConfig).pipe(pn(f=>{u.component=f}),ie(()=>{})));for(const f of u.children)d.push(...l(f));return d};return Cm(l(c.targetSnapshot.root)).pipe(Tm(null),Qs(1))}),pw(()=>this.afterPreactivation()),Cr(()=>{const{currentSnapshot:c,targetSnapshot:l}=s,u=this.createViewTransition?.(this.environmentInjector,c.root,l.root);return u?Kt(u).pipe(ie(()=>s)):te(s)}),ie(c=>{const l=function Ite(e,t,n){const r=Cf(e,t._root,n?n._root:void 0);return new k1(r,t)}(n.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=s={...c,targetRouterState:l},this.currentNavigation.targetRouterState=l,s}),pn(()=>{this.events.next(new JS)}),((e,t,n,r)=>ie(o=>(new Lte(t,o.targetRouterState,o.currentRouterState,n,r).activate(e),o)))(this.rootContexts,n.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),Qs(1),pn({next:c=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new oa(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{i=!0}}),n1(this.transitionAbortSubject.pipe(pn(c=>{throw c}))),cl(()=>{!i&&!a&&this.cancelNavigationTransition(s,"",er.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),al(c=>{if(a=!0,U1(c))this.events.next(new hl(s.id,this.urlSerializer.serialize(s.extractedUrl),c.message,c.cancellationCode)),function Ote(e){return U1(e)&&fl(e.url)}(c)?this.events.next(new ZS(c.url)):s.resolve(!1);else{this.events.next(new Fm(s.id,this.urlSerializer.serialize(s.extractedUrl),c,s.targetSnapshot??void 0));try{s.resolve(n.errorHandler(c))}catch(l){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(l)}}return bo}))}))}cancelNavigationTransition(n,r,o){const s=new hl(n.id,this.urlSerializer.serialize(n.extractedUrl),r,o);this.events.next(s),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function xne(e){return e!==vf}let Fne=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=L({token:e,factory:()=>N(Lne),providedIn:"root"})}}return e})();class Pne{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}}let Lne=(()=>{class e extends Pne{static{this.\u0275fac=(()=>{let n;return function(o){return(n||(n=Bt(e)))(o||e)}})()}static{this.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),eL=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=L({token:e,factory:()=>N(Vne),providedIn:"root"})}}return e})(),Vne=(()=>{class e extends eL{constructor(){super(...arguments),this.location=N(nf),this.urlSerializer=N(dl),this.options=N(If,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=N(gw),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new ul,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=N1(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{"popstate"===r.type&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof YS)this.stateMemento=this.createStateMemento();else if(n instanceof bf)this.rawUrlTree=r.initialUrl;else if(n instanceof O1){if("eager"===this.urlUpdateStrategy&&!r.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(o,r)}}else n instanceof JS?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,"deferred"===this.urlUpdateStrategy&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r))):n instanceof hl&&(n.code===er.GuardRejected||n.code===er.NoDataFromResolver)?this.restoreHistory(r):n instanceof Fm?this.restoreHistory(r,!0):n instanceof oa&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){const o=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl){const i={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(o,"",i)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(o,"",s)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===n.finalUrl&&0===s&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static{this.\u0275fac=(()=>{let n;return function(o){return(n||(n=Bt(e)))(o||e)}})()}static{this.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var Tf=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(Tf||{});function jne(e){throw e}const Bne={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Une={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let os=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=N(Ux),this.stateManager=N(eL),this.options=N(If,{optional:!0})||{},this.pendingTasks=N(Us),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=N(Um),this.urlSerializer=N(dl),this.location=N(nf),this.urlHandlingStrategy=N(gw),this._events=new Xt,this.errorHandler=this.options.errorHandler||jne,this.navigated=!1,this.routeReuseStrategy=N(Fne),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=N(Bm,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!N(Pm,{optional:!0}),this.eventsSubscription=new bn,this.isNgZoneEnabled=N(Ne)instanceof Ne&&Ne.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const n=this.navigationTransitions.events.subscribe(r=>{try{const o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(null!==o&&null!==s)if(this.stateManager.handleRouterEvent(r,s),r instanceof hl&&r.code!==er.Redirect&&r.code!==er.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof oa)this.navigated=!0;else if(r instanceof ZS){const i=this.urlHandlingStrategy.merge(r.url,o.currentRawUrl),a={info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||xne(o.source)};this.scheduleNavigation(i,vf,null,a,{resolve:o.resolve,reject:o.reject,promise:o.promise})}(function Hne(e){return!(e instanceof JS||e instanceof ZS)})(r)&&this._events.next(r)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),vf,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,o){const s={replaceUrl:!0},i=o?.navigationId?o:null;if(o){const c={...o};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(s.state=c)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,i,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(lw),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){const{relativeTo:o,queryParams:s,fragment:i,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:i;let d,u=null;switch(a){case"merge":u={...this.currentUrlTree.queryParams,...s};break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=s||null}null!==u&&(u=this.removeEmptyProps(u));try{d=S1(o?o.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),d=this.currentUrlTree.root}return w1(d,n,u,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){const o=fl(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,vf,null,r)}navigate(n,r={skipLocationChange:!1}){return function $ne(e){for(let t=0;t<e.length;t++)if(null==e[t])throw new M(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let o;if(o=!0===r?{...Bne}:!1===r?{...Une}:r,fl(n))return p1(this.currentUrlTree,n,o);const s=this.parseUrl(n);return p1(this.currentUrlTree,s,o)}removeEmptyProps(n){return Object.entries(n).reduce((r,[o,s])=>(null!=s&&(r[o]=s),r),{})}scheduleNavigation(n,r,o,s,i){if(this.disposed)return Promise.resolve(!1);let a,c,l;i?(a=i.resolve,c=i.reject,l=i.promise):l=new Promise((d,f)=>{a=d,c=f});const u=this.pendingTasks.add();return function tL(e,t){e.events.pipe(ns(n=>n instanceof oa||n instanceof hl||n instanceof Fm||n instanceof bf),ie(n=>n instanceof oa||n instanceof bf?Tf.COMPLETE:n instanceof hl&&(n.code===er.Redirect||n.code===er.SupersededByNewNavigation)?Tf.REDIRECTING:Tf.FAILED),ns(n=>n!==Tf.REDIRECTING),Qs(1)).subscribe(()=>{t()})}(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(d=>Promise.reject(d))}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const _w=new P("");function Xne(e,...t){return dc([{provide:Bm,multi:!0,useValue:e},[],{provide:sa,useFactory:rL,deps:[os]},{provide:YC,multi:!0,useFactory:oL},t.map(n=>n.\u0275providers)])}function rL(e){return e.routerState.root}function oL(){const e=N(Ln);return t=>{const n=e.get(Gs);if(t!==n.components[0])return;const r=e.get(os),o=e.get(sL);1===e.get(yw)&&r.initialNavigation(),e.get(iL,null,pe.Optional)?.setUpPreloading(),e.get(_w,null,pe.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}const sL=new P("",{factory:()=>new Xt}),yw=new P("",{providedIn:"root",factory:()=>1}),iL=new P("");function Jne(e,t){1&e&&(zs(0),Ie(1,"main",1),wn(2,"img",2),Ie(3,"section",3),wn(4,"router-outlet"),Fe()(),Ws())}function Zne(e,t){1&e&&(zs(0),Ie(1,"main",4)(2,"section",3),wn(3,"router-outlet"),Fe()(),Ws())}function ere(e,t){1&e&&wn(0,"img",11)}function tre(e,t){1&e&&wn(0,"img",12)}function nre(e,t){if(1&e&&(zs(0),Ie(1,"header",5),wn(2,"img",6),Fe(),Ie(3,"div",7),Sn(4,ere,1,0,"img",8)(5,tre,1,0,"img",9),Fe(),Ie(6,"div",10)(7,"h1"),yr(8,"Only available in landscape mode"),Fe(),Ie(9,"h3"),yr(10,"Turn your device!"),Fe()(),Ws()),2&e){const n=_r();ot(4),mt("ngIf",n.mode==n.Mode.LIGHT),ot(),mt("ngIf",n.mode==n.Mode.DARK)}}let rre=(()=>{class e{constructor(n,r){this.responsive=n,this.modeToggleService=r,this.isMobileDisplay=!0,this.isPortrait=!1,this.isLandscape=!1,this.mode=ta.LIGHT,this.Mode=ta,this.modeToggleService.modeChanged$.subscribe(o=>this.mode=o),this.checkOrientation()}ngOnInit(){this.responsive.observe(["(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)"]).subscribe(n=>{this.isMobileDisplay=!n.matches})}onOrientationChange(n){this.checkOrientation()}checkOrientation(){const n=window.screen.orientation.angle;this.isPortrait=0===n||180===n,this.isLandscape=90===n||-90===n}static{this.\u0275fac=function(r){return new(r||e)(A(mee),A(yee))}}static{this.\u0275cmp=$o({type:e,selectors:[["app-root"]],hostBindings:function(r,o){1&r&&_t("orientationchange",function(i){return o.onOrientationChange(i)},0,SO)},decls:4,vars:3,consts:[[4,"ngIf"],[1,"flex","app-container"],["src","./assets/images/title.svg","id","title-image","alt","Website Title",1,"top-left-corner"],[1,"flex","content"],[1,"app-container"],[1,"header-mobile","mt-40","mb-40"],["src","./assets/images/title-mobile.svg","alt","Website Title",1,"title-image-mobile"],[1,"portrait-to-landscape"],["src","./assets/images/light/orientation.png","class","portrait-to-landscape-image","alt","Portrait to landscape image",4,"ngIf"],["src","./assets/images/dark/orientation.png","class","portrait-to-landscape-image","alt","Portrait to landscape image",4,"ngIf"],[1,"ml-10"],["src","./assets/images/light/orientation.png","alt","Portrait to landscape image",1,"portrait-to-landscape-image"],["src","./assets/images/dark/orientation.png","alt","Portrait to landscape image",1,"portrait-to-landscape-image"]],template:function(r,o){1&r&&(wn(0,"ngx-loading-bar"),Sn(1,Jne,5,0,"ng-container",0)(2,Zne,4,0,"ng-container",0)(3,nre,11,2,"ng-container",0)),2&r&&(ot(),mt("ngIf",!o.isMobileDisplay),ot(),mt("ngIf",o.isMobileDisplay&&o.isLandscape),ot(),mt("ngIf",o.isMobileDisplay&&o.isPortrait))},dependencies:[mm,Nee,aw],styles:['html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%;margin:0}[_ngcontent-%COMP%]:root{font-family:Inter,sans-serif;font-feature-settings:"liga" 1,"calt" 1,"ss01" on}@supports (font-variation-settings: normal){[_ngcontent-%COMP%]:root{font-family:InterVariable,sans-serif}}a[_ngcontent-%COMP%]{all:unset}h3[_ngcontent-%COMP%]{margin:0}button[_ngcontent-%COMP%]{font-family:inherit;font-size:100%;line-height:1.15;margin:0;overflow:visible;text-transform:none;-webkit-appearance:button}.flex[_ngcontent-%COMP%]{display:flex}.mt-40[_ngcontent-%COMP%]{margin-top:40px}.mb-40[_ngcontent-%COMP%]{margin-bottom:40px}.mb-10[_ngcontent-%COMP%]{margin-bottom:10px}.ml-10[_ngcontent-%COMP%]{margin-left:10px}body.dark[_ngcontent-%COMP%]{--backgroundColor: #2e2e2e;--textColor: white;--borderColor: white;--menuButtonColor: #CC71FA;--gridHighLightColor: #474747;background-color:var(--backgroundColor);color:var(--textColor)}body.light[_ngcontent-%COMP%]{--backgroundColor: white;--textColor: black;--borderColor: black;--menuButtonColor: #70F1FA;--gridHighLightColor: #e8e8e8;background-color:var(--backgroundColor);color:var(--textColor)}.app-container[_ngcontent-%COMP%]{height:100%}.app-container[_ngcontent-%COMP%]   .top-left-corner[_ngcontent-%COMP%]{position:absolute;top:10px;left:10px}.menu[_ngcontent-%COMP%]{flex-direction:column;justify-content:flex-start;align-items:flex-start}.menu.genre[_ngcontent-%COMP%]{justify-content:flex-end}.content[_ngcontent-%COMP%]{flex:1;justify-content:center;align-items:center;overflow:auto;height:100%}.header[_ngcontent-%COMP%]{width:240px;font-size:30px}.column[_ngcontent-%COMP%]{flex-direction:column}.nowrap[_ngcontent-%COMP%]{white-space:nowrap}.header-mobile[_ngcontent-%COMP%]{font-size:30px;width:100%;text-align:center}.pointer[_ngcontent-%COMP%]{cursor:pointer}#title-image[_ngcontent-%COMP%]{width:150px;aspect-ratio:1}.title-image-mobile[_ngcontent-%COMP%]{width:300px}.portrait-to-landscape[_ngcontent-%COMP%]{justify-content:center;display:flex;flex-direction:row;margin:50px}.portrait-to-landscape[_ngcontent-%COMP%]   .portrait-to-landscape-image[_ngcontent-%COMP%]{width:100px}']})}}return e})();class $m{}class Rf{}class tr{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?"string"==typeof t?this.lazyInit=()=>{this.headers=new Map,t.split("\n").forEach(n=>{const r=n.indexOf(":");if(r>0){const o=n.slice(0,r),s=o.toLowerCase(),i=n.slice(r+1).trim();this.maybeSetNormalizedName(o,s),this.headers.has(s)?this.headers.get(s).push(i):this.headers.set(s,[i])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const n=this.headers.get(t.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,n){return this.clone({name:t,value:n,op:"a"})}set(t,n){return this.clone({name:t,value:n,op:"s"})}delete(t,n){return this.clone({name:t,value:n,op:"d"})}maybeSetNormalizedName(t,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,t)}init(){this.lazyInit&&(this.lazyInit instanceof tr?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(n=>{this.headers.set(n,t.headers.get(n)),this.normalizedNames.set(n,t.normalizedNames.get(n))})}clone(t){const n=new tr;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof tr?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}applyUpdate(t){const n=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(t.name,n);const o=("a"===t.op?this.headers.get(n):void 0)||[];o.push(...r),this.headers.set(n,o);break;case"d":const s=t.value;if(s){let i=this.headers.get(n);if(!i)return;i=i.filter(a=>-1===s.indexOf(a)),0===i.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,i)}else this.headers.delete(n),this.normalizedNames.delete(n)}}setHeaderEntries(t,n){const r=(Array.isArray(n)?n:[n]).map(s=>s.toString()),o=t.toLowerCase();this.headers.set(o,r),this.maybeSetNormalizedName(t,o)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>t(this.normalizedNames.get(n),this.headers.get(n)))}}class ore{encodeKey(t){return cL(t)}encodeValue(t){return cL(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const ire=/%(\d[a-f0-9])/gi,are={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function cL(e){return encodeURIComponent(e).replace(ire,(t,n)=>are[n]??t)}function Hm(e){return`${e}`}class ss{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new ore,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function sre(e,t){const n=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(o=>{const s=o.indexOf("="),[i,a]=-1==s?[t.decodeKey(o),""]:[t.decodeKey(o.slice(0,s)),t.decodeValue(o.slice(s+1))],c=n.get(i)||[];c.push(a),n.set(i,c)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(n=>{const r=t.fromObject[n],o=Array.isArray(r)?r.map(Hm):[Hm(r)];this.map.set(n,o)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const n=this.map.get(t);return n?n[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,n){return this.clone({param:t,value:n,op:"a"})}appendAll(t){const n=[];return Object.keys(t).forEach(r=>{const o=t[r];Array.isArray(o)?o.forEach(s=>{n.push({param:r,value:s,op:"a"})}):n.push({param:r,value:o,op:"a"})}),this.clone(n)}set(t,n){return this.clone({param:t,value:n,op:"s"})}delete(t,n){return this.clone({param:t,value:n,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const n=this.encoder.encodeKey(t);return this.map.get(t).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const n=new ss({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(t),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const n=("a"===t.op?this.map.get(t.param):void 0)||[];n.push(Hm(t.value)),this.map.set(t.param,n);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let r=this.map.get(t.param)||[];const o=r.indexOf(Hm(t.value));-1!==o&&r.splice(o,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class cre{constructor(){this.map=new Map}set(t,n){return this.map.set(t,n),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function lL(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function uL(e){return typeof Blob<"u"&&e instanceof Blob}function dL(e){return typeof FormData<"u"&&e instanceof FormData}class Of{constructor(t,n,r,o){let s;if(this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function lre(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==r?r:null,s=o):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new tr,this.context??=new cre,this.params){const i=this.params.toString();if(0===i.length)this.urlWithParams=n;else{const a=n.indexOf("?");this.urlWithParams=n+(-1===a?"?":a<n.length-1?"&":"")+i}}else this.params=new ss,this.urlWithParams=n}serializeBody(){return null===this.body?null:"string"==typeof this.body||lL(this.body)||uL(this.body)||dL(this.body)||function ure(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}(this.body)?this.body:this.body instanceof ss?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||dL(this.body)?null:uL(this.body)?this.body.type||null:lL(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ss?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const n=t.method||this.method,r=t.url||this.url,o=t.responseType||this.responseType,s=t.transferCache??this.transferCache,i=void 0!==t.body?t.body:this.body,a=t.withCredentials??this.withCredentials,c=t.reportProgress??this.reportProgress;let l=t.headers||this.headers,u=t.params||this.params;const d=t.context??this.context;return void 0!==t.setHeaders&&(l=Object.keys(t.setHeaders).reduce((f,p)=>f.set(p,t.setHeaders[p]),l)),t.setParams&&(u=Object.keys(t.setParams).reduce((f,p)=>f.set(p,t.setParams[p]),u)),new Of(n,r,i,{params:u,headers:l,context:d,reportProgress:c,responseType:o,withCredentials:a,transferCache:s})}}var Zs=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(Zs||{});class vw{constructor(t,n=Af.Ok,r="OK"){this.headers=t.headers||new tr,this.status=void 0!==t.status?t.status:n,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class qm extends vw{constructor(t={}){super(t),this.type=Zs.ResponseHeader}clone(t={}){return new qm({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class ei extends vw{constructor(t={}){super(t),this.type=Zs.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new ei({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class yl extends vw{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}var Af=function(e){return e[e.Continue=100]="Continue",e[e.SwitchingProtocols=101]="SwitchingProtocols",e[e.Processing=102]="Processing",e[e.EarlyHints=103]="EarlyHints",e[e.Ok=200]="Ok",e[e.Created=201]="Created",e[e.Accepted=202]="Accepted",e[e.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",e[e.NoContent=204]="NoContent",e[e.ResetContent=205]="ResetContent",e[e.PartialContent=206]="PartialContent",e[e.MultiStatus=207]="MultiStatus",e[e.AlreadyReported=208]="AlreadyReported",e[e.ImUsed=226]="ImUsed",e[e.MultipleChoices=300]="MultipleChoices",e[e.MovedPermanently=301]="MovedPermanently",e[e.Found=302]="Found",e[e.SeeOther=303]="SeeOther",e[e.NotModified=304]="NotModified",e[e.UseProxy=305]="UseProxy",e[e.Unused=306]="Unused",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect",e[e.BadRequest=400]="BadRequest",e[e.Unauthorized=401]="Unauthorized",e[e.PaymentRequired=402]="PaymentRequired",e[e.Forbidden=403]="Forbidden",e[e.NotFound=404]="NotFound",e[e.MethodNotAllowed=405]="MethodNotAllowed",e[e.NotAcceptable=406]="NotAcceptable",e[e.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",e[e.RequestTimeout=408]="RequestTimeout",e[e.Conflict=409]="Conflict",e[e.Gone=410]="Gone",e[e.LengthRequired=411]="LengthRequired",e[e.PreconditionFailed=412]="PreconditionFailed",e[e.PayloadTooLarge=413]="PayloadTooLarge",e[e.UriTooLong=414]="UriTooLong",e[e.UnsupportedMediaType=415]="UnsupportedMediaType",e[e.RangeNotSatisfiable=416]="RangeNotSatisfiable",e[e.ExpectationFailed=417]="ExpectationFailed",e[e.ImATeapot=418]="ImATeapot",e[e.MisdirectedRequest=421]="MisdirectedRequest",e[e.UnprocessableEntity=422]="UnprocessableEntity",e[e.Locked=423]="Locked",e[e.FailedDependency=424]="FailedDependency",e[e.TooEarly=425]="TooEarly",e[e.UpgradeRequired=426]="UpgradeRequired",e[e.PreconditionRequired=428]="PreconditionRequired",e[e.TooManyRequests=429]="TooManyRequests",e[e.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",e[e.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",e[e.InternalServerError=500]="InternalServerError",e[e.NotImplemented=501]="NotImplemented",e[e.BadGateway=502]="BadGateway",e[e.ServiceUnavailable=503]="ServiceUnavailable",e[e.GatewayTimeout=504]="GatewayTimeout",e[e.HttpVersionNotSupported=505]="HttpVersionNotSupported",e[e.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",e[e.InsufficientStorage=507]="InsufficientStorage",e[e.LoopDetected=508]="LoopDetected",e[e.NotExtended=510]="NotExtended",e[e.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",e}(Af||{});function bw(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,transferCache:e.transferCache}}let fL=(()=>{class e{constructor(n){this.handler=n}request(n,r,o={}){let s;if(n instanceof Of)s=n;else{let c,l;c=o.headers instanceof tr?o.headers:new tr(o.headers),o.params&&(l=o.params instanceof ss?o.params:new ss({fromObject:o.params})),s=new Of(n,r,void 0!==o.body?o.body:null,{headers:c,context:o.context,params:l,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache})}const i=te(s).pipe(na(c=>this.handler.handle(c)));if(n instanceof Of||"events"===o.observe)return i;const a=i.pipe(ns(c=>c instanceof ei));switch(o.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(ie(c=>{if(null!==c.body&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return a.pipe(ie(c=>{if(null!==c.body&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return a.pipe(ie(c=>{if(null!==c.body&&"string"!=typeof c.body)throw new Error("Response is not a string.");return c.body}));default:return a.pipe(ie(c=>c.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:(new ss).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,o={}){return this.request("PATCH",n,bw(o,r))}post(n,r,o={}){return this.request("POST",n,bw(o,r))}put(n,r,o={}){return this.request("PUT",n,bw(o,r))}static{this.\u0275fac=function(r){return new(r||e)(j($m))}}static{this.\u0275prov=L({token:e,factory:e.\u0275fac})}}return e})();function pL(e,t){return t(e)}function gre(e,t){return(n,r)=>t.intercept(n,{handle:o=>e(o,r)})}const gL=new P(""),kf=new P(""),mL=new P(""),_L=new P("");function _re(){let e=null;return(t,n)=>{null===e&&(e=(N(gL,{optional:!0})??[]).reduceRight(gre,pL));const r=N(Us),o=r.add();return e(t,n).pipe(cl(()=>r.remove(o)))}}let yL=(()=>{class e extends $m{constructor(n,r){super(),this.backend=n,this.injector=r,this.chain=null,this.pendingTasks=N(Us);const o=N(_L,{optional:!0});this.backend=o??n}handle(n){if(null===this.chain){const o=Array.from(new Set([...this.injector.get(kf),...this.injector.get(mL,[])]));this.chain=o.reduceRight((s,i)=>function mre(e,t,n){return(r,o)=>Ho(n,()=>t(r,s=>e(s,o)))}(s,i,this.injector),pL)}const r=this.pendingTasks.add();return this.chain(n,o=>this.backend.handle(o)).pipe(cl(()=>this.pendingTasks.remove(r)))}static{this.\u0275fac=function(r){return new(r||e)(j(Rf),j(Gn))}}static{this.\u0275prov=L({token:e,factory:e.\u0275fac})}}return e})();const Cre=/^\)\]\}',?\n/;let Sw=(()=>{class e{constructor(n){this.xhrFactory=n}handle(n){if("JSONP"===n.method)throw new M(-2800,!1);const r=this.xhrFactory;return(r.\u0275loadImpl?Kt(r.\u0275loadImpl()):te(null)).pipe(Cr(()=>new We(s=>{const i=r.build();if(i.open(n.method,n.urlWithParams),n.withCredentials&&(i.withCredentials=!0),n.headers.forEach((m,y)=>i.setRequestHeader(m,y.join(","))),n.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){const m=n.detectContentTypeHeader();null!==m&&i.setRequestHeader("Content-Type",m)}if(n.responseType){const m=n.responseType.toLowerCase();i.responseType="json"!==m?m:"text"}const a=n.serializeBody();let c=null;const l=()=>{if(null!==c)return c;const m=i.statusText||"OK",y=new tr(i.getAllResponseHeaders()),b=function Sre(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(i)||n.url;return c=new qm({headers:y,status:i.status,statusText:m,url:b}),c},u=()=>{let{headers:m,status:y,statusText:b,url:C}=l(),k=null;y!==Af.NoContent&&(k=typeof i.response>"u"?i.responseText:i.response),0===y&&(y=k?Af.Ok:0);let V=y>=200&&y<300;if("json"===n.responseType&&"string"==typeof k){const $=k;k=k.replace(Cre,"");try{k=""!==k?JSON.parse(k):null}catch(fe){k=$,V&&(V=!1,k={error:fe,text:k})}}V?(s.next(new ei({body:k,headers:m,status:y,statusText:b,url:C||void 0})),s.complete()):s.error(new yl({error:k,headers:m,status:y,statusText:b,url:C||void 0}))},d=m=>{const{url:y}=l(),b=new yl({error:m,status:i.status||0,statusText:i.statusText||"Unknown Error",url:y||void 0});s.error(b)};let f=!1;const p=m=>{f||(s.next(l()),f=!0);let y={type:Zs.DownloadProgress,loaded:m.loaded};m.lengthComputable&&(y.total=m.total),"text"===n.responseType&&i.responseText&&(y.partialText=i.responseText),s.next(y)},g=m=>{let y={type:Zs.UploadProgress,loaded:m.loaded};m.lengthComputable&&(y.total=m.total),s.next(y)};return i.addEventListener("load",u),i.addEventListener("error",d),i.addEventListener("timeout",d),i.addEventListener("abort",d),n.reportProgress&&(i.addEventListener("progress",p),null!==a&&i.upload&&i.upload.addEventListener("progress",g)),i.send(a),s.next({type:Zs.Sent}),()=>{i.removeEventListener("error",d),i.removeEventListener("abort",d),i.removeEventListener("load",u),i.removeEventListener("timeout",d),n.reportProgress&&(i.removeEventListener("progress",p),null!==a&&i.upload&&i.upload.removeEventListener("progress",g)),i.readyState!==i.DONE&&i.abort()}})))}static{this.\u0275fac=function(r){return new(r||e)(j(_m))}}static{this.\u0275prov=L({token:e,factory:e.\u0275fac})}}return e})();const ww=new P(""),bL=new P("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),EL=new P("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class CL{}let Mre=(()=>{class e{constructor(n,r,o){this.doc=n,this.platform=r,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=YF(n,this.cookieName),this.lastCookieString=n),this.lastToken}static{this.\u0275fac=function(r){return new(r||e)(j(vr),j(Go),j(bL))}}static{this.\u0275prov=L({token:e,factory:e.\u0275fac})}}return e})();function Ire(e,t){const n=e.url.toLowerCase();if(!N(ww)||"GET"===e.method||"HEAD"===e.method||n.startsWith("http://")||n.startsWith("https://"))return t(e);const r=N(CL).getToken(),o=N(EL);return null!=r&&!e.headers.has(o)&&(e=e.clone({headers:e.headers.set(o,r)})),t(e)}var ti=function(e){return e[e.Interceptors=0]="Interceptors",e[e.LegacyInterceptors=1]="LegacyInterceptors",e[e.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",e[e.NoXsrfProtection=3]="NoXsrfProtection",e[e.JsonpSupport=4]="JsonpSupport",e[e.RequestsMadeViaParent=5]="RequestsMadeViaParent",e[e.Fetch=6]="Fetch",e}(ti||{});function ia(e,t){return{\u0275kind:e,\u0275providers:t}}function Tre(...e){const t=[fL,Sw,yL,{provide:$m,useExisting:yL},{provide:Rf,useExisting:Sw},{provide:kf,useValue:Ire,multi:!0},{provide:ww,useValue:!0},{provide:CL,useClass:Mre}];for(const n of e)t.push(...n.\u0275providers);return dc(t)}const SL=new P("");let Ore=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=io({type:e})}static{this.\u0275inj=Vr({providers:[Tre(ia(ti.LegacyInterceptors,[{provide:SL,useFactory:_re},{provide:kf,useExisting:SL,multi:!0}]))]})}}return e})();const Lre={100:{code:100,text:"Continue",description:'"The initial part of a request has been received and has not yet been rejected by the server."',spec_title:"RFC7231#6.2.1",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.2.1"},101:{code:101,text:"Switching Protocols",description:'"The server understands and is willing to comply with the client\'s request, via the Upgrade header field, for a change in the application protocol being used on this connection."',spec_title:"RFC7231#6.2.2",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.2.2"},200:{code:200,text:"OK",description:'"The request has succeeded."',spec_title:"RFC7231#6.3.1",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.3.1"},201:{code:201,text:"Created",description:'"The request has been fulfilled and has resulted in one or more new resources being created."',spec_title:"RFC7231#6.3.2",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.3.2"},202:{code:202,text:"Accepted",description:'"The request has been accepted for processing, but the processing has not been completed."',spec_title:"RFC7231#6.3.3",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.3.3"},203:{code:203,text:"Non-Authoritative Information",description:'"The request was successful but the enclosed payload has been modified from that of the origin server\'s 200 (OK) response by a transforming proxy."',spec_title:"RFC7231#6.3.4",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.3.4"},204:{code:204,text:"No Content",description:'"The server has successfully fulfilled the request and that there is no additional content to send in the response payload body."',spec_title:"RFC7231#6.3.5",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.3.5"},205:{code:205,text:"Reset Content",description:'"The server has fulfilled the request and desires that the user agent reset the "document view", which caused the request to be sent, to its original state as received from the origin server."',spec_title:"RFC7231#6.3.6",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.3.6"},206:{code:206,text:"Partial Content",description:'"The server is successfully fulfilling a range request for the target resource by transferring one or more parts of the selected representation that correspond to the satisfiable ranges found in the requests\'s Range header field."',spec_title:"RFC7233#4.1",spec_href:"https://tools.ietf.org/html/rfc7233#section-4.1"},300:{code:300,text:"Multiple Choices",description:'"The target resource has more than one representation, each with its own more specific identifier, and information about the alternatives is being provided so that the user (or user agent) can select a preferred representation by redirecting its request to one or more of those identifiers."',spec_title:"RFC7231#6.4.1",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.4.1"},301:{code:301,text:"Moved Permanently",description:'"The target resource has been assigned a new permanent URI and any future references to this resource ought to use one of the enclosed URIs."',spec_title:"RFC7231#6.4.2",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.4.2"},302:{code:302,text:"Found",description:'"The target resource resides temporarily under a different URI."',spec_title:"RFC7231#6.4.3",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.4.3"},303:{code:303,text:"See Other",description:'"The server is redirecting the user agent to a different resource, as indicated by a URI in the Location header field, that is intended to provide an indirect response to the original request."',spec_title:"RFC7231#6.4.4",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.4.4"},304:{code:304,text:"Not Modified",description:'"A conditional GET request has been received and would have resulted in a 200 (OK) response if it were not for the fact that the condition has evaluated to false."',spec_title:"RFC7232#4.1",spec_href:"https://tools.ietf.org/html/rfc7232#section-4.1"},305:{code:305,text:"Use Proxy",description:"*deprecated*",spec_title:"RFC7231#6.4.5",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.4.5"},307:{code:307,text:"Temporary Redirect",description:'"The target resource resides temporarily under a different URI and the user agent MUST NOT change the request method if it performs an automatic redirection to that URI."',spec_title:"RFC7231#6.4.7",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.4.7"},400:{code:400,text:"Bad Request",description:'"The server cannot or will not process the request because the received syntax is invalid, nonsensical, or exceeds some limitation on what the server is willing to process."',spec_title:"RFC7231#6.5.1",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.1"},401:{code:401,text:"Unauthorized",description:'"The request has not been applied because it lacks valid authentication credentials for the target resource."',spec_title:"RFC7235#6.3.1",spec_href:"https://tools.ietf.org/html/rfc7235#section-3.1"},402:{code:402,text:"Payment Required",description:"*reserved*",spec_title:"RFC7231#6.5.2",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.2"},403:{code:403,text:"Forbidden",description:'"The server understood the request but refuses to authorize it."',spec_title:"RFC7231#6.5.3",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.3"},404:{code:404,text:"Not Found",description:'"The origin server did not find a current representation for the target resource or is not willing to disclose that one exists."',spec_title:"RFC7231#6.5.4",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.4"},405:{code:405,text:"Method Not Allowed",description:'"The method specified in the request-line is known by the origin server but not supported by the target resource."',spec_title:"RFC7231#6.5.5",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.5"},406:{code:406,text:"Not Acceptable",description:'"The target resource does not have a current representation that would be acceptable to the user agent, according to the proactive negotiation header fields received in the request, and the server is unwilling to supply a default representation."',spec_title:"RFC7231#6.5.6",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.6"},407:{code:407,text:"Proxy Authentication Required",description:'"The client needs to authenticate itself in order to use a proxy."',spec_title:"RFC7231#6.3.2",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.3.2"},408:{code:408,text:"Request Timeout",description:'"The server did not receive a complete request message within the time that it was prepared to wait."',spec_title:"RFC7231#6.5.7",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.7"},409:{code:409,text:"Conflict",description:'"The request could not be completed due to a conflict with the current state of the resource."',spec_title:"RFC7231#6.5.8",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.8"},410:{code:410,text:"Gone",description:'"Access to the target resource is no longer available at the origin server and that this condition is likely to be permanent."',spec_title:"RFC7231#6.5.9",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.9"},411:{code:411,text:"Length Required",description:'"The server refuses to accept the request without a defined Content-Length."',spec_title:"RFC7231#6.5.10",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.10"},412:{code:412,text:"Precondition Failed",description:'"One or more preconditions given in the request header fields evaluated to false when tested on the server."',spec_title:"RFC7232#4.2",spec_href:"https://tools.ietf.org/html/rfc7232#section-4.2"},413:{code:413,text:"Payload Too Large",description:'"The server is refusing to process a request because the request payload is larger than the server is willing or able to process."',spec_title:"RFC7231#6.5.11",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.11"},414:{code:414,text:"URI Too Long",description:'"The server is refusing to service the request because the request-target is longer than the server is willing to interpret."',spec_title:"RFC7231#6.5.12",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.12"},415:{code:415,text:"Unsupported Media Type",description:'"The origin server is refusing to service the request because the payload is in a format not supported by the target resource for this method."',spec_title:"RFC7231#6.5.13",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.13"},416:{code:416,text:"Range Not Satisfiable",description:'"None of the ranges in the request\'s Range header field overlap the current extent of the selected resource or that the set of ranges requested has been rejected due to invalid ranges or an excessive request of small or overlapping ranges."',spec_title:"RFC7233#4.4",spec_href:"https://tools.ietf.org/html/rfc7233#section-4.4"},417:{code:417,text:"Expectation Failed",description:'"The expectation given in the request\'s Expect header field could not be met by at least one of the inbound servers."',spec_title:"RFC7231#6.5.14",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.14"},418:{code:418,text:"I'm a teapot",description:'"1988 April Fools Joke. Returned by tea pots requested to brew coffee."',spec_title:"RFC 2324",spec_href:"https://tools.ietf.org/html/rfc2324"},426:{code:426,text:"Upgrade Required",description:'"The server refuses to perform the request using the current protocol but might be willing to do so after the client upgrades to a different protocol."',spec_title:"RFC7231#6.5.15",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.15"},500:{code:500,text:"Internal Server Error",description:'"The server encountered an unexpected condition that prevented it from fulfilling the request."',spec_title:"RFC7231#6.6.1",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.6.1"},501:{code:501,text:"Not Implemented",description:'"The server does not support the functionality required to fulfill the request."',spec_title:"RFC7231#6.6.2",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.6.2"},502:{code:502,text:"Bad Gateway",description:'"The server, while acting as a gateway or proxy, received an invalid response from an inbound server it accessed while attempting to fulfill the request."',spec_title:"RFC7231#6.6.3",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.6.3"},503:{code:503,text:"Service Unavailable",description:'"The server is currently unable to handle the request due to a temporary overload or scheduled maintenance, which will likely be alleviated after some delay."',spec_title:"RFC7231#6.6.4",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.6.4"},504:{code:504,text:"Gateway Time-out",description:'"The server, while acting as a gateway or proxy, did not receive a timely response from an upstream server it needed to access in order to complete the request."',spec_title:"RFC7231#6.6.5",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.6.5"},505:{code:505,text:"HTTP Version Not Supported",description:'"The server does not support, or refuses to support, the protocol version that was used in the request message."',spec_title:"RFC7231#6.6.6",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.6.6"},102:{code:102,text:"Processing",description:'"An interim response to inform the client that the server has accepted the complete request, but has not yet completed it."',spec_title:"RFC5218#10.1",spec_href:"https://tools.ietf.org/html/rfc2518#section-10.1"},207:{code:207,text:"Multi-Status",description:'"Status for multiple independent operations."',spec_title:"RFC5218#10.2",spec_href:"https://tools.ietf.org/html/rfc2518#section-10.2"},226:{code:226,text:"IM Used",description:'"The server has fulfilled a GET request for the resource, and the response is a representation of the result of one or more instance-manipulations applied to the current instance."',spec_title:"RFC3229#10.4.1",spec_href:"https://tools.ietf.org/html/rfc3229#section-10.4.1"},308:{code:308,text:"Permanent Redirect",description:'"The target resource has been assigned a new permanent URI and any future references to this resource SHOULD use one of the returned URIs. [...] This status code is similar to 301 Moved Permanently (Section 7.3.2 of rfc7231), except that it does not allow rewriting the request method from POST to GET."',spec_title:"RFC7238",spec_href:"https://tools.ietf.org/html/rfc7238"},422:{code:422,text:"Unprocessable Entity",description:'"The server understands the content type of the request entity (hence a 415(Unsupported Media Type) status code is inappropriate), and the syntax of the request entity is correct (thus a 400 (Bad Request) status code is inappropriate) but was unable to process the contained instructions."',spec_title:"RFC5218#10.3",spec_href:"https://tools.ietf.org/html/rfc2518#section-10.3"},423:{code:423,text:"Locked",description:'"The source or destination resource of a method is locked."',spec_title:"RFC5218#10.4",spec_href:"https://tools.ietf.org/html/rfc2518#section-10.4"},424:{code:424,text:"Failed Dependency",description:'"The method could not be performed on the resource because the requested action depended on another action and that action failed."',spec_title:"RFC5218#10.5",spec_href:"https://tools.ietf.org/html/rfc2518#section-10.5"},428:{code:428,text:"Precondition Required",description:'"The origin server requires the request to be conditional."',spec_title:"RFC6585#3",spec_href:"https://tools.ietf.org/html/rfc6585#section-3"},429:{code:429,text:"Too Many Requests",description:'"The user has sent too many requests in a given amount of time ("rate limiting")."',spec_title:"RFC6585#4",spec_href:"https://tools.ietf.org/html/rfc6585#section-4"},431:{code:431,text:"Request Header Fields Too Large",description:'"The server is unwilling to process the request because its header fields are too large."',spec_title:"RFC6585#5",spec_href:"https://tools.ietf.org/html/rfc6585#section-5"},451:{code:451,text:"Unavailable For Legal Reasons",description:'"The server is denying access to the resource in response to a legal demand."',spec_title:"draft-ietf-httpbis-legally-restricted-status",spec_href:"https://tools.ietf.org/html/draft-ietf-httpbis-legally-restricted-status"},506:{code:506,text:"Variant Also Negotiates",description:'"The server has an internal configuration error: the chosen variant resource is configured to engage in transparent content negotiation itself, and is therefore not a proper end point in the negotiation process."',spec_title:"RFC2295#8.1",spec_href:"https://tools.ietf.org/html/rfc2295#section-8.1"},507:{code:507,text:"Insufficient Storage",description:'The method could not be performed on the resource because the server is unable to store the representation needed to successfully complete the request."',spec_title:"RFC5218#10.6",spec_href:"https://tools.ietf.org/html/rfc2518#section-10.6"},511:{code:511,text:"Network Authentication Required",description:'"The client needs to authenticate to gain network access."',spec_title:"RFC6585#6",spec_href:"https://tools.ietf.org/html/rfc6585#section-6"}};class Dw{}class Bre{}let Wm=(()=>{class e{constructor(n={}){Object.assign(this,{caseSensitiveSearch:!1,dataEncapsulation:!1,delay:500,delete404:!1,passThruUnknownUrl:!1,post204:!0,post409:!1,put204:!0,put404:!1,apiBase:void 0,host:void 0,rootPath:void 0},n)}static{this.\u0275fac=function(r){return new(r||e)(j(Bre))}}static{this.\u0275prov=L({token:e,factory:e.\u0275fac})}}return e})();class Hre{constructor(t,n={}){this.inMemDbService=t,this.config=new Wm,this.db={},this.requestInfoUtils=this.getRequestInfoUtils();const r=this.getLocation("/");this.config.host=r.host,this.config.rootPath=r.path,Object.assign(this.config,n)}get dbReady(){return this.dbReadySubject||(this.dbReadySubject=new Nn(!1),this.resetDb()),this.dbReadySubject.asObservable().pipe(rs(t=>t))}handleRequest(t){return this.dbReady.pipe(na(()=>this.handleRequest_(t)))}handleRequest_(t){const n=t.urlWithParams?t.urlWithParams:t.url,r=this.bind("parseRequestUrl"),o=r&&r(n,this.requestInfoUtils)||this.parseRequestUrl(n),s=o.collectionName,i=this.db[s],a={req:t,apiBase:o.apiBase,collection:i,collectionName:s,headers:this.createHeaders({"Content-Type":"application/json"}),id:this.parseId(i,s,o.id),method:this.getRequestMethod(t),query:o.query,resourceUrl:o.resourceUrl,url:n,utils:this.requestInfoUtils};let c;if(/commands\/?$/i.test(a.apiBase))return this.commands(a);const l=this.bind(a.method);if(l){const u=l(a);if(u)return u}return this.db[s]?this.createResponse$(()=>this.collectionHandler(a)):this.config.passThruUnknownUrl?this.getPassThruBackend().handle(t):(c=this.createErrorResponseOptions(n,404,`Collection '${s}' not found`),this.createResponse$(()=>c))}addDelay(t){const n=this.config.delay;return 0===n?t:function Pre(e,t){return new We(n=>{let r=!1,o=!1;const s=e.subscribe(i=>{o=!0,setTimeout(()=>{n.next(i),r&&n.complete()},t)},i=>setTimeout(()=>n.error(i),t),()=>{r=!0,o||n.complete()});return()=>s.unsubscribe()})}(t,n||500)}applyQuery(t,n){const r=[],o=this.config.caseSensitiveSearch?void 0:"i";n.forEach((i,a)=>{i.forEach(c=>r.push({name:a,rx:new RegExp(decodeURI(c),o)}))});const s=r.length;return s?t.filter(i=>{let a=!0,c=s;for(;a&&c;){c-=1;const l=r[c];a=l.rx.test(i[l.name])}return a}):t}bind(t){const n=this.inMemDbService[t];return n?n.bind(this.inMemDbService):void 0}bodify(t){return this.config.dataEncapsulation?{data:t}:t}clone(t){return JSON.parse(JSON.stringify(t))}collectionHandler(t){let n;switch(t.method){case"get":n=this.get(t);break;case"post":n=this.post(t);break;case"put":n=this.put(t);break;case"delete":n=this.delete(t);break;default:n=this.createErrorResponseOptions(t.url,405,"Method not allowed")}const r=this.bind("responseInterceptor");return r?r(n,t):n}commands(t){const n=t.collectionName.toLowerCase(),r=t.method;let o={url:t.url};switch(n){case"resetdb":return o.status=204,this.resetDb(t).pipe(na(()=>this.createResponse$(()=>o,!1)));case"config":if("get"===r)o.status=200,o.body=this.clone(this.config);else{const s=this.getJsonBody(t.req);Object.assign(this.config,s),this.passThruBackend=void 0,o.status=204}break;default:o=this.createErrorResponseOptions(t.url,500,`Unknown command "${n}"`)}return this.createResponse$(()=>o,!1)}createErrorResponseOptions(t,n,r){return{body:{error:`${r}`},url:t,headers:this.createHeaders({"Content-Type":"application/json"}),status:n}}createResponse$(t,n=!0){const r=this.createResponseOptions$(t);let o=this.createResponse$fromResponseOptions$(r);return n?this.addDelay(o):o}createResponseOptions$(t){return new We(n=>{let r;try{r=t()}catch(s){r=this.createErrorResponseOptions("",500,`${s.message||s}`)}const o=r.status;try{r.statusText=null!=o?function Vre(e){return Lre[e+""].text||"Unknown Status"}(o):void 0}catch{}return null!=o&&function jre(e){return e>=200&&e<300}(o)?(n.next(r),n.complete()):n.error(r),()=>{}})}delete({collection:t,collectionName:n,headers:r,id:o,url:s}){return null==o?this.createErrorResponseOptions(s,404,`Missing "${n}" id`):{headers:r,status:this.removeById(t,o)||!this.config.delete404?204:404}}findById(t,n){return t.find(r=>r.id===n)}genId(t,n){const r=this.bind("genId");if(r){const o=r(t,n);if(null!=o)return o}return this.genIdDefault(t,n)}genIdDefault(t,n){if(!this.isCollectionIdNumeric(t,n))throw new Error(`Collection '${n}' id type is non-numeric or unknown. Can only generate numeric ids.`);let r=0;return t.reduce((o,s)=>{r=Math.max(r,"number"==typeof s.id?s.id:r)},void 0),r+1}get({collection:t,collectionName:n,headers:r,id:o,query:s,url:i}){let a=t;return null!=o&&""!==o?a=this.findById(t,o):s&&(a=this.applyQuery(t,s)),a?{body:this.bodify(this.clone(a)),headers:r,status:200}:this.createErrorResponseOptions(i,404,`'${n}' with id='${o}' not found`)}getLocation(t){if(!t.startsWith("http")){const n=typeof document>"u"?void 0:document,r=n?n.location.protocol+"//"+n.location.host:"http://fake";t=t.startsWith("/")?r+t:r+"/"+t}return function Ure(e){const n=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(e),r={source:"",protocol:"",authority:"",userInfo:"",user:"",password:"",host:"",port:"",relative:"",path:"",directory:"",file:"",query:"",anchor:""},o=Object.keys(r);let s=o.length;for(;s--;)r[o[s]]=n&&n[s]||"";return r}(t)}getPassThruBackend(){return this.passThruBackend?this.passThruBackend:this.passThruBackend=this.createPassThruBackend()}getRequestInfoUtils(){return{createResponse$:this.createResponse$.bind(this),findById:this.findById.bind(this),isCollectionIdNumeric:this.isCollectionIdNumeric.bind(this),getConfig:()=>this.config,getDb:()=>this.db,getJsonBody:this.getJsonBody.bind(this),getLocation:this.getLocation.bind(this),getPassThruBackend:this.getPassThruBackend.bind(this),parseRequestUrl:this.parseRequestUrl.bind(this)}}indexOf(t,n){return t.findIndex(r=>r.id===n)}parseId(t,n,r){if(!this.isCollectionIdNumeric(t,n))return r;const o=parseFloat(r);return isNaN(o)?r:o}isCollectionIdNumeric(t,n){return!(!t||!t[0])&&"number"==typeof t[0].id}parseRequestUrl(t){try{const n=this.getLocation(t);let r=(this.config.rootPath||"").length,o="";n.host!==this.config.host&&(r=1,o=n.protocol+"//"+n.host+"/");const i=n.path.substring(r).split("/");let c,a=0;null==this.config.apiBase?c=i[a++]:(c=function $re(e){return e.replace(/\/$/,"")}(this.config.apiBase.trim()),a=c?c.split("/").length:0),c+="/";let l=i[a++];l=l&&l.split(".")[0];return{apiBase:c,collectionName:l,id:i[a++],query:this.createQueryMap(n.query),resourceUrl:o+c+l+"/"}}catch(n){throw new Error(`unable to parse url '${t}'; original error: ${n.message}`)}}post({collection:t,collectionName:n,headers:r,id:o,req:s,resourceUrl:i,url:a}){const c=this.clone(this.getJsonBody(s));if(null==c.id)try{c.id=o||this.genId(t,n)}catch(d){const f=d.message||"";return/id type is non-numeric/.test(f)?this.createErrorResponseOptions(a,422,f):this.createErrorResponseOptions(a,500,`Failed to generate new id for '${n}'`)}if(o&&o!==c.id)return this.createErrorResponseOptions(a,400,"Request id does not match item.id");const l=this.indexOf(t,o=c.id),u=this.bodify(c);return-1===l?(t.push(c),r.set("Location",i+"/"+o),{headers:r,body:u,status:201}):this.config.post409?this.createErrorResponseOptions(a,409,`'${n}' item with id='${o} exists and may not be updated with POST; use PUT instead.`):(t[l]=c,this.config.post204?{headers:r,status:204}:{headers:r,body:u,status:200})}put({collection:t,collectionName:n,headers:r,id:o,req:s,url:i}){const a=this.clone(this.getJsonBody(s));if(null==a.id)return this.createErrorResponseOptions(i,404,`Missing '${n}' id`);if(o&&o!==a.id)return this.createErrorResponseOptions(i,400,`Request for '${n}' id does not match item.id`);const c=this.indexOf(t,o=a.id),l=this.bodify(a);return c>-1?(t[c]=a,this.config.put204?{headers:r,status:204}:{headers:r,body:l,status:200}):this.config.put404?this.createErrorResponseOptions(i,404,`'${n}' item with id='${o} not found and may not be created with PUT; use POST instead.`):(t.push(a),{headers:r,body:l,status:201})}removeById(t,n){const r=this.indexOf(t,n);return r>-1&&(t.splice(r,1),!0)}resetDb(t){this.dbReadySubject&&this.dbReadySubject.next(!1);const n=this.inMemDbService.createDb(t);return(n instanceof We?n:"function"==typeof n.then?Kt(n):te(n)).pipe(rs()).subscribe(o=>{this.db=o,this.dbReadySubject&&this.dbReadySubject.next(!0)}),this.dbReady}}let qre=(()=>{class e extends Hre{constructor(n,r,o){super(n,r),this.xhrFactory=o}handle(n){try{return this.handleRequest(n)}catch(r){const s=this.createErrorResponseOptions(n.url,500,`${r.message||r}`);return this.createResponse$(()=>s)}}getJsonBody(n){return n.body}getRequestMethod(n){return(n.method||"get").toLowerCase()}createHeaders(n){return new tr(n)}createQueryMap(n){const r=new Map;if(n){const o=new ss({fromString:n});o.keys().forEach(s=>r.set(s,o.getAll(s)||[]))}return r}createResponse$fromResponseOptions$(n){return n.pipe(ie(r=>new ei(r)))}createPassThruBackend(){try{return new Sw(this.xhrFactory)}catch(n){throw n.message="Cannot create passThru404 backend; "+(n.message||""),n}}static{this.\u0275fac=function(r){return new(r||e)(j(Dw),j(Wm,8),j(_m))}}static{this.\u0275prov=L({token:e,factory:e.\u0275fac})}}return e})();function zre(e,t,n){return new qre(e,t,n)}let Wre=(()=>{class e{static forRoot(n,r){return{ngModule:e,providers:[{provide:Dw,useClass:n},{provide:Wm,useValue:r},{provide:Rf,useFactory:zre,deps:[Dw,Wm,_m]}]}}static forFeature(n,r){return e.forRoot(n,r)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=io({type:e})}static{this.\u0275inj=Vr({})}}return e})(),Gre=(()=>{class e{createDb(){const n={id:"metal",label:"Metal",bpm:180,tracks:[{name:"Snare",fileName:"metal/snare.mp3",steps:"____X_______X___".split("").map(S=>"X"===S)},{name:"Hats",fileName:"metal/crash.mp3",steps:"X___X___X___X___".split("").map(S=>"X"===S)},{name:"Kick",fileName:"metal/kick.mp3",steps:"XXXXXXXXXXXXXXXX".split("").map(S=>"X"===S)}]},r={id:"techno",label:"4 on the floor",bpm:128,tracks:[{name:"Snare",fileName:"techno/snare.wav",steps:"____X_______X___".split("").map(S=>"X"===S)},{name:"Hats",fileName:"techno/hat.wav",steps:"X_X_X_X_X_X_X_X_".split("").map(S=>"X"===S)},{name:"Kick",fileName:"techno/kick.wav",steps:"X   X   X   X   ".split("").map(S=>"X"===S)}]},o={id:"rock-beat",label:"Rock",bpm:145,tracks:[{name:"Snare",fileName:"metal/snare.mp3",steps:"    X       X   ".split("").map(S=>"X"===S)},{name:"Hats",fileName:"metal/hat.mp3",steps:"X   X   X   X   ".split("").map(S=>"X"===S)},{name:"Kick",fileName:"metal/kick.mp3",steps:"X       X       ".split("").map(S=>"X"===S)}]},s={id:"rock-beat-variation",label:"Rock variation",bpm:145,tracks:[{name:"Snare",fileName:"metal/snare.mp3",steps:"    X       X   ".split("").map(S=>"X"===S)},{name:"Crash",fileName:"metal/crash.mp3",steps:"X   X   X   X   ".split("").map(S=>"X"===S)},{name:"Kick",fileName:"metal/kick.mp3",steps:"X       X       ".split("").map(S=>"X"===S)}]},i={id:"psytrance",label:"Psytrance",bpm:135,tracks:[{name:"Closed hats",fileName:"psytrance/closed-hat.wav",steps:"X   X   X   X   ".split("").map(S=>"X"===S)},{name:"Open hats",fileName:"psytrance/open-hat.wav",steps:"  X   X   X   X ".split("").map(S=>"X"===S)},{name:"Snare",fileName:"psytrance/snare.wav",steps:"    X       X   ".split("").map(S=>"X"===S)},{name:"Kick",fileName:"psytrance/kick.wav",steps:"X   X   X   X   ".split("").map(S=>"X"===S)},{name:"Bass",fileName:"psytrance/bass.wav",steps:" XXX XXX XXX XXX".split("").map(S=>"X"===S)}]},a={id:"off-beat-techno-clap",label:"OffBeat clap",bpm:128,tracks:[{name:"Clap",fileName:"gabber/clap.wav",steps:"    X      XX       X      XX   ".split("").map(S=>"X"===S)},{name:"Hats",fileName:"techno/hat.wav",steps:"  X   X   X   X   X   X   X   X ".split("").map(S=>"X"===S)},{name:"Kick",fileName:"techno/kick.wav",steps:"X   X   X   X   X   X   X   X   ".split("").map(S=>"X"===S)}]},c={id:"jersey-club",label:"Jersey club",bpm:140,tracks:[{name:"Bed squeak (low)",fileName:"jersey-club/squeak_low.mp3",steps:"X       X       ".split("").map(S=>"X"===S)},{name:"Bed squeak (high)",fileName:"jersey-club/squeak_high.mp3",steps:"    X       X   ".split("").map(S=>"X"===S)},{name:"Snare",fileName:"jersey-club/snare.mp3",steps:"X   X   X  X  X ".split("").map(S=>"X"===S)},{name:"Kick",fileName:"jersey-club/kick.mp3",steps:"X   X   X  X  X ".split("").map(S=>"X"===S)}]},l={id:"half-time-groove",label:"Half time groove",bpm:145,tracks:[{name:"Snare",fileName:"metal/snare.mp3",steps:"        X       ".split("").map(S=>"X"===S)},{name:"Crash",fileName:"metal/crash.mp3",steps:"X   X   X   X   ".split("").map(S=>"X"===S)},{name:"Kick",fileName:"metal/kick.mp3",steps:"X               ".split("").map(S=>"X"===S)}]},u={id:"garage",label:"Garage",bpm:130,tracks:[{name:"Snare",fileName:"techno/snare.wav",steps:"    X       X   ".split("").map(S=>"X"===S)},{name:"Hats",fileName:"techno/hat.wav",steps:"  X   X   X   X ".split("").map(S=>"X"===S)},{name:"Kick",fileName:"techno/kick.wav",steps:"X           X   ".split("").map(S=>"X"===S)}]},d={id:"gabber",label:"Gabber",bpm:200,tracks:[{name:"Crash Cymbal",fileName:"gabber/crash.wav",steps:"                               X".split("").map(S=>"X"===S)},{name:"Open HiHats",fileName:"gabber/open-hihat.wav",steps:"X X X X X X X X X X X X X X X X ".split("").map(S=>"X"===S)},{name:"Clap",fileName:"gabber/clap.wav",steps:"X   X   X   X   X   X   X   X   ".split("").map(S=>"X"===S)},{name:"Kick",fileName:"gabber/kick.wav",steps:"X   X   X   X   X   X   X   X   ".split("").map(S=>"X"===S)}]},f={id:"ebm",label:"EBM",bpm:120,tracks:[{name:"Clap",fileName:"ebm/clap.wav",steps:[" "," ","X"," ","X"," ","X"," "," "," ","X"," "," "," ","X","X"," "," ","X","X","X","X"," "," "," ","X"," ","X"," "," ","X"," "].map(S=>"X"===S)},{name:"Open High-Hat",fileName:"ebm/open-hihat.wav",steps:[" "," ","X"," "," "," ","X"," "," "," ","X"," "," "," ","X"," "," "," ","X"," "," "," ","X"," "," "," ","X"," "," "," ","X"," "].map(S=>"X"===S)},{name:"Closed High-Hat",fileName:"ebm/closed-hihat.wav",steps:["X","X"," "," ","X","X"," "," ","X","X"," "," ","X","X"," "," ","X","X"," "," ","X","X"," "," ","X","X"," "," ","X","X"," "," "].map(S=>"X"===S)},{name:"Snare",fileName:"ebm/snare.wav",steps:"    X       X       X       X XX".split("").map(S=>"X"===S)},{name:"Kick",fileName:"ebm/kick.wav",steps:"X   X   X   X   X   X   X   X   ".split("").map(S=>"X"===S)}]},p={id:"dub",label:"Dub",bpm:140,tracks:[{name:"Kick",fileName:"dub/kick.wav",steps:"X_______X_______X_______X_______X_______X_______X_______X_______".split("").map(S=>"X"===S)},{name:"Sub Bass",fileName:"dub/sub.wav",steps:["X"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","X"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","X"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","X"," "," "," "," "," "," "," ","X"," "," "," "," "," "," "," "].map(S=>"X"===S)},{name:"Skank",fileName:"dub/skank.wav",steps:"____X_______X_______X_______X_______X_______X_______X_______X___".split("").map(S=>"X"===S)},{name:"Snare",fileName:"dub/snare.wav",steps:[" "," "," "," "," "," "," "," ","X"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","X"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","X"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","X"," ","X"," "," "," "," "," "].map(S=>"X"===S)},{name:"Arpeggio",fileName:"dub/arpeggio_si.wav",steps:"____X_______X_______X_______X_______X_______X_______X_______X___".split("").map(S=>"X"===S)},{name:"Closed Hat",fileName:"dub/closed-hat.wav",steps:[" "," "," "," ","X"," ","X"," "," "," "," "," ","X"," "," "," "," "," "," "," ","X","X","X"," "," "," "," "," ","X"," "," "," "," "," "," "," ","X"," ","X"," "," "," "," "," ","X","X"," "," "," "," "," "," ","X"," ","X"," "," "," "," "," ","X"," ","X","X"].map(S=>"X"===S)},{name:"Bass",fileName:"dub/bass.wav",steps:"X                                         X                     ".split("").map(S=>"X"===S)}]},g={id:"blast-beat",label:"Blast beat",bpm:180,tracks:[{name:"Snare",fileName:"metal/snare.mp3",steps:"_X_X_X_X_X_X_X_X".split("").map(S=>"X"===S)},{name:"Hats",fileName:"metal/hat.mp3",steps:"X_X_X_X_X_X_X_X_".split("").map(S=>"X"===S)},{name:"Kick",fileName:"metal/kick.mp3",steps:"X_X_X_X_X_X_X_X_".split("").map(S=>"X"===S)}]},m={id:"breakcore",label:"Breakcore",bpm:180,tracks:[{name:"Snare (accent)",fileName:"techno/snare.wav",steps:"    X        X  ".split("").map(S=>"X"===S)},{name:"Snare (main)",fileName:"drum-n-bass/snare.wav",steps:"    X  X X   X  ".split("").map(S=>"X"===S)},{name:"Hats",fileName:"techno/hat.wav",steps:"XXXXXXXXXXXXXXXX".split("").map(S=>"X"===S)},{name:"Kick",fileName:"techno/kick.wav",steps:"X X       XX    ".split("").map(S=>"X"===S)}]},y={id:"drum-n-bass",label:"Drum & bass",bpm:170,tracks:[{name:"Snare",fileName:"drum-n-bass/snare.wav",steps:"    X       X   ".split("").map(S=>"X"===S)},{name:"Hats",fileName:"drum-n-bass/hat.wav",steps:"XXXXXXXXXXXXXXXX".split("").map(S=>"X"===S)},{name:"Kick",fileName:"drum-n-bass/kick.wav",steps:"X         X     ".split("").map(S=>"X"===S)}]},b={id:"dancehall-standard",label:"Standard dancehall",bpm:105,tracks:[{name:"Hats",fileName:"techno/hat.wav",steps:"XXXXXXXXXXXXXXXX".split("").map(S=>"X"===S)},{name:"Snare",fileName:"techno/snare.wav",steps:"      X       X ".split("").map(S=>"X"===S)},{name:"Kick",fileName:"techno/kick.wav",steps:"X  X  X X  X  X ".split("").map(S=>"X"===S)}]},C={id:"dancehall-reggaeton",label:"Reggaeton",bpm:105,tracks:[{name:"Hats",fileName:"techno/hat.wav",steps:"XXXXXXXXXXXXXXXX".split("").map(S=>"X"===S)},{name:"Snare",fileName:"techno/snare.wav",steps:"   X  X    X  X ".split("").map(S=>"X"===S)},{name:"Kick",fileName:"techno/kick.wav",steps:"X   X   X   X   ".split("").map(S=>"X"===S)}]},k={id:"dancehall-modern",label:"Modern dancehall",bpm:105,tracks:[{name:"Hats",fileName:"techno/hat.wav",steps:"XXXXXXXXXXXXXXXX".split("").map(S=>"X"===S)},{name:"Rim",fileName:"techno/snare.wav",steps:"   X  X     X   ".split("").map(S=>"X"===S)},{name:"Kick",fileName:"techno/kick.wav",steps:"X         X     ".split("").map(S=>"X"===S)}]};return{genres:[{label:"Techno",beats:[r,d,a]},{label:"Garage",beats:[u,y]},{label:"Breakbeat",beats:[c,m]},{label:"Dancehall",beats:[C,b,k]},{label:"Trance",beats:[i]},{label:"Dub",beats:[p]},{label:"Indus",beats:[f]},{label:"Metal",beats:[n,l,o,s,g]},{label:"Punk",beats:[{id:"punk-beat-quarter-note-groove",label:"Quarter note groove",bpm:170,tracks:[{name:"Hats",fileName:"metal/hat.mp3",steps:"X___X___X___X___".split("").map(S=>"X"===S)},{name:"Snare",fileName:"metal/snare.mp3",steps:"____X_______X___".split("").map(S=>"X"===S)},{name:"Kick",fileName:"metal/kick.mp3",steps:"X_______X_______".split("").map(S=>"X"===S)}]},{id:"punk-beat-quarter-note-groove-variation",label:"Quarter note groove variation",bpm:170,tracks:[{name:"Hats",fileName:"metal/hat.mp3",steps:"X___X___X___X___".split("").map(S=>"X"===S)},{name:"Snare",fileName:"metal/snare.mp3",steps:"____X_______X___".split("").map(S=>"X"===S)},{name:"Kick",fileName:"metal/kick.mp3",steps:"X_X_____X_X_____".split("").map(S=>"X"===S)}]},{id:"punk-beat-eight-note-fill",label:"Eight note fill",bpm:170,tracks:[{name:"Hats",fileName:"metal/hat.mp3",steps:"X_X_X_X_X_X_X_X_".split("").map(S=>"X"===S)},{name:"Snare",fileName:"metal/snare.mp3",steps:"____X_______X___".split("").map(S=>"X"===S)},{name:"Kick",fileName:"metal/kick.mp3",steps:"X_X___X_X_X_____".split("").map(S=>"X"===S)}]}]}],beats:[k,b,C,y,m,g,p,f,n,r,o,s,i,a,c,l,u,d]}}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const Xre={sixteen:16,thirty_two:32,sixty_four:64},AL=new P("IManageGenres");class Kre{getAudioBuffer(t){return jo(function*(){const n=new Request(`assets/sounds/${t}`),o=yield(yield fetch(n)).arrayBuffer();return yield(new AudioContext).decodeAudioData(o).then(s=>s)})()}}let Yre=(()=>{class e{getRenderedBuffer(n,r,o,s){var i=this;return jo(function*(){const a=i.getTickLength(o),c=new OfflineAudioContext(1,2*s*a*44100,44100);return n.forEach(l=>{i.getDuplicatedTrackSteps(l).forEach((d,f)=>{if(!d)return;const p=r.find(y=>y.fileName===l.fileName).sample,g=c.createBufferSource();g.buffer=p,g.connect(c.destination),g.start(f*a)})}),c.oncomplete=l=>l.renderedBuffer,yield c.startRendering()})()}getDuplicatedTrackSteps(n){const r=[...n.steps];return r.push(...n.steps),r}getTickLength(n){return 60/n/4}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Gm=(()=>{class e{static{this.maxBpm=300}static{this.minBpm=30}constructor(n,r){this.soundGeneratorService=n,this.loader=r,this.bpm=120,this.isPlaying=!1,this.index=0,this.samples=[],this.tracks=[],this.stepNumber=16,this.audioFilesService=new Kre,this.loopBuffer=null,this.context=new AudioContext,this.playbackSource=new AudioBufferSourceNode(this.context)}playPause(){var n=this;return jo(function*(){n.isPlaying=!n.isPlaying,n.isPlaying?(n.loopBuffer||(n.loopBuffer=yield n.soundGeneratorService.getRenderedBuffer(n.tracks,n.samples,n.bpm,n.stepNumber)),n.play()):n.pause()})()}pause(){this.playbackSource.stop(this.context.currentTime),this.reset()}playSound(n){const r=this.context.createBufferSource();r.buffer=n,r.connect(this.context.destination),r.loop=!0,r.loopStart=r.buffer.duration/2,r.loopEnd=r.buffer.duration;const o=this.context.currentTime;r.start();const s=()=>{this.index=Math.trunc(1e3*(this.context.currentTime-o)/this.getMillisStepFromBpm()%this.stepNumber),this.isPlaying&&requestAnimationFrame(s)};s(),this.playbackSource.buffer&&this.playbackSource.stop(this.context.currentTime),this.playbackSource=r}getMillisStepFromBpm(){let r=6e4/this.bpm/4;return r=Math.min(r,1e3),r=Math.max(r,10),r}reset(){this.isPlaying=!1,this.index=0}resetLoopBuffer(){this.loopBuffer=null}setBpm(n){this.bpm=n}setTracks(n){this.tracks=n;const r=n.map(o=>o.fileName);this.loadTracks(r)}loadTracks(n){this.loader.start(),n.forEach(o=>this.samples.push({fileName:o}));const r=this.samples.map(o=>this.audioFilesService.getAudioBuffer(o.fileName).then(s=>o.sample=s));Promise.all(r).then(()=>this.loader.complete()).catch(()=>this.loader.complete())}setStepNumber(n){this.stepNumber=n}generateLoopBuffer(){var n=this;return jo(function*(){n.loopBuffer=yield n.soundGeneratorService.getRenderedBuffer(n.tracks,n.samples,n.bpm,n.stepNumber)})()}play(){this.loopBuffer&&this.playSound(this.loopBuffer)}static{this.\u0275fac=function(r){return new(r||e)(j(Yre),j(US))}}static{this.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Qre=(()=>{class e{constructor(){this.maxBpm=Gm.maxBpm,this.minBpm=Gm.minBpm,this.bpm=Gm.minBpm,this.bpmChange=new at}incrementBpm(){this.updateBpm(Math.min(this.bpm+1,this.maxBpm))}decrementBpm(){this.updateBpm(Math.max(this.bpm-1,this.minBpm))}updateNumber(n){let o=Number(n.target.value);o=Math.min(o,this.maxBpm),o=Math.max(o,this.minBpm),this.updateBpm(o)}updateBpm(n){this.bpm=n,this.bpmChange.emit(this.bpm)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=$o({type:e,selectors:[["app-bpm-input"]],inputs:{bpm:"bpm"},outputs:{bpmChange:"bpmChange"},standalone:!0,features:[Yi],decls:4,vars:1,consts:[[1,"number-control"],[1,"number-left",3,"click"],["type","number","name","number",1,"number-quantity",3,"change","value"],[1,"number-right",3,"click"]],template:function(r,o){1&r&&(Ie(0,"div",0)(1,"div",1),_t("click",function(){return o.decrementBpm()}),Fe(),Ie(2,"input",2),_t("change",function(i){return o.updateNumber(i)}),Fe(),Ie(3,"div",3),_t("click",function(){return o.incrementBpm()}),Fe()()),2&r&&(ot(2),mt("value",o.bpm))},styles:['.number-control[_ngcontent-%COMP%]{display:flex;align-items:center}.number-control[_ngcontent-%COMP%]   .number-left[_ngcontent-%COMP%]:before, .number-control[_ngcontent-%COMP%]   .number-right[_ngcontent-%COMP%]:after{content:attr(data-content);background-color:var(--backgroundColor);display:flex;align-items:center;justify-content:center;border:1px solid var(--borderColor);width:20px;color:var(--textColor);cursor:pointer}.number-control[_ngcontent-%COMP%]   .number-left[_ngcontent-%COMP%]:before{content:"-"}.number-control[_ngcontent-%COMP%]   .number-right[_ngcontent-%COMP%]:after{content:"+"}.number-control[_ngcontent-%COMP%]   .number-quantity[_ngcontent-%COMP%]{padding:.25rem;width:50px;height:12px;-moz-appearance:textfield;border:0;border-top:1px solid var(--borderColor);border-bottom:1px solid var(--borderColor);background-color:var(--backgroundColor);color:var(--textColor)}']})}}return e})(),kL=(()=>{class e{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static{this.\u0275fac=function(r){return new(r||e)(A(Qo),A(Yn))}}static{this.\u0275dir=ee({type:e})}}return e})(),aa=(()=>{class e extends kL{static{this.\u0275fac=(()=>{let n;return function(o){return(n||(n=Bt(e)))(o||e)}})()}static{this.\u0275dir=ee({type:e,features:[xe]})}}return e})();const Do=new P(""),eoe={provide:Do,useExisting:Ge(()=>Mw),multi:!0},noe=new P("");let Mw=(()=>{class e extends kL{constructor(n,r,o){super(n,r),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function toe(){const e=Ks()?Ks().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static{this.\u0275fac=function(r){return new(r||e)(A(Qo),A(Yn),A(noe,8))}}static{this.\u0275dir=ee({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,o){1&r&&_t("input",function(i){return o._handleInput(i.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(i){return o._compositionEnd(i.target.value)})},features:[ct([eoe]),xe]})}}return e})();const gn=new P(""),ri=new P("");function HL(e){return null!=e}function qL(e){return Jd(e)?Kt(e):e}function zL(e){let t={};return e.forEach(n=>{t=null!=n?{...t,...n}:t}),0===Object.keys(t).length?null:t}function WL(e,t){return t.map(n=>n(e))}function GL(e){return e.map(t=>function ooe(e){return!e.validate}(t)?t:n=>t.validate(n))}function Iw(e){return null!=e?function XL(e){if(!e)return null;const t=e.filter(HL);return 0==t.length?null:function(n){return zL(WL(n,t))}}(GL(e)):null}function Tw(e){return null!=e?function KL(e){if(!e)return null;const t=e.filter(HL);return 0==t.length?null:function(n){return function Jre(...e){const t=JP(e),{args:n,keys:r}=kP(e),o=new We(s=>{const{length:i}=n;if(!i)return void s.complete();const a=new Array(i);let c=i,l=i;for(let u=0;u<i;u++){let d=!1;Qr(n[u]).subscribe(Tt(s,f=>{d||(d=!0,l--),a[u]=f},()=>c--,void 0,()=>{(!c||!d)&&(l||s.next(r?ZP(r,a):a),s.complete())}))}});return t?o.pipe(YP(t)):o}(WL(n,t).map(qL)).pipe(ie(zL))}}(GL(e)):null}function YL(e,t){return null===e?[t]:Array.isArray(e)?[...e,t]:[e,t]}function Rw(e){return e?Array.isArray(e)?e:[e]:[]}function Km(e,t){return Array.isArray(e)?e.includes(t):e===t}function ZL(e,t){const n=Rw(t);return Rw(e).forEach(o=>{Km(n,o)||n.push(o)}),n}function e2(e,t){return Rw(t).filter(n=>!Km(e,n))}class t2{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Iw(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Tw(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,n){return!!this.control&&this.control.hasError(t,n)}getError(t,n){return this.control?this.control.getError(t,n):null}}class Rn extends t2{get formDirective(){return null}get path(){return null}}class oi extends t2{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class n2{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let r2=(()=>{class e extends n2{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||e)(A(oi,2))}}static{this.\u0275dir=ee({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,o){2&r&&Jc("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[xe]})}}return e})();const Nf="VALID",Qm="INVALID",vl="PENDING",xf="DISABLED";function Jm(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class xw{constructor(t,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Nf}get invalid(){return this.status===Qm}get pending(){return this.status==vl}get disabled(){return this.status===xf}get enabled(){return this.status!==xf}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(ZL(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(ZL(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(e2(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(e2(t,this._rawAsyncValidators))}hasValidator(t){return Km(this._rawValidators,t)}hasAsyncValidator(t){return Km(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=vl,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const n=this._parentMarkedDirty(t.onlySelf);this.status=xf,this.errors=null,this._forEachChild(r=>{r.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){const n=this._parentMarkedDirty(t.onlySelf);this.status=Nf,this._forEachChild(r=>{r.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Nf||this.status===vl)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?xf:Nf}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=vl,this._hasOwnPendingAsyncValidator=!0;const n=qL(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(!1!==n.emitEvent)}get(t){let n=t;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,o)=>r&&r._find(o),this)}getError(t,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new at,this.statusChanges=new at}_calculateStatus(){return this._allControlsDisabled()?xf:this.errors?Qm:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(vl)?vl:this._anyControlsHaveStatus(Qm)?Qm:Nf}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Jm(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function loe(e){return Array.isArray(e)?Iw(e):e||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function uoe(e){return Array.isArray(e)?Tw(e):e||null}(this._rawAsyncValidators)}}const bl=new P("CallSetDisabledState",{providedIn:"root",factory:()=>Zm}),Zm="always";function Ff(e,t,n=Zm){(function Pw(e,t){const n=function QL(e){return e._rawValidators}(e);null!==t.validator?e.setValidators(YL(n,t.validator)):"function"==typeof n&&e.setValidators([n]);const r=function JL(e){return e._rawAsyncValidators}(e);null!==t.asyncValidator?e.setAsyncValidators(YL(r,t.asyncValidator)):"function"==typeof r&&e.setAsyncValidators([r]);const o=()=>e.updateValueAndValidity();n_(t._rawValidators,o),n_(t._rawAsyncValidators,o)})(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||"always"===n)&&t.valueAccessor.setDisabledState?.(e.disabled),function hoe(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&a2(e,t)})}(e,t),function goe(e,t){const n=(r,o)=>{t.valueAccessor.writeValue(r),o&&t.viewToModelUpdate(r)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}(e,t),function poe(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&a2(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),function foe(e,t){if(t.valueAccessor.setDisabledState){const n=r=>{t.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}(e,t)}function n_(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function a2(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function u2(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}function d2(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}Promise.resolve();const f2=class extends xw{constructor(t=null,n,r){super(function kw(e){return(Jm(e)?e.validators:e)||null}(n),function Nw(e,t){return(Jm(t)?t.asyncValidators:e)||null}(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Jm(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=d2(t)?t.value:t)}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){u2(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){u2(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){d2(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},Soe={provide:oi,useExisting:Ge(()=>Uw)},g2=Promise.resolve();let Uw=(()=>{class e extends oi{constructor(n,r,o,s,i,a){super(),this._changeDetectorRef=i,this.callSetDisabledState=a,this.control=new f2,this._registered=!1,this.name="",this.update=new at,this._parent=n,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=function jw(e,t){if(!t)return null;let n,r,o;return Array.isArray(t),t.forEach(s=>{s.constructor===Mw?n=s:function yoe(e){return Object.getPrototypeOf(e.constructor)===aa}(s)?r=s:o=s}),o||r||n||null}(0,s)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){const r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),function Vw(e,t){if(!e.hasOwnProperty("model"))return!1;const n=e.model;return!!n.isFirstChange()||!Object.is(t,n.currentValue)}(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Ff(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){g2.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){const r=n.isDisabled.currentValue,o=0!==r&&function ol(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}(r);g2.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?function e_(e,t){return[...t.path,e]}(n,this._parent):[n]}static{this.\u0275fac=function(r){return new(r||e)(A(Rn,9),A(gn,10),A(ri,10),A(Do,10),A(Zd,8),A(bl,8))}}static{this.\u0275dir=ee({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[rt.None,"disabled","isDisabled"],model:[rt.None,"ngModel","model"],options:[rt.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[ct([Soe]),xe,pr]})}}return e})();const xoe={provide:Do,useExisting:Ge(()=>o_),multi:!0};function S2(e,t){return null==e?`${t}`:(t&&"object"==typeof t&&(t="Object"),`${e}: ${t}`.slice(0,50))}let o_=(()=>{class e extends aa{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;const o=S2(this._getOptionId(n),n);this.setProperty("value",o)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){const r=function Foe(e){return e.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static{this.\u0275fac=(()=>{let n;return function(o){return(n||(n=Bt(e)))(o||e)}})()}static{this.\u0275dir=ee({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,o){1&r&&_t("change",function(i){return o.onChange(i.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[ct([xoe]),xe]})}}return e})(),w2=(()=>{class e{constructor(n,r,o){this._element=n,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(n){null!=this._select&&(this._select._optionMap.set(this.id,n),this._setElementValue(S2(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||e)(A(Yn),A(Qo),A(o_,9))}}static{this.\u0275dir=ee({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return e})();const Poe={provide:Do,useExisting:Ge(()=>zw),multi:!0};function D2(e,t){return null==e?`${t}`:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${e}: ${t}`.slice(0,50))}let zw=(()=>{class e extends aa{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){let r;if(this.value=n,Array.isArray(n)){const o=n.map(s=>this._getOptionId(s));r=(s,i)=>{s._setSelected(o.indexOf(i.toString())>-1)}}else r=(o,s)=>{o._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{const o=[],s=r.selectedOptions;if(void 0!==s){const i=s;for(let a=0;a<i.length;a++){const l=this._getOptionValue(i[a].value);o.push(l)}}else{const i=r.options;for(let a=0;a<i.length;a++){const c=i[a];if(c.selected){const l=this._getOptionValue(c.value);o.push(l)}}}this.value=o,n(o)}}_registerOption(n){const r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){const r=function Loe(e){return e.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static{this.\u0275fac=(()=>{let n;return function(o){return(n||(n=Bt(e)))(o||e)}})()}static{this.\u0275dir=ee({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,o){1&r&&_t("change",function(i){return o.onChange(i.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[ct([Poe]),xe]})}}return e})(),M2=(()=>{class e{constructor(n,r,o){this._element=n,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){null!=this._select&&(this._value=n,this._setElementValue(D2(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(D2(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||e)(A(Yn),A(Qo),A(zw,9))}}static{this.\u0275dir=ee({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return e})(),Woe=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=io({type:e})}static{this.\u0275inj=Vr({})}}return e})(),P2=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:bl,useValue:n.callSetDisabledState??Zm}]}}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=io({type:e})}static{this.\u0275inj=Vr({imports:[Woe]})}}return e})();function Xoe(e,t){if(1&e&&(Ie(0,"option",3),yr(1),Fe()),2&e){const n=t.$implicit;mt("value",n),ot(),Wd(n)}}let Koe=(()=>{class e{constructor(){this.elements=[],this.selectedElement="",this.placeHolder="",this.selectChange=new at}onSelectChange(){this.selectChange.emit(this.selectedElement)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=$o({type:e,selectors:[["app-select-input"]],inputs:{elements:"elements",selectedElement:"selectedElement",placeHolder:"placeHolder"},outputs:{selectChange:"selectChange"},standalone:!0,features:[Yi],decls:4,vars:3,consts:[[3,"ngModelChange","change","ngModel"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(r,o){1&r&&(Ie(0,"select",0),xC("ngModelChange",function(i){return function yx(e,t){const n=XA(e);return n&&e.set(t),n}(o.selectedElement,i)||(o.selectedElement=i),i}),_t("change",function(){return o.onSelectChange()}),Ie(1,"option",1),yr(2),Fe(),Sn(3,Xoe,2,2,"option",2),Fe()),2&r&&(NC("ngModel",o.selectedElement),ot(2),Wd(o.placeHolder),ot(),mt("ngForOf",o.elements))},dependencies:[P2,w2,M2,o_,r2,Uw,_S],styles:["select[_ngcontent-%COMP%]{border-color:var(--borderColor);background-color:var(--backgroundColor);color:var(--textColor)}"]})}}return e})();function Yoe(e,t){if(1&e&&(Ie(0,"h3",14),yr(1),Fe()),2&e){const n=t.$implicit;ot(),Wd(n.name)}}function Qoe(e,t){if(1&e&&wn(0,"div",17),2&e){const n=t.$implicit,r=t.index,o=_r(2);Jc("active",n)("current",r===o.soundService.index)("highlight",o.Math.floor(r/4)%2==0)}}function Joe(e,t){if(1&e&&(Ie(0,"article")(1,"div",15),Sn(2,Qoe,1,6,"div",16),Fe()()),2&e){const n=t.$implicit,r=_r();ot(),Jc("sixteen-steps",n.steps.length==r.StepLengths.sixteen)("thirty-two-steps",n.steps.length==r.StepLengths.thirty_two)("sixty-four-steps",n.steps.length==r.StepLengths.sixty_four),ot(),mt("ngForOf",n.steps)}}let Zoe=(()=>{class e{constructor(n,r,o){this._genresManager=n,this.soundService=r,this.route=o,this.beat={},this.genre={},this.genresLabel=[],this.selectedGenreLabel="",this.beats=[],this.selectedBeatLabel="",this.genres=[],this.StepLengths=Xre,this.Math=Math,this.beatBehaviourSubject=new Xt}ngOnInit(){this._genresManager.getGenres().then(n=>{this.genres=n,this.genresLabel=n.map(r=>r.label),this.route.queryParamMap.subscribe(r=>{this.selectGenre(n,r.get("genre"),r.get("beat"))})}).catch(n=>{console.log(n)}),this.beatBehaviourSubject.subscribe(n=>{this.soundService.isPlaying&&this.soundService.pause(),this.soundService.reset(),this.soundService.resetLoopBuffer(),this.soundService.setBpm(n.bpm),this.soundService.setTracks(n.tracks),this.soundService.setStepNumber(n.tracks[0].steps.length)})}toggleIsPlaying(){this.soundService.playPause().then(()=>{},()=>{})}handleKeyboardEvent(n){"Space"==n.code&&this.toggleIsPlaying()}selectGenre(n,r,o){const s=r?n.find(a=>a.label===r):n[0];if(!s)return;this.genre=s,this.selectedGenreLabel=s.label,this.beats=s.beats.map(a=>a.label);const i=o?s.beats.find(a=>a.id===o):s.beats[0];this.selectBeat(i)}selectBeat(n){null!=n&&(this.beat=n,this.beatBehaviourSubject.next(this.beat),this.selectedBeatLabel=this.beat.label)}changeBeatBpm(n){const r=this.soundService.isPlaying;this.soundService.setBpm(n),this.soundService.generateLoopBuffer().then(()=>{r&&this.soundService.play()},()=>{})}genreChange(n){this.selectGenre(this.genres,n,null)}beatChange(n){const r=this.genres.find(o=>o.label===this.selectedGenreLabel)?.beats.find(o=>o.label===n);this.selectBeat(r)}static{this.\u0275fac=function(r){return new(r||e)(A(AL),A(Gm),A(sa))}}static{this.\u0275cmp=$o({type:e,selectors:[["sequencer"]],hostBindings:function(r,o){1&r&&_t("keydown",function(i){return o.handleKeyboardEvent(i)},0,wO)},standalone:!0,features:[Yi],decls:23,vars:10,consts:[["id","main-container"],[1,"play-button-container","flex"],[1,"play-pause-button","pointer",3,"click"],[1,"sequencer-header"],[1,"label"],[1,"small"],["placeHolder","Choose genre",3,"selectChange","elements","selectedElement"],[3,"selectChange","elements","selectedElement","placeHolder"],[1,"flex","label",2,"align-items","center","gap","5px","margin-top","2px"],[3,"bpmChange","bpm"],[1,"tracks-name"],["class","track-name",4,"ngFor","ngForOf"],[1,"tracks-container"],[4,"ngFor","ngForOf"],[1,"track-name"],["id","track"],["class","step",3,"active","current","highlight",4,"ngFor","ngForOf"],[1,"step"]],template:function(r,o){1&r&&(Ie(0,"div",0)(1,"div",1)(2,"button",2),_t("click",function(){return o.toggleIsPlaying()}),yr(3),Fe()(),Ie(4,"div",3)(5,"div",4)(6,"span",5),yr(7,"Genre : "),Fe(),Ie(8,"app-select-input",6),_t("selectChange",function(i){return o.genreChange(i)}),Fe()(),Ie(9,"div",4)(10,"span",5),yr(11,"Beat : "),Fe(),Ie(12,"app-select-input",7),_t("selectChange",function(i){return o.beatChange(i)}),Fe()(),Ie(13,"div",8)(14,"span",5),yr(15,"Tempo : "),Fe(),Ie(16,"app-bpm-input",9),_t("bpmChange",function(i){return o.changeBeatBpm(i)}),Fe(),Ie(17,"span",5),yr(18," bpm"),Fe()()(),Ie(19,"div",10),Sn(20,Yoe,2,1,"h3",11),Fe(),Ie(21,"section",12),Sn(22,Joe,3,7,"article",13),Fe()()),2&r&&(ot(3),Hg(" ",o.soundService.isPlaying?"\u23f8":"\u25b6"," "),ot(5),mt("elements",o.genresLabel)("selectedElement",o.selectedGenreLabel),ot(4),$g("placeHolder","Choose ",o.selectedGenreLabel," beat"),mt("elements",o.beats)("selectedElement",o.selectedBeatLabel),ot(4),mt("bpm",o.beat.bpm),ot(4),mt("ngForOf",o.beat.tracks),ot(2),mt("ngForOf",o.beat.tracks))},dependencies:[_S,Qre,Koe],styles:['html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%;margin:0}[_ngcontent-%COMP%]:root{font-family:Inter,sans-serif;font-feature-settings:"liga" 1,"calt" 1,"ss01" on}@supports (font-variation-settings: normal){[_ngcontent-%COMP%]:root{font-family:InterVariable,sans-serif}}a[_ngcontent-%COMP%]{all:unset}h3[_ngcontent-%COMP%]{margin:0}button[_ngcontent-%COMP%]{font-family:inherit;font-size:100%;line-height:1.15;margin:0;overflow:visible;text-transform:none;-webkit-appearance:button}.flex[_ngcontent-%COMP%]{display:flex}.mt-40[_ngcontent-%COMP%]{margin-top:40px}.mb-40[_ngcontent-%COMP%]{margin-bottom:40px}.mb-10[_ngcontent-%COMP%]{margin-bottom:10px}.ml-10[_ngcontent-%COMP%]{margin-left:10px}body.dark[_ngcontent-%COMP%]{--backgroundColor: #2e2e2e;--textColor: white;--borderColor: white;--menuButtonColor: #CC71FA;--gridHighLightColor: #474747;background-color:var(--backgroundColor);color:var(--textColor)}body.light[_ngcontent-%COMP%]{--backgroundColor: white;--textColor: black;--borderColor: black;--menuButtonColor: #70F1FA;--gridHighLightColor: #e8e8e8;background-color:var(--backgroundColor);color:var(--textColor)}#main-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:max-content auto;gap:10px;margin:0 10px}.sequencer-grid[_ngcontent-%COMP%]{flex-direction:column}#track[_ngcontent-%COMP%]{display:grid;grid-template-rows:repeat(1,1fr);gap:4px}#track[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]{height:40px;width:40px;background-color:var(--backgroundColor);border-radius:4px;border:1px solid var(--borderColor)}#track[_ngcontent-%COMP%]   .current[_ngcontent-%COMP%]{background:repeating-linear-gradient(-45deg,var(--backgroundColor),var(--backgroundColor) 10px,var(--textColor) 5px,var(--textColor) 15px)}#track[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%], #track[_ngcontent-%COMP%]   .active.highlight[_ngcontent-%COMP%]{background-color:#cc71fa}#track[_ngcontent-%COMP%]   .active.current[_ngcontent-%COMP%], #track[_ngcontent-%COMP%]   .active.highlight.current[_ngcontent-%COMP%]{background:repeating-linear-gradient(-45deg,#CC71FA,#CC71FA 10px,var(--backgroundColor) 5px,var(--backgroundColor) 15px)}#track[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%]{background:var(--gridHighLightColor)}#track[_ngcontent-%COMP%]   .current.highlight[_ngcontent-%COMP%]{background:repeating-linear-gradient(-45deg,var(--gridHighLightColor),var(--gridHighLightColor) 10px,var(--textColor) 5px,var(--textColor) 15px)}.sixteen-steps[_ngcontent-%COMP%]{grid-template-columns:repeat(16,1fr)}.thirty-two-steps[_ngcontent-%COMP%]{grid-template-columns:repeat(32,1fr)}.sixty-four-steps[_ngcontent-%COMP%]{grid-template-columns:repeat(64,1fr)}.tracks-container[_ngcontent-%COMP%]{grid-column-start:2;grid-row-start:2;display:grid;grid-template-columns:auto;gap:4px;overflow-x:auto}.tracks-name[_ngcontent-%COMP%]{margin-top:10px;grid-column-start:1;grid-row-start:2}.tracks-name[_ngcontent-%COMP%]   .track-name[_ngcontent-%COMP%]{white-space:nowrap;height:44px}.sequencer-header[_ngcontent-%COMP%]{grid-column-start:2;grid-row-start:1}.sequencer-header[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{vertical-align:bottom}.sequencer-header[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]   .small[_ngcontent-%COMP%]{font-size:small}.sequencer-header[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]   .large[_ngcontent-%COMP%]{font-size:large;font-weight:700}.sequencer-header[_ngcontent-%COMP%]   div[_ngcontent-%COMP%] + div[_ngcontent-%COMP%]{margin-top:3px}.play-button-container[_ngcontent-%COMP%]{grid-column-start:1;grid-row-start:1;justify-content:center;align-items:center}.play-button-container[_ngcontent-%COMP%]   .play-pause-button[_ngcontent-%COMP%]{height:40px;width:40px;min-width:40px;background-color:var(--backgroundColor);color:var(--textColor);font-size:20px;border:none}']})}}return e})();const h=function(e,t){if("function"==typeof e)return function(){return e(arguments)?t.apply(this,arguments):n=>t(n,...arguments)};switch(e){case 0:case 1:throw new RangeError(`Invalid arity ${e}`);case 2:return function(n,r){return arguments.length>=2?t(n,r):function(o){return t(o,n)}};case 3:return function(n,r,o){return arguments.length>=3?t(n,r,o):function(s){return t(s,n,r)}};case 4:return function(n,r,o,s){return arguments.length>=4?t(n,r,o,s):function(i){return t(i,n,r,o)}};case 5:return function(n,r,o,s,i){return arguments.length>=5?t(n,r,o,s,i):function(a){return t(a,n,r,o,s)}};default:return function(){if(arguments.length>=e)return t.apply(this,arguments);const n=arguments;return function(r){return t(r,...n)}}}},Ce=e=>e,s_=e=>()=>e,Lf=s_(!0),is=s_(!1),L2=s_(void 0),i_=L2;function _(e,t,n,r,o,s,i,a,c){switch(arguments.length){case 1:return e;case 2:return t(e);case 3:return n(t(e));case 4:return r(n(t(e)));case 5:return o(r(n(t(e))));case 6:return s(o(r(n(t(e)))));case 7:return i(s(o(r(n(t(e))))));case 8:return a(i(s(o(r(n(t(e)))))));case 9:return c(a(i(s(o(r(n(t(e))))))));default:{let l=arguments[0];for(let u=1;u<arguments.length;u++)l=arguments[u](l);return l}}}const a_=()=>"3.12.0",Gw=Symbol.for(`effect/GlobalValue/globalStoreId/${a_()}`);Gw in globalThis||(globalThis[Gw]=new Map);const Xw=globalThis[Gw],me=(e,t)=>(Xw.has(e)||Xw.set(e,t()),Xw.get(e)),Vf=e=>"number"==typeof e,la=e=>"function"==typeof e,c_=e=>(e=>"object"==typeof e&&null!==e)(e)||la(e),W=h(2,(e,t)=>c_(e)&&t in e),l_=h(2,(e,t)=>W(e,"_tag")&&e._tag===t),El=e=>null==e,jf=e=>`BUG: ${e} - please report an issue at https://github.com/Effect-TS/effect/issues`;Symbol;class Bf{self;called=!1;constructor(t){this.self=t}next(t){return this.called?{value:t,done:!0}:(this.called=!0,{value:this.self,done:!1})}return(t){return{value:t,done:!0}}throw(t){throw t}[Symbol.iterator](){return new Bf(this.self)}}class lse{_state;constructor(t,n,r,o){return El(n)&&El(t)?(n=4294967295*Math.random()>>>0,t=0):El(n)&&(n=t,t=0),El(o)&&El(r)?(o=this._state?this._state[3]:4150755663,r=this._state?this._state[2]:335903614):El(o)&&(o=r,r=0),this._state=new Int32Array([0,0,r>>>0,(1|(o||0))>>>0]),this._next(),q2(this._state,this._state[0],this._state[1],t>>>0,n>>>0),this._next(),this}getState(){return[this._state[0],this._state[1],this._state[2],this._state[3]]}setState(t){this._state[0]=t[0],this._state[1]=t[1],this._state[2]=t[2],this._state[3]=1|t[3]}integer(t){return Math.round(this.number()*Number.MAX_SAFE_INTEGER)%t}number(){return(1*(67108863&this._next())*134217728+1*(134217727&this._next()))/9007199254740992}_next(){const t=this._state[0]>>>0,n=this._state[1]>>>0;(function use(e,t,n,r,o){let s=(n>>>16)*(65535&o)>>>0,i=(65535&n)*(o>>>16)>>>0,a=(65535&n)*(65535&o)>>>0,c=(n>>>16)*(o>>>16)+((i>>>16)+(s>>>16))>>>0;i=i<<16>>>0,a=a+i>>>0,a>>>0<i>>>0&&(c=c+1>>>0),s=s<<16>>>0,a=a+s>>>0,a>>>0<s>>>0&&(c=c+1>>>0),c=c+Math.imul(n,r)>>>0,c=c+Math.imul(t,o)>>>0,e[0]=c,e[1]=a})(this._state,t,n,1481765933,1284865837),q2(this._state,this._state[0],this._state[1],this._state[2],this._state[3]);let r=t>>>18,o=(n>>>18|t<<14)>>>0;r=(r^t)>>>0,o=(o^n)>>>0;const s=(o>>>27|r<<5)>>>0,i=t>>>27;return(s>>>i|s<<((-i>>>0&31)>>>0))>>>0}}function q2(e,t,n,r,o){let s=t+r>>>0;const i=n+o>>>0;i>>>0<n>>>0&&(s=s+1|0),e[0]=s,e[1]=i}const Qw=Symbol.for("effect/Utils/YieldWrap");class Uf{#e;constructor(t){this.#e=t}[Qw](){return this.#e}}const Yt=me("effect/Utils/isStructuralRegion",()=>({enabled:!1,tester:void 0})),Qt=(e=>{const t={[e]:n=>n()};return function(n){return t[e](n)}})("effect_internal_function"),Jw=me(Symbol.for("effect/Hash/randomHashCache"),()=>new WeakMap),Q=Symbol.for("effect/Hash"),B=e=>{if(!0===Yt.enabled)return 0;switch(typeof e){case"number":return Zw(e);case"bigint":return lt(e.toString(10));case"boolean":case"symbol":return lt(String(e));case"string":return lt(e);case"undefined":return lt("undefined");case"function":case"object":return null===e?lt("null"):e instanceof Date?B(e.toISOString()):fse(e)?e[Q]():u_(e);default:throw new Error(`BUG: unhandled typeof ${typeof e} - please report an issue at https://github.com/Effect-TS/effect/issues`)}},u_=e=>(Jw.has(e)||Jw.set(e,Zw(Math.floor(Math.random()*Number.MAX_SAFE_INTEGER))),Jw.get(e)),se=e=>t=>53*t^e,d_=e=>3221225471&e|e>>>1&1073741824,fse=e=>W(e,Q),Zw=e=>{if(e!=e||e===1/0)return 0;let t=0|e;for(t!==e&&(t^=4294967295*e);e>4294967295;)t^=e/=4294967295;return d_(t)},lt=e=>{let t=5381,n=e.length;for(;n;)t=33*t^e.charCodeAt(--n);return d_(t)},W2=e=>((e,t)=>{let n=12289;for(let r=0;r<t.length;r++)n^=_(lt(t[r]),se(B(e[t[r]])));return d_(n)})(e,Object.keys(e)),ua=e=>{let t=6151;for(let n=0;n<e.length;n++)t=_(t,se(B(e[n])));return d_(t)},Ue=function(){if(1===arguments.length){const n=arguments[0];return function(r){return Object.defineProperty(n,Q,{value:()=>r,enumerable:!1}),r}}const t=arguments[1];return Object.defineProperty(arguments[0],Q,{value:()=>t,enumerable:!1}),t},J=Symbol.for("effect/Equal");function U(){return 1===arguments.length?e=>f_(e,arguments[0]):f_(arguments[0],arguments[1])}function f_(e,t){if(e===t)return!0;const n=typeof e;if(n!==typeof t)return!1;if("object"===n||"function"===n){if(null!==e&&null!==t){if($f(e)&&$f(t))return!(B(e)!==B(t)||!e[J](t))||!(!Yt.enabled||!Yt.tester)&&Yt.tester(e,t);if(e instanceof Date&&t instanceof Date)return e.toISOString()===t.toISOString()}if(Yt.enabled){if(Array.isArray(e)&&Array.isArray(t))return e.length===t.length&&e.every((r,o)=>f_(r,t[o]));if(Object.getPrototypeOf(e)===Object.prototype&&Object.getPrototypeOf(e)===Object.prototype){const r=Object.keys(e),o=Object.keys(t);if(r.length===o.length){for(const s of r)if(!(s in t)||!f_(e[s],t[s]))return!!Yt.tester&&Yt.tester(e,t);return!0}}return!!Yt.tester&&Yt.tester(e,t)}}return!(!Yt.enabled||!Yt.tester)&&Yt.tester(e,t)}const $f=e=>W(e,J),eD=()=>U,$e=Symbol.for("nodejs.util.inspect.custom"),st=e=>{try{if(W(e,"toJSON")&&la(e.toJSON)&&0===e.toJSON.length)return e.toJSON();if(Array.isArray(e))return e.map(st)}catch{return{}}return gse(e)},pt=e=>JSON.stringify(e,null,2),Cl=(e,t=2)=>{if("string"==typeof e)return e;try{return"object"==typeof e?tD(e,t):String(e)}catch{return String(e)}},tD=(e,t)=>{let n=[];const r=JSON.stringify(e,(o,s)=>"object"==typeof s&&null!==s?n.includes(s)?void 0:n.push(s)&&(void 0!==da.fiberRefs&&G2(s)?s[nD](da.fiberRefs):s):s,t);return n=void 0,r},nD=Symbol.for("effect/Inspectable/Redactable"),G2=e=>"object"==typeof e&&null!==e&&nD in e,da=me("effect/Inspectable/redactableState",()=>({fiberRefs:void 0})),gse=e=>G2(e)&&void 0!==da.fiberRefs?e[nD](da.fiberRefs):e,z=(e,t)=>{switch(t.length){case 0:return e;case 1:return t[0](e);case 2:return t[1](t[0](e));case 3:return t[2](t[1](t[0](e)));case 4:return t[3](t[2](t[1](t[0](e))));case 5:return t[4](t[3](t[2](t[1](t[0](e)))));case 6:return t[5](t[4](t[3](t[2](t[1](t[0](e))))));case 7:return t[6](t[5](t[4](t[3](t[2](t[1](t[0](e)))))));case 8:return t[7](t[6](t[5](t[4](t[3](t[2](t[1](t[0](e))))))));case 9:return t[8](t[7](t[6](t[5](t[4](t[3](t[2](t[1](t[0](e)))))))));default:{let n=e;for(let r=0,o=t.length;r<o;r++)n=t[r](n);return n}}},Hf="Async",h_="Commit",He="Failure",p_="OnFailure",g_="OnSuccess",m_="OnSuccessAndFailure",qe="Success",fa="UpdateRuntimeFlags",__="While",qf="Iterator",K2="WithRuntime",y_="Yield",rD="RevertFlags",Y2=Symbol.for("effect/Effect"),Q2=Symbol.for("effect/Stream"),J2=Symbol.for("effect/Sink"),Z2=Symbol.for("effect/Channel"),Sl={_R:e=>e,_E:e=>e,_A:e=>e,_V:a_()},zf={[Y2]:Sl,[Q2]:Sl,[J2]:{_A:e=>e,_In:e=>e,_L:e=>e,_E:e=>e,_R:e=>e},[Z2]:{_Env:e=>e,_InErr:e=>e,_InElem:e=>e,_InDone:e=>e,_OutErr:e=>e,_OutElem:e=>e,_OutDone:e=>e},[J](e){return this===e},[Q](){return Ue(this,u_(this))},[Symbol.iterator](){return new Bf(new Uf(this))},pipe(){return z(this,arguments)}},v_={[Q](){return Ue(this,W2(this))},[J](e){const t=Object.keys(this),n=Object.keys(e);if(t.length!==n.length)return!1;for(const r of t)if(!(r in e)||!U(this[r],e[r]))return!1;return!0}},cs={...zf,_op:h_},oD={...cs,...v_},vse=function(){function e(){}return e.prototype=cs,e}(),eV=Symbol.for("effect/Option"),tV={...zf,[eV]:{_A:e=>e},[$e](){return this.toJSON()},toString(){return pt(this.toJSON())}},Ese=Object.assign(Object.create(tV),{_tag:"Some",_op:"Some",[J](e){return sD(e)&&nV(e)&&U(this.value,e.value)},[Q](){return Ue(this,se(B(this._tag))(B(this.value)))},toJSON(){return{_id:"Option",_tag:this._tag,value:st(this.value)}}}),Cse=B("None"),Sse=Object.assign(Object.create(tV),{_tag:"None",_op:"None",[J]:e=>sD(e)&&iD(e),[Q]:()=>Cse,toJSON(){return{_id:"Option",_tag:this._tag}}}),sD=e=>W(e,eV),iD=e=>"None"===e._tag,nV=e=>"Some"===e._tag,b_=Object.create(Sse),Wf=e=>{const t=Object.create(Ese);return t.value=e,t},aD=Symbol.for("effect/Context/Tag"),Gf=Symbol.for("effect/Context/Reference"),cD={...zf,_op:"Tag",[Symbol.for("effect/STM")]:Sl,[aD]:{_Service:e=>e,_Identifier:e=>e},toString(){return pt(this.toJSON())},toJSON(){return{_id:"Tag",key:this.key,stack:this.stack}},[$e](){return this.toJSON()},of:e=>e,context(e){return oV(this,e)}},wse={...cD,[Gf]:Gf},lD=Symbol.for("effect/Context"),Tse={[lD]:{_Services:e=>e},[J](e){if(rV(e)&&this.unsafeMap.size===e.unsafeMap.size){for(const t of this.unsafeMap.keys())if(!e.unsafeMap.has(t)||!U(this.unsafeMap.get(t),e.unsafeMap.get(t)))return!1;return!0}return!1},[Q](){return Ue(this,Zw(this.unsafeMap.size))},pipe(){return z(this,arguments)},toString(){return pt(this.toJSON())},toJSON(){return{_id:"Context",services:Array.from(this.unsafeMap).map(st)}},[$e](){return this.toJSON()}},Mo=e=>{const t=Object.create(Tse);return t.unsafeMap=e,t},rV=e=>W(e,lD),Ase=Mo(new Map),oV=(e,t)=>Mo(new Map([[e.key,t]])),Nse=h(3,(e,t,n)=>{const r=new Map(e.unsafeMap);return r.set(t.key,n),Mo(r)}),dD=me("effect/Context/defaultValueCache",()=>new Map),E_=e=>{if(dD.has(e.key))return dD.get(e.key);const t=e.defaultValue();return dD.set(e.key,t),t},sV=h(2,(e,t)=>{if(!e.unsafeMap.has(t.key)){if(Gf in t)return E_(t);throw(e=>{const t=new Error("Service not found"+(e.key?`: ${String(e.key)}`:""));if(e.stack){const n=e.stack.split("\n");if(n.length>2){const r=n[2].match(/at (.*)/);r&&(t.message=t.message+` (defined at ${r[1]})`)}}if(t.stack){const n=t.stack.split("\n");n.splice(1,3),t.stack=n.join("\n")}return t})(t)}return e.unsafeMap.get(t.key)}),ha=e=>{const t=Error.stackTraceLimit;Error.stackTraceLimit=2;const n=new Error;Error.stackTraceLimit=t;const r=Object.create(cD);return Object.defineProperty(r,"stack",{get:()=>n.stack}),r.key=e,r},pa=()=>Ase,Ht=Nse,Io=sV,C_=sV,si=h(2,(e,t)=>e.unsafeMap.has(t.key)?Wf(e.unsafeMap.get(t.key)):(e=>W(e,Gf))(t)?Wf(E_(t)):b_),Xf=h(2,(e,t)=>{const n=new Map(e.unsafeMap);for(const[r,o]of t.unsafeMap)n.set(r,o);return Mo(n)}),S_=()=>(e,t)=>{const n=Error.stackTraceLimit;Error.stackTraceLimit=2;const r=new Error;function o(){}return Error.stackTraceLimit=n,Object.setPrototypeOf(o,wse),o.key=e,o.defaultValue=t.defaultValue,Object.defineProperty(o,"stack",{get:()=>r.stack}),o},fD=Symbol.for("effect/Either"),iV={...zf,[fD]:{_R:e=>e},[$e](){return this.toJSON()},toString(){return pt(this.toJSON())}},qse=Object.assign(Object.create(iV),{_tag:"Right",_op:"Right",[J](e){return hD(e)&&gD(e)&&U(this.right,e.right)},[Q](){return se(B(this._tag))(B(this.right))},toJSON(){return{_id:"Either",_tag:this._tag,right:st(this.right)}}}),zse=Object.assign(Object.create(iV),{_tag:"Left",_op:"Left",[J](e){return hD(e)&&pD(e)&&U(this.left,e.left)},[Q](){return se(B(this._tag))(B(this.left))},toJSON(){return{_id:"Either",_tag:this._tag,left:st(this.left)}}}),hD=e=>W(e,fD),pD=e=>"Left"===e._tag,gD=e=>"Right"===e._tag,Dt=e=>{const t=Object.create(qse);return t.right=e,t},nr=e=>{const t=Object.create(zse);return t.left=e,t},rr=pD,Kf=gD,dV=h(2,(e,{onLeft:t,onRight:n})=>rr(e)?t(e.left):n(e.right))({onLeft:Ce,onRight:Ce}),wl=e=>(t,n)=>t===n||e(t,n),eie=h(2,(e,t)=>wl((n,r)=>e(t(n),t(r)))),pV=e=>e.length>0,I=()=>b_,R=Wf,be=iD,de=nV,or=h(2,(e,{onNone:t,onSome:n})=>be(e)?t():n(e.value)),sr=h(2,(e,t)=>be(e)?t():e.value),rie=h(2,(e,t)=>be(e)?R(t()):e),Dl=e=>null==e?I():R(e),ir=sr(L2),gV=h(2,(e,t)=>{if(de(e))return e.value;throw t()})(()=>new Error("getOrThrow called on a None")),Ml=h(2,(e,t)=>be(e)?I():R(t(e.value))),mD=h(2,(e,t)=>be(e)?I():t(e.value)),iie=(e=>h(2,(t,n)=>!be(t)&&e(t.value,n)))(eD()),ii=(Symbol,e=>(t,n)=>t===n?0:e(t,n)),yV=ii((e,t)=>e<t?-1:1),vV=h(2,(e,t)=>ii((n,r)=>e(t(n),t(r)))),EV=e=>h(2,(t,n)=>1===e(t,n)),Sie=(...e)=>e,_D=e=>new Array(e),ce=e=>Array.isArray(e)?e:Array.from(e),w_=h(2,(e,t)=>[t,...e]),Die=h(2,(e,t)=>[...e,t]),MV=h(2,(e,t)=>ce(e).concat(ce(t))),Iie=pV,on=pV,IV=(e,t)=>e<0||e>=t.length,Rie=h(2,(e,t)=>{const n=Math.floor(t);return IV(n,e)?I():R(e[n])}),TV=h(2,(e,t)=>{const n=Math.floor(t);if(IV(n,e))throw new Error(`Index ${n} out of bounds`);return e[n]}),Yf=Rie(0),Un=TV(0),yD=e=>e[e.length-1],ai=e=>e.slice(1),kie=h(2,(e,t)=>Bie(e,((e,t)=>{let n=0;for(const r of e){if(!t(r,n))break;n++}return n})(e,t))),Nie=h(2,(e,t)=>{const n=ce(e);return n.slice(((e,t)=>Math.floor(Math.min(Math.max(0,e),t.length)))(t,n),n.length)}),OV=e=>Array.from(e).reverse(),Qf=h(2,(e,t)=>{const n=Array.from(e);return n.sort(t),n}),AV=h(2,(e,t)=>Vie(e,t,Sie)),Vie=h(3,(e,t,n)=>{const r=ce(e),o=ce(t);if(on(r)&&on(o)){const s=[n(Un(r),Un(o))],i=Math.min(r.length,o.length);for(let a=1;a<i;a++)s[a]=n(r[a],o[a]);return s}return[]}),kV=eD(),Bie=h(2,(e,t)=>{const n=Array.from(e),r=Math.floor(t);return on(n)?r>=1?Uie(n,r):[[],n]:[n,[]]}),Uie=h(2,(e,t)=>{const n=Math.max(1,Math.floor(t));return n>=e.length?[$ie(e),[]]:[w_(e.slice(1,n),Un(e)),e.slice(n)]}),$ie=e=>e.slice(),Hie=h(3,(e,t,n)=>{const r=ce(e),o=ce(t);return on(r)?on(o)?PV(n)(MV(r,o)):r:o}),Tl=h(2,(e,t)=>Hie(e,t,kV)),Sr=e=>[e],Rl=h(2,(e,t)=>e.map(t)),NV=h(2,(e,t)=>{if((e=>0===e.length)(e))return[];const n=[];for(let r=0;r<e.length;r++){const o=t(e[r],r);for(let s=0;s<o.length;s++)n.push(o[s])}return n})(Ce),ga=h(3,(e,t,n)=>ce(e).reduce((r,o,s)=>n(r,o,s),t)),FV=(e,t)=>{const n=[];let o,r=e;for(;de(o=t(r));){const[s,i]=o.value;n.push(s),r=i}return n},bD=e=>wl((t,n)=>{if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(!e(t[r],n[r]))return!1;return!0}),PV=h(2,(e,t)=>{const n=ce(e);if(on(n)){const r=[Un(n)],o=ai(n);for(const s of o)r.every(i=>!t(s,i))&&r.push(s);return r}return[]}),Gie=e=>PV(e,eD()),ma=h(2,(e,t)=>ce(e).join(t)),LV=Symbol.for("effect/Chunk"),VV=[],Kie=(e=>wl((t,n)=>t.length===n.length&&$n(t).every((r,o)=>e(r,Ro(n,o)))))(U),Yie={[LV]:{_A:e=>e},toString(){return pt(this.toJSON())},toJSON(){return{_id:"Chunk",values:$n(this).map(st)}},[$e](){return this.toJSON()},[J](e){return jV(e)&&Kie(this,e)},[Q](){return Ue(this,ua($n(this)))},[Symbol.iterator](){switch(this.backing._tag){case"IArray":return this.backing.array[Symbol.iterator]();case"IEmpty":return VV[Symbol.iterator]();default:return $n(this)[Symbol.iterator]()}},pipe(){return z(this,arguments)}},kt=e=>{const t=Object.create(Yie);switch(t.backing=e,e._tag){case"IEmpty":t.length=0,t.depth=0,t.left=t,t.right=t;break;case"IConcat":t.length=e.left.length+e.right.length,t.depth=1+Math.max(e.left.depth,e.right.depth),t.left=e.left,t.right=e.right;break;case"IArray":t.length=e.array.length,t.depth=0,t.left=To,t.right=To;break;case"ISingleton":t.length=1,t.depth=0,t.left=To,t.right=To;break;case"ISlice":t.length=e.length,t.depth=e.chunk.depth+1,t.left=To,t.right=To}return t},jV=e=>W(e,LV),To=kt({_tag:"IEmpty"}),sn=()=>To,ED=(...e)=>1===e.length?qt(e[0]):Qie(e),qt=e=>kt({_tag:"ISingleton",a:e}),Ol=e=>jV(e)?e:kt({_tag:"IArray",array:ce(e)}),CD=(e,t,n)=>{switch(e.backing._tag){case"IArray":!function Xie(e,t,n,r,o){for(let s=t;s<Math.min(e.length,t+o);s++)n[r+s-t]=e[s]}(e.backing.array,0,t,n,e.length);break;case"IConcat":CD(e.left,t,n),CD(e.right,t,n+e.left.length);break;case"ISingleton":t[n]=e.backing.a;break;case"ISlice":{let r=0,o=n;for(;r<e.length;)t[o]=Ro(e,r),r+=1,o+=1;break}}},$n=e=>{switch(e.backing._tag){case"IEmpty":return VV;case"IArray":return e.backing.array;default:{const t=new Array(e.length);return CD(e,t,0),e.backing={_tag:"IArray",array:t},e.left=To,e.right=To,e.depth=0,t}}},li=e=>{switch(e.backing._tag){case"IEmpty":case"ISingleton":return e;case"IArray":return kt({_tag:"IArray",array:OV(e.backing.array)});case"IConcat":return kt({_tag:"IConcat",left:li(e.backing.right),right:li(e.backing.left)});case"ISlice":return ar(OV($n(e)))}},ar=e=>kt({_tag:"IArray",array:e}),Qie=e=>ar(e),Ro=h(2,(e,t)=>{switch(e.backing._tag){case"IEmpty":throw new Error("Index out of bounds");case"ISingleton":if(0!==t)throw new Error("Index out of bounds");return e.backing.a;case"IArray":if(t>=e.length||t<0)throw new Error("Index out of bounds");return e.backing.array[t];case"IConcat":return t<e.left.length?Ro(e.left,t):Ro(e.right,t-e.left.length);case"ISlice":return Ro(e.backing.chunk,t+e.backing.offset)}}),UV=h(2,(e,t)=>wr(e,qt(t))),ut=h(2,(e,t)=>wr(qt(t),e)),Jf=h(2,(e,t)=>{if(t<=0)return e;if(t>=e.length)return To;switch(e.backing._tag){case"ISlice":return kt({_tag:"ISlice",chunk:e.backing.chunk,offset:e.backing.offset+t,length:e.backing.length-t});case"IConcat":return t>e.left.length?Jf(e.right,t-e.left.length):kt({_tag:"IConcat",left:Jf(e.left,t),right:e.right});default:return kt({_tag:"ISlice",chunk:e,offset:t,length:e.length-t})}}),wr=h(2,(e,t)=>{if("IEmpty"===e.backing._tag)return t;if("IEmpty"===t.backing._tag)return e;const n=t.depth-e.depth;if(Math.abs(n)<=1)return kt({_tag:"IConcat",left:e,right:t});if(n<-1){if(e.left.depth>=e.right.depth){const r=wr(e.right,t);return kt({_tag:"IConcat",left:e.left,right:r})}{const r=wr(e.right.right,t);if(r.depth===e.depth-3){const o=kt({_tag:"IConcat",left:e.right.left,right:r});return kt({_tag:"IConcat",left:e.left,right:o})}{const o=kt({_tag:"IConcat",left:e.left,right:e.right.left});return kt({_tag:"IConcat",left:o,right:r})}}}if(t.right.depth>=t.left.depth){const r=wr(e,t.left);return kt({_tag:"IConcat",left:r,right:t.right})}{const r=wr(e,t.left.left);if(r.depth===t.depth-3){const o=kt({_tag:"IConcat",left:r,right:t.left.right});return kt({_tag:"IConcat",left:o,right:t.right})}{const o=kt({_tag:"IConcat",left:t.left.right,right:t.right});return kt({_tag:"IConcat",left:r,right:o})}}}),$V=e=>0===e.length,gt=e=>e.length>0,qV=e=>Ro(e,0),we=qV,dt=e=>Jf(e,1),SD=Symbol.for("effect/Duration"),zV=BigInt(0),WV=BigInt(24),M_=BigInt(60),wD=BigInt(1e3),GV=BigInt(1e6),DD=BigInt(1e9),XV=/^(-?\d+(?:\.\d+)?)\s+(nanos?|micros?|millis?|seconds?|minutes?|hours?|days?|weeks?)$/,mn=e=>{if(YV(e))return e;if(Vf(e))return Zf(e);if((e=>"bigint"==typeof e)(e))return I_(e);if(Array.isArray(e)){if(2===e.length&&Vf(e[0])&&Vf(e[1]))return I_(BigInt(e[0])*DD+BigInt(e[1]))}else if((e=>"string"==typeof e)(e)){XV.lastIndex=0;const t=XV.exec(e);if(t){const[n,r,o]=t,s=Number(r);switch(o){case"nano":case"nanos":return I_(BigInt(r));case"micro":case"micros":return rae(BigInt(r));case"milli":case"millis":return Zf(s);case"second":case"seconds":return QV(s);case"minute":case"minutes":return oae(s);case"hour":case"hours":return sae(s);case"day":case"days":return iae(s);case"week":case"weeks":return aae(s)}}}throw new Error("Invalid DurationInput")},KV={_tag:"Millis",millis:0},eae={_tag:"Infinity"},tae={[SD]:SD,[Q](){return Ue(this,W2(this.value))},[J](e){return YV(e)&&fae(this,e)},toString(){return`Duration(${ZV(this)})`},toJSON(){switch(this.value._tag){case"Millis":return{_id:"Duration",_tag:"Millis",millis:this.value.millis};case"Nanos":return{_id:"Duration",_tag:"Nanos",hrtime:lae(this)};case"Infinity":return{_id:"Duration",_tag:"Infinity"}}},[$e](){return this.toJSON()},pipe(){return z(this,arguments)}},ls=e=>{const t=Object.create(tae);return t.value=Vf(e)?isNaN(e)||e<=0?KV:Number.isFinite(e)?Number.isInteger(e)?{_tag:"Millis",millis:e}:{_tag:"Nanos",nanos:BigInt(Math.round(1e6*e))}:eae:e<=zV?KV:{_tag:"Nanos",nanos:e},t},YV=e=>W(e,SD),nae=ls(0),I_=e=>ls(e),rae=e=>ls(e*wD),Zf=e=>ls(e),QV=e=>ls(1e3*e),oae=e=>ls(6e4*e),sae=e=>ls(36e5*e),iae=e=>ls(864e5*e),aae=e=>ls(6048e5*e),Al=e=>kl(e,{onMillis:t=>t,onNanos:t=>Number(t)/1e6}),lae=e=>{const t=mn(e);switch(t.value._tag){case"Infinity":return[1/0,0];case"Nanos":return[Number(t.value.nanos/DD),Number(t.value.nanos%DD)];case"Millis":return[Math.floor(t.value.millis/1e3),Math.round(t.value.millis%1e3*1e6)]}},kl=h(2,(e,t)=>{const n=mn(e);switch(n.value._tag){case"Nanos":return t.onNanos(n.value.nanos);case"Infinity":return t.onMillis(1/0);case"Millis":return t.onMillis(n.value.millis)}}),JV=h(3,(e,t,n)=>{const r=mn(e),o=mn(t);if("Infinity"===r.value._tag||"Infinity"===o.value._tag)return n.onMillis(Al(r),Al(o));if("Nanos"===r.value._tag||"Nanos"===o.value._tag){const s="Nanos"===r.value._tag?r.value.nanos:BigInt(Math.round(1e6*r.value.millis)),i="Nanos"===o.value._tag?o.value.nanos:BigInt(Math.round(1e6*o.value.millis));return n.onNanos(s,i)}return n.onMillis(r.value.millis,o.value.millis)}),dae=h(2,(e,t)=>JV(e,t,{onMillis:(n,r)=>n>=r,onNanos:(n,r)=>n>=r})),fae=h(2,(e,t)=>((e,t)=>JV(e,t,{onMillis:(n,r)=>n===r,onNanos:(n,r)=>n===r}))(mn(e),mn(t))),ZV=e=>{const t=mn(e);if("Infinity"===t.value._tag)return"Infinity";const n=(e=>{const t=mn(e);if("Infinity"===t.value._tag)return{days:1/0,hours:1/0,minutes:1/0,seconds:1/0,millis:1/0,nanos:1/0};const n=(e=>{const t=mn(e);switch(t.value._tag){case"Infinity":throw new Error("Cannot convert infinite duration to nanos");case"Nanos":return t.value.nanos;case"Millis":return BigInt(Math.round(1e6*t.value.millis))}})(t),r=n/GV,o=r/wD,s=o/M_,i=s/M_;return{days:Number(i/WV),hours:Number(i%WV),minutes:Number(s%M_),seconds:Number(o%M_),millis:Number(r%wD),nanos:Number(n%GV)}})(t),r=[];return 0!==n.days&&r.push(`${n.days}d`),0!==n.hours&&r.push(`${n.hours}h`),0!==n.minutes&&r.push(`${n.minutes}m`),0!==n.seconds&&r.push(`${n.seconds}s`),0!==n.millis&&r.push(`${n.millis}ms`),0!==n.nanos&&r.push(`${n.nanos}ns`),r.join(" ")},MD=Math.pow(2,5),pae=MD-1,gae=MD/2,mae=MD/4;function Nl(e,t){return t>>>e&pae}function xl(e){return 1<<e}function ej(e,t){return function _ae(e){return e=(e=(858993459&(e-=e>>1&1431655765))+(e>>2&858993459))+(e>>4)&252645135,127&(e+=e>>8)+(e>>16)}(e&t-1)}const yae=(e,t)=>({value:e,previous:t});function Fl(e,t,n,r){let o=r;if(!e){const s=r.length;o=new Array(s);for(let i=0;i<s;++i)o[i]=r[i]}return o[t]=n,o}function tj(e,t,n){const r=n.length-1;let o=0,s=0,i=n;if(e)o=s=t;else for(i=new Array(r);o<t;)i[s++]=n[o++];for(++o;o<=r;)i[s++]=n[o++];return e&&(i.length=r),i}class ui{_tag="EmptyNode";modify(t,n,r,o,s,i){const a=r(I());return be(a)?new ui:(++i.value,new ya(t,o,s,a))}}function Zr(e){return l_(e,"EmptyNode")}function T_(e,t){return!Zr(e)&&t===e.edit}class ya{edit;hash;key;value;_tag="LeafNode";constructor(t,n,r,o){this.edit=t,this.hash=n,this.key=r,this.value=o}modify(t,n,r,o,s,i){if(U(s,this.key)){const c=r(this.value);return c===this.value?this:be(c)?(--i.value,new ui):T_(this,t)?(this.value=c,this):new ya(t,o,s,c)}const a=r(I());return be(a)?this:(++i.value,nj(t,n,this.hash,this,o,new ya(t,o,s,a)))}}class ID{edit;hash;children;_tag="CollisionNode";constructor(t,n,r){this.edit=t,this.hash=n,this.children=r}modify(t,n,r,o,s,i){if(o===this.hash){const c=T_(this,t),l=this.updateCollisionList(c,t,this.hash,this.children,r,s,i);return l===this.children?this:l.length>1?new ID(t,this.hash,l):l[0]}const a=r(I());return be(a)?this:(++i.value,nj(t,n,this.hash,this,o,new ya(t,o,s,a)))}updateCollisionList(t,n,r,o,s,i,a){const c=o.length;for(let u=0;u<c;++u){const d=o[u];if("key"in d&&U(i,d.key)){const f=d.value,p=s(f);return p===f?o:be(p)?(--a.value,tj(t,u,o)):Fl(t,u,new ya(n,r,i,p),o)}}const l=s(I());return be(l)?o:(++a.value,Fl(t,c,new ya(n,r,i,l),o))}}class Pl{edit;mask;children;_tag="IndexedNode";constructor(t,n,r){this.edit=t,this.mask=n,this.children=r}modify(t,n,r,o,s,i){const a=this.mask,c=this.children,l=Nl(n,o),u=xl(l),d=ej(a,u),f=a&u,p=T_(this,t);if(!f){const C=(new ui).modify(t,n+5,r,o,s,i);return C?c.length>=gae?function Cae(e,t,n,r,o){const s=[];let i=r,a=0;for(let c=0;i;++c)1&i&&(s[c]=o[a++]),i>>>=1;return s[t]=n,new TD(e,a+1,s)}(t,l,C,a,c):new Pl(t,a|u,function vae(e,t,n,r){const o=r.length;if(e){let c=o;for(;c>=t;)r[c--]=r[c];return r[t]=n,r}let s=0,i=0;const a=new Array(o+1);for(;s<t;)a[i++]=r[s++];for(a[t]=n;s<o;)a[++i]=r[s++];return a}(p,d,C,c)):this}const g=c[d],m=g.modify(t,n+5,r,o,s,i);if(g===m)return this;let b,y=a;if(Zr(m)){if(y&=~u,!y)return new ui;if(c.length<=2&&function bae(e){return Zr(e)||"LeafNode"===e._tag||"CollisionNode"===e._tag}(c[1^d]))return c[1^d];b=tj(p,d,c)}else b=Fl(p,d,m,c);return p?(this.mask=y,this.children=b,this):new Pl(t,y,b)}}class TD{edit;size;children;_tag="ArrayNode";constructor(t,n,r){this.edit=t,this.size=n,this.children=r}modify(t,n,r,o,s,i){let a=this.size;const c=this.children,l=Nl(n,o),u=c[l],d=(u||new ui).modify(t,n+5,r,o,s,i);if(u===d)return this;const f=T_(this,t);let p;if(Zr(u)&&!Zr(d))++a,p=Fl(f,l,d,c);else if(!Zr(u)&&Zr(d)){if(--a,a<=mae)return function Eae(e,t,n,r){const o=new Array(t-1);let s=0,i=0;for(let a=0,c=r.length;a<c;++a)if(a!==n){const l=r[a];l&&!Zr(l)&&(o[s++]=l,i|=1<<a)}return new Pl(e,i,o)}(t,a,l,c);p=Fl(f,l,new ui,c)}else p=Fl(f,l,d,c);return f?(this.size=a,this.children=p,this):new TD(t,a,p)}}function Sae(e,t,n,r,o,s){if(n===o)return new ID(e,n,[s,r]);const i=Nl(t,n),a=Nl(t,o);if(i===a)return c=>new Pl(e,xl(i)|xl(a),[c]);{const c=i<a?[r,s]:[s,r];return new Pl(e,xl(i)|xl(a),c)}}function nj(e,t,n,r,o,s){let i,a=t;for(;;){const c=Sae(e,a,n,r,o,s);if("function"!=typeof c){let l=c;for(;null!=i;)l=i.value(l),i=i.previous;return l}i=yae(c,i),a+=5}}const rj="effect/HashMap",R_=Symbol.for(rj),wae={[R_]:R_,[Symbol.iterator](){return new Ll(this,(e,t)=>[e,t])},[Q](){let e=B(rj);for(const t of this)e^=_(B(t[0]),se(B(t[1])));return Ue(this,e)},[J](e){if(aj(e)){if(e._size!==this._size)return!1;for(const t of this){const n=_(e,Vl(t[0],B(t[0])));if(be(n))return!1;if(!U(t[1],n.value))return!1}return!0}return!1},toString(){return pt(this.toJSON())},toJSON(){return{_id:"HashMap",values:Array.from(this).map(st)}},[$e](){return this.toJSON()},pipe(){return z(this,arguments)}},RD=(e,t,n,r)=>{const o=Object.create(wae);return o._editable=e,o._edit=t,o._root=n,o._size=r,o};class Ll{map;f;v;constructor(t,n){this.map=t,this.f=n,this.v=oj(this.map._root,this.f,void 0)}next(){if(be(this.v))return{done:!0,value:void 0};const t=this.v.value;return this.v=O_(t.cont),{done:!1,value:t.value}}[Symbol.iterator](){return new Ll(this.map,this.f)}}const O_=e=>e?sj(e[0],e[1],e[2],e[3],e[4]):I(),oj=(e,t,n=void 0)=>{switch(e._tag){case"LeafNode":return de(e.value)?R({value:t(e.key,e.value.value),cont:n}):O_(n);case"CollisionNode":case"ArrayNode":case"IndexedNode":{const r=e.children;return sj(r.length,r,0,t,n)}default:return O_(n)}},sj=(e,t,n,r,o)=>{for(;n<e;){const s=t[n++];if(s&&!Zr(s))return oj(s,r,[e,t,n,r,o])}return O_(o)},Dae=RD(!1,0,new ui,0),va=()=>Dae,aj=e=>W(e,R_),Tae=h(2,(e,t)=>Vl(e,t,B(t))),Vl=h(3,(e,t,n)=>{let r=e._root,o=0;for(;;)switch(r._tag){case"LeafNode":return U(t,r.key)?r.value:I();case"CollisionNode":if(n===r.hash){const s=r.children;for(let i=0,a=s.length;i<a;++i){const c=s[i];if("key"in c&&U(t,c.key))return c.value}}return I();case"IndexedNode":{const i=xl(Nl(o,n));if(r.mask&i){r=r.children[ej(r.mask,i)],o+=5;break}return I()}case"ArrayNode":if(r=r.children[Nl(o,n)],r){o+=5;break}return I();default:return I()}}),cj=h(2,(e,t)=>de(Vl(e,t,B(t)))),us=h(3,(e,t,n)=>N_(e,t,()=>R(n))),Aae=h(3,(e,t,n)=>e._editable?(e._root=t,e._size=n,e):t===e._root?e:RD(e._editable,e._edit,t,n)),OD=e=>new Ll(e,t=>t),A_=e=>e._size,eh=e=>RD(!0,e._edit+1,e._root,e._size),k_=e=>(e._editable=!1,e),N_=h(3,(e,t,n)=>lj(e,t,B(t),n)),lj=h(4,(e,t,n,r)=>{const o={value:e._size},s=e._root.modify(e._editable?e._edit:NaN,0,r,n,t,o);return _(e,Aae(s,o.value))}),x_=h(2,(e,t)=>N_(e,t,I)),Lae=h(2,(e,t)=>nh(e,va(),(n,r,o)=>us(n,o,t(r,o)))),F_=h(2,(e,t)=>nh(e,void 0,(n,r,o)=>t(r,o))),nh=h(3,(e,t,n)=>{const r=e._root;if("LeafNode"===r._tag)return de(r.value)?n(t,r.value.value,r.key):t;if("EmptyNode"===r._tag)return t;const o=[r.children];let s;for(;s=o.pop();)for(let i=0,a=s.length;i<a;){const c=s[i++];c&&!Zr(c)&&("LeafNode"===c._tag?de(c.value)&&(t=n(t,c.value.value,c.key)):o.push(c.children))}return t}),dj="effect/HashSet",P_=Symbol.for(dj),$ae={[P_]:P_,[Symbol.iterator](){return OD(this._keyMap)},[Q](){return Ue(this,se(B(this._keyMap))(B(dj)))},[J](e){return!!fj(e)&&A_(this._keyMap)===A_(e._keyMap)&&U(this._keyMap,e._keyMap)},toString(){return pt(this.toJSON())},toJSON(){return{_id:"HashSet",values:Array.from(this).map(st)}},[$e](){return this.toJSON()},pipe(){return z(this,arguments)}},rh=e=>{const t=Object.create($ae);return t._keyMap=e,t},fj=e=>W(e,P_),Hae=rh(va()),Oo=()=>Hae,jl=h(2,(e,t)=>cj(e._keyMap,t)),Bl=e=>rh(eh(e._keyMap)),Ul=e=>(e._keyMap._editable=!1,e),ba=h(2,(e,t)=>{const n=Bl(e);return t(n),Ul(n)}),Dr=h(2,(e,t)=>e._keyMap._editable?(us(t,!0)(e._keyMap),e):rh(us(t,!0)(e._keyMap))),kD=h(2,(e,t)=>e._keyMap._editable?(x_(t)(e._keyMap),e):rh(x_(t)(e._keyMap))),Xae=h(2,(e,t)=>ba(e,n=>{for(const r of t)kD(n,r)})),Yae=h(2,(e,t)=>ba(Oo(),n=>{L_(e,r=>Dr(n,r));for(const r of t)Dr(n,r)})),L_=h(2,(e,t)=>F_(e._keyMap,(n,r)=>t(r))),di=Oo,V_=(...e)=>{const t=Bl(Oo());for(const n of e)Dr(t,n);return Ul(t)},rce=jl,oh=e=>A_(e._keyMap),sh=Dr,mj=kD,_j=Xae,$l=Yae,ih=h(3,(e,t,n)=>nh(e._keyMap,t,(r,o,s)=>n(r,s))),yj=Symbol.for("effect/MutableRef"),sce={[yj]:yj,toString(){return pt(this.toJSON())},toJSON(){return{_id:"MutableRef",current:st(this.current)}},[$e](){return this.toJSON()},pipe(){return z(this,arguments)}},ah=e=>{const t=Object.create(sce);return t.current=e,t},ds=e=>e.current,ch=h(2,(e,t)=>(e.current=t,e)),j_="effect/FiberId",fi=Symbol.for(j_),hi="None",lh="Runtime",ice=lt(`${j_}-${hi}`);class ace{[fi]=fi;_tag=hi;id=-1;startTimeMillis=-1;[Q](){return ice}[J](t){return B_(t)&&t._tag===hi}toString(){return pt(this.toJSON())}toJSON(){return{_id:"FiberId",_tag:this._tag}}[$e](){return this.toJSON()}}class xD{id;startTimeMillis;[fi]=fi;_tag=lh;constructor(t,n){this.id=t,this.startTimeMillis=n}[Q](){return Ue(this,lt(`${j_}-${this._tag}-${this.id}-${this.startTimeMillis}`))}[J](t){return B_(t)&&t._tag===lh&&this.id===t.id&&this.startTimeMillis===t.startTimeMillis}toString(){return pt(this.toJSON())}toJSON(){return{_id:"FiberId",_tag:this._tag,id:this.id,startTimeMillis:this.startTimeMillis}}[$e](){return this.toJSON()}}const FD=new ace,B_=e=>W(e,fi),U_=e=>{switch(e._tag){case hi:return di();case lh:return V_(e.id);case"Composite":return _(U_(e.left),$l(U_(e.right)))}},Sj=me(Symbol.for("effect/Fiber/Id/_fiberCounter"),()=>ah(0)),VD=e=>Array.from(U_(e)).map(n=>`#${n}`).join(","),Ao=FD,yce=VD,Mj=()=>{const e=ds(Sj);return _(Sj,ch(e+1)),new xD(e,Date.now())},$_=va,bce=e=>{const t=eh(va());for(const n of e)us(t,n[0],n[1]);return k_(t)},H_=Tae,ko=us,Ij=OD,Tj=A_,wce=N_,Dce=Lae,q_=nh,fh=Symbol.for("effect/List"),BD=e=>ce(e),Ice=(e=>eie(bD(e),BD))(U),Tce={[fh]:fh,_tag:"Cons",toString(){return pt(this.toJSON())},toJSON(){return{_id:"List",_tag:"Cons",values:BD(this).map(st)}},[$e](){return this.toJSON()},[J](e){return Rj(e)&&this._tag===e._tag&&Ice(this,e)},[Q](){return Ue(this,ua(BD(this)))},[Symbol.iterator](){let e=!1,t=this;return{next(){if(e)return this.return();if("Nil"===t._tag)return e=!0,this.return();const n=t.head;return t=t.tail,{done:e,value:n}},return:n=>(e||(e=!0),{done:!0,value:n})}},pipe(){return z(this,arguments)}},fs=(e,t)=>{const n=Object.create(Tce);return n.head=e,n.tail=t,n},Rce=lt("Nil"),Oce={[fh]:fh,_tag:"Nil",toString(){return pt(this.toJSON())},toJSON:()=>({_id:"List",_tag:"Nil"}),[$e](){return this.toJSON()},[Q]:()=>Rce,[J](e){return Rj(e)&&this._tag===e._tag},[Symbol.iterator]:()=>({next:()=>({done:!0,value:void 0})}),pipe(){return z(this,arguments)}},hs=Object.create(Oce),Rj=e=>W(e,fh),Mt=e=>"Nil"===e._tag,UD=e=>"Cons"===e._tag,Ea=(e,t)=>fs(e,t),Ca=()=>hs,$D=e=>fs(e,hs),Nce=h(2,(e,t)=>xce(t,e)),HD=h(2,(e,t)=>Ea(t,e)),xce=h(2,(e,t)=>{if(Mt(e))return t;if(Mt(t))return e;{const n=fs(t.head,e);let r=n,o=t.tail;for(;!Mt(o);){const s=fs(o.head,e);r.tail=s,r=s,o=o.tail}return n}}),Vce=h(3,(e,t,n)=>{let r=t,o=e;for(;!Mt(o);)r=n(r,o.head),o=o.tail;return r}),jce=e=>{let t=Ca(),n=e;for(;!Mt(n);)t=HD(t,n.head),n=n.tail;return t},Hl=function(){function e(t){t&&Object.assign(this,t)}return e.prototype=v_,e}();function xj(e){return e}const ph={...Hl.prototype,[Symbol.for("effect/DifferContextPatch")]:{_Value:xj,_Patch:xj}},Zce=Object.create(Object.assign(Object.create(ph),{_tag:"Empty"})),Fj=()=>Zce,ele=Object.assign(Object.create(ph),{_tag:"AndThen"}),nle=Object.assign(Object.create(ph),{_tag:"AddService"}),rle=(e,t)=>{const n=Object.create(nle);return n.key=e,n.service=t,n},ole=Object.assign(Object.create(ph),{_tag:"RemoveService"}),sle=e=>{const t=Object.create(ole);return t.key=e,t},ile=Object.assign(Object.create(ph),{_tag:"UpdateService"}),ale=(e,t)=>{const n=Object.create(ile);return n.key=e,n.update=t,n},G_=h(2,(e,t)=>((e,t)=>{const n=Object.create(ele);return n.first=e,n.second=t,n})(e,t)),lle=h(2,(e,t)=>{if("Empty"===e._tag)return t;let n=!1,r=qt(e);const o=new Map(t.unsafeMap);for(;gt(r);){const i=we(r),a=dt(r);switch(i._tag){case"Empty":r=a;break;case"AddService":o.set(i.key,i.service),r=a;break;case"AndThen":r=ut(ut(a,i.second),i.first);break;case"RemoveService":o.delete(i.key),r=a;break;case"UpdateService":o.set(i.key,i.update(o.get(i.key))),n=!0,r=a}}if(!n)return Mo(o);const s=new Map;for(const[i]of t.unsafeMap)o.has(i)&&(s.set(i,o.get(i)),o.delete(i));for(const[i,a]of o)s.set(i,a);return Mo(s)});function GD(e){return e}const K_={...Hl.prototype,[Symbol.for("effect/DifferHashSetPatch")]:{_Value:GD,_Key:GD,_Patch:GD}},Ele=Object.create(Object.assign(Object.create(K_),{_tag:"Empty"})),jj=()=>Ele,Cle=Object.assign(Object.create(K_),{_tag:"AndThen"}),wle=Object.assign(Object.create(K_),{_tag:"Add"}),Dle=e=>{const t=Object.create(wle);return t.value=e,t},Mle=Object.assign(Object.create(K_),{_tag:"Remove"}),XD=h(2,(e,t)=>((e,t)=>{const n=Object.create(Cle);return n.first=e,n.second=t,n})(e,t)),Rle=h(2,(e,t)=>{if("Empty"===e._tag)return t;let n=t,r=qt(e);for(;gt(r);){const o=we(r),s=dt(r);switch(o._tag){case"Empty":r=s;break;case"AndThen":r=ut(o.first)(ut(o.second)(s));break;case"Add":n=sh(o.value)(n),r=s;break;case"Remove":n=mj(o.value)(n),r=s}}return n});function $j(e){return e}const mh={...Hl.prototype,[Symbol.for("effect/DifferReadonlyArrayPatch")]:{_Value:$j,_Patch:$j}},qle=Object.create(Object.assign(Object.create(mh),{_tag:"Empty"})),Hj=()=>qle,zle=Object.assign(Object.create(mh),{_tag:"AndThen"}),Gle=Object.assign(Object.create(mh),{_tag:"Append"}),Kle=Object.assign(Object.create(mh),{_tag:"Slice"}),Qle=Object.assign(Object.create(mh),{_tag:"Update"}),Jle=(e,t)=>{const n=Object.create(Qle);return n.index=e,n.patch=t,n},Y_=h(2,(e,t)=>((e,t)=>{const n=Object.create(zle);return n.first=e,n.second=t,n})(e,t)),eue=h(3,(e,t,n)=>{if("Empty"===e._tag)return t;let r=t.slice(),o=Sr(e);for(;Iie(o);){const s=Un(o),i=ai(o);switch(s._tag){case"Empty":o=i;break;case"AndThen":i.unshift(s.first,s.second),o=i;break;case"Append":for(const a of s.values)r.push(a);o=i;break;case"Slice":r=r.slice(s.from,s.until),o=i;break;case"Update":r[s.index]=n.patch(s.patch,r[s.index]),o=i}}return r}),tue={[Symbol.for("effect/Differ")]:{_P:Ce,_V:Ce}},eo=e=>{const t=Object.create(tue);return t.empty=e.empty,t.diff=e.diff,t.combine=e.combine,t.patch=e.patch,t},Wj=()=>eo({empty:jj(),combine:(e,t)=>XD(t)(e),diff:(e,t)=>((e,t)=>{const[n,r]=ih([e,jj()],([o,s],i)=>rce(i)(o)?[mj(i)(o),s]:[o,XD(Dle(i))(s)])(t);return ih(r,(o,s)=>XD((e=>{const t=Object.create(Mle);return t.value=e,t})(s))(o))(n)})(e,t),patch:(e,t)=>Rle(t)(e)}),Gj=e=>eo({empty:Hj(),combine:(t,n)=>Y_(t,n),diff:(t,n)=>(e=>{let t=0,n=Hj();for(;t<e.oldValue.length&&t<e.newValue.length;){const s=e.differ.diff(e.oldValue[t],e.newValue[t]);U(s,e.differ.empty)||(n=Y_(n,Jle(t,s))),t+=1}return t<e.oldValue.length&&(n=Y_(n,((e,t)=>{const n=Object.create(Kle);return n.from=0,n.until=t,n})(0,t))),t<e.newValue.length&&(n=Y_(n,(e=>{const t=Object.create(Gle);return t.values=e,t})(Nie(t)(e.newValue)))),n})({oldValue:t,newValue:n,differ:e}),patch:(t,n)=>eue(t,n,e)}),QD=()=>Xj((e,t)=>t),Xj=e=>eo({empty:Ce,combine:(t,n)=>t===Ce?n:n===Ce?t:r=>n(t(r)),diff:(t,n)=>U(t,n)?Ce:s_(n),patch:(t,n)=>e(n,t(n))}),Mr=e=>255&e,Ir=e=>e>>8&255,ps=(e,t)=>(255&e)+((t&e&255)<<8),Yj=ps(0,0),fue=h(2,(e,t)=>ps(Mr(e)&~t,Ir(e))),Jj=h(2,(e,t)=>e|t),_ue=h(2,(e,t)=>e|t),ms=e=>ey(e)&&!vue(e),ey=e=>Sa(e,1),Sa=h(2,(e,t)=>!!(e&t)),tB=(...e)=>e.reduce((t,n)=>t|n,0),yue=tB(0),nB=e=>Sa(e,4),vue=e=>Sa(e,16),_s=h(2,(e,t)=>ps(e^t,t)),wa=h(2,(e,t)=>e&((e=>~e>>>0&255)(Mr(t))|Ir(t))|Mr(t)&Ir(t)),iB=eo({empty:Yj,diff:(e,t)=>_s(e,t),combine:(e,t)=>Jj(t)(e),patch:(e,t)=>wa(t,e)}),cB=e=>ps(e,0),lB=fue,zl="Die",Wl="Empty",Gl="Fail",Xl="Interrupt",Kl="Parallel",Yl="Sequential",uB="effect/Cause",dB=Symbol.for(uB),Ql={[dB]:{_E:e=>e},[Q](){return _(B(uB),se(B(Oue(this))),Ue(this))},[J](e){return fB(e)&&Rue(this,e)},pipe(){return z(this,arguments)},toJSON(){switch(this._tag){case"Empty":return{_id:"Cause",_tag:this._tag};case"Die":return{_id:"Cause",_tag:this._tag,defect:st(this.defect)};case"Interrupt":return{_id:"Cause",_tag:this._tag,fiberId:this.fiberId.toJSON()};case"Fail":return{_id:"Cause",_tag:this._tag,failure:st(this.error)};case"Sequential":case"Parallel":return{_id:"Cause",_tag:this._tag,left:st(this.left),right:st(this.right)}}},toString(){return vh(this)},[$e](){return this.toJSON()}},Tr=(()=>{const e=Object.create(Ql);return e._tag=Wl,e})(),ys=e=>{const t=Object.create(Ql);return t._tag=Gl,t.error=e,t},an=e=>{const t=Object.create(Ql);return t._tag=zl,t.defect=e,t},cr=e=>{const t=Object.create(Ql);return t._tag=Xl,t.fiberId=e,t},Jt=(e,t)=>{const n=Object.create(Ql);return n._tag=Kl,n.left=e,n.right=t,n},ft=(e,t)=>{const n=Object.create(Ql);return n._tag=Yl,n.left=e,n.right=t,n},fB=e=>W(e,dB),tM=e=>ty(void 0,Nue)(e),Jl=e=>{const t=(e=>Zl(e,t=>t._tag===Gl?R(t.error):I()))(e);switch(t._tag){case"None":return Dt(e);case"Some":return nr(t.value)}},wue=e=>Zl(e,t=>t._tag===Xl?R(t.fiberId):I()),vB=e=>Da(e,{onEmpty:Tr,onFail:()=>Tr,onDie:t=>an(t),onInterrupt:t=>cr(t),onSequential:ft,onParallel:Jt}),Rue=(e,t)=>{let n=qt(e),r=qt(t);for(;gt(n)&&gt(r);){const[o,s]=_(we(n),eu([di(),sn()],([c,l],u)=>{const[d,f]=nM(u);return R([_(c,$l(d)),_(l,wr(f))])})),[i,a]=_(we(r),eu([di(),sn()],([c,l],u)=>{const[d,f]=nM(u);return R([_(c,$l(d)),_(l,wr(f))])}));if(!U(o,i))return!1;n=s,r=a}return!0},Oue=e=>Aue(qt(e),sn()),Aue=(e,t)=>{for(;;){const[n,r]=_(e,ga([di(),sn()],([s,i],a)=>{const[c,l]=nM(a);return[_(s,$l(c)),_(i,wr(l))]})),o=oh(n)>0?_(t,ut(n)):t;if($V(r))return li(o);e=r,t=o}throw new Error(jf("Cause.flattenCauseLoop"))},Zl=h(2,(e,t)=>{const n=[e];for(;n.length>0;){const r=n.pop(),o=t(r);switch(o._tag){case"None":switch(r._tag){case Yl:case Kl:n.push(r.right),n.push(r.left)}break;case"Some":return o}}return I()}),nM=e=>{let t=e;const n=[];let r=di(),o=sn();for(;void 0!==t;)switch(t._tag){case Wl:if(0===n.length)return[r,o];t=n.pop();break;case Gl:if(r=sh(r,ED(t._tag,t.error)),0===n.length)return[r,o];t=n.pop();break;case zl:if(r=sh(r,ED(t._tag,t.defect)),0===n.length)return[r,o];t=n.pop();break;case Xl:if(r=sh(r,ED(t._tag,t.fiberId)),0===n.length)return[r,o];t=n.pop();break;case Yl:switch(t.left._tag){case Wl:t=t.right;break;case Yl:t=ft(t.left.left,ft(t.left.right,t.right));break;case Kl:t=Jt(ft(t.left.left,t.right),ft(t.left.right,t.right));break;default:o=ut(o,t.right),t=t.left}break;case Kl:n.push(t.right),t=t.left}throw new Error(jf("Cause.evaluateCauseLoop"))},Nue={emptyCase:Lf,failCase:is,dieCase:is,interruptCase:Lf,sequentialCase:(e,t,n)=>t&&n,parallelCase:(e,t,n)=>t&&n},CB="SequentialCase",SB="ParallelCase",Da=h(2,(e,{onDie:t,onEmpty:n,onFail:r,onInterrupt:o,onParallel:s,onSequential:i})=>ty(e,void 0,{emptyCase:()=>n,failCase:(a,c)=>r(c),dieCase:(a,c)=>t(c),interruptCase:(a,c)=>o(c),sequentialCase:(a,c,l)=>i(c,l),parallelCase:(a,c,l)=>s(c,l)})),eu=h(3,(e,t,n)=>{let r=t,o=e;const s=[];for(;void 0!==o;){const i=n(r,o);switch(r=de(i)?i.value:r,o._tag){case Yl:case Kl:s.push(o.right),o=o.left;break;default:o=void 0}void 0===o&&s.length>0&&(o=s.pop())}return r}),ty=h(3,(e,t,n)=>{const r=[e],o=[];for(;r.length>0;){const i=r.pop();switch(i._tag){case Wl:o.push(Dt(n.emptyCase(t)));break;case Gl:o.push(Dt(n.failCase(t,i.error)));break;case zl:o.push(Dt(n.dieCase(t,i.defect)));break;case Xl:o.push(Dt(n.interruptCase(t,i.fiberId)));break;case Yl:r.push(i.right),r.push(i.left),o.push(nr({_tag:CB}));break;case Kl:r.push(i.right),r.push(i.left),o.push(nr({_tag:SB}))}}const s=[];for(;o.length>0;){const i=o.pop();switch(i._tag){case"Left":switch(i.left._tag){case CB:{const a=s.pop(),c=s.pop(),l=n.sequentialCase(t,a,c);s.push(l);break}case SB:{const a=s.pop(),c=s.pop(),l=n.parallelCase(t,a,c);s.push(l);break}}break;case"Right":s.push(i.right)}}if(0===s.length)throw new Error("BUG: Cause.reduceWithContext - please report an issue at https://github.com/Effect-TS/effect/issues");return s.pop()}),vh=(e,t)=>tM(e)?"All fibers interrupted without errors.":MB(e).map(function(n){return!0!==t?.renderErrorCause||void 0===n.cause?n.stack:`${n.stack} {\n${wB(n.cause,"  ")}\n}`}).join("\n"),wB=(e,t)=>{const n=e.stack.split("\n");let r=`${t}[cause]: ${n[0]}`;for(let o=1,s=n.length;o<s;o++)r+=`\n${t}${n[o]}`;return e.cause&&(r+=` {\n${wB(e.cause,`${t}  `)}\n${t}}`),r};class ny extends globalThis.Error{span=void 0;constructor(t){const n="object"==typeof t&&null!==t,r=Error.stackTraceLimit;Error.stackTraceLimit=1,super(xue(t),n&&"cause"in t&&typeof t.cause<"u"?{cause:new ny(t.cause)}:void 0),""===this.message&&(this.message="An error has occurred"),Error.stackTraceLimit=r,this.name=t instanceof Error?t.name:"Error",n&&(DB in t&&(this.span=t[DB]),Object.keys(t).forEach(o=>{o in this||(this[o]=t[o])})),this.stack=Pue(`${this.name}: ${this.message}`,t instanceof Error&&t.stack?t.stack:"",this.span)}}const xue=e=>{if("string"==typeof e)return e;if("object"==typeof e&&null!==e&&e instanceof Error)return e.message;try{if(W(e,"toString")&&la(e.toString)&&e.toString!==Object.prototype.toString&&e.toString!==globalThis.Array.prototype.toString)return e.toString()}catch{}return tD(e)},Fue=/\((.*)\)/g,ry=me("effect/Tracer/spanToTrace",()=>new WeakMap),Pue=(e,t,n)=>{const r=[e],o=t.startsWith(e)?t.slice(e.length).split("\n"):t.split("\n");for(let s=1;s<o.length&&!o[s].includes("Generator.next");s++){if(o[s].includes("effect_internal_function")){r.pop();break}r.push(o[s].replace(/at .*effect_instruction_i.*\((.*)\)/,"at $1").replace(/EffectPrimitive\.\w+/,"<anonymous>"))}if(n){let s=n,i=0;for(;s&&"Span"===s._tag&&i<10;){const a=ry.get(s);if("function"==typeof a){const c=a();if("string"==typeof c){const l=c.matchAll(Fue);let u=!1;for(const[,d]of l)u=!0,r.push(`    at ${s.name} (${d})`);u||r.push(`    at ${s.name} (${c.replace(/^at /,"")})`)}else r.push(`    at ${s.name}`)}else r.push(`    at ${s.name}`);s=ir(s.parent),i++}}return r.join("\n")},DB=Symbol.for("effect/SpanAnnotation"),MB=e=>ty(e,void 0,{emptyCase:()=>[],dieCase:(t,n)=>[new ny(n)],failCase:(t,n)=>[new ny(n)],interruptCase:()=>[],parallelCase:(t,n,r)=>[...n,...r],sequentialCase:(t,n,r)=>[...n,...r]}),tu="Pending",IB=Symbol.for("effect/Deferred"),Lue={_E:e=>e,_A:e=>e},Vue=e=>({_tag:tu,joiners:e});class Eh{self;called=!1;constructor(t){this.self=t}next(t){return this.called?{value:t,done:!0}:(this.called=!0,{value:this.self,done:!1})}return(t){return{value:t,done:!0}}throw(t){throw t}[Symbol.iterator](){return new Eh(this.self)}}const rM=Symbol.for("effect/EffectError"),nu=(e,t)=>{const n=new It("Blocked");return n.effect_instruction_i0=e,n.effect_instruction_i1=t,n},Ma=Symbol.for("effect/Effect");class Uue{patch;op;_op=rD;constructor(t,n){this.patch=t,this.op=n}}class It{_op;effect_instruction_i0=void 0;effect_instruction_i1=void 0;effect_instruction_i2=void 0;trace=void 0;[Ma]=Sl;constructor(t){this._op=t}[J](t){return this===t}[Q](){return Ue(this,u_(this))}pipe(){return z(this,arguments)}toJSON(){return{_id:"Effect",_op:this._op,effect_instruction_i0:st(this.effect_instruction_i0),effect_instruction_i1:st(this.effect_instruction_i1),effect_instruction_i2:st(this.effect_instruction_i2)}}toString(){return pt(this.toJSON())}[$e](){return this.toJSON()}[Symbol.iterator](){return new Eh(new Uf(this))}}class OB{_op;effect_instruction_i0=void 0;effect_instruction_i1=void 0;effect_instruction_i2=void 0;trace=void 0;[Ma]=Sl;constructor(t){this._op=t,this._tag=t}[J](t){return my(t)&&"Failure"===t._op&&U(this.effect_instruction_i0,t.effect_instruction_i0)}[Q](){return _(lt(this._tag),se(B(this.effect_instruction_i0)),Ue(this))}get cause(){return this.effect_instruction_i0}pipe(){return z(this,arguments)}toJSON(){return{_id:"Exit",_tag:this._op,cause:this.cause.toJSON()}}toString(){return pt(this.toJSON())}[$e](){return this.toJSON()}[Symbol.iterator](){return new Eh(new Uf(this))}}class AB{_op;effect_instruction_i0=void 0;effect_instruction_i1=void 0;effect_instruction_i2=void 0;trace=void 0;[Ma]=Sl;constructor(t){this._op=t,this._tag=t}[J](t){return my(t)&&"Success"===t._op&&U(this.effect_instruction_i0,t.effect_instruction_i0)}[Q](){return _(lt(this._tag),se(B(this.effect_instruction_i0)),Ue(this))}get value(){return this.effect_instruction_i0}pipe(){return z(this,arguments)}toJSON(){return{_id:"Exit",_tag:this._op,value:st(this.value)}}toString(){return pt(this.toJSON())}[$e](){return this.toJSON()}[Symbol.iterator](){return new Eh(new Uf(this))}}const ze=e=>W(e,Ma),Ee=e=>{const t=new It(K2);return t.effect_instruction_i0=e,t},kB=h(3,(e,t,n)=>en(r=>v(e,o=>v(Nt(q(()=>r(t(o)))),s=>q(()=>n(o,s)).pipe(xt({onFailure:i=>{switch(s._tag){case He:return _e(ft(s.effect_instruction_i0,i));case qe:return _e(i)}},onSuccess:()=>s})))))),yt=h(2,(e,t)=>v(e,()=>D(t))),Zt=e=>yt(e,void 0),oy=function(){const e=new It(h_);switch(arguments.length){case 2:e.effect_instruction_i0=arguments[0],e.commit=arguments[1];break;case 3:e.effect_instruction_i0=arguments[0],e.effect_instruction_i1=arguments[1],e.commit=arguments[2];break;case 4:e.effect_instruction_i0=arguments[0],e.effect_instruction_i1=arguments[1],e.effect_instruction_i2=arguments[2],e.commit=arguments[3];break;default:throw new Error(jf("you're not supposed to end up here"))}return e},Ch=(e,t=Ao)=>{const n=new It(Hf);let r;return n.effect_instruction_i0=o=>{r=e(o)},n.effect_instruction_i1=t,ka(n,o=>ze(r)?r:Z)},sy=(e,t=Ao)=>q(()=>Ch(e,t)),to=(e,t=Ao)=>oy(e,function(){let n,r;function o(c){n?n(c):void 0===r&&(r=c)}const s=new It(Hf);let i,a;return s.effect_instruction_i0=c=>{n=c,r&&c(r)},s.effect_instruction_i1=t,1!==this.effect_instruction_i0.length?(a=new AbortController,i=Qt(()=>this.effect_instruction_i0(o,a.signal))):i=Qt(()=>this.effect_instruction_i0(o)),i||a?ka(s,c=>(a&&a.abort(),i??Z)):s}),Ta=h(2,(e,t)=>_n(e,{onFailure:t,onSuccess:D})),iy=Symbol.for("effect/SpanAnnotation"),ay=Symbol.for("effect/OriginalAnnotation"),sM=(e,t)=>de(t)?new Proxy(e,{has:(n,r)=>r===iy||r===ay||r in n,get:(n,r)=>r===iy?t.value:r===ay?e:n[r]}):e,Ra=e=>c_(e)&&!(iy in e)?Ee(t=>_e(an(sM(e,NM(t))))):_e(an(e)),Sh=e=>Dh(()=>an(new gde(e))),Oa=e=>_n(e,{onFailure:t=>D(nr(t)),onSuccess:t=>D(Dt(t))}),Nt=e=>iM(e,{onFailure:ye,onSuccess:De}),le=e=>c_(e)&&!(iy in e)?Ee(t=>_e(ys(sM(e,NM(t))))):_e(ys(e)),Rr=e=>v(T(e),le),_e=e=>{const t=new OB(He);return t.effect_instruction_i0=e,t},Dh=e=>v(T(e),_e),ru=Ee(e=>D(e.id())),vs=e=>Ee(t=>e(t.id())),v=h(2,(e,t)=>{const n=new It(g_);return n.effect_instruction_i0=e,n.effect_instruction_i1=t,n}),NB=e=>{const t=new It("OnStep");return t.effect_instruction_i0=e,t},Or=e=>v(e,Ce),iM=h(2,(e,t)=>xt(e,{onFailure:n=>D(t.onFailure(n)),onSuccess:n=>D(t.onSuccess(n))})),xt=h(2,(e,t)=>{const n=new It(m_);return n.effect_instruction_i0=e,n.effect_instruction_i1=t.onFailure,n.effect_instruction_i2=t.onSuccess,n}),_n=h(2,(e,t)=>xt(e,{onFailure:n=>{if((e=>li(eu(e,sn(),(t,n)=>n._tag===zl?R(_(t,ut(n.defect))):I())))(n).length>0)return _e((e=>Da(e,{onEmpty:Tr,onFail:t=>an(t),onDie:t=>an(t),onInterrupt:t=>cr(t),onSequential:(t,n)=>ft(t,n),onParallel:(t,n)=>Jt(t,n)}))(n));const o=(e=>li(eu(e,sn(),(t,n)=>n._tag===Gl?R(_(t,ut(n.error))):I())))(n);return o.length>0?t.onFailure(qV(o)):_e(n)},onSuccess:t.onSuccess})),Hn=h(2,(e,t)=>q(()=>{const n=ce(e),r=_D(n.length);let o=0;return yt(uy({while:()=>o<n.length,body:()=>t(n[o],o),step:s=>{r[o++]=s}}),r)})),No=h(2,(e,t)=>q(()=>{const n=ce(e);let r=0;return uy({while:()=>r<n.length,body:()=>t(n[r],r),step:()=>{r++}})})),Aa=e=>{const t=new It(fa);return t.effect_instruction_i0=(e=>ps(e,e))(1),t.effect_instruction_i1=()=>e,t},F=h(2,(e,t)=>v(e,n=>T(()=>t(n)))),aM=h(2,(e,t)=>_n(e,{onFailure:n=>Rr(()=>t.onFailure(n)),onSuccess:n=>T(()=>t.onSuccess(n))})),Ih=h(2,(e,t)=>xt(e,{onFailure:n=>{const r=Jl(n);switch(r._tag){case"Left":return Rr(()=>t(r.left));case"Right":return _e(r.right)}},onSuccess:D})),no=h(2,(e,t)=>en(n=>xt(n(e),{onFailure:r=>{const o=ye(r);return xt(t(o),{onFailure:s=>ye(ft(r,s)),onSuccess:()=>o})},onSuccess:r=>{const o=De(r);return Oe(t(o),o)}}))),ka=h(2,(e,t)=>no(e,vy({onFailure:n=>tM(n)?Zt(t((e=>eu(e,di(),(t,n)=>n._tag===Xl?R(_(t,sh(n.fiberId))):I()))(n))):Z,onSuccess:()=>Z}))),D=e=>{const t=new AB(qe);return t.effect_instruction_i0=e,t},q=e=>{const t=new It(h_);return t.commit=e,t},T=e=>{const t=new It("Sync");return t.effect_instruction_i0=e,t},Na=h(e=>3===e.length||2===e.length&&!(c_(e[1])&&"onlyEffect"in e[1]),(e,t)=>v(e,n=>{const r="function"==typeof t?t(n):t;return ze(r)?yt(r,n):(e=>W(e,"then")&&la(e.then))(r)?Ch(o=>{r.then(s=>o(D(n)),s=>o(le(new Va(s))))}):D(n)})),xa=e=>{const t=new It(fa);return t.effect_instruction_i0=cB(1),t.effect_instruction_i1=()=>e,t},en=e=>oy(e,function(){const t=new It(fa);return t.effect_instruction_i0=cB(1),t.effect_instruction_i1=n=>ey(n)?Qt(()=>this.effect_instruction_i0(Aa)):Qt(()=>this.effect_instruction_i0(xa)),t}),Z=D(void 0),uy=e=>{const t=new It(__);return t.effect_instruction_i0=e.while,t.effect_instruction_i1=e.body,t.effect_instruction_i2=e.step,t},Fa=e=>{const t=new It(y_);return typeof e?.priority<"u"?QB(t,e.priority):t},dy=h(2,(e,t)=>v(e,n=>F(t,r=>[n,r]))),Oh=h(2,(e,t)=>v(e,n=>yt(t,n))),Oe=h(2,(e,t)=>v(e,()=>t)),ro=h(2,(e,t)=>v(e.interruptAsFork(t),()=>e.await)),uM={_tag:"Info",syslog:6,label:"INFO",ordinal:2e4,pipe(){return z(this,arguments)}},dM={_tag:"Debug",syslog:7,label:"DEBUG",ordinal:1e4,pipe(){return z(this,arguments)}},tde=Symbol.for("effect/FiberRef"),nde={_A:e=>e},xo=e=>Ee(t=>De(t.getFiberRef(e))),Ar=h(2,(e,t)=>v(xo(e),t)),su=h(2,(e,t)=>WB(e,()=>[void 0,t])),WB=h(2,(e,t)=>Ee(n=>{const[r,o]=t(n.getFiberRef(e));return n.setFiberRef(e,o),D(r)})),yn=h(3,(e,t,n)=>kB(Oh(xo(t),su(t,n)),()=>e,r=>su(t,r))),zt=(e,t)=>iu(e,{differ:QD(),fork:t?.fork??Ce,join:t?.join}),KB=e=>{const t=eo({empty:Fj(),combine:(e,t)=>G_(t)(e),diff:(e,t)=>((e,t)=>{const n=new Map(e.unsafeMap);let r=Fj();for(const[o,s]of t.unsafeMap.entries())if(n.has(o)){const i=n.get(o);n.delete(o),U(i,s)||(r=G_(ale(o,()=>s))(r))}else n.delete(o),r=G_(rle(o,s))(r);for(const[o]of n.entries())r=G_(sle(o))(r);return r})(e,t),patch:(e,t)=>lle(t)(e)});return iu(e,{differ:t,fork:t.empty})},iu=(e,t)=>({...cs,[tde]:nde,initial:e,commit(){return xo(this)},diff:(r,o)=>t.differ.diff(r,o),combine:(r,o)=>t.differ.combine(r,o),patch:r=>o=>t.differ.patch(r,o),fork:t.fork,join:t.join??((r,o)=>o)}),lde=e=>iu(e,{differ:iB,fork:iB.empty}),Fo=me(Symbol.for("effect/FiberRef/currentContext"),()=>KB(pa())),au=me(Symbol.for("effect/FiberRef/currentSchedulingPriority"),()=>zt(0)),fM=me(Symbol.for("effect/FiberRef/currentMaxOpsBeforeYield"),()=>zt(2048)),Ah=me(Symbol.for("effect/FiberRef/currentLogAnnotation"),()=>zt($_())),ude=me(Symbol.for("effect/FiberRef/currentLogLevel"),()=>zt(uM)),YB=me(Symbol.for("effect/FiberRef/currentLogSpan"),()=>zt(Ca())),QB=h(2,(e,t)=>yn(e,au,t)),ZB=me(Symbol.for("effect/FiberRef/currentUnhandledErrorLogLevel"),()=>zt(R(dM))),cu=me(Symbol.for("effect/FiberRef/currentMetricLabels"),()=>(e=>{const t=Gj(QD());return iu([],{differ:t,fork:t.empty})})()),hy=me(Symbol.for("effect/FiberRef/currentForkScopeOverride"),()=>zt(I(),{fork:()=>I(),join:(e,t)=>e})),kh=me(Symbol.for("effect/FiberRef/currentInterruptedCause"),()=>zt(Tr,{fork:()=>Tr,join:(e,t)=>e})),nU=function(){class e extends globalThis.Error{commit(){return le(this)}toJSON(){return{...this}}[$e](){return this.toString!==globalThis.Error.prototype.toString?this.stack?`${this.toString()}\n${this.stack.split("\n").slice(1).join("\n")}`:this.toString():"Bun"in globalThis?vh(ys(this),{renderErrorCause:!0}):this}}return Object.assign(e.prototype,oD),e}(),La=(e,t)=>{class n extends nU{_tag=t}return Object.assign(n.prototype,e),n.prototype.name=t,n},yM=Symbol.for("effect/Cause/errors/RuntimeException"),gde=La({[yM]:yM},"RuntimeException"),vM=Symbol.for("effect/Cause/errors/InterruptedException"),EM=Symbol.for("effect/Cause/errors/NoSuchElement"),gi=La({[EM]:EM},"NoSuchElementException"),DM=Symbol.for("effect/Cause/errors/UnknownException"),Va=function(){class e extends nU{cause;_tag="UnknownException";error;constructor(n,r){super(r??"An unknown error occurred",{cause:n}),this.cause=n,this.error=n}}return Object.assign(e.prototype,{[DM]:DM,name:"UnknownException"}),e}(),my=e=>ze(e)&&"_tag"in e&&("Success"===e._tag||"Failure"===e._tag),ja=(e,t)=>Vde(e,t?.parallel?Jt:ft),Ba=e=>ye(ys(e)),ye=e=>{const t=new OB(He);return t.effect_instruction_i0=e,t},yy=h(2,(e,t)=>{switch(e._tag){case He:return ye(e.effect_instruction_i0);case qe:return De(t(e.effect_instruction_i0))}}),vy=h(2,(e,{onFailure:t,onSuccess:n})=>{switch(e._tag){case He:return t(e.effect_instruction_i0);case qe:return n(e.effect_instruction_i0)}}),De=e=>{const t=new AB(qe);return t.effect_instruction_i0=e,t},ur=De(void 0),Po=h(3,(e,t,{onFailure:n,onSuccess:r})=>{switch(e._tag){case He:switch(t._tag){case qe:return ye(e.effect_instruction_i0);case He:return ye(n(e.effect_instruction_i0,t.effect_instruction_i0))}case qe:switch(t._tag){case qe:return De(r(e.effect_instruction_i0,t.effect_instruction_i0));case He:return ye(t.effect_instruction_i0)}}}),Vde=(e,t)=>{const n=Ol(e);return gt(n)?_(dt(n),ga(_(we(n),yy(qt)),(r,o)=>_(r,Po(o,{onSuccess:(s,i)=>_(s,ut(i)),onFailure:t}))),yy(li),yy(r=>$n(r)),R):I()},TM=e=>({...cs,[IB]:Lue,state:ah(Vue([])),commit(){return kr(this)},blockingOn:e}),kr=e=>sy(t=>{const n=ds(e.state);switch(n._tag){case"Done":return t(n.effect);case tu:return n.joiners.push(t),Kde(e,t)}},e.blockingOn),OM=(e,t)=>{const n=ds(e.state);if(n._tag===tu){ch(e.state,(e=>({_tag:"Done",effect:e}))(t));for(let r=0,o=n.joiners.length;r<o;r++)n.joiners[r](t)}},Kde=(e,t)=>T(()=>{const n=ds(e.state);if(n._tag===tu){const r=n.joiners.indexOf(t);r>=0&&n.joiners.splice(r,1)}}),NM=e=>{const t=e.currentSpan;return void 0!==t&&"Span"===t._tag?R(t):I()},xM=Symbol.for("effect/Clock"),Es=ha("effect/Clock"),uU={unsafeSchedule(e,t){const n=Al(t);if(n>2147483647)return is;let r=!1;const o=setTimeout(()=>{r=!0,e()},n);return()=>(clearTimeout(o),!r)}},dU=function(){const e=BigInt(1e6);if(typeof performance>"u")return()=>BigInt(Date.now())*e;if("number"==typeof performance.timeOrigin&&0===performance.timeOrigin)return()=>BigInt(Math.round(1e6*performance.now()));const t=BigInt(Date.now())*e-BigInt(Math.round(1e6*performance.now()));return()=>t+BigInt(Math.round(1e6*performance.now()))}(),efe=function(){const e="object"==typeof process&&"hrtime"in process&&"function"==typeof process.hrtime.bigint?process.hrtime:void 0;if(!e)return dU;const t=dU()-e.bigint();return()=>t+e.bigint()}();class tfe{[xM]=xM;unsafeCurrentTimeMillis(){return Date.now()}unsafeCurrentTimeNanos(){return efe()}currentTimeMillis=T(()=>this.unsafeCurrentTimeMillis());currentTimeNanos=T(()=>this.unsafeCurrentTimeNanos());scheduler(){return D(uU)}sleep(t){return to(n=>{const r=uU.unsafeSchedule(()=>n(Z),t);return Zt(T(r))})}}const fU=()=>new tfe,yi=yV,gU="InvalidData",mU="MissingData",_U="SourceUnavailable",yU="Unsupported",FM=Symbol.for("effect/ConfigError"),du={_tag:"ConfigError",[FM]:FM},vU=(e,t)=>{const n=Object.create(du);return n._op="And",n.left=e,n.right=t,Object.defineProperty(n,"toString",{enumerable:!1,value(){return`${this.left} and ${this.right}`}}),n},bU=(e,t)=>{const n=Object.create(du);return n._op="Or",n.left=e,n.right=t,Object.defineProperty(n,"toString",{enumerable:!1,value(){return`${this.left} or ${this.right}`}}),n},rfe=(e,t,n={pathDelim:"."})=>{const r=Object.create(du);return r._op=gU,r.path=e,r.message=t,Object.defineProperty(r,"toString",{enumerable:!1,value(){return`(Invalid data at ${_(this.path,ma(n.pathDelim))}: "${this.message}")`}}),r},Ua=(e,t,n={pathDelim:"."})=>{const r=Object.create(du);return r._op=mU,r.path=e,r.message=t,Object.defineProperty(r,"toString",{enumerable:!1,value(){return`(Missing data at ${_(this.path,ma(n.pathDelim))}: "${this.message}")`}}),r},ofe=(e,t,n,r={pathDelim:"."})=>{const o=Object.create(du);return o._op=_U,o.path=e,o.message=t,o.cause=n,Object.defineProperty(o,"toString",{enumerable:!1,value(){return`(Source unavailable at ${_(this.path,ma(r.pathDelim))}: "${this.message}")`}}),o},sfe=(e,t,n={pathDelim:"."})=>{const r=Object.create(du);return r._op=yU,r.path=e,r.message=t,Object.defineProperty(r,"toString",{enumerable:!1,value(){return`(Unsupported operation at ${_(this.path,ma(n.pathDelim))}: "${this.message}")`}}),r},$a=h(2,(e,t)=>{switch(e._op){case"And":return vU($a(e.left,t),$a(e.right,t));case"Or":return bU($a(e.left,t),$a(e.right,t));case gU:return rfe([...t,...e.path],e.message);case mU:return Ua([...t,...e.path],e.message);case _U:return ofe([...t,...e.path],e.message,e.cause);case yU:return sfe([...t,...e.path],e.message)}}),cfe={_tag:"Empty"},PM=h(2,(e,t)=>{let n=$D(t),r=e;for(;UD(n);){const o=n.head;switch(o._tag){case"Empty":n=n.tail;break;case"AndThen":n=Ea(o.first,Ea(o.second,n.tail));break;case"MapName":r=Rl(r,o.f),n=n.tail;break;case"Nested":r=w_(r,o.name),n=n.tail;break;case"Unnested":if(!_(Yf(r),iie(o.name)))return nr(Ua(r,`Expected ${o.name} to be in path in ConfigProvider#unnested`));r=ai(r),n=n.tail}}return Dt(r)}),Ey=(e,t)=>[...e,...t],EU=Symbol.for("effect/ConfigProvider"),Cy=ha("effect/ConfigProvider"),CU=Symbol.for("effect/ConfigProviderFlat"),bfe=e=>({[EU]:EU,pipe(){return z(this,arguments)},...e}),Efe=e=>{const{pathDelim:t,seqDelim:n}=Object.assign({},{pathDelim:"_",seqDelim:","},e),s=()=>typeof process<"u"&&"env"in process&&"object"==typeof process.env?process.env:{};return(e=>bfe({load:t=>v(xr(e,[],t,!1),n=>or(Yf(n),{onNone:()=>le(Ua([],`Expected a single value having structure: ${t}`)),onSome:D})),flattened:e}))((e=>({[CU]:CU,patch:e.patch,load:(t,n,r=!0)=>e.load(t,n,r),enumerateChildren:e.enumerateChildren}))({load:(c,l,u=!0)=>{const d=(c=>_(c,ma(t)))(c),f=s();return _(d in f?R(f[d]):I(),Ih(()=>Ua(c,`Expected ${d} to exist in the process context`)),v(g=>wU(g,c,l,n,u)))},enumerateChildren:c=>T(()=>{const l=s(),f=Object.keys(l).map(p=>(c=>c.split(t))(p.toUpperCase())).filter(p=>{for(let g=0;g<c.length;g++){const m=_(c,TV(g)),y=p[g];if(void 0===y||m!==y)return!1}return!0}).flatMap(p=>p.slice(c.length,c.length+1));return(e=>{const t=Bl(Oo());for(const n of e)Dr(t,n);return Ul(t)})(f)}),patch:cfe}))},xr=(e,t,n,r)=>{const o=n;switch(o._tag){case"Constant":return D(Sr(o.value));case"Described":return q(()=>xr(e,t,o.config,r));case"Fail":return le(Ua(t,o.message));case"Fallback":return _(q(()=>xr(e,t,o.first,r)),Ta(s=>o.condition(s)?_(xr(e,t,o.second,r),Ta(i=>le(bU(s,i)))):le(s)));case"Lazy":return q(()=>xr(e,t,o.config(),r));case"MapOrFail":return q(()=>_(xr(e,t,o.original,r),v(Hn(s=>_(o.mapOrFail(s),Ih($a(((e,t)=>{let n=t;if("Nested"===n._tag){const r=e.slice();for(;"Nested"===n._tag;)r.push(n.name),n=n.config;return r}return e})(t,o.original))))))));case"Nested":return q(()=>xr(e,Ey(t,Sr(o.name)),o.config,r));case"Primitive":return _(PM(t,e.patch),v(s=>_(e.load(s,o,r),v(i=>{if(0===i.length){const a=_((e=>on(e)?R(yD(e)):I())(s),sr(()=>"<n/a>"));return le(Ua([],`Expected ${o.description} with name ${a}`))}return D(i)}))));case"Sequence":return _(PM(t,e.patch),v(s=>_(e.enumerateChildren(s),v(Tfe),v(i=>0===i.length?q(()=>F(xr(e,t,o.config,!0),Sr)):_(Hn(i,a=>xr(e,Die(t,`[${a}]`),o.config,!0)),F(a=>{const c=NV(a);return Sr(0===c.length?[]:c)}))))));case"HashMap":return q(()=>_(PM(t,e.patch),v(s=>_(e.enumerateChildren(s),v(i=>_(i,Hn(a=>xr(e,Ey(s,Sr(a)),o.valueConfig,r)),F(a=>0===a.length?Sr($_()):_(Ife(a),Rl(c=>bce(AV(ce(i),c)))))))))));case"ZipWith":return q(()=>_(xr(e,t,o.left,r),Oa,v(s=>_(xr(e,t,o.right,r),Oa,v(i=>{if(rr(s)&&rr(i))return le(vU(s.left,i.left));if(rr(s)&&Kf(i))return le(s.left);if(Kf(s)&&rr(i))return le(i.left);if(Kf(s)&&Kf(i)){const a=_(t,ma(".")),c=Dfe(t,a),[l,u]=((e,t,n,r)=>{const o=FV(n.length,c=>c>=r.length?I():R([e(c),c+1])),s=FV(r.length,c=>c>=n.length?I():R([t(c),c+1]));return[Ey(n,o),Ey(r,s)]})(c,c,_(s.right,Rl(Dt)),_(i.right,Rl(Dt)));return _(l,AV(u),Hn(([d,f])=>_(dy(d,f),F(([p,g])=>o.zip(p,g)))))}throw new Error("BUG: ConfigProvider.fromFlatLoop - please report an issue at https://github.com/Effect-TS/effect/issues")})))))}},Dfe=(e,t)=>n=>nr(Ua(e,`The element at index ${n} in a sequence at path "${t}" was missing`)),wU=(e,t,n,r,o)=>o?_(((e,t)=>e.split(new RegExp(`\\s*${(e=>e.replace(/[/\\^$*+?.()|[\]{}]/g,"\\$&"))(t)}\\s*`)))(e,r),Hn(s=>n.parse(s.trim())),Ih($a(t))):_(n.parse(e),aM({onFailure:$a(t),onSuccess:Sr})),Ife=e=>Object.keys(e[0]).map(t=>e.map(n=>n[t])),Tfe=e=>_(Hn(e,Afe),aM({onFailure:()=>[],onSuccess:Qf(yi)}),Oa,F(dV)),Ofe=/^(\[(\d+)\])$/,Afe=e=>{const t=e.match(Ofe);if(null!==t){const n=t[2];return _(void 0!==n&&n.length>0?R(n):I(),mD(DU))}return I()},DU=e=>{const t=Number.parseInt(e);return Number.isNaN(t)?I():R(t)},MU=Symbol.for("effect/Console"),fu=ha("effect/Console"),Vfe={[MU]:MU,assert:(e,...t)=>T(()=>{console.assert(e,...t)}),clear:T(()=>{console.clear()}),count:e=>T(()=>{console.count(e)}),countReset:e=>T(()=>{console.countReset(e)}),debug:(...e)=>T(()=>{console.debug(...e)}),dir:(e,t)=>T(()=>{console.dir(e,t)}),dirxml:(...e)=>T(()=>{console.dirxml(...e)}),error:(...e)=>T(()=>{console.error(...e)}),group:e=>T(e?.collapsed?()=>console.groupCollapsed(e?.label):()=>console.group(e?.label)),groupEnd:T(()=>{console.groupEnd()}),info:(...e)=>T(()=>{console.info(...e)}),log:(...e)=>T(()=>{console.log(...e)}),table:(e,t)=>T(()=>{console.table(e,t)}),time:e=>T(()=>console.time(e)),timeEnd:e=>T(()=>console.timeEnd(e)),timeLog:(e,...t)=>T(()=>{console.timeLog(e,...t)}),trace:(...e)=>T(()=>{console.trace(...e)}),warn:(...e)=>T(()=>{console.warn(...e)}),unsafe:console},IU=Symbol.for("effect/Random"),wy=ha("effect/Random");class jfe{seed;[IU]=IU;PRNG;constructor(t){this.seed=t,this.PRNG=new lse(t)}get next(){return T(()=>this.PRNG.number())}get nextBoolean(){return F(this.next,t=>t>.5)}get nextInt(){return T(()=>this.PRNG.integer(Number.MAX_SAFE_INTEGER))}nextRange(t,n){return F(this.next,r=>(n-t)*r+t)}nextIntBetween(t,n){return T(()=>this.PRNG.integer(n-t)+t)}shuffle(t){return Bfe(t,n=>this.nextIntBetween(0,n))}}const Bfe=(e,t)=>q(()=>_(T(()=>Array.from(e)),v(n=>{const r=[];for(let o=n.length;o>=2;o-=1)r.push(o);return _(r,No(o=>_(t(o),F(s=>Ufe(n,o-1,s)))),yt(Ol(n)))}))),Ufe=(e,t,n)=>{const r=e[t];return e[t]=e[n],e[n]=r,e},$fe=e=>new jfe(B(e)),LM=Symbol.for("effect/Tracer"),TU=e=>({[LM]:LM,...e}),Ha=ha("effect/Tracer"),Cs=ha("effect/ParentSpan"),RU=function(){return function(n){let r="";for(let o=0;o<n;o++)r+="abcdef0123456789".charAt(Math.floor(16*Math.random()));return r}}();class Hfe{name;parent;context;links;startTime;kind;_tag="Span";spanId;traceId="native";sampled=!0;status;attributes;events=[];constructor(t,n,r,o,s,i){this.name=t,this.parent=n,this.context=r,this.links=o,this.startTime=s,this.kind=i,this.status={_tag:"Started",startTime:s},this.attributes=new Map,this.traceId="Some"===n._tag?n.value.traceId:RU(32),this.spanId=RU(16)}end(t,n){this.status={_tag:"Ended",endTime:t,exit:n,startTime:this.status.startTime}}attribute(t,n){this.attributes.set(t,n)}event(t,n,r){this.events.push([t,n,r??{}])}}const qfe=TU({span:(e,t,n,r,o,s)=>new Hfe(e,t,n,r,o,s),context:e=>e()}),Wfe=_(pa(),Ht(Es,fU()),Ht(fu,Vfe),Ht(wy,$fe(Math.random())),Ht(Cy,Efe()),Ht(Ha,qfe)),Wt=me(Symbol.for("effect/DefaultServices/currentServices"),()=>KB(Wfe)),rhe=zf,ohe=vse;class Ty extends ohe{}const pu={_tag:"Sequential"};const zM=Symbol.for("effect/FiberRefs");class vi{locals;[zM]=zM;constructor(t){this.locals=t}pipe(){return z(this,arguments)}}const PU=h(3,(e,t,n)=>{const r=new Map(e.locals);return n.locals.forEach((o,s)=>{const i=o[0][1];if(!o[0][0][J](t)){if(!r.has(s)){if(U(i,s.initial))return;return void r.set(s,[[t,s.join(s.initial,i)]])}const a=r.get(s),[c,l]=((e,t,n,r=!1)=>{const o=e;let c,s=t,i=n,a=r;for(;void 0===c;)if(on(s)&&on(i)){const l=Un(s)[0],u=ai(s),d=Un(i)[0],f=Un(i)[1],p=ai(i);l.startTimeMillis<d.startTimeMillis?(i=p,a=!0):l.startTimeMillis>d.startTimeMillis?s=u:l.id<d.id?(i=p,a=!0):l.id>d.id?s=u:c=[f,a]}else c=[o.initial,!0];return c})(s,a,o);if(l){const u=s.diff(c,i),d=a[0][1],f=s.join(d,s.patch(u)(d));if(!U(d,f)){let p;const g=a[0][0];p=g[J](t)?[[g,f],...a.slice(1)]:[[t,f],...a],r.set(s,p)}}}}),new vi(r)}),LU=h(2,(e,t)=>{const n=new Map;return VU(e,n,t),new vi(n)}),VU=(e,t,n)=>{e.locals.forEach((r,o)=>{const s=r[0][1],i=o.patch(o.fork)(s);U(s,i)?t.set(o,r):t.set(o,[[n,i],...r])})},WM=h(2,(e,t)=>{const n=new Map(e.locals);return n.delete(t),new vi(n)}),BU=h(2,(e,t)=>e.locals.has(t)?R(Un(e.locals.get(t))[1]):I()),gu=h(2,(e,t)=>_(BU(e,t),sr(()=>t.initial))),Ry=h(2,(e,{fiberId:t,fiberRef:n,value:r})=>{if(0===e.locals.size)return new vi(new Map([[n,[[t,r]]]]));const o=new Map(e.locals);return GM(o,t,n,r),new vi(o)}),GM=(e,t,n,r)=>{const o=e.get(n)??[];let s;if(on(o)){const[i,a]=Un(o);if(i[J](t)){if(U(a,r))return;s=[[t,r],...o.slice(1)]}else s=[[t,r],...o]}else s=[[t,r]];e.set(n,s)},hhe=gu,mhe=h(2,(e,{entries:t,forkAs:n})=>{if(0===e.locals.size)return new vi(new Map(t));const r=new Map(e.locals);return void 0!==n&&VU(e,r,n),t.forEach(([o,s])=>{1===s.length?GM(r,s[0][0],o,s[0][1]):s.forEach(([i,a])=>{GM(r,i,o,a)})}),new vi(r)}),_he=function lhe(){return function FU(e){return new vi(e)}(new Map)},WU="AndThen",GU={_tag:"Empty"},Oy=h(2,(e,t)=>({_tag:WU,first:e,second:t})),Vh=(e,t)=>{const n=new Map(e.locals);let r=GU;for(const[o,s]of t.locals.entries()){const i=Un(s)[1],a=n.get(o);if(void 0!==a){const c=Un(a)[1];U(c,i)||(r=Oy({_tag:"Update",fiberRef:o,patch:o.diff(c,i)})(r))}else r=Oy({_tag:"Add",fiberRef:o,value:i})(r);n.delete(o)}for(const[o]of n.entries())r=Oy({_tag:"Remove",fiberRef:o})(r);return r},jh=h(3,(e,t,n)=>{let r=n,o=Sr(e);for(;on(o);){const s=Un(o),i=ai(o);switch(s._tag){case"Empty":o=i;break;case"Add":r=Ry(r,{fiberId:t,fiberRef:s.fiberRef,value:s.value}),o=i;break;case"Remove":r=WM(r,s.fiberRef),o=i;break;case"Update":{const a=gu(r,s.fiberRef);r=Ry(r,{fiberId:t,fiberRef:s.fiberRef,value:s.fiberRef.patch(s.patch)(a)}),o=i;break}case WU:o=w_(s.first)(w_(s.second)(i))}}return r}),Ay="effect/FiberStatus",bi=Symbol.for(Ay),ky="Done",KM="Running",YM="Suspended",yhe=lt(`${Ay}-${ky}`);class vhe{[bi]=bi;_tag=ky;[Q](){return yhe}[J](t){return Ny(t)&&t._tag===ky}}class bhe{runtimeFlags;[bi]=bi;_tag=KM;constructor(t){this.runtimeFlags=t}[Q](){return _(B(Ay),se(B(this._tag)),se(B(this.runtimeFlags)),Ue(this))}[J](t){return Ny(t)&&t._tag===KM&&this.runtimeFlags===t.runtimeFlags}}class Ehe{runtimeFlags;blockingOn;[bi]=bi;_tag=YM;constructor(t,n){this.runtimeFlags=t,this.blockingOn=n}[Q](){return _(B(Ay),se(B(this._tag)),se(B(this.runtimeFlags)),se(B(this.blockingOn)),Ue(this))}[J](t){return Ny(t)&&t._tag===YM&&this.runtimeFlags===t.runtimeFlags&&U(this.blockingOn,t.blockingOn)}}const Ny=e=>W(e,bi),The=new vhe,KU=e=>new bhe(e),e$=uM,Fhe=EV(_(yi,vV(e=>e.ordinal))),r$=Symbol.for("effect/Micro"),xy=Symbol.for("effect/Micro/MicroExit"),QM=Symbol.for("effect/Micro/MicroCause"),Lhe={_E:Ce};class JM extends globalThis.Error{_tag;traces;[QM];constructor(t,n,r){const o=`MicroCause.${t}`;let s,i,a;if(n instanceof globalThis.Error){s=`(${o}) ${n.name}`,i=n.message;const c=i.split("\n").length;a=n.stack?`(${o}) ${n.stack.split("\n").slice(0,c+3).join("\n")}`:`${s}: ${i}`}else s=o,i=Cl(n,0),a=`${s}: ${i}`;r.length>0&&(a+=`\n    ${r.join("\n    ")}`),super(i),this._tag=t,this.traces=r,this[QM]=Lhe,this.name=s,this.stack=a}pipe(){return z(this,arguments)}toString(){return this.stack}[$e](){return this.stack}}class jhe extends JM{defect;constructor(t,n=[]){super("Die",t,n),this.defect=t}}class Uhe extends JM{constructor(t=[]){super("Interrupt","interrupted",t)}}const $he=(e=[])=>new Uhe(e),s$=e=>"Interrupt"===e._tag,i$=Symbol.for("effect/Micro/MicroFiber"),qhe={_A:Ce,_E:Ce};class a${context;interruptible;[i$];_stack=[];_observers=[];_exit;_children;currentOpCount=0;constructor(t,n=!0){this.context=t,this.interruptible=n,this[i$]=qhe}getRef(t){return((e,t)=>e.unsafeMap.has(t.key)?e.unsafeMap.get(t.key):E_(t))(this.context,t)}addObserver(t){return this._exit?(t(this._exit),i_):(this._observers.push(t),()=>{const n=this._observers.indexOf(t);n>=0&&this._observers.splice(n,1)})}_interrupted=!1;unsafeInterrupt(){this._exit||(this._interrupted=!0,this.interruptible&&this.evaluate(rI))}unsafePoll(){return this._exit}evaluate(t){if(this._exit)return;if(void 0!==this._yielded){const o=this._yielded;this._yielded=void 0,o()}const n=this.runLoop(t);if(n===yu)return;const r=ZM.interruptChildren&&ZM.interruptChildren(this);if(void 0!==r)return this.evaluate(On(r,()=>n));this._exit=n;for(let o=0;o<this._observers.length;o++)this._observers[o](n);this._observers.length=0}runLoop(t){let n=!1,r=t;this.currentOpCount=0;try{for(;;){if(this.currentOpCount++,!n&&this.getRef(Vy).shouldYield(this)){n=!0;const o=r;r=On(Khe,()=>o)}if(r=r[eI](this),r===yu){const o=this._yielded;return xy in o?(this._yielded=void 0,o):yu}}}catch(o){return W(r,eI)?bu(o):bu(`MicroFiber.runLoop: Not a valid effect: ${String(r)}`)}}getCont(t){for(;;){const n=this._stack.pop();if(!n)return;const r=n[Fy]&&n[Fy](this);if(r)return{[t]:r};if(n[t])return n}}_yielded=void 0;yieldWith(t){return this._yielded=t,yu}children(){return this._children??=new Set}}const ZM=me("effect/Micro/fiberMiddleware",()=>({interruptChildren:void 0})),l$=Symbol.for("effect/Micro/identifier"),Ae=Symbol.for("effect/Micro/args"),eI=Symbol.for("effect/Micro/evaluate"),Ss=Symbol.for("effect/Micro/successCont"),_u=Symbol.for("effect/Micro/failureCont"),Fy=Symbol.for("effect/Micro/ensureCont"),yu=Symbol.for("effect/Micro/Yield"),Ghe={...rhe,_op:"Micro",[r$]:{_A:Ce,_E:Ce,_R:Ce},pipe(){return z(this,arguments)},[Symbol.iterator](){return new Bf(new Uf(this))},toJSON(){return{_id:"Micro",op:this[l$],...Ae in this?{args:this[Ae]}:void 0}},toString(){return pt(this)},[$e](){return pt(this)}};function Xhe(e){return bu("Micro.evaluate: Not implemented")}const Bh=e=>({...Ghe,[l$]:e.op,[eI]:e.eval??Xhe,[Ss]:e.contA,[_u]:e.contE,[Fy]:e.ensure}),ws=e=>{const t=Bh(e);return function(){const n=Object.create(t);return n[Ae]=!1===e.single?arguments:arguments[0],n}},u$=e=>{const t={...Bh(e),[xy]:xy,_tag:e.op,get[e.prop](){return this[Ae]},toJSON(){return{_id:"MicroExit",_tag:e.op,[e.prop]:this[Ae]}},[J](n){return rpe(n)&&n._tag===e.op&&U(this[Ae],n[Ae])},[Q](){return Ue(this,se(lt(e.op))(B(this[Ae])))}};return function(n){const r=Object.create(t);return r[Ae]=n,r[Ss]=void 0,r[_u]=void 0,r[Fy]=void 0,r}},Gt=u$({op:"Success",prop:"value",eval(e){const t=e.getCont(Ss);return t?t[Ss](this[Ae],e):e.yieldWith(this)}}),Ei=u$({op:"Failure",prop:"cause",eval(e){let t=e.getCont(_u);for(;s$(this[Ae])&&t&&e.interruptible;)t=e.getCont(_u);return t?t[_u](this[Ae],e):e.yieldWith(this)}}),Khe=ws({op:"Yield",eval(e){let t=!1;return e.getRef(Vy).scheduleTask(()=>{t||e.evaluate(za)},this[Ae]??0),e.yieldWith(()=>{t=!0})}})(0),Si=Gt(void 0),oo=ws({op:"WithMicroFiber",eval(e){return this[Ae](e)}}),On=h(2,(e,t)=>{const n=Object.create(tpe);return n[Ae]=e,n[Ss]=t,n}),tpe=Bh({op:"OnSuccess",eval(e){return e._stack.push(this),this[Ae]}}),rpe=e=>W(e,xy),Ly=Gt,$h=Ei,rI=$h($he()),bu=e=>$h(((e,t=[])=>new jhe(e,t))(e)),za=Ly(void 0),spe="setImmediate"in globalThis?globalThis.setImmediate:e=>setTimeout(e,0);class sI{tasks=[];running=!1;scheduleTask(t,n){this.tasks.push(t),this.running||(this.running=!0,spe(this.afterScheduled))}afterScheduled=()=>{this.running=!1,this.runTasks()};runTasks(){const t=this.tasks;this.tasks=[];for(let n=0,r=t.length;n<r;n++)t[n]()}shouldYield(t){return t.currentOpCount>=t.getRef(upe)}flush(){for(;this.tasks.length>0;)this.runTasks()}}const ipe=h(2,(e,t)=>oo(n=>{const r=n.context;return n.context=t(r),p$(e,()=>(n.context=r,Si))})),cpe=h(2,(e,t)=>ipe(e,Xf(t)));class upe extends(S_()("effect/Micro/currentMaxOpsBeforeYield",{defaultValue:()=>2048})){}class Vy extends(S_()("effect/Micro/currentScheduler",{defaultValue:()=>new sI})){}const gpe=h(2,(e,t)=>{const n=Object.create(mpe);return n[Ae]=e,n[Ss]=t.onSuccess,n[_u]=t.onFailure,n}),mpe=Bh({op:"OnSuccessAndFailure",eval(e){return e._stack.push(this),this[Ae]}}),p$=h(2,(e,t)=>m$(n=>gpe(n(e),{onFailure:r=>On(t($h(r)),()=>Ei(r)),onSuccess:r=>On(t(Ly(r)),()=>Gt(r))}))),By=ws({op:"SetInterruptible",ensure(e){if(e.interruptible=this[Ae],e._interrupted&&e.interruptible)return()=>rI}}),lI=e=>oo(t=>t.interruptible?e:(t.interruptible=!0,t._stack.push(By(!1)),t._interrupted?rI:e)),m$=e=>oo(t=>t.interruptible?(t.interruptible=!1,t._stack.push(By(!0)),e(lI)):e(Ce));class $y{buckets=[];scheduleTask(t,n){const r=this.buckets.length;let o,s=0;for(;s<r&&this.buckets[s][0]<=n;s++)o=this.buckets[s];o&&o[0]===n?o[1].push(t):s===r?this.buckets.push([n,[t]]):this.buckets.splice(s,0,[n,[t]])}}class Upe{maxNextTickBeforeTimer;running=!1;tasks=new $y;constructor(t){this.maxNextTickBeforeTimer=t}starveInternal(t){const n=this.tasks.buckets;this.tasks.buckets=[];for(const[r,o]of n)for(let s=0;s<o.length;s++)o[s]();0===this.tasks.buckets.length?this.running=!1:this.starve(t)}starve(t=0){t>=this.maxNextTickBeforeTimer?setTimeout(()=>this.starveInternal(0),0):Promise.resolve(void 0).then(()=>this.starveInternal(t+1))}shouldYield(t){return t.currentOpCount>t.getFiberRef(fM)&&t.getFiberRef(au)}scheduleTask(t,n){this.tasks.scheduleTask(t,n),this.running||(this.running=!0,this.starve())}}const zh=me(Symbol.for("effect/Scheduler/defaultScheduler"),()=>new Upe(2048)),qy=me(Symbol.for("effect/FiberRef/currentScheduler"),()=>zt(zh)),gI=(e,t)=>({_tag:"Par",left:e,right:t}),Wh=(e,t)=>({_tag:"Seq",left:e,right:t}),Xpe=e=>{let t=e,n=S$(),r=Ca(),o=Ca();for(;;)switch(t._tag){case"Empty":if(Mt(r))return[n,o];t=r.head,r=r.tail;break;case"Par":r=Ea(t.right,r),t=t.left;break;case"Seq":{const s=t.left,i=t.right;switch(s._tag){case"Empty":t=i;break;case"Par":{const c=s.right;t=gI(Wh(s.left,i),Wh(c,i));break}case"Seq":t=Wh(s.left,Wh(s.right,i));break;case"Single":t=s,o=Ea(i,o)}break}case"Single":if(n=tge(n,t),Mt(r))return[n,o];t=r.head,r=r.tail}throw new Error("BUG: BlockedRequests.step - please report an issue at https://github.com/Effect-TS/effect/issues")},Kpe=(e,t)=>{if(Mt(e))return $D(yI(t));if(rge(t))return e;const n=lge(e.head),r=oge(t);return 1===n.length&&1===r.length&&U(n[0],r[0])?Ea(cge(e.head,yI(t)),e.tail):Ea(yI(t),e)},Zpe=Symbol.for("effect/RequestBlock/RequestBlockParallel"),ege={_R:e=>e};class zy{map;[Zpe]=ege;constructor(t){this.map=t}}const S$=()=>new zy($_()),tge=(e,t)=>new zy(wce(e.map,t.dataSource,n=>rie(Ml(n,UV(t.blockedRequest)),()=>qt(t.blockedRequest)))),nge=(e,t)=>new zy(q_(e.map,t.map,(n,r,o)=>ko(n,o,or(H_(n,o),{onNone:()=>r,onSome:s=>wr(r,s)})))),rge=e=>(e=>e&&Zr(e._root))(e.map),oge=e=>Array.from(Ij(e.map)),yI=e=>age(Dce(e.map,t=>qt(t))),sge=Symbol.for("effect/RequestBlock/RequestBlockSequential"),ige={_R:e=>e};class w${map;[sge]=ige;constructor(t){this.map=t}}const age=e=>new w$(e),cge=(e,t)=>new w$(q_(t.map,e.map,(n,r,o)=>ko(n,o,or(H_(n,o),{onNone:()=>sn(),onSome:s=>wr(s,r)})))),lge=e=>Array.from(Ij(e.map)),vI=me(Symbol.for("effect/FiberRef/currentRequestMap"),()=>zt(new Map)),_ge=e=>t=>`${t.label.replace(/[\s="]/g,"_")}=${e-t.startTime}ms`,I$="effect/MetricLabel",EI=Symbol.for(I$);class Cge{key;value;[EI]=EI;_hash;constructor(t,n){this.key=t,this.value=n,this._hash=lt(I$+this.key+this.value)}[Q](){return this._hash}[J](t){return Sge(t)&&this.key===t.key&&this.value===t.value}pipe(){return z(this,arguments)}}const Gy=(e,t)=>new Cge(e,t),Sge=e=>W(e,EI),OI="InterruptSignal",AI="Stateful",kI="Resume",NI="YieldNow",xI=e=>({_tag:OI,cause:e}),tv=e=>({_tag:AI,onFiber:e}),Cu=e=>({_tag:kI,effect:e}),nv=Symbol.for("effect/FiberScope");class y_e{[nv]=nv;fiberId=Ao;roots=new Set;add(t,n){this.roots.add(n),n.addObserver(()=>{this.roots.delete(n)})}}class v_e{fiberId;parent;[nv]=nv;constructor(t,n){this.fiberId=t,this.parent=n}add(t,n){this.parent.tell(tv(r=>{r.addChild(n),n.addObserver(()=>{r.removeChild(n)})}))}}const Su=me(Symbol.for("effect/FiberScope/Global"),()=>new y_e),wu=Symbol.for("effect/Fiber"),rv={_E:e=>e,_A:e=>e},FI=Symbol.for("effect/Fiber"),An=e=>Oh(Or(e.await),e.inheritAll),Di="effect/FiberCurrent",iv=Symbol.for("effect/Logger"),jI={_Message:e=>e,_Output:e=>e},Ka=e=>({[iv]:jI,log:e,pipe(){return z(this,arguments)}}),H_e=Ka(({annotations:e,cause:t,date:n,fiberId:r,logLevel:o,message:s,spans:i})=>{const a=n.getTime();let l=[`timestamp=${n.toISOString()}`,`level=${o.label}`,`fiber=${VD(r)}`].join(" ");const u=(e=>Array.isArray(e)?e:[e])(s);for(let d=0;d<u.length;d++){const f=Cl(u[d]);f.length>0&&(l+=" message=",l=BI(f,l))}if(null!=t&&"Empty"!==t._tag&&(l+=" cause=",l=BI(vh(t,{renderErrorCause:!0}),l)),UD(i)){l+=" ";let d=!0;for(const f of i)d?d=!1:l+=" ",l+=_(f,_ge(a))}if(Tj(e)>0){l+=" ";let d=!0;for(const[f,p]of e)d?d=!1:l+=" ",l+=hH(f),l+="=",l=BI(Cl(p),l)}return l}),fH=/^[^\s"=]+$/,BI=(e,t)=>t+(e.match(fH)?e:(e=>`"${e.replace(/\\([\s\S])|(")/g,"\\$1$2")}"`)(e)),hH=e=>e.replace(/[\s="]/g,"_"),gH="object"==typeof process&&null!==process&&"object"==typeof process.stdout&&null!==process.stdout,Mu=(gH&&process,gH||globalThis,Symbol.for("effect/MetricKeyType")),_H="effect/MetricKeyType/Counter",UI=Symbol.for(_H),$I=Symbol.for("effect/MetricKeyType/Frequency"),HI=Symbol.for("effect/MetricKeyType/Gauge"),bH="effect/MetricKeyType/Histogram",qI=Symbol.for(bH),zI=Symbol.for("effect/MetricKeyType/Summary"),Kh={_In:e=>e,_Out:e=>e};class tye{incremental;bigint;[Mu]=Kh;[UI]=UI;constructor(t,n){this.incremental=t,this.bigint=n,this._hash=lt(_H)}_hash;[Q](){return this._hash}[J](t){return CH(t)}pipe(){return z(this,arguments)}}class iye{boundaries;[Mu]=Kh;[qI]=qI;constructor(t){this.boundaries=t,this._hash=_(lt(bH),se(B(this.boundaries)))}_hash;[Q](){return this._hash}[J](t){return DH(t)&&U(this.boundaries,t.boundaries)}pipe(){return z(this,arguments)}}const CH=e=>W(e,UI),DH=e=>W(e,qI),IH=Symbol.for("effect/MetricKey"),uye={_Type:e=>e},dye=bD(U);class Iu{name;keyType;description;tags;[IH]=uye;constructor(t,n,r,o=[]){this.name=t,this.keyType=n,this.description=r,this.tags=o,this._hash=_(lt(this.name+this.description),se(B(this.keyType)),se(ua(this.tags)))}_hash;[Q](){return this._hash}[J](t){return fye(t)&&this.name===t.name&&U(this.keyType,t.keyType)&&U(this.description,t.description)&&dye(this.tags,t.tags)}pipe(){return z(this,arguments)}}const fye=e=>W(e,IH),gye=h(2,(e,t)=>0===t.length?e:new Iu(e.name,e.keyType,e.description,Tl(e.tags,t))),TH=Symbol.for("effect/MutableHashMap"),mye={[TH]:TH,[Symbol.iterator](){return new WI(this)},toString(){return pt(this.toJSON())},toJSON(){return{_id:"MutableHashMap",values:Array.from(this).map(st)}},[$e](){return this.toJSON()},pipe(){return z(this,arguments)}};class WI{self;referentialIterator;bucketIterator;constructor(t){this.self=t,this.referentialIterator=t.referential[Symbol.iterator]()}next(){if(void 0!==this.bucketIterator)return this.bucketIterator.next();const t=this.referentialIterator.next();return t.done?(this.bucketIterator=new _ye(this.self.buckets.values()),this.next()):t}[Symbol.iterator](){return new WI(this.self)}}class _ye{backing;constructor(t){this.backing=t}currentBucket;next(){if(void 0===this.currentBucket){const n=this.backing.next();if(n.done)return n;this.currentBucket=n.value[Symbol.iterator]()}const t=this.currentBucket.next();return t.done?(this.currentBucket=void 0,this.next()):t}}const Yh=()=>{const e=Object.create(mye);return e.referential=new Map,e.buckets=new Map,e.bucketsSize=0,e},tn=h(2,(e,t)=>{if(!1===$f(t))return e.referential.has(t)?R(e.referential.get(t)):I();const n=t[Q](),r=e.buckets.get(n);return void 0===r?I():vye(e,r,t)}),vye=(e,t,n,r=!1)=>{for(let o=0,s=t.length;o<s;o++)if(n[J](t[o][0])){const i=t[o][1];return r&&(t.splice(o,1),e.bucketsSize--),R(i)}return I()},Ds=h(2,(e,t)=>de(tn(e,t))),Pr=h(3,(e,t,n)=>{if(!1===$f(t))return e.referential.set(t,n),e;const r=t[Q](),o=e.buckets.get(r);return void 0===o?(e.buckets.set(r,[[t,n]]),e.bucketsSize++,e):(RH(e,o,t),o.push([t,n]),e.bucketsSize++,e)}),RH=(e,t,n)=>{for(let r=0,o=t.length;r<o;r++)if(n[J](t[r][0]))return t.splice(r,1),void e.bucketsSize--},Ru=Symbol.for("effect/MetricState"),OH="effect/MetricState/Counter",XI=Symbol.for(OH),AH="effect/MetricState/Frequency",KI=Symbol.for(AH),kH="effect/MetricState/Gauge",YI=Symbol.for(kH),NH="effect/MetricState/Histogram",QI=Symbol.for(NH),xH="effect/MetricState/Summary",JI=Symbol.for(xH),Qh={_A:e=>e};class bye{count;[Ru]=Qh;[XI]=XI;constructor(t){this.count=t}[Q](){return _(B(OH),se(B(this.count)),Ue(this))}[J](t){return Aye(t)&&this.count===t.count}pipe(){return z(this,arguments)}}const Eye=bD(U);class Cye{occurrences;[Ru]=Qh;[KI]=KI;constructor(t){this.occurrences=t}_hash;[Q](){return _(lt(AH),se(ua(ce(this.occurrences.entries()))),Ue(this))}[J](t){return kye(t)&&Eye(ce(this.occurrences.entries()),ce(t.occurrences.entries()))}pipe(){return z(this,arguments)}}class Sye{value;[Ru]=Qh;[YI]=YI;constructor(t){this.value=t}[Q](){return _(B(kH),se(B(this.value)),Ue(this))}[J](t){return Nye(t)&&this.value===t.value}pipe(){return z(this,arguments)}}class wye{buckets;count;min;max;sum;[Ru]=Qh;[QI]=QI;constructor(t,n,r,o,s){this.buckets=t,this.count=n,this.min=r,this.max=o,this.sum=s}[Q](){return _(B(NH),se(B(this.buckets)),se(B(this.count)),se(B(this.min)),se(B(this.max)),se(B(this.sum)),Ue(this))}[J](t){return xye(t)&&U(this.buckets,t.buckets)&&this.count===t.count&&this.min===t.min&&this.max===t.max&&this.sum===t.sum}pipe(){return z(this,arguments)}}class Dye{error;quantiles;count;min;max;sum;[Ru]=Qh;[JI]=JI;constructor(t,n,r,o,s,i){this.error=t,this.quantiles=n,this.count=r,this.min=o,this.max=s,this.sum=i}[Q](){return _(B(xH),se(B(this.error)),se(B(this.quantiles)),se(B(this.count)),se(B(this.min)),se(B(this.max)),se(B(this.sum)),Ue(this))}[J](t){return Fye(t)&&this.error===t.error&&U(this.quantiles,t.quantiles)&&this.count===t.count&&this.min===t.min&&this.max===t.max&&this.sum===t.sum}pipe(){return z(this,arguments)}}const Aye=e=>W(e,XI),kye=e=>W(e,KI),Nye=e=>W(e,YI),xye=e=>W(e,QI),Fye=e=>W(e,JI),Pye=Symbol.for("effect/MetricHook"),Lye={_In:e=>e,_Out:e=>e},Jh=e=>({[Pye]:Lye,pipe(){return z(this,arguments)},...e}),FH=BigInt(0),Hye=(e,t,n)=>{const r=n.length;if(!on(t))return[];const o=t[0],s=t.slice(1),i=PH(e,r,I(),0,o,n),a=Sr(i);return s.forEach(c=>{a.push(PH(e,r,i.value,i.consumed,c,i.rest))}),Rl(a,c=>[c.quantile,c.value])},PH=(e,t,n,r,o,s)=>{let i=e,a=t,c=n,l=r,u=o,d=s,f=e,p=t,g=n,m=r,y=o,b=s;for(;;){if(!on(d))return{quantile:u,value:I(),consumed:l,rest:[]};if(1===u)return{quantile:u,value:R(yD(d)),consumed:l+d.length,rest:[]};const C=kie(d,et=>et<=d[0]),k=u*a,V=i/2*k,$=l+C[0].length,fe=Math.abs($-k);if($<k-V)f=i,p=a,g=Yf(d),m=$,y=u,b=C[1],i=f,a=p,c=g,l=m,u=y,d=b;else{if($>k+V)return{quantile:u,value:c,consumed:l,rest:d};switch(c._tag){case"None":f=i,p=a,g=Yf(d),m=$,y=u,b=C[1],i=f,a=p,c=g,l=m,u=y,d=b;continue;case"Some":if(fe<Math.abs(k-c.value)){f=i,p=a,g=Yf(d),m=$,y=u,b=C[1],i=f,a=p,c=g,l=m,u=y,d=b;continue}return{quantile:u,value:R(c.value),consumed:l,rest:d}}}}throw new Error("BUG: MetricHook.resolveQuantiles - please report an issue at https://github.com/Effect-TS/effect/issues")},LH=Symbol.for("effect/MetricPair"),VH={_Type:e=>e},qye=(e,t)=>({[LH]:VH,metricKey:e,metricState:t,pipe(){return z(this,arguments)}}),jH=Symbol.for("effect/MetricRegistry");class zye{[jH]=jH;map=Yh();snapshot(){const t=[];for(const[n,r]of this.map)t.push(qye(n,r.get()));return t}get(t){const n=_(this.map,tn(t),ir);if(null==n){if(CH(t.keyType))return this.getCounter(t);if(W(t.keyType,HI))return this.getGauge(t);if((e=>W(e,$I))(t.keyType))return this.getFrequency(t);if(DH(t.keyType))return this.getHistogram(t);if((e=>W(e,zI))(t.keyType))return this.getSummary(t);throw new Error("BUG: MetricRegistry.get - unknown MetricKeyType - please report an issue at https://github.com/Effect-TS/effect/issues")}return n}getCounter(t){let n=_(this.map,tn(t),ir);if(null==n){const r=(e=>{let t=e.keyType.bigint?FH:0;const n=e.keyType.incremental?e.keyType.bigint?o=>o>=FH:o=>o>=0:o=>!0,r=o=>{n(o)&&(t+=o)};return Jh({get:()=>(e=>new bye(e))(t),update:r,modify:r})})(t);_(this.map,Ds(t))||_(this.map,Pr(t,r)),n=r}return n}getFrequency(t){let n=_(this.map,tn(t),ir);if(null==n){const r=(e=>{const t=new Map;for(const r of e.keyType.preregisteredWords)t.set(r,0);const n=r=>{const o=t.get(r)??0;t.set(r,o+1)};return Jh({get:()=>(e=>new Cye(e))(t),update:n,modify:n})})(t);_(this.map,Ds(t))||_(this.map,Pr(t,r)),n=r}return n}getGauge(t){let n=_(this.map,tn(t),ir);if(null==n){const r=((e,t)=>{let n=t;return Jh({get:()=>(e=>new Sye(e))(n),update:r=>{n=r},modify:r=>{n+=r}})})(0,t.keyType.bigint?BigInt(0):0);_(this.map,Ds(t))||_(this.map,Pr(t,r)),n=r}return n}getHistogram(t){let n=_(this.map,tn(t),ir);if(null==n){const r=(e=>{const t=e.keyType.boundaries.values,n=t.length,r=new Uint32Array(n+1),o=new Float32Array(n);let s=0,i=0,a=Number.MAX_VALUE,c=Number.MIN_VALUE;_(t,Qf(yi),Rl((d,f)=>{o[f]=d}));const l=d=>{let f=0,p=n;for(;f!==p;){const g=Math.floor(f+(p-f)/2);d<=o[g]?p=g:f=g,p===f+1&&(d<=o[f]?p=f:f=p)}r[f]=r[f]+1,s+=1,i+=d,d<a&&(a=d),d>c&&(c=d)},u=()=>{const d=_D(n);let f=0;for(let p=0;p<n;p++)f+=r[p],d[p]=[o[p],f];return d};return Jh({get:()=>(e=>new wye(e.buckets,e.count,e.min,e.max,e.sum))({buckets:u(),count:s,min:a,max:c,sum:i}),update:l,modify:l})})(t);_(this.map,Ds(t))||_(this.map,Pr(t,r)),n=r}return n}getSummary(t){let n=_(this.map,tn(t),ir);if(null==n){const r=(e=>{const{error:t,maxAge:n,maxSize:r,quantiles:o}=e.keyType,s=_(o,Qf(yi)),i=_D(r);let a=0,c=0,l=0,u=Number.MAX_VALUE,d=Number.MIN_VALUE;const f=g=>{const m=[];let y=0;for(;y!==r-1;){const b=i[y];if(null!=b){const[C,k]=b,V=Zf(g-C);dae(V,nae)&&V<=n&&m.push(k)}y+=1}return Hye(t,s,Qf(m,yi))},p=(g,m)=>{r>0&&(a+=1,i[a%r]=[m,g]),c+=1,l+=g,g<u&&(u=g),g>d&&(d=g)};return Jh({get:()=>(e=>new Dye(e.error,e.quantiles,e.count,e.min,e.max,e.sum))({error:t,quantiles:f(Date.now()),count:c,min:u,max:d,sum:l}),update:([g,m])=>p(g,m),modify:([g,m])=>p(g,m)})})(t);_(this.map,Ds(t))||_(this.map,Pr(t,r)),n=r}return n}}const Gye=Symbol.for("effect/Metric"),Xye={_Type:e=>e,_In:e=>e,_Out:e=>e},ZI=me(Symbol.for("effect/Metric/globalMetricRegistry"),()=>new zye),av=function(e,t,n,r){const o=Object.assign(s=>Na(s,i=>BH(o,i)),{[Gye]:Xye,keyType:e,unsafeUpdate:t,unsafeValue:n,unsafeModify:r,register(){return this.unsafeValue([]),this},pipe(){return z(this,arguments)}});return o},cv=(e,t)=>Zh(((e,t)=>new Iu(e,(e=>new tye(e?.incremental??!1,e?.bigint??!1))(t),Dl(t?.description)))(e,t)),Zh=e=>{let t;const n=new WeakMap,r=o=>{if(0===o.length)return void 0!==t||(t=ZI.get(e)),t;let s=n.get(o);return void 0!==s||(s=ZI.get(gye(e,o)),n.set(o,s)),s};return av(e.keyType,(o,s)=>r(s).update(o),o=>r(o).get(),(o,s)=>r(s).modify(o))},t0=(e,t,n)=>Zh(((e,t,n)=>new Iu(e,(e=>new iye(e))(t),Dl(n)))(e,t,n)),n0=h(3,(e,t,n)=>Qye(e,[Gy(t,n)])),Qye=h(2,(e,t)=>av(e.keyType,(n,r)=>e.unsafeUpdate(n,Tl(t,r)),n=>e.unsafeValue(Tl(t,n)),(n,r)=>e.unsafeModify(n,Tl(t,r)))),BH=h(2,(e,t)=>Ar(cu,n=>T(()=>e.unsafeUpdate(t,n)))),UH="effect/MetricBoundaries",r0=Symbol.for(UH);class Zye{values;[r0]=r0;constructor(t){this.values=t,this._hash=_(lt(UH),se(ua(this.values)))}_hash;[Q](){return this._hash}[J](t){return eve(t)&&U(this.values,t.values)}pipe(){return z(this,arguments)}}const eve=e=>W(e,r0),$H=e=>{const t=_(e,MV(qt(Number.POSITIVE_INFINITY)),Gie);return new Zye(t)},tve=e=>_(((e,t)=>{const n=Math.max(1,Math.floor(e)),r=new Array(n);for(let o=0;o<n;o++)r[o]=t(o);return r})(e.count-1,t=>e.start*Math.pow(e.factor,t)),ar,$H),Ya=h(2,(e,t)=>Ar(vI,n=>T(()=>{if(n.has(e)){const r=n.get(e);r.state.completed||(r.state.completed=!0,OM(r.result,t))}}))),Ou=Symbol.for("effect/Supervisor"),ep={_T:e=>e};class Au{underlying;value0;[Ou]=ep;constructor(t,n){this.underlying=t,this.value0=n}get value(){return this.value0}onStart(t,n,r,o){this.underlying.onStart(t,n,r,o)}onEnd(t,n){this.underlying.onEnd(t,n)}onEffect(t,n){this.underlying.onEffect(t,n)}onSuspend(t){this.underlying.onSuspend(t)}onResume(t){this.underlying.onResume(t)}map(t){return new Au(this,_(this.value,F(t)))}zip(t){return new ku(this,t)}}class ku{left;right;_tag="Zip";[Ou]=ep;constructor(t,n){this.left=t,this.right=n}get value(){return dy(this.left.value,this.right.value)}onStart(t,n,r,o){this.left.onStart(t,n,r,o),this.right.onStart(t,n,r,o)}onEnd(t,n){this.left.onEnd(t,n),this.right.onEnd(t,n)}onEffect(t,n){this.left.onEffect(t,n),this.right.onEffect(t,n)}onSuspend(t){this.left.onSuspend(t),this.right.onSuspend(t)}onResume(t){this.left.onResume(t),this.right.onResume(t)}map(t){return new Au(this,_(this.value,F(t)))}zip(t){return new ku(this,t)}}const zH=e=>W(e,Ou)&&l_(e,"Zip");class fve{effect;[Ou]=ep;constructor(t){this.effect=t}get value(){return this.effect}onStart(t,n,r,o){}onEnd(t,n){}onEffect(t,n){}onSuspend(t){}onResume(t){}map(t){return new Au(this,_(this.value,F(t)))}zip(t){return new ku(this,t)}onRun(t,n){return t()}}const lv=me("effect/Supervisor/none",()=>new fve(Z)),GH="AddSupervisor",XH="RemoveSupervisor",KH="AndThen",tp={_tag:"Empty"},uv=(e,t)=>({_tag:KH,first:e,second:t}),a0=(e,t)=>U(e,t)?lv:zH(e)?a0(e.left,t).zip(a0(e.right,t)):e,dv=e=>U(e,lv)?di():zH(e)?_(dv(e.left),$l(dv(e.right))):V_(e),vve=eo({empty:tp,patch:(e,t)=>((e,t)=>{let n=e,r=t;for(;gt(r);){const o=we(r);switch(o._tag){case"Empty":r=dt(r);break;case GH:n=n.zip(o.supervisor),r=dt(r);break;case XH:n=a0(n,o.supervisor),r=dt(r);break;case KH:r=ut(o.first)(ut(o.second)(dt(r)))}}return n})(t,qt(e)),combine:uv,diff:(e,t)=>{if(U(e,t))return tp;const n=dv(e),r=dv(t),o=_(r,_j(n),ih(tp,(i,a)=>uv(i,{_tag:GH,supervisor:a}))),s=_(n,_j(r),ih(tp,(i,a)=>uv(i,{_tag:XH,supervisor:a})));return uv(o,s)}}),bve=cv("effect_fiber_started",{incremental:!0}),YH=cv("effect_fiber_active"),Eve=cv("effect_fiber_successes",{incremental:!0}),Cve=cv("effect_fiber_failures",{incremental:!0}),Sve=n0(t0("effect_fiber_lifetimes",tve({start:.5,factor:2,count:35})),"time_unit","milliseconds"),np="Continue",Dve={_E:e=>e,_A:e=>e},fv=e=>{throw new Error(`BUG: FiberRuntime - ${Cl(e)} - please report an issue at https://github.com/Effect-TS/effect/issues`)},Ms=Symbol.for("effect/internal/fiberRuntime/YieldedOp"),Is=me("effect/internal/fiberRuntime/yieldedOpChannel",()=>({currentOp:null})),rp={[g_]:(e,t,n)=>Qt(()=>t.effect_instruction_i1(n)),OnStep:(e,t,n)=>De(De(n)),[m_]:(e,t,n)=>Qt(()=>t.effect_instruction_i2(n)),[rD]:(e,t,n)=>(e.patchRuntimeFlags(e.currentRuntimeFlags,t.patch),ms(e.currentRuntimeFlags)&&e.isInterrupted()?ye(e.getInterruptedCause()):De(n)),[__]:(e,t,n)=>(Qt(()=>t.effect_instruction_i2(n)),Qt(()=>t.effect_instruction_i0())?(e.pushStack(t),Qt(()=>t.effect_instruction_i1())):Z),[qf]:(e,t,n)=>{const r=Qt(()=>t.effect_instruction_i0.next(n));return r.done?De(r.value):(e.pushStack(t),function z2(e){if("object"==typeof e&&null!==e&&Qw in e)return e[Qw]();throw new Error(jf("yieldWrapGet"))}(r.value))}},Mve={[OI]:(e,t,n,r)=>(e.processNewInterruptSignal(r.cause),ms(t)?ye(r.cause):n),[kI]:(e,t,n,r)=>{throw new Error("It is illegal to have multiple concurrent run loops in a single fiber")},[AI]:(e,t,n,r)=>(r.onFiber(e,KU(t)),n),[NI]:(e,t,n,r)=>v(Fa(),()=>n)};class JH extends Ty{[wu]=rv;[FI]=Dve;_fiberRefs;_fiberId;_queue=new Array;_children=null;_observers=new Array;_running=!1;_stack=[];_asyncInterruptor=null;_asyncBlockingOn=null;_exitValue=null;_steps=[];_isYielding=!1;currentRuntimeFlags;currentOpCount=0;currentSupervisor;currentScheduler;currentTracer;currentSpan;currentContext;currentDefaultServices;constructor(t,n,r){if(super(),this.currentRuntimeFlags=r,this._fiberId=t,this._fiberRefs=n,nB(r)){const o=this.getFiberRef(cu);bve.unsafeUpdate(1,o),YH.unsafeUpdate(1,o)}this.refreshRefCache()}commit(){return An(this)}id(){return this._fiberId}resume(t){this.tell(Cu(t))}get status(){return this.ask((t,n)=>n)}get runtimeFlags(){return this.ask((t,n)=>n._tag===ky?t.currentRuntimeFlags:n.runtimeFlags)}scope(){return new v_e((e=this).id(),e);var e}get children(){return this.ask(t=>Array.from(t.getChildren()))}getChildren(){return null===this._children&&(this._children=new Set),this._children}getInterruptedCause(){return this.getFiberRef(kh)}fiberRefs(){return this.ask(t=>t.getFiberRefs())}ask(t){return q(()=>{const n=TM(this._fiberId);return this.tell(tv((r,o)=>{OM(n,T(()=>t(r,o)))})),kr(n)})}tell(t){this._queue.push(t),this._running||(this._running=!0,this.drainQueueLaterOnExecutor())}get await(){return to(t=>{const n=r=>t(D(r));return this.tell(tv((r,o)=>{null!==r._exitValue?n(this._exitValue):r.addObserver(n)})),T(()=>this.tell(tv((r,o)=>{r.removeObserver(n)})))},this.id())}get inheritAll(){return Ee((t,n)=>{const r=t.id(),o=t.getFiberRefs(),s=n.runtimeFlags,i=this.getFiberRefs(),a=PU(o,r,i);t.setFiberRefs(a);const c=t.getFiberRef(f3);return(e=>{const t=new It(fa);return t.effect_instruction_i0=e,t.effect_instruction_i1=void 0,t})(_(_s(s,c),lB(1),lB(16)))})}get poll(){return T(()=>Dl(this._exitValue))}unsafePoll(){return this._exitValue}interruptAsFork(t){return T(()=>this.tell(xI(cr(t))))}unsafeInterruptAsFork(t){this.tell(xI(cr(t)))}addObserver(t){null!==this._exitValue?t(this._exitValue):this._observers.push(t)}removeObserver(t){this._observers=this._observers.filter(n=>n!==t)}getFiberRefs(){return this.setFiberRef(f3,this.currentRuntimeFlags),this._fiberRefs}unsafeDeleteFiberRef(t){this._fiberRefs=WM(this._fiberRefs,t)}getFiberRef(t){return this._fiberRefs.locals.has(t)?this._fiberRefs.locals.get(t)[0][1]:t.initial}setFiberRef(t,n){this._fiberRefs=Ry(this._fiberRefs,{fiberId:this._fiberId,fiberRef:t,value:n}),this.refreshRefCache()}refreshRefCache(){this.currentDefaultServices=this.getFiberRef(Wt),this.currentTracer=this.currentDefaultServices.unsafeMap.get(Ha.key),this.currentSupervisor=this.getFiberRef(h3),this.currentScheduler=this.getFiberRef(qy),this.currentContext=this.getFiberRef(Fo),this.currentSpan=this.currentContext.unsafeMap.get(Cs.key)}setFiberRefs(t){this._fiberRefs=t,this.refreshRefCache()}addChild(t){this.getChildren().add(t)}removeChild(t){this.getChildren().delete(t)}transferChildren(t){const n=this._children;if(this._children=null,null!==n&&n.size>0)for(const r of n)null===r._exitValue&&t.add(this.currentRuntimeFlags,r)}drainQueueOnCurrentThread(){let t=!0;for(;t;){let n=np;const r=globalThis[Di];globalThis[Di]=this;try{for(;n===np;)n=0===this._queue.length?"Done":this.evaluateMessageWhileSuspended(this._queue.splice(0,1)[0])}finally{this._running=!1,globalThis[Di]=r}this._queue.length>0&&!this._running?(this._running=!0,"Yield"===n?(this.drainQueueLaterOnExecutor(),t=!1):t=!0):t=!1}}drainQueueLaterOnExecutor(){this.currentScheduler.scheduleTask(this.run,this.getFiberRef(au))}drainQueueWhileRunning(t,n){let r=n;for(;this._queue.length>0;){const o=this._queue.splice(0,1)[0];r=Mve[o._tag](this,t,r,o)}return r}isInterrupted(){return!((e=this.getFiberRef(kh))._tag===Wl||eu(e,!0,(t,n)=>{switch(n._tag){case Wl:return R(t);case zl:case Gl:case Xl:return R(!1);default:return I()}}));var e}addInterruptedCause(t){const n=this.getFiberRef(kh);this.setFiberRef(kh,ft(n,t))}processNewInterruptSignal(t){this.addInterruptedCause(t),this.sendInterruptSignalToAllChildren()}sendInterruptSignalToAllChildren(){if(null===this._children||0===this._children.size)return!1;let t=!1;for(const n of this._children)n.tell(xI(cr(this.id()))),t=!0;return t}interruptAllChildren(){if(this.sendInterruptSignalToAllChildren()){const t=this._children.values();this._children=null;let n=!1;return uy({while:()=>!n,body:()=>{const o=t.next();return o.done?T(()=>{n=!0}):Zt(o.value.await)},step:()=>{}})}return null}reportExitValue(t){if(nB(this.currentRuntimeFlags)){const n=this.getFiberRef(cu),r=this.id().startTimeMillis,o=Date.now();switch(Sve.unsafeUpdate(o-r,n),YH.unsafeUpdate(-1,n),t._tag){case qe:Eve.unsafeUpdate(1,n);break;case He:Cve.unsafeUpdate(1,n)}}if("Failure"===t._tag){const n=this.getFiberRef(ZB);!tM(t.cause)&&"Some"===n._tag&&this.log("Fiber terminated with an unhandled error",t.cause,n)}}setExitValue(t){this._exitValue=t,this.reportExitValue(t);for(let n=this._observers.length-1;n>=0;n--)this._observers[n](t);this._observers=[]}getLoggers(){return this.getFiberRef(kve)}log(t,n,r){const o=de(r)?r.value:this.getFiberRef(ude),s=this.getFiberRef(Tve);if(Fhe(s,o))return;const i=this.getFiberRef(YB),a=this.getFiberRef(Ah),c=this.getLoggers(),l=this.getFiberRefs();if(oh(c)>0){const u=Io(this.getFiberRef(Wt),Es),d=new Date(u.unsafeCurrentTimeMillis());((e,t)=>{const n=da.fiberRefs;da.fiberRefs=e;try{return t()}finally{da.fiberRefs=n}})(l,()=>{for(const f of c)f.log({fiberId:this.id(),logLevel:o,message:t,cause:n,context:l,spans:i,annotations:a,date:d})})}}evaluateMessageWhileSuspended(t){switch(t._tag){case NI:return"Yield";case OI:return this.processNewInterruptSignal(t.cause),null!==this._asyncInterruptor&&(this._asyncInterruptor(ye(t.cause)),this._asyncInterruptor=null),np;case kI:return this._asyncInterruptor=null,this._asyncBlockingOn=null,this.evaluateEffect(t.effect),np;case AI:return t.onFiber(this,null!==this._exitValue?The:((e,t)=>new Ehe(e,t))(this.currentRuntimeFlags,this._asyncBlockingOn)),np;default:return fv(t)}}evaluateEffect(t){this.currentSupervisor.onResume(this);try{let n=ms(this.currentRuntimeFlags)&&this.isInterrupted()?ye(this.getInterruptedCause()):t;for(;null!==n;){const o=this.runLoop(n);if(o===Ms){const s=Is.currentOp;Is.currentOp=null,s._op===y_?Sa(this.currentRuntimeFlags,32)?(this.tell({_tag:NI}),this.tell(Cu(ur)),n=null):n=ur:s._op===Hf&&(n=null)}else{this.currentRuntimeFlags=_(this.currentRuntimeFlags,_ue(16));const s=this.interruptAllChildren();null!==s?n=v(s,()=>o):(0===this._queue.length?this.setExitValue(o):this.tell(Cu(o)),n=null)}}}finally{this.currentSupervisor.onSuspend(this)}}start(t){if(this._running)this.tell(Cu(t));else{this._running=!0;const n=globalThis[Di];globalThis[Di]=this;try{this.evaluateEffect(t)}finally{this._running=!1,globalThis[Di]=n,this._queue.length>0&&this.drainQueueLaterOnExecutor()}}}startFork(t){this.tell(Cu(t))}patchRuntimeFlags(t,n){const r=wa(t,n);return globalThis[Di]=this,this.currentRuntimeFlags=r,r}initiateAsync(t,n){let r=!1;const o=s=>{r||(r=!0,this.tell(Cu(s)))};ms(t)&&(this._asyncInterruptor=o);try{n(o)}catch(s){o(_e(an(s)))}}pushStack(t){this._stack.push(t),"OnStep"===t._op&&this._steps.push({refs:this.getFiberRefs(),flags:this.currentRuntimeFlags})}popStack(){const t=this._stack.pop();if(t)return"OnStep"===t._op&&this._steps.pop(),t}getNextSuccessCont(){let t=this.popStack();for(;t;){if(t._op!==p_)return t;t=this.popStack()}}getNextFailCont(){let t=this.popStack();for(;t;){if(t._op!==g_&&t._op!==__&&t._op!==qf)return t;t=this.popStack()}}Tag(t){return T(()=>C_(this.currentContext,t))}Left(t){return le(t.left)}None(t){return le(new gi)}Right(t){return De(t.right)}Some(t){return De(t.value)}Micro(t){return Ch(n=>{let r=n;const o=((e,t)=>{const n=new a$(Vy.context(t?.scheduler??new sI));if(n.evaluate(e),t?.signal)if(t.signal.aborted)n.unsafeInterrupt();else{const r=()=>n.unsafeInterrupt();t.signal.addEventListener("abort",r,{once:!0}),n.addObserver(()=>t.signal.removeEventListener("abort",r))}return n})(cpe(t,this.currentContext));return o.addObserver(s=>{if("Success"===s._tag)return r(De(s.value));switch(s.cause._tag){case"Interrupt":return r(ye(cr(Ao)));case"Fail":return r(le(s.cause.error));case"Die":return r(Ra(s.cause.defect))}}),Ch(s=>{r=i=>{s(Z)},o.unsafeInterrupt()})})}Sync(t){const n=Qt(()=>t.effect_instruction_i0()),r=this.getNextSuccessCont();return void 0!==r?(r._op in rp||fv(r),rp[r._op](this,r,n)):(Is.currentOp=De(n),Ms)}[qe](t){const n=t,r=this.getNextSuccessCont();return void 0!==r?(r._op in rp||fv(r),rp[r._op](this,r,n.effect_instruction_i0)):(Is.currentOp=n,Ms)}[He](t){const n=t.effect_instruction_i0,r=this.getNextFailCont();if(void 0===r)return Is.currentOp=ye(n),Ms;switch(r._op){case p_:case m_:return ms(this.currentRuntimeFlags)&&this.isInterrupted()?ye(vB(n)):Qt(()=>r.effect_instruction_i1(n));case"OnStep":return ms(this.currentRuntimeFlags)&&this.isInterrupted()?ye(vB(n)):De(ye(n));case rD:return this.patchRuntimeFlags(this.currentRuntimeFlags,r.patch),ms(this.currentRuntimeFlags)&&this.isInterrupted()?ye(ft(n,this.getInterruptedCause())):ye(n);default:fv(r)}}[K2](t){return Qt(()=>t.effect_instruction_i0(this,KU(this.currentRuntimeFlags)))}Blocked(t){const n=this.getFiberRefs(),r=this.currentRuntimeFlags;if(this._steps.length>0){const o=[],s=this._steps[this._steps.length-1];let i=this.popStack();for(;i&&"OnStep"!==i._op;)o.push(i),i=this.popStack();this.setFiberRefs(s.refs),this.currentRuntimeFlags=s.flags;const a=Vh(s.refs,n),c=_s(s.flags,r);return De(nu(t.effect_instruction_i0,Ee(l=>{for(;o.length>0;)l.pushStack(o.pop());return l.setFiberRefs(jh(l.id(),l.getFiberRefs())(a)),l.currentRuntimeFlags=wa(c)(l.currentRuntimeFlags),t.effect_instruction_i1})))}return en(o=>v(xu((e=>{const t=new It("RunBlocked");return t.effect_instruction_i0=e,t})(t.effect_instruction_i0)),()=>o(t.effect_instruction_i1)))}RunBlocked(t){return No((e=>{let t=$D(e),n=Ca();for(;;){const[r,o]=Vce(t,[S$(),Ca()],([s,i],a)=>{const[c,l]=Xpe(a);return[nge(s,c),Nce(i,l)]});if(n=Kpe(n,r),Mt(o))return jce(n);t=o}throw new Error("BUG: BlockedRequests.flatten - please report an issue at https://github.com/Effect-TS/effect/issues")})(t.effect_instruction_i0),t=>Qa((e=>Array.from(e.map))(t),([n,r])=>{const o=new Map,s=[];for(const a of r){s.push($n(a));for(const c of a)o.set(c.request,c)}const i=s.flat();return yn(v3(n.runAll(s),i,()=>i.forEach(a=>{a.listeners.interrupted=!0})),vI,o)},!1,!1))}[fa](t){const n=t.effect_instruction_i0,r=this.currentRuntimeFlags,o=wa(r,n);if(ms(o)&&this.isInterrupted())return ye(this.getInterruptedCause());if(this.patchRuntimeFlags(this.currentRuntimeFlags,n),t.effect_instruction_i1){const s=_s(o,r);return this.pushStack(new Uue(s,t)),Qt(()=>t.effect_instruction_i1(r))}return ur}[g_](t){return this.pushStack(t),t.effect_instruction_i0}OnStep(t){return this.pushStack(t),t.effect_instruction_i0}[p_](t){return this.pushStack(t),t.effect_instruction_i0}[m_](t){return this.pushStack(t),t.effect_instruction_i0}[Hf](t){return this._asyncBlockingOn=t.effect_instruction_i1,this.initiateAsync(this.currentRuntimeFlags,t.effect_instruction_i0),Is.currentOp=t,Ms}[y_](t){return this._isYielding=!1,Is.currentOp=t,Ms}[__](t){const r=t.effect_instruction_i1;return(0,t.effect_instruction_i0)()?(this.pushStack(t),r()):ur}[qf](t){return rp[qf](this,t,void 0)}[h_](t){return Qt(()=>t.commit())}runLoop(t){let n=t;for(this.currentOpCount=0;;){if(2&this.currentRuntimeFlags&&this.currentSupervisor.onEffect(this,n),this._queue.length>0&&(n=this.drainQueueWhileRunning(this.currentRuntimeFlags,n)),!this._isYielding){this.currentOpCount+=1;const r=this.currentScheduler.shouldYield(this);if(!1!==r){this._isYielding=!0,this.currentOpCount=0;const o=n;n=v(Fa({priority:r}),()=>o)}}try{if(n=this.currentTracer.context(()=>"3.12.0"!==n[Ma]._V?Sh(`Cannot execute an Effect versioned ${n[Ma]._V} with a Runtime of version 3.12.0`):this[n._op](n),this),n===Ms){const r=Is.currentOp;return r._op===y_||r._op===Hf?Ms:(Is.currentOp=null,r._op===qe||r._op===He?r:ye(an(r)))}}catch(r){n=n!==Ms&&!W(n,"_op")||!(n._op in this)?Sh(`Not a valid effect: ${Cl(n)}`):W(r,rM)?ye(r.cause):W(r,vM)?ye(ft(an(r),cr(Ao))):Ra(r)}}}run=()=>{this.drainQueueOnCurrentThread()}}const Tve=me("effect/FiberRef/currentMinimumLogLevel",()=>zt(e$)),Ove=me(Symbol.for("effect/Logger/defaultLogger"),()=>{return e=H_e,Ka(t=>{const n=hhe(t.context,Wt);Io(n,fu).unsafe.log(e.log(t))});var e}),Ave=me(Symbol.for("effect/Logger/tracerLogger"),()=>Ka(({annotations:e,cause:t,context:n,fiberId:r,logLevel:o,message:s})=>{const i=si(gu(n,Fo),Cs);if("None"===i._tag||"ExternalSpan"===i.value._tag)return;const a=C_(gu(n,Wt),Es),c={};for(const[l,u]of e)c[l]=u;c["effect.fiberId"]=yce(r),c["effect.logLevel"]=o.label,null!==t&&"Empty"!==t._tag&&(c["effect.cause"]=vh(t,{renderErrorCause:!0})),i.value.event(Cl(Array.isArray(s)?s[0]:s),a.unsafeCurrentTimeNanos(),c)})),kve=me(Symbol.for("effect/FiberRef/currentLoggers"),()=>(e=>{const t=Wj();return iu(e,{differ:t,fork:t.empty})})(V_(Ove,Ave))),Qa=(e,t,n,r,o)=>en(s=>(e=>Ee(t=>{const r=_(t.getFiberRef(hy),sr(()=>t.scope()));return e(yn(hy,R(r)))}))(i=>Ee(a=>{let c=Array.from(e).reverse(),l=c.length;if(0===l)return Z;let u=0,d=!1;const f=o?Math.min(c.length,o):c.length,p=new Set,g=new Array,y=new Array,b=new Array,C=new Array,k=()=>{const tt=g.filter(({exit:S})=>"Failure"===S._tag).sort((S,fr)=>S.index<fr.index?-1:S.index===fr.index?0:1).map(({exit:S})=>S);return 0===tt.length&&tt.push(ur),tt},V=(tt,S=!1)=>{const fr=xa(i(tt)),kn=zve(fr,a,a.currentRuntimeFlags,Su);return a.currentScheduler.scheduleTask(()=>{S&&kn.unsafeInterruptAsFork(a.id()),kn.resume(fr)},0),kn},$=()=>{r||(l-=c.length,c=[]),d=!0,p.forEach(tt=>{tt.currentScheduler.scheduleTask(()=>{tt.unsafeInterruptAsFork(a.id())},0)})},fe=n?NB:Nt,et=V(to(tt=>{const S=(kn,Lo)=>{"Blocked"===kn._op?C.push(kn):(g.push({index:Lo,exit:kn}),"Failure"===kn._op&&!d&&$())},fr=()=>{if(c.length>0){const kn=c.pop();let Lo=u++;const Rv=()=>{const hr=c.pop();return Lo=u++,v(Fa(),()=>v(fe(s(t(hr,Lo))),tc))},tc=hr=>c.length>0&&(S(hr,Lo),c.length>0)?Rv():D(hr),Ov=v(fe(s(t(kn,Lo))),tc),Vo=V(Ov);y.push(Vo),p.add(Vo),d&&Vo.currentScheduler.scheduleTask(()=>{Vo.unsafeInterruptAsFork(a.id())},0),Vo.addObserver(hr=>{let lp;if(lp="Failure"===hr._op?hr:hr.effect_instruction_i0,b.push(Vo),p.delete(Vo),S(lp,Lo),g.length===l)tt(D(sr(ja(k(),{parallel:!0}),()=>ur)));else if(C.length+g.length===l){const V0=C.map(up=>up.effect_instruction_i0).reduce(gI);tt(D(nu(V0,Qa([sr(ja(k(),{parallel:!0}),()=>ur),...C.map(up=>up.effect_instruction_i1)],up=>up,n,!0,o))))}else fr()})}};for(let kn=0;kn<f;kn++)fr()}));return Zt(no(Or(s(An(et))),vy({onFailure:()=>{$();const tt=C.length+1,S=Math.min("number"==typeof o?o:C.length,C.length),fr=Array.from(C);return to(kn=>{const Lo=[];let Rv=0,tc=0;const Ov=(hr,lp)=>V0=>{Lo[hr]=V0,Rv++,Rv===tt&&kn(gV(ja(Lo,{parallel:!0}))),fr.length>0&&lp&&Vo()},Vo=()=>{V(fr.pop(),!0).addObserver(Ov(tc,!0)),tc++};et.addObserver(Ov(tc,!1)),tc++;for(let hr=0;hr<S;hr++)Vo()})},onSuccess:()=>Hn(b,tt=>tt.inheritAll)})))}))),xu=e=>Wve(e,Su),zve=(e,t,n,r=null)=>mv(e,t,n,r),mv=(e,t,n,r=null)=>{const o=Mj(),s=t.getFiberRefs(),i=LU(s,o),a=new JH(o,i,n),c=gu(i,Fo),l=a.currentSupervisor;return l.onStart(c,e,R(t),a),a.addObserver(d=>l.onEnd(d,a)),(null!==r?r:_(t.getFiberRef(hy),sr(()=>t.scope()))).add(n,a),a},Wve=(e,t)=>Ee((n,r)=>D(((e,t,n,r=null)=>{const o=mv(e,t,n,r);return o.resume(e),o})(e,n,r.runtimeFlags,t))),hbe=e=>iu(e,{differ:vve,fork:tp}),f3=lde(yue),h3=hbe(lv),v3=(e,t,n)=>vs(r=>v(v(xu(Aa(e)),o=>to(s=>{const i=t.map(l=>l.listeners.count),a=()=>{i.every(l=>0===l)&&t.every(l=>"Pending"===l.result.state.current._tag||!("Done"!==l.result.state.current._tag||!my(l.result.state.current.effect)||"Failure"!==l.result.state.current.effect._tag||!(e=>de(wue(e)))(l.result.state.current.effect.cause)))&&(c.forEach(l=>l()),n?.(),s((e=>v(ru,t=>_(e,ro(t))))(o)))};o.addObserver(l=>{c.forEach(u=>u()),s(l)});const c=t.map((l,u)=>{const d=f=>{i[u]=f,a()};return l.listeners.addObserver(d),()=>l.listeners.removeObserver(d)});return a(),T(()=>{c.forEach(l=>l())})})),()=>q(()=>{const o=t.flatMap(s=>s.state.completed?[]:[s]);return No(o,s=>Ya(s.request,(e=>ye(cr(e)))(r)))}))),lCe=(e,t)=>e.close(t),uCe=(e,t)=>e.fork(t),Mv=e=>(t,n)=>{const r=Mj(),o=[[Fo,[[r,e.context]]]];n?.scheduler&&o.push([qy,[[r,n.scheduler]]]);let s=mhe(e.fiberRefs,{entries:o,forkAs:r});n?.updateRefs&&(s=n.updateRefs(s,r));const i=new JH(r,s,e.runtimeFlags);let a=t;n?.scope&&(a=v(uCe(n.scope,pu),l=>Oe(((e,t)=>e.addFinalizer(()=>Zt(t)))(l,vs(u=>U(u,i.id())?Z:ro(i,u))),no(t,u=>lCe(l,u)))));const c=i.currentSupervisor;return c!==lv&&(c.onStart(e.context,a,I(),i),i.addObserver(l=>c.onEnd(l,i))),Su.add(e.runtimeFlags,i),!1===n?.immediate?i.resume(a):i.start(a),i};Error;const Iv=Symbol.for("effect/Runtime/FiberFailure"),A0=Symbol.for("effect/Runtime/FiberFailure/Cause");class pCe extends Error{[Iv];[A0];constructor(t){super(),this[Iv]=Iv,this[A0]=t;const n=MB(t);if(n.length>0){const r=n[0];this.name=r.name,this.message=r.message,this.stack=r.stack}this.name=`(FiberFailure) ${this.name}`,(void 0===this.message||0===this.message.length)&&(this.message="An error has occurred")}toJSON(){return{_id:"FiberFailure",cause:this[A0].toJSON()}}toString(){return"(FiberFailure) "+(this.stack??this.message)}[$e](){return this.toString()}}const gCe=e=>(t,n)=>uq(e)(t,n).then(r=>{switch(r._tag){case qe:return r.effect_instruction_i0;case He:throw(e=>{const t=Error.stackTraceLimit;Error.stackTraceLimit=0;const n=new pCe(e);return Error.stackTraceLimit=t,n})(r.effect_instruction_i0)}}),uq=e=>(t,n)=>new Promise(r=>{const o=(e=>{const t=e;switch(t._op){case"Failure":case"Success":return t;case"Left":return Ba(t.left);case"Right":return De(t.right);case"Some":return De(t.value);case"None":return Ba(gi())}})(t);o&&r(o);const s=Mv(e)(t);s.addObserver(i=>{r(i)}),void 0!==n?.signal&&(n.signal.aborted?s.unsafeInterruptAsFork(s.id()):n.signal.addEventListener("abort",()=>{s.unsafeInterruptAsFork(s.id())},{once:!0}))});class dq{context;runtimeFlags;fiberRefs;constructor(t,n,r){this.context=t,this.runtimeFlags=n,this.fiberRefs=r}pipe(){return z(this,arguments)}}const vCe=gCe((e=>new dq(e.context,e.runtimeFlags,e.fiberRefs))({context:pa(),runtimeFlags:tB(1,32,4),fiberRefs:_he()}));Symbol;Symbol;const mSe=e=>{let t,n;return"function"==typeof e?t=e:(t=e.try,n=e.catch),to(t.length>=1?(r,o)=>{try{t(o).then(s=>r(De(s)),s=>r(n?Rr(()=>n(s)):le(new Va(s))))}catch(s){r(n?Rr(()=>n(s)):le(new Va(s)))}}:r=>{try{t().then(o=>r(De(o)),o=>r(n?Rr(()=>n(o)):le(new Va(o))))}catch(o){r(n?Rr(()=>n(o)):le(new Va(o)))}})},_Se=vCe;let bSe=(()=>{class e{constructor(n){this.http=n,this.genresUrl="api/genres"}getGenres(){const n=mSe({try:()=>function vSe(e,t){const n="object"==typeof t;return new Promise((r,o)=>{let i,s=!1;e.subscribe({next:a=>{i=a,s=!0},error:o,complete:()=>{s?r(i):n?r(t.defaultValue):o(new hf)}})})}(this.http.get(this.genresUrl)),catch:()=>new Error("Can't get genres")});return _Se(n)}static{this.\u0275fac=function(r){return new(r||e)(j(fL))}}static{this.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),ESe=(()=>{class e{constructor(n){this.loader=n}intercept(n,r){return this.loader.start(),r.handle(n).pipe(cl(()=>this.loader.complete()))}static{this.\u0275fac=function(r){return new(r||e)(j(US))}}static{this.\u0275prov=L({token:e,factory:e.\u0275fac})}}return e})();const CSe=[{path:"",component:Zoe},{path:"add-beat",component:(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=$o({type:e,selectors:[["app-beat-creator"]],standalone:!0,features:[Yi],decls:2,vars:0,template:function(r,o){1&r&&(Ie(0,"p"),yr(1,"Welcome to the beat creator, Let us make some music ! \u{1f3b6}\u{1f3b6}"),Fe())}})}}return e})()}];let SSe=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=io({type:e,bootstrap:[rre]})}static{this.\u0275inj=Vr({providers:[{provide:AL,useClass:bSe},{provide:gL,useClass:ESe,multi:!0},Xne(CSe)],imports:[aZ,Ore,xee,P2,Wre.forRoot(Gre,{dataEncapsulation:!1})]})}}return e})();sZ().bootstrapModule(SSe).catch(e=>console.error(e))}},Vu=>{Vu(Vu.s=928)}]);