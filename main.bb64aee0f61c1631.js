"use strict";(self.webpackChunkDrumBeatRepo=self.webpackChunkDrumBeatRepo||[]).push([[792],{6:()=>{function Ll(e,t,n,r,o,s,i){try{var a=e[s](i),c=a.value}catch(l){return void n(l)}a.done?t(c):Promise.resolve(c).then(r,o)}function zo(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var s=e.apply(t,n);function i(c){Ll(s,r,o,i,a,"next",c)}function a(c){Ll(s,r,o,i,a,"throw",c)}i(void 0)})}}let at=null,Nd=1;const Vs=Symbol("SIGNAL");function ie(e){const t=at;return at=e,t}function HC(e){if((!Bl(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==Nd)){if(!e.producerMustRecompute(e)&&!I_(e))return e.dirty=!1,void(e.lastCleanEpoch=Nd);e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=Nd}}function I_(e){aa(e);for(let t=0;t<e.producerNode.length;t++){const n=e.producerNode[t],r=e.producerLastReadVersion[t];if(r!==n.version||(HC(n),r!==n.version))return!0}return!1}function Fd(e,t){if(function KC(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}(e),aa(e),1===e.liveConsumerNode.length)for(let r=0;r<e.producerNode.length;r++)Fd(e.producerNode[r],e.producerIndexOfThis[r]);const n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){const r=e.liveConsumerIndexOfThis[t],o=e.liveConsumerNode[t];aa(o),o.producerIndexOfThis[r]=t}}function Bl(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function aa(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}let YC=null;function st(e){return"function"==typeof e}function T_(e){const n=e(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const k_=T_(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,o)=>`${o+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function Pd(e,t){if(e){const n=e.indexOf(t);0<=n&&e.splice(n,1)}}class Xn{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(st(r))try{r()}catch(s){t=s instanceof k_?s.errors:[s]}const{_finalizers:o}=this;if(o){this._finalizers=null;for(const s of o)try{tI(s)}catch(i){t=t??[],i instanceof k_?t=[...t,...i.errors]:t.push(i)}}if(t)throw new k_(t)}}add(t){var n;if(t&&t!==this)if(this.closed)tI(t);else{if(t instanceof Xn){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}}_hasParent(t){const{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){const{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&Pd(n,t)}remove(t){const{_finalizers:n}=this;n&&Pd(n,t),t instanceof Xn&&t._removeParent(this)}}Xn.EMPTY=(()=>{const e=new Xn;return e.closed=!0,e})();const ZC=Xn.EMPTY;function eI(e){return e instanceof Xn||e&&"closed"in e&&st(e.remove)&&st(e.add)&&st(e.unsubscribe)}function tI(e){st(e)?e():e.unsubscribe()}const Hs={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Ld={setTimeout(e,t,...n){const{delegate:r}=Ld;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){const{delegate:t}=Ld;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function nI(e){Ld.setTimeout(()=>{const{onUnhandledError:t}=Hs;if(!t)throw e;t(e)})}function O_(){}const $V=x_("C",void 0,void 0);function x_(e,t,n){return{kind:e,value:t,error:n}}let Us=null;function jd(e){if(Hs.useDeprecatedSynchronousErrorHandling){const t=!Us;if(t&&(Us={errorThrown:!1,error:null}),e(),t){const{errorThrown:n,error:r}=Us;if(Us=null,n)throw r}}else e()}class R_ extends Xn{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,eI(t)&&t.add(this)):this.destination=YV}static create(t,n,r){return new Vl(t,n,r)}next(t){this.isStopped?N_(function WV(e){return x_("N",e,void 0)}(t),this):this._next(t)}error(t){this.isStopped?N_(function qV(e){return x_("E",void 0,e)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?N_($V,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const XV=Function.prototype.bind;function A_(e,t){return XV.call(e,t)}class GV{constructor(t){this.partialObserver=t}next(t){const{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){Bd(r)}}error(t){const{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){Bd(r)}else Bd(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){Bd(n)}}}class Vl extends R_{constructor(t,n,r){let o;if(super(),st(t)||!t)o={next:t??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Hs.useDeprecatedNextContext?(s=Object.create(t),s.unsubscribe=()=>this.unsubscribe(),o={next:t.next&&A_(t.next,s),error:t.error&&A_(t.error,s),complete:t.complete&&A_(t.complete,s)}):o=t}this.destination=new GV(o)}}function Bd(e){Hs.useDeprecatedSynchronousErrorHandling?function zV(e){Hs.useDeprecatedSynchronousErrorHandling&&Us&&(Us.errorThrown=!0,Us.error=e)}(e):nI(e)}function N_(e,t){const{onStoppedNotification:n}=Hs;n&&Ld.setTimeout(()=>n(e,t))}const YV={closed:!0,next:O_,error:function KV(e){throw e},complete:O_},F_="function"==typeof Symbol&&Symbol.observable||"@@observable";function ca(e){return e}let ct=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,o){const s=function JV(e){return e&&e instanceof R_||function QV(e){return e&&st(e.next)&&st(e.error)&&st(e.complete)}(e)&&eI(e)}(n)?n:new Vl(n,r,o);return jd(()=>{const{operator:i,source:a}=this;s.add(i?i.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=oI(r))((o,s)=>{const i=new Vl({next:a=>{try{n(a)}catch(c){s(c),i.unsubscribe()}},error:s,complete:o});this.subscribe(i)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[F_](){return this}pipe(...n){return function rI(e){return 0===e.length?ca:1===e.length?e[0]:function(n){return e.reduce((r,o)=>o(r),n)}}(n)(this)}toPromise(n){return new(n=oI(n))((r,o)=>{let s;this.subscribe(i=>s=i,i=>o(i),()=>r(s))})}}return e.create=t=>new e(t),e})();function oI(e){var t;return null!==(t=e??Hs.Promise)&&void 0!==t?t:Promise}const ZV=T_(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let pr=(()=>{class e extends ct{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new sI(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new ZV}next(n){jd(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){jd(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){jd(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:o,observers:s}=this;return r||o?ZC:(this.currentObservers=null,s.push(n),new Xn(()=>{this.currentObservers=null,Pd(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:o,isStopped:s}=this;r?n.error(o):s&&n.complete()}asObservable(){const n=new ct;return n.source=this,n}}return e.create=(t,n)=>new sI(t,n),e})();class sI extends pr{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,t)}error(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,t)}complete(){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===n||n.call(t)}_subscribe(t){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(t))&&void 0!==r?r:ZC}}class P_ extends pr{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){const{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}function an(e){return t=>{if(function eH(e){return st(e?.lift)}(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function mn(e,t,n,r,o){return new tH(e,t,n,r,o)}class tH extends R_{constructor(t,n,r,o,s,i){super(t),this.onFinalize=s,this.shouldUnsubscribe=i,this._next=n?function(a){try{n(a)}catch(c){t.error(c)}}:super._next,this._error=o?function(a){try{o(a)}catch(c){t.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function cn(e,t){return an((n,r)=>{let o=0;n.subscribe(mn(r,s=>{r.next(e.call(t,s,o++))}))})}class A extends Error{constructor(t,n){super(function la(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}(t,n)),this.code=t}}function no(e){return{toString:e}.toString()}const fa="__parameters__";function ha(e,t,n){return no(()=>{const r=function L_(e){return function(...n){if(e){const r=e(...n);for(const o in r)this[o]=r[o]}}}(t);function o(...s){if(this instanceof o)return r.apply(this,s),this;const i=new o(...s);return a.annotation=i,a;function a(c,l,u){const f=c.hasOwnProperty(fa)?c[fa]:Object.defineProperty(c,fa,{value:[]})[fa];for(;f.length<=u;)f.push(null);return(f[u]=f[u]||[]).push(i),c}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=e,o.annotationCls=o,o})}const Ce=globalThis;function Te(e){for(let t in e)if(e[t]===Te)return t;throw Error("Could not find renamed property on target object.")}function nH(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function Dt(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(Dt).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function j_(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const rH=Te({__forward_ref__:Te});function B_(e){return e.__forward_ref__=B_,e.toString=function(){return Dt(this())},e}function X(e){return Hd(e)?e():e}function Hd(e){return"function"==typeof e&&e.hasOwnProperty(rH)&&e.__forward_ref__===B_}function W(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function ro(e){return{providers:e.providers||[],imports:e.imports||[]}}function Ud(e){return uI(e,qd)||uI(e,fI)}function uI(e,t){return e.hasOwnProperty(t)?e[t]:null}function $d(e){return e&&(e.hasOwnProperty(V_)||e.hasOwnProperty(cH))?e[V_]:null}const qd=Te({\u0275prov:Te}),V_=Te({\u0275inj:Te}),fI=Te({ngInjectableDef:Te}),cH=Te({ngInjectorDef:Te});class P{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=W({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function W_(e){return e&&!!e.\u0275providers}const Hl=Te({\u0275cmp:Te}),z_=Te({\u0275dir:Te}),X_=Te({\u0275pipe:Te}),hI=Te({\u0275mod:Te}),oo=Te({\u0275fac:Te}),Ul=Te({__NG_ELEMENT_ID__:Te}),pI=Te({__NG_ENV_ID__:Te});function Z(e){return"string"==typeof e?e:null==e?"":String(e)}function G_(e,t){throw new A(-201,!1)}var pe=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(pe||{});let K_;function gI(){return K_}function _n(e){const t=K_;return K_=e,t}function mI(e,t,n){const r=Ud(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&pe.Optional?null:void 0!==t?t:void G_()}const $l={},Y_="__NG_DI_FLAG__",Wd="ngTempTokenPath",pH=/\n/gm,_I="__source";let pa;function Go(e){const t=pa;return pa=e,t}function _H(e,t=pe.Default){if(void 0===pa)throw new A(-203,!1);return null===pa?mI(e,void 0,t):pa.get(e,t&pe.Optional?null:void 0,t)}function L(e,t=pe.Default){return(gI()||_H)(X(e),t)}function U(e,t=pe.Default){return L(e,zd(t))}function zd(e){return typeof e>"u"||"number"==typeof e?e:(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Q_(e){const t=[];for(let n=0;n<e.length;n++){const r=X(e[n]);if(Array.isArray(r)){if(0===r.length)throw new A(900,!1);let o,s=pe.Default;for(let i=0;i<r.length;i++){const a=r[i],c=yH(a);"number"==typeof c?-1===c?o=a.token:s|=c:o=a}t.push(L(o,s))}else t.push(L(r))}return t}function ql(e,t){return e[Y_]=t,e.prototype[Y_]=t,e}function yH(e){return e[Y_]}const J_=ql(ha("Optional"),8),Z_=ql(ha("SkipSelf"),4);function $s(e,t){return e.hasOwnProperty(oo)?e[oo]:null}function ga(e,t){e.forEach(n=>Array.isArray(n)?ga(n,t):t(n))}function bI(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Xd(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function xn(e,t,n){let r=ma(e,t);return r>=0?e[1|r]=n:(r=~r,function vI(e,t,n,r){let o=e.length;if(o==t)e.push(n,r);else if(1===o)e.push(r,e[0]),e[0]=n;else{for(o--,e.push(e[o-1],e[o]);o>t;)e[o]=e[o-2],o--;e[t]=n,e[t+1]=r}}(e,r,t,n)),r}function ty(e,t){const n=ma(e,t);if(n>=0)return e[1|n]}function ma(e,t){return function EI(e,t,n){let r=0,o=e.length>>n;for(;o!==r;){const s=r+(o-r>>1),i=e[s<<n];if(t===i)return s<<n;i>t?o=s:r=s+1}return~(o<<n)}(e,t,1)}const xr={},_e=[],_a=new P(""),wI=new P("",-1),ny=new P("");class Kd{get(t,n=$l){if(n===$l){const r=new Error(`NullInjectorError: No provider for ${Dt(t)}!`);throw r.name="NullInjectorError",r}return n}}var Yd=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Yd||{}),gr=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(gr||{}),Ko=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(Ko||{});function CH(e,t,n){let r=e.length;for(;;){const o=e.indexOf(t,n);if(-1===o)return o;if(0===o||e.charCodeAt(o-1)<=32){const s=t.length;if(o+s===r||e.charCodeAt(o+s)<=32)return o}n=o+1}}function ry(e,t,n){let r=0;for(;r<n.length;){const o=n[r];if("number"==typeof o){if(0!==o)break;r++;const s=n[r++],i=n[r++],a=n[r++];e.setAttribute(t,i,a,s)}else{const s=o,i=n[++r];DI(s)?e.setProperty(t,s,i):e.setAttribute(t,s,i),r++}}return r}function SI(e){return 3===e||4===e||6===e}function DI(e){return 64===e.charCodeAt(0)}function Wl(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const o=t[r];"number"==typeof o?n=o:0===n||CI(e,n,o,null,-1===n||2===n?t[++r]:null)}}return e}function CI(e,t,n,r,o){let s=0,i=e.length;if(-1===t)i=-1;else for(;s<e.length;){const a=e[s++];if("number"==typeof a){if(a===t){i=-1;break}if(a>t){i=s-1;break}}}for(;s<e.length;){const a=e[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==o&&(e[s+1]=o));if(r===e[s+1])return void(e[s+2]=o)}s++,null!==r&&s++,null!==o&&s++}-1!==i&&(e.splice(i,0,t),s=i+1),e.splice(s++,0,n),null!==r&&e.splice(s++,0,r),null!==o&&e.splice(s++,0,o)}const II="ng-template";function IH(e,t,n,r){let o=0;if(r){for(;o<t.length&&"string"==typeof t[o];o+=2)if("class"===t[o]&&-1!==CH(t[o+1].toLowerCase(),n,0))return!0}else if(oy(e))return!1;if(o=t.indexOf(1,o),o>-1){let s;for(;++o<t.length&&"string"==typeof(s=t[o]);)if(s.toLowerCase()===n)return!0}return!1}function oy(e){return 4===e.type&&e.value!==II}function MH(e,t,n){return t===(4!==e.type||n?e.value:II)}function TH(e,t,n){let r=4;const o=e.attrs,s=null!==o?function xH(e){for(let t=0;t<e.length;t++)if(SI(e[t]))return t;return e.length}(o):0;let i=!1;for(let a=0;a<t.length;a++){const c=t[a];if("number"!=typeof c){if(!i)if(4&r){if(r=2|1&r,""!==c&&!MH(e,c,n)||""===c&&1===t.length){if(mr(r))return!1;i=!0}}else if(8&r){if(null===o||!IH(e,o,c,n)){if(mr(r))return!1;i=!0}}else{const l=t[++a],u=kH(c,o,oy(e),n);if(-1===u){if(mr(r))return!1;i=!0;continue}if(""!==l){let f;if(f=u>s?"":o[u+1].toLowerCase(),2&r&&l!==f){if(mr(r))return!1;i=!0}}}}else{if(!i&&!mr(r)&&!mr(c))return!1;if(i&&mr(c))continue;i=!1,r=c|1&r}}return mr(r)||i}function mr(e){return!(1&e)}function kH(e,t,n,r){if(null===t)return-1;let o=0;if(r||!n){let s=!1;for(;o<t.length;){const i=t[o];if(i===e)return o;if(3===i||6===i)s=!0;else{if(1===i||2===i){let a=t[++o];for(;"string"==typeof a;)a=t[++o];continue}if(4===i)break;if(0===i){o+=4;continue}}o+=s?1:2}return-1}return function RH(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function MI(e,t,n=!1){for(let r=0;r<t.length;r++)if(TH(e,t[r],n))return!0;return!1}function TI(e,t){return e?":not("+t.trim()+")":t}function NH(e){let t=e[0],n=1,r=2,o="",s=!1;for(;n<e.length;){let i=e[n];if("string"==typeof i)if(2&r){const a=e[++n];o+="["+i+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?o+="."+i:4&r&&(o+=" "+i);else""!==o&&!mr(i)&&(t+=TI(s,o),o=""),r=i,s=s||!mr(r);n++}return""!==o&&(t+=TI(s,o)),t}function zl(e){return no(()=>{const t=OI(e),n={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Yd.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||gr.Emulated,styles:e.styles||_e,_:null,schemas:e.schemas||null,tView:null,id:""};xI(n);const r=e.dependencies;return n.directiveDefs=Qd(r,!1),n.pipeDefs=Qd(r,!0),n.id=function VH(e){let t=0;const n=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const o of n)t=Math.imul(31,t)+o.charCodeAt(0)|0;return t+=2147483648,"c"+t}(n),n})}function LH(e){return ce(e)||Ct(e)}function jH(e){return null!==e}function Yo(e){return no(()=>({type:e.type,bootstrap:e.bootstrap||_e,declarations:e.declarations||_e,imports:e.imports||_e,exports:e.exports||_e,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function kI(e,t){if(null==e)return xr;const n={};for(const r in e)if(e.hasOwnProperty(r)){const o=e[r];let s,i,a=Ko.None;Array.isArray(o)?(a=o[0],s=o[1],i=o[2]??s):(s=o,i=o),t?(n[s]=a!==Ko.None?[r,a]:r,t[s]=i):n[s]=r}return n}function Gn(e){return no(()=>{const t=OI(e);return xI(t),t})}function bn(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function ce(e){return e[Hl]||null}function Ct(e){return e[z_]||null}function Ht(e){return e[X_]||null}function OI(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||xr,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||_e,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:kI(e.inputs,t),outputs:kI(e.outputs),debugInfo:null}}function xI(e){e.features?.forEach(t=>t(e))}function Qd(e,t){if(!e)return null;const n=t?Ht:LH;return()=>("function"==typeof e?e():e).map(r=>n(r)).filter(jH)}function HH(...e){return{\u0275providers:sy(0,e),\u0275fromNgModule:!0}}function sy(e,...t){const n=[],r=new Set;let o;const s=i=>{n.push(i)};return ga(t,i=>{const a=i;Jd(a,s,[],r)&&(o||=[],o.push(a))}),void 0!==o&&RI(o,s),n}function RI(e,t){for(let n=0;n<e.length;n++){const{ngModule:r,providers:o}=e[n];iy(o,s=>{t(s,r)})}}function Jd(e,t,n,r){if(!(e=X(e)))return!1;let o=null,s=$d(e);const i=!s&&ce(e);if(s||i){if(i&&!i.standalone)return!1;o=e}else{const c=e.ngModule;if(s=$d(c),!s)return!1;o=c}const a=r.has(o);if(i){if(a)return!1;if(r.add(o),i.dependencies){const c="function"==typeof i.dependencies?i.dependencies():i.dependencies;for(const l of c)Jd(l,t,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let l;r.add(o);try{ga(s.imports,u=>{Jd(u,t,n,r)&&(l||=[],l.push(u))})}finally{}void 0!==l&&RI(l,t)}if(!a){const l=$s(o)||(()=>new o);t({provide:o,useFactory:l,deps:_e},o),t({provide:ny,useValue:o,multi:!0},o),t({provide:_a,useValue:()=>L(o),multi:!0},o)}const c=s.providers;if(null!=c&&!a){const l=e;iy(c,u=>{t(u,l)})}}}return o!==e&&void 0!==e.providers}function iy(e,t){for(let n of e)W_(n)&&(n=n.\u0275providers),Array.isArray(n)?iy(n,t):t(n)}const UH=Te({provide:String,useValue:Te});function ay(e){return null!==e&&"object"==typeof e&&UH in e}function Ws(e){return"function"==typeof e}const cy=new P(""),Zd={},qH={};let ly;function eh(){return void 0===ly&&(ly=new Kd),ly}class _r{}class ya extends _r{get destroyed(){return this._destroyed}constructor(t,n,r,o){super(),this.parent=n,this.source=r,this.scopes=o,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,fy(t,i=>this.processProvider(i)),this.records.set(wI,ba(void 0,this)),o.has("environment")&&this.records.set(_r,ba(void 0,this));const s=this.records.get(cy);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(ny,_e,pe.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const t=ie(null);try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ie(t)}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const n=Go(this),r=_n(void 0);try{return t()}finally{Go(n),_n(r)}}get(t,n=$l,r=pe.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(pI))return t[pI](this);r=zd(r);const s=Go(this),i=_n(void 0);try{if(!(r&pe.SkipSelf)){let c=this.records.get(t);if(void 0===c){const l=function KH(e){return"function"==typeof e||"object"==typeof e&&e instanceof P}(t)&&Ud(t);c=l&&this.injectableDefInScope(l)?ba(uy(t),Zd):null,this.records.set(t,c)}if(null!=c)return this.hydrate(t,c)}return(r&pe.Self?eh():this.parent).get(t,n=r&pe.Optional&&n===$l?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[Wd]=a[Wd]||[]).unshift(Dt(t)),s)throw a;return function bH(e,t,n,r){const o=e[Wd];throw t[_I]&&o.unshift(t[_I]),e.message=function vH(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let o=Dt(t);if(Array.isArray(t))o=t.map(Dt).join(" -> ");else if("object"==typeof t){let s=[];for(let i in t)if(t.hasOwnProperty(i)){let a=t[i];s.push(i+":"+("string"==typeof a?JSON.stringify(a):Dt(a)))}o=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${o}]: ${e.replace(pH,"\n  ")}`}("\n"+e.message,o,n,r),e.ngTokenPath=o,e[Wd]=null,e}(a,t,"R3InjectorError",this.source)}throw a}finally{_n(i),Go(s)}}resolveInjectorInitializers(){const t=ie(null),n=Go(this),r=_n(void 0);try{const s=this.get(_a,_e,pe.Self);for(const i of s)i()}finally{Go(n),_n(r),ie(t)}}toString(){const t=[],n=this.records;for(const r of n.keys())t.push(Dt(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new A(205,!1)}processProvider(t){let n=Ws(t=X(t))?t:X(t&&t.provide);const r=function zH(e){return ay(e)?ba(void 0,e.useValue):ba(function FI(e,t,n){let r;if(Ws(e)){const o=X(e);return $s(o)||uy(o)}if(ay(e))r=()=>X(e.useValue);else if(function NI(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...Q_(e.deps||[]));else if(function AI(e){return!(!e||!e.useExisting)}(e))r=()=>L(X(e.useExisting));else{const o=X(e&&(e.useClass||e.provide));if(!function XH(e){return!!e.deps}(e))return $s(o)||uy(o);r=()=>new o(...Q_(e.deps))}return r}(e),Zd)}(t);if(!Ws(t)&&!0===t.multi){let o=this.records.get(n);o||(o=ba(void 0,Zd,!0),o.factory=()=>Q_(o.multi),this.records.set(n,o)),n=t,o.multi.push(t)}this.records.set(n,r)}hydrate(t,n){const r=ie(null);try{return n.value===Zd&&(n.value=qH,n.value=n.factory()),"object"==typeof n.value&&n.value&&function GH(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{ie(r)}}injectableDefInScope(t){if(!t.providedIn)return!1;const n=X(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){const n=this._onDestroyHooks.indexOf(t);-1!==n&&this._onDestroyHooks.splice(n,1)}}function uy(e){const t=Ud(e),n=null!==t?t.factory:$s(e);if(null!==n)return n;if(e instanceof P)throw new A(204,!1);if(e instanceof Function)return function WH(e){if(e.length>0)throw new A(204,!1);const n=function aH(e){return e&&(e[qd]||e[fI])||null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new A(204,!1)}function ba(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function fy(e,t){for(const n of e)Array.isArray(n)?fy(n,t):n&&W_(n)?fy(n.\u0275providers,t):t(n)}const Ke=0,x=1,B=2,lt=3,yr=4,Gt=5,Rn=6,Ea=7,Le=8,_t=9,br=10,G=11,Kl=12,jI=13,wa=14,tt=15,Yl=16,Sa=17,so=18,Ql=19,BI=20,Qo=21,rh=22,zs=23,ee=25,py=1,Rr=7,Da=9,ut=10;var gy=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(gy||{});function Kt(e){return Array.isArray(e)&&"object"==typeof e[py]}function Yt(e){return Array.isArray(e)&&!0===e[py]}function my(e){return!!(4&e.flags)}function Xs(e){return e.componentOffset>-1}function sh(e){return!(1&~e.flags)}function vr(e){return!!e.template}function _y(e){return!!(512&e[B])}class c3{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function $I(e,t,n,r){null!==t?t.applyValueToInputSignal(t,r):e[n]=r}function qI(e){return e.type.prototype.ngOnChanges&&(e.setInput=u3),l3}function l3(){const e=zI(this),t=e?.current;if(t){const n=e.previous;if(n===xr)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function u3(e,t,n,r,o){const s=this.declaredInputs[r],i=zI(e)||function f3(e,t){return e[WI]=t}(e,{previous:xr,current:null}),a=i.current||(i.current={}),c=i.previous,l=c[s];a[s]=new c3(l&&l.currentValue,n,c===xr),$I(e,t,o,n)}const WI="__ngSimpleChanges__";function zI(e){return e[WI]||null}const Ar=function(e,t,n){};let KI=!1;function Oe(e){for(;Array.isArray(e);)e=e[Ke];return e}function Zl(e,t){return Oe(t[e])}function ln(e,t){return Oe(t[e.index])}function eu(e,t){return e.data[t]}function An(e,t){const n=t[e];return Kt(n)?n:n[Ke]}function wy(e){return!(128&~e[B])}function Nr(e,t){return null==t?null:e[t]}function YI(e){e[Sa]=0}function _3(e){1024&e[B]||(e[B]|=1024,wy(e)&&tu(e))}function Sy(e){return!!(9216&e[B]||e[zs]?.dirty)}function Dy(e){e[br].changeDetectionScheduler?.notify(1),Sy(e)?tu(e):64&e[B]&&(function h3(){return KI}()?(e[B]|=1024,tu(e)):e[br].changeDetectionScheduler?.notify())}function tu(e){e[br].changeDetectionScheduler?.notify();let t=Gs(e);for(;null!==t&&!(8192&t[B])&&(t[B]|=8192,wy(t));)t=Gs(t)}function ah(e,t){if(!(256&~e[B]))throw new A(911,!1);null===e[Qo]&&(e[Qo]=[]),e[Qo].push(t)}function Gs(e){const t=e[lt];return Yt(t)?t[lt]:t}const K={lFrame:iM(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function ZI(){return K.bindingsEnabled}function D(){return K.lFrame.lView}function ue(){return K.lFrame.tView}function Iy(e){return K.lFrame.contextLView=e,e[Le]}function My(e){return K.lFrame.contextLView=null,e}function ke(){let e=eM();for(;null!==e&&64===e.type;)e=e.parent;return e}function eM(){return K.lFrame.currentTNode}function Fr(e,t){const n=K.lFrame;n.currentTNode=e,n.isParent=t}function Ty(){return K.lFrame.isParent}function ky(){K.lFrame.isParent=!1}function un(){const e=K.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function Er(){return K.lFrame.bindingIndex++}function T3(e,t){const n=K.lFrame;n.bindingIndex=n.bindingRootIndex=e,Oy(t)}function Oy(e){K.lFrame.currentDirectiveIndex=e}function ch(e){K.lFrame.currentQueryIndex=e}function O3(e){const t=e[x];return 2===t.type?t.declTNode:1===t.type?e[Gt]:null}function oM(e,t,n){if(n&pe.SkipSelf){let o=t,s=e;for(;!(o=o.parent,null!==o||n&pe.Host||(o=O3(s),null===o||(s=s[wa],10&o.type))););if(null===o)return!1;t=o,e=s}const r=K.lFrame=sM();return r.currentTNode=t,r.lView=e,!0}function Ay(e){const t=sM(),n=e[x];K.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function sM(){const e=K.lFrame,t=null===e?null:e.child;return null===t?iM(e):t}function iM(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function aM(){const e=K.lFrame;return K.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const cM=aM;function Ny(){const e=aM();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Qt(){return K.lFrame.selectedIndex}function Ks(e){K.lFrame.selectedIndex=e}function je(){const e=K.lFrame;return eu(e.tView,e.selectedIndex)}let uM=!0;function ru(){return uM}function Pr(e){uM=e}function lh(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const s=e.data[n].type.prototype,{ngAfterContentInit:i,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=s;i&&(e.contentHooks??=[]).push(-n,i),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),c&&(e.viewHooks??=[]).push(-n,c),l&&((e.viewHooks??=[]).push(n,l),(e.viewCheckHooks??=[]).push(n,l)),null!=u&&(e.destroyHooks??=[]).push(n,u)}}function uh(e,t,n){fM(e,t,3,n)}function fh(e,t,n,r){(3&e[B])===n&&fM(e,t,n,r)}function Fy(e,t){let n=e[B];(3&n)===t&&(n&=16383,n+=1,e[B]=n)}function fM(e,t,n,r){const s=r??-1,i=t.length-1;let a=0;for(let c=void 0!==r?65535&e[Sa]:0;c<i;c++)if("number"==typeof t[c+1]){if(a=t[c],null!=r&&a>=r)break}else t[c]<0&&(e[Sa]+=65536),(a<s||-1==s)&&(L3(e,n,t,c),e[Sa]=(4294901760&e[Sa])+c+2),c++}function dM(e,t){Ar(4,e,t);const n=ie(null);try{t.call(e)}finally{ie(n),Ar(5,e,t)}}function L3(e,t,n,r){const o=n[r]<0,s=n[r+1],a=e[o?-n[r]:n[r]];o?e[B]>>14<e[Sa]>>16&&(3&e[B])===t&&(e[B]+=16384,dM(a,s)):dM(a,s)}const Ma=-1;class ou{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function Ly(e){return e!==Ma}function su(e){return 32767&e}function iu(e,t){let n=function U3(e){return e>>16}(e),r=t;for(;n>0;)r=r[wa],n--;return r}let jy=!0;function dh(e){const t=jy;return jy=e,t}const hM=255,pM=5;let $3=0;const Lr={};function hh(e,t){const n=gM(e,t);if(-1!==n)return n;const r=t[x];r.firstCreatePass&&(e.injectorIndex=t.length,By(r.data,e),By(t,null),By(r.blueprint,null));const o=ph(e,t),s=e.injectorIndex;if(Ly(o)){const i=su(o),a=iu(o,t),c=a[x].data;for(let l=0;l<8;l++)t[s+l]=a[i+l]|c[i+l]}return t[s+8]=o,s}function By(e,t){e.push(0,0,0,0,0,0,0,0,t)}function gM(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function ph(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,o=t;for(;null!==o;){if(r=SM(o),null===r)return Ma;if(n++,o=o[wa],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Ma}function Vy(e,t,n){!function q3(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Ul)&&(r=n[Ul]),null==r&&(r=n[Ul]=$3++);const o=r&hM;t.data[e+(o>>pM)]|=1<<o}(e,t,n)}function mM(e,t,n){if(n&pe.Optional||void 0!==e)return e;G_()}function _M(e,t,n,r){if(n&pe.Optional&&void 0===r&&(r=null),!(n&(pe.Self|pe.Host))){const o=e[_t],s=_n(void 0);try{return o?o.get(t,r,n&pe.Optional):mI(t,r,n&pe.Optional)}finally{_n(s)}}return mM(r,0,n)}function yM(e,t,n,r=pe.Default,o){if(null!==e){if(2048&t[B]&&!(r&pe.Self)){const i=function K3(e,t,n,r,o){let s=e,i=t;for(;null!==s&&null!==i&&2048&i[B]&&!(512&i[B]);){const a=bM(s,i,n,r|pe.Self,Lr);if(a!==Lr)return a;let c=s.parent;if(!c){const l=i[BI];if(l){const u=l.get(n,Lr,r);if(u!==Lr)return u}c=SM(i),i=i[wa]}s=c}return o}(e,t,n,r,Lr);if(i!==Lr)return i}const s=bM(e,t,n,r,Lr);if(s!==Lr)return s}return _M(t,n,r,o)}function bM(e,t,n,r,o){const s=function X3(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Ul)?e[Ul]:void 0;return"number"==typeof t?t>=0?t&hM:G3:t}(n);if("function"==typeof s){if(!oM(t,e,r))return r&pe.Host?mM(o,0,r):_M(t,n,r,o);try{let i;if(i=s(r),null!=i||r&pe.Optional)return i;G_()}finally{cM()}}else if("number"==typeof s){let i=null,a=gM(e,t),c=Ma,l=r&pe.Host?t[tt][Gt]:null;for((-1===a||r&pe.SkipSelf)&&(c=-1===a?ph(e,t):t[a+8],c!==Ma&&EM(r,!1)?(i=t[x],a=su(c),t=iu(c,t)):a=-1);-1!==a;){const u=t[x];if(vM(s,a,u.data)){const f=z3(a,t,n,i,r,l);if(f!==Lr)return f}c=t[a+8],c!==Ma&&EM(r,t[x].data[a+8]===l)&&vM(s,a,t)?(i=u,a=su(c),t=iu(c,t)):a=-1}}return o}function z3(e,t,n,r,o,s){const i=t[x],a=i.data[e+8],u=function gh(e,t,n,r,o){const s=e.providerIndexes,i=t.data,a=1048575&s,c=e.directiveStart,u=s>>20,d=o?a+u:e.directiveEnd;for(let p=r?a:a+u;p<d;p++){const g=i[p];if(p<c&&n===g||p>=c&&g.type===n)return p}if(o){const p=i[c];if(p&&vr(p)&&p.type===n)return c}return null}(a,i,n,null==r?Xs(a)&&jy:r!=i&&!!(3&a.type),o&pe.Host&&s===a);return null!==u?Ys(t,i,u,a):Lr}function Ys(e,t,n,r){let o=e[n];const s=t.data;if(function j3(e){return e instanceof ou}(o)){const i=o;i.resolving&&function fH(e,t){throw t&&t.join(" > "),new A(-200,e)}(function Ee(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Z(e)}(s[n]));const a=dh(i.canSeeViewProviders);i.resolving=!0;const l=i.injectImpl?_n(i.injectImpl):null;oM(e,r,pe.Default);try{o=e[n]=i.factory(void 0,s,e,r),t.firstCreatePass&&n>=r.directiveStart&&function P3(e,t,n){const{ngOnChanges:r,ngOnInit:o,ngDoCheck:s}=t.type.prototype;if(r){const i=qI(t);(n.preOrderHooks??=[]).push(e,i),(n.preOrderCheckHooks??=[]).push(e,i)}o&&(n.preOrderHooks??=[]).push(0-e,o),s&&((n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s))}(n,s[n],t)}finally{null!==l&&_n(l),dh(a),i.resolving=!1,cM()}}return o}function vM(e,t,n){return!!(n[t+(e>>pM)]&1<<e)}function EM(e,t){return!(e&pe.Self||e&pe.Host&&t)}class Mt{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return yM(this._tNode,this._lView,t,zd(r),n)}}function G3(){return new Mt(ke(),D())}function Hy(e){return Hd(e)?()=>{const t=Hy(X(e));return t&&t()}:$s(e)}function SM(e){const t=e[x],n=t.type;return 2===n?t.declTNode:1===n?e[Gt]:null}function TM(e,t=null,n=null,r){const o=kM(e,t,n,r);return o.resolveInjectorInitializers(),o}function kM(e,t=null,n=null,r,o=new Set){const s=[n||_e,HH(e)];return r=r||("object"==typeof e?void 0:Dt(e)),new ya(s,t||eh(),r||null,o)}let Kn=(()=>{class e{static#e=this.THROW_IF_NOT_FOUND=$l;static#t=this.NULL=new Kd;static create(n,r){if(Array.isArray(n))return TM({name:""},r,n,"");{const o=n.name??"";return TM({name:o},n.parent,n.providers,o)}}static#n=this.\u0275prov=W({token:e,providedIn:"any",factory:()=>L(wI)});static#r=this.__NG_ELEMENT_ID__=-1}return e})();function $y(e){return e.ngOriginalError}class jr{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&$y(t);for(;n&&$y(n);)n=$y(n);return n||null}}const xM=new P("",{providedIn:"root",factory:()=>U(jr).handleError.bind(void 0)});let Oa=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=oU;static#t=this.__NG_ENV_ID__=n=>n}return e})();class rU extends Oa{constructor(t){super(),this._lView=t}onDestroy(t){return ah(this._lView,t),()=>function Cy(e,t){if(null===e[Qo])return;const n=e[Qo].indexOf(t);-1!==n&&e[Qo].splice(n,1)}(this._lView,t)}}function oU(){return new rU(D())}function sU(){return xa(ke(),D())}function xa(e,t){return new Ra(ln(e,t))}let Ra=(()=>{class e{constructor(n){this.nativeElement=n}static#e=this.__NG_ELEMENT_ID__=sU}return e})();function qy(e){return t=>{setTimeout(e,void 0,t)}}const co=class iU extends pr{constructor(t=!1){super(),this.destroyRef=void 0,this.__isAsync=t,function PI(){return void 0!==gI()||null!=function mH(){return pa}()}()&&(this.destroyRef=U(Oa,{optional:!0})??void 0)}emit(t){const n=ie(null);try{super.next(t)}finally{ie(n)}}subscribe(t,n,r){let o=t,s=n||(()=>null),i=r;if(t&&"object"==typeof t){const c=t;o=c.next?.bind(c),s=c.error?.bind(c),i=c.complete?.bind(c)}this.__isAsync&&(s=qy(s),o&&(o=qy(o)),i&&(i=qy(i)));const a=super.subscribe({next:o,error:s,complete:i});return t instanceof Xn&&t.add(a),a}};function yh(e){return!(128&~e.flags)}Symbol;const zy=new Map;let lU=0;const Gy="__ngContext__";function Jt(e,t){Kt(t)?(e[Gy]=t[Ql],function fU(e){zy.set(e[Ql],e)}(t)):e[Gy]=t}function $M(e){return WM(e[Kl])}function qM(e){return WM(e[yr])}function WM(e){for(;null!==e&&!Yt(e);)e=e[yr];return e}let Ky;const Eh=new P("",{providedIn:"root",factory:()=>kU}),kU="ng",ZM=new P(""),lo=new P("",{providedIn:"platform",factory:()=>"unknown"}),Yy=new P("",{providedIn:"root",factory:()=>function Jo(){if(void 0!==Ky)return Ky;if(typeof document<"u")return document;throw new A(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let e0=()=>null;function ob(e,t,n=!1){return e0(e,t,n)}const s0=new P("",{providedIn:"root",factory:()=>!1});class f0{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}const g$=/^>|^->|<!--|-->|--!>|<!-$/g,m$=/(<|>)/g,_$="\u200b$1\u200b";function C0(e){return e.ownerDocument.defaultView}function I0(e){return e.ownerDocument}var es=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(es||{});let _b;function yb(e,t){return _b(e,t)}function ja(e,t,n,r,o){if(null!=r){let s,i=!1;Yt(r)?s=r:Kt(r)&&(i=!0,r=r[Ke]);const a=Oe(r);0===e&&null!==n?null==o?F0(t,n,a):Qs(t,n,a,o||null,!0):1===e&&null!==n?Qs(t,n,a,o||null,!0):2===e?function yu(e,t,n){const r=Fh(e,t);r&&function N$(e,t,n,r){e.removeChild(t,n,r)}(e,r,t,n)}(t,a,i):3===e&&t.destroyNode(a),null!=s&&function L$(e,t,n,r,o){const s=n[Rr];s!==Oe(n)&&ja(t,e,r,s,o);for(let a=ut;a<n.length;a++){const c=n[a];Lh(c[x],c,e,t,r,s)}}(t,e,s,n,o)}}function vb(e,t){return e.createComment(function w0(e){return e.replace(g$,t=>t.replace(m$,_$))}(t))}function Ah(e,t,n){return e.createElement(t,n)}function R0(e,t){t[br].changeDetectionScheduler?.notify(1),Lh(e,t,t[G],2,null,null)}function A0(e,t){const n=e[Da],r=n.indexOf(t);n.splice(r,1)}function mu(e,t){if(e.length<=ut)return;const n=ut+t,r=e[n];if(r){const o=r[Yl];null!==o&&o!==e&&A0(o,r),t>0&&(e[n-1][yr]=r[yr]);const s=Xd(e,ut+t);!function M$(e,t){R0(e,t),t[Ke]=null,t[Gt]=null}(r[x],r);const i=s[so];null!==i&&i.detachView(s[x]),r[lt]=null,r[yr]=null,r[B]&=-129}return r}function Nh(e,t){if(!(256&t[B])){const n=t[G];n.destroyNode&&Lh(e,t,n,3,null,null),function k$(e){let t=e[Kl];if(!t)return Eb(e[x],e);for(;t;){let n=null;if(Kt(t))n=t[Kl];else{const r=t[ut];r&&(n=r)}if(!n){for(;t&&!t[yr]&&t!==e;)Kt(t)&&Eb(t[x],t),t=t[lt];null===t&&(t=e),Kt(t)&&Eb(t[x],t),n=t&&t[yr]}t=n}}(t)}}function Eb(e,t){if(256&t[B])return;const n=ie(null);try{t[B]&=-129,t[B]|=256,t[zs]&&function XC(e){if(aa(e),Bl(e))for(let t=0;t<e.producerNode.length;t++)Fd(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}(t[zs]),function A$(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const o=t[n[r]];if(!(o instanceof ou)){const s=n[r+1];if(Array.isArray(s))for(let i=0;i<s.length;i+=2){const a=o[s[i]],c=s[i+1];Ar(4,a,c);try{c.call(a)}finally{Ar(5,a,c)}}else{Ar(4,o,s);try{s.call(o)}finally{Ar(5,o,s)}}}}}(e,t),function R$(e,t){const n=e.cleanup,r=t[Ea];if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const i=n[s+3];i>=0?r[i]():r[-i].unsubscribe(),s+=2}else n[s].call(r[n[s+1]]);null!==r&&(t[Ea]=null);const o=t[Qo];if(null!==o){t[Qo]=null;for(let s=0;s<o.length;s++)(0,o[s])()}}(e,t),1===t[x].type&&t[G].destroy();const r=t[Yl];if(null!==r&&Yt(t[lt])){r!==t[lt]&&A0(r,t);const o=t[so];null!==o&&o.detachView(e)}!function dU(e){zy.delete(e[Ql])}(t)}finally{ie(n)}}function wb(e,t,n){return function N0(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[Ke];{const{componentOffset:o}=r;if(o>-1){const{encapsulation:s}=e.data[r.directiveStart+o];if(s===gr.None||s===gr.Emulated)return null}return ln(r,n)}}(e,t.parent,n)}function Qs(e,t,n,r,o){e.insertBefore(t,n,r,o)}function F0(e,t,n){e.appendChild(t,n)}function P0(e,t,n,r,o){null!==r?Qs(e,t,n,r,o):F0(e,t,n)}function Fh(e,t){return e.parentNode(t)}let Sb,B0=function j0(e,t,n){return 40&e.type?ln(e,n):null};function Ph(e,t,n,r){const o=wb(e,r,t),s=t[G],a=function L0(e,t,n){return B0(e,t,n)}(r.parent||t[Gt],r,t);if(null!=o)if(Array.isArray(n))for(let c=0;c<n.length;c++)P0(s,o,n[c],a,!1);else P0(s,o,n,a,!1);void 0!==Sb&&Sb(s,r,t,n,o)}function _u(e,t){if(null!==t){const n=t.type;if(3&n)return ln(t,e);if(4&n)return Db(-1,e[t.index]);if(8&n){const r=t.child;if(null!==r)return _u(e,r);{const o=e[t.index];return Yt(o)?Db(-1,o):Oe(o)}}if(32&n)return yb(t,e)()||Oe(e[t.index]);{const r=H0(e,t);return null!==r?Array.isArray(r)?r[0]:_u(Gs(e[tt]),r):_u(e,t.next)}}return null}function H0(e,t){return null!==t?e[tt][Gt].projection[t.projection]:null}function Db(e,t){const n=ut+e+1;if(n<t.length){const r=t[n],o=r[x].firstChild;if(null!==o)return _u(r,o)}return t[Rr]}function Cb(e,t,n,r,o,s,i){for(;null!=n;){const a=r[n.index],c=n.type;if(i&&0===t&&(a&&Jt(Oe(a),r),n.flags|=2),32&~n.flags)if(8&c)Cb(e,t,n.child,r,o,s,!1),ja(t,e,o,a,s);else if(32&c){const l=yb(n,r);let u;for(;u=l();)ja(t,e,o,u,s);ja(t,e,o,a,s)}else 16&c?$0(e,t,r,n,o,s):ja(t,e,o,a,s);n=i?n.projectionNext:n.next}}function Lh(e,t,n,r,o,s){Cb(n,r,e.firstChild,t,o,s,!1)}function $0(e,t,n,r,o,s){const i=n[tt],c=i[Gt].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++)ja(t,e,o,c[l],s);else{let l=c;const u=i[lt];yh(r)&&(l.flags|=128),Cb(e,t,l,u,o,s,!0)}}function q0(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function W0(e,t,n){const{mergedAttrs:r,classes:o,styles:s}=n;null!==r&&ry(e,t,r),null!==o&&q0(e,t,o),null!==s&&function B$(e,t,n){e.setAttribute(t,"style",n)}(e,t,s)}const te={};function Ie(e=1){z0(ue(),D(),Qt()+e,!1)}function z0(e,t,n,r){if(!r)if(3&~t[B]){const s=e.preOrderHooks;null!==s&&fh(t,s,0,n)}else{const s=e.preOrderCheckHooks;null!==s&&uh(t,s,n)}Ks(n)}function ne(e,t=pe.Default){const n=D();return null===n?L(e,t):yM(ke(),n,X(e),t)}function X0(e,t,n,r,o,s){const i=ie(null);try{let a=null;o&Ko.SignalBased&&(a=t[r][Vs]),null!==a&&void 0!==a.transformFn&&(s=a.transformFn(s)),o&Ko.HasDecoratorInputTransform&&(s=e.inputTransforms[r].call(t,s)),null!==e.setInput?e.setInput(t,a,s,n,r):$I(t,a,r,s)}finally{ie(i)}}function jh(e,t,n,r,o,s,i,a,c,l,u){const f=t.blueprint.slice();return f[Ke]=o,f[B]=204|r,(null!==l||e&&2048&e[B])&&(f[B]|=2048),YI(f),f[lt]=f[wa]=e,f[Le]=n,f[br]=i||e&&e[br],f[G]=a||e&&e[G],f[_t]=c||e&&e[_t]||null,f[Gt]=s,f[Ql]=function uU(){return lU++}(),f[Rn]=u,f[BI]=l,f[tt]=2==t.type?e[tt]:f,f}function Ba(e,t,n,r,o){let s=e.data[t];if(null===s)s=function Ib(e,t,n,r,o){const s=eM(),i=Ty(),c=e.data[t]=function G$(e,t,n,r,o,s){let i=t?t.injectorIndex:-1,a=0;return function Ia(){return null!==K.skipHydrationRootTNode}()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:i,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:o,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,i?s:s&&s.parent,n,t,r,o);return null===e.firstChild&&(e.firstChild=c),null!==s&&(i?null==s.child&&null!==c.parent&&(s.child=c):null===s.next&&(s.next=c,c.prev=s)),c}(e,t,n,r,o),function M3(){return K.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=r,s.attrs=o;const i=function nu(){const e=K.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();s.injectorIndex=null===i?-1:i.injectorIndex}return Fr(s,!0),s}function bu(e,t,n,r){if(0===n)return-1;const o=t.length;for(let s=0;s<n;s++)t.push(r),e.blueprint.push(r),e.data.push(null);return o}function G0(e,t,n,r,o){const s=Qt(),i=2&r;try{Ks(-1),i&&t.length>ee&&z0(e,t,ee,!1),Ar(i?2:0,o),n(r,o)}finally{Ks(s),Ar(i?3:1,o)}}function Mb(e,t,n){if(my(t)){const r=ie(null);try{const s=t.directiveEnd;for(let i=t.directiveStart;i<s;i++){const a=e.data[i];a.contentQueries&&a.contentQueries(1,n[i],i)}}finally{ie(r)}}}function Tb(e,t,n){ZI()&&(function tq(e,t,n,r){const o=n.directiveStart,s=n.directiveEnd;Xs(n)&&function cq(e,t,n){const r=ln(t,e),o=K0(n);let i=16;n.signals?i=4096:n.onPush&&(i=64);const a=Bh(e,jh(e,o,null,i,r,t,null,e[br].rendererFactory.createRenderer(r,n),null,null,null));e[t.index]=a}(t,n,e.data[o+n.componentOffset]),e.firstCreatePass||hh(n,t),Jt(r,t);const i=n.initialInputs;for(let a=o;a<s;a++){const c=e.data[a],l=Ys(t,e,a,n);Jt(l,t),null!==i&&lq(0,a-o,l,c,0,i),vr(c)&&(An(n.index,t)[Le]=Ys(t,e,a,n))}}(e,t,n,ln(n,t)),!(64&~n.flags)&&eT(e,t,n))}function kb(e,t,n=ln){const r=t.localNames;if(null!==r){let o=t.index+1;for(let s=0;s<r.length;s+=2){const i=r[s+1],a=-1===i?n(t,e):e[i];e[o++]=a}}}function K0(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Ob(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function Ob(e,t,n,r,o,s,i,a,c,l,u){const f=ee+r,d=f+o,p=function U$(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:te);return n}(f,d),g="function"==typeof l?l():l;return p[x]={type:e,blueprint:p,template:n,queries:null,viewQuery:a,declTNode:t,data:p.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof i?i():i,firstChild:null,schemas:c,consts:g,incompleteFirstPass:!1,ssrId:u}}let Y0=()=>null;function Q0(e,t,n,r,o){for(let s in t){if(!t.hasOwnProperty(s))continue;const i=t[s];if(void 0===i)continue;r??={};let a,c=Ko.None;Array.isArray(i)?(a=i[0],c=i[1]):a=i;let l=s;if(null!==o){if(!o.hasOwnProperty(s))continue;l=o[s]}0===e?J0(r,n,l,a,c):J0(r,n,l,a)}return r}function J0(e,t,n,r,o){let s;e.hasOwnProperty(n)?(s=e[n]).push(t,r):s=e[n]=[t,r],void 0!==o&&s.push(o)}function xb(e,t,n,r){if(ZI()){const o=null===r?null:{"":-1},s=function rq(e,t){const n=e.directiveRegistry;let r=null,o=null;if(n)for(let s=0;s<n.length;s++){const i=n[s];if(MI(t,i.selectors,!1))if(r||(r=[]),vr(i))if(null!==i.findHostDirectiveDefs){const a=[];o=o||new Map,i.findHostDirectiveDefs(i,a,o),r.unshift(...a,i),Rb(e,t,a.length)}else r.unshift(i),Rb(e,t,0);else o=o||new Map,i.findHostDirectiveDefs?.(i,r,o),r.push(i)}return null===r?null:[r,o]}(e,n);let i,a;null===s?i=a=null:[i,a]=s,null!==i&&Z0(e,t,n,i,o,a),o&&function oq(e,t,n){if(t){const r=e.localNames=[];for(let o=0;o<t.length;o+=2){const s=n[t[o+1]];if(null==s)throw new A(-301,!1);r.push(t[o],s)}}}(n,r,o)}n.mergedAttrs=Wl(n.mergedAttrs,n.attrs)}function Z0(e,t,n,r,o,s){for(let l=0;l<r.length;l++)Vy(hh(n,t),e,r[l].type);!function iq(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,r.length);for(let l=0;l<r.length;l++){const u=r[l];u.providersResolver&&u.providersResolver(u)}let i=!1,a=!1,c=bu(e,t,r.length,null);for(let l=0;l<r.length;l++){const u=r[l];n.mergedAttrs=Wl(n.mergedAttrs,u.hostAttrs),aq(e,n,t,c,u),sq(c,u,o),null!==u.contentQueries&&(n.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(n.flags|=64);const f=u.type.prototype;!i&&(f.ngOnChanges||f.ngOnInit||f.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),i=!0),!a&&(f.ngOnChanges||f.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}!function K$(e,t,n){const o=t.directiveEnd,s=e.data,i=t.attrs,a=[];let c=null,l=null;for(let u=t.directiveStart;u<o;u++){const f=s[u],d=n?n.get(f):null,g=d?d.outputs:null;c=Q0(0,f.inputs,u,c,d?d.inputs:null),l=Q0(1,f.outputs,u,l,g);const m=null===c||null===i||oy(t)?null:uq(c,u,i);a.push(m)}null!==c&&(c.hasOwnProperty("class")&&(t.flags|=8),c.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=c,t.outputs=l}(e,n,s)}function eT(e,t,n){const r=n.directiveStart,o=n.directiveEnd,s=n.index,i=function k3(){return K.lFrame.currentDirectiveIndex}();try{Ks(s);for(let a=r;a<o;a++){const c=e.data[a],l=t[a];Oy(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&nq(c,l)}}finally{Ks(-1),Oy(i)}}function nq(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Rb(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function sq(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;vr(t)&&(n[""]=e)}}function aq(e,t,n,r,o){e.data[r]=o;const s=o.factory||(o.factory=$s(o.type)),i=new ou(s,vr(o),ne);e.blueprint[r]=i,n[r]=i,function Z$(e,t,n,r,o){const s=o.hostBindings;if(s){let i=e.hostBindingOpCodes;null===i&&(i=e.hostBindingOpCodes=[]);const a=~t.index;(function eq(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(i)!=a&&i.push(a),i.push(n,r,s)}}(e,t,r,bu(e,n,o.hostVars,te),o)}function Br(e,t,n,r,o,s){const i=ln(e,t);!function Ab(e,t,n,r,o,s,i){if(null==s)e.removeAttribute(t,o,n);else{const a=null==i?Z(s):i(s,r||"",o);e.setAttribute(t,o,a,n)}}(t[G],i,s,e.value,n,r,o)}function lq(e,t,n,r,o,s){const i=s[t];if(null!==i)for(let a=0;a<i.length;)X0(r,n,i[a++],i[a++],i[a++],i[a++])}function uq(e,t,n){let r=null,o=0;for(;o<n.length;){const s=n[o];if(0!==s)if(5!==s){if("number"==typeof s)break;if(e.hasOwnProperty(s)){null===r&&(r=[]);const i=e[s];for(let a=0;a<i.length;a+=3)if(i[a]===t){r.push(s,i[a+1],i[a+2],n[o+1]);break}}o+=2}else o+=2;else o+=4}return r}function tT(e,t,n,r){return[e,!0,0,t,null,r,null,n,null,null]}function nT(e,t){const n=e.contentQueries;if(null!==n){const r=ie(null);try{for(let o=0;o<n.length;o+=2){const i=n[o+1];if(-1!==i){const a=e.data[i];ch(n[o]),a.contentQueries(2,t[i],i)}}}finally{ie(r)}}}function Bh(e,t){return e[Kl]?e[jI][yr]=t:e[Kl]=t,e[jI]=t,t}function Nb(e,t,n){ch(0);const r=ie(null);try{t(e,n)}finally{ie(r)}}function Vh(e,t){const n=e[_t],r=n?n.get(jr,null):null;r&&r.handleError(t)}function Fb(e,t,n,r,o){for(let s=0;s<n.length;){const i=n[s++],a=n[s++],c=n[s++];X0(e.data[i],t[i],r,a,c,o)}}function fq(e,t){const n=An(t,e),r=n[x];!function dq(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(r,n);const o=n[Ke];null!==o&&null===n[Rn]&&(n[Rn]=ob(o,n[_t])),Pb(r,n,n[Le])}function Pb(e,t,n){Ay(t);try{const r=e.viewQuery;null!==r&&Nb(1,r,n);const o=e.template;null!==o&&G0(e,t,o,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[so]?.finishViewCreation(e),e.staticContentQueries&&nT(e,t),e.staticViewQueries&&Nb(2,e.viewQuery,n);const s=e.components;null!==s&&function hq(e,t){for(let n=0;n<t.length;n++)fq(e,t[n])}(t,s)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[B]&=-5,Ny()}}function Va(e,t){return!t||null===t.firstChild||yh(e)}function Eu(e,t,n,r=!0){const o=t[x];if(function O$(e,t,n,r){const o=ut+r,s=n.length;r>0&&(n[o-1][yr]=t),r<s-ut?(t[yr]=n[o],bI(n,ut+r,t)):(n.push(t),t[yr]=null),t[lt]=n;const i=t[Yl];null!==i&&n!==i&&function x$(e,t){const n=e[Da];t[tt]!==t[lt][lt][tt]&&(e[B]|=gy.HasTransplantedViews),null===n?e[Da]=[t]:n.push(t)}(i,t);const a=t[so];null!==a&&a.insertView(e),Dy(t),t[B]|=128}(o,t,e,n),r){const i=Db(n,e),a=t[G],c=Fh(a,e[Rr]);null!==c&&function T$(e,t,n,r,o,s){r[Ke]=o,r[Gt]=t,Lh(e,r,n,1,o,s)}(o,e[Gt],a,t,c,i)}const s=t[Rn];null!==s&&null!==s.firstChild&&(s.firstChild=null)}function wu(e,t,n,r,o=!1){for(;null!==n;){const s=t[n.index];null!==s&&r.push(Oe(s)),Yt(s)&&aT(s,r);const i=n.type;if(8&i)wu(e,t,n.child,r);else if(32&i){const a=yb(n,t);let c;for(;c=a();)r.push(c)}else if(16&i){const a=H0(t,n);if(Array.isArray(a))r.push(...a);else{const c=Gs(t[tt]);wu(c[x],c,a,r,!0)}}n=o?n.projectionNext:n.next}return r}function aT(e,t){for(let n=ut;n<e.length;n++){const r=e[n],o=r[x].firstChild;null!==o&&wu(r[x],r,o,t)}e[Rr]!==e[Ke]&&t.push(e[Rr])}let cT=[];const _q={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{},consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{tu(e.lView)},consumerOnSignalRead(){this.lView[zs]=this}},lT=100;function Hh(e,t=!0,n=0){const r=e[br],o=r.rendererFactory;o.begin?.();try{!function yq(e,t){jb(e,t);let n=0;for(;Sy(e);){if(n===lT)throw new A(103,!1);n++,jb(e,1)}}(e,n)}catch(i){throw t&&Vh(e,i),i}finally{o.end?.(),r.inlineEffectRunner?.flush()}}function bq(e,t,n,r){const o=t[B];if(!(256&~o))return;t[br].inlineEffectRunner?.flush(),Ay(t);let i=null,a=null;(function vq(e){return 2!==e.type})(e)&&(a=function pq(e){return e[zs]??function gq(e){const t=cT.pop()??Object.create(_q);return t.lView=e,t}(e)}(t),i=function WC(e){return e&&(e.nextProducerIndex=0),ie(e)}(a));try{YI(t),function nM(e){return K.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&G0(e,t,n,2,r);const c=!(3&~o);if(c){const f=e.preOrderCheckHooks;null!==f&&uh(t,f,null)}else{const f=e.preOrderHooks;null!==f&&fh(t,f,0,null),Fy(t,0)}if(function Eq(e){for(let t=$M(e);null!==t;t=qM(t)){if(!(t[B]&gy.HasTransplantedViews))continue;const n=t[Da];for(let r=0;r<n.length;r++){_3(n[r])}}}(t),uT(t,0),null!==e.contentQueries&&nT(e,t),c){const f=e.contentCheckHooks;null!==f&&uh(t,f)}else{const f=e.contentHooks;null!==f&&fh(t,f,1),Fy(t,1)}!function H$(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const o=n[r];if(o<0)Ks(~o);else{const s=o,i=n[++r],a=n[++r];T3(i,s),a(2,t[s])}}}finally{Ks(-1)}}(e,t);const l=e.components;null!==l&&dT(t,l,0);const u=e.viewQuery;if(null!==u&&Nb(2,u,r),c){const f=e.viewCheckHooks;null!==f&&uh(t,f)}else{const f=e.viewHooks;null!==f&&fh(t,f,2),Fy(t,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[rh]){for(const f of t[rh])f();t[rh]=null}t[B]&=-73}catch(c){throw tu(t),c}finally{null!==a&&(function zC(e,t){if(ie(t),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(Bl(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)Fd(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}(a,i),function mq(e){e.lView[zs]!==e&&(e.lView=null,cT.push(e))}(a)),Ny()}}function uT(e,t){for(let n=$M(e);null!==n;n=qM(n))for(let r=ut;r<n.length;r++)fT(n[r],t)}function wq(e,t,n){fT(An(t,e),n)}function fT(e,t){wy(e)&&jb(e,t)}function jb(e,t){const r=e[x],o=e[B],s=e[zs];let i=!!(0===t&&16&o);if(i||=!!(64&o&&0===t),i||=!!(1024&o),i||=!(!s?.dirty||!I_(s)),s&&(s.dirty=!1),e[B]&=-9217,i)bq(r,e,r.template,e[Le]);else if(8192&o){uT(e,1);const a=r.components;null!==a&&dT(e,a,1)}}function dT(e,t,n){for(let r=0;r<t.length;r++)wq(e,t[r],n)}function Su(e){for(e[br].changeDetectionScheduler?.notify();e;){e[B]|=64;const t=Gs(e);if(_y(e)&&!t)return e;e=t}return null}class Du{get rootNodes(){const t=this._lView,n=t[x];return wu(n,t,n.firstChild,[])}constructor(t,n,r=!0){this._lView=t,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Le]}set context(t){this._lView[Le]=t}get destroyed(){return!(256&~this._lView[B])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[lt];if(Yt(t)){const n=t[8],r=n?n.indexOf(this):-1;r>-1&&(mu(t,r),Xd(n,r))}this._attachedToViewContainer=!1}Nh(this._lView[x],this._lView)}onDestroy(t){ah(this._lView,t)}markForCheck(){Su(this._cdRefInjectingView||this._lView)}detach(){this._lView[B]&=-129}reattach(){Dy(this._lView),this._lView[B]|=128}detectChanges(){this._lView[B]|=1024,Hh(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new A(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,R0(this._lView[x],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new A(902,!1);this._appRef=t,Dy(this._lView)}}let ho=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=Cq}return e})();const Sq=ho,Dq=class extends Sq{constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n)}createEmbeddedViewImpl(t,n,r){const o=function vu(e,t,n,r){const o=ie(null);try{const s=t.tView,c=jh(e,s,n,4096&e[B]?4096:16,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null);c[Yl]=e[t.index];const u=e[so];return null!==u&&(c[so]=u.createEmbeddedView(s)),Pb(s,c,n),c}finally{ie(o)}}(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:n,dehydratedView:r});return new Du(o)}};function Cq(){return function Uh(e,t){return 4&e.type?new Dq(t,e,xa(e,t)):null}(ke(),D())}class qb{}class Kq{}class bT{}class Qq{resolveComponentFactory(t){throw function Yq(e){const t=Error(`No component factory found for ${Dt(e)}.`);return t.ngComponent=e,t}(t)}}let Xh=(()=>{class e{static#e=this.NULL=new Qq}return e})();class ET{}let wT=(()=>{class e{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function Jq(){const e=D(),n=An(ke().index,e);return(Kt(n)?n:e)[G]}()}return e})(),Zq=(()=>{class e{static#e=this.\u0275prov=W({token:e,providedIn:"root",factory:()=>null})}return e})();const Wb={},ST=new Set;function DT(...e){}class Re{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new co(!1),this.onMicrotaskEmpty=new co(!1),this.onStable=new co(!1),this.onError=new co(!1),typeof Zone>"u")throw new A(908,!1);Zone.assertZonePatched();const o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!r&&n,o.shouldCoalesceRunChangeDetection=r,o.lastRequestAnimationFrameId=-1,o.nativeRequestAnimationFrame=function eW(){const e="function"==typeof Ce.requestAnimationFrame;let t=Ce[e?"requestAnimationFrame":"setTimeout"],n=Ce[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&n){const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r);const o=n[Zone.__symbol__("OriginalDelegate")];o&&(n=o)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function rW(e){const t=()=>{!function nW(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Ce,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,Xb(e),e.isCheckStableRunning=!0,zb(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),Xb(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,o,s,i,a)=>{if(function oW(e){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0].data?.__ignore_ng_zone__}(a))return n.invokeTask(o,s,i,a);try{return CT(e),n.invokeTask(o,s,i,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||e.shouldCoalesceRunChangeDetection)&&t(),IT(e)}},onInvoke:(n,r,o,s,i,a,c)=>{try{return CT(e),n.invoke(o,s,i,a,c)}finally{e.shouldCoalesceRunChangeDetection&&t(),IT(e)}},onHasTask:(n,r,o,s)=>{n.hasTask(o,s),r===o&&("microTask"==s.change?(e._hasPendingMicrotasks=s.microTask,Xb(e),zb(e)):"macroTask"==s.change&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,o,s)=>(n.handleError(o,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}(o)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Re.isInAngularZone())throw new A(909,!1)}static assertNotInAngularZone(){if(Re.isInAngularZone())throw new A(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,o){const s=this._inner,i=s.scheduleEventTask("NgZoneEvent: "+o,t,tW,DT,DT);try{return s.runTask(i,n,r)}finally{s.cancelTask(i)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const tW={};function zb(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Xb(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function CT(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function IT(e){e._nesting--,zb(e)}class MT{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new co,this.onMicrotaskEmpty=new co,this.onStable=new co,this.onError=new co}run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,o){return t.apply(n,r)}}let ku=(()=>{class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){const n=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const r of n)r()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static#e=this.\u0275prov=W({token:e,providedIn:"root",factory:()=>new e})}return e})();function Kh(e,t,n){let r=n?e.styles:null,o=n?e.classes:null,s=0;if(null!==t)for(let i=0;i<t.length;i++){const a=t[i];"number"==typeof a?s=a:1==s?o=j_(o,a):2==s&&(r=j_(r,a+": "+t[++i]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=o:e.classesWithoutHost=o}class AT extends Xh{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=ce(t);return new Ru(n,this.ngModule)}}function NT(e){const t=[];for(const n in e){if(!e.hasOwnProperty(n))continue;const r=e[n];void 0!==r&&t.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return t}class Yh{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=zd(r);const o=this.injector.get(t,Wb,r);return o!==Wb||n===Wb?o:this.parentInjector.get(t,n,r)}}class Ru extends bT{get inputs(){const t=this.componentDef,n=t.inputTransforms,r=NT(t.inputs);if(null!==n)for(const o of r)n.hasOwnProperty(o.propName)&&(o.transform=n[o.propName]);return r}get outputs(){return NT(this.componentDef.outputs)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function FH(e){return e.map(NH).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,r,o){const s=ie(null);try{let i=(o=o||this.ngModule)instanceof _r?o:o?.injector;i&&null!==this.componentDef.getStandaloneInjector&&(i=this.componentDef.getStandaloneInjector(i)||i);const a=i?new Yh(t,i):t,c=a.get(ET,null);if(null===c)throw new A(407,!1);const l=a.get(Zq,null),d={rendererFactory:c,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:a.get(ku,null),changeDetectionScheduler:a.get(qb,null)},p=c.createRenderer(null,this.componentDef),g=this.componentDef.selectors[0][0]||"div",m=r?function $$(e,t,n,r){const s=r.get(s0,!1)||n===gr.ShadowDom,i=e.selectRootElement(t,s);return function q$(e){Y0(e)}(i),i}(p,r,this.componentDef.encapsulation,a):Ah(p,g,function uW(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(g));let y=512;this.componentDef.signals?y|=4096:this.componentDef.onPush||(y|=16);let w=null;null!==m&&(w=ob(m,a,!0));const v=Ob(0,null,null,1,0,null,null,null,null,null,null),k=jh(null,v,null,y,null,null,d,p,a,null,w);let N,$;Ay(k);try{const le=this.componentDef;let ze,Xe=null;le.findHostDirectiveDefs?(ze=[],Xe=new Map,le.findHostDirectiveDefs(le,ze,Xe),ze.push(le)):ze=[le];const S=function dW(e,t){const n=e[x],r=ee;return e[r]=t,Ba(n,r,2,"#host",null)}(k,m),Wn=function hW(e,t,n,r,o,s,i){const a=o[x];!function pW(e,t,n,r){for(const o of e)t.mergedAttrs=Wl(t.mergedAttrs,o.hostAttrs);null!==t.mergedAttrs&&(Kh(t,t.mergedAttrs,!0),null!==n&&W0(r,n,t))}(r,e,t,i);let c=null;null!==t&&(c=ob(t,o[_t]));const l=s.rendererFactory.createRenderer(t,n);let u=16;n.signals?u=4096:n.onPush&&(u=64);const f=jh(o,K0(n),null,u,o[e.index],e,s,l,null,null,c);return a.firstCreatePass&&Rb(a,e,r.length-1),Bh(o,f),o[e.index]=f}(S,m,le,ze,k,d,p);$=eu(v,ee),m&&function mW(e,t,n,r){if(r)ry(e,n,["ng-version","17.3.11"]);else{const{attrs:o,classes:s}=function PH(e){const t=[],n=[];let r=1,o=2;for(;r<e.length;){let s=e[r];if("string"==typeof s)2===o?""!==s&&t.push(s,e[++r]):8===o&&n.push(s);else{if(!mr(o))break;o=s}r++}return{attrs:t,classes:n}}(t.selectors[0]);o&&ry(e,n,o),s&&s.length>0&&q0(e,n,s.join(" "))}}(p,le,m,r),void 0!==n&&function _W(e,t,n){const r=e.projection=[];for(let o=0;o<t.length;o++){const s=n[o];r.push(null!=s?Array.from(s):null)}}($,this.ngContentSelectors,n),N=function gW(e,t,n,r,o,s){const i=ke(),a=o[x],c=ln(i,o);Z0(a,o,i,n,null,r);for(let u=0;u<n.length;u++)Jt(Ys(o,a,i.directiveStart+u,i),o);eT(a,o,i),c&&Jt(c,o);const l=Ys(o,a,i.directiveStart+i.componentOffset,i);if(e[Le]=o[Le]=l,null!==s)for(const u of s)u(l,t);return Mb(a,i,o),l}(Wn,le,ze,Xe,k,[yW]),Pb(v,k,null)}finally{Ny()}return new fW(this.componentType,N,xa($,k),k,$)}finally{ie(s)}}}class fW extends Kq{constructor(t,n,r,o,s){super(),this.location=r,this._rootLView=o,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Du(o,void 0,!1),this.componentType=t}setInput(t,n){const r=this._tNode.inputs;let o;if(null!==r&&(o=r[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;const s=this._rootLView;Fb(s[x],s,o,t,n),this.previousInputValues.set(t,n),Su(An(this._tNode.index,s))}}get injector(){return new Mt(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function yW(){const e=ke();lh(D()[x],e)}let Hr=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=bW}return e})();function bW(){return function LT(e,t){let n;const r=t[e.index];return Yt(r)?n=r:(n=tT(r,t,null,e),t[e.index]=n,Bh(t,n)),jT(n,t,e,r),new FT(n,e,t)}(ke(),D())}const vW=Hr,FT=class extends vW{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return xa(this._hostTNode,this._hostLView)}get injector(){return new Mt(this._hostTNode,this._hostLView)}get parentInjector(){const t=ph(this._hostTNode,this._hostLView);if(Ly(t)){const n=iu(t,this._hostLView),r=su(t);return new Mt(n[x].data[r+8],n)}return new Mt(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=PT(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-ut}createEmbeddedView(t,n,r){let o,s;"number"==typeof r?o=r:null!=r&&(o=r.index,s=r.injector);const a=t.createEmbeddedViewImpl(n||{},s,null);return this.insertImpl(a,o,Va(this._hostTNode,null)),a}createComponent(t,n,r,o,s){const i=t&&!function Gl(e){return"function"==typeof e}(t);let a;if(i)a=n;else{const g=n||{};a=g.index,r=g.injector,o=g.projectableNodes,s=g.environmentInjector||g.ngModuleRef}const c=i?t:new Ru(ce(t)),l=r||this.parentInjector;if(!s&&null==c.ngModule){const m=(i?l:this.parentInjector).get(_r,null);m&&(s=m)}ce(c.componentType??{});const p=c.create(l,o,null,s);return this.insertImpl(p.hostView,a,Va(this._hostTNode,null)),p}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,r){const o=t._lView;if(function m3(e){return Yt(e[lt])}(o)){const a=this.indexOf(t);if(-1!==a)this.detach(a);else{const c=o[lt],l=new FT(c,c[Gt],c[lt]);l.detach(l.indexOf(t))}}const s=this._adjustIndex(n),i=this._lContainer;return Eu(i,o,s,r),t.attachToViewContainerRef(),bI(Qb(i),s,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=PT(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),r=mu(this._lContainer,n);r&&(Xd(Qb(this._lContainer),n),Nh(r[x],r))}detach(t){const n=this._adjustIndex(t,-1),r=mu(this._lContainer,n);return r&&null!=Xd(Qb(this._lContainer),n)?new Du(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function PT(e){return e[8]}function Qb(e){return e[8]||(e[8]=[])}let jT=function VT(e,t,n,r){if(e[Rr])return;let o;o=8&n.type?Oe(r):function EW(e,t){const n=e[G],r=n.createComment(""),o=ln(t,e);return Qs(n,Fh(n,o),r,function F$(e,t){return e.nextSibling(t)}(n,o),!1),r}(t,n),e[Rr]=o},Jb=()=>!1;function av(e){let t=function ak(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const r=[e];for(;t;){let o;if(vr(e))o=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new A(903,!1);o=t.\u0275dir}if(o){if(n){r.push(o);const i=e;i.inputs=Jh(e.inputs),i.inputTransforms=Jh(e.inputTransforms),i.declaredInputs=Jh(e.declaredInputs),i.outputs=Jh(e.outputs);const a=o.hostBindings;a&&WW(e,a);const c=o.viewQuery,l=o.contentQueries;if(c&&$W(e,c),l&&qW(e,l),HW(e,o),nH(e.outputs,o.outputs),vr(o)&&o.data.animation){const u=e.data;u.animation=(u.animation||[]).concat(o.data.animation)}}const s=o.features;if(s)for(let i=0;i<s.length;i++){const a=s[i];a&&a.ngInherit&&a(e),a===av&&(n=!1)}}t=Object.getPrototypeOf(t)}!function UW(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){const o=e[r];o.hostVars=t+=o.hostVars,o.hostAttrs=Wl(o.hostAttrs,n=Wl(n,o.hostAttrs))}}(r)}function HW(e,t){for(const n in t.inputs){if(!t.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;const r=t.inputs[n];if(void 0!==r&&(e.inputs[n]=r,e.declaredInputs[n]=t.declaredInputs[n],null!==t.inputTransforms)){const o=Array.isArray(r)?r[0]:r;if(!t.inputTransforms.hasOwnProperty(o))continue;e.inputTransforms??={},e.inputTransforms[o]=t.inputTransforms[o]}}}function Jh(e){return e===xr?{}:e===_e?[]:e}function $W(e,t){const n=e.viewQuery;e.viewQuery=n?(r,o)=>{t(r,o),n(r,o)}:t}function qW(e,t){const n=e.contentQueries;e.contentQueries=n?(r,o,s)=>{t(r,o,s),n(r,o,s)}:t}function WW(e,t){const n=e.hostBindings;e.hostBindings=n?(r,o)=>{t(r,o),n(r,o)}:t}class ei{}class JW{}class cv extends ei{constructor(t,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new AT(this);const o=function Xt(e,t){const n=e[hI]||null;if(!n&&!0===t)throw new Error(`Type ${Dt(e)} does not have '\u0275mod' property.`);return n}(t);this._bootstrapComponents=function Nn(e){return e instanceof Function?e():e}(o.bootstrap),this._r3Injector=kM(t,n,[{provide:ei,useValue:this},{provide:Xh,useValue:this.componentFactoryResolver},...r],Dt(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class lv extends JW{constructor(t){super(),this.moduleType=t}create(t){return new cv(this.moduleType,t,[])}}class fk extends ei{constructor(t){super(),this.componentFactoryResolver=new AT(this),this.instance=null;const n=new ya([...t.providers,{provide:ei,useValue:this},{provide:Xh,useValue:this.componentFactoryResolver}],t.parent||eh(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}let ti=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new P_(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function ep(e){return!!function uv(e){return null!==e&&("function"==typeof e||"object"==typeof e)}(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function ft(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function Ut(e,t,n,r,o,s,i,a){const c=D(),l=ue(),u=e+ee,f=l.firstCreatePass?function i4(e,t,n,r,o,s,i,a,c){const l=t.consts,u=Ba(t,e,4,i||null,Nr(l,a));xb(t,n,u,Nr(l,c)),lh(t,u);const f=u.tView=Ob(2,u,r,o,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,l,null);return null!==t.queries&&(t.queries.template(t,u),f.queries=t.queries.embeddedTView(u)),u}(u,l,c,t,n,r,o,s,i):l.data[u];Fr(f,!1);const d=hk(l,c,f,e);ru()&&Ph(l,c,d,f),Jt(d,c);const p=tT(d,c,d,f);return c[u]=p,Bh(c,p),function BT(e,t,n){return Jb(e,t,n)}(p,f,c),sh(f)&&Tb(l,c,f),null!=i&&kb(c,f,a),Ut}let hk=function pk(e,t,n,r){return Pr(!0),t[G].createComment("")};function ap(e,t,n,r){const o=D();return ft(o,Er(),t)&&(ue(),Br(je(),o,e,t,n,r)),ap}function cp(e,t){return e<<17|t<<2}function rs(e){return e>>17&32767}function vv(e){return 2|e}function oi(e){return(131068&e)>>2}function Ev(e,t){return-131069&e|t<<2}function wv(e){return 1|e}function Wk(e,t,n,r){const o=e[n+1],s=null===t;let i=r?rs(o):oi(o),a=!1;for(;0!==i&&(!1===a||s);){const l=e[i+1];z4(e[i],t)&&(a=!0,e[i+1]=r?wv(l):vv(l)),i=r?rs(l):oi(l)}a&&(e[n+1]=r?vv(o):wv(o))}function z4(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&ma(e,t)>=0}function Ye(e,t,n){const r=D();return ft(r,Er(),t)&&function En(e,t,n,r,o,s,i,a){const c=ln(t,n);let u,l=t.inputs;!a&&null!=l&&(u=l[r])?(Fb(e,n,u,r,o),Xs(t)&&function Q$(e,t){const n=An(t,e);16&n[B]||(n[B]|=64)}(n,t.index)):3&t.type&&(r=function Y$(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),o=null!=i?i(o,t.value||"",r):o,s.setProperty(c,r,o))}(ue(),je(),r,e,t,r[G],n,!1),Ye}function Sv(e,t,n,r,o){const i=o?"class":"style";Fb(e,n,t.inputs[i],i,r)}function os(e,t,n){return Sr(e,t,n,!1),os}function lp(e,t){return Sr(e,t,null,!0),lp}function Sr(e,t,n,r){const o=D(),s=ue(),i=function ao(e){const t=K.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}(2);s.firstUpdatePass&&function Zk(e,t,n,r){const o=e.data;if(null===o[n+1]){const s=o[Qt()],i=function Jk(e,t){return t>=e.expandoStartIndex}(e,n);(function rO(e,t){return!!(e.flags&(t?8:16))})(s,r)&&null===t&&!i&&(t=!1),t=function tz(e,t,n,r){const o=function xy(e){const t=K.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let s=r?t.residualClasses:t.residualStyles;if(null===o)0===(r?t.classBindings:t.styleBindings)&&(n=Bu(n=Dv(null,e,t,n,r),t.attrs,r),s=null);else{const i=t.directiveStylingLast;if(-1===i||e[i]!==o)if(n=Dv(o,e,t,n,r),null===s){let c=function nz(e,t,n){const r=n?t.classBindings:t.styleBindings;if(0!==oi(r))return e[rs(r)]}(e,t,r);void 0!==c&&Array.isArray(c)&&(c=Dv(null,e,t,c[1],r),c=Bu(c,t.attrs,r),function rz(e,t,n,r){e[rs(n?t.classBindings:t.styleBindings)]=r}(e,t,r,c))}else s=function oz(e,t,n){let r;const o=t.directiveEnd;for(let s=1+t.directiveStylingLast;s<o;s++)r=Bu(r,e[s].hostAttrs,n);return Bu(r,t.attrs,n)}(e,t,r)}return void 0!==s&&(r?t.residualClasses=s:t.residualStyles=s),n}(o,s,t,r),function q4(e,t,n,r,o,s){let i=s?t.classBindings:t.styleBindings,a=rs(i),c=oi(i);e[r]=n;let u,l=!1;if(Array.isArray(n)?(u=n[1],(null===u||ma(n,u)>0)&&(l=!0)):u=n,o)if(0!==c){const d=rs(e[a+1]);e[r+1]=cp(d,a),0!==d&&(e[d+1]=Ev(e[d+1],r)),e[a+1]=function U4(e,t){return 131071&e|t<<17}(e[a+1],r)}else e[r+1]=cp(a,0),0!==a&&(e[a+1]=Ev(e[a+1],r)),a=r;else e[r+1]=cp(c,0),0===a?a=r:e[c+1]=Ev(e[c+1],r),c=r;l&&(e[r+1]=vv(e[r+1])),Wk(e,u,r,!0),Wk(e,u,r,!1),function W4(e,t,n,r,o){const s=o?e.residualClasses:e.residualStyles;null!=s&&"string"==typeof t&&ma(s,t)>=0&&(n[r+1]=wv(n[r+1]))}(t,u,e,r,s),i=cp(a,c),s?t.classBindings=i:t.styleBindings=i}(o,s,t,n,i,r)}}(s,e,i,r),t!==te&&ft(o,i,t)&&function tO(e,t,n,r,o,s,i,a){if(!(3&t.type))return;const c=e.data,l=c[a+1],u=function $4(e){return!(1&~e)}(l)?nO(c,t,n,o,oi(l),i):void 0;up(u)||(up(s)||function H4(e){return!(2&~e)}(l)&&(s=nO(c,null,n,o,a,i)),function j$(e,t,n,r,o){if(t)o?e.addClass(n,r):e.removeClass(n,r);else{let s=-1===r.indexOf("-")?void 0:es.DashCase;null==o?e.removeStyle(n,r,s):("string"==typeof o&&o.endsWith("!important")&&(o=o.slice(0,-10),s|=es.Important),e.setStyle(n,r,o,s))}}(r,i,Zl(Qt(),n),o,s))}(s,s.data[Qt()],o,o[G],e,o[i+1]=function cz(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=Dt(function Zo(e){return e instanceof f0?e.changingThisBreaksApplicationSecurity:e}(e)))),e}(t,n),r,i)}function Dv(e,t,n,r,o){let s=null;const i=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<i&&(s=t[a],r=Bu(r,s.hostAttrs,o),s!==e);)a++;return null!==e&&(n.directiveStylingLast=a),r}function Bu(e,t,n){const r=n?1:2;let o=-1;if(null!==t)for(let s=0;s<t.length;s++){const i=t[s];"number"==typeof i?o=i:o===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),xn(e,i,!!n||t[++s]))}return void 0===e?null:e}function nO(e,t,n,r,o,s){const i=null===t;let a;for(;o>0;){const c=e[o],l=Array.isArray(c),u=l?c[1]:c,f=null===u;let d=n[o+1];d===te&&(d=f?_e:void 0);let p=f?ty(d,r):u===r?d:void 0;if(l&&!up(p)&&(p=ty(c,r)),up(p)&&(a=p,i))return a;const g=e[o+1];o=i?rs(g):oi(g)}if(null!==t){let c=s?t.residualClasses:t.residualStyles;null!=c&&(a=ty(c,r))}return a}function up(e){return void 0!==e}function xe(e,t,n,r){const o=D(),s=ue(),i=ee+e,a=o[G],c=s.firstCreatePass?function xz(e,t,n,r,o,s){const i=t.consts,c=Ba(t,e,2,r,Nr(i,o));return xb(t,n,c,Nr(i,s)),null!==c.attrs&&Kh(c,c.attrs,!1),null!==c.mergedAttrs&&Kh(c,c.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,c),c}(i,s,o,t,n,r):s.data[i],l=aO(s,o,c,a,t,e);o[i]=l;const u=sh(c);return Fr(c,!0),W0(a,l,c),!function Fu(e){return!(32&~e.flags)}(c)&&ru()&&Ph(s,o,l,c),0===function y3(){return K.lFrame.elementDepthCount}()&&Jt(l,o),function b3(){K.lFrame.elementDepthCount++}(),u&&(Tb(s,o,c),Mb(s,c,o)),null!==r&&kb(o,c),xe}function Me(){let e=ke();Ty()?ky():(e=e.parent,Fr(e,!1));const t=e;(function E3(e){return K.skipHydrationRootTNode===e})(t)&&function C3(){K.skipHydrationRootTNode=null}(),function v3(){K.lFrame.elementDepthCount--}();const n=ue();return n.firstCreatePass&&(lh(n,e),my(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function V3(e){return!!(8&e.flags)}(t)&&Sv(n,t,D(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function H3(e){return!!(16&e.flags)}(t)&&Sv(n,t,D(),t.stylesWithoutHost,!1),Me}function wn(e,t,n,r){return xe(e,t,n,r),Me(),wn}let aO=(e,t,n,r,o,s)=>(Pr(!0),Ah(r,o,function lM(){return K.lFrame.currentNamespace}()));function ss(e,t,n){const r=D(),o=ue(),s=e+ee,i=o.firstCreatePass?function Nz(e,t,n,r,o){const s=t.consts,i=Nr(s,r),a=Ba(t,e,8,"ng-container",i);return null!==i&&Kh(a,i,!0),xb(t,n,a,Nr(s,o)),null!==t.queries&&t.queries.elementStart(t,a),a}(s,o,r,t,n):o.data[s];Fr(i,!0);const a=lO(o,r,i,e);return r[s]=a,ru()&&Ph(o,r,a,i),Jt(a,r),sh(i)&&(Tb(o,r,i),Mb(o,i,r)),null!=n&&kb(r,i),ss}function is(){let e=ke();const t=ue();return Ty()?ky():(e=e.parent,Fr(e,!1)),t.firstCreatePass&&(lh(t,e),my(e)&&t.queries.elementEnd(e)),is}let lO=(e,t,n,r)=>(Pr(!0),vb(t[G],""));function kv(){return D()}const ic="en-US";let pO=ic;function ac(e,t,n,r){const o=D(),s=ue(),i=ke();return function Rv(e,t,n,r,o,s,i){const a=sh(r),l=e.firstCreatePass&&function oT(e){return e.cleanup||(e.cleanup=[])}(e),u=t[Le],f=function rT(e){return e[Ea]||(e[Ea]=[])}(t);let d=!0;if(3&r.type||i){const m=ln(r,t),y=i?i(m):m,w=f.length,v=i?N=>i(Oe(N[r.index])):r.index;let k=null;if(!i&&a&&(k=function FX(e,t,n,r){const o=e.cleanup;if(null!=o)for(let s=0;s<o.length-1;s+=2){const i=o[s];if(i===n&&o[s+1]===r){const a=t[Ea],c=o[s+2];return a.length>c?a[c]:null}"string"==typeof i&&(s+=2)}return null}(e,t,o,r.index)),null!==k)(k.__ngLastListenerFn__||k).__ngNextListenerFn__=s,k.__ngLastListenerFn__=s,d=!1;else{s=UO(r,t,u,s,!1);const N=n.listen(y,o,s);f.push(s,N),l&&l.push(o,v,w,w+1)}}else s=UO(r,t,u,s,!1);const p=r.outputs;let g;if(d&&null!==p&&(g=p[o])){const m=g.length;if(m)for(let y=0;y<m;y+=2){const $=t[g[y]][g[y+1]].subscribe(s),le=f.length;f.push(s,$),l&&l.push(o,r.index,le,-(le+1))}}}(s,o,o[G],i,e,t,r),ac}function HO(e,t,n,r){const o=ie(null);try{return Ar(6,t,n),!1!==n(r)}catch(s){return Vh(e,s),!1}finally{Ar(7,t,n),ie(o)}}function UO(e,t,n,r,o){return function s(i){if(i===Function)return r;Su(e.componentOffset>-1?An(e.index,t):t);let c=HO(t,n,r,i),l=s.__ngNextListenerFn__;for(;l;)c=HO(t,n,l,i)&&c,l=l.__ngNextListenerFn__;return o&&!1===c&&i.preventDefault(),c}}function yt(e=1){return function x3(e){return(K.lFrame.contextLView=function QI(e,t){for(;e>0;)t=t[wa],e--;return t}(e,K.lFrame.contextLView))[Le]}(e)}function Zt(e,t=""){const n=D(),r=ue(),o=e+ee,s=r.firstCreatePass?Ba(r,o,1,t,null):r.data[o],i=ax(r,n,s,t,e);n[o]=i,ru()&&Ph(r,n,i,s),Fr(s,!1)}let ax=(e,t,n,r,o)=>(Pr(!0),function bb(e,t){return e.createText(t)}(t[G],r));function cc(e){return ii("",e,""),cc}function ii(e,t,n){const r=D(),o=function Ya(e,t,n,r){return ft(e,Er(),n)?t+Z(n)+r:te}(r,e,t,n);return o!==te&&function fo(e,t,n){const r=Zl(t,e);!function x0(e,t,n){e.setValue(t,n)}(e[G],r,n)}(r,Qt(),o),ii}let f8=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=sy(0,n.type),o=r.length>0?function dk(e,t,n=null){return new fk({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,o)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=W({token:e,providedIn:"environment",factory:()=>new e(L(_r))})}return e})();function jv(e){(function Vr(e){ST.has(e)||(ST.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))})("NgStandalone"),e.getStandaloneInjector=t=>t.get(f8).getOrCreateStandaloneInjector(e)}function Bv(e,t,n,r){return vx(D(),un(),e,t,n,r)}function vx(e,t,n,r,o,s){const i=t+n;return ft(e,i,o)?function Ur(e,t,n){return e[t]=n}(e,i+1,s?r.call(s,o):r(o)):function zu(e,t){const n=e[t];return n===te?void 0:n}(e,i+1)}function Vv(e,t){const n=ue();let r;const o=e+ee;n.firstCreatePass?(r=function S8(e,t){if(t)for(let n=t.length-1;n>=0;n--){const r=t[n];if(e===r.name)return r}}(t,n.pipeRegistry),n.data[o]=r,r.onDestroy&&(n.destroyHooks??=[]).push(o,r.onDestroy)):r=n.data[o];const s=r.factory||(r.factory=$s(r.type)),a=_n(ne);try{const c=dh(!1),l=s();return dh(c),function zX(e,t,n,r){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=r}(n,D(),o,l),l}finally{_n(a)}}function Hv(e,t,n){const r=e+ee,o=D(),s=function Ca(e,t){return e[t]}(o,r);return function Xu(e,t){return e[x].data[t].pure}(o,r)?vx(o,un(),t,s.transform,n,s):s.transform(n)}const qx=new P(""),yp=new P("");let Yv,Gv=(()=>{class e{constructor(n,r,o){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,Yv||(function wG(e){Yv=e}(o),o.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Re.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb()}});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,o){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(i=>i.timeoutId!==s),n()},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:o})}whenStable(n,r,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,o),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,o){return[]}static#e=this.\u0275fac=function(r){return new(r||e)(L(Re),L(Kv),L(yp))};static#t=this.\u0275prov=W({token:e,factory:e.\u0275fac})}return e})(),Kv=(()=>{class e{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return Yv?.findTestabilityInTree(this,n,r)??null}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();function Qv(e){return!!e&&"function"==typeof e.then}function Wx(e){return!!e&&"function"==typeof e.subscribe}const SG=new P("");let Jv=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=U(SG,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const o of this.appInits){const s=o();if(Qv(s))n.push(s);else if(Wx(s)){const i=new Promise((a,c)=>{s.subscribe({complete:a,error:c})});n.push(i)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(o=>{this.reject(o)}),0===n.length&&r(),this.initialized=!0}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const zx=new P("");function Kx(e,t){return Array.isArray(t)?t.reduce(Kx,e):{...e,...t}}let ai=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=U(xM),this.afterRenderEffectManager=U(ku),this.externalTestViews=new Set,this.beforeRender=new pr,this.afterTick=new pr,this.componentTypes=[],this.components=[],this.isStable=U(ti).hasPendingTasks.pipe(cn(n=>!n)),this._injector=U(_r)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const o=n instanceof bT;if(!this._injector.get(Jv).done)throw!o&&function qs(e){const t=ce(e)||Ct(e)||Ht(e);return null!==t&&t.standalone}(n),new A(405,!1);let i;i=o?n:this._injector.get(Xh).resolveComponentFactory(n),this.componentTypes.push(i.componentType);const a=function DG(e){return e.isBoundToModule}(i)?void 0:this._injector.get(ei),l=i.create(Kn.NULL,[],r||i.selector,a),u=l.location.nativeElement,f=l.injector.get(qx,null);return f?.registerApplication(u),l.onDestroy(()=>{this.detachView(l.hostView),bp(this.components,l),f?.unregisterApplication(u)}),this._loadComponent(l),l}tick(){this._tick(!0)}_tick(n){if(this._runningTick)throw new A(101,!1);const r=ie(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(n)}catch(o){this.internalErrorHandler(o)}finally{this.afterTick.next(),this._runningTick=!1,ie(r)}}detectChangesInAttachedViews(n){let r=0;const o=this.afterRenderEffectManager;for(;;){if(r===lT)throw new A(103,!1);if(n){const s=0===r;this.beforeRender.next(s);for(let{_lView:i,notifyErrorHandler:a}of this._views)IG(i,s,a)}if(r++,o.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>Zv(s))&&(o.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>Zv(s))))break}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;bp(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(zx,[]);[...this._bootstrapListeners,...r].forEach(o=>o(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>bp(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new A(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function bp(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}function IG(e,t,n){!t&&!Zv(e)||function MG(e,t,n){let r;n?(r=0,e[B]|=1024):r=64&e[B]?0:1,Hh(e,t,r)}(e,n,t)}function Zv(e){return Sy(e)}let xG=(()=>{class e{constructor(){this.zone=U(Re),this.applicationRef=U(ai)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function RG(){const e=U(Re),t=U(jr);return n=>e.runOutsideAngular(()=>t.handleError(n))}let NG=(()=>{class e{constructor(){this.subscription=new Xn,this.initialized=!1,this.zone=U(Re),this.pendingTasks=U(ti)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Re.assertNotInAngularZone(),queueMicrotask(()=>{null!==n&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Re.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const po=new P("",{providedIn:"root",factory:()=>U(po,pe.Optional|pe.SkipSelf)||function FG(){return typeof $localize<"u"&&$localize.locale||ic}()}),eE=new P("");let Zx=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const o=function sW(e="zone.js",t){return"noop"===e?new MT:"zone.js"===e?new Re(t):e}(r?.ngZone,function Jx(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return o.run(()=>{const s=function e4(e,t,n){return new cv(e,t,n)}(n.moduleType,this.injector,function Qx(e){return[{provide:Re,useFactory:e},{provide:_a,multi:!0,useFactory:()=>{const t=U(xG,{optional:!0});return()=>t.initialize()}},{provide:_a,multi:!0,useFactory:()=>{const t=U(NG);return()=>{t.initialize()}}},{provide:xM,useFactory:RG}]}(()=>o)),i=s.injector.get(jr,null);return o.runOutsideAngular(()=>{const a=o.onError.subscribe({next:c=>{i.handleError(c)}});s.onDestroy(()=>{bp(this._modules,s),a.unsubscribe()})}),function Gx(e,t,n){try{const r=n();return Qv(r)?r.catch(o=>{throw t.runOutsideAngular(()=>e.handleError(o)),o}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(i,o,()=>{const a=s.injector.get(Jv);return a.runInitializers(),a.donePromise.then(()=>(function gO(e){"string"==typeof e&&(pO=e.toLowerCase().replace(/_/g,"-"))}(s.injector.get(po,ic)||ic),this._moduleDoBootstrap(s),s))})})}bootstrapModule(n,r=[]){const o=Kx({},r);return function OG(e,t,n){const r=new lv(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,o))}_moduleDoBootstrap(n){const r=n.injector.get(ai);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(o=>r.bootstrap(o));else{if(!n.instance.ngDoBootstrap)throw new A(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new A(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(eE,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(r){return new(r||e)(L(Kn))};static#t=this.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})(),as=null;const eR=new P("");function tR(e,t,n=[]){const r=`Platform: ${t}`,o=new P(r);return(s=[])=>{let i=tE();if(!i||i.injector.get(eR,!1)){const a=[...n,...s,{provide:o,useValue:!0}];e?e(a):function jG(e){if(as&&!as.get(eR,!1))throw new A(400,!1);(function Xx(){!function jV(e){YC=e}(()=>{throw new A(600,!1)})})(),as=e;const t=e.get(Zx);(function rR(e){e.get(ZM,null)?.forEach(n=>n())})(e)}(function nR(e=[],t){return Kn.create({name:t,providers:[{provide:cy,useValue:"platform"},{provide:eE,useValue:new Set([()=>as=null])},...e]})}(a,r))}return function BG(e){const t=tE();if(!t)throw new A(401,!1);return t}()}}function tE(){return as?.get(Zx)??null}let sR=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=HG}return e})();function HG(e){return function UG(e,t,n){if(Xs(e)&&!n){const r=An(e.index,t);return new Du(r,r)}return 47&e.type?new Du(t[tt],t):null}(ke(),D(),!(16&~e))}class lR{constructor(){}supports(t){return ep(t)}create(t){return new XG(t)}}const zG=(e,t)=>t;class XG{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||zG}forEachItem(t){let n;for(n=this._itHead;null!==n;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,o=0,s=null;for(;n||r;){const i=!r||n&&n.currentIndex<fR(r,o,s)?n:r,a=fR(i,o,s),c=i.currentIndex;if(i===r)o--,r=r._nextRemoved;else if(n=n._next,null==i.previousIndex)o++;else{s||(s=[]);const l=a-o,u=c-o;if(l!=u){for(let d=0;d<l;d++){const p=d<s.length?s[d]:s[d]=0,g=p+d;u<=g&&g<l&&(s[d]=p+1)}s[i.previousIndex]=u-l}}a!==c&&t(i,a,c)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)t(n)}diff(t){if(null==t&&(t=[]),!ep(t))throw new A(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let o,s,i,n=this._itHead,r=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)s=t[a],i=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,i)?(r&&(n=this._verifyReinsertion(n,s,i,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,i,a),r=!0),n=n._next}else o=0,function o4(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Symbol.iterator]();let r;for(;!(r=n.next()).done;)t(r.value)}}(t,a=>{i=this._trackByFn(o,a),null!==n&&Object.is(n.trackById,i)?(r&&(n=this._verifyReinsertion(n,a,i,o)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,i,o),r=!0),n=n._next,o++}),this.length=o;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,o){let s;return null===t?s=this._itTail:(s=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,s,o)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(r,o))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,s,o)):t=this._addAfter(new GG(n,r),s,o),t}_verifyReinsertion(t,n,r,o){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?t=this._reinsertAfter(s,t._prev,o):t.currentIndex!=o&&(t.currentIndex=o,this._addToMoves(t,o)),t}_truncate(t){for(;null!==t;){const n=t._next;this._addToRemovals(this._unlink(t)),t=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const o=t._prevRemoved,s=t._nextRemoved;return null===o?this._removalsHead=s:o._nextRemoved=s,null===s?this._removalsTail=o:s._prevRemoved=o,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){const o=null===n?this._itHead:n._next;return t._next=o,t._prev=n,null===o?this._itTail=t:o._prev=t,null===n?this._itHead=t:n._next=t,null===this._linkedRecords&&(this._linkedRecords=new uR),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const n=t._prev,r=t._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new uR),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class GG{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class KG{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){const n=t._prevDup,r=t._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class uR{constructor(){this.map=new Map}put(t){const n=t.trackById;let r=this.map.get(n);r||(r=new KG,this.map.set(n,r)),r.add(t)}get(t,n){const o=this.map.get(t);return o?o.get(t,n):null}remove(t){const n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function fR(e,t,n){const r=e.previousIndex;if(null===r)return r;let o=0;return n&&r<n.length&&(o=n[r]),r+t+o}function hR(){return new iE([new lR])}let iE=(()=>{class e{static#e=this.\u0275prov=W({token:e,providedIn:"root",factory:hR});constructor(n){this.factories=n}static create(n,r){if(null!=r){const o=r.factories.slice();n=n.concat(o)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||hR()),deps:[[e,new Z_,new J_]]}}find(n){const r=this.factories.find(o=>o.supports(n));if(null!=r)return r;throw new A(901,!1)}}return e})();const e5=tR(null,"core",[]);let t5=(()=>{class e{constructor(n){}static#e=this.\u0275fac=function(r){return new(r||e)(L(ai))};static#t=this.\u0275mod=Yo({type:e});static#n=this.\u0275inj=ro({})}return e})();function PR(e){const t=ie(null);try{return e()}finally{ie(t)}}let LR=null;function lE(){return LR}class L5{}const go=new P("");function zR(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const r=n.indexOf("="),[o,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(o.trim()===t)return decodeURIComponent(s)}return null}const bE=/\s+/,XR=[];let GR=(()=>{class e{constructor(n,r){this._ngEl=n,this._renderer=r,this.initialClasses=XR,this.stateMap=new Map}set klass(n){this.initialClasses=null!=n?n.trim().split(bE):XR}set ngClass(n){this.rawClass="string"==typeof n?n.trim().split(bE):n}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(const r of n)this._updateState(r,!0);else if(null!=n)for(const r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){const o=this.stateMap.get(n);void 0!==o?(o.enabled!==r&&(o.changed=!0,o.enabled=r),o.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const n of this.stateMap){const r=n[0],o=n[1];o.changed?(this._toggleClass(r,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),o.touched=!1}}_toggleClass(n,r){(n=n.trim()).length>0&&n.split(bE).forEach(o=>{r?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}static#e=this.\u0275fac=function(r){return new(r||e)(ne(Ra),ne(wT))};static#t=this.\u0275dir=Gn({type:e,selectors:[["","ngClass",""]],inputs:{klass:[Ko.None,"class","klass"],ngClass:"ngClass"},standalone:!0})}return e})();class D6{constructor(t,n,r,o){this.$implicit=t,this.ngForOf=n,this.index=r,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let vE=(()=>{class e{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,o){this._viewContainer=n,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((o,s,i)=>{if(null==o.previousIndex)r.createEmbeddedView(this._template,new D6(o.item,this._ngForOf,-1,-1),null===i?void 0:i);else if(null==i)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,i),YR(a,o)}});for(let o=0,s=r.length;o<s;o++){const a=r.get(o).context;a.index=o,a.count=s,a.ngForOf=this._ngForOf}n.forEachIdentityChange(o=>{YR(r.get(o.currentIndex),o)})}static ngTemplateContextGuard(n,r){return!0}static#e=this.\u0275fac=function(r){return new(r||e)(ne(Hr),ne(ho),ne(iE))};static#t=this.\u0275dir=Gn({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return e})();function YR(e,t){e.context.$implicit=t.item}let Vp=(()=>{class e{constructor(n,r){this._viewContainer=n,this._context=new C6,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){QR("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){QR("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static#e=this.\u0275fac=function(r){return new(r||e)(ne(Hr),ne(ho))};static#t=this.\u0275dir=Gn({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return e})();class C6{constructor(){this.$implicit=null,this.ngIf=null}}function QR(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${Dt(t)}'.`)}class k6{createSubscription(t,n){return PR(()=>t.subscribe({next:n,error:r=>{throw r}}))}dispose(t){PR(()=>t.unsubscribe())}}class O6{createSubscription(t,n){return t.then(n,r=>{throw r})}dispose(t){}}const x6=new O6,R6=new k6;let SE=(()=>{class e{constructor(n){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){if(!this._obj){if(n)try{this.markForCheckOnValueUpdate=!1,this._subscribe(n)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,r=>this._updateLatestValue(n,r))}_selectStrategy(n){if(Qv(n))return x6;if(Wx(n))return R6;throw function Ir(e,t){return new A(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,r){n===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static#e=this.\u0275fac=function(r){return new(r||e)(ne(sR,16))};static#t=this.\u0275pipe=bn({name:"async",type:e,pure:!1,standalone:!0})}return e})(),eA=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Yo({type:e});static#n=this.\u0275inj=ro({})}return e})();const tA="browser";function nA(e){return e===tA}function rA(e){return"server"===e}class Hp{}class M7 extends L5{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ME extends M7{static makeCurrent(){!function P5(e){LR??=e}(new ME)}onAndCancel(t,n,r){return t.addEventListener(n,r),()=>{t.removeEventListener(n,r)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,n){return(n=n||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return"window"===n?window:"document"===n?t:"body"===n?t.body:null}getBaseHref(t){const n=function T7(){return tf=tf||document.querySelector("base"),tf?tf.getAttribute("href"):null}();return null==n?null:function k7(e){return new URL(e,document.baseURI).pathname}(n)}resetBaseElement(){tf=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return zR(document.cookie,t)}}let tf=null,x7=(()=>{class e{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=W({token:e,factory:e.\u0275fac})}return e})();const TE=new P("");let dA=(()=>{class e{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(o=>{o.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,o){return this._findPluginFor(r).addEventListener(n,r,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(s=>s.supports(n)),!r)throw new A(5101,!1);return this._eventNameToPlugin.set(n,r),r}static#e=this.\u0275fac=function(r){return new(r||e)(L(TE),L(Re))};static#t=this.\u0275prov=W({token:e,factory:e.\u0275fac})}return e})();class hA{constructor(t){this._doc=t}}const kE="ng-app-id";let pA=(()=>{class e{constructor(n,r,o,s={}){this.doc=n,this.appId=r,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=rA(s),this.resetHostNodes()}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.elements?.forEach(o=>o.remove()),r.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${kE}="${this.appId}"]`);if(n?.length){const r=new Map;return n.forEach(o=>{null!=o.textContent&&r.set(o.textContent,o)}),r}return null}changeUsageCount(n,r){const o=this.styleRef;if(o.has(n)){const s=o.get(n);return s.usage+=r,s.usage}return o.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){const o=this.styleNodesInDOM,s=o?.get(r);if(s?.parentNode===n)return o.delete(r),s.removeAttribute(kE),s;{const i=this.doc.createElement("style");return this.nonce&&i.setAttribute("nonce",this.nonce),i.textContent=r,this.platformIsServer&&i.setAttribute(kE,this.appId),n.appendChild(i),i}}addStyleToHost(n,r){const o=this.getStyleElement(n,r),s=this.styleRef,i=s.get(r)?.elements;i?i.push(o):s.set(r,{elements:[o],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}static#e=this.\u0275fac=function(r){return new(r||e)(L(go),L(Eh),L(Yy,8),L(lo))};static#t=this.\u0275prov=W({token:e,factory:e.\u0275fac})}return e})();const OE={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},xE=/%COMP%/g,F7=new P("",{providedIn:"root",factory:()=>!0});function mA(e,t){return t.map(n=>n.replace(xE,e))}let _A=(()=>{class e{constructor(n,r,o,s,i,a,c,l=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=i,this.platformId=a,this.ngZone=c,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=rA(a),this.defaultRenderer=new RE(n,i,c,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===gr.ShadowDom&&(r={...r,encapsulation:gr.Emulated});const o=this.getOrCreateRenderer(n,r);return o instanceof bA?o.applyToHost(n):o instanceof AE&&o.applyStyles(),o}getOrCreateRenderer(n,r){const o=this.rendererByCompId;let s=o.get(r.id);if(!s){const i=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,f=this.platformIsServer;switch(r.encapsulation){case gr.Emulated:s=new bA(c,l,r,this.appId,u,i,a,f);break;case gr.ShadowDom:return new B7(c,l,n,r,i,a,this.nonce,f);default:s=new AE(c,l,r,u,i,a,f)}o.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(r){return new(r||e)(L(dA),L(pA),L(Eh),L(F7),L(go),L(lo),L(Re),L(Yy))};static#t=this.\u0275prov=W({token:e,factory:e.\u0275fac})}return e})();class RE{constructor(t,n,r,o){this.eventManager=t,this.doc=n,this.ngZone=r,this.platformIsServer=o,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t,n){return n?this.doc.createElementNS(OE[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(yA(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(yA(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){t&&t.removeChild(n)}selectRootElement(t,n){let r="string"==typeof t?this.doc.querySelector(t):t;if(!r)throw new A(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,o){if(o){n=o+":"+n;const s=OE[o];s?t.setAttributeNS(s,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){const o=OE[r];o?t.removeAttributeNS(o,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,o){o&(es.DashCase|es.Important)?t.style.setProperty(n,r,o&es.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&es.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){null!=t&&(t[n]=r)}setValue(t,n){t.nodeValue=n}listen(t,n,r){if("string"==typeof t&&!(t=lE().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${n}`);return this.eventManager.addEventListener(t,n,this.decoratePreventDefault(r))}decoratePreventDefault(t){return n=>{if("__ngUnwrap__"===n)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(n)):t(n))&&n.preventDefault()}}}function yA(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class B7 extends RE{constructor(t,n,r,o,s,i,a,c){super(t,s,i,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=mA(o.id,o.styles);for(const u of l){const f=document.createElement("style");a&&f.setAttribute("nonce",a),f.textContent=u,this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(this.nodeOrShadowRoot(t),n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class AE extends RE{constructor(t,n,r,o,s,i,a,c){super(t,s,i,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=o,this.styles=c?mA(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class bA extends AE{constructor(t,n,r,o,s,i,a,c){const l=o+"-"+r.id;super(t,n,r,s,i,a,c,l),this.contentAttr=function P7(e){return"_ngcontent-%COMP%".replace(xE,e)}(l),this.hostAttr=function L7(e){return"_nghost-%COMP%".replace(xE,e)}(l)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){const r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}}let V7=(()=>{class e extends hA{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,o){return n.addEventListener(r,o,!1),()=>this.removeEventListener(n,r,o)}removeEventListener(n,r,o){return n.removeEventListener(r,o)}static#e=this.\u0275fac=function(r){return new(r||e)(L(go))};static#t=this.\u0275prov=W({token:e,factory:e.\u0275fac})}return e})();const vA=["alt","control","meta","shift"],H7={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},U7={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let $7=(()=>{class e extends hA{constructor(n){super(n)}supports(n){return null!=e.parseEventName(n)}addEventListener(n,r,o){const s=e.parseEventName(r),i=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>lE().onAndCancel(n,s.domEventName,i))}static parseEventName(n){const r=n.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const s=e._normalizeKey(r.pop());let i="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),i="code."),vA.forEach(l=>{const u=r.indexOf(l);u>-1&&(r.splice(u,1),i+=l+".")}),i+=s,0!=r.length||0===s.length)return null;const c={};return c.domEventName=o,c.fullKey=i,c}static matchEventFullKeyCode(n,r){let o=H7[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(o=n.code,s="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),vA.forEach(i=>{i!==o&&(0,U7[i])(n)&&(s+=i+".")}),s+=o,s===r)}static eventCallback(n,r,o){return s=>{e.matchEventFullKeyCode(s,n)&&o.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}static#e=this.\u0275fac=function(r){return new(r||e)(L(go))};static#t=this.\u0275prov=W({token:e,factory:e.\u0275fac})}return e})();const X7=tR(e5,"browser",[{provide:lo,useValue:tA},{provide:ZM,useValue:function q7(){ME.makeCurrent()},multi:!0},{provide:go,useFactory:function z7(){return function TU(e){Ky=e}(document),document},deps:[]}]),G7=new P(""),SA=[{provide:yp,useClass:class O7{addToWindow(t){Ce.getAngularTestability=(r,o=!0)=>{const s=t.findTestabilityInTree(r,o);if(null==s)throw new A(5103,!1);return s},Ce.getAllAngularTestabilities=()=>t.getAllTestabilities(),Ce.getAllAngularRootElements=()=>t.getAllRootElements(),Ce.frameworkStabilizers||(Ce.frameworkStabilizers=[]),Ce.frameworkStabilizers.push(r=>{const o=Ce.getAllAngularTestabilities();let s=o.length;const i=function(){s--,0==s&&r()};o.forEach(a=>{a.whenStable(i)})})}findTestabilityInTree(t,n,r){return null==n?null:t.getTestability(n)??(r?lE().isShadowRoot(n)?this.findTestabilityInTree(t,n.host,!0):this.findTestabilityInTree(t,n.parentElement,!0):null)}},deps:[]},{provide:qx,useClass:Gv,deps:[Re,Kv,yp]},{provide:Gv,useClass:Gv,deps:[Re,Kv,yp]}],DA=[{provide:cy,useValue:"root"},{provide:jr,useFactory:function W7(){return new jr},deps:[]},{provide:TE,useClass:V7,multi:!0,deps:[go,Re,lo]},{provide:TE,useClass:$7,multi:!0,deps:[go]},_A,pA,dA,{provide:ET,useExisting:_A},{provide:Hp,useClass:x7,deps:[]},[]];let K7=(()=>{class e{constructor(n){}static withServerTransition(n){return{ngModule:e,providers:[{provide:Eh,useValue:n.appId}]}}static#e=this.\u0275fac=function(r){return new(r||e)(L(G7,12))};static#t=this.\u0275mod=Yo({type:e});static#n=this.\u0275inj=ro({providers:[...DA,...SA],imports:[eA,t5]})}return e})();function TA(e){return Array.isArray(e)?e:[e]}const{isArray:e9}=Array,{getPrototypeOf:t9,prototype:n9,keys:r9}=Object;function cs(e){return this instanceof cs?(this.v=e,this):new cs(e)}function AA(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=e[Symbol.asyncIterator];return t?t.call(e):(e=function LE(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=e[s]&&function(i){return new Promise(function(a,c){!function o(s,i,a,c){Promise.resolve(c).then(function(l){s({value:l,done:a})},i)}(a,c,(i=e[s](i)).done,i.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const NA=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function FA(e){return st(e?.then)}function PA(e){return st(e[F_])}function LA(e){return Symbol.asyncIterator&&st(e?.[Symbol.asyncIterator])}function jA(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const BA=function M9(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function VA(e){return st(e?.[BA])}function HA(e){return function xA(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,r=n.apply(e,t||[]),s=[];return o={},i("next"),i("throw"),i("return"),o[Symbol.asyncIterator]=function(){return this},o;function i(d){r[d]&&(o[d]=function(p){return new Promise(function(g,m){s.push([d,p,g,m])>1||a(d,p)})})}function a(d,p){try{!function c(d){d.value instanceof cs?Promise.resolve(d.value.v).then(l,u):f(s[0][2],d)}(r[d](p))}catch(g){f(s[0][3],g)}}function l(d){a("next",d)}function u(d){a("throw",d)}function f(d,p){d(p),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const n=e.getReader();try{for(;;){const{value:r,done:o}=yield cs(n.read());if(o)return yield cs(void 0);yield yield cs(r)}}finally{n.releaseLock()}})}function UA(e){return st(e?.getReader)}function ls(e){if(e instanceof ct)return e;if(null!=e){if(PA(e))return function T9(e){return new ct(t=>{const n=e[F_]();if(st(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(NA(e))return function k9(e){return new ct(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}(e);if(FA(e))return function O9(e){return new ct(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,nI)})}(e);if(LA(e))return $A(e);if(VA(e))return function x9(e){return new ct(t=>{for(const n of e)if(t.next(n),t.closed)return;t.complete()})}(e);if(UA(e))return function R9(e){return $A(HA(e))}(e)}throw jA(e)}function $A(e){return new ct(t=>{(function A9(e,t){var n,r,o,s;return function kA(e,t,n,r){return new(n||(n=Promise))(function(s,i){function a(u){try{l(r.next(u))}catch(f){i(f)}}function c(u){try{l(r.throw(u))}catch(f){i(f)}}function l(u){u.done?s(u.value):function o(s){return s instanceof n?s:new n(function(i){i(s)})}(u.value).then(a,c)}l((r=r.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){try{for(n=AA(e);!(r=yield n.next()).done;)if(t.next(r.value),t.closed)return}catch(i){o={error:i}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(o)throw o.error}}t.complete()})})(e,t).catch(n=>t.error(n))})}function yo(e,t,n,r=0,o=!1){const s=t.schedule(function(){n(),o?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(s),!o)return s}function qA(e,t=0){return an((n,r)=>{n.subscribe(mn(r,o=>yo(r,e,()=>r.next(o),t),()=>yo(r,e,()=>r.complete(),t),o=>yo(r,e,()=>r.error(o),t)))})}function WA(e,t=0){return an((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function zA(e,t){if(!e)throw new Error("Iterable cannot be null");return new ct(n=>{yo(n,t,()=>{const r=e[Symbol.asyncIterator]();yo(n,t,()=>{r.next().then(o=>{o.done?n.complete():n.next(o.value)})},0,!0)})})}function hc(e,t){return t?function B9(e,t){if(null!=e){if(PA(e))return function N9(e,t){return ls(e).pipe(WA(t),qA(t))}(e,t);if(NA(e))return function P9(e,t){return new ct(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}(e,t);if(FA(e))return function F9(e,t){return ls(e).pipe(WA(t),qA(t))}(e,t);if(LA(e))return zA(e,t);if(VA(e))return function L9(e,t){return new ct(n=>{let r;return yo(n,t,()=>{r=e[BA](),yo(n,t,()=>{let o,s;try{({value:o,done:s}=r.next())}catch(i){return void n.error(i)}s?n.complete():n.next(o)},0,!0)}),()=>st(r?.return)&&r.return()})}(e,t);if(UA(e))return function j9(e,t){return zA(HA(e),t)}(e,t)}throw jA(e)}(e,t):ls(e)}const{isArray:V9}=Array;function XA(e){return e&&st(e.schedule)}function jE(e){return e[e.length-1]}function Wp(e){return XA(jE(e))?e.pop():void 0}function GA(...e){const t=Wp(e),n=function $9(e){return st(jE(e))?e.pop():void 0}(e),{args:r,keys:o}=function o9(e){if(1===e.length){const t=e[0];if(e9(t))return{args:t,keys:null};if(function s9(e){return e&&"object"==typeof e&&t9(e)===n9}(t)){const n=r9(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}(e);if(0===r.length)return hc([],t);const s=new ct(function W9(e,t,n=ca){return r=>{KA(t,()=>{const{length:o}=e,s=new Array(o);let i=o,a=o;for(let c=0;c<o;c++)KA(t,()=>{const l=hc(e[c],t);let u=!1;l.subscribe(mn(r,f=>{s[c]=f,u||(u=!0,a--),a||r.next(n(s.slice()))},()=>{--i||r.complete()}))},r)},r)}}(r,t,o?i=>function q9(e,t){return e.reduce((n,r,o)=>(n[r]=t[o],n),{})}(o,i):ca));return n?s.pipe(function U9(e){return cn(t=>function H9(e,t){return V9(t)?e(...t):e(t)}(e,t))}(n)):s}function KA(e,t,n){e?yo(n,e,t):t()}function zp(e,t,n=1/0){return st(t)?zp((r,o)=>cn((s,i)=>t(r,s,o,i))(ls(e(r,o))),n):("number"==typeof t&&(n=t),an((r,o)=>function z9(e,t,n,r,o,s,i,a){const c=[];let l=0,u=0,f=!1;const d=()=>{f&&!c.length&&!l&&t.complete()},p=m=>l<r?g(m):c.push(m),g=m=>{s&&t.next(m),l++;let y=!1;ls(n(m,u++)).subscribe(mn(t,w=>{o?.(w),s?p(w):t.next(w)},()=>{y=!0},void 0,()=>{if(y)try{for(l--;c.length&&l<r;){const w=c.shift();i?yo(t,i,()=>g(w)):g(w)}d()}catch(w){t.error(w)}}))};return e.subscribe(mn(t,p,()=>{f=!0,d()})),()=>{a?.()}}(r,o,e,n)))}function BE(...e){return function G9(){return function X9(e=1/0){return zp(ca,e)}(1)}()(hc(e,Wp(e)))}const YA=new ct(e=>e.complete());function VE(e){return e<=0?()=>YA:an((t,n)=>{let r=0;t.subscribe(mn(n,o=>{++r<=e&&(n.next(o),e<=r&&n.complete())}))})}function HE(e,t){return an((n,r)=>{let o=0;n.subscribe(mn(r,s=>e.call(t,s,o++)&&r.next(s)))})}class Q9 extends Xn{constructor(t,n){super()}schedule(t,n=0){return this}}const Xp={setInterval(e,t,...n){const{delegate:r}=Xp;return r?.setInterval?r.setInterval(e,t,...n):setInterval(e,t,...n)},clearInterval(e){const{delegate:t}=Xp;return(t?.clearInterval||clearInterval)(e)},delegate:void 0},UE={now:()=>(UE.delegate||Date).now(),delegate:void 0};class rf{constructor(t,n=rf.now){this.schedulerActionCtor=t,this.now=n}schedule(t,n=0,r){return new this.schedulerActionCtor(this,t).schedule(r,n)}}rf.now=UE.now;const QA=new class Z9 extends rf{constructor(t,n=rf.now){super(t,n),this.actions=[],this._active=!1}flush(t){const{actions:n}=this;if(this._active)return void n.push(t);let r;this._active=!0;do{if(r=t.execute(t.state,t.delay))break}while(t=n.shift());if(this._active=!1,r){for(;t=n.shift();)t.unsubscribe();throw r}}}(class J9 extends Q9{constructor(t,n){super(t,n),this.scheduler=t,this.work=n,this.pending=!1}schedule(t,n=0){var r;if(this.closed)return this;this.state=t;const o=this.id,s=this.scheduler;return null!=o&&(this.id=this.recycleAsyncId(s,o,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(t,n,r=0){return Xp.setInterval(t.flush.bind(t,this),r)}recycleAsyncId(t,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&Xp.clearInterval(n)}execute(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(t,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,n){let o,r=!1;try{this.work(t)}catch(s){r=!0,o=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),o}unsubscribe(){if(!this.closed){const{id:t,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Pd(r,this),null!=t&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,super.unsubscribe()}}}),eK=QA;function $E(...e){const t=Wp(e);return an((n,r)=>{(t?BE(e,n,t):BE(e,n)).subscribe(r)})}function nK(e){return an((t,n)=>{ls(e).subscribe(mn(n,()=>n.complete(),O_)),!n.closed&&t.subscribe(n)})}let qE;try{qE=typeof Intl<"u"&&Intl.v8BreakIterator}catch{qE=!1}let rK=(()=>{class e{constructor(n){this._platformId=n,this.isBrowser=this._platformId?nA(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!qE)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(r){return new(r||e)(L(lo))};static#t=this.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const ZA=new Set;let ui,iK=(()=>{class e{constructor(n,r){this._platform=n,this._nonce=r,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):cK}matchMedia(n){return(this._platform.WEBKIT||this._platform.BLINK)&&function aK(e,t){if(!ZA.has(e))try{ui||(ui=document.createElement("style"),t&&(ui.nonce=t),ui.setAttribute("type","text/css"),document.head.appendChild(ui)),ui.sheet&&(ui.sheet.insertRule(`@media ${e} {body{ }}`,0),ZA.add(e))}catch(n){console.error(n)}}(n,this._nonce),this._matchMedia(n)}static#e=this.\u0275fac=function(r){return new(r||e)(L(rK),L(Yy,8))};static#t=this.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function cK(e){return{matches:"all"===e||""===e,media:e,addListener:()=>{},removeListener:()=>{}}}let lK=(()=>{class e{constructor(n,r){this._mediaMatcher=n,this._zone=r,this._queries=new Map,this._destroySubject=new pr}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(n){return eN(TA(n)).some(o=>this._registerQuery(o).mql.matches)}observe(n){let s=GA(eN(TA(n)).map(i=>this._registerQuery(i).observable));return s=BE(s.pipe(VE(1)),s.pipe(function Y9(e){return HE((t,n)=>e<=n)}(1),function tK(e,t=QA){return an((n,r)=>{let o=null,s=null,i=null;const a=()=>{if(o){o.unsubscribe(),o=null;const l=s;s=null,r.next(l)}};function c(){const l=i+e,u=t.now();if(u<l)return o=this.schedule(void 0,l-u),void r.add(o);a()}n.subscribe(mn(r,l=>{s=l,i=t.now(),o||(o=t.schedule(c,e),r.add(o))},()=>{a(),r.complete()},void 0,()=>{s=o=null}))})}(0))),s.pipe(cn(i=>{const a={matches:!1,breakpoints:{}};return i.forEach(({matches:c,query:l})=>{a.matches=a.matches||c,a.breakpoints[l]=c}),a}))}_registerQuery(n){if(this._queries.has(n))return this._queries.get(n);const r=this._mediaMatcher.matchMedia(n),s={observable:new ct(i=>{const a=c=>this._zone.run(()=>i.next(c));return r.addListener(a),()=>{r.removeListener(a)}}).pipe($E(r),cn(({matches:i})=>({query:n,matches:i})),nK(this._destroySubject)),mql:r};return this._queries.set(n,s),s}static#e=this.\u0275fac=function(r){return new(r||e)(L(iK),L(Re))};static#t=this.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function eN(e){return e.map(t=>t.split(",")).reduce((t,n)=>t.concat(n)).map(t=>t.trim())}const fK=new P("IManageGenres");var fi=function(e){return e.LIGHT="light",e.DARK="dark",e}(fi||{});class dK{getAudioBuffer(t){return zo(function*(){const n=new Request(`assets/sounds/${t}`),o=yield(yield fetch(n)).arrayBuffer();return yield(new AudioContext).decodeAudioData(o).then(s=>s)})()}}let hK=(()=>{class e{getRenderedBuffer(n,r,o,s){var i=this;return zo(function*(){const a=i.getTickLength(o),c=new OfflineAudioContext(1,2*s*a*44100,44100);return n.forEach(l=>{i.getDuplicatedTrackSteps(l).forEach((f,d)=>{if(!f)return;const p=r.find(y=>y.fileName===l.fileName).sample,g=c.createBufferSource();g.buffer=p,g.connect(c.destination),g.start(d*a)})}),c.oncomplete=l=>l.renderedBuffer,yield c.startRendering()})()}getDuplicatedTrackSteps(n){const r=[...n.steps];return r.push(...n.steps),r}getTickLength(n){return 60/n/4}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function af(...e){return hc(e,Wp(e))}function tN(e=0,t,n=eK){let r=-1;return null!=t&&(XA(t)?n=t:r=t),new ct(o=>{let s=function pK(e){return e instanceof Date&&!isNaN(e)}(e)?+e-n.now():e;s<0&&(s=0);let i=0;return n.schedule(function(){o.closed||(o.next(i++),0<=r?this.schedule(void 0,r):o.complete())},s)})}function zE(e,t){return an((n,r)=>{let o=null,s=0,i=!1;const a=()=>i&&!o&&r.complete();n.subscribe(mn(r,c=>{o?.unsubscribe();let l=0;const u=s++;ls(e(c,u)).subscribe(o=mn(r,f=>r.next(t?t(c,f,u,l++):f),()=>{o=null,a()}))},()=>{i=!0,a()}))})}class mK extends pr{constructor(t=1/0,n=1/0,r=UE){super(),this._bufferSize=t,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,n)}next(t){const{isStopped:n,_buffer:r,_infiniteTimeWindow:o,_timestampProvider:s,_windowTime:i}=this;n||(r.push(t),!o&&r.push(s.now()+i)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const n=this._innerSubscribe(t),{_infiniteTimeWindow:r,_buffer:o}=this,s=o.slice();for(let i=0;i<s.length&&!t.closed;i+=r?1:2)t.next(s[i]);return this._checkFinalizedStatuses(t),n}_trimBuffer(){const{_bufferSize:t,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:o}=this,s=(o?1:2)*t;if(t<1/0&&s<r.length&&r.splice(0,r.length-s),!o){const i=n.now();let a=0;for(let c=1;c<r.length&&r[c]<=i;c+=2)a=c;a&&r.splice(0,a+1)}}}function XE(e,t,...n){if(!0===t)return void e();if(!1===t)return;const r=new Vl({next:()=>{r.unsubscribe(),e()}});return t(...n).subscribe(r)}function bK(e,t){if(1&e&&(xe(0,"div",3),wn(1,"div",4),Me()),2&e){const n=yt(2);Ie(),os("width",n.diameter)("height",n.diameter)}}function vK(e,t){if(1&e&&wn(0,"div",5),2&e){const n=yt().ngIf,r=yt();os("background",r.color)("height",r.height)("width",n+"%")}}function EK(e,t){if(1&e&&(ss(0),Ut(1,bK,2,4,"div",1)(2,vK,1,6,"div",2),is()),2&e){const n=yt();Ie(),Ye("ngIf",n.includeSpinner),Ie(),Ye("ngIf",n.includeBar)}}function wK(e,t){if(1&e&&(xe(0,"div",3),wn(1,"div",4),Me()),2&e){const n=yt(2);Ie(),os("width",n.diameter)("height",n.diameter)}}function SK(e,t){if(1&e&&wn(0,"div",5),2&e){const n=yt().ngIf,r=yt();os("background",r.color)("height",r.height)("width",n+"%")}}function DK(e,t){if(1&e&&(ss(0),Ut(1,wK,2,4,"div",1)(2,SK,1,6,"div",2),is()),2&e){const n=yt();Ie(),Ye("ngIf",n.includeSpinner),Ie(),Ye("ngIf",n.includeBar)}}class IK{constructor(t={}){this.config=t,this.state={action:null,value:0,initialValue:0},this.requests=null,this.disabled=!1,this.stream$=new pr,this._value$=null,this.timer$=n=>{let r=af(n);switch(n.action){case"start":case"increment":case"set":"start"===n.action&&0===this.config.latencyThreshold&&0===n.value&&(n.value=n.initialValue),this.requests>0&&(r=tN(this.config.latencyThreshold,250).pipe(cn(o=>({...n,value:0===o?this.state.value||n.initialValue:this._increment()}))));break;case"complete":case"stop":r=0===n.value?af({...n}):tN(0,500).pipe(VE(2),cn(o=>({value:0===o?100:0})))}return r.pipe(cn(o=>({...o,action:"set"})),function gK(e,t,n){const r=st(e)||t||n?{next:e,error:t,complete:n}:e;return r?an((o,s)=>{var i;null===(i=r.subscribe)||void 0===i||i.call(r);let a=!0;o.subscribe(mn(s,c=>{var l;null===(l=r.next)||void 0===l||l.call(r,c),s.next(c)},()=>{var c;a=!1,null===(c=r.complete)||void 0===c||c.call(r),s.complete()},c=>{var l;a=!1,null===(l=r.error)||void 0===l||l.call(r,c),s.error(c)},()=>{var c,l;a&&(null===(c=r.unsubscribe)||void 0===c||c.call(r)),null===(l=r.finalize)||void 0===l||l.call(r)}))}):ca}(o=>this.next(o,!1)))},this.config={latencyThreshold:0,...t}}get value$(){return this._value$?this._value$:this._value$=this.stream$.pipe($E(this.state),zE(t=>this.timer$(t)),function yK(e,t,n){let r,o=!1;return e&&"object"==typeof e?({bufferSize:r=1/0,windowTime:t=1/0,refCount:o=!1,scheduler:n}=e):r=e??1/0,function _K(e={}){const{connector:t=(()=>new pr),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:o=!0}=e;return s=>{let i,a,c,l=0,u=!1,f=!1;const d=()=>{a?.unsubscribe(),a=void 0},p=()=>{d(),i=c=void 0,u=f=!1},g=()=>{const m=i;p(),m?.unsubscribe()};return an((m,y)=>{l++,!f&&!u&&d();const w=c=c??t();y.add(()=>{l--,0===l&&!f&&!u&&(a=XE(g,o))}),w.subscribe(y),!i&&l>0&&(i=new Vl({next:v=>w.next(v),error:v=>{f=!0,d(),a=XE(p,n,v),w.error(v)},complete:()=>{u=!0,d(),a=XE(p,r),w.complete()}}),ls(m).subscribe(i))})(s)}}({connector:()=>new mK(r,t,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}(),cn(t=>t.value))}start(t=2){this.disabled||this.next({action:"start",initialValue:t})}stop(){this.next({action:"stop"})}complete(){this.next({action:"complete"})}disable(){this.disabled=!0}set(t){this.next({action:"set",value:t})}increment(t=0){this.next({action:"increment",value:t})}next(t,n=!0){switch(t.action){case"start":this.requests=(this.requests||0)+1;break;case"complete":if(this.requests=(this.requests||1)-1,this.requests>0)return;break;case"stop":this.requests=0;break;case"increment":t.value=this._increment(t.value)}this.state={...this.state,action:null,...t},n&&this.stream$.next(this.state)}_increment(t=0){const n=this.state.value;return n>=99&&(t=0),0===t&&(t=n>=0&&n<25?3*Math.random()+3:n>=25&&n<65?3*Math.random():n>=65&&n<90?2*Math.random():n>=90&&n<99?.5:0),t+n}}const nN=new P("LOADING_BAR_CONFIG");let GE=(()=>{class e{get progress$(){return this.value$}constructor(n,r={},o){this.platformId=n,this.config=r,this.zone=o,this.refs={},this.streams$=new pr,this.value$=this.streams$.pipe($E(null),zE(()=>GA(Object.keys(this.refs).map(s=>this.refs[s].value$))),function MK(e){return e?t=>new ct(n=>t.subscribe(r=>e.run(()=>n.next(r)),r=>e.run(()=>n.error(r)),()=>e.run(()=>n.complete()))):t=>t}(this.zone),cn(s=>Math.max(0,...s)))}start(n=2){this.useRef().start(n)}set(n){this.useRef().set(n)}increment(n){this.useRef().increment(n)}complete(){this.useRef().complete()}stop(){this.useRef().stop()}useRef(n="default"){return this.refs[n]||(this.refs[n]=new IK(this.config),this.streams$.next(),nA(this.platformId)||this.refs[n].disable()),this.refs[n]}static#e=this.\u0275fac=function(r){return new(r||e)(L(lo),L(nN,8),L(Re,8))};static#t=this.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),TK=(()=>{class e{get value$(){return this.ref?this.loader.useRef(this.ref).value$:this.loader.value$}constructor(n){this.loader=n,this.includeSpinner=!0,this.includeBar=!0,this.fixed=!0,this.color="#29d"}static#e=this.\u0275fac=function(r){return new(r||e)(ne(GE))};static#t=this.\u0275cmp=zl({type:e,selectors:[["ngx-loading-bar"]],hostVars:3,hostBindings:function(r,o){2&r&&(ap("fixed",o.fixed),os("color",o.color))},inputs:{includeSpinner:"includeSpinner",includeBar:"includeBar",fixed:"fixed",color:"color",value:"value",ref:"ref",height:"height",diameter:"diameter"},standalone:!0,features:[jv],decls:2,vars:3,consts:[[4,"ngIf"],["class","ngx-spinner",4,"ngIf"],["class","ngx-bar",3,"background","height","width",4,"ngIf"],[1,"ngx-spinner"],[1,"ngx-spinner-icon"],[1,"ngx-bar"]],template:function(r,o){1&r&&(Ut(0,EK,3,2,"ng-container",0),Vv(1,"async")),2&r&&Ye("ngIf",null!=o.value?o.value:Hv(1,1,o.value$))},dependencies:[SE,Vp],styles:["[_nghost-%COMP%]{position:relative;display:block;pointer-events:none}[_nghost-%COMP%]   .ngx-spinner[_ngcontent-%COMP%]{transition:.35s linear all;display:block;position:absolute;top:5px;left:0}[_nghost-%COMP%]   .ngx-spinner[_ngcontent-%COMP%]   .ngx-spinner-icon[_ngcontent-%COMP%]{width:14px;height:14px;border:solid 2px transparent;border-top-color:inherit;border-left-color:inherit;border-radius:50%;animation:_ngcontent-%COMP%_loading-bar-spinner .4s linear infinite}[_nghost-%COMP%]   .ngx-bar[_ngcontent-%COMP%]{transition:width .35s;position:absolute;top:0;left:0;width:100%;height:2px;border-bottom-right-radius:1px;border-top-right-radius:1px}[dir=rtl]   [_nghost-%COMP%]   .ngx-bar[_ngcontent-%COMP%]{right:0;left:unset}[fixed=true][_nghost-%COMP%]{z-index:10002}[fixed=true][_nghost-%COMP%]   .ngx-bar[_ngcontent-%COMP%]{position:fixed}[fixed=true][_nghost-%COMP%]   .ngx-spinner[_ngcontent-%COMP%]{position:fixed;top:10px;left:10px}[dir=rtl]   [fixed=true][_nghost-%COMP%]   .ngx-spinner[_ngcontent-%COMP%]{right:10px;left:unset}@keyframes _ngcontent-%COMP%_loading-bar-spinner{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"],changeDetection:0})}return e})(),kK=(()=>{class e extends TK{static#e=this.\u0275fac=(()=>{let n;return function(o){return(n||(n=function wM(e){return no(()=>{const t=e.prototype.constructor,n=t[oo]||Hy(t),r=Object.prototype;let o=Object.getPrototypeOf(e.prototype).constructor;for(;o&&o!==r;){const s=o[oo]||Hy(o);if(s&&s!==n)return s;o=Object.getPrototypeOf(o)}return s=>new s})}(e)))(o||e)}})();static#t=this.\u0275cmp=zl({type:e,selectors:[["ngx-loading-bar"]],hostVars:3,hostBindings:function(r,o){2&r&&(ap("fixed",o.fixed),os("color",o.color))},features:[av],decls:2,vars:3,consts:[[4,"ngIf"],["class","ngx-spinner",4,"ngIf"],["class","ngx-bar",3,"background","height","width",4,"ngIf"],[1,"ngx-spinner"],[1,"ngx-spinner-icon"],[1,"ngx-bar"]],template:function(r,o){1&r&&(Ut(0,DK,3,2,"ng-container",0),Vv(1,"async")),2&r&&Ye("ngIf",null!=o.value?o.value:Hv(1,1,o.value$))},dependencies:[Vp,SE],styles:["[_nghost-%COMP%]{position:relative;display:block;pointer-events:none}[_nghost-%COMP%]   .ngx-spinner[_ngcontent-%COMP%]{transition:.35s linear all;display:block;position:absolute;top:5px;left:0}[_nghost-%COMP%]   .ngx-spinner[_ngcontent-%COMP%]   .ngx-spinner-icon[_ngcontent-%COMP%]{width:14px;height:14px;border:solid 2px transparent;border-top-color:inherit;border-left-color:inherit;border-radius:50%;animation:_ngcontent-%COMP%_loading-bar-spinner .4s linear infinite}[_nghost-%COMP%]   .ngx-bar[_ngcontent-%COMP%]{transition:width .35s;position:absolute;top:0;left:0;width:100%;height:2px;border-bottom-right-radius:1px;border-top-right-radius:1px}[dir=rtl]   [_nghost-%COMP%]   .ngx-bar[_ngcontent-%COMP%]{right:0;left:unset}[fixed=true][_nghost-%COMP%]{z-index:10002}[fixed=true][_nghost-%COMP%]   .ngx-bar[_ngcontent-%COMP%]{position:fixed}[fixed=true][_nghost-%COMP%]   .ngx-spinner[_ngcontent-%COMP%]{position:fixed;top:10px;left:10px}[dir=rtl]   [fixed=true][_nghost-%COMP%]   .ngx-spinner[_ngcontent-%COMP%]{right:10px;left:unset}@keyframes _ngcontent-%COMP%_loading-bar-spinner{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"],changeDetection:0})}return e})(),OK=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Yo({type:e});static#n=this.\u0275inj=ro({imports:[eA]})}return e})(),rN=(()=>{class e{constructor(n,r){this.soundGeneratorService=n,this.loader=r,this.bpm=120,this.isPlaying=!1,this.index=0,this.samples=[],this.tracks=[],this.stepNumber=16,this.audioFilesService=new dK,this.context=new AudioContext,this.playbackSource=new AudioBufferSourceNode(this.context)}playPause(){var n=this;return zo(function*(){if(n.isPlaying=!n.isPlaying,n.isPlaying){const r=yield n.soundGeneratorService.getRenderedBuffer(n.tracks,n.samples,n.bpm,n.stepNumber);n.playSound(r)}else n.pause()})()}pause(){this.playbackSource.stop(this.context.currentTime),this.reset()}playSound(n){const r=this.context.createBufferSource();r.buffer=n,r.connect(this.context.destination),r.loop=!0,r.loopStart=r.buffer.duration/2,r.loopEnd=r.buffer.duration;const o=this.context.currentTime;r.start();const s=()=>{this.index=Math.trunc(1e3*(this.context.currentTime-o)/this.getMillisStepFromBpm()%this.stepNumber),this.isPlaying&&requestAnimationFrame(s)};s(),this.playbackSource.buffer&&this.playbackSource.stop(this.context.currentTime),this.playbackSource=r}getMillisStepFromBpm(){let r=6e4/this.bpm/4;return r=Math.min(r,1e3),r=Math.max(r,10),r}reset(){this.isPlaying=!1,this.index=0}setBpm(n){this.bpm=n}setTracks(n){this.tracks=n;const r=n.map(o=>o.fileName);this.loadTracks(r)}loadTracks(n){this.loader.start(),n.forEach(o=>this.samples.push({fileName:o}));const r=this.samples.map(o=>this.audioFilesService.getAudioBuffer(o.fileName).then(s=>o.sample=s));Promise.all(r).then(()=>this.loader.complete()).catch(()=>this.loader.complete())}setStepNumber(n){this.stepNumber=n}static#e=this.\u0275fac=function(r){return new(r||e)(L(hK),L(GE))};static#t=this.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),xK=(()=>{class e{constructor(n){this.document=n,this.currentMode=fi.LIGHT,this.modeChangedSubject=new P_(this.currentMode),this.modeChanged$=this.modeChangedSubject.asObservable(),this.init()}updateCurrentMode(n){this.currentMode=n,this.modeChangedSubject.next(this.currentMode)}init(){const n=window.matchMedia("(prefers-color-scheme: dark)");let r=fi.LIGHT;r=n.matches?fi.DARK:fi.LIGHT,this.updateCurrentMode(r),this.document.body.classList.add(this.currentMode)}static#e=this.\u0275fac=function(r){return new(r||e)(L(go))};static#t=this.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const RK={sixteen:16,thirty_two:32,sixty_four:64};function AK(e,t){if(1&e&&(xe(0,"h3",11),Zt(1),Me()),2&e){const n=t.$implicit;Ie(),cc(n.name)}}function NK(e,t){if(1&e&&wn(0,"div",14),2&e){const n=t.$implicit,r=t.index,o=yt(2);lp("active",n)("current",r===o.soundService.index)("highlight",o.Math.floor(r/4)%2==0)}}function FK(e,t){if(1&e&&(xe(0,"article")(1,"div",12),Ut(2,NK,1,6,"div",13),Me()()),2&e){const n=t.$implicit,r=yt();Ie(),lp("sixteen-steps",n.steps.length==r.StepLengths.sixteen)("thirty-two-steps",n.steps.length==r.StepLengths.thirty_two)("sixty-four-steps",n.steps.length==r.StepLengths.sixty_four),Ie(),Ye("ngForOf",n.steps)}}let PK=(()=>{class e{constructor(n){this.soundService=n,this.beat={},this.genre={},this.StepLengths=RK,this.Math=Math}toggleIsPlaying(){this.soundService.playPause().then(()=>{},()=>{})}static#e=this.\u0275fac=function(r){return new(r||e)(ne(rN))};static#t=this.\u0275cmp=zl({type:e,selectors:[["sequencer"]],inputs:{beat:"beat",genre:"genre"},standalone:!0,features:[jv],decls:27,vars:6,consts:[["id","main-container"],[1,"play-button-container","flex"],[1,"play-pause-button","pointer",3,"click"],[1,"sequencer-header","flex"],[1,"label"],[1,"small"],[1,"large"],[1,"tracks-name"],["class","track-name",4,"ngFor","ngForOf"],[1,"tracks-container"],[4,"ngFor","ngForOf"],[1,"track-name"],["id","track"],["class","step",3,"active","current","highlight",4,"ngFor","ngForOf"],[1,"step"]],template:function(r,o){1&r&&(xe(0,"div",0)(1,"div",1)(2,"button",2),ac("click",function(){return o.toggleIsPlaying()}),Zt(3),Me()(),xe(4,"div",3)(5,"div")(6,"div",4)(7,"span",5),Zt(8,"Genre : "),Me(),xe(9,"span",6),Zt(10),Me()(),xe(11,"div",4)(12,"span",5),Zt(13,"Beat : "),Me(),xe(14,"span",6),Zt(15),Me()(),xe(16,"div",4)(17,"span",5),Zt(18,"Tempo : "),Me(),xe(19,"span",6),Zt(20),Me(),xe(21,"span",5),Zt(22," bpm"),Me()()()(),xe(23,"div",7),Ut(24,AK,2,1,"h3",8),Me(),xe(25,"section",9),Ut(26,FK,3,7,"article",10),Me()()),2&r&&(Ie(3),ii(" ",o.soundService.isPlaying?"\u23f8":"\u25b6"," "),Ie(7),cc(o.genre.label),Ie(5),cc(o.beat.label),Ie(5),cc(o.beat.bpm),Ie(4),Ye("ngForOf",o.beat.tracks),Ie(2),Ye("ngForOf",o.beat.tracks))},dependencies:[vE],styles:['html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%;margin:0}[_ngcontent-%COMP%]:root{font-family:Inter,sans-serif;font-feature-settings:"liga" 1,"calt" 1,"ss01" on}@supports (font-variation-settings: normal){[_ngcontent-%COMP%]:root{font-family:InterVariable,sans-serif}}a[_ngcontent-%COMP%]{all:unset}h3[_ngcontent-%COMP%]{margin:0}button[_ngcontent-%COMP%]{font-family:inherit;font-size:100%;line-height:1.15;margin:0;overflow:visible;text-transform:none;-webkit-appearance:button}.flex[_ngcontent-%COMP%]{display:flex}.mt-40[_ngcontent-%COMP%]{margin-top:40px}.mb-40[_ngcontent-%COMP%]{margin-bottom:40px}.mb-10[_ngcontent-%COMP%]{margin-bottom:10px}.ml-10[_ngcontent-%COMP%]{margin-left:10px}body.dark[_ngcontent-%COMP%]{--backgroundColor: #2e2e2e;--textColor: white;--borderColor: white;--menuButtonColor: #CC71FA;--gridHighLightColor: #474747;background-color:var(--backgroundColor);color:var(--textColor)}body.light[_ngcontent-%COMP%]{--backgroundColor: white;--textColor: black;--borderColor: black;--menuButtonColor: #70F1FA;--gridHighLightColor: #e8e8e8;background-color:var(--backgroundColor);color:var(--textColor)}#main-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:max-content auto;gap:10px}.sequencer-grid[_ngcontent-%COMP%]{flex-direction:column}#track[_ngcontent-%COMP%]{display:grid;grid-template-rows:repeat(1,1fr);gap:4px}#track[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]{height:40px;width:40px;background-color:var(--backgroundColor);border-radius:4px;border:1px solid var(--borderColor)}#track[_ngcontent-%COMP%]   .current[_ngcontent-%COMP%]{background:repeating-linear-gradient(-45deg,var(--backgroundColor),var(--backgroundColor) 10px,var(--textColor) 5px,var(--textColor) 15px)}#track[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%], #track[_ngcontent-%COMP%]   .active.highlight[_ngcontent-%COMP%]{background-color:#cc71fa}#track[_ngcontent-%COMP%]   .active.current[_ngcontent-%COMP%], #track[_ngcontent-%COMP%]   .active.highlight.current[_ngcontent-%COMP%]{background:repeating-linear-gradient(-45deg,#CC71FA,#CC71FA 10px,var(--backgroundColor) 5px,var(--backgroundColor) 15px)}#track[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%]{background:var(--gridHighLightColor)}#track[_ngcontent-%COMP%]   .current.highlight[_ngcontent-%COMP%]{background:repeating-linear-gradient(-45deg,var(--gridHighLightColor),var(--gridHighLightColor) 10px,var(--textColor) 5px,var(--textColor) 15px)}.sixteen-steps[_ngcontent-%COMP%]{grid-template-columns:repeat(16,1fr)}.thirty-two-steps[_ngcontent-%COMP%]{grid-template-columns:repeat(32,1fr)}.sixty-four-steps[_ngcontent-%COMP%]{grid-template-columns:repeat(64,1fr)}.tracks-container[_ngcontent-%COMP%]{grid-column-start:2;grid-row-start:2;display:grid;grid-template-columns:auto;gap:4px;overflow-x:auto}.tracks-name[_ngcontent-%COMP%]{margin-top:10px;grid-column-start:1;grid-row-start:2}.tracks-name[_ngcontent-%COMP%]   .track-name[_ngcontent-%COMP%]{white-space:nowrap;height:44px}.sequencer-header[_ngcontent-%COMP%]{grid-column-start:2;grid-row-start:1}.sequencer-header[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{vertical-align:bottom}.sequencer-header[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]   .small[_ngcontent-%COMP%]{font-size:small}.sequencer-header[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]   .large[_ngcontent-%COMP%]{font-size:large;font-weight:700}.play-button-container[_ngcontent-%COMP%]{grid-column-start:1;grid-row-start:1;justify-content:center;align-items:center}.play-button-container[_ngcontent-%COMP%]   .play-pause-button[_ngcontent-%COMP%]{height:40px;width:40px;min-width:40px;background-color:var(--backgroundColor);color:var(--textColor);font-size:20px;border:none}']})}return e})();const oN=e=>({selected:e});function LK(e,t){if(1&e){const n=kv();xe(0,"button",10),ac("click",function(){const o=Iy(n).$implicit;return My(yt(3).selectGenre(o))}),Zt(1),Me()}if(2&e){const n=t.$implicit,r=yt(3);Ye("ngClass",Bv(2,oN,n.label==r.selectedGenre.label)),Ie(),ii(" ",n.label," ")}}function jK(e,t){if(1&e&&(xe(0,"section",8)(1,"h2"),Zt(2,"Genre"),Me(),Ut(3,LK,2,4,"button",9),Me()),2&e){const n=yt(2);Ie(3),Ye("ngForOf",n.musicGenres)}}function BK(e,t){if(1&e){const n=kv();xe(0,"button",10),ac("click",function(){const o=Iy(n).$implicit;return My(yt(3).selectBeat(o))}),Zt(1),Me()}if(2&e){const n=t.$implicit,r=yt(3);Ye("ngClass",Bv(2,oN,n.id==r.selectedBeat.id)),Ie(),ii(" ",n.label," ")}}function VK(e,t){if(1&e&&(xe(0,"section",11)(1,"h2"),Zt(2),Me(),Ut(3,BK,2,4,"button",9),Me()),2&e){const n=yt(2);Ie(2),ii("",n.selectedGenre.label," beats"),Ie(),Ye("ngForOf",n.selectedGenre.beats)}}function HK(e,t){if(1&e&&(ss(0),xe(1,"main",1)(2,"nav",2),wn(3,"img",3),Ut(4,jK,4,1,"section",4)(5,VK,4,2,"section",5),Me(),xe(6,"section",6),wn(7,"sequencer",7),Me()(),is()),2&e){const n=yt();Ie(4),Ye("ngIf",0!=n.musicGenres.length),Ie(),Ye("ngIf",0!=n.musicGenres.length),Ie(2),Ye("beat",n.selectedBeat)("genre",n.selectedGenre)}}function UK(e,t){if(1&e&&(ss(0),xe(1,"main",12)(2,"section",6),wn(3,"sequencer",7),Me()(),is()),2&e){const n=yt();Ie(3),Ye("beat",n.selectedBeat)("genre",n.selectedGenre)}}function $K(e,t){1&e&&wn(0,"img",19)}function qK(e,t){1&e&&wn(0,"img",20)}function WK(e,t){if(1&e&&(ss(0),xe(1,"header",13),wn(2,"img",14),Me(),xe(3,"div",15),Ut(4,$K,1,0,"img",16)(5,qK,1,0,"img",17),Me(),xe(6,"div",18)(7,"h1"),Zt(8,"Only available in landscape mode"),Me(),xe(9,"h3"),Zt(10,"Turn your device!"),Me()(),is()),2&e){const n=yt();Ie(4),Ye("ngIf",n.mode==n.Mode.LIGHT),Ie(),Ye("ngIf",n.mode==n.Mode.DARK)}}let zK=(()=>{class e{constructor(n,r,o,s){this.responsive=n,this._genresManager=r,this.soundService=o,this.modeToggleService=s,this.isMobileDisplay=!0,this.selectedGenre={},this.selectedBeat={},this.musicGenres=[],this.isPortrait=!1,this.isLandscape=!1,this.mode=fi.LIGHT,this.Mode=fi,this.beatBehaviourSubject=new pr,this.modeToggleService.modeChanged$.subscribe(i=>this.mode=i),this.checkOrientation()}ngOnInit(){this.responsive.observe(["(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)"]).subscribe(n=>{this.isMobileDisplay=!n.matches}),this._genresManager.getGenres().then(n=>{this.musicGenres=n,this.selectGenre(this.musicGenres[0])}).catch(n=>{console.log(n)}),this.beatBehaviourSubject.subscribe(n=>{this.soundService.isPlaying&&this.soundService.pause(),this.soundService.reset(),this.soundService.setBpm(n.bpm),this.soundService.setTracks(n.tracks),this.soundService.setStepNumber(n.tracks[0].steps.length)})}selectGenre(n){this.selectedGenre=n,this.selectBeat(this.selectedGenre.beats[0])}selectBeat(n){this.selectedBeat=n,this.beatBehaviourSubject.next(this.selectedBeat)}toggleIsPlaying(){this.soundService.playPause().then(()=>{},()=>{})}handleKeyboardEvent(n){"Space"==n.code&&this.toggleIsPlaying()}onOrientationChange(n){this.checkOrientation()}checkOrientation(){const n=window.screen.orientation.angle;this.isPortrait=0===n||180===n,this.isLandscape=90===n||-90===n}static#e=this.\u0275fac=function(r){return new(r||e)(ne(lK),ne(fK),ne(rN),ne(xK))};static#t=this.\u0275cmp=zl({type:e,selectors:[["app-root"]],hostBindings:function(r,o){1&r&&ac("keydown",function(i){return o.handleKeyboardEvent(i)},0,I0)("orientationchange",function(i){return o.onOrientationChange(i)},!1,C0)},decls:4,vars:3,consts:[[4,"ngIf"],[1,"flex","app-container"],[1,"flex","column","left-menu"],["src","./assets/images/title.svg","id","title-image","alt","Website Title"],["class","flex menu genre",4,"ngIf"],["class","flex menu",4,"ngIf"],[1,"flex","content"],[3,"beat","genre"],[1,"flex","menu","genre"],["class","button pointer",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"button","pointer",3,"click","ngClass"],[1,"flex","menu"],[1,"app-container"],[1,"header-mobile","mt-40","mb-40"],["src","./assets/images/title-mobile.svg","alt","Website Title",1,"title-image-mobile"],[1,"portrait-to-landscape"],["src","./assets/images/light/orientation.png","class","portrait-to-landscape-image","alt","Portrait to landscape image",4,"ngIf"],["src","./assets/images/dark/orientation.png","class","portrait-to-landscape-image","alt","Portrait to landscape image",4,"ngIf"],[1,"ml-10"],["src","./assets/images/light/orientation.png","alt","Portrait to landscape image",1,"portrait-to-landscape-image"],["src","./assets/images/dark/orientation.png","alt","Portrait to landscape image",1,"portrait-to-landscape-image"]],template:function(r,o){1&r&&(wn(0,"ngx-loading-bar"),Ut(1,HK,8,4,"ng-container",0)(2,UK,4,2,"ng-container",0)(3,WK,11,2,"ng-container",0)),2&r&&(Ie(),Ye("ngIf",!o.isMobileDisplay),Ie(),Ye("ngIf",o.isMobileDisplay&&o.isLandscape),Ie(),Ye("ngIf",o.isMobileDisplay&&o.isPortrait))},dependencies:[GR,vE,Vp,kK,PK],styles:['html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%;margin:0}[_ngcontent-%COMP%]:root{font-family:Inter,sans-serif;font-feature-settings:"liga" 1,"calt" 1,"ss01" on}@supports (font-variation-settings: normal){[_ngcontent-%COMP%]:root{font-family:InterVariable,sans-serif}}a[_ngcontent-%COMP%]{all:unset}h3[_ngcontent-%COMP%]{margin:0}button[_ngcontent-%COMP%]{font-family:inherit;font-size:100%;line-height:1.15;margin:0;overflow:visible;text-transform:none;-webkit-appearance:button}.flex[_ngcontent-%COMP%]{display:flex}.mt-40[_ngcontent-%COMP%]{margin-top:40px}.mb-40[_ngcontent-%COMP%]{margin-bottom:40px}.mb-10[_ngcontent-%COMP%]{margin-bottom:10px}.ml-10[_ngcontent-%COMP%]{margin-left:10px}body.dark[_ngcontent-%COMP%]{--backgroundColor: #2e2e2e;--textColor: white;--borderColor: white;--menuButtonColor: #CC71FA;--gridHighLightColor: #474747;background-color:var(--backgroundColor);color:var(--textColor)}body.light[_ngcontent-%COMP%]{--backgroundColor: white;--textColor: black;--borderColor: black;--menuButtonColor: #70F1FA;--gridHighLightColor: #e8e8e8;background-color:var(--backgroundColor);color:var(--textColor)}.app-container[_ngcontent-%COMP%]{height:100%}.menu[_ngcontent-%COMP%]{flex-direction:column;justify-content:flex-start;align-items:flex-start}.menu.genre[_ngcontent-%COMP%]{justify-content:flex-end}.menu[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{border-radius:5px;width:90%;padding:5px;background-color:var(--backgroundColor);border:none;text-align:left;color:var(--textColor)}.menu[_ngcontent-%COMP%]   .button.selected[_ngcontent-%COMP%]{background-color:var(--menuButtonColor);border:solid 1px var(--borderColor)}.menu[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:hover:not(.selected){background-color:#cecece}.content[_ngcontent-%COMP%]{flex:1;justify-content:center;align-items:center;overflow:auto;height:100%}.header[_ngcontent-%COMP%]{width:240px;font-size:30px}.column[_ngcontent-%COMP%]{flex-direction:column}.left-menu[_ngcontent-%COMP%]{padding:10px;justify-content:space-between;margin-bottom:150px}.nowrap[_ngcontent-%COMP%]{white-space:nowrap}.header-mobile[_ngcontent-%COMP%]{font-size:30px;width:100%;text-align:center}.pointer[_ngcontent-%COMP%]{cursor:pointer}#title-image[_ngcontent-%COMP%]{width:150px;aspect-ratio:1}.title-image-mobile[_ngcontent-%COMP%]{width:300px}.portrait-to-landscape[_ngcontent-%COMP%]{justify-content:center;display:flex;flex-direction:row;margin:50px}.portrait-to-landscape[_ngcontent-%COMP%]   .portrait-to-landscape-image[_ngcontent-%COMP%]{width:100px}.beat-name[_ngcontent-%COMP%]{height:40px;text-align:center;vertical-align:middle;width:200px;min-width:200px;font-size:20px}.bpm[_ngcontent-%COMP%]{height:40px;text-align:center;vertical-align:middle;width:120px;min-width:120px;font-size:20px}.corner[_ngcontent-%COMP%]{position:absolute;width:75px;aspect-ratio:1;clip-path:polygon(0 100%,0 0,100% 100%,0 100%)}']})}return e})();function KE(e,t){return st(t)?zp(e,t,1):zp(e,1)}function YE(e){return an((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}class Kp{}class cf{}class Ln{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?"string"==typeof t?this.lazyInit=()=>{this.headers=new Map,t.split("\n").forEach(n=>{const r=n.indexOf(":");if(r>0){const o=n.slice(0,r),s=o.toLowerCase(),i=n.slice(r+1).trim();this.maybeSetNormalizedName(o,s),this.headers.has(s)?this.headers.get(s).push(i):this.headers.set(s,[i])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const n=this.headers.get(t.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,n){return this.clone({name:t,value:n,op:"a"})}set(t,n){return this.clone({name:t,value:n,op:"s"})}delete(t,n){return this.clone({name:t,value:n,op:"d"})}maybeSetNormalizedName(t,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,t)}init(){this.lazyInit&&(this.lazyInit instanceof Ln?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(n=>{this.headers.set(n,t.headers.get(n)),this.normalizedNames.set(n,t.normalizedNames.get(n))})}clone(t){const n=new Ln;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof Ln?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}applyUpdate(t){const n=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(t.name,n);const o=("a"===t.op?this.headers.get(n):void 0)||[];o.push(...r),this.headers.set(n,o);break;case"d":const s=t.value;if(s){let i=this.headers.get(n);if(!i)return;i=i.filter(a=>-1===s.indexOf(a)),0===i.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,i)}else this.headers.delete(n),this.normalizedNames.delete(n)}}setHeaderEntries(t,n){const r=(Array.isArray(n)?n:[n]).map(s=>s.toString()),o=t.toLowerCase();this.headers.set(o,r),this.maybeSetNormalizedName(t,o)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>t(this.normalizedNames.get(n),this.headers.get(n)))}}class XK{encodeKey(t){return sN(t)}encodeValue(t){return sN(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const KK=/%(\d[a-f0-9])/gi,YK={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function sN(e){return encodeURIComponent(e).replace(KK,(t,n)=>YK[n]??t)}function Yp(e){return`${e}`}class bo{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new XK,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function GK(e,t){const n=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(o=>{const s=o.indexOf("="),[i,a]=-1==s?[t.decodeKey(o),""]:[t.decodeKey(o.slice(0,s)),t.decodeValue(o.slice(s+1))],c=n.get(i)||[];c.push(a),n.set(i,c)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(n=>{const r=t.fromObject[n],o=Array.isArray(r)?r.map(Yp):[Yp(r)];this.map.set(n,o)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const n=this.map.get(t);return n?n[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,n){return this.clone({param:t,value:n,op:"a"})}appendAll(t){const n=[];return Object.keys(t).forEach(r=>{const o=t[r];Array.isArray(o)?o.forEach(s=>{n.push({param:r,value:s,op:"a"})}):n.push({param:r,value:o,op:"a"})}),this.clone(n)}set(t,n){return this.clone({param:t,value:n,op:"s"})}delete(t,n){return this.clone({param:t,value:n,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const n=this.encoder.encodeKey(t);return this.map.get(t).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const n=new bo({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(t),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const n=("a"===t.op?this.map.get(t.param):void 0)||[];n.push(Yp(t.value)),this.map.set(t.param,n);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let r=this.map.get(t.param)||[];const o=r.indexOf(Yp(t.value));-1!==o&&r.splice(o,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class QK{constructor(){this.map=new Map}set(t,n){return this.map.set(t,n),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function iN(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function aN(e){return typeof Blob<"u"&&e instanceof Blob}function cN(e){return typeof FormData<"u"&&e instanceof FormData}class lf{constructor(t,n,r,o){let s;if(this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function JK(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==r?r:null,s=o):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new Ln,this.context??=new QK,this.params){const i=this.params.toString();if(0===i.length)this.urlWithParams=n;else{const a=n.indexOf("?");this.urlWithParams=n+(-1===a?"?":a<n.length-1?"&":"")+i}}else this.params=new bo,this.urlWithParams=n}serializeBody(){return null===this.body?null:"string"==typeof this.body||iN(this.body)||aN(this.body)||cN(this.body)||function ZK(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}(this.body)?this.body:this.body instanceof bo?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||cN(this.body)?null:aN(this.body)?this.body.type||null:iN(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof bo?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const n=t.method||this.method,r=t.url||this.url,o=t.responseType||this.responseType,s=t.transferCache??this.transferCache,i=void 0!==t.body?t.body:this.body,a=t.withCredentials??this.withCredentials,c=t.reportProgress??this.reportProgress;let l=t.headers||this.headers,u=t.params||this.params;const f=t.context??this.context;return void 0!==t.setHeaders&&(l=Object.keys(t.setHeaders).reduce((d,p)=>d.set(p,t.setHeaders[p]),l)),t.setParams&&(u=Object.keys(t.setParams).reduce((d,p)=>d.set(p,t.setParams[p]),u)),new lf(n,r,i,{params:u,headers:l,context:f,reportProgress:c,responseType:o,withCredentials:a,transferCache:s})}}var us=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(us||{});class QE{constructor(t,n=uf.Ok,r="OK"){this.headers=t.headers||new Ln,this.status=void 0!==t.status?t.status:n,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class Qp extends QE{constructor(t={}){super(t),this.type=us.ResponseHeader}clone(t={}){return new Qp({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class fs extends QE{constructor(t={}){super(t),this.type=us.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new fs({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class gc extends QE{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}var uf=function(e){return e[e.Continue=100]="Continue",e[e.SwitchingProtocols=101]="SwitchingProtocols",e[e.Processing=102]="Processing",e[e.EarlyHints=103]="EarlyHints",e[e.Ok=200]="Ok",e[e.Created=201]="Created",e[e.Accepted=202]="Accepted",e[e.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",e[e.NoContent=204]="NoContent",e[e.ResetContent=205]="ResetContent",e[e.PartialContent=206]="PartialContent",e[e.MultiStatus=207]="MultiStatus",e[e.AlreadyReported=208]="AlreadyReported",e[e.ImUsed=226]="ImUsed",e[e.MultipleChoices=300]="MultipleChoices",e[e.MovedPermanently=301]="MovedPermanently",e[e.Found=302]="Found",e[e.SeeOther=303]="SeeOther",e[e.NotModified=304]="NotModified",e[e.UseProxy=305]="UseProxy",e[e.Unused=306]="Unused",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect",e[e.BadRequest=400]="BadRequest",e[e.Unauthorized=401]="Unauthorized",e[e.PaymentRequired=402]="PaymentRequired",e[e.Forbidden=403]="Forbidden",e[e.NotFound=404]="NotFound",e[e.MethodNotAllowed=405]="MethodNotAllowed",e[e.NotAcceptable=406]="NotAcceptable",e[e.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",e[e.RequestTimeout=408]="RequestTimeout",e[e.Conflict=409]="Conflict",e[e.Gone=410]="Gone",e[e.LengthRequired=411]="LengthRequired",e[e.PreconditionFailed=412]="PreconditionFailed",e[e.PayloadTooLarge=413]="PayloadTooLarge",e[e.UriTooLong=414]="UriTooLong",e[e.UnsupportedMediaType=415]="UnsupportedMediaType",e[e.RangeNotSatisfiable=416]="RangeNotSatisfiable",e[e.ExpectationFailed=417]="ExpectationFailed",e[e.ImATeapot=418]="ImATeapot",e[e.MisdirectedRequest=421]="MisdirectedRequest",e[e.UnprocessableEntity=422]="UnprocessableEntity",e[e.Locked=423]="Locked",e[e.FailedDependency=424]="FailedDependency",e[e.TooEarly=425]="TooEarly",e[e.UpgradeRequired=426]="UpgradeRequired",e[e.PreconditionRequired=428]="PreconditionRequired",e[e.TooManyRequests=429]="TooManyRequests",e[e.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",e[e.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",e[e.InternalServerError=500]="InternalServerError",e[e.NotImplemented=501]="NotImplemented",e[e.BadGateway=502]="BadGateway",e[e.ServiceUnavailable=503]="ServiceUnavailable",e[e.GatewayTimeout=504]="GatewayTimeout",e[e.HttpVersionNotSupported=505]="HttpVersionNotSupported",e[e.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",e[e.InsufficientStorage=507]="InsufficientStorage",e[e.LoopDetected=508]="LoopDetected",e[e.NotExtended=510]="NotExtended",e[e.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",e}(uf||{});function JE(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,transferCache:e.transferCache}}let lN=(()=>{class e{constructor(n){this.handler=n}request(n,r,o={}){let s;if(n instanceof lf)s=n;else{let c,l;c=o.headers instanceof Ln?o.headers:new Ln(o.headers),o.params&&(l=o.params instanceof bo?o.params:new bo({fromObject:o.params})),s=new lf(n,r,void 0!==o.body?o.body:null,{headers:c,context:o.context,params:l,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache})}const i=af(s).pipe(KE(c=>this.handler.handle(c)));if(n instanceof lf||"events"===o.observe)return i;const a=i.pipe(HE(c=>c instanceof fs));switch(o.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(cn(c=>{if(null!==c.body&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return a.pipe(cn(c=>{if(null!==c.body&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return a.pipe(cn(c=>{if(null!==c.body&&"string"!=typeof c.body)throw new Error("Response is not a string.");return c.body}));default:return a.pipe(cn(c=>c.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:(new bo).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,o={}){return this.request("PATCH",n,JE(o,r))}post(n,r,o={}){return this.request("POST",n,JE(o,r))}put(n,r,o={}){return this.request("PUT",n,JE(o,r))}static#e=this.\u0275fac=function(r){return new(r||e)(L(Kp))};static#t=this.\u0275prov=W({token:e,factory:e.\u0275fac})}return e})();function fN(e,t){return t(e)}function oY(e,t){return(n,r)=>t.intercept(n,{handle:o=>e(o,r)})}const dN=new P(""),ff=new P(""),hN=new P(""),pN=new P("");function iY(){let e=null;return(t,n)=>{null===e&&(e=(U(dN,{optional:!0})??[]).reduceRight(oY,fN));const r=U(ti),o=r.add();return e(t,n).pipe(YE(()=>r.remove(o)))}}let gN=(()=>{class e extends Kp{constructor(n,r){super(),this.backend=n,this.injector=r,this.chain=null,this.pendingTasks=U(ti);const o=U(pN,{optional:!0});this.backend=o??n}handle(n){if(null===this.chain){const o=Array.from(new Set([...this.injector.get(ff),...this.injector.get(hN,[])]));this.chain=o.reduceRight((s,i)=>function sY(e,t,n){return(r,o)=>function dy(e,t){e instanceof ya&&e.assertNotDestroyed();const r=Go(e),o=_n(void 0);try{return t()}finally{Go(r),_n(o)}}(n,()=>t(r,s=>e(s,o)))}(s,i,this.injector),fN)}const r=this.pendingTasks.add();return this.chain(n,o=>this.backend.handle(o)).pipe(YE(()=>this.pendingTasks.remove(r)))}static#e=this.\u0275fac=function(r){return new(r||e)(L(cf),L(_r))};static#t=this.\u0275prov=W({token:e,factory:e.\u0275fac})}return e})();const fY=/^\)\]\}',?\n/;let tw=(()=>{class e{constructor(n){this.xhrFactory=n}handle(n){if("JSONP"===n.method)throw new A(-2800,!1);const r=this.xhrFactory;return(r.\u0275loadImpl?hc(r.\u0275loadImpl()):af(null)).pipe(zE(()=>new ct(s=>{const i=r.build();if(i.open(n.method,n.urlWithParams),n.withCredentials&&(i.withCredentials=!0),n.headers.forEach((m,y)=>i.setRequestHeader(m,y.join(","))),n.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){const m=n.detectContentTypeHeader();null!==m&&i.setRequestHeader("Content-Type",m)}if(n.responseType){const m=n.responseType.toLowerCase();i.responseType="json"!==m?m:"text"}const a=n.serializeBody();let c=null;const l=()=>{if(null!==c)return c;const m=i.statusText||"OK",y=new Ln(i.getAllResponseHeaders()),w=function dY(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(i)||n.url;return c=new Qp({headers:y,status:i.status,statusText:m,url:w}),c},u=()=>{let{headers:m,status:y,statusText:w,url:v}=l(),k=null;y!==uf.NoContent&&(k=typeof i.response>"u"?i.responseText:i.response),0===y&&(y=k?uf.Ok:0);let N=y>=200&&y<300;if("json"===n.responseType&&"string"==typeof k){const $=k;k=k.replace(fY,"");try{k=""!==k?JSON.parse(k):null}catch(le){k=$,N&&(N=!1,k={error:le,text:k})}}N?(s.next(new fs({body:k,headers:m,status:y,statusText:w,url:v||void 0})),s.complete()):s.error(new gc({error:k,headers:m,status:y,statusText:w,url:v||void 0}))},f=m=>{const{url:y}=l(),w=new gc({error:m,status:i.status||0,statusText:i.statusText||"Unknown Error",url:y||void 0});s.error(w)};let d=!1;const p=m=>{d||(s.next(l()),d=!0);let y={type:us.DownloadProgress,loaded:m.loaded};m.lengthComputable&&(y.total=m.total),"text"===n.responseType&&i.responseText&&(y.partialText=i.responseText),s.next(y)},g=m=>{let y={type:us.UploadProgress,loaded:m.loaded};m.lengthComputable&&(y.total=m.total),s.next(y)};return i.addEventListener("load",u),i.addEventListener("error",f),i.addEventListener("timeout",f),i.addEventListener("abort",f),n.reportProgress&&(i.addEventListener("progress",p),null!==a&&i.upload&&i.upload.addEventListener("progress",g)),i.send(a),s.next({type:us.Sent}),()=>{i.removeEventListener("error",f),i.removeEventListener("abort",f),i.removeEventListener("load",u),i.removeEventListener("timeout",f),n.reportProgress&&(i.removeEventListener("progress",p),null!==a&&i.upload&&i.upload.removeEventListener("progress",g)),i.readyState!==i.DONE&&i.abort()}})))}static#e=this.\u0275fac=function(r){return new(r||e)(L(Hp))};static#t=this.\u0275prov=W({token:e,factory:e.\u0275fac})}return e})();const nw=new P(""),_N=new P("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),yN=new P("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class bN{}let gY=(()=>{class e{constructor(n,r,o){this.doc=n,this.platform=r,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=zR(n,this.cookieName),this.lastCookieString=n),this.lastToken}static#e=this.\u0275fac=function(r){return new(r||e)(L(go),L(lo),L(_N))};static#t=this.\u0275prov=W({token:e,factory:e.\u0275fac})}return e})();function mY(e,t){const n=e.url.toLowerCase();if(!U(nw)||"GET"===e.method||"HEAD"===e.method||n.startsWith("http://")||n.startsWith("https://"))return t(e);const r=U(bN).getToken(),o=U(yN);return null!=r&&!e.headers.has(o)&&(e=e.clone({headers:e.headers.set(o,r)})),t(e)}var ds=function(e){return e[e.Interceptors=0]="Interceptors",e[e.LegacyInterceptors=1]="LegacyInterceptors",e[e.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",e[e.NoXsrfProtection=3]="NoXsrfProtection",e[e.JsonpSupport=4]="JsonpSupport",e[e.RequestsMadeViaParent=5]="RequestsMadeViaParent",e[e.Fetch=6]="Fetch",e}(ds||{});function _Y(...e){const t=[lN,tw,gN,{provide:Kp,useExisting:gN},{provide:cf,useExisting:tw},{provide:ff,useValue:mY,multi:!0},{provide:nw,useValue:!0},{provide:bN,useClass:gY}];for(const n of e)t.push(...n.\u0275providers);return function Xl(e){return{\u0275providers:e}}(t)}const vN=new P("");function yY(){return function di(e,t){return{\u0275kind:e,\u0275providers:t}}(ds.LegacyInterceptors,[{provide:vN,useFactory:iY},{provide:ff,useExisting:vN,multi:!0}])}let bY=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Yo({type:e});static#n=this.\u0275inj=ro({providers:[_Y(yY())]})}return e})();const rw=T_(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function IY(e=MY){return an((t,n)=>{let r=!1;t.subscribe(mn(n,o=>{r=!0,n.next(o)},()=>r?n.complete():n.error(e())))})}function MY(){return new rw}function TN(e,t){const n=arguments.length>=2;return r=>r.pipe(e?HE((o,s)=>e(o,s,r)):ca,VE(1),n?function CY(e){return an((t,n)=>{let r=!1;t.subscribe(mn(n,o=>{r=!0,n.next(o)},()=>{r||n.next(e),n.complete()}))})}(t):IY(()=>new rw))}const kY={100:{code:100,text:"Continue",description:'"The initial part of a request has been received and has not yet been rejected by the server."',spec_title:"RFC7231#6.2.1",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.2.1"},101:{code:101,text:"Switching Protocols",description:'"The server understands and is willing to comply with the client\'s request, via the Upgrade header field, for a change in the application protocol being used on this connection."',spec_title:"RFC7231#6.2.2",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.2.2"},200:{code:200,text:"OK",description:'"The request has succeeded."',spec_title:"RFC7231#6.3.1",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.3.1"},201:{code:201,text:"Created",description:'"The request has been fulfilled and has resulted in one or more new resources being created."',spec_title:"RFC7231#6.3.2",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.3.2"},202:{code:202,text:"Accepted",description:'"The request has been accepted for processing, but the processing has not been completed."',spec_title:"RFC7231#6.3.3",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.3.3"},203:{code:203,text:"Non-Authoritative Information",description:'"The request was successful but the enclosed payload has been modified from that of the origin server\'s 200 (OK) response by a transforming proxy."',spec_title:"RFC7231#6.3.4",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.3.4"},204:{code:204,text:"No Content",description:'"The server has successfully fulfilled the request and that there is no additional content to send in the response payload body."',spec_title:"RFC7231#6.3.5",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.3.5"},205:{code:205,text:"Reset Content",description:'"The server has fulfilled the request and desires that the user agent reset the "document view", which caused the request to be sent, to its original state as received from the origin server."',spec_title:"RFC7231#6.3.6",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.3.6"},206:{code:206,text:"Partial Content",description:'"The server is successfully fulfilling a range request for the target resource by transferring one or more parts of the selected representation that correspond to the satisfiable ranges found in the requests\'s Range header field."',spec_title:"RFC7233#4.1",spec_href:"https://tools.ietf.org/html/rfc7233#section-4.1"},300:{code:300,text:"Multiple Choices",description:'"The target resource has more than one representation, each with its own more specific identifier, and information about the alternatives is being provided so that the user (or user agent) can select a preferred representation by redirecting its request to one or more of those identifiers."',spec_title:"RFC7231#6.4.1",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.4.1"},301:{code:301,text:"Moved Permanently",description:'"The target resource has been assigned a new permanent URI and any future references to this resource ought to use one of the enclosed URIs."',spec_title:"RFC7231#6.4.2",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.4.2"},302:{code:302,text:"Found",description:'"The target resource resides temporarily under a different URI."',spec_title:"RFC7231#6.4.3",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.4.3"},303:{code:303,text:"See Other",description:'"The server is redirecting the user agent to a different resource, as indicated by a URI in the Location header field, that is intended to provide an indirect response to the original request."',spec_title:"RFC7231#6.4.4",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.4.4"},304:{code:304,text:"Not Modified",description:'"A conditional GET request has been received and would have resulted in a 200 (OK) response if it were not for the fact that the condition has evaluated to false."',spec_title:"RFC7232#4.1",spec_href:"https://tools.ietf.org/html/rfc7232#section-4.1"},305:{code:305,text:"Use Proxy",description:"*deprecated*",spec_title:"RFC7231#6.4.5",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.4.5"},307:{code:307,text:"Temporary Redirect",description:'"The target resource resides temporarily under a different URI and the user agent MUST NOT change the request method if it performs an automatic redirection to that URI."',spec_title:"RFC7231#6.4.7",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.4.7"},400:{code:400,text:"Bad Request",description:'"The server cannot or will not process the request because the received syntax is invalid, nonsensical, or exceeds some limitation on what the server is willing to process."',spec_title:"RFC7231#6.5.1",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.1"},401:{code:401,text:"Unauthorized",description:'"The request has not been applied because it lacks valid authentication credentials for the target resource."',spec_title:"RFC7235#6.3.1",spec_href:"https://tools.ietf.org/html/rfc7235#section-3.1"},402:{code:402,text:"Payment Required",description:"*reserved*",spec_title:"RFC7231#6.5.2",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.2"},403:{code:403,text:"Forbidden",description:'"The server understood the request but refuses to authorize it."',spec_title:"RFC7231#6.5.3",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.3"},404:{code:404,text:"Not Found",description:'"The origin server did not find a current representation for the target resource or is not willing to disclose that one exists."',spec_title:"RFC7231#6.5.4",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.4"},405:{code:405,text:"Method Not Allowed",description:'"The method specified in the request-line is known by the origin server but not supported by the target resource."',spec_title:"RFC7231#6.5.5",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.5"},406:{code:406,text:"Not Acceptable",description:'"The target resource does not have a current representation that would be acceptable to the user agent, according to the proactive negotiation header fields received in the request, and the server is unwilling to supply a default representation."',spec_title:"RFC7231#6.5.6",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.6"},407:{code:407,text:"Proxy Authentication Required",description:'"The client needs to authenticate itself in order to use a proxy."',spec_title:"RFC7231#6.3.2",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.3.2"},408:{code:408,text:"Request Timeout",description:'"The server did not receive a complete request message within the time that it was prepared to wait."',spec_title:"RFC7231#6.5.7",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.7"},409:{code:409,text:"Conflict",description:'"The request could not be completed due to a conflict with the current state of the resource."',spec_title:"RFC7231#6.5.8",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.8"},410:{code:410,text:"Gone",description:'"Access to the target resource is no longer available at the origin server and that this condition is likely to be permanent."',spec_title:"RFC7231#6.5.9",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.9"},411:{code:411,text:"Length Required",description:'"The server refuses to accept the request without a defined Content-Length."',spec_title:"RFC7231#6.5.10",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.10"},412:{code:412,text:"Precondition Failed",description:'"One or more preconditions given in the request header fields evaluated to false when tested on the server."',spec_title:"RFC7232#4.2",spec_href:"https://tools.ietf.org/html/rfc7232#section-4.2"},413:{code:413,text:"Payload Too Large",description:'"The server is refusing to process a request because the request payload is larger than the server is willing or able to process."',spec_title:"RFC7231#6.5.11",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.11"},414:{code:414,text:"URI Too Long",description:'"The server is refusing to service the request because the request-target is longer than the server is willing to interpret."',spec_title:"RFC7231#6.5.12",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.12"},415:{code:415,text:"Unsupported Media Type",description:'"The origin server is refusing to service the request because the payload is in a format not supported by the target resource for this method."',spec_title:"RFC7231#6.5.13",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.13"},416:{code:416,text:"Range Not Satisfiable",description:'"None of the ranges in the request\'s Range header field overlap the current extent of the selected resource or that the set of ranges requested has been rejected due to invalid ranges or an excessive request of small or overlapping ranges."',spec_title:"RFC7233#4.4",spec_href:"https://tools.ietf.org/html/rfc7233#section-4.4"},417:{code:417,text:"Expectation Failed",description:'"The expectation given in the request\'s Expect header field could not be met by at least one of the inbound servers."',spec_title:"RFC7231#6.5.14",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.14"},418:{code:418,text:"I'm a teapot",description:'"1988 April Fools Joke. Returned by tea pots requested to brew coffee."',spec_title:"RFC 2324",spec_href:"https://tools.ietf.org/html/rfc2324"},426:{code:426,text:"Upgrade Required",description:'"The server refuses to perform the request using the current protocol but might be willing to do so after the client upgrades to a different protocol."',spec_title:"RFC7231#6.5.15",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.15"},500:{code:500,text:"Internal Server Error",description:'"The server encountered an unexpected condition that prevented it from fulfilling the request."',spec_title:"RFC7231#6.6.1",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.6.1"},501:{code:501,text:"Not Implemented",description:'"The server does not support the functionality required to fulfill the request."',spec_title:"RFC7231#6.6.2",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.6.2"},502:{code:502,text:"Bad Gateway",description:'"The server, while acting as a gateway or proxy, received an invalid response from an inbound server it accessed while attempting to fulfill the request."',spec_title:"RFC7231#6.6.3",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.6.3"},503:{code:503,text:"Service Unavailable",description:'"The server is currently unable to handle the request due to a temporary overload or scheduled maintenance, which will likely be alleviated after some delay."',spec_title:"RFC7231#6.6.4",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.6.4"},504:{code:504,text:"Gateway Time-out",description:'"The server, while acting as a gateway or proxy, did not receive a timely response from an upstream server it needed to access in order to complete the request."',spec_title:"RFC7231#6.6.5",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.6.5"},505:{code:505,text:"HTTP Version Not Supported",description:'"The server does not support, or refuses to support, the protocol version that was used in the request message."',spec_title:"RFC7231#6.6.6",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.6.6"},102:{code:102,text:"Processing",description:'"An interim response to inform the client that the server has accepted the complete request, but has not yet completed it."',spec_title:"RFC5218#10.1",spec_href:"https://tools.ietf.org/html/rfc2518#section-10.1"},207:{code:207,text:"Multi-Status",description:'"Status for multiple independent operations."',spec_title:"RFC5218#10.2",spec_href:"https://tools.ietf.org/html/rfc2518#section-10.2"},226:{code:226,text:"IM Used",description:'"The server has fulfilled a GET request for the resource, and the response is a representation of the result of one or more instance-manipulations applied to the current instance."',spec_title:"RFC3229#10.4.1",spec_href:"https://tools.ietf.org/html/rfc3229#section-10.4.1"},308:{code:308,text:"Permanent Redirect",description:'"The target resource has been assigned a new permanent URI and any future references to this resource SHOULD use one of the returned URIs. [...] This status code is similar to 301 Moved Permanently (Section 7.3.2 of rfc7231), except that it does not allow rewriting the request method from POST to GET."',spec_title:"RFC7238",spec_href:"https://tools.ietf.org/html/rfc7238"},422:{code:422,text:"Unprocessable Entity",description:'"The server understands the content type of the request entity (hence a 415(Unsupported Media Type) status code is inappropriate), and the syntax of the request entity is correct (thus a 400 (Bad Request) status code is inappropriate) but was unable to process the contained instructions."',spec_title:"RFC5218#10.3",spec_href:"https://tools.ietf.org/html/rfc2518#section-10.3"},423:{code:423,text:"Locked",description:'"The source or destination resource of a method is locked."',spec_title:"RFC5218#10.4",spec_href:"https://tools.ietf.org/html/rfc2518#section-10.4"},424:{code:424,text:"Failed Dependency",description:'"The method could not be performed on the resource because the requested action depended on another action and that action failed."',spec_title:"RFC5218#10.5",spec_href:"https://tools.ietf.org/html/rfc2518#section-10.5"},428:{code:428,text:"Precondition Required",description:'"The origin server requires the request to be conditional."',spec_title:"RFC6585#3",spec_href:"https://tools.ietf.org/html/rfc6585#section-3"},429:{code:429,text:"Too Many Requests",description:'"The user has sent too many requests in a given amount of time ("rate limiting")."',spec_title:"RFC6585#4",spec_href:"https://tools.ietf.org/html/rfc6585#section-4"},431:{code:431,text:"Request Header Fields Too Large",description:'"The server is unwilling to process the request because its header fields are too large."',spec_title:"RFC6585#5",spec_href:"https://tools.ietf.org/html/rfc6585#section-5"},451:{code:451,text:"Unavailable For Legal Reasons",description:'"The server is denying access to the resource in response to a legal demand."',spec_title:"draft-ietf-httpbis-legally-restricted-status",spec_href:"https://tools.ietf.org/html/draft-ietf-httpbis-legally-restricted-status"},506:{code:506,text:"Variant Also Negotiates",description:'"The server has an internal configuration error: the chosen variant resource is configured to engage in transparent content negotiation itself, and is therefore not a proper end point in the negotiation process."',spec_title:"RFC2295#8.1",spec_href:"https://tools.ietf.org/html/rfc2295#section-8.1"},507:{code:507,text:"Insufficient Storage",description:'The method could not be performed on the resource because the server is unable to store the representation needed to successfully complete the request."',spec_title:"RFC5218#10.6",spec_href:"https://tools.ietf.org/html/rfc2518#section-10.6"},511:{code:511,text:"Network Authentication Required",description:'"The client needs to authenticate to gain network access."',spec_title:"RFC6585#6",spec_href:"https://tools.ietf.org/html/rfc6585#section-6"}};class ow{}class RY{}let Zp=(()=>{class e{constructor(n={}){Object.assign(this,{caseSensitiveSearch:!1,dataEncapsulation:!1,delay:500,delete404:!1,passThruUnknownUrl:!1,post204:!0,post409:!1,put204:!0,put404:!1,apiBase:void 0,host:void 0,rootPath:void 0},n)}static#e=this.\u0275fac=function(r){return new(r||e)(L(RY))};static#t=this.\u0275prov=W({token:e,factory:e.\u0275fac})}return e})();class FY{constructor(t,n={}){this.inMemDbService=t,this.config=new Zp,this.db={},this.requestInfoUtils=this.getRequestInfoUtils();const r=this.getLocation("/");this.config.host=r.host,this.config.rootPath=r.path,Object.assign(this.config,n)}get dbReady(){return this.dbReadySubject||(this.dbReadySubject=new P_(!1),this.resetDb()),this.dbReadySubject.asObservable().pipe(TN(t=>t))}handleRequest(t){return this.dbReady.pipe(KE(()=>this.handleRequest_(t)))}handleRequest_(t){const n=t.urlWithParams?t.urlWithParams:t.url,r=this.bind("parseRequestUrl"),o=r&&r(n,this.requestInfoUtils)||this.parseRequestUrl(n),s=o.collectionName,i=this.db[s],a={req:t,apiBase:o.apiBase,collection:i,collectionName:s,headers:this.createHeaders({"Content-Type":"application/json"}),id:this.parseId(i,s,o.id),method:this.getRequestMethod(t),query:o.query,resourceUrl:o.resourceUrl,url:n,utils:this.requestInfoUtils};let c;if(/commands\/?$/i.test(a.apiBase))return this.commands(a);const l=this.bind(a.method);if(l){const u=l(a);if(u)return u}return this.db[s]?this.createResponse$(()=>this.collectionHandler(a)):this.config.passThruUnknownUrl?this.getPassThruBackend().handle(t):(c=this.createErrorResponseOptions(n,404,`Collection '${s}' not found`),this.createResponse$(()=>c))}addDelay(t){const n=this.config.delay;return 0===n?t:function TY(e,t){return new ct(n=>{let r=!1,o=!1;const s=e.subscribe(i=>{o=!0,setTimeout(()=>{n.next(i),r&&n.complete()},t)},i=>setTimeout(()=>n.error(i),t),()=>{r=!0,o||n.complete()});return()=>s.unsubscribe()})}(t,n||500)}applyQuery(t,n){const r=[],o=this.config.caseSensitiveSearch?void 0:"i";n.forEach((i,a)=>{i.forEach(c=>r.push({name:a,rx:new RegExp(decodeURI(c),o)}))});const s=r.length;return s?t.filter(i=>{let a=!0,c=s;for(;a&&c;){c-=1;const l=r[c];a=l.rx.test(i[l.name])}return a}):t}bind(t){const n=this.inMemDbService[t];return n?n.bind(this.inMemDbService):void 0}bodify(t){return this.config.dataEncapsulation?{data:t}:t}clone(t){return JSON.parse(JSON.stringify(t))}collectionHandler(t){let n;switch(t.method){case"get":n=this.get(t);break;case"post":n=this.post(t);break;case"put":n=this.put(t);break;case"delete":n=this.delete(t);break;default:n=this.createErrorResponseOptions(t.url,405,"Method not allowed")}const r=this.bind("responseInterceptor");return r?r(n,t):n}commands(t){const n=t.collectionName.toLowerCase(),r=t.method;let o={url:t.url};switch(n){case"resetdb":return o.status=204,this.resetDb(t).pipe(KE(()=>this.createResponse$(()=>o,!1)));case"config":if("get"===r)o.status=200,o.body=this.clone(this.config);else{const s=this.getJsonBody(t.req);Object.assign(this.config,s),this.passThruBackend=void 0,o.status=204}break;default:o=this.createErrorResponseOptions(t.url,500,`Unknown command "${n}"`)}return this.createResponse$(()=>o,!1)}createErrorResponseOptions(t,n,r){return{body:{error:`${r}`},url:t,headers:this.createHeaders({"Content-Type":"application/json"}),status:n}}createResponse$(t,n=!0){const r=this.createResponseOptions$(t);let o=this.createResponse$fromResponseOptions$(r);return n?this.addDelay(o):o}createResponseOptions$(t){return new ct(n=>{let r;try{r=t()}catch(s){r=this.createErrorResponseOptions("",500,`${s.message||s}`)}const o=r.status;try{r.statusText=null!=o?function OY(e){return kY[e+""].text||"Unknown Status"}(o):void 0}catch{}return null!=o&&function xY(e){return e>=200&&e<300}(o)?(n.next(r),n.complete()):n.error(r),()=>{}})}delete({collection:t,collectionName:n,headers:r,id:o,url:s}){return null==o?this.createErrorResponseOptions(s,404,`Missing "${n}" id`):{headers:r,status:this.removeById(t,o)||!this.config.delete404?204:404}}findById(t,n){return t.find(r=>r.id===n)}genId(t,n){const r=this.bind("genId");if(r){const o=r(t,n);if(null!=o)return o}return this.genIdDefault(t,n)}genIdDefault(t,n){if(!this.isCollectionIdNumeric(t,n))throw new Error(`Collection '${n}' id type is non-numeric or unknown. Can only generate numeric ids.`);let r=0;return t.reduce((o,s)=>{r=Math.max(r,"number"==typeof s.id?s.id:r)},void 0),r+1}get({collection:t,collectionName:n,headers:r,id:o,query:s,url:i}){let a=t;return null!=o&&""!==o?a=this.findById(t,o):s&&(a=this.applyQuery(t,s)),a?{body:this.bodify(this.clone(a)),headers:r,status:200}:this.createErrorResponseOptions(i,404,`'${n}' with id='${o}' not found`)}getLocation(t){if(!t.startsWith("http")){const n=typeof document>"u"?void 0:document,r=n?n.location.protocol+"//"+n.location.host:"http://fake";t=t.startsWith("/")?r+t:r+"/"+t}return function AY(e){const n=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(e),r={source:"",protocol:"",authority:"",userInfo:"",user:"",password:"",host:"",port:"",relative:"",path:"",directory:"",file:"",query:"",anchor:""},o=Object.keys(r);let s=o.length;for(;s--;)r[o[s]]=n&&n[s]||"";return r}(t)}getPassThruBackend(){return this.passThruBackend?this.passThruBackend:this.passThruBackend=this.createPassThruBackend()}getRequestInfoUtils(){return{createResponse$:this.createResponse$.bind(this),findById:this.findById.bind(this),isCollectionIdNumeric:this.isCollectionIdNumeric.bind(this),getConfig:()=>this.config,getDb:()=>this.db,getJsonBody:this.getJsonBody.bind(this),getLocation:this.getLocation.bind(this),getPassThruBackend:this.getPassThruBackend.bind(this),parseRequestUrl:this.parseRequestUrl.bind(this)}}indexOf(t,n){return t.findIndex(r=>r.id===n)}parseId(t,n,r){if(!this.isCollectionIdNumeric(t,n))return r;const o=parseFloat(r);return isNaN(o)?r:o}isCollectionIdNumeric(t,n){return!(!t||!t[0])&&"number"==typeof t[0].id}parseRequestUrl(t){try{const n=this.getLocation(t);let r=(this.config.rootPath||"").length,o="";n.host!==this.config.host&&(r=1,o=n.protocol+"//"+n.host+"/");const i=n.path.substring(r).split("/");let c,a=0;null==this.config.apiBase?c=i[a++]:(c=function NY(e){return e.replace(/\/$/,"")}(this.config.apiBase.trim()),a=c?c.split("/").length:0),c+="/";let l=i[a++];l=l&&l.split(".")[0];return{apiBase:c,collectionName:l,id:i[a++],query:this.createQueryMap(n.query),resourceUrl:o+c+l+"/"}}catch(n){throw new Error(`unable to parse url '${t}'; original error: ${n.message}`)}}post({collection:t,collectionName:n,headers:r,id:o,req:s,resourceUrl:i,url:a}){const c=this.clone(this.getJsonBody(s));if(null==c.id)try{c.id=o||this.genId(t,n)}catch(f){const d=f.message||"";return/id type is non-numeric/.test(d)?this.createErrorResponseOptions(a,422,d):this.createErrorResponseOptions(a,500,`Failed to generate new id for '${n}'`)}if(o&&o!==c.id)return this.createErrorResponseOptions(a,400,"Request id does not match item.id");const l=this.indexOf(t,o=c.id),u=this.bodify(c);return-1===l?(t.push(c),r.set("Location",i+"/"+o),{headers:r,body:u,status:201}):this.config.post409?this.createErrorResponseOptions(a,409,`'${n}' item with id='${o} exists and may not be updated with POST; use PUT instead.`):(t[l]=c,this.config.post204?{headers:r,status:204}:{headers:r,body:u,status:200})}put({collection:t,collectionName:n,headers:r,id:o,req:s,url:i}){const a=this.clone(this.getJsonBody(s));if(null==a.id)return this.createErrorResponseOptions(i,404,`Missing '${n}' id`);if(o&&o!==a.id)return this.createErrorResponseOptions(i,400,`Request for '${n}' id does not match item.id`);const c=this.indexOf(t,o=a.id),l=this.bodify(a);return c>-1?(t[c]=a,this.config.put204?{headers:r,status:204}:{headers:r,body:l,status:200}):this.config.put404?this.createErrorResponseOptions(i,404,`'${n}' item with id='${o} not found and may not be created with PUT; use POST instead.`):(t.push(a),{headers:r,body:l,status:201})}removeById(t,n){const r=this.indexOf(t,n);return r>-1&&(t.splice(r,1),!0)}resetDb(t){this.dbReadySubject&&this.dbReadySubject.next(!1);const n=this.inMemDbService.createDb(t);return(n instanceof ct?n:"function"==typeof n.then?hc(n):af(n)).pipe(TN()).subscribe(o=>{this.db=o,this.dbReadySubject&&this.dbReadySubject.next(!0)}),this.dbReady}}let PY=(()=>{class e extends FY{constructor(n,r,o){super(n,r),this.xhrFactory=o}handle(n){try{return this.handleRequest(n)}catch(r){const s=this.createErrorResponseOptions(n.url,500,`${r.message||r}`);return this.createResponse$(()=>s)}}getJsonBody(n){return n.body}getRequestMethod(n){return(n.method||"get").toLowerCase()}createHeaders(n){return new Ln(n)}createQueryMap(n){const r=new Map;if(n){const o=new bo({fromString:n});o.keys().forEach(s=>r.set(s,o.getAll(s)||[]))}return r}createResponse$fromResponseOptions$(n){return n.pipe(cn(r=>new fs(r)))}createPassThruBackend(){try{return new tw(this.xhrFactory)}catch(n){throw n.message="Cannot create passThru404 backend; "+(n.message||""),n}}static#e=this.\u0275fac=function(r){return new(r||e)(L(ow),L(Zp,8),L(Hp))};static#t=this.\u0275prov=W({token:e,factory:e.\u0275fac})}return e})();function LY(e,t,n){return new PY(e,t,n)}let jY=(()=>{class e{static forRoot(n,r){return{ngModule:e,providers:[{provide:ow,useClass:n},{provide:Zp,useValue:r},{provide:cf,useFactory:LY,deps:[ow,Zp,Hp]}]}}static forFeature(n,r){return e.forRoot(n,r)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Yo({type:e});static#n=this.\u0275inj=ro({})}return e})(),BY=(()=>{class e{createDb(){const n={id:"metal",label:"Metal",bpm:180,tracks:[{name:"Snare",fileName:"metal/snare.mp3",steps:"____X_______X___".split("").map(S=>"X"===S)},{name:"Hats",fileName:"metal/crash.mp3",steps:"X___X___X___X___".split("").map(S=>"X"===S)},{name:"Kick",fileName:"metal/kick.mp3",steps:"XXXXXXXXXXXXXXXX".split("").map(S=>"X"===S)}]},r={id:"techno",label:"4 on the floor",bpm:128,tracks:[{name:"Snare",fileName:"techno/snare.wav",steps:"____X_______X___".split("").map(S=>"X"===S)},{name:"Hats",fileName:"techno/hat.wav",steps:"X_X_X_X_X_X_X_X_".split("").map(S=>"X"===S)},{name:"Kick",fileName:"techno/kick.wav",steps:"X   X   X   X   ".split("").map(S=>"X"===S)}]},o={id:"rock-beat",label:"Rock",bpm:145,tracks:[{name:"Snare",fileName:"metal/snare.mp3",steps:"    X       X   ".split("").map(S=>"X"===S)},{name:"Hats",fileName:"metal/hat.mp3",steps:"X   X   X   X   ".split("").map(S=>"X"===S)},{name:"Kick",fileName:"metal/kick.mp3",steps:"X       X       ".split("").map(S=>"X"===S)}]},s={id:"rock-beat-variation",label:"Rock variation",bpm:145,tracks:[{name:"Snare",fileName:"metal/snare.mp3",steps:"    X       X   ".split("").map(S=>"X"===S)},{name:"Crash",fileName:"metal/crash.mp3",steps:"X   X   X   X   ".split("").map(S=>"X"===S)},{name:"Kick",fileName:"metal/kick.mp3",steps:"X       X       ".split("").map(S=>"X"===S)}]},i={id:"psytrance",label:"Psytrance",bpm:135,tracks:[{name:"Closed hats",fileName:"psytrance/closed-hat.wav",steps:"X   X   X   X   ".split("").map(S=>"X"===S)},{name:"Open hats",fileName:"psytrance/open-hat.wav",steps:"  X   X   X   X ".split("").map(S=>"X"===S)},{name:"Snare",fileName:"psytrance/snare.wav",steps:"    X       X   ".split("").map(S=>"X"===S)},{name:"Kick",fileName:"psytrance/kick.wav",steps:"X   X   X   X   ".split("").map(S=>"X"===S)},{name:"Bass",fileName:"psytrance/bass.wav",steps:" XXX XXX XXX XXX".split("").map(S=>"X"===S)}]},a={id:"off-beat-techno-clap",label:"OffBeat clap",bpm:128,tracks:[{name:"Clap",fileName:"gabber/clap.wav",steps:"    X      XX       X      XX   ".split("").map(S=>"X"===S)},{name:"Hats",fileName:"techno/hat.wav",steps:"  X   X   X   X   X   X   X   X ".split("").map(S=>"X"===S)},{name:"Kick",fileName:"techno/kick.wav",steps:"X   X   X   X   X   X   X   X   ".split("").map(S=>"X"===S)}]},c={id:"jersey-club",label:"Jersey club",bpm:140,tracks:[{name:"Bed squeak (low)",fileName:"jersey-club/squeak_low.mp3",steps:"X       X       ".split("").map(S=>"X"===S)},{name:"Bed squeak (high)",fileName:"jersey-club/squeak_high.mp3",steps:"    X       X   ".split("").map(S=>"X"===S)},{name:"Snare",fileName:"jersey-club/snare.mp3",steps:"X   X   X  X  X ".split("").map(S=>"X"===S)},{name:"Kick",fileName:"jersey-club/kick.mp3",steps:"X   X   X  X  X ".split("").map(S=>"X"===S)}]},l={id:"half-time-groove",label:"Half time groove",bpm:145,tracks:[{name:"Snare",fileName:"metal/snare.mp3",steps:"        X       ".split("").map(S=>"X"===S)},{name:"Crash",fileName:"metal/crash.mp3",steps:"X   X   X   X   ".split("").map(S=>"X"===S)},{name:"Kick",fileName:"metal/kick.mp3",steps:"X               ".split("").map(S=>"X"===S)}]},u={id:"garage",label:"Garage",bpm:130,tracks:[{name:"Snare",fileName:"techno/snare.wav",steps:"    X       X   ".split("").map(S=>"X"===S)},{name:"Hats",fileName:"techno/hat.wav",steps:"  X   X   X   X ".split("").map(S=>"X"===S)},{name:"Kick",fileName:"techno/kick.wav",steps:"X           X   ".split("").map(S=>"X"===S)}]},f={id:"gabber",label:"Gabber",bpm:200,tracks:[{name:"Crash Cymbal",fileName:"gabber/crash.wav",steps:"                               X".split("").map(S=>"X"===S)},{name:"Open HiHats",fileName:"gabber/open-hihat.wav",steps:"X X X X X X X X X X X X X X X X ".split("").map(S=>"X"===S)},{name:"Clap",fileName:"gabber/clap.wav",steps:"X   X   X   X   X   X   X   X   ".split("").map(S=>"X"===S)},{name:"Kick",fileName:"gabber/kick.wav",steps:"X   X   X   X   X   X   X   X   ".split("").map(S=>"X"===S)}]},d={id:"ebm",label:"EBM",bpm:120,tracks:[{name:"Clap",fileName:"ebm/clap.wav",steps:[" "," ","X"," ","X"," ","X"," "," "," ","X"," "," "," ","X","X"," "," ","X","X","X","X"," "," "," ","X"," ","X"," "," ","X"," "].map(S=>"X"===S)},{name:"Open High-Hat",fileName:"ebm/open-hihat.wav",steps:[" "," ","X"," "," "," ","X"," "," "," ","X"," "," "," ","X"," "," "," ","X"," "," "," ","X"," "," "," ","X"," "," "," ","X"," "].map(S=>"X"===S)},{name:"Closed High-Hat",fileName:"ebm/closed-hihat.wav",steps:["X","X"," "," ","X","X"," "," ","X","X"," "," ","X","X"," "," ","X","X"," "," ","X","X"," "," ","X","X"," "," ","X","X"," "," "].map(S=>"X"===S)},{name:"Snare",fileName:"ebm/snare.wav",steps:"    X       X       X       X XX".split("").map(S=>"X"===S)},{name:"Kick",fileName:"ebm/kick.wav",steps:"X   X   X   X   X   X   X   X   ".split("").map(S=>"X"===S)}]},p={id:"dub",label:"Dub",bpm:140,tracks:[{name:"Kick",fileName:"dub/kick.wav",steps:"X_______X_______X_______X_______X_______X_______X_______X_______".split("").map(S=>"X"===S)},{name:"Sub Bass",fileName:"dub/sub.wav",steps:["X"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","X"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","X"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","X"," "," "," "," "," "," "," ","X"," "," "," "," "," "," "," "].map(S=>"X"===S)},{name:"Skank",fileName:"dub/skank.wav",steps:"____X_______X_______X_______X_______X_______X_______X_______X___".split("").map(S=>"X"===S)},{name:"Snare",fileName:"dub/snare.wav",steps:[" "," "," "," "," "," "," "," ","X"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","X"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","X"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","X"," ","X"," "," "," "," "," "].map(S=>"X"===S)},{name:"Arpeggio",fileName:"dub/arpeggio_si.wav",steps:"____X_______X_______X_______X_______X_______X_______X_______X___".split("").map(S=>"X"===S)},{name:"Closed Hat",fileName:"dub/closed-hat.wav",steps:[" "," "," "," ","X"," ","X"," "," "," "," "," ","X"," "," "," "," "," "," "," ","X","X","X"," "," "," "," "," ","X"," "," "," "," "," "," "," ","X"," ","X"," "," "," "," "," ","X","X"," "," "," "," "," "," ","X"," ","X"," "," "," "," "," ","X"," ","X","X"].map(S=>"X"===S)},{name:"Bass",fileName:"dub/bass.wav",steps:"X                                         X                     ".split("").map(S=>"X"===S)}]},g={id:"blast-beat",label:"Blast beat",bpm:180,tracks:[{name:"Snare",fileName:"metal/snare.mp3",steps:"_X_X_X_X_X_X_X_X".split("").map(S=>"X"===S)},{name:"Hats",fileName:"metal/hat.mp3",steps:"X_X_X_X_X_X_X_X_".split("").map(S=>"X"===S)},{name:"Kick",fileName:"metal/kick.mp3",steps:"X_X_X_X_X_X_X_X_".split("").map(S=>"X"===S)}]},m={id:"breakcore",label:"Breakcore",bpm:180,tracks:[{name:"Snare (accent)",fileName:"techno/snare.wav",steps:"    X        X  ".split("").map(S=>"X"===S)},{name:"Snare (main)",fileName:"drum-n-bass/snare.wav",steps:"    X  X X   X  ".split("").map(S=>"X"===S)},{name:"Hats",fileName:"techno/hat.wav",steps:"XXXXXXXXXXXXXXXX".split("").map(S=>"X"===S)},{name:"Kick",fileName:"techno/kick.wav",steps:"X X       XX    ".split("").map(S=>"X"===S)}]},y={id:"drum-n-bass",label:"Drum & bass",bpm:170,tracks:[{name:"Snare",fileName:"drum-n-bass/snare.wav",steps:"    X       X   ".split("").map(S=>"X"===S)},{name:"Hats",fileName:"drum-n-bass/hat.wav",steps:"XXXXXXXXXXXXXXXX".split("").map(S=>"X"===S)},{name:"Kick",fileName:"drum-n-bass/kick.wav",steps:"X         X     ".split("").map(S=>"X"===S)}]},w={id:"dancehall-standard",label:"Standard dancehall",bpm:105,tracks:[{name:"Hats",fileName:"techno/hat.wav",steps:"XXXXXXXXXXXXXXXX".split("").map(S=>"X"===S)},{name:"Snare",fileName:"techno/snare.wav",steps:"      X       X ".split("").map(S=>"X"===S)},{name:"Kick",fileName:"techno/kick.wav",steps:"X  X  X X  X  X ".split("").map(S=>"X"===S)}]},v={id:"dancehall-reggaeton",label:"Reggaeton",bpm:105,tracks:[{name:"Hats",fileName:"techno/hat.wav",steps:"XXXXXXXXXXXXXXXX".split("").map(S=>"X"===S)},{name:"Snare",fileName:"techno/snare.wav",steps:"   X  X    X  X ".split("").map(S=>"X"===S)},{name:"Kick",fileName:"techno/kick.wav",steps:"X   X   X   X   ".split("").map(S=>"X"===S)}]},k={id:"dancehall-modern",label:"Modern dancehall",bpm:105,tracks:[{name:"Hats",fileName:"techno/hat.wav",steps:"XXXXXXXXXXXXXXXX".split("").map(S=>"X"===S)},{name:"Rim",fileName:"techno/snare.wav",steps:"   X  X     X   ".split("").map(S=>"X"===S)},{name:"Kick",fileName:"techno/kick.wav",steps:"X         X     ".split("").map(S=>"X"===S)}]};return{genres:[{label:"Techno",beats:[r,f,a]},{label:"Garage",beats:[u,y]},{label:"Breakbeat",beats:[c,m]},{label:"Dancehall",beats:[v,w,k]},{label:"Trance",beats:[i]},{label:"Dub",beats:[p]},{label:"Indus",beats:[d]},{label:"Metal",beats:[n,l,o,s,g]},{label:"Punk",beats:[{id:"punk-beat-quarter-note-groove",label:"Quarter note groove",bpm:170,tracks:[{name:"Hats",fileName:"metal/hat.mp3",steps:"X___X___X___X___".split("").map(S=>"X"===S)},{name:"Snare",fileName:"metal/snare.mp3",steps:"____X_______X___".split("").map(S=>"X"===S)},{name:"Kick",fileName:"metal/kick.mp3",steps:"X_______X_______".split("").map(S=>"X"===S)}]},{id:"punk-beat-quarter-note-groove-variation",label:"Quarter note groove variation",bpm:170,tracks:[{name:"Hats",fileName:"metal/hat.mp3",steps:"X___X___X___X___".split("").map(S=>"X"===S)},{name:"Snare",fileName:"metal/snare.mp3",steps:"____X_______X___".split("").map(S=>"X"===S)},{name:"Kick",fileName:"metal/kick.mp3",steps:"X_X_____X_X_____".split("").map(S=>"X"===S)}]},{id:"punk-beat-eight-note-fill",label:"Eight note fill",bpm:170,tracks:[{name:"Hats",fileName:"metal/hat.mp3",steps:"X_X_X_X_X_X_X_X_".split("").map(S=>"X"===S)},{name:"Snare",fileName:"metal/snare.mp3",steps:"____X_______X___".split("").map(S=>"X"===S)},{name:"Kick",fileName:"metal/kick.mp3",steps:"X_X___X_X_X_____".split("").map(S=>"X"===S)}]}]}],beats:[k,w,v,y,m,g,p,d,n,r,o,s,i,a,c,l,u,f]}}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const h=function(e,t){if("function"==typeof e)return function(){return e(arguments)?t.apply(this,arguments):n=>t(n,...arguments)};switch(e){case 0:case 1:throw new RangeError(`Invalid arity ${e}`);case 2:return function(n,r){return arguments.length>=2?t(n,r):function(o){return t(o,n)}};case 3:return function(n,r,o){return arguments.length>=3?t(n,r,o):function(s){return t(s,n,r)}};case 4:return function(n,r,o,s){return arguments.length>=4?t(n,r,o,s):function(i){return t(i,n,r,o)}};case 5:return function(n,r,o,s,i){return arguments.length>=5?t(n,r,o,s,i):function(a){return t(a,n,r,o,s)}};default:return function(){if(arguments.length>=e)return t.apply(this,arguments);const n=arguments;return function(r){return t(r,...n)}}}},ve=e=>e,eg=e=>()=>e,df=eg(!0),hs=eg(!1),kN=eg(void 0);function _(e,t,n,r,o,s,i,a,c){switch(arguments.length){case 1:return e;case 2:return t(e);case 3:return n(t(e));case 4:return r(n(t(e)));case 5:return o(r(n(t(e))));case 6:return s(o(r(n(t(e)))));case 7:return i(s(o(r(n(t(e))))));case 8:return a(i(s(o(r(n(t(e)))))));case 9:return c(a(i(s(o(r(n(t(e))))))));default:{let l=arguments[0];for(let u=1;u<arguments.length;u++)l=arguments[u](l);return l}}}const tg=()=>"3.10.14",iw=Symbol.for(`effect/GlobalValue/globalStoreId/${tg()}`);iw in globalThis||(globalThis[iw]=new Map);const aw=globalThis[iw],fe=(e,t)=>(aw.has(e)||aw.set(e,t()),aw.get(e)),hf=e=>"number"==typeof e,hi=e=>"function"==typeof e,ng=e=>(e=>"object"==typeof e&&null!==e)(e)||hi(e),z=h(2,(e,t)=>ng(e)&&t in e),rg=h(2,(e,t)=>z(e,"_tag")&&e._tag===t),mc=e=>null==e,pf=e=>`BUG: ${e} - please report an issue at https://github.com/Effect-TS/effect/issues`;Symbol;class og{self;called=!1;constructor(t){this.self=t}next(t){return this.called?{value:t,done:!0}:(this.called=!0,{value:this.self,done:!1})}return(t){return{value:t,done:!0}}throw(t){throw t}[Symbol.iterator](){return new og(this.self)}}class KY{_state;constructor(t,n,r,o){return mc(n)&&mc(t)?(n=4294967295*Math.random()>>>0,t=0):mc(n)&&(n=t,t=0),mc(o)&&mc(r)?(o=this._state?this._state[3]:4150755663,r=this._state?this._state[2]:335903614):mc(o)&&(o=r,r=0),this._state=new Int32Array([0,0,r>>>0,(1|(o||0))>>>0]),this._next(),PN(this._state,this._state[0],this._state[1],t>>>0,n>>>0),this._next(),this}getState(){return[this._state[0],this._state[1],this._state[2],this._state[3]]}setState(t){this._state[0]=t[0],this._state[1]=t[1],this._state[2]=t[2],this._state[3]=1|t[3]}integer(t){return Math.round(this.number()*Number.MAX_SAFE_INTEGER)%t}number(){return(1*(67108863&this._next())*134217728+1*(134217727&this._next()))/9007199254740992}_next(){const t=this._state[0]>>>0,n=this._state[1]>>>0;(function YY(e,t,n,r,o){let s=(n>>>16)*(65535&o)>>>0,i=(65535&n)*(o>>>16)>>>0,a=(65535&n)*(65535&o)>>>0,c=(n>>>16)*(o>>>16)+((i>>>16)+(s>>>16))>>>0;i=i<<16>>>0,a=a+i>>>0,a>>>0<i>>>0&&(c=c+1>>>0),s=s<<16>>>0,a=a+s>>>0,a>>>0<s>>>0&&(c=c+1>>>0),c=c+Math.imul(n,r)>>>0,c=c+Math.imul(t,o)>>>0,e[0]=c,e[1]=a})(this._state,t,n,1481765933,1284865837),PN(this._state,this._state[0],this._state[1],this._state[2],this._state[3]);let r=t>>>18,o=(n>>>18|t<<14)>>>0;r=(r^t)>>>0,o=(o^n)>>>0;const s=(o>>>27|r<<5)>>>0,i=t>>>27;return(s>>>i|s<<((-i>>>0&31)>>>0))>>>0}}function PN(e,t,n,r,o){let s=t+r>>>0;const i=n+o>>>0;i>>>0<n>>>0&&(s=s+1|0),e[0]=s,e[1]=i}const uw=Symbol.for("effect/Utils/YieldWrap");class gf{#e;constructor(t){this.#e=t}[uw](){return this.#e}}const At=fe("effect/Utils/isStructuralRegion",()=>({enabled:!1,tester:void 0})),Nt=(e=>{const t={[e]:n=>n()};return function(n){return t[e](n)}})("effect_internal_function"),fw=fe(Symbol.for("effect/Hash/randomHashCache"),()=>new WeakMap),Q=Symbol.for("effect/Hash"),F=e=>{if(!0===At.enabled)return 0;switch(typeof e){case"number":return dw(e);case"bigint":return nt(e.toString(10));case"boolean":case"symbol":return nt(String(e));case"string":return nt(e);case"undefined":return nt("undefined");case"function":case"object":return null===e?nt("null"):e instanceof Date?F(e.toISOString()):JY(e)?e[Q]():sg(e);default:throw new Error(`BUG: unhandled typeof ${typeof e} - please report an issue at https://github.com/Effect-TS/effect/issues`)}},sg=e=>(fw.has(e)||fw.set(e,dw(Math.floor(Math.random()*Number.MAX_SAFE_INTEGER))),fw.get(e)),re=e=>t=>53*t^e,ig=e=>3221225471&e|e>>>1&1073741824,JY=e=>z(e,Q),dw=e=>{if(e!=e||e===1/0)return 0;let t=0|e;for(t!==e&&(t^=4294967295*e);e>4294967295;)t^=e/=4294967295;return ig(t)},nt=e=>{let t=5381,n=e.length;for(;n;)t=33*t^e.charCodeAt(--n);return ig(t)},LN=e=>((e,t)=>{let n=12289;for(let r=0;r<t.length;r++)n^=_(nt(t[r]),re(F(e[t[r]])));return ig(n)})(e,Object.keys(e)),pi=e=>{let t=6151;for(let n=0;n<e.length;n++)t=_(t,re(F(e[n])));return ig(t)},$e=function(){if(1===arguments.length){const n=arguments[0];return function(r){return Object.defineProperty(n,Q,{value:()=>r,enumerable:!1}),r}}const t=arguments[1];return Object.defineProperty(arguments[0],Q,{value:()=>t,enumerable:!1}),t},J=Symbol.for("effect/Equal");function j(){return 1===arguments.length?e=>ag(e,arguments[0]):ag(arguments[0],arguments[1])}function ag(e,t){if(e===t)return!0;const n=typeof e;if(n!==typeof t)return!1;if("object"===n||"function"===n){if(null!==e&&null!==t){if(mf(e)&&mf(t))return!(F(e)!==F(t)||!e[J](t))||!(!At.enabled||!At.tester)&&At.tester(e,t);if(e instanceof Date&&t instanceof Date)return e.toISOString()===t.toISOString()}if(At.enabled){if(Array.isArray(e)&&Array.isArray(t))return e.length===t.length&&e.every((r,o)=>ag(r,t[o]));if(Object.getPrototypeOf(e)===Object.prototype&&Object.getPrototypeOf(e)===Object.prototype){const r=Object.keys(e),o=Object.keys(t);if(r.length===o.length){for(const s of r)if(!(s in t)||!ag(e[s],t[s]))return!!At.tester&&At.tester(e,t);return!0}}return!!At.tester&&At.tester(e,t)}}return!(!At.enabled||!At.tester)&&At.tester(e,t)}const mf=e=>z(e,J),hw=()=>j,qe=Symbol.for("nodejs.util.inspect.custom"),Ge=e=>z(e,"toJSON")&&hi(e.toJSON)&&0===e.toJSON.length?e.toJSON():Array.isArray(e)?e.map(Ge):tQ(e),pt=e=>JSON.stringify(e,null,2),_c=(e,t=2)=>{if("string"==typeof e)return e;try{return"object"==typeof e?pw(e,t):String(e)}catch{return String(e)}},pw=(e,t)=>{let n=[];const r=JSON.stringify(e,(o,s)=>"object"==typeof s&&null!==s?n.includes(s)?void 0:n.push(s)&&(void 0!==gi.fiberRefs&&jN(s)?s[gw](gi.fiberRefs):s):s,t);return n=void 0,r},gw=Symbol.for("effect/Inspectable/Redactable"),jN=e=>"object"==typeof e&&null!==e&&gw in e,gi=fe("effect/Inspectable/redactableState",()=>({fiberRefs:void 0})),tQ=e=>jN(e)&&void 0!==gi.fiberRefs?e[gw](gi.fiberRefs):e,V=(e,t)=>{switch(t.length){case 0:return e;case 1:return t[0](e);case 2:return t[1](t[0](e));case 3:return t[2](t[1](t[0](e)));case 4:return t[3](t[2](t[1](t[0](e))));case 5:return t[4](t[3](t[2](t[1](t[0](e)))));case 6:return t[5](t[4](t[3](t[2](t[1](t[0](e))))));case 7:return t[6](t[5](t[4](t[3](t[2](t[1](t[0](e)))))));case 8:return t[7](t[6](t[5](t[4](t[3](t[2](t[1](t[0](e))))))));case 9:return t[8](t[7](t[6](t[5](t[4](t[3](t[2](t[1](t[0](e)))))))));default:{let n=e;for(let r=0,o=t.length;r<o;r++)n=t[r](n);return n}}},_f="Async",cg="Commit",Ne="Failure",lg="OnFailure",ug="OnSuccess",fg="OnSuccessAndFailure",Fe="Success",mi="UpdateRuntimeFlags",dg="While",yf="Iterator",VN="WithRuntime",hg="Yield",mw="RevertFlags",HN=Symbol.for("effect/Effect"),UN=Symbol.for("effect/Stream"),$N=Symbol.for("effect/Sink"),qN=Symbol.for("effect/Channel"),yc={_R:e=>e,_E:e=>e,_A:e=>e,_V:tg()},bf={[HN]:yc,[UN]:yc,[$N]:{_A:e=>e,_In:e=>e,_L:e=>e,_E:e=>e,_R:e=>e},[qN]:{_Env:e=>e,_InErr:e=>e,_InElem:e=>e,_InDone:e=>e,_OutErr:e=>e,_OutElem:e=>e,_OutDone:e=>e},[J](e){return this===e},[Q](){return $e(this,sg(this))},[Symbol.iterator](){return new og(new gf(this))},pipe(){return V(this,arguments)}},pg={[Q](){return $e(this,LN(this))},[J](e){const t=Object.keys(this),n=Object.keys(e);if(t.length!==n.length)return!1;for(const r of t)if(!(r in e)||!j(this[r],e[r]))return!1;return!0}},Eo={...bf,_op:cg},_w={...Eo,...pg},sQ=function(){function e(){}return e.prototype=Eo,e}(),WN=Symbol.for("effect/Option"),zN={...bf,[WN]:{_A:e=>e},[qe](){return this.toJSON()},toString(){return pt(this.toJSON())}},aQ=Object.assign(Object.create(zN),{_tag:"Some",_op:"Some",[J](e){return yw(e)&&XN(e)&&j(this.value,e.value)},[Q](){return $e(this,re(F(this._tag))(F(this.value)))},toJSON(){return{_id:"Option",_tag:this._tag,value:Ge(this.value)}}}),cQ=F("None"),lQ=Object.assign(Object.create(zN),{_tag:"None",_op:"None",[J]:e=>yw(e)&&bw(e),[Q]:()=>cQ,toJSON(){return{_id:"Option",_tag:this._tag}}}),yw=e=>z(e,WN),bw=e=>"None"===e._tag,XN=e=>"Some"===e._tag,gg=Object.create(lQ),mg=e=>{const t=Object.create(aQ);return t.value=e,t},vw=Symbol.for("effect/Context/Tag"),GN={...bf,_op:"Tag",[Symbol.for("effect/STM")]:yc,[vw]:{_Service:e=>e,_Identifier:e=>e},toString(){return pt(this.toJSON())},toJSON(){return{_id:"Tag",key:this.key,stack:this.stack}},[qe](){return this.toJSON()},of:e=>e,context(e){return YN(this,e)}},Ew=Symbol.for("effect/Context"),dQ={[Ew]:{_Services:e=>e},[J](e){if(KN(e)&&this.unsafeMap.size===e.unsafeMap.size){for(const t of this.unsafeMap.keys())if(!e.unsafeMap.has(t)||!j(this.unsafeMap.get(t),e.unsafeMap.get(t)))return!1;return!0}return!1},[Q](){return $e(this,dw(this.unsafeMap.size))},pipe(){return V(this,arguments)},toString(){return pt(this.toJSON())},toJSON(){return{_id:"Context",services:Array.from(this.unsafeMap).map(Ge)}},[qe](){return this.toJSON()}},wo=e=>{const t=Object.create(dQ);return t.unsafeMap=e,t},KN=e=>z(e,Ew),gQ=wo(new Map),YN=(e,t)=>wo(new Map([[e.key,t]])),_Q=h(3,(e,t,n)=>{const r=new Map(e.unsafeMap);return r.set(t.key,n),wo(r)}),QN=h(2,(e,t)=>{if(!e.unsafeMap.has(t.key))throw(e=>{const t=new Error("Service not found"+(e.key?`: ${String(e.key)}`:""));if(e.stack){const n=e.stack.split("\n");if(n.length>2){const r=n[2].match(/at (.*)/);r&&(t.message=t.message+` (defined at ${r[1]})`)}}if(t.stack){const n=t.stack.split("\n");n.splice(1,3),t.stack=n.join("\n")}return t})(t);return e.unsafeMap.get(t.key)}),_i=e=>{const t=Error.stackTraceLimit;Error.stackTraceLimit=2;const n=new Error;Error.stackTraceLimit=t;const r=Object.create(GN);return Object.defineProperty(r,"stack",{get:()=>n.stack}),r.key=e,r},ps=()=>gQ,Ft=_Q,gs=QN,_g=QN,ms=h(2,(e,t)=>e.unsafeMap.has(t.key)?mg(e.unsafeMap.get(t.key)):gg),ww=Symbol.for("effect/Either"),JN={...bf,[ww]:{_R:e=>e},[qe](){return this.toJSON()},toString(){return pt(this.toJSON())}},IQ=Object.assign(Object.create(JN),{_tag:"Right",_op:"Right",[J](e){return Sw(e)&&Cw(e)&&j(this.right,e.right)},[Q](){return re(F(this._tag))(F(this.right))},toJSON(){return{_id:"Either",_tag:this._tag,right:Ge(this.right)}}}),MQ=Object.assign(Object.create(JN),{_tag:"Left",_op:"Left",[J](e){return Sw(e)&&Dw(e)&&j(this.left,e.left)},[Q](){return re(F(this._tag))(F(this.left))},toJSON(){return{_id:"Either",_tag:this._tag,left:Ge(this.left)}}}),Sw=e=>z(e,ww),Dw=e=>"Left"===e._tag,Cw=e=>"Right"===e._tag,rt=e=>{const t=Object.create(IQ);return t.right=e,t},en=e=>{const t=Object.create(MQ);return t.left=e,t},Dn=Dw,bc=Cw,rF=h(2,(e,{onLeft:t,onRight:n})=>Dn(e)?t(e.left):n(e.right))({onLeft:ve,onRight:ve}),vc=e=>(t,n)=>t===n||e(t,n),PQ=h(2,(e,t)=>vc((n,r)=>e(t(n),t(r)))),iF=e=>e.length>0,I=()=>gg,T=mg,ge=bw,ae=XN,jn=h(2,(e,{onNone:t,onSome:n})=>ge(e)?t():n(e.value)),Bn=h(2,(e,t)=>ge(e)?t():e.value),BQ=h(2,(e,t)=>ge(e)?T(t()):e),Ec=e=>null==e?I():T(e),Vn=Bn(kN),aF=h(2,(e,t)=>{if(ae(e))return e.value;throw t()})(()=>new Error("getOrThrow called on a None")),wc=h(2,(e,t)=>ge(e)?I():T(t(e.value))),cF=h(2,(e,t)=>ge(e)?I():t(e.value)),UQ=(e=>h(2,(t,n)=>!ge(t)&&e(t.value,n)))(hw()),_s=(Symbol,e=>(t,n)=>t===n?0:e(t,n)),fF=_s((e,t)=>e<t?-1:1),dF=h(2,(e,t)=>_s((n,r)=>e(t(n),t(r)))),pF=e=>h(2,(t,n)=>1===e(t,n)),sJ=(...e)=>e,Iw=e=>new Array(e),oe=e=>Array.isArray(e)?e:Array.from(e),bg=h(2,(e,t)=>[t,...e]),aJ=h(2,(e,t)=>[...e,t]),bF=h(2,(e,t)=>oe(e).concat(oe(t))),lJ=iF,$t=iF,vF=(e,t)=>e<0||e>=t.length,fJ=h(2,(e,t)=>{const n=Math.floor(t);return vF(n,e)?I():T(e[n])}),EF=h(2,(e,t)=>{const n=Math.floor(t);if(vF(n,e))throw new Error(`Index ${n} out of bounds`);return e[n]}),vf=fJ(0),Cn=EF(0),Mw=e=>e[e.length-1],ys=e=>e.slice(1),pJ=h(2,(e,t)=>wJ(e,((e,t)=>{let n=0;for(const r of e){if(!t(r,n))break;n++}return n})(e,t))),gJ=h(2,(e,t)=>{const n=oe(e);return n.slice(((e,t)=>Math.floor(Math.min(Math.max(0,e),t.length)))(t,n),n.length)}),SF=e=>Array.from(e).reverse(),Ef=h(2,(e,t)=>{const n=Array.from(e);return n.sort(t),n}),DF=h(2,(e,t)=>vJ(e,t,sJ)),vJ=h(3,(e,t,n)=>{const r=oe(e),o=oe(t);if($t(r)&&$t(o)){const s=[n(Cn(r),Cn(o))],i=Math.min(r.length,o.length);for(let a=1;a<i;a++)s[a]=n(r[a],o[a]);return s}return[]}),CF=hw(),wJ=h(2,(e,t)=>{const n=Array.from(e),r=Math.floor(t);return $t(n)?r>=1?SJ(n,r):[[],n]:[n,[]]}),SJ=h(2,(e,t)=>{const n=Math.max(1,Math.floor(t));return n>=e.length?[DJ(e),[]]:[bg(e.slice(1,n),Cn(e)),e.slice(n)]}),DJ=e=>e.slice(),CJ=h(3,(e,t,n)=>{const r=oe(e),o=oe(t);return $t(r)?$t(o)?kF(n)(bF(r,o)):r:o}),Dc=h(2,(e,t)=>CJ(e,t,CF)),Zn=e=>[e],Cc=h(2,(e,t)=>e.map(t)),IF=h(2,(e,t)=>{if((e=>0===e.length)(e))return[];const n=[];for(let r=0;r<e.length;r++){const o=t(e[r],r);for(let s=0;s<o.length;s++)n.push(o[s])}return n})(ve),yi=h(3,(e,t,n)=>oe(e).reduce((r,o,s)=>n(r,o,s),t)),TF=(e,t)=>{const n=[];let o,r=e;for(;ae(o=t(r));){const[s,i]=o.value;n.push(s),r=i}return n},kw=e=>vc((t,n)=>{if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(!e(t[r],n[r]))return!1;return!0}),kF=h(2,(e,t)=>{const n=oe(e);if($t(n)){const r=[Cn(n)],o=ys(n);for(const s of o)r.every(i=>!t(s,i))&&r.push(s);return r}return[]}),kJ=e=>kF(e,hw()),bi=h(2,(e,t)=>oe(e).join(t)),OF=Symbol.for("effect/Chunk"),xF=[],xJ=(e=>vc((t,n)=>t.length===n.length&&In(t).every((r,o)=>e(r,zr(n,o)))))(j),RJ={[OF]:{_A:e=>e},toString(){return pt(this.toJSON())},toJSON(){return{_id:"Chunk",values:In(this).map(Ge)}},[qe](){return this.toJSON()},[J](e){return RF(e)&&xJ(this,e)},[Q](){return $e(this,pi(In(this)))},[Symbol.iterator](){switch(this.backing._tag){case"IArray":return this.backing.array[Symbol.iterator]();case"IEmpty":return xF[Symbol.iterator]();default:return In(this)[Symbol.iterator]()}},pipe(){return V(this,arguments)}},Et=e=>{const t=Object.create(RJ);switch(t.backing=e,e._tag){case"IEmpty":t.length=0,t.depth=0,t.left=t,t.right=t;break;case"IConcat":t.length=e.left.length+e.right.length,t.depth=1+Math.max(e.left.depth,e.right.depth),t.left=e.left,t.right=e.right;break;case"IArray":t.length=e.array.length,t.depth=0,t.left=Wr,t.right=Wr;break;case"ISingleton":t.length=1,t.depth=0,t.left=Wr,t.right=Wr;break;case"ISlice":t.length=e.length,t.depth=e.chunk.depth+1,t.left=Wr,t.right=Wr}return t},RF=e=>z(e,OF),Wr=Et({_tag:"IEmpty"}),qt=()=>Wr,Ow=(...e)=>1===e.length?Ot(e[0]):AJ(e),Ot=e=>Et({_tag:"ISingleton",a:e}),Ic=e=>RF(e)?e:Et({_tag:"IArray",array:oe(e)}),xw=(e,t,n)=>{switch(e.backing._tag){case"IArray":!function OJ(e,t,n,r,o){for(let s=t;s<Math.min(e.length,t+o);s++)n[r+s-t]=e[s]}(e.backing.array,0,t,n,e.length);break;case"IConcat":xw(e.left,t,n),xw(e.right,t,n+e.left.length);break;case"ISingleton":t[n]=e.backing.a;break;case"ISlice":{let r=0,o=n;for(;r<e.length;)t[o]=zr(e,r),r+=1,o+=1;break}}},In=e=>{switch(e.backing._tag){case"IEmpty":return xF;case"IArray":return e.backing.array;default:{const t=new Array(e.length);return xw(e,t,0),e.backing={_tag:"IArray",array:t},e.left=Wr,e.right=Wr,e.depth=0,t}}},vs=e=>{switch(e.backing._tag){case"IEmpty":case"ISingleton":return e;case"IArray":return Et({_tag:"IArray",array:SF(e.backing.array)});case"IConcat":return Et({_tag:"IConcat",left:vs(e.backing.right),right:vs(e.backing.left)});case"ISlice":return Hn(SF(In(e)))}},Hn=e=>Et({_tag:"IArray",array:e}),AJ=e=>Hn(e),zr=h(2,(e,t)=>{switch(e.backing._tag){case"IEmpty":throw new Error("Index out of bounds");case"ISingleton":if(0!==t)throw new Error("Index out of bounds");return e.backing.a;case"IArray":if(t>=e.length||t<0)throw new Error("Index out of bounds");return e.backing.array[t];case"IConcat":return t<e.left.length?zr(e.left,t):zr(e.right,t-e.left.length);case"ISlice":return zr(e.backing.chunk,t+e.backing.offset)}}),NF=h(2,(e,t)=>er(e,Ot(t))),Qe=h(2,(e,t)=>er(Ot(t),e)),wf=h(2,(e,t)=>{if(t<=0)return e;if(t>=e.length)return Wr;switch(e.backing._tag){case"ISlice":return Et({_tag:"ISlice",chunk:e.backing.chunk,offset:e.backing.offset+t,length:e.backing.length-t});case"IConcat":return t>e.left.length?wf(e.right,t-e.left.length):Et({_tag:"IConcat",left:wf(e.left,t),right:e.right});default:return Et({_tag:"ISlice",chunk:e,offset:t,length:e.length-t})}}),er=h(2,(e,t)=>{if("IEmpty"===e.backing._tag)return t;if("IEmpty"===t.backing._tag)return e;const n=t.depth-e.depth;if(Math.abs(n)<=1)return Et({_tag:"IConcat",left:e,right:t});if(n<-1){if(e.left.depth>=e.right.depth){const r=er(e.right,t);return Et({_tag:"IConcat",left:e.left,right:r})}{const r=er(e.right.right,t);if(r.depth===e.depth-3){const o=Et({_tag:"IConcat",left:e.right.left,right:r});return Et({_tag:"IConcat",left:e.left,right:o})}{const o=Et({_tag:"IConcat",left:e.left,right:e.right.left});return Et({_tag:"IConcat",left:o,right:r})}}}if(t.right.depth>=t.left.depth){const r=er(e,t.left);return Et({_tag:"IConcat",left:r,right:t.right})}{const r=er(e,t.left.left);if(r.depth===t.depth-3){const o=Et({_tag:"IConcat",left:r,right:t.left.right});return Et({_tag:"IConcat",left:o,right:t.right})}{const o=Et({_tag:"IConcat",left:t.left.right,right:t.right});return Et({_tag:"IConcat",left:r,right:o})}}}),FF=e=>0===e.length,ot=e=>e.length>0,LF=e=>zr(e,0),ye=LF,Je=e=>wf(e,1),Rw=Symbol.for("effect/Duration"),jF=BigInt(0),BF=BigInt(24),Eg=BigInt(60),Aw=BigInt(1e3),VF=BigInt(1e6),Nw=BigInt(1e9),HF=/^(-?\d+(?:\.\d+)?)\s+(nanos?|micros?|millis?|seconds?|minutes?|hours?|days?|weeks?)$/,tn=e=>{if($F(e))return e;if(hf(e))return Sf(e);if((e=>"bigint"==typeof e)(e))return wg(e);if(Array.isArray(e)){if(2===e.length&&hf(e[0])&&hf(e[1]))return wg(BigInt(e[0])*Nw+BigInt(e[1]))}else if((e=>"string"==typeof e)(e)){HF.lastIndex=0;const t=HF.exec(e);if(t){const[n,r,o]=t,s=Number(r);switch(o){case"nano":case"nanos":return wg(BigInt(r));case"micro":case"micros":return BJ(BigInt(r));case"milli":case"millis":return Sf(s);case"second":case"seconds":return qF(s);case"minute":case"minutes":return VJ(s);case"hour":case"hours":return HJ(s);case"day":case"days":return UJ(s);case"week":case"weeks":return $J(s)}}}throw new Error("Invalid DurationInput")},UF={_tag:"Millis",millis:0},PJ={_tag:"Infinity"},LJ={[Rw]:Rw,[Q](){return $e(this,LN(this.value))},[J](e){return $F(e)&&GJ(this,e)},toString(){return`Duration(${zF(this)})`},toJSON(){switch(this.value._tag){case"Millis":return{_id:"Duration",_tag:"Millis",millis:this.value.millis};case"Nanos":return{_id:"Duration",_tag:"Nanos",hrtime:WJ(this)};case"Infinity":return{_id:"Duration",_tag:"Infinity"}}},[qe](){return this.toJSON()},pipe(){return V(this,arguments)}},So=e=>{const t=Object.create(LJ);return t.value=hf(e)?isNaN(e)||e<=0?UF:Number.isFinite(e)?Number.isInteger(e)?{_tag:"Millis",millis:e}:{_tag:"Nanos",nanos:BigInt(Math.round(1e6*e))}:PJ:e<=jF?UF:{_tag:"Nanos",nanos:e},t},$F=e=>z(e,Rw),jJ=So(0),wg=e=>So(e),BJ=e=>So(e*Aw),Sf=e=>So(e),qF=e=>So(1e3*e),VJ=e=>So(6e4*e),HJ=e=>So(36e5*e),UJ=e=>So(864e5*e),$J=e=>So(6048e5*e),Mc=e=>Tc(e,{onMillis:t=>t,onNanos:t=>Number(t)/1e6}),WJ=e=>{const t=tn(e);switch(t.value._tag){case"Infinity":return[1/0,0];case"Nanos":return[Number(t.value.nanos/Nw),Number(t.value.nanos%Nw)];case"Millis":return[Math.floor(t.value.millis/1e3),Math.round(t.value.millis%1e3*1e6)]}},Tc=h(2,(e,t)=>{const n=tn(e);switch(n.value._tag){case"Nanos":return t.onNanos(n.value.nanos);case"Infinity":return t.onMillis(1/0);case"Millis":return t.onMillis(n.value.millis)}}),WF=h(3,(e,t,n)=>{const r=tn(e),o=tn(t);if("Infinity"===r.value._tag||"Infinity"===o.value._tag)return n.onMillis(Mc(r),Mc(o));if("Nanos"===r.value._tag||"Nanos"===o.value._tag){const s="Nanos"===r.value._tag?r.value.nanos:BigInt(Math.round(1e6*r.value.millis)),i="Nanos"===o.value._tag?o.value.nanos:BigInt(Math.round(1e6*o.value.millis));return n.onNanos(s,i)}return n.onMillis(r.value.millis,o.value.millis)}),XJ=h(2,(e,t)=>WF(e,t,{onMillis:(n,r)=>n>=r,onNanos:(n,r)=>n>=r})),GJ=h(2,(e,t)=>((e,t)=>WF(e,t,{onMillis:(n,r)=>n===r,onNanos:(n,r)=>n===r}))(tn(e),tn(t))),zF=e=>{const t=tn(e);if("Infinity"===t.value._tag)return"Infinity";const n=(e=>{const t=tn(e);if("Infinity"===t.value._tag)return{days:1/0,hours:1/0,minutes:1/0,seconds:1/0,millis:1/0,nanos:1/0};const n=(e=>{const t=tn(e);switch(t.value._tag){case"Infinity":throw new Error("Cannot convert infinite duration to nanos");case"Nanos":return t.value.nanos;case"Millis":return BigInt(Math.round(1e6*t.value.millis))}})(t),r=n/VF,o=r/Aw,s=o/Eg,i=s/Eg;return{days:Number(i/BF),hours:Number(i%BF),minutes:Number(s%Eg),seconds:Number(o%Eg),millis:Number(r%Aw),nanos:Number(n%VF)}})(t),r=[];return 0!==n.days&&r.push(`${n.days}d`),0!==n.hours&&r.push(`${n.hours}h`),0!==n.minutes&&r.push(`${n.minutes}m`),0!==n.seconds&&r.push(`${n.seconds}s`),0!==n.millis&&r.push(`${n.millis}ms`),0!==n.nanos&&r.push(`${n.nanos}ns`),r.join(" ")},Fw=Math.pow(2,5),YJ=Fw-1,QJ=Fw/2,JJ=Fw/4;function kc(e,t){return t>>>e&YJ}function Oc(e){return 1<<e}function XF(e,t){return function ZJ(e){return e=(e=(858993459&(e-=e>>1&1431655765))+(e>>2&858993459))+(e>>4)&252645135,127&(e+=e>>8)+(e>>16)}(e&t-1)}const eZ=(e,t)=>({value:e,previous:t});function xc(e,t,n,r){let o=r;if(!e){const s=r.length;o=new Array(s);for(let i=0;i<s;++i)o[i]=r[i]}return o[t]=n,o}function GF(e,t,n){const r=n.length-1;let o=0,s=0,i=n;if(e)o=s=t;else for(i=new Array(r);o<t;)i[s++]=n[o++];for(++o;o<=r;)i[s++]=n[o++];return e&&(i.length=r),i}class Es{_tag="EmptyNode";modify(t,n,r,o,s,i){const a=r(I());return ge(a)?new Es:(++i.value,new Ei(t,o,s,a))}}function Mr(e){return rg(e,"EmptyNode")}function Sg(e,t){return!Mr(e)&&t===e.edit}class Ei{edit;hash;key;value;_tag="LeafNode";constructor(t,n,r,o){this.edit=t,this.hash=n,this.key=r,this.value=o}modify(t,n,r,o,s,i){if(j(s,this.key)){const c=r(this.value);return c===this.value?this:ge(c)?(--i.value,new Es):Sg(this,t)?(this.value=c,this):new Ei(t,o,s,c)}const a=r(I());return ge(a)?this:(++i.value,KF(t,n,this.hash,this,o,new Ei(t,o,s,a)))}}class Pw{edit;hash;children;_tag="CollisionNode";constructor(t,n,r){this.edit=t,this.hash=n,this.children=r}modify(t,n,r,o,s,i){if(o===this.hash){const c=Sg(this,t),l=this.updateCollisionList(c,t,this.hash,this.children,r,s,i);return l===this.children?this:l.length>1?new Pw(t,this.hash,l):l[0]}const a=r(I());return ge(a)?this:(++i.value,KF(t,n,this.hash,this,o,new Ei(t,o,s,a)))}updateCollisionList(t,n,r,o,s,i,a){const c=o.length;for(let u=0;u<c;++u){const f=o[u];if("key"in f&&j(i,f.key)){const d=f.value,p=s(d);return p===d?o:ge(p)?(--a.value,GF(t,u,o)):xc(t,u,new Ei(n,r,i,p),o)}}const l=s(I());return ge(l)?o:(++a.value,xc(t,c,new Ei(n,r,i,l),o))}}class Rc{edit;mask;children;_tag="IndexedNode";constructor(t,n,r){this.edit=t,this.mask=n,this.children=r}modify(t,n,r,o,s,i){const a=this.mask,c=this.children,l=kc(n,o),u=Oc(l),f=XF(a,u),d=a&u,p=Sg(this,t);if(!d){const v=(new Es).modify(t,n+5,r,o,s,i);return v?c.length>=QJ?function oZ(e,t,n,r,o){const s=[];let i=r,a=0;for(let c=0;i;++c)1&i&&(s[c]=o[a++]),i>>>=1;return s[t]=n,new Lw(e,a+1,s)}(t,l,v,a,c):new Rc(t,a|u,function tZ(e,t,n,r){const o=r.length;if(e){let c=o;for(;c>=t;)r[c--]=r[c];return r[t]=n,r}let s=0,i=0;const a=new Array(o+1);for(;s<t;)a[i++]=r[s++];for(a[t]=n;s<o;)a[++i]=r[s++];return a}(p,f,v,c)):this}const g=c[f],m=g.modify(t,n+5,r,o,s,i);if(g===m)return this;let w,y=a;if(Mr(m)){if(y&=~u,!y)return new Es;if(c.length<=2&&function nZ(e){return Mr(e)||"LeafNode"===e._tag||"CollisionNode"===e._tag}(c[1^f]))return c[1^f];w=GF(p,f,c)}else w=xc(p,f,m,c);return p?(this.mask=y,this.children=w,this):new Rc(t,y,w)}}class Lw{edit;size;children;_tag="ArrayNode";constructor(t,n,r){this.edit=t,this.size=n,this.children=r}modify(t,n,r,o,s,i){let a=this.size;const c=this.children,l=kc(n,o),u=c[l],f=(u||new Es).modify(t,n+5,r,o,s,i);if(u===f)return this;const d=Sg(this,t);let p;if(Mr(u)&&!Mr(f))++a,p=xc(d,l,f,c);else if(!Mr(u)&&Mr(f)){if(--a,a<=JJ)return function rZ(e,t,n,r){const o=new Array(t-1);let s=0,i=0;for(let a=0,c=r.length;a<c;++a)if(a!==n){const l=r[a];l&&!Mr(l)&&(o[s++]=l,i|=1<<a)}return new Rc(e,i,o)}(t,a,l,c);p=xc(d,l,new Es,c)}else p=xc(d,l,f,c);return d?(this.size=a,this.children=p,this):new Lw(t,a,p)}}function sZ(e,t,n,r,o,s){if(n===o)return new Pw(e,n,[s,r]);const i=kc(t,n),a=kc(t,o);if(i===a)return c=>new Rc(e,Oc(i)|Oc(a),[c]);{const c=i<a?[r,s]:[s,r];return new Rc(e,Oc(i)|Oc(a),c)}}function KF(e,t,n,r,o,s){let i,a=t;for(;;){const c=sZ(e,a,n,r,o,s);if("function"!=typeof c){let l=c;for(;null!=i;)l=i.value(l),i=i.previous;return l}i=eZ(c,i),a+=5}}const YF="effect/HashMap",Dg=Symbol.for(YF),iZ={[Dg]:Dg,[Symbol.iterator](){return new Ac(this,(e,t)=>[e,t])},[Q](){let e=F(YF);for(const t of this)e^=_(F(t[0]),re(F(t[1])));return $e(this,e)},[J](e){if(eP(e)){if(e._size!==this._size)return!1;for(const t of this){const n=_(e,Nc(t[0],F(t[0])));if(ge(n))return!1;if(!j(t[1],n.value))return!1}return!0}return!1},toString(){return pt(this.toJSON())},toJSON(){return{_id:"HashMap",values:Array.from(this).map(Ge)}},[qe](){return this.toJSON()},pipe(){return V(this,arguments)}},jw=(e,t,n,r)=>{const o=Object.create(iZ);return o._editable=e,o._edit=t,o._root=n,o._size=r,o};class Ac{map;f;v;constructor(t,n){this.map=t,this.f=n,this.v=QF(this.map._root,this.f,void 0)}next(){if(ge(this.v))return{done:!0,value:void 0};const t=this.v.value;return this.v=Cg(t.cont),{done:!1,value:t.value}}[Symbol.iterator](){return new Ac(this.map,this.f)}}const Cg=e=>e?JF(e[0],e[1],e[2],e[3],e[4]):I(),QF=(e,t,n=void 0)=>{switch(e._tag){case"LeafNode":return ae(e.value)?T({value:t(e.key,e.value.value),cont:n}):Cg(n);case"CollisionNode":case"ArrayNode":case"IndexedNode":{const r=e.children;return JF(r.length,r,0,t,n)}default:return Cg(n)}},JF=(e,t,n,r,o)=>{for(;n<e;){const s=t[n++];if(s&&!Mr(s))return QF(s,r,[e,t,n,r,o])}return Cg(o)},aZ=jw(!1,0,new Es,0),wi=()=>aZ,eP=e=>z(e,Dg),uZ=h(2,(e,t)=>Nc(e,t,F(t))),Nc=h(3,(e,t,n)=>{let r=e._root,o=0;for(;;)switch(r._tag){case"LeafNode":return j(t,r.key)?r.value:I();case"CollisionNode":if(n===r.hash){const s=r.children;for(let i=0,a=s.length;i<a;++i){const c=s[i];if("key"in c&&j(t,c.key))return c.value}}return I();case"IndexedNode":{const i=Oc(kc(o,n));if(r.mask&i){r=r.children[XF(r.mask,i)],o+=5;break}return I()}case"ArrayNode":if(r=r.children[kc(o,n)],r){o+=5;break}return I();default:return I()}}),tP=h(2,(e,t)=>ae(Nc(e,t,F(t)))),Do=h(3,(e,t,n)=>Tg(e,t,()=>T(n))),hZ=h(3,(e,t,n)=>e._editable?(e._root=t,e._size=n,e):t===e._root?e:jw(e._editable,e._edit,t,n)),Bw=e=>new Ac(e,t=>t),Ig=e=>e._size,Df=e=>jw(!0,e._edit+1,e._root,e._size),Mg=e=>(e._editable=!1,e),Tg=h(3,(e,t,n)=>nP(e,t,F(t),n)),nP=h(4,(e,t,n,r)=>{const o={value:e._size},s=e._root.modify(e._editable?e._edit:NaN,0,r,n,t,o);return _(e,hZ(s,o.value))}),kg=h(2,(e,t)=>Tg(e,t,I)),bZ=h(2,(e,t)=>If(e,wi(),(n,r,o)=>Do(n,o,t(r,o)))),Og=h(2,(e,t)=>If(e,void 0,(n,r,o)=>t(r,o))),If=h(3,(e,t,n)=>{const r=e._root;if("LeafNode"===r._tag)return ae(r.value)?n(t,r.value.value,r.key):t;if("EmptyNode"===r._tag)return t;const o=[r.children];let s;for(;s=o.pop();)for(let i=0,a=s.length;i<a;){const c=s[i++];c&&!Mr(c)&&("LeafNode"===c._tag?ae(c.value)&&(t=n(t,c.value.value,c.key)):o.push(c.children))}return t}),oP="effect/HashSet",xg=Symbol.for(oP),DZ={[xg]:xg,[Symbol.iterator](){return Bw(this._keyMap)},[Q](){return $e(this,re(F(this._keyMap))(F(oP)))},[J](e){return!!sP(e)&&Ig(this._keyMap)===Ig(e._keyMap)&&j(this._keyMap,e._keyMap)},toString(){return pt(this.toJSON())},toJSON(){return{_id:"HashSet",values:Array.from(this).map(Ge)}},[qe](){return this.toJSON()},pipe(){return V(this,arguments)}},Mf=e=>{const t=Object.create(DZ);return t._keyMap=e,t},sP=e=>z(e,xg),CZ=Mf(wi()),Xr=()=>CZ,Fc=h(2,(e,t)=>tP(e._keyMap,t)),Pc=e=>Mf(Df(e._keyMap)),Lc=e=>(e._keyMap._editable=!1,e),Si=h(2,(e,t)=>{const n=Pc(e);return t(n),Lc(n)}),tr=h(2,(e,t)=>e._keyMap._editable?(Do(t,!0)(e._keyMap),e):Mf(Do(t,!0)(e._keyMap))),Hw=h(2,(e,t)=>e._keyMap._editable?(kg(t)(e._keyMap),e):Mf(kg(t)(e._keyMap))),OZ=h(2,(e,t)=>Si(e,n=>{for(const r of t)Hw(n,r)})),RZ=h(2,(e,t)=>Si(Xr(),n=>{Rg(e,r=>tr(n,r));for(const r of t)tr(n,r)})),Rg=h(2,(e,t)=>Og(e._keyMap,(n,r)=>t(r))),ws=Xr,Ag=(...e)=>{const t=Pc(Xr());for(const n of e)tr(t,n);return Lc(t)},BZ=Fc,Tf=e=>Ig(e._keyMap),kf=tr,lP=Hw,uP=OZ,jc=RZ,Of=h(3,(e,t,n)=>If(e._keyMap,t,(r,o,s)=>n(r,s))),fP=Symbol.for("effect/MutableRef"),HZ={[fP]:fP,toString(){return pt(this.toJSON())},toJSON(){return{_id:"MutableRef",current:Ge(this.current)}},[qe](){return this.toJSON()},pipe(){return V(this,arguments)}},xf=e=>{const t=Object.create(HZ);return t.current=e,t},Co=e=>e.current,Rf=h(2,(e,t)=>(e.current=t,e)),Ng="effect/FiberId",Ss=Symbol.for(Ng),Ds="None",Af="Runtime",UZ=nt(`${Ng}-${Ds}`);class $Z{[Ss]=Ss;_tag=Ds;id=-1;startTimeMillis=-1;[Q](){return UZ}[J](t){return Fg(t)&&t._tag===Ds}toString(){return pt(this.toJSON())}toJSON(){return{_id:"FiberId",_tag:this._tag}}[qe](){return this.toJSON()}}class $w{id;startTimeMillis;[Ss]=Ss;_tag=Af;constructor(t,n){this.id=t,this.startTimeMillis=n}[Q](){return $e(this,nt(`${Ng}-${this._tag}-${this.id}-${this.startTimeMillis}`))}[J](t){return Fg(t)&&t._tag===Af&&this.id===t.id&&this.startTimeMillis===t.startTimeMillis}toString(){return pt(this.toJSON())}toJSON(){return{_id:"FiberId",_tag:this._tag,id:this.id,startTimeMillis:this.startTimeMillis}}[qe](){return this.toJSON()}}const qw=new $Z,Fg=e=>z(e,Ss),Pg=e=>{switch(e._tag){case Ds:return ws();case Af:return Ag(e.id);case"Composite":return _(Pg(e.left),jc(Pg(e.right)))}},mP=fe(Symbol.for("effect/Fiber/Id/_fiberCounter"),()=>xf(0)),Xw=e=>Array.from(Pg(e)).map(n=>`#${n}`).join(","),Io=qw,eee=Xw,bP=()=>{const e=Co(mP);return _(mP,Rf(e+1)),new $w(e,Date.now())},Lg=wi,nee=e=>{const t=Df(wi());for(const n of e)Do(t,n[0],n[1]);return Mg(t)},jg=uZ,Gr=Do,vP=Bw,EP=Ig,iee=Tg,aee=bZ,Bg=If,Pf=Symbol.for("effect/List"),Kw=e=>oe(e),lee=(e=>PQ(kw(e),Kw))(j),uee={[Pf]:Pf,_tag:"Cons",toString(){return pt(this.toJSON())},toJSON(){return{_id:"List",_tag:"Cons",values:Kw(this).map(Ge)}},[qe](){return this.toJSON()},[J](e){return wP(e)&&this._tag===e._tag&&lee(this,e)},[Q](){return $e(this,pi(Kw(this)))},[Symbol.iterator](){let e=!1,t=this;return{next(){if(e)return this.return();if("Nil"===t._tag)return e=!0,this.return();const n=t.head;return t=t.tail,{done:e,value:n}},return:n=>(e||(e=!0),{done:!0,value:n})}},pipe(){return V(this,arguments)}},Mo=(e,t)=>{const n=Object.create(uee);return n.head=e,n.tail=t,n},fee=nt("Nil"),dee={[Pf]:Pf,_tag:"Nil",toString(){return pt(this.toJSON())},toJSON:()=>({_id:"List",_tag:"Nil"}),[qe](){return this.toJSON()},[Q]:()=>fee,[J](e){return wP(e)&&this._tag===e._tag},[Symbol.iterator]:()=>({next:()=>({done:!0,value:void 0})}),pipe(){return V(this,arguments)}},To=Object.create(dee),wP=e=>z(e,Pf),gt=e=>"Nil"===e._tag,Yw=e=>"Cons"===e._tag,Di=(e,t)=>Mo(e,t),Ci=()=>To,Qw=e=>Mo(e,To),gee=h(2,(e,t)=>mee(t,e)),Jw=h(2,(e,t)=>Di(t,e)),mee=h(2,(e,t)=>{if(gt(e))return t;if(gt(t))return e;{const n=Mo(t.head,e);let r=n,o=t.tail;for(;!gt(o);){const s=Mo(o.head,e);r.tail=s,r=s,o=o.tail}return n}}),vee=h(3,(e,t,n)=>{let r=t,o=e;for(;!gt(o);)r=n(r,o.head),o=o.tail;return r}),Eee=e=>{let t=Ci(),n=e;for(;!gt(n);)t=Jw(t,n.head),n=n.tail;return t},Bc=function(){function e(t){t&&Object.assign(this,t)}return e.prototype=pg,e}();function MP(e){return e}const jf={...Bc.prototype,[Symbol.for("effect/DifferContextPatch")]:{_Value:MP,_Patch:MP}},Fee=Object.create(Object.assign(Object.create(jf),{_tag:"Empty"})),TP=()=>Fee,Pee=Object.assign(Object.create(jf),{_tag:"AndThen"}),jee=Object.assign(Object.create(jf),{_tag:"AddService"}),Bee=(e,t)=>{const n=Object.create(jee);return n.key=e,n.service=t,n},Vee=Object.assign(Object.create(jf),{_tag:"RemoveService"}),Hee=e=>{const t=Object.create(Vee);return t.key=e,t},Uee=Object.assign(Object.create(jf),{_tag:"UpdateService"}),$ee=(e,t)=>{const n=Object.create(Uee);return n.key=e,n.update=t,n},Ug=h(2,(e,t)=>((e,t)=>{const n=Object.create(Pee);return n.first=e,n.second=t,n})(e,t)),Wee=h(2,(e,t)=>{if("Empty"===e._tag)return t;let n=!1,r=Ot(e);const o=new Map(t.unsafeMap);for(;ot(r);){const i=ye(r),a=Je(r);switch(i._tag){case"Empty":r=a;break;case"AddService":o.set(i.key,i.service),r=a;break;case"AndThen":r=Qe(Qe(a,i.second),i.first);break;case"RemoveService":o.delete(i.key),r=a;break;case"UpdateService":o.set(i.key,i.update(o.get(i.key))),n=!0,r=a}}if(!n)return wo(o);const s=new Map;for(const[i]of t.unsafeMap)o.has(i)&&(s.set(i,o.get(i)),o.delete(i));for(const[i,a]of o)s.set(i,a);return wo(s)});function nS(e){return e}const qg={...Bc.prototype,[Symbol.for("effect/DifferHashSetPatch")]:{_Value:nS,_Key:nS,_Patch:nS}},rte=Object.create(Object.assign(Object.create(qg),{_tag:"Empty"})),RP=()=>rte,ote=Object.assign(Object.create(qg),{_tag:"AndThen"}),ite=Object.assign(Object.create(qg),{_tag:"Add"}),ate=e=>{const t=Object.create(ite);return t.value=e,t},cte=Object.assign(Object.create(qg),{_tag:"Remove"}),rS=h(2,(e,t)=>((e,t)=>{const n=Object.create(ote);return n.first=e,n.second=t,n})(e,t)),fte=h(2,(e,t)=>{if("Empty"===e._tag)return t;let n=t,r=Ot(e);for(;ot(r);){const o=ye(r),s=Je(r);switch(o._tag){case"Empty":r=s;break;case"AndThen":r=Qe(o.first)(Qe(o.second)(s));break;case"Add":n=kf(o.value)(n),r=s;break;case"Remove":n=lP(o.value)(n),r=s}}return n});function FP(e){return e}const Vf={...Bc.prototype,[Symbol.for("effect/DifferReadonlyArrayPatch")]:{_Value:FP,_Patch:FP}},Ite=Object.create(Object.assign(Object.create(Vf),{_tag:"Empty"})),PP=()=>Ite,Mte=Object.assign(Object.create(Vf),{_tag:"AndThen"}),kte=Object.assign(Object.create(Vf),{_tag:"Append"}),xte=Object.assign(Object.create(Vf),{_tag:"Slice"}),Ate=Object.assign(Object.create(Vf),{_tag:"Update"}),Nte=(e,t)=>{const n=Object.create(Ate);return n.index=e,n.patch=t,n},Wg=h(2,(e,t)=>((e,t)=>{const n=Object.create(Mte);return n.first=e,n.second=t,n})(e,t)),Pte=h(3,(e,t,n)=>{if("Empty"===e._tag)return t;let r=t.slice(),o=Zn(e);for(;lJ(o);){const s=Cn(o),i=ys(o);switch(s._tag){case"Empty":o=i;break;case"AndThen":i.unshift(s.first,s.second),o=i;break;case"Append":for(const a of s.values)r.push(a);o=i;break;case"Slice":r=r.slice(s.from,s.until),o=i;break;case"Update":r[s.index]=n.patch(s.patch,r[s.index]),o=i}}return r}),Lte={[Symbol.for("effect/Differ")]:{_P:ve,_V:ve}},Tr=e=>{const t=Object.create(Lte);return t.empty=e.empty,t.diff=e.diff,t.combine=e.combine,t.patch=e.patch,t},BP=()=>Tr({empty:RP(),combine:(e,t)=>rS(t)(e),diff:(e,t)=>((e,t)=>{const[n,r]=Of([e,RP()],([o,s],i)=>BZ(i)(o)?[lP(i)(o),s]:[o,rS(ate(i))(s)])(t);return Of(r,(o,s)=>rS((e=>{const t=Object.create(cte);return t.value=e,t})(s))(o))(n)})(e,t),patch:(e,t)=>fte(t)(e)}),VP=e=>Tr({empty:PP(),combine:(t,n)=>Wg(t,n),diff:(t,n)=>(e=>{let t=0,n=PP();for(;t<e.oldValue.length&&t<e.newValue.length;){const s=e.differ.diff(e.oldValue[t],e.newValue[t]);j(s,e.differ.empty)||(n=Wg(n,Nte(t,s))),t+=1}return t<e.oldValue.length&&(n=Wg(n,((e,t)=>{const n=Object.create(xte);return n.from=0,n.until=t,n})(0,t))),t<e.newValue.length&&(n=Wg(n,(e=>{const t=Object.create(kte);return t.values=e,t})(gJ(t)(e.newValue)))),n})({oldValue:t,newValue:n,differ:e}),patch:(t,n)=>Pte(t,n,e)}),iS=()=>HP((e,t)=>t),HP=e=>Tr({empty:ve,combine:(t,n)=>t===ve?n:n===ve?t:r=>n(t(r)),diff:(t,n)=>j(t,n)?ve:eg(n),patch:(t,n)=>e(n,t(n))}),nr=e=>255&e,rr=e=>e>>8&255,ko=(e,t)=>(255&e)+((t&e&255)<<8),$P=ko(0,0),Gte=h(2,(e,t)=>ko(nr(e)&~t,rr(e))),WP=h(2,(e,t)=>e|t),Zte=h(2,(e,t)=>e|t),xo=e=>Kg(e)&&!tne(e),Kg=e=>Ii(e,1),Ii=h(2,(e,t)=>!!(e&t)),GP=(...e)=>e.reduce((t,n)=>t|n,0),ene=GP(0),KP=e=>Ii(e,4),tne=e=>Ii(e,16),Ro=h(2,(e,t)=>ko(e^t,t)),Mi=h(2,(e,t)=>e&((e=>~e>>>0&255)(nr(t))|rr(t))|nr(t)&rr(t)),ZP=Tr({empty:$P,diff:(e,t)=>Ro(e,t),combine:(e,t)=>WP(t)(e),patch:(e,t)=>Mi(t,e)}),t1=e=>ko(e,0),n1=Gte,Hc="Die",Uc="Empty",$c="Fail",qc="Interrupt",Wc="Parallel",zc="Sequential",r1="effect/Cause",o1=Symbol.for(r1),Xc={[o1]:{_E:e=>e},[Q](){return _(F(r1),re(F(dne(this))),$e(this))},[J](e){return s1(e)&&fne(this,e)},pipe(){return V(this,arguments)},toJSON(){switch(this._tag){case"Empty":return{_id:"Cause",_tag:this._tag};case"Die":return{_id:"Cause",_tag:this._tag,defect:Ge(this.defect)};case"Interrupt":return{_id:"Cause",_tag:this._tag,fiberId:this.fiberId.toJSON()};case"Fail":return{_id:"Cause",_tag:this._tag,failure:Ge(this.error)};case"Sequential":case"Parallel":return{_id:"Cause",_tag:this._tag,left:Ge(this.left),right:Ge(this.right)}}},toString(){return $f(this)},[qe](){return this.toJSON()}},or=(()=>{const e=Object.create(Xc);return e._tag=Uc,e})(),Ao=e=>{const t=Object.create(Xc);return t._tag=$c,t.error=e,t},Wt=e=>{const t=Object.create(Xc);return t._tag=Hc,t.defect=e,t},Un=e=>{const t=Object.create(Xc);return t._tag=qc,t.fiberId=e,t},Pt=(e,t)=>{const n=Object.create(Xc);return n._tag=Wc,n.left=e,n.right=t,n},Ze=(e,t)=>{const n=Object.create(Xc);return n._tag=zc,n.left=e,n.right=t,n},s1=e=>z(e,o1),uS=e=>Yg(void 0,gne)(e),Gc=e=>{const t=(e=>Kc(e,t=>t._tag===$c?T(t.error):I()))(e);switch(t._tag){case"None":return rt(e);case"Some":return en(t.value)}},ine=e=>Kc(e,t=>t._tag===qc?T(t.fiberId):I()),d1=e=>Ti(e,{onEmpty:or,onFail:()=>or,onDie:t=>Wt(t),onInterrupt:t=>Un(t),onSequential:Ze,onParallel:Pt}),fne=(e,t)=>{let n=Ot(e),r=Ot(t);for(;ot(n)&&ot(r);){const[o,s]=_(ye(n),Yc([ws(),qt()],([c,l],u)=>{const[f,d]=fS(u);return T([_(c,jc(f)),_(l,er(d))])})),[i,a]=_(ye(r),Yc([ws(),qt()],([c,l],u)=>{const[f,d]=fS(u);return T([_(c,jc(f)),_(l,er(d))])}));if(!j(o,i))return!1;n=s,r=a}return!0},dne=e=>hne(Ot(e),qt()),hne=(e,t)=>{for(;;){const[n,r]=_(e,yi([ws(),qt()],([s,i],a)=>{const[c,l]=fS(a);return[_(s,jc(c)),_(i,er(l))]})),o=Tf(n)>0?_(t,Qe(n)):t;if(FF(r))return vs(o);e=r,t=o}throw new Error(pf("Cause.flattenCauseLoop"))},Kc=h(2,(e,t)=>{const n=[e];for(;n.length>0;){const r=n.pop(),o=t(r);switch(o._tag){case"None":switch(r._tag){case zc:case Wc:n.push(r.right),n.push(r.left)}break;case"Some":return o}}return I()}),fS=e=>{let t=e;const n=[];let r=ws(),o=qt();for(;void 0!==t;)switch(t._tag){case Uc:if(0===n.length)return[r,o];t=n.pop();break;case $c:if(r=kf(r,Ow(t._tag,t.error)),0===n.length)return[r,o];t=n.pop();break;case Hc:if(r=kf(r,Ow(t._tag,t.defect)),0===n.length)return[r,o];t=n.pop();break;case qc:if(r=kf(r,Ow(t._tag,t.fiberId)),0===n.length)return[r,o];t=n.pop();break;case zc:switch(t.left._tag){case Uc:t=t.right;break;case zc:t=Ze(t.left.left,Ze(t.left.right,t.right));break;case Wc:t=Pt(Ze(t.left.left,t.right),Ze(t.left.right,t.right));break;default:o=Qe(o,t.right),t=t.left}break;case Wc:n.push(t.right),t=t.left}throw new Error(pf("Cause.evaluateCauseLoop"))},gne={emptyCase:df,failCase:hs,dieCase:hs,interruptCase:df,sequentialCase:(e,t,n)=>t&&n,parallelCase:(e,t,n)=>t&&n},g1="SequentialCase",m1="ParallelCase",Ti=h(2,(e,{onDie:t,onEmpty:n,onFail:r,onInterrupt:o,onParallel:s,onSequential:i})=>Yg(e,void 0,{emptyCase:()=>n,failCase:(a,c)=>r(c),dieCase:(a,c)=>t(c),interruptCase:(a,c)=>o(c),sequentialCase:(a,c,l)=>i(c,l),parallelCase:(a,c,l)=>s(c,l)})),Yc=h(3,(e,t,n)=>{let r=t,o=e;const s=[];for(;void 0!==o;){const i=n(r,o);switch(r=ae(i)?i.value:r,o._tag){case zc:case Wc:s.push(o.right),o=o.left;break;default:o=void 0}void 0===o&&s.length>0&&(o=s.pop())}return r}),Yg=h(3,(e,t,n)=>{const r=[e],o=[];for(;r.length>0;){const i=r.pop();switch(i._tag){case Uc:o.push(rt(n.emptyCase(t)));break;case $c:o.push(rt(n.failCase(t,i.error)));break;case Hc:o.push(rt(n.dieCase(t,i.defect)));break;case qc:o.push(rt(n.interruptCase(t,i.fiberId)));break;case zc:r.push(i.right),r.push(i.left),o.push(en({_tag:g1}));break;case Wc:r.push(i.right),r.push(i.left),o.push(en({_tag:m1}))}}const s=[];for(;o.length>0;){const i=o.pop();switch(i._tag){case"Left":switch(i.left._tag){case g1:{const a=s.pop(),c=s.pop(),l=n.sequentialCase(t,a,c);s.push(l);break}case m1:{const a=s.pop(),c=s.pop(),l=n.parallelCase(t,a,c);s.push(l);break}}break;case"Right":s.push(i.right)}}if(0===s.length)throw new Error("BUG: Cause.reduceWithContext - please report an issue at https://github.com/Effect-TS/effect/issues");return s.pop()}),$f=(e,t)=>uS(e)?"All fibers interrupted without errors.":b1(e).map(function(n){return!0!==t?.renderErrorCause||void 0===n.cause?n.stack:`${n.stack} {\n${_1(n.cause,"  ")}\n}`}).join("\n"),_1=(e,t)=>{const n=e.stack.split("\n");let r=`${t}[cause]: ${n[0]}`;for(let o=1,s=n.length;o<s;o++)r+=`\n${t}${n[o]}`;return e.cause&&(r+=` {\n${_1(e.cause,`${t}  `)}\n${t}}`),r};class Qg extends globalThis.Error{span=void 0;constructor(t){const n="object"==typeof t&&null!==t,r=Error.stackTraceLimit;Error.stackTraceLimit=1,super(mne(t),n&&"cause"in t&&typeof t.cause<"u"?{cause:new Qg(t.cause)}:void 0),""===this.message&&(this.message="An error has occurred"),Error.stackTraceLimit=r,this.name=t instanceof Error?t.name:"Error",n&&(y1 in t&&(this.span=t[y1]),Object.keys(t).forEach(o=>{o in this||(this[o]=t[o])})),this.stack=yne(`${this.name}: ${this.message}`,t instanceof Error&&t.stack?t.stack:"",this.span)}}const mne=e=>{if("string"==typeof e)return e;if("object"==typeof e&&null!==e&&e instanceof Error)return e.message;try{if(z(e,"toString")&&hi(e.toString)&&e.toString!==Object.prototype.toString&&e.toString!==globalThis.Array.prototype.toString)return e.toString()}catch{}return pw(e)},_ne=/\((.*)\)/,Jg=fe("effect/Tracer/spanToTrace",()=>new WeakMap),yne=(e,t,n)=>{const r=[e],o=t.startsWith(e)?t.slice(e.length).split("\n"):t.split("\n");for(let s=1;s<o.length&&!o[s].includes("Generator.next");s++){if(o[s].includes("effect_internal_function")){r.pop();break}r.push(o[s].replace(/at .*effect_instruction_i.*\((.*)\)/,"at $1").replace(/EffectPrimitive\.\w+/,"<anonymous>"))}if(n){let s=n,i=0;for(;s&&"Span"===s._tag&&i<10;){const a=Jg.get(s);if("function"==typeof a){const c=a();if("string"==typeof c){const l=c.match(_ne),u=l?l[1]:c.replace(/^at /,"");r.push(`    at ${s.name} (${u})`)}else r.push(`    at ${s.name}`)}else r.push(`    at ${s.name}`);s=Vn(s.parent),i++}}return r.join("\n")},y1=Symbol.for("effect/SpanAnnotation"),b1=e=>Yg(e,void 0,{emptyCase:()=>[],dieCase:(t,n)=>[new Qg(n)],failCase:(t,n)=>[new Qg(n)],interruptCase:()=>[],parallelCase:(t,n,r)=>[...n,...r],sequentialCase:(t,n,r)=>[...n,...r]}),Qc="Pending",v1=Symbol.for("effect/Deferred"),bne={_E:e=>e,_A:e=>e},vne=e=>({_tag:Qc,joiners:e});class Jc{self;called=!1;constructor(t){this.self=t}next(t){return this.called?{value:t,done:!0}:(this.called=!0,{value:this.self,done:!1})}return(t){return{value:t,done:!0}}throw(t){throw t}[Symbol.iterator](){return new Jc(this.self)}}const dS=Symbol.for("effect/EffectError"),Zc=(e,t)=>{const n=new mt("Blocked");return n.effect_instruction_i0=e,n.effect_instruction_i1=t,n},ki=Symbol.for("effect/Effect");class Sne{patch;op;_op=mw;constructor(t,n){this.patch=t,this.op=n}}class mt{_op;effect_instruction_i0=void 0;effect_instruction_i1=void 0;effect_instruction_i2=void 0;trace=void 0;[ki]=yc;constructor(t){this._op=t}[J](t){return this===t}[Q](){return $e(this,sg(this))}pipe(){return V(this,arguments)}toJSON(){return{_id:"Effect",_op:this._op,effect_instruction_i0:Ge(this.effect_instruction_i0),effect_instruction_i1:Ge(this.effect_instruction_i1),effect_instruction_i2:Ge(this.effect_instruction_i2)}}toString(){return pt(this.toJSON())}[qe](){return this.toJSON()}[Symbol.iterator](){return new Jc(new gf(this))}}class S1{_op;effect_instruction_i0=void 0;effect_instruction_i1=void 0;effect_instruction_i2=void 0;trace=void 0;[ki]=yc;constructor(t){this._op=t,this._tag=t}[J](t){return um(t)&&"Failure"===t._op&&j(this.effect_instruction_i0,t.effect_instruction_i0)}[Q](){return _(nt(this._tag),re(F(this.effect_instruction_i0)),$e(this))}get cause(){return this.effect_instruction_i0}pipe(){return V(this,arguments)}toJSON(){return{_id:"Exit",_tag:this._op,cause:this.cause.toJSON()}}toString(){return pt(this.toJSON())}[qe](){return this.toJSON()}[Symbol.iterator](){return new Jc(new gf(this))}}class D1{_op;effect_instruction_i0=void 0;effect_instruction_i1=void 0;effect_instruction_i2=void 0;trace=void 0;[ki]=yc;constructor(t){this._op=t,this._tag=t}[J](t){return um(t)&&"Success"===t._op&&j(this.effect_instruction_i0,t.effect_instruction_i0)}[Q](){return _(nt(this._tag),re(F(this.effect_instruction_i0)),$e(this))}get value(){return this.effect_instruction_i0}pipe(){return V(this,arguments)}toJSON(){return{_id:"Exit",_tag:this._op,value:Ge(this.value)}}toString(){return pt(this.toJSON())}[qe](){return this.toJSON()}[Symbol.iterator](){return new Jc(new gf(this))}}const Pe=e=>z(e,ki),me=e=>{const t=new mt(VN);return t.effect_instruction_i0=e,t},Zg=h(3,(e,t,n)=>jt(r=>b(e,o=>b(wt(H(()=>r(t(o)))),s=>H(()=>n(o,s)).pipe(St({onFailure:i=>{switch(s._tag){case Ne:return de(Ze(s.effect_instruction_i0,i));case Fe:return de(i)}},onSuccess:()=>s})))))),it=h(2,(e,t)=>b(e,()=>C(t))),Lt=e=>it(e,void 0),em=function(){const e=new mt(cg);switch(arguments.length){case 2:e.effect_instruction_i0=arguments[0],e.commit=arguments[1];break;case 3:e.effect_instruction_i0=arguments[0],e.effect_instruction_i1=arguments[1],e.commit=arguments[2];break;case 4:e.effect_instruction_i0=arguments[0],e.effect_instruction_i1=arguments[1],e.effect_instruction_i2=arguments[2],e.commit=arguments[3];break;default:throw new Error(pf("you're not supposed to end up here"))}return e},zt=(e,t=Io)=>em(e,function(){let n,r;function o(c){n?n(c):void 0===r&&(r=c)}const s=new mt(_f);let i,a;return s.effect_instruction_i0=c=>{n=c,r&&c(r)},s.effect_instruction_i1=t,1!==this.effect_instruction_i0.length?(a=new AbortController,i=Nt(()=>this.effect_instruction_i0(o,a.signal))):i=Nt(()=>this.effect_instruction_i0(o)),i||a?Fi(s,c=>(a&&a.abort(),i??Y)):s}),xi=h(2,(e,t)=>nn(e,{onFailure:t,onSuccess:C})),tm=Symbol.for("effect/SpanAnnotation"),nm=Symbol.for("effect/OriginalAnnotation"),pS=(e,t)=>ae(t)?new Proxy(e,{has:(n,r)=>r===tm||r===nm||r in n,get:(n,r)=>r===tm?t.value:r===nm?e:n[r]}):e,Ri=e=>ng(e)&&!(tm in e)?me(t=>de(Wt(pS(e,US(t))))):de(Wt(e)),Wf=e=>Xf(()=>Wt(new Yne(e))),Ai=e=>nn(e,{onFailure:t=>C(en(t)),onSuccess:t=>C(rt(t))}),wt=e=>gS(e,{onFailure:he,onSuccess:be}),se=e=>ng(e)&&!(tm in e)?me(t=>de(Ao(pS(e,US(t))))):de(Ao(e)),sr=e=>b(M(e),se),de=e=>{const t=new S1(Ne);return t.effect_instruction_i0=e,t},Xf=e=>b(M(e),de),el=me(e=>C(e.id())),No=e=>me(t=>e(t.id())),b=h(2,(e,t)=>{const n=new mt(ug);return n.effect_instruction_i0=e,n.effect_instruction_i1=t,n}),I1=e=>{const t=new mt("OnStep");return t.effect_instruction_i0=e,t},ir=e=>b(e,ve),gS=h(2,(e,t)=>St(e,{onFailure:n=>C(t.onFailure(n)),onSuccess:n=>C(t.onSuccess(n))})),St=h(2,(e,t)=>{const n=new mt(fg);return n.effect_instruction_i0=e,n.effect_instruction_i1=t.onFailure,n.effect_instruction_i2=t.onSuccess,n}),nn=h(2,(e,t)=>St(e,{onFailure:n=>{if((e=>vs(Yc(e,qt(),(t,n)=>n._tag===Hc?T(_(t,Qe(n.defect))):I())))(n).length>0)return de((e=>Ti(e,{onEmpty:or,onFail:t=>Wt(t),onDie:t=>Wt(t),onInterrupt:t=>Un(t),onSequential:(t,n)=>Ze(t,n),onParallel:(t,n)=>Pt(t,n)}))(n));const o=(e=>vs(Yc(e,qt(),(t,n)=>n._tag===$c?T(_(t,Qe(n.error))):I())))(n);return o.length>0?t.onFailure(LF(o)):de(n)},onSuccess:t.onSuccess})),Mn=h(2,(e,t)=>H(()=>{const n=oe(e),r=Iw(n.length);let o=0;return it(sm({while:()=>o<n.length,body:()=>t(n[o],o),step:s=>{r[o++]=s}}),r)})),Kr=h(2,(e,t)=>H(()=>{const n=oe(e);let r=0;return sm({while:()=>r<n.length,body:()=>t(n[r],r),step:()=>{r++}})})),Ni=e=>{const t=new mt(mi);return t.effect_instruction_i0=(e=>ko(e,e))(1),t.effect_instruction_i1=()=>e,t},R=h(2,(e,t)=>b(e,n=>M(()=>t(n)))),mS=h(2,(e,t)=>nn(e,{onFailure:n=>sr(()=>t.onFailure(n)),onSuccess:n=>M(()=>t.onSuccess(n))})),Kf=h(2,(e,t)=>St(e,{onFailure:n=>{const r=Gc(n);switch(r._tag){case"Left":return sr(()=>t(r.left));case"Right":return de(r.right)}},onSuccess:C})),Yr=h(2,(e,t)=>jt(n=>St(n(e),{onFailure:r=>{const o=he(r);return St(t(o),{onFailure:s=>he(Ze(r,s)),onSuccess:()=>o})},onSuccess:r=>{const o=be(r);return De(t(o),o)}}))),Fi=h(2,(e,t)=>Yr(e,hm({onFailure:n=>uS(n)?Lt(t((e=>Yc(e,ws(),(t,n)=>n._tag===qc?T(_(t,kf(n.fiberId))):I()))(n))):Y,onSuccess:()=>Y}))),C=e=>{const t=new D1(Fe);return t.effect_instruction_i0=e,t},H=e=>{const t=new mt(cg);return t.commit=e,t},M=e=>{const t=new mt("Sync");return t.effect_instruction_i0=e,t},Pi=h(e=>3===e.length||2===e.length&&!(ng(e[1])&&"onlyEffect"in e[1]),(e,t)=>b(e,n=>{const r="function"==typeof t?t(n):t;return Pe(r)?it(r,n):(e=>z(e,"then")&&hi(e.then))(r)?zt(o=>{r.then(s=>o(C(n)),s=>o(se(new Hi(s))))}):C(n)})),Li=e=>{const t=new mt(mi);return t.effect_instruction_i0=t1(1),t.effect_instruction_i1=()=>e,t},jt=e=>em(e,function(){const t=new mt(mi);return t.effect_instruction_i0=t1(1),t.effect_instruction_i1=n=>Kg(n)?Nt(()=>this.effect_instruction_i0(Ni)):Nt(()=>this.effect_instruction_i0(Li)),t}),Y=C(void 0),sm=e=>{const t=new mt(dg);return t.effect_instruction_i0=e.while,t.effect_instruction_i1=e.body,t.effect_instruction_i2=e.step,t},ji=e=>{const t=new mt(hg);return typeof e?.priority<"u"?q1(t,e.priority):t},im=h(2,(e,t)=>b(e,n=>R(t,r=>[n,r]))),Jf=h(2,(e,t)=>b(e,n=>it(t,n))),De=h(2,(e,t)=>b(e,()=>t)),kr=h(2,(e,t)=>b(e.interruptAsFork(t),()=>e.await)),bS={_tag:"Info",syslog:6,label:"INFO",ordinal:2e4,pipe(){return V(this,arguments)}},vS={_tag:"Debug",syslog:7,label:"DEBUG",ordinal:1e4,pipe(){return V(this,arguments)}},Pne=Symbol.for("effect/FiberRef"),Lne={_A:e=>e},Qr=e=>me(t=>be(t.getFiberRef(e))),ar=h(2,(e,t)=>b(Qr(e),t)),nl=h(2,(e,t)=>B1(e,()=>[void 0,t])),B1=h(2,(e,t)=>me(n=>{const[r,o]=t(n.getFiberRef(e));return n.setFiberRef(e,o),C(r)})),rn=h(3,(e,t,n)=>Zg(Jf(Qr(t),nl(t,n)),()=>e,r=>nl(t,r))),xt=(e,t)=>rl(e,{differ:iS(),fork:t?.fork??ve,join:t?.join}),U1=e=>{const t=Tr({empty:TP(),combine:(e,t)=>Ug(t)(e),diff:(e,t)=>((e,t)=>{const n=new Map(e.unsafeMap);let r=TP();for(const[o,s]of t.unsafeMap.entries())if(n.has(o)){const i=n.get(o);n.delete(o),j(i,s)||(r=Ug($ee(o,()=>s))(r))}else n.delete(o),r=Ug(Bee(o,s))(r);for(const[o]of n.entries())r=Ug(Hee(o))(r);return r})(e,t),patch:(e,t)=>Wee(t)(e)});return rl(e,{differ:t,fork:t.empty})},rl=(e,t)=>({...Eo,[Pne]:Lne,initial:e,commit(){return Qr(this)},diff:(r,o)=>t.differ.diff(r,o),combine:(r,o)=>t.differ.combine(r,o),patch:r=>o=>t.differ.patch(r,o),fork:t.fork,join:t.join??((r,o)=>o)}),qne=e=>rl(e,{differ:ZP,fork:ZP.empty}),Or=fe(Symbol.for("effect/FiberRef/currentContext"),()=>U1(ps())),ol=fe(Symbol.for("effect/FiberRef/currentSchedulingPriority"),()=>xt(0)),ES=fe(Symbol.for("effect/FiberRef/currentMaxOpsBeforeYield"),()=>xt(2048)),Zf=fe(Symbol.for("effect/FiberRef/currentLogAnnotation"),()=>xt(Lg())),Wne=fe(Symbol.for("effect/FiberRef/currentLogLevel"),()=>xt(bS)),$1=fe(Symbol.for("effect/FiberRef/currentLogSpan"),()=>xt(Ci())),q1=h(2,(e,t)=>rn(e,ol,t)),z1=fe(Symbol.for("effect/FiberRef/currentUnhandledErrorLogLevel"),()=>xt(T(vS))),sl=fe(Symbol.for("effect/FiberRef/currentMetricLabels"),()=>(e=>{const t=VP(iS());return rl([],{differ:t,fork:t.empty})})()),cm=fe(Symbol.for("effect/FiberRef/currentForkScopeOverride"),()=>xt(I(),{fork:()=>I(),join:(e,t)=>e})),ed=fe(Symbol.for("effect/FiberRef/currentInterruptedCause"),()=>xt(or,{fork:()=>or,join:(e,t)=>e})),K1=function(){class e extends globalThis.Error{commit(){return se(this)}toJSON(){return{...this}}[qe](){return this.toString!==globalThis.Error.prototype.toString?this.stack?`${this.toString()}\n${this.stack.split("\n").slice(1).join("\n")}`:this.toString():"Bun"in globalThis?$f(Ao(this),{renderErrorCause:!0}):this}}return Object.assign(e.prototype,_w),e}(),Vi=(e,t)=>{class n extends K1{_tag=t}return Object.assign(n.prototype,e),n.prototype.name=t,n},MS=Symbol.for("effect/Cause/errors/RuntimeException"),Yne=Vi({[MS]:MS},"RuntimeException"),TS=Symbol.for("effect/Cause/errors/InterruptedException"),OS=Symbol.for("effect/Cause/errors/NoSuchElement"),Is=Vi({[OS]:OS},"NoSuchElementException"),NS=Symbol.for("effect/Cause/errors/UnknownException"),Hi=function(){class e extends K1{cause;_tag="UnknownException";error;constructor(n,r){super(r??"An unknown error occurred",{cause:n}),this.cause=n,this.error=n}}return Object.assign(e.prototype,{[NS]:NS,name:"UnknownException"}),e}(),um=e=>Pe(e)&&"_tag"in e&&("Success"===e._tag||"Failure"===e._tag),Ui=(e,t)=>bre(e,t?.parallel?Pt:Ze),$i=e=>he(Ao(e)),he=e=>{const t=new S1(Ne);return t.effect_instruction_i0=e,t},dm=h(2,(e,t)=>{switch(e._tag){case Ne:return he(e.effect_instruction_i0);case Fe:return be(t(e.effect_instruction_i0))}}),hm=h(2,(e,{onFailure:t,onSuccess:n})=>{switch(e._tag){case Ne:return t(e.effect_instruction_i0);case Fe:return n(e.effect_instruction_i0)}}),be=e=>{const t=new D1(Fe);return t.effect_instruction_i0=e,t},qn=be(void 0),Jr=h(3,(e,t,{onFailure:n,onSuccess:r})=>{switch(e._tag){case Ne:switch(t._tag){case Fe:return he(e.effect_instruction_i0);case Ne:return he(n(e.effect_instruction_i0,t.effect_instruction_i0))}case Fe:switch(t._tag){case Fe:return be(r(e.effect_instruction_i0,t.effect_instruction_i0));case Ne:return he(t.effect_instruction_i0)}}}),bre=(e,t)=>{const n=Ic(e);return ot(n)?_(Je(n),yi(_(ye(n),dm(Ot)),(r,o)=>_(r,Jr(o,{onSuccess:(s,i)=>_(s,Qe(i)),onFailure:t}))),dm(vs),dm(r=>In(r)),T):I()},LS=e=>({...Eo,[v1]:bne,state:xf(vne([])),commit(){return cr(this)},blockingOn:e}),cr=e=>zt(t=>{const n=Co(e.state);switch(n._tag){case"Done":return t(n.effect);case Qc:return n.joiners.push(t),Ore(e,t)}},e.blockingOn),BS=(e,t)=>{const n=Co(e.state);if(n._tag===Qc){Rf(e.state,(e=>({_tag:"Done",effect:e}))(t));for(let r=0,o=n.joiners.length;r<o;r++)n.joiners[r](t)}},Ore=(e,t)=>M(()=>{const n=Co(e.state);if(n._tag===Qc){const r=n.joiners.indexOf(t);r>=0&&n.joiners.splice(r,1)}}),US=e=>{const t=e.currentSpan;return void 0!==t&&"Span"===t._tag?T(t):I()},$S=Symbol.for("effect/Clock"),Po=_i("effect/Clock"),rL={unsafeSchedule(e,t){const n=Mc(t);if(n>2147483647)return hs;let r=!1;const o=setTimeout(()=>{r=!0,e()},n);return()=>(clearTimeout(o),!r)}},oL=function(){const e=BigInt(1e6);if(typeof performance>"u")return()=>BigInt(Date.now())*e;if("number"==typeof performance.timeOrigin&&0===performance.timeOrigin)return()=>BigInt(Math.round(1e6*performance.now()));const t=BigInt(Date.now())*e-BigInt(Math.round(1e6*performance.now()));return()=>t+BigInt(Math.round(1e6*performance.now()))}(),Fre=function(){const e="object"==typeof process&&"hrtime"in process&&"function"==typeof process.hrtime.bigint?process.hrtime:void 0;if(!e)return oL;const t=oL()-e.bigint();return()=>t+e.bigint()}();class Pre{[$S]=$S;unsafeCurrentTimeMillis(){return Date.now()}unsafeCurrentTimeNanos(){return Fre()}currentTimeMillis=M(()=>this.unsafeCurrentTimeMillis());currentTimeNanos=M(()=>this.unsafeCurrentTimeNanos());scheduler(){return C(rL)}sleep(t){return zt(n=>{const r=rL.unsafeSchedule(()=>n(Y),t);return Lt(M(r))})}}const sL=()=>new Pre,ks=fF,cL="InvalidData",lL="MissingData",uL="SourceUnavailable",fL="Unsupported",qS=Symbol.for("effect/ConfigError"),ll={_tag:"ConfigError",[qS]:qS},dL=(e,t)=>{const n=Object.create(ll);return n._op="And",n.left=e,n.right=t,Object.defineProperty(n,"toString",{enumerable:!1,value(){return`${this.left} and ${this.right}`}}),n},hL=(e,t)=>{const n=Object.create(ll);return n._op="Or",n.left=e,n.right=t,Object.defineProperty(n,"toString",{enumerable:!1,value(){return`${this.left} or ${this.right}`}}),n},jre=(e,t,n={pathDelim:"."})=>{const r=Object.create(ll);return r._op=cL,r.path=e,r.message=t,Object.defineProperty(r,"toString",{enumerable:!1,value(){return`(Invalid data at ${_(this.path,bi(n.pathDelim))}: "${this.message}")`}}),r},qi=(e,t,n={pathDelim:"."})=>{const r=Object.create(ll);return r._op=lL,r.path=e,r.message=t,Object.defineProperty(r,"toString",{enumerable:!1,value(){return`(Missing data at ${_(this.path,bi(n.pathDelim))}: "${this.message}")`}}),r},Bre=(e,t,n,r={pathDelim:"."})=>{const o=Object.create(ll);return o._op=uL,o.path=e,o.message=t,o.cause=n,Object.defineProperty(o,"toString",{enumerable:!1,value(){return`(Source unavailable at ${_(this.path,bi(r.pathDelim))}: "${this.message}")`}}),o},Vre=(e,t,n={pathDelim:"."})=>{const r=Object.create(ll);return r._op=fL,r.path=e,r.message=t,Object.defineProperty(r,"toString",{enumerable:!1,value(){return`(Unsupported operation at ${_(this.path,bi(n.pathDelim))}: "${this.message}")`}}),r},Wi=h(2,(e,t)=>{switch(e._op){case"And":return dL(Wi(e.left,t),Wi(e.right,t));case"Or":return hL(Wi(e.left,t),Wi(e.right,t));case cL:return jre([...t,...e.path],e.message);case lL:return qi([...t,...e.path],e.message);case uL:return Bre([...t,...e.path],e.message,e.cause);case fL:return Vre([...t,...e.path],e.message)}}),$re={_tag:"Empty"},WS=h(2,(e,t)=>{let n=Qw(t),r=e;for(;Yw(n);){const o=n.head;switch(o._tag){case"Empty":n=n.tail;break;case"AndThen":n=Di(o.first,Di(o.second,n.tail));break;case"MapName":r=Cc(r,o.f),n=n.tail;break;case"Nested":r=bg(r,o.name),n=n.tail;break;case"Unnested":if(!_(vf(r),UQ(o.name)))return en(qi(r,`Expected ${o.name} to be in path in ConfigProvider#unnested`));r=ys(r),n=n.tail}}return rt(r)}),gm=(e,t)=>[...e,...t],pL=Symbol.for("effect/ConfigProvider"),mm=_i("effect/ConfigProvider"),gL=Symbol.for("effect/ConfigProviderFlat"),toe=e=>({[pL]:pL,pipe(){return V(this,arguments)},...e}),noe=e=>{const{pathDelim:t,seqDelim:n}=Object.assign({},{pathDelim:"_",seqDelim:","},e),s=()=>typeof process<"u"&&"env"in process&&"object"==typeof process.env?process.env:{};return(e=>toe({load:t=>b(ur(e,[],t,!1),n=>jn(vf(n),{onNone:()=>se(qi([],`Expected a single value having structure: ${t}`)),onSome:C})),flattened:e}))((e=>({[gL]:gL,patch:e.patch,load:(t,n,r=!0)=>e.load(t,n,r),enumerateChildren:e.enumerateChildren}))({load:(c,l,u=!0)=>{const f=(c=>_(c,bi(t)))(c),d=s();return _(f in d?T(d[f]):I(),Kf(()=>qi(c,`Expected ${f} to exist in the process context`)),b(g=>_L(g,c,l,n,u)))},enumerateChildren:c=>M(()=>{const l=s(),d=Object.keys(l).map(p=>(c=>c.split(t))(p.toUpperCase())).filter(p=>{for(let g=0;g<c.length;g++){const m=_(c,EF(g)),y=p[g];if(void 0===y||m!==y)return!1}return!0}).flatMap(p=>p.slice(c.length,c.length+1));return(e=>{const t=Pc(Xr());for(const n of e)tr(t,n);return Lc(t)})(d)}),patch:$re}))},ur=(e,t,n,r)=>{const o=n;switch(o._tag){case"Constant":return C(Zn(o.value));case"Described":return H(()=>ur(e,t,o.config,r));case"Fail":return se(qi(t,o.message));case"Fallback":return _(H(()=>ur(e,t,o.first,r)),xi(s=>o.condition(s)?_(ur(e,t,o.second,r),xi(i=>se(hL(s,i)))):se(s)));case"Lazy":return H(()=>ur(e,t,o.config(),r));case"MapOrFail":return H(()=>_(ur(e,t,o.original,r),b(Mn(s=>_(o.mapOrFail(s),Kf(Wi(((e,t)=>{let n=t;if("Nested"===n._tag){const r=e.slice();for(;"Nested"===n._tag;)r.push(n.name),n=n.config;return r}return e})(t,o.original))))))));case"Nested":return H(()=>ur(e,gm(t,Zn(o.name)),o.config,r));case"Primitive":return _(WS(t,e.patch),b(s=>_(e.load(s,o,r),b(i=>{if(0===i.length){const a=_((e=>$t(e)?T(Mw(e)):I())(s),Bn(()=>"<n/a>"));return se(qi([],`Expected ${o.description} with name ${a}`))}return C(i)}))));case"Sequence":return _(WS(t,e.patch),b(s=>_(e.enumerateChildren(s),b(loe),b(i=>0===i.length?H(()=>R(ur(e,t,o.config,!0),Zn)):_(Mn(i,a=>ur(e,aJ(t,`[${a}]`),o.config,!0)),R(a=>{const c=IF(a);return Zn(0===c.length?[]:c)}))))));case"HashMap":return H(()=>_(WS(t,e.patch),b(s=>_(e.enumerateChildren(s),b(i=>_(i,Mn(a=>ur(e,gm(s,Zn(a)),o.valueConfig,r)),R(a=>0===a.length?Zn(Lg()):_(coe(a),Cc(c=>nee(DF(oe(i),c)))))))))));case"ZipWith":return H(()=>_(ur(e,t,o.left,r),Ai,b(s=>_(ur(e,t,o.right,r),Ai,b(i=>{if(Dn(s)&&Dn(i))return se(dL(s.left,i.left));if(Dn(s)&&bc(i))return se(s.left);if(bc(s)&&Dn(i))return se(i.left);if(bc(s)&&bc(i)){const a=_(t,bi(".")),c=ioe(t,a),[l,u]=((e,t,n,r)=>{const o=TF(n.length,c=>c>=r.length?I():T([e(c),c+1])),s=TF(r.length,c=>c>=n.length?I():T([t(c),c+1]));return[gm(n,o),gm(r,s)]})(c,c,_(s.right,Cc(rt)),_(i.right,Cc(rt)));return _(l,DF(u),Mn(([f,d])=>_(im(f,d),R(([p,g])=>o.zip(p,g)))))}throw new Error("BUG: ConfigProvider.fromFlatLoop - please report an issue at https://github.com/Effect-TS/effect/issues")})))))}},ioe=(e,t)=>n=>en(qi(e,`The element at index ${n} in a sequence at path "${t}" was missing`)),_L=(e,t,n,r,o)=>o?_(((e,t)=>e.split(new RegExp(`\\s*${(e=>e.replace(/[/\\^$*+?.()|[\]{}]/g,"\\$&"))(t)}\\s*`)))(e,r),Mn(s=>n.parse(s.trim())),Kf(Wi(t))):_(n.parse(e),mS({onFailure:Wi(t),onSuccess:Zn})),coe=e=>Object.keys(e[0]).map(t=>e.map(n=>n[t])),loe=e=>_(Mn(e,doe),mS({onFailure:()=>[],onSuccess:Ef(ks)}),Ai,R(rF)),foe=/^(\[(\d+)\])$/,doe=e=>{const t=e.match(foe);if(null!==t){const n=t[2];return _(void 0!==n&&n.length>0?T(n):I(),cF(yL))}return I()},yL=e=>{const t=Number.parseInt(e);return Number.isNaN(t)?I():T(t)},bL=Symbol.for("effect/Console"),ul=_i("effect/Console"),boe={[bL]:bL,assert:(e,...t)=>M(()=>{console.assert(e,...t)}),clear:M(()=>{console.clear()}),count:e=>M(()=>{console.count(e)}),countReset:e=>M(()=>{console.countReset(e)}),debug:(...e)=>M(()=>{console.debug(...e)}),dir:(e,t)=>M(()=>{console.dir(e,t)}),dirxml:(...e)=>M(()=>{console.dirxml(...e)}),error:(...e)=>M(()=>{console.error(...e)}),group:e=>M(e?.collapsed?()=>console.groupCollapsed(e?.label):()=>console.group(e?.label)),groupEnd:M(()=>{console.groupEnd()}),info:(...e)=>M(()=>{console.info(...e)}),log:(...e)=>M(()=>{console.log(...e)}),table:(e,t)=>M(()=>{console.table(e,t)}),time:e=>M(()=>console.time(e)),timeEnd:e=>M(()=>console.timeEnd(e)),timeLog:(e,...t)=>M(()=>{console.timeLog(e,...t)}),trace:(...e)=>M(()=>{console.trace(...e)}),warn:(...e)=>M(()=>{console.warn(...e)}),unsafe:console},vL=Symbol.for("effect/Random"),ym=_i("effect/Random");class voe{seed;[vL]=vL;PRNG;constructor(t){this.seed=t,this.PRNG=new KY(t)}get next(){return M(()=>this.PRNG.number())}get nextBoolean(){return R(this.next,t=>t>.5)}get nextInt(){return M(()=>this.PRNG.integer(Number.MAX_SAFE_INTEGER))}nextRange(t,n){return R(this.next,r=>(n-t)*r+t)}nextIntBetween(t,n){return M(()=>this.PRNG.integer(n-t)+t)}shuffle(t){return Eoe(t,n=>this.nextIntBetween(0,n))}}const Eoe=(e,t)=>H(()=>_(M(()=>Array.from(e)),b(n=>{const r=[];for(let o=n.length;o>=2;o-=1)r.push(o);return _(r,Kr(o=>_(t(o),R(s=>woe(n,o-1,s)))),it(Ic(n)))}))),woe=(e,t,n)=>{const r=e[t];return e[t]=e[n],e[n]=r,e},Soe=e=>new voe(F(e)),zS=Symbol.for("effect/Tracer"),EL=e=>({[zS]:zS,...e}),zi=_i("effect/Tracer"),Lo=_i("effect/ParentSpan"),wL=function(){return function(n){let r="";for(let o=0;o<n;o++)r+="abcdef0123456789".charAt(Math.floor(16*Math.random()));return r}}();class Doe{name;parent;context;links;startTime;kind;_tag="Span";spanId;traceId="native";sampled=!0;status;attributes;events=[];constructor(t,n,r,o,s,i){this.name=t,this.parent=n,this.context=r,this.links=o,this.startTime=s,this.kind=i,this.status={_tag:"Started",startTime:s},this.attributes=new Map,this.traceId="Some"===n._tag?n.value.traceId:wL(32),this.spanId=wL(16)}end(t,n){this.status={_tag:"Ended",endTime:t,exit:n,startTime:this.status.startTime}}attribute(t,n){this.attributes.set(t,n)}event(t,n,r){this.events.push([t,n,r??{}])}}const Coe=EL({span:(e,t,n,r,o,s)=>new Doe(e,t,n,r,o,s),context:e=>e()}),Moe=_(ps(),Ft(Po,sL()),Ft(ul,boe),Ft(ym,Soe(Math.random())),Ft(mm,noe()),Ft(zi,Coe)),Rt=fe(Symbol.for("effect/DefaultServices/currentServices"),()=>U1(Moe)),joe=bf,Boe=sQ;class Em extends Boe{}const dl={_tag:"Sequential"};const eD=Symbol.for("effect/FiberRefs");class Os{locals;[eD]=eD;constructor(t){this.locals=t}pipe(){return V(this,arguments)}}const kL=h(3,(e,t,n)=>{const r=new Map(e.locals);return n.locals.forEach((o,s)=>{const i=o[0][1];if(!o[0][0][J](t)){if(!r.has(s)){if(j(i,s.initial))return;return void r.set(s,[[t,s.join(s.initial,i)]])}const a=r.get(s),[c,l]=((e,t,n,r=!1)=>{const o=e;let c,s=t,i=n,a=r;for(;void 0===c;)if($t(s)&&$t(i)){const l=Cn(s)[0],u=ys(s),f=Cn(i)[0],d=Cn(i)[1],p=ys(i);l.startTimeMillis<f.startTimeMillis?(i=p,a=!0):l.startTimeMillis>f.startTimeMillis?s=u:l.id<f.id?(i=p,a=!0):l.id>f.id?s=u:c=[d,a]}else c=[o.initial,!0];return c})(s,a,o);if(l){const u=s.diff(c,i),f=a[0][1],d=s.join(f,s.patch(u)(f));if(!j(f,d)){let p;const g=a[0][0];p=g[J](t)?[[g,d],...a.slice(1)]:[[t,d],...a],r.set(s,p)}}}}),new Os(r)}),OL=h(2,(e,t)=>{const n=new Map;return xL(e,n,t),new Os(n)}),xL=(e,t,n)=>{e.locals.forEach((r,o)=>{const s=r[0][1],i=o.patch(o.fork)(s);j(s,i)?t.set(o,r):t.set(o,[[n,i],...r])})},tD=h(2,(e,t)=>{const n=new Map(e.locals);return n.delete(t),new Os(n)}),AL=h(2,(e,t)=>e.locals.has(t)?T(Cn(e.locals.get(t))[1]):I()),hl=h(2,(e,t)=>_(AL(e,t),Bn(()=>t.initial))),wm=h(2,(e,{fiberId:t,fiberRef:n,value:r})=>{if(0===e.locals.size)return new Os(new Map([[n,[[t,r]]]]));const o=new Map(e.locals);return nD(o,t,n,r),new Os(o)}),nD=(e,t,n,r)=>{const o=e.get(n)??[];let s;if($t(o)){const[i,a]=Cn(o);if(i[J](t)){if(j(a,r))return;s=[[t,r],...o.slice(1)]}else s=[[t,r],...o]}else s=[[t,r]];e.set(n,s)},Goe=hl,Qoe=h(2,(e,{entries:t,forkAs:n})=>{if(0===e.locals.size)return new Os(new Map(t));const r=new Map(e.locals);return void 0!==n&&xL(e,r,n),t.forEach(([o,s])=>{1===s.length?nD(r,s[0][0],o,s[0][1]):s.forEach(([i,a])=>{nD(r,i,o,a)})}),new Os(r)}),Joe=function qoe(){return function TL(e){return new Os(e)}(new Map)},BL="AndThen",VL={_tag:"Empty"},Sm=h(2,(e,t)=>({_tag:BL,first:e,second:t})),id=(e,t)=>{const n=new Map(e.locals);let r=VL;for(const[o,s]of t.locals.entries()){const i=Cn(s)[1],a=n.get(o);if(void 0!==a){const c=Cn(a)[1];j(c,i)||(r=Sm({_tag:"Update",fiberRef:o,patch:o.diff(c,i)})(r))}else r=Sm({_tag:"Add",fiberRef:o,value:i})(r);n.delete(o)}for(const[o]of n.entries())r=Sm({_tag:"Remove",fiberRef:o})(r);return r},ad=h(3,(e,t,n)=>{let r=n,o=Zn(e);for(;$t(o);){const s=Cn(o),i=ys(o);switch(s._tag){case"Empty":o=i;break;case"Add":r=wm(r,{fiberId:t,fiberRef:s.fiberRef,value:s.value}),o=i;break;case"Remove":r=tD(r,s.fiberRef),o=i;break;case"Update":{const a=hl(r,s.fiberRef);r=wm(r,{fiberId:t,fiberRef:s.fiberRef,value:s.fiberRef.patch(s.patch)(a)}),o=i;break}case BL:o=bg(s.first)(bg(s.second)(i))}}return r}),Dm="effect/FiberStatus",xs=Symbol.for(Dm),Cm="Done",oD="Running",sD="Suspended",Zoe=nt(`${Dm}-${Cm}`);class ese{[xs]=xs;_tag=Cm;[Q](){return Zoe}[J](t){return Im(t)&&t._tag===Cm}}class tse{runtimeFlags;[xs]=xs;_tag=oD;constructor(t){this.runtimeFlags=t}[Q](){return _(F(Dm),re(F(this._tag)),re(F(this.runtimeFlags)),$e(this))}[J](t){return Im(t)&&t._tag===oD&&this.runtimeFlags===t.runtimeFlags}}class nse{runtimeFlags;blockingOn;[xs]=xs;_tag=sD;constructor(t,n){this.runtimeFlags=t,this.blockingOn=n}[Q](){return _(F(Dm),re(F(this._tag)),re(F(this.runtimeFlags)),re(F(this.blockingOn)),$e(this))}[J](t){return Im(t)&&t._tag===sD&&this.runtimeFlags===t.runtimeFlags&&j(this.blockingOn,t.blockingOn)}}const Im=e=>z(e,xs),lse=new ese,UL=e=>new tse(e),XL=bS,mse=pF(_(ks,dF(e=>e.ordinal))),YL=Symbol.for("effect/Micro"),We=Symbol.for("effect/Micro/runSymbol"),iD={...joe,_op:"Micro",[YL]:{_A:ve,_E:ve,_R:ve},[Symbol.iterator](){return new Jc(new gf(this))}},aD=Symbol.for("effect/Micro/MicroCause"),vse={_E:ve};class cD extends globalThis.Error{_tag;traces;[aD];constructor(t,n,r){const o=`MicroCause.${t}`;let s,i,a;if(n instanceof globalThis.Error){s=`(${o}) ${n.name}`,i=n.message;const c=i.split("\n").length;a=n.stack?`(${o}) ${n.stack.split("\n").slice(0,c+3).join("\n")}`:`${s}: ${i}`}else s=o,i=_c(n,0),a=`${s}: ${i}`;r.length>0&&(a+=`\n    ${r.join("\n    ")}`),super(i),this._tag=t,this.traces=r,this[aD]=vse,this.name=s,this.stack=a}pipe(){return V(this,arguments)}toString(){return this.stack}[qe](){return this.stack}}class Sse extends cD{defect;constructor(t,n=[]){super("Die",t,n),this.defect=t}}class Cse extends cD{constructor(t=[]){super("Interrupt","interrupted",t)}}const Mm=en(((e=[])=>new Cse(e))()),kse={[Symbol.for("effect/Micro/Env")]:{_R:ve},pipe(){return V(this,arguments)}},Tm=e=>{const t=Object.create(kse);return t.refs=e,t},on=h(2,(e,t)=>t.key in e.refs?e.refs[t.key]:t.initial),ZL=h(3,(e,t,n)=>{const r=Object.assign(Object.create(null),e.refs);return r[t.key]=n,Tm(r)}),Rse="setImmediate"in globalThis?globalThis.setImmediate:e=>setTimeout(e,0);class km{tasks=[];running=!1;scheduleTask(t,n){this.tasks.push(t),this.running||(this.running=!0,Rse(this.afterScheduled))}afterScheduled=()=>{this.running=!1,this.runTasks()};runTasks(){const t=this.tasks;this.tasks=[];for(let n=0,r=t.length;n<r;n++)t[n]()}shouldYield(t){return!1}flush(){for(;this.tasks.length>0;)this.runTasks()}}const t2=Symbol.for("effect/Micro/EnvRef"),Ase={...iD,[t2]:t2,[We](e,t){(e=>et((t,n)=>n(rt(on(t,e)))))(this)[We](e,t)}},gl=(e,t)=>fe(e,()=>{const n=Object.create(Ase);return n.key=e,n.initial=t(),n}),Gi=gl("effect/Micro/currentAbortController",()=>{}),Tn=gl("effect/Micro/currentAbortSignal",()=>{}),Om=gl("effect/Micro/currentContext",()=>ps()),n2=gl("effect/Micro/currentMaxDepthBeforeYield",()=>2048),ml=gl("effect/Micro/currentInterruptible",()=>!0),_l=gl("effect/Micro/currentScheduler",()=>new km),yl=fe("effect/Micro/microDepthState",()=>({depth:0,maxDepthBeforeYield:n2.initial})),xm=(e,t)=>(e=>{const t=Object.create(iD);return t[We]=e,t})(function n(r,o){if(t&&!1!==r.refs[ml.key]&&r.refs[Tn.key].aborted)return o(Mm);yl.depth++,1===yl.depth&&(yl.maxDepthBeforeYield=on(r,n2));const s=r.refs[_l.key];if(yl.depth>=yl.maxDepthBeforeYield||s.shouldYield(r))s.scheduleTask(()=>n(r,o),0);else try{e(r,o)}catch(i){o((e=>en(((e,t=[])=>new Sse(e,t))(e)))(i))}yl.depth--}),et=e=>xm(e,!0);class Lm{buckets=[];scheduleTask(t,n){const r=this.buckets.length;let o,s=0;for(;s<r&&this.buckets[s][0]<=n;s++)o=this.buckets[s];o&&o[0]===n?o[1].push(t):s===r?this.buckets.push([n,[t]]):this.buckets.splice(s,0,[n,[t]])}}class die{maxNextTickBeforeTimer;running=!1;tasks=new Lm;constructor(t){this.maxNextTickBeforeTimer=t}starveInternal(t){const n=this.tasks.buckets;this.tasks.buckets=[];for(const[r,o]of n)for(let s=0;s<o.length;s++)o[s]();0===this.tasks.buckets.length?this.running=!1:this.starve(t)}starve(t=0){t>=this.maxNextTickBeforeTimer?setTimeout(()=>this.starveInternal(0),0):Promise.resolve(void 0).then(()=>this.starveInternal(t+1))}shouldYield(t){return t.currentOpCount>t.getFiberRef(ES)&&t.getFiberRef(ol)}scheduleTask(t,n){this.tasks.scheduleTask(t,n),this.running||(this.running=!0,this.starve())}}const hd=fe(Symbol.for("effect/Scheduler/defaultScheduler"),()=>new die(2048)),Bm=fe(Symbol.for("effect/FiberRef/currentScheduler"),()=>xt(hd)),bD=(e,t)=>({_tag:"Par",left:e,right:t}),pd=(e,t)=>({_tag:"Seq",left:e,right:t}),bie=e=>{let t=e,n=m2(),r=Ci(),o=Ci();for(;;)switch(t._tag){case"Empty":if(gt(r))return[n,o];t=r.head,r=r.tail;break;case"Par":r=Di(t.right,r),t=t.left;break;case"Seq":{const s=t.left,i=t.right;switch(s._tag){case"Empty":t=i;break;case"Par":{const c=s.right;t=bD(pd(s.left,i),pd(c,i));break}case"Seq":t=pd(s.left,pd(s.right,i));break;case"Single":t=s,o=Di(i,o)}break}case"Single":if(n=Iie(n,t),gt(r))return[n,o];t=r.head,r=r.tail}throw new Error("BUG: BlockedRequests.step - please report an issue at https://github.com/Effect-TS/effect/issues")},vie=(e,t)=>{if(gt(e))return Qw(wD(t));if(Tie(t))return e;const n=Nie(e.head),r=kie(t);return 1===n.length&&1===r.length&&j(n[0],r[0])?Di(Aie(e.head,wD(t)),e.tail):Di(wD(t),e)},Die=Symbol.for("effect/RequestBlock/RequestBlockParallel"),Cie={_R:e=>e};class Vm{map;[Die]=Cie;constructor(t){this.map=t}}const m2=()=>new Vm(Lg()),Iie=(e,t)=>new Vm(iee(e.map,t.dataSource,n=>BQ(wc(n,NF(t.blockedRequest)),()=>Ot(t.blockedRequest)))),Mie=(e,t)=>new Vm(Bg(e.map,t.map,(n,r,o)=>Gr(n,o,jn(jg(n,o),{onNone:()=>r,onSome:s=>er(r,s)})))),Tie=e=>(e=>e&&Mr(e._root))(e.map),kie=e=>Array.from(vP(e.map)),wD=e=>Rie(aee(e.map,t=>Ot(t))),Oie=Symbol.for("effect/RequestBlock/RequestBlockSequential"),xie={_R:e=>e};class _2{map;[Oie]=xie;constructor(t){this.map=t}}const Rie=e=>new _2(e),Aie=(e,t)=>new _2(Bg(t.map,e.map,(n,r,o)=>Gr(n,o,jn(jg(n,o),{onNone:()=>qt(),onSome:s=>er(s,r)})))),Nie=e=>Array.from(vP(e.map)),SD=fe(Symbol.for("effect/FiberRef/currentRequestMap"),()=>xt(new Map)),Uie=e=>t=>`${t.label.replace(/[\s="]/g,"_")}=${e-t.startTime}ms`,v2="effect/MetricLabel",CD=Symbol.for(v2);class Xie{key;value;[CD]=CD;_hash;constructor(t,n){this.key=t,this.value=n,this._hash=nt(v2+this.key+this.value)}[Q](){return this._hash}[J](t){return Gie(t)&&this.key===t.key&&this.value===t.value}pipe(){return V(this,arguments)}}const Um=(e,t)=>new Xie(e,t),Gie=e=>z(e,CD),ND="InterruptSignal",FD="Stateful",PD="Resume",LD="YieldNow",jD=e=>({_tag:ND,cause:e}),Ym=e=>({_tag:FD,onFiber:e}),El=e=>({_tag:PD,effect:e}),Qm=Symbol.for("effect/FiberScope");class $ce{[Qm]=Qm;fiberId=Io;roots=new Set;add(t,n){this.roots.add(n),n.addObserver(()=>{this.roots.delete(n)})}}class qce{fiberId;parent;[Qm]=Qm;constructor(t,n){this.fiberId=t,this.parent=n}add(t,n){this.parent.tell(Ym(r=>{r.addChild(n),n.addObserver(()=>{r.removeChild(n)})}))}}const wl=fe(Symbol.for("effect/FiberScope/Global"),()=>new $ce),Sl=Symbol.for("effect/Fiber"),Jm={_E:e=>e,_A:e=>e},BD=Symbol.for("effect/Fiber"),pn=e=>Jf(ir(e.await),e.inheritAll),Ns="effect/FiberCurrent",t_=Symbol.for("effect/Logger"),$D={_Message:e=>e,_Output:e=>e},ea=e=>({[t_]:$D,log:e,pipe(){return V(this,arguments)}}),ple=ea(({annotations:e,cause:t,date:n,fiberId:r,logLevel:o,message:s,spans:i})=>{const a=n.getTime();let l=[`timestamp=${n.toISOString()}`,`level=${o.label}`,`fiber=${Xw(r)}`].join(" ");const u=(e=>Array.isArray(e)?e:[e])(s);for(let f=0;f<u.length;f++){const d=_c(u[f]);d.length>0&&(l+=" message=",l=qD(d,l))}if(null!=t&&"Empty"!==t._tag&&(l+=" cause=",l=qD($f(t,{renderErrorCause:!0}),l)),Yw(i)){l+=" ";let f=!0;for(const d of i)f?f=!1:l+=" ",l+=_(d,Uie(a))}if(EP(e)>0){l+=" ";let f=!0;for(const[d,p]of e)f?f=!1:l+=" ",l+=sj(d),l+="=",l=qD(_c(p),l)}return l}),oj=/^[^\s"=]+$/,qD=(e,t)=>t+(e.match(oj)?e:(e=>`"${e.replace(/\\([\s\S])|(")/g,"\\$1$2")}"`)(e)),sj=e=>e.replace(/[\s="]/g,"_"),aj="object"==typeof process&&null!==process&&"object"==typeof process.stdout&&null!==process.stdout,Cl=(aj&&process,aj||globalThis,Symbol.for("effect/MetricKeyType")),lj="effect/MetricKeyType/Counter",WD=Symbol.for(lj),zD=Symbol.for("effect/MetricKeyType/Frequency"),XD=Symbol.for("effect/MetricKeyType/Gauge"),dj="effect/MetricKeyType/Histogram",GD=Symbol.for(dj),KD=Symbol.for("effect/MetricKeyType/Summary"),_d={_In:e=>e,_Out:e=>e};class Ile{incremental;bigint;[Cl]=_d;[WD]=WD;constructor(t,n){this.incremental=t,this.bigint=n,this._hash=nt(lj)}_hash;[Q](){return this._hash}[J](t){return pj(t)}pipe(){return V(this,arguments)}}class xle{boundaries;[Cl]=_d;[GD]=GD;constructor(t){this.boundaries=t,this._hash=_(nt(dj),re(F(this.boundaries)))}_hash;[Q](){return this._hash}[J](t){return _j(t)&&j(this.boundaries,t.boundaries)}pipe(){return V(this,arguments)}}const pj=e=>z(e,WD),_j=e=>z(e,GD),bj=Symbol.for("effect/MetricKey"),Fle={_Type:e=>e},Ple=kw(j);class Il{name;keyType;description;tags;[bj]=Fle;constructor(t,n,r,o=[]){this.name=t,this.keyType=n,this.description=r,this.tags=o,this._hash=_(nt(this.name+this.description),re(F(this.keyType)),re(pi(this.tags)))}_hash;[Q](){return this._hash}[J](t){return Lle(t)&&this.name===t.name&&j(this.keyType,t.keyType)&&j(this.description,t.description)&&Ple(this.tags,t.tags)}pipe(){return V(this,arguments)}}const Lle=e=>z(e,bj),Vle=h(2,(e,t)=>0===t.length?e:new Il(e.name,e.keyType,e.description,Dc(e.tags,t))),vj=Symbol.for("effect/MutableHashMap"),Hle={[vj]:vj,[Symbol.iterator](){return new YD(this)},toString(){return pt(this.toJSON())},toJSON(){return{_id:"MutableHashMap",values:Array.from(this).map(Ge)}},[qe](){return this.toJSON()},pipe(){return V(this,arguments)}};class YD{self;referentialIterator;bucketIterator;constructor(t){this.self=t,this.referentialIterator=t.referential[Symbol.iterator]()}next(){if(void 0!==this.bucketIterator)return this.bucketIterator.next();const t=this.referentialIterator.next();return t.done?(this.bucketIterator=new Ule(this.self.buckets.values()),this.next()):t}[Symbol.iterator](){return new YD(this.self)}}class Ule{backing;constructor(t){this.backing=t}currentBucket;next(){if(void 0===this.currentBucket){const n=this.backing.next();if(n.done)return n;this.currentBucket=n.value[Symbol.iterator]()}const t=this.currentBucket.next();return t.done?(this.currentBucket=void 0,this.next()):t}}const yd=()=>{const e=Object.create(Hle);return e.referential=new Map,e.buckets=new Map,e.bucketsSize=0,e},Bt=h(2,(e,t)=>{if(!1===mf(t))return e.referential.has(t)?T(e.referential.get(t)):I();const n=t[Q](),r=e.buckets.get(n);return void 0===r?I():qle(e,r,t)}),qle=(e,t,n,r=!1)=>{for(let o=0,s=t.length;o<s;o++)if(n[J](t[o][0])){const i=t[o][1];return r&&(t.splice(o,1),e.bucketsSize--),T(i)}return I()},Bo=h(2,(e,t)=>ae(Bt(e,t))),dr=h(3,(e,t,n)=>{if(!1===mf(t))return e.referential.set(t,n),e;const r=t[Q](),o=e.buckets.get(r);return void 0===o?(e.buckets.set(r,[[t,n]]),e.bucketsSize++,e):(Ej(e,o,t),o.push([t,n]),e.bucketsSize++,e)}),Ej=(e,t,n)=>{for(let r=0,o=t.length;r<o;r++)if(n[J](t[r][0]))return t.splice(r,1),void e.bucketsSize--},Tl=Symbol.for("effect/MetricState"),wj="effect/MetricState/Counter",JD=Symbol.for(wj),Sj="effect/MetricState/Frequency",ZD=Symbol.for(Sj),Dj="effect/MetricState/Gauge",eC=Symbol.for(Dj),Cj="effect/MetricState/Histogram",tC=Symbol.for(Cj),Ij="effect/MetricState/Summary",nC=Symbol.for(Ij),bd={_A:e=>e};class Wle{count;[Tl]=bd;[JD]=JD;constructor(t){this.count=t}[Q](){return _(F(wj),re(F(this.count)),$e(this))}[J](t){return nue(t)&&this.count===t.count}pipe(){return V(this,arguments)}}const zle=kw(j);class Xle{occurrences;[Tl]=bd;[ZD]=ZD;constructor(t){this.occurrences=t}_hash;[Q](){return _(nt(Sj),re(pi(oe(this.occurrences.entries()))),$e(this))}[J](t){return rue(t)&&zle(oe(this.occurrences.entries()),oe(t.occurrences.entries()))}pipe(){return V(this,arguments)}}class Gle{value;[Tl]=bd;[eC]=eC;constructor(t){this.value=t}[Q](){return _(F(Dj),re(F(this.value)),$e(this))}[J](t){return oue(t)&&this.value===t.value}pipe(){return V(this,arguments)}}class Kle{buckets;count;min;max;sum;[Tl]=bd;[tC]=tC;constructor(t,n,r,o,s){this.buckets=t,this.count=n,this.min=r,this.max=o,this.sum=s}[Q](){return _(F(Cj),re(F(this.buckets)),re(F(this.count)),re(F(this.min)),re(F(this.max)),re(F(this.sum)),$e(this))}[J](t){return sue(t)&&j(this.buckets,t.buckets)&&this.count===t.count&&this.min===t.min&&this.max===t.max&&this.sum===t.sum}pipe(){return V(this,arguments)}}class Yle{error;quantiles;count;min;max;sum;[Tl]=bd;[nC]=nC;constructor(t,n,r,o,s,i){this.error=t,this.quantiles=n,this.count=r,this.min=o,this.max=s,this.sum=i}[Q](){return _(F(Ij),re(F(this.error)),re(F(this.quantiles)),re(F(this.count)),re(F(this.min)),re(F(this.max)),re(F(this.sum)),$e(this))}[J](t){return iue(t)&&this.error===t.error&&j(this.quantiles,t.quantiles)&&this.count===t.count&&this.min===t.min&&this.max===t.max&&this.sum===t.sum}pipe(){return V(this,arguments)}}const nue=e=>z(e,JD),rue=e=>z(e,ZD),oue=e=>z(e,eC),sue=e=>z(e,tC),iue=e=>z(e,nC),aue=Symbol.for("effect/MetricHook"),cue={_In:e=>e,_Out:e=>e},vd=e=>({[aue]:cue,pipe(){return V(this,arguments)},...e}),Mj=BigInt(0),pue=(e,t,n)=>{const r=n.length;if(!$t(t))return[];const o=t[0],s=t.slice(1),i=Tj(e,r,I(),0,o,n),a=Zn(i);return s.forEach(c=>{a.push(Tj(e,r,i.value,i.consumed,c,i.rest))}),Cc(a,c=>[c.quantile,c.value])},Tj=(e,t,n,r,o,s)=>{let i=e,a=t,c=n,l=r,u=o,f=s,d=e,p=t,g=n,m=r,y=o,w=s;for(;;){if(!$t(f))return{quantile:u,value:I(),consumed:l,rest:[]};if(1===u)return{quantile:u,value:T(Mw(f)),consumed:l+f.length,rest:[]};const v=pJ(f,ze=>ze<=f[0]),k=u*a,N=i/2*k,$=l+v[0].length,le=Math.abs($-k);if($<k-N)d=i,p=a,g=vf(f),m=$,y=u,w=v[1],i=d,a=p,c=g,l=m,u=y,f=w;else{if($>k+N)return{quantile:u,value:c,consumed:l,rest:f};switch(c._tag){case"None":d=i,p=a,g=vf(f),m=$,y=u,w=v[1],i=d,a=p,c=g,l=m,u=y,f=w;continue;case"Some":if(le<Math.abs(k-c.value)){d=i,p=a,g=vf(f),m=$,y=u,w=v[1],i=d,a=p,c=g,l=m,u=y,f=w;continue}return{quantile:u,value:T(c.value),consumed:l,rest:f}}}}throw new Error("BUG: MetricHook.resolveQuantiles - please report an issue at https://github.com/Effect-TS/effect/issues")},kj=Symbol.for("effect/MetricPair"),Oj={_Type:e=>e},gue=(e,t)=>({[kj]:Oj,metricKey:e,metricState:t,pipe(){return V(this,arguments)}}),xj=Symbol.for("effect/MetricRegistry");class mue{[xj]=xj;map=yd();snapshot(){const t=[];for(const[n,r]of this.map)t.push(gue(n,r.get()));return t}get(t){const n=_(this.map,Bt(t),Vn);if(null==n){if(pj(t.keyType))return this.getCounter(t);if(z(t.keyType,XD))return this.getGauge(t);if((e=>z(e,zD))(t.keyType))return this.getFrequency(t);if(_j(t.keyType))return this.getHistogram(t);if((e=>z(e,KD))(t.keyType))return this.getSummary(t);throw new Error("BUG: MetricRegistry.get - unknown MetricKeyType - please report an issue at https://github.com/Effect-TS/effect/issues")}return n}getCounter(t){let n=_(this.map,Bt(t),Vn);if(null==n){const r=(e=>{let t=e.keyType.bigint?Mj:0;const n=e.keyType.incremental?e.keyType.bigint?o=>o>=Mj:o=>o>=0:o=>!0,r=o=>{n(o)&&(t+=o)};return vd({get:()=>(e=>new Wle(e))(t),update:r,modify:r})})(t);_(this.map,Bo(t))||_(this.map,dr(t,r)),n=r}return n}getFrequency(t){let n=_(this.map,Bt(t),Vn);if(null==n){const r=(e=>{const t=new Map;for(const r of e.keyType.preregisteredWords)t.set(r,0);const n=r=>{const o=t.get(r)??0;t.set(r,o+1)};return vd({get:()=>(e=>new Xle(e))(t),update:n,modify:n})})(t);_(this.map,Bo(t))||_(this.map,dr(t,r)),n=r}return n}getGauge(t){let n=_(this.map,Bt(t),Vn);if(null==n){const r=((e,t)=>{let n=t;return vd({get:()=>(e=>new Gle(e))(n),update:r=>{n=r},modify:r=>{n+=r}})})(0,t.keyType.bigint?BigInt(0):0);_(this.map,Bo(t))||_(this.map,dr(t,r)),n=r}return n}getHistogram(t){let n=_(this.map,Bt(t),Vn);if(null==n){const r=(e=>{const t=e.keyType.boundaries.values,n=t.length,r=new Uint32Array(n+1),o=new Float32Array(n);let s=0,i=0,a=Number.MAX_VALUE,c=Number.MIN_VALUE;_(t,Ef(ks),Cc((f,d)=>{o[d]=f}));const l=f=>{let d=0,p=n;for(;d!==p;){const g=Math.floor(d+(p-d)/2);f<=o[g]?p=g:d=g,p===d+1&&(f<=o[d]?p=d:d=p)}r[d]=r[d]+1,s+=1,i+=f,f<a&&(a=f),f>c&&(c=f)},u=()=>{const f=Iw(n);let d=0;for(let p=0;p<n;p++)d+=r[p],f[p]=[o[p],d];return f};return vd({get:()=>(e=>new Kle(e.buckets,e.count,e.min,e.max,e.sum))({buckets:u(),count:s,min:a,max:c,sum:i}),update:l,modify:l})})(t);_(this.map,Bo(t))||_(this.map,dr(t,r)),n=r}return n}getSummary(t){let n=_(this.map,Bt(t),Vn);if(null==n){const r=(e=>{const{error:t,maxAge:n,maxSize:r,quantiles:o}=e.keyType,s=_(o,Ef(ks)),i=Iw(r);let a=0,c=0,l=0,u=Number.MAX_VALUE,f=Number.MIN_VALUE;const d=g=>{const m=[];let y=0;for(;y!==r-1;){const w=i[y];if(null!=w){const[v,k]=w,N=Sf(g-v);XJ(N,jJ)&&N<=n&&m.push(k)}y+=1}return pue(t,s,Ef(m,ks))},p=(g,m)=>{r>0&&(a+=1,i[a%r]=[m,g]),c+=1,l+=g,g<u&&(u=g),g>f&&(f=g)};return vd({get:()=>(e=>new Yle(e.error,e.quantiles,e.count,e.min,e.max,e.sum))({error:t,quantiles:d(Date.now()),count:c,min:u,max:f,sum:l}),update:([g,m])=>p(g,m),modify:([g,m])=>p(g,m)})})(t);_(this.map,Bo(t))||_(this.map,dr(t,r)),n=r}return n}}const yue=Symbol.for("effect/Metric"),bue={_Type:e=>e,_In:e=>e,_Out:e=>e},rC=fe(Symbol.for("effect/Metric/globalMetricRegistry"),()=>new mue),n_=function(e,t,n,r){const o=Object.assign(s=>Pi(s,i=>Rj(o,i)),{[yue]:bue,keyType:e,unsafeUpdate:t,unsafeValue:n,unsafeModify:r,register(){return this.unsafeValue([]),this},pipe(){return V(this,arguments)}});return o},r_=(e,t)=>Ed(((e,t)=>new Il(e,(e=>new Ile(e?.incremental??!1,e?.bigint??!1))(t),Ec(t?.description)))(e,t)),Ed=e=>{let t;const n=new WeakMap,r=o=>{if(0===o.length)return void 0!==t||(t=rC.get(e)),t;let s=n.get(o);return void 0!==s||(s=rC.get(Vle(e,o)),n.set(o,s)),s};return n_(e.keyType,(o,s)=>r(s).update(o),o=>r(o).get(),(o,s)=>r(s).modify(o))},sC=(e,t,n)=>Ed(((e,t,n)=>new Il(e,(e=>new xle(e))(t),Ec(n)))(e,t,n)),iC=h(3,(e,t,n)=>wue(e,[Um(t,n)])),wue=h(2,(e,t)=>n_(e.keyType,(n,r)=>e.unsafeUpdate(n,Dc(t,r)),n=>e.unsafeValue(Dc(t,n)),(n,r)=>e.unsafeModify(n,Dc(t,r)))),Rj=h(2,(e,t)=>ar(sl,n=>M(()=>e.unsafeUpdate(t,n)))),Aj="effect/MetricBoundaries",aC=Symbol.for(Aj);class Due{values;[aC]=aC;constructor(t){this.values=t,this._hash=_(nt(Aj),re(pi(this.values)))}_hash;[Q](){return this._hash}[J](t){return Cue(t)&&j(this.values,t.values)}pipe(){return V(this,arguments)}}const Cue=e=>z(e,aC),Nj=e=>{const t=_(e,bF(Ot(Number.POSITIVE_INFINITY)),kJ);return new Due(t)},Iue=e=>_(((e,t)=>{const n=Math.max(1,Math.floor(e)),r=new Array(n);for(let o=0;o<n;o++)r[o]=t(o);return r})(e.count-1,t=>e.start*Math.pow(e.factor,t)),Hn,Nj),ta=h(2,(e,t)=>ar(SD,n=>M(()=>{if(n.has(e)){const r=n.get(e);r.state.completed||(r.state.completed=!0,BS(r.result,t))}}))),kl=Symbol.for("effect/Supervisor"),wd={_T:e=>e};class Ol{underlying;value0;[kl]=wd;constructor(t,n){this.underlying=t,this.value0=n}get value(){return this.value0}onStart(t,n,r,o){this.underlying.onStart(t,n,r,o)}onEnd(t,n){this.underlying.onEnd(t,n)}onEffect(t,n){this.underlying.onEffect(t,n)}onSuspend(t){this.underlying.onSuspend(t)}onResume(t){this.underlying.onResume(t)}map(t){return new Ol(this,_(this.value,R(t)))}zip(t){return new xl(this,t)}}class xl{left;right;_tag="Zip";[kl]=wd;constructor(t,n){this.left=t,this.right=n}get value(){return im(this.left.value,this.right.value)}onStart(t,n,r,o){this.left.onStart(t,n,r,o),this.right.onStart(t,n,r,o)}onEnd(t,n){this.left.onEnd(t,n),this.right.onEnd(t,n)}onEffect(t,n){this.left.onEffect(t,n),this.right.onEffect(t,n)}onSuspend(t){this.left.onSuspend(t),this.right.onSuspend(t)}onResume(t){this.left.onResume(t),this.right.onResume(t)}map(t){return new Ol(this,_(this.value,R(t)))}zip(t){return new xl(this,t)}}const Lj=e=>z(e,kl)&&rg(e,"Zip");class Lue{effect;[kl]=wd;constructor(t){this.effect=t}get value(){return this.effect}onStart(t,n,r,o){}onEnd(t,n){}onEffect(t,n){}onSuspend(t){}onResume(t){}map(t){return new Ol(this,_(this.value,R(t)))}zip(t){return new xl(this,t)}onRun(t,n){return t()}}const o_=fe("effect/Supervisor/none",()=>new Lue(Y)),Bj="AddSupervisor",Vj="RemoveSupervisor",Hj="AndThen",Sd={_tag:"Empty"},s_=(e,t)=>({_tag:Hj,first:e,second:t}),uC=(e,t)=>j(e,t)?o_:Lj(e)?uC(e.left,t).zip(uC(e.right,t)):e,i_=e=>j(e,o_)?ws():Lj(e)?_(i_(e.left),jc(i_(e.right))):Ag(e),que=Tr({empty:Sd,patch:(e,t)=>((e,t)=>{let n=e,r=t;for(;ot(r);){const o=ye(r);switch(o._tag){case"Empty":r=Je(r);break;case Bj:n=n.zip(o.supervisor),r=Je(r);break;case Vj:n=uC(n,o.supervisor),r=Je(r);break;case Hj:r=Qe(o.first)(Qe(o.second)(Je(r)))}}return n})(t,Ot(e)),combine:s_,diff:(e,t)=>{if(j(e,t))return Sd;const n=i_(e),r=i_(t),o=_(r,uP(n),Of(Sd,(i,a)=>s_(i,{_tag:Bj,supervisor:a}))),s=_(n,uP(r),Of(Sd,(i,a)=>s_(i,{_tag:Vj,supervisor:a})));return s_(o,s)}}),Wue=r_("effect_fiber_started",{incremental:!0}),Uj=r_("effect_fiber_active"),zue=r_("effect_fiber_successes",{incremental:!0}),Xue=r_("effect_fiber_failures",{incremental:!0}),Gue=iC(sC("effect_fiber_lifetimes",Iue({start:.5,factor:2,count:35})),"time_unit","milliseconds"),Dd="Continue",Yue={_E:e=>e,_A:e=>e},a_=e=>{throw new Error(`BUG: FiberRuntime - ${_c(e)} - please report an issue at https://github.com/Effect-TS/effect/issues`)},Vo=Symbol.for("effect/internal/fiberRuntime/YieldedOp"),Ho=fe("effect/internal/fiberRuntime/yieldedOpChannel",()=>({currentOp:null})),Cd={[ug]:(e,t,n)=>Nt(()=>t.effect_instruction_i1(n)),OnStep:(e,t,n)=>be(be(n)),[fg]:(e,t,n)=>Nt(()=>t.effect_instruction_i2(n)),[mw]:(e,t,n)=>(e.patchRuntimeFlags(e.currentRuntimeFlags,t.patch),xo(e.currentRuntimeFlags)&&e.isInterrupted()?he(e.getInterruptedCause()):be(n)),[dg]:(e,t,n)=>(Nt(()=>t.effect_instruction_i2(n)),Nt(()=>t.effect_instruction_i0())?(e.pushStack(t),Nt(()=>t.effect_instruction_i1())):Y),[yf]:(e,t,n)=>{const r=Nt(()=>t.effect_instruction_i0.next(n));return r.done?be(r.value):(e.pushStack(t),function QY(e){if("object"==typeof e&&null!==e&&uw in e)return e[uw]();throw new Error(pf("yieldWrapGet"))}(r.value))}},Que={[ND]:(e,t,n,r)=>(e.processNewInterruptSignal(r.cause),xo(t)?he(r.cause):n),[PD]:(e,t,n,r)=>{throw new Error("It is illegal to have multiple concurrent run loops in a single fiber")},[FD]:(e,t,n,r)=>(r.onFiber(e,UL(t)),n),[LD]:(e,t,n,r)=>b(ji(),()=>n)};class qj extends Em{[Sl]=Jm;[BD]=Yue;_fiberRefs;_fiberId;_queue=new Array;_children=null;_observers=new Array;_running=!1;_stack=[];_asyncInterruptor=null;_asyncBlockingOn=null;_exitValue=null;_steps=[];_isYielding=!1;currentRuntimeFlags;currentOpCount=0;currentSupervisor;currentScheduler;currentTracer;currentSpan;currentContext;currentDefaultServices;constructor(t,n,r){if(super(),this.currentRuntimeFlags=r,this._fiberId=t,this._fiberRefs=n,KP(r)){const o=this.getFiberRef(sl);Wue.unsafeUpdate(1,o),Uj.unsafeUpdate(1,o)}this.refreshRefCache()}commit(){return pn(this)}id(){return this._fiberId}resume(t){this.tell(El(t))}get status(){return this.ask((t,n)=>n)}get runtimeFlags(){return this.ask((t,n)=>n._tag===Cm?t.currentRuntimeFlags:n.runtimeFlags)}scope(){return new qce((e=this).id(),e);var e}get children(){return this.ask(t=>Array.from(t.getChildren()))}getChildren(){return null===this._children&&(this._children=new Set),this._children}getInterruptedCause(){return this.getFiberRef(ed)}fiberRefs(){return this.ask(t=>t.getFiberRefs())}ask(t){return H(()=>{const n=LS(this._fiberId);return this.tell(Ym((r,o)=>{BS(n,M(()=>t(r,o)))})),cr(n)})}tell(t){this._queue.push(t),this._running||(this._running=!0,this.drainQueueLaterOnExecutor())}get await(){return zt(t=>{const n=r=>t(C(r));return this.tell(Ym((r,o)=>{null!==r._exitValue?n(this._exitValue):r.addObserver(n)})),M(()=>this.tell(Ym((r,o)=>{r.removeObserver(n)})))},this.id())}get inheritAll(){return me((t,n)=>{const r=t.id(),o=t.getFiberRefs(),s=n.runtimeFlags,i=this.getFiberRefs(),a=kL(o,r,i);t.setFiberRefs(a);const c=t.getFiberRef(oB);return(e=>{const t=new mt(mi);return t.effect_instruction_i0=e,t.effect_instruction_i1=void 0,t})(_(Ro(s,c),n1(1),n1(16)))})}get poll(){return M(()=>Ec(this._exitValue))}unsafePoll(){return this._exitValue}interruptAsFork(t){return M(()=>this.tell(jD(Un(t))))}unsafeInterruptAsFork(t){this.tell(jD(Un(t)))}addObserver(t){null!==this._exitValue?t(this._exitValue):this._observers.push(t)}removeObserver(t){this._observers=this._observers.filter(n=>n!==t)}getFiberRefs(){return this.setFiberRef(oB,this.currentRuntimeFlags),this._fiberRefs}unsafeDeleteFiberRef(t){this._fiberRefs=tD(this._fiberRefs,t)}getFiberRef(t){return this._fiberRefs.locals.has(t)?this._fiberRefs.locals.get(t)[0][1]:t.initial}setFiberRef(t,n){this._fiberRefs=wm(this._fiberRefs,{fiberId:this._fiberId,fiberRef:t,value:n}),this.refreshRefCache()}refreshRefCache(){this.currentDefaultServices=this.getFiberRef(Rt),this.currentTracer=this.currentDefaultServices.unsafeMap.get(zi.key),this.currentSupervisor=this.getFiberRef(sB),this.currentScheduler=this.getFiberRef(Bm),this.currentContext=this.getFiberRef(Or),this.currentSpan=this.currentContext.unsafeMap.get(Lo.key)}setFiberRefs(t){this._fiberRefs=t,this.refreshRefCache()}addChild(t){this.getChildren().add(t)}removeChild(t){this.getChildren().delete(t)}drainQueueOnCurrentThread(){let t=!0;for(;t;){let n=Dd;const r=globalThis[Ns];globalThis[Ns]=this;try{for(;n===Dd;)n=0===this._queue.length?"Done":this.evaluateMessageWhileSuspended(this._queue.splice(0,1)[0])}finally{this._running=!1,globalThis[Ns]=r}this._queue.length>0&&!this._running?(this._running=!0,"Yield"===n?(this.drainQueueLaterOnExecutor(),t=!1):t=!0):t=!1}}drainQueueLaterOnExecutor(){this.currentScheduler.scheduleTask(this.run,this.getFiberRef(ol))}drainQueueWhileRunning(t,n){let r=n;for(;this._queue.length>0;){const o=this._queue.splice(0,1)[0];r=Que[o._tag](this,t,r,o)}return r}isInterrupted(){return!((e=this.getFiberRef(ed))._tag===Uc||Yc(e,!0,(t,n)=>{switch(n._tag){case Uc:return T(t);case Hc:case $c:case qc:return T(!1);default:return I()}}));var e}addInterruptedCause(t){const n=this.getFiberRef(ed);this.setFiberRef(ed,Ze(n,t))}processNewInterruptSignal(t){this.addInterruptedCause(t),this.sendInterruptSignalToAllChildren()}sendInterruptSignalToAllChildren(){if(null===this._children||0===this._children.size)return!1;let t=!1;for(const n of this._children)n.tell(jD(Un(this.id()))),t=!0;return t}interruptAllChildren(){if(this.sendInterruptSignalToAllChildren()){const t=this._children.values();this._children=null;let n=!1;return sm({while:()=>!n,body:()=>{const o=t.next();return o.done?M(()=>{n=!0}):Lt(o.value.await)},step:()=>{}})}return null}reportExitValue(t){if(KP(this.currentRuntimeFlags)){const n=this.getFiberRef(sl),r=this.id().startTimeMillis,o=Date.now();switch(Gue.unsafeUpdate(o-r,n),Uj.unsafeUpdate(-1,n),t._tag){case Fe:zue.unsafeUpdate(1,n);break;case Ne:Xue.unsafeUpdate(1,n)}}if("Failure"===t._tag){const n=this.getFiberRef(z1);!uS(t.cause)&&"Some"===n._tag&&this.log("Fiber terminated with an unhandled error",t.cause,n)}}setExitValue(t){this._exitValue=t,this.reportExitValue(t);for(let n=this._observers.length-1;n>=0;n--)this._observers[n](t)}getLoggers(){return this.getFiberRef(rfe)}log(t,n,r){const o=ae(r)?r.value:this.getFiberRef(Wne),s=this.getFiberRef(Zue);if(mse(s,o))return;const i=this.getFiberRef($1),a=this.getFiberRef(Zf),c=this.getLoggers(),l=this.getFiberRefs();if(Tf(c)>0){const u=gs(this.getFiberRef(Rt),Po),f=new Date(u.unsafeCurrentTimeMillis());((e,t)=>{const n=gi.fiberRefs;gi.fiberRefs=e;try{return t()}finally{gi.fiberRefs=n}})(l,()=>{for(const d of c)d.log({fiberId:this.id(),logLevel:o,message:t,cause:n,context:l,spans:i,annotations:a,date:f})})}}evaluateMessageWhileSuspended(t){switch(t._tag){case LD:return"Yield";case ND:return this.processNewInterruptSignal(t.cause),null!==this._asyncInterruptor&&(this._asyncInterruptor(he(t.cause)),this._asyncInterruptor=null),Dd;case PD:return this._asyncInterruptor=null,this._asyncBlockingOn=null,this.evaluateEffect(t.effect),Dd;case FD:return t.onFiber(this,null!==this._exitValue?lse:((e,t)=>new nse(e,t))(this.currentRuntimeFlags,this._asyncBlockingOn)),Dd;default:return a_(t)}}evaluateEffect(t){this.currentSupervisor.onResume(this);try{let n=xo(this.currentRuntimeFlags)&&this.isInterrupted()?he(this.getInterruptedCause()):t;for(;null!==n;){const o=this.runLoop(n);if(o===Vo){const s=Ho.currentOp;Ho.currentOp=null,s._op===hg?Ii(this.currentRuntimeFlags,32)?(this.tell({_tag:LD}),this.tell(El(qn)),n=null):n=qn:s._op===_f&&(n=null)}else{this.currentRuntimeFlags=_(this.currentRuntimeFlags,Zte(16));const s=this.interruptAllChildren();null!==s?n=b(s,()=>o):(0===this._queue.length?this.setExitValue(o):this.tell(El(o)),n=null)}}}finally{this.currentSupervisor.onSuspend(this)}}start(t){if(this._running)this.tell(El(t));else{this._running=!0;const n=globalThis[Ns];globalThis[Ns]=this;try{this.evaluateEffect(t)}finally{this._running=!1,globalThis[Ns]=n,this._queue.length>0&&this.drainQueueLaterOnExecutor()}}}startFork(t){this.tell(El(t))}patchRuntimeFlags(t,n){const r=Mi(t,n);return globalThis[Ns]=this,this.currentRuntimeFlags=r,r}initiateAsync(t,n){let r=!1;const o=s=>{r||(r=!0,this.tell(El(s)))};xo(t)&&(this._asyncInterruptor=o);try{n(o)}catch(s){o(de(Wt(s)))}}pushStack(t){this._stack.push(t),"OnStep"===t._op&&this._steps.push({refs:this.getFiberRefs(),flags:this.currentRuntimeFlags})}popStack(){const t=this._stack.pop();if(t)return"OnStep"===t._op&&this._steps.pop(),t}getNextSuccessCont(){let t=this.popStack();for(;t;){if(t._op!==lg)return t;t=this.popStack()}}getNextFailCont(){let t=this.popStack();for(;t;){if(t._op!==ug&&t._op!==dg&&t._op!==yf)return t;t=this.popStack()}}Tag(t){return M(()=>_g(this.currentContext,t))}Left(t){return se(t.left)}None(t){return se(new Is)}Right(t){return be(t.right)}Some(t){return be(t.value)}Micro(t){return((e,t=Io)=>{const n=new mt(_f);let r;return n.effect_instruction_i0=o=>{r=e(o)},n.effect_instruction_i1=t,Fi(n,o=>Pe(r)?r:Y)})(n=>{const r=(()=>{const e=new AbortController,t=Object.create(null);return t[Gi.key]=e,t[Tn.key]=e.signal,t[_l.key]=new km,Tm(t)})().pipe(ZL(Om,this.getFiberRef(Or)));let o=n;return t[We](r,s=>{if("Right"===s._tag)return o(be(s.right));switch(s.left._tag){case"Interrupt":return o(he(Un(Io)));case"Fail":return o(se(s.left.error));case"Die":return o(Ri(s.left.defect))}}),zt(s=>{o=i=>{s(Y)},on(r,Gi).abort()})})}Sync(t){const n=Nt(()=>t.effect_instruction_i0()),r=this.getNextSuccessCont();return void 0!==r?(r._op in Cd||a_(r),Cd[r._op](this,r,n)):(Ho.currentOp=be(n),Vo)}[Fe](t){const n=t,r=this.getNextSuccessCont();return void 0!==r?(r._op in Cd||a_(r),Cd[r._op](this,r,n.effect_instruction_i0)):(Ho.currentOp=n,Vo)}[Ne](t){const n=t.effect_instruction_i0,r=this.getNextFailCont();if(void 0===r)return Ho.currentOp=he(n),Vo;switch(r._op){case lg:case fg:return xo(this.currentRuntimeFlags)&&this.isInterrupted()?he(d1(n)):Nt(()=>r.effect_instruction_i1(n));case"OnStep":return xo(this.currentRuntimeFlags)&&this.isInterrupted()?he(d1(n)):be(he(n));case mw:return this.patchRuntimeFlags(this.currentRuntimeFlags,r.patch),xo(this.currentRuntimeFlags)&&this.isInterrupted()?he(Ze(n,this.getInterruptedCause())):he(n);default:a_(r)}}[VN](t){return Nt(()=>t.effect_instruction_i0(this,UL(this.currentRuntimeFlags)))}Blocked(t){const n=this.getFiberRefs(),r=this.currentRuntimeFlags;if(this._steps.length>0){const o=[],s=this._steps[this._steps.length-1];let i=this.popStack();for(;i&&"OnStep"!==i._op;)o.push(i),i=this.popStack();this.setFiberRefs(s.refs),this.currentRuntimeFlags=s.flags;const a=id(s.refs,n),c=Ro(s.flags,r);return be(Zc(t.effect_instruction_i0,me(l=>{for(;o.length>0;)l.pushStack(o.pop());return l.setFiberRefs(ad(l.id(),l.getFiberRefs())(a)),l.currentRuntimeFlags=Mi(c)(l.currentRuntimeFlags),t.effect_instruction_i1})))}return jt(o=>b(Al((e=>{const t=new mt("RunBlocked");return t.effect_instruction_i0=e,t})(t.effect_instruction_i0)),()=>o(t.effect_instruction_i1)))}RunBlocked(t){return Kr((e=>{let t=Qw(e),n=Ci();for(;;){const[r,o]=vee(t,[m2(),Ci()],([s,i],a)=>{const[c,l]=bie(a);return[Mie(s,c),gee(i,l)]});if(n=vie(n,r),gt(o))return Eee(n);t=o}throw new Error("BUG: BlockedRequests.flatten - please report an issue at https://github.com/Effect-TS/effect/issues")})(t.effect_instruction_i0),t=>na((e=>Array.from(e.map))(t),([n,r])=>{const o=new Map,s=[];for(const a of r){s.push(In(a));for(const c of a)o.set(c.request,c)}const i=s.flat();return rn(fB(n.runAll(s),i,()=>i.forEach(a=>{a.listeners.interrupted=!0})),SD,o)},!1,!1))}[mi](t){const n=t.effect_instruction_i0,r=this.currentRuntimeFlags,o=Mi(r,n);if(xo(o)&&this.isInterrupted())return he(this.getInterruptedCause());if(this.patchRuntimeFlags(this.currentRuntimeFlags,n),t.effect_instruction_i1){const s=Ro(o,r);return this.pushStack(new Sne(s,t)),Nt(()=>t.effect_instruction_i1(r))}return qn}[ug](t){return this.pushStack(t),t.effect_instruction_i0}OnStep(t){return this.pushStack(t),t.effect_instruction_i0}[lg](t){return this.pushStack(t),t.effect_instruction_i0}[fg](t){return this.pushStack(t),t.effect_instruction_i0}[_f](t){return this._asyncBlockingOn=t.effect_instruction_i1,this.initiateAsync(this.currentRuntimeFlags,t.effect_instruction_i0),Ho.currentOp=t,Vo}[hg](t){return this._isYielding=!1,Ho.currentOp=t,Vo}[dg](t){const r=t.effect_instruction_i1;return(0,t.effect_instruction_i0)()?(this.pushStack(t),r()):qn}[yf](t){return Cd[yf](this,t,void 0)}[cg](t){return Nt(()=>t.commit())}runLoop(t){let n=t;for(this.currentOpCount=0;;){if(2&this.currentRuntimeFlags&&this.currentSupervisor.onEffect(this,n),this._queue.length>0&&(n=this.drainQueueWhileRunning(this.currentRuntimeFlags,n)),!this._isYielding){this.currentOpCount+=1;const r=this.currentScheduler.shouldYield(this);if(!1!==r){this._isYielding=!0,this.currentOpCount=0;const o=n;n=b(ji({priority:r}),()=>o)}}try{if(n=this.currentTracer.context(()=>"3.10.14"!==n[ki]._V?Wf(`Cannot execute an Effect versioned ${n[ki]._V} with a Runtime of version 3.10.14`):this[n._op](n),this),n===Vo){const r=Ho.currentOp;return r._op===hg||r._op===_f?Vo:(Ho.currentOp=null,r._op===Fe||r._op===Ne?r:he(Wt(r)))}}catch(r){n=n!==Vo&&!z(n,"_op")||!(n._op in this)?Wf(`Not a valid effect: ${_c(n)}`):z(r,dS)?he(r.cause):z(r,TS)?he(Ze(Wt(r),Un(Io))):Ri(r)}}}run=()=>{this.drainQueueOnCurrentThread()}}const Zue=fe("effect/FiberRef/currentMinimumLogLevel",()=>xt(XL)),tfe=fe(Symbol.for("effect/Logger/defaultLogger"),()=>{return e=ple,ea(t=>{const n=Goe(t.context,Rt);gs(n,ul).unsafe.log(e.log(t))});var e}),nfe=fe(Symbol.for("effect/Logger/tracerLogger"),()=>ea(({annotations:e,cause:t,context:n,fiberId:r,logLevel:o,message:s})=>{const i=ms(hl(n,Or),Lo);if("None"===i._tag||"ExternalSpan"===i.value._tag)return;const a=_g(hl(n,Rt),Po),c={};for(const[l,u]of e)c[l]=u;c["effect.fiberId"]=eee(r),c["effect.logLevel"]=o.label,null!==t&&"Empty"!==t._tag&&(c["effect.cause"]=$f(t,{renderErrorCause:!0})),i.value.event(_c(Array.isArray(s)?s[0]:s),a.unsafeCurrentTimeNanos(),c)})),rfe=fe(Symbol.for("effect/FiberRef/currentLoggers"),()=>(e=>{const t=BP();return rl(e,{differ:t,fork:t.empty})})(Ag(tfe,nfe))),na=(e,t,n,r,o)=>jt(s=>(e=>me(t=>{const r=_(t.getFiberRef(cm),Bn(()=>t.scope()));return e(rn(cm,T(r)))}))(i=>me(a=>{let c=Array.from(e).reverse(),l=c.length;if(0===l)return Y;let u=0,f=!1;const d=o?Math.min(c.length,o):c.length,p=new Set,g=new Array,y=new Array,w=new Array,v=new Array,k=()=>{const Xe=g.filter(({exit:S})=>"Failure"===S._tag).sort((S,Wn)=>S.index<Wn.index?-1:S.index===Wn.index?0:1).map(({exit:S})=>S);return 0===Xe.length&&Xe.push(qn),Xe},N=(Xe,S=!1)=>{const Wn=Li(i(Xe)),gn=mfe(Wn,a,a.currentRuntimeFlags,wl);return a.currentScheduler.scheduleTask(()=>{S&&gn.unsafeInterruptAsFork(a.id()),gn.resume(Wn)},0),gn},$=()=>{r||(l-=c.length,c=[]),f=!0,p.forEach(Xe=>{Xe.currentScheduler.scheduleTask(()=>{Xe.unsafeInterruptAsFork(a.id())},0)})},le=n?I1:wt,ze=N(zt(Xe=>{const S=(gn,eo)=>{"Blocked"===gn._op?v.push(gn):(g.push({index:eo,exit:gn}),"Failure"===gn._op&&!f&&$())},Wn=()=>{if(c.length>0){const gn=c.pop();let eo=u++;const S_=()=>{const zn=c.pop();return eo=u++,b(ji(),()=>b(le(s(t(zn,eo))),ia))},ia=zn=>c.length>0&&(S(zn,eo),c.length>0)?S_():C(zn),D_=b(le(s(t(gn,eo))),ia),to=N(D_);y.push(to),p.add(to),f&&to.currentScheduler.scheduleTask(()=>{to.unsafeInterruptAsFork(a.id())},0),to.addObserver(zn=>{let Rd;if(Rd="Failure"===zn._op?zn:zn.effect_instruction_i0,w.push(to),p.delete(to),S(Rd,eo),g.length===l)Xe(C(Bn(Ui(k(),{parallel:!0}),()=>qn)));else if(v.length+g.length===l){const VC=v.map(Ad=>Ad.effect_instruction_i0).reduce(bD);Xe(C(Zc(VC,na([Bn(Ui(k(),{parallel:!0}),()=>qn),...v.map(Ad=>Ad.effect_instruction_i1)],Ad=>Ad,n,!0,o))))}else Wn()})}};for(let gn=0;gn<d;gn++)Wn()}));return Lt(Yr(ir(s(pn(ze))),hm({onFailure:()=>{$();const Xe=v.length+1,S=Math.min("number"==typeof o?o:v.length,v.length),Wn=Array.from(v);return zt(gn=>{const eo=[];let S_=0,ia=0;const D_=(zn,Rd)=>VC=>{eo[zn]=VC,S_++,S_===Xe&&gn(aF(Ui(eo,{parallel:!0}))),Wn.length>0&&Rd&&to()},to=()=>{N(Wn.pop(),!0).addObserver(D_(ia,!0)),ia++};ze.addObserver(D_(ia,!1)),ia++;for(let zn=0;zn<S;zn++)to()})},onSuccess:()=>Mn(w,Xe=>Xe.inheritAll)})))}))),Al=e=>_fe(e,wl),mfe=(e,t,n,r=null)=>f_(e,t,n,r),f_=(e,t,n,r=null)=>{const o=bP(),s=t.getFiberRefs(),i=OL(s,o),a=new qj(o,i,n),c=hl(i,Or),l=a.currentSupervisor;return l.onStart(c,e,T(t),a),a.addObserver(f=>l.onEnd(f,a)),(null!==r?r:_(t.getFiberRef(cm),Bn(()=>t.scope()))).add(n,a),a},_fe=(e,t)=>me((n,r)=>C(((e,t,n,r=null)=>{const o=f_(e,t,n,r);return o.resume(e),o})(e,n,r.runtimeFlags,t))),jfe=e=>rl(e,{differ:que,fork:Sd}),oB=qne(ene),sB=jfe(o_),fB=(e,t,n)=>No(r=>b(b(Al(Ni(e)),o=>zt(s=>{const i=t.map(l=>l.listeners.count),a=()=>{i.every(l=>0===l)&&t.every(l=>"Pending"===l.result.state.current._tag||!("Done"!==l.result.state.current._tag||!um(l.result.state.current.effect)||"Failure"!==l.result.state.current.effect._tag||!(e=>ae(ine(e)))(l.result.state.current.effect.cause)))&&(c.forEach(l=>l()),n?.(),s((e=>b(el,t=>_(e,kr(t))))(o)))};o.addObserver(l=>{c.forEach(u=>u()),s(l)});const c=t.map((l,u)=>{const f=d=>{i[u]=d,a()};return l.listeners.addObserver(f),()=>l.listeners.removeObserver(f)});return a(),M(()=>{c.forEach(l=>l())})})),()=>H(()=>{const o=t.flatMap(s=>s.state.completed?[]:[s]);return Kr(o,s=>ta(s.request,(e=>he(Un(e)))(r)))}))),Nhe=(e,t)=>e.close(t),Fhe=(e,t)=>e.fork(t),v_=e=>(t,n)=>{const r=bP(),o=[[Or,[[r,e.context]]]];n?.scheduler&&o.push([Bm,[[r,n.scheduler]]]);let s=Qoe(e.fiberRefs,{entries:o,forkAs:r});n?.updateRefs&&(s=n.updateRefs(s,r));const i=new qj(r,s,e.runtimeFlags);let a=t;n?.scope&&(a=b(Fhe(n.scope,dl),l=>De(((e,t)=>e.addFinalizer(()=>Lt(t)))(l,No(u=>j(u,i.id())?Y:kr(i,u))),Yr(t,u=>Nhe(l,u)))));const c=i.currentSupervisor;return c!==o_&&(c.onStart(e.context,a,I(),i),i.addObserver(l=>c.onEnd(l,i))),wl.add(e.runtimeFlags,i),!1===n?.immediate?i.resume(a):i.start(a),i};Error;const E_=Symbol.for("effect/Runtime/FiberFailure"),AC=Symbol.for("effect/Runtime/FiberFailure/Cause");class Bhe extends Error{[E_];[AC];constructor(t){super(),this[E_]=E_,this[AC]=t;const n=b1(t);if(n.length>0){const r=n[0];this.name=r.name,this.message=r.message,this.stack=r.stack}this.name=`(FiberFailure) ${this.name}`,(void 0===this.message||0===this.message.length)&&(this.message="An error has occurred")}toJSON(){return{_id:"FiberFailure",cause:this[AC].toJSON()}}toString(){return"(FiberFailure) "+(this.stack??this.message)}[qe](){return this.toString()}}const Vhe=e=>(t,n)=>nV(e)(t,n).then(r=>{switch(r._tag){case Fe:return r.effect_instruction_i0;case Ne:throw(e=>{const t=Error.stackTraceLimit;Error.stackTraceLimit=0;const n=new Bhe(e);return Error.stackTraceLimit=t,n})(r.effect_instruction_i0)}}),nV=e=>(t,n)=>new Promise(r=>{const o=(e=>{const t=e;switch(t._op){case"Failure":case"Success":return t;case"Left":return $i(t.left);case"Right":return be(t.right);case"Some":return be(t.value);case"None":return $i(Is())}})(t);o&&r(o);const s=v_(e)(t);s.addObserver(i=>{r(i)}),void 0!==n?.signal&&(n.signal.aborted?s.unsafeInterruptAsFork(s.id()):n.signal.addEventListener("abort",()=>{s.unsafeInterruptAsFork(s.id())},{once:!0}))});class rV{context;runtimeFlags;fiberRefs;constructor(t,n,r){this.context=t,this.runtimeFlags=n,this.fiberRefs=r}pipe(){return V(this,arguments)}}const qhe=Vhe((e=>new rV(e.context,e.runtimeFlags,e.fiberRefs))({context:ps(),runtimeFlags:GP(1,32,4),fiberRefs:Joe()}));Symbol;Symbol;const Vpe=e=>{let t,n;return"function"==typeof e?t=e:(t=e.try,n=e.catch),zt(t.length>=1?(r,o)=>{try{t(o).then(s=>r(be(s)),s=>r(n?sr(()=>n(s)):se(new Hi(s))))}catch(s){r(n?sr(()=>n(s)):se(new Hi(s)))}}:r=>{try{t().then(o=>r(be(o)),o=>r(n?sr(()=>n(o)):se(new Hi(o))))}catch(o){r(n?sr(()=>n(o)):se(new Hi(o)))}})},Hpe=qhe;let $pe=(()=>{class e{constructor(n){this.http=n,this.genresUrl="api/genres"}getGenres(){const n=Vpe({try:()=>function Upe(e,t){const n="object"==typeof t;return new Promise((r,o)=>{let i,s=!1;e.subscribe({next:a=>{i=a,s=!0},error:o,complete:()=>{s?r(i):n?r(t.defaultValue):o(new rw)}})})}(this.http.get(this.genresUrl)),catch:()=>new Error("Can't get genres")});return Hpe(n)}static#e=this.\u0275fac=function(r){return new(r||e)(L(lN))};static#t=this.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),qpe=(()=>{class e{constructor(n){this.loader=n}intercept(n,r){return this.loader.start(),r.handle(n).pipe(YE(()=>this.loader.complete()))}static#e=this.\u0275fac=function(r){return new(r||e)(L(GE))};static#t=this.\u0275prov=W({token:e,factory:e.\u0275fac})}return e})();let Wpe=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Yo({type:e,bootstrap:[zK]});static#n=this.\u0275inj=ro({providers:[{provide:"IManageGenres",useClass:$pe},{provide:dN,useClass:qpe,multi:!0}],imports:[K7,bY,OK,jY.forRoot(BY,{dataEncapsulation:!1})]})}return e})();X7().bootstrapModule(Wpe).catch(e=>console.error(e))}},Ll=>{Ll(Ll.s=6)}]);